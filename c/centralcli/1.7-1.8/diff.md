# Comparing `tmp/centralcli-1.7.tar.gz` & `tmp/centralcli-1.8.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "centralcli-1.7.tar", max compression
+gzip compressed data, was "centralcli-1.8.tar", max compression
```

## Comparing `centralcli-1.7.tar` & `centralcli-1.8.tar`

### file list

```diff
@@ -1,48 +1,49 @@
--rw-r--r--   0        0        0    11929 2022-07-11 23:06:32.918521 centralcli-1.7/README.md
--rw-r--r--   0        0        0     3924 2023-06-16 18:31:40.327908 centralcli-1.7/centralcli/__init__.py
--rw-r--r--   0        0        0     1266 2022-09-23 14:08:18.905345 centralcli-1.7/centralcli/boilerplate/README.md
--rw-r--r--   0        0        0  1080145 2023-06-10 14:09:43.613064 centralcli-1.7/centralcli/boilerplate/allcalls.py
--rw-r--r--   0        0        0   168637 2022-09-23 14:10:56.815345 centralcli-1.7/centralcli/boilerplate/configuration.py
--rw-r--r--   0        0        0    23734 2022-09-23 14:12:10.005345 centralcli-1.7/centralcli/boilerplate/firmware.py
--rw-r--r--   0        0        0    37375 2022-09-23 14:14:48.045345 centralcli-1.7/centralcli/boilerplate/guest.py
--rw-r--r--   0        0        0    55587 2022-09-23 14:18:58.145345 centralcli-1.7/centralcli/boilerplate/wlan.py
--rw-r--r--   0        0        0    12139 2022-06-03 00:05:56.000000 centralcli-1.7/centralcli/caas.py
--rw-r--r--   0        0        0    80066 2023-06-20 18:38:26.384372 centralcli-1.7/centralcli/cache.py
--rw-r--r--   0        0        0   200227 2023-06-16 09:26:09.045820 centralcli-1.7/centralcli/central.py
--rw-r--r--   0        0        0    39789 2023-06-16 17:09:16.160843 centralcli-1.7/centralcli/cleaner.py
--rw-r--r--   0        0        0    40388 2023-06-17 06:14:26.603861 centralcli-1.7/centralcli/cli.py
--rw-r--r--   0        0        0    29703 2023-06-07 16:20:54.400957 centralcli-1.7/centralcli/cliadd.py
--rw-r--r--   0        0        0     4729 2022-07-14 03:34:30.218521 centralcli-1.7/centralcli/cliassign.py
--rw-r--r--   0        0        0    50683 2023-05-04 03:15:53.898642 centralcli-1.7/centralcli/clibatch.py
--rw-r--r--   0        0        0    16403 2022-06-18 06:04:41.177341 centralcli-1.7/centralcli/clicaas.py
--rw-r--r--   0        0        0     2995 2022-01-02 22:57:26.000000 centralcli-1.7/centralcli/cliclone.py
--rw-r--r--   0        0        0    22958 2023-06-20 18:39:50.084373 centralcli-1.7/centralcli/clicommon.py
--rw-r--r--   0        0        0    21359 2023-01-31 22:11:43.015287 centralcli-1.7/centralcli/clidel.py
--rw-r--r--   0        0        0     3251 2022-06-17 04:56:34.221894 centralcli-1.7/centralcli/clirefresh.py
--rw-r--r--   0        0        0     5494 2023-06-17 06:48:47.270573 centralcli-1.7/centralcli/clirename.py
--rw-r--r--   0        0        0   119420 2023-06-17 03:14:51.560590 centralcli-1.7/centralcli/clishow.py
--rw-r--r--   0        0        0     3943 2022-04-14 02:45:35.000000 centralcli-1.7/centralcli/clishowbranch.py
--rw-r--r--   0        0        0     7645 2022-09-23 00:12:29.685345 centralcli-1.7/centralcli/clishowfirmware.py
--rw-r--r--   0        0        0    12980 2023-05-04 02:10:12.446341 centralcli-1.7/centralcli/clishowospf.py
--rw-r--r--   0        0        0    21550 2023-06-15 05:39:44.166523 centralcli-1.7/centralcli/clishowwids.py
--rw-r--r--   0        0        0     8262 2022-07-14 01:24:31.928521 centralcli-1.7/centralcli/clitest.py
--rw-r--r--   0        0        0     6379 2022-09-15 06:49:16.849375 centralcli-1.7/centralcli/clitshoot.py
--rw-r--r--   0        0        0     5245 2022-07-14 00:35:03.158521 centralcli-1.7/centralcli/cliunassign.py
--rw-r--r--   0        0        0    24271 2023-06-17 05:39:24.294216 centralcli-1.7/centralcli/cliupdate.py
--rw-r--r--   0        0        0     9386 2023-06-15 11:32:13.159987 centralcli-1.7/centralcli/cliupgrade.py
--rw-r--r--   0        0        0    18349 2023-06-16 18:44:49.430786 centralcli-1.7/centralcli/config.py
--rw-r--r--   0        0        0    37127 2023-06-17 06:48:14.911291 centralcli-1.7/centralcli/constants.py
--rw-r--r--   0        0        0      160 2022-12-14 19:38:57.975685 centralcli-1.7/centralcli/exceptions.py
--rw-r--r--   0        0        0     6501 2022-02-23 03:21:04.000000 centralcli-1.7/centralcli/logger.py
--rw-r--r--   0        0        0     2298 2023-06-15 05:35:53.155263 centralcli-1.7/centralcli/models.py
--rw-r--r--   0        0        0    16827 2023-06-17 03:57:05.435242 centralcli-1.7/centralcli/render.py
--rw-r--r--   0        0        0    36417 2023-06-16 18:56:01.314032 centralcli-1.7/centralcli/response.py
--rw-r--r--   0        0        0       96 2021-10-13 20:41:19.000000 centralcli-1.7/centralcli/setup.py
--rw-r--r--   0        0        0     1150 2022-02-10 22:18:16.000000 centralcli-1.7/centralcli/static/favicon.ico
--rw-r--r--   0        0        0     9269 2023-06-17 03:27:31.140143 centralcli-1.7/centralcli/strings.py
--rw-r--r--   0        0        0    31046 2022-10-06 02:15:00.061699 centralcli-1.7/centralcli/utils.py
--rw-r--r--   0        0        0     5407 2022-04-29 01:09:46.000000 centralcli-1.7/centralcli/vscodeargs.py
--rw-r--r--   0        0        0    15567 2022-12-28 03:21:15.553278 centralcli-1.7/centralcli/wh_proxy.py
--rw-r--r--   0        0        0      393 2022-01-14 00:45:59.000000 centralcli-1.7/centralcli/wh_proxy_service.py
--rw-r--r--   0        0        0     2014 2023-06-20 18:52:15.464412 centralcli-1.7/pyproject.toml
--rw-r--r--   0        0        0    13902 1970-01-01 00:00:00.000000 centralcli-1.7/PKG-INFO
+-rw-r--r--   0        0        0    11929 2022-07-11 23:06:32.918521 centralcli-1.8/README.md
+-rw-r--r--   0        0        0     3924 2023-06-16 18:31:40.327908 centralcli-1.8/centralcli/__init__.py
+-rw-r--r--   0        0        0     1266 2022-09-23 14:08:18.905345 centralcli-1.8/centralcli/boilerplate/README.md
+-rw-r--r--   0        0        0  1080145 2023-06-10 14:09:43.613064 centralcli-1.8/centralcli/boilerplate/allcalls.py
+-rw-r--r--   0        0        0   168637 2022-09-23 14:10:56.815345 centralcli-1.8/centralcli/boilerplate/configuration.py
+-rw-r--r--   0        0        0    23734 2022-09-23 14:12:10.005345 centralcli-1.8/centralcli/boilerplate/firmware.py
+-rw-r--r--   0        0        0    37375 2022-09-23 14:14:48.045345 centralcli-1.8/centralcli/boilerplate/guest.py
+-rw-r--r--   0        0        0    55587 2022-09-23 14:18:58.145345 centralcli-1.8/centralcli/boilerplate/wlan.py
+-rw-r--r--   0        0        0    12139 2022-06-03 00:05:56.000000 centralcli-1.8/centralcli/caas.py
+-rw-r--r--   0        0        0    80066 2023-06-20 18:38:26.384372 centralcli-1.8/centralcli/cache.py
+-rw-r--r--   0        0        0   200700 2023-06-27 01:38:19.537097 centralcli-1.8/centralcli/central.py
+-rw-r--r--   0        0        0    40224 2023-06-27 02:10:08.612451 centralcli-1.8/centralcli/cleaner.py
+-rw-r--r--   0        0        0    40105 2023-06-23 04:22:05.419561 centralcli-1.8/centralcli/cli.py
+-rw-r--r--   0        0        0    29703 2023-06-07 16:20:54.400957 centralcli-1.8/centralcli/cliadd.py
+-rw-r--r--   0        0        0     4729 2022-07-14 03:34:30.218521 centralcli-1.8/centralcli/cliassign.py
+-rw-r--r--   0        0        0    50683 2023-05-04 03:15:53.898642 centralcli-1.8/centralcli/clibatch.py
+-rw-r--r--   0        0        0    16403 2022-06-18 06:04:41.177341 centralcli-1.8/centralcli/clicaas.py
+-rw-r--r--   0        0        0     2995 2022-01-02 22:57:26.000000 centralcli-1.8/centralcli/cliclone.py
+-rw-r--r--   0        0        0    22962 2023-06-23 04:15:40.029576 centralcli-1.8/centralcli/clicommon.py
+-rw-r--r--   0        0        0    21359 2023-01-31 22:11:43.015287 centralcli-1.8/centralcli/clidel.py
+-rw-r--r--   0        0        0     3251 2022-06-17 04:56:34.221894 centralcli-1.8/centralcli/clirefresh.py
+-rw-r--r--   0        0        0     5494 2023-06-17 06:48:47.270573 centralcli-1.8/centralcli/clirename.py
+-rw-r--r--   0        0        0   120388 2023-06-27 02:00:39.330924 centralcli-1.8/centralcli/clishow.py
+-rw-r--r--   0        0        0     3943 2022-04-14 02:45:35.000000 centralcli-1.8/centralcli/clishowbranch.py
+-rw-r--r--   0        0        0     7645 2022-09-23 00:12:29.685345 centralcli-1.8/centralcli/clishowfirmware.py
+-rw-r--r--   0        0        0    12980 2023-05-04 02:10:12.446341 centralcli-1.8/centralcli/clishowospf.py
+-rw-r--r--   0        0        0     5161 2023-06-27 02:24:00.136783 centralcli-1.8/centralcli/clishowtshoot.py
+-rw-r--r--   0        0        0    21550 2023-06-15 05:39:44.166523 centralcli-1.8/centralcli/clishowwids.py
+-rw-r--r--   0        0        0     8262 2022-07-14 01:24:31.928521 centralcli-1.8/centralcli/clitest.py
+-rw-r--r--   0        0        0    11296 2023-06-27 03:19:28.803842 centralcli-1.8/centralcli/clitshoot.py
+-rw-r--r--   0        0        0     5245 2022-07-14 00:35:03.158521 centralcli-1.8/centralcli/cliunassign.py
+-rw-r--r--   0        0        0    24271 2023-06-17 05:39:24.294216 centralcli-1.8/centralcli/cliupdate.py
+-rw-r--r--   0        0        0     9438 2023-06-21 17:44:05.382659 centralcli-1.8/centralcli/cliupgrade.py
+-rw-r--r--   0        0        0    18349 2023-06-16 18:44:49.430786 centralcli-1.8/centralcli/config.py
+-rw-r--r--   0        0        0    37867 2023-06-27 02:23:49.563437 centralcli-1.8/centralcli/constants.py
+-rw-r--r--   0        0        0      160 2022-12-14 19:38:57.975685 centralcli-1.8/centralcli/exceptions.py
+-rw-r--r--   0        0        0     6501 2022-02-23 03:21:04.000000 centralcli-1.8/centralcli/logger.py
+-rw-r--r--   0        0        0     2298 2023-06-15 05:35:53.155263 centralcli-1.8/centralcli/models.py
+-rw-r--r--   0        0        0    16827 2023-06-17 03:57:05.435242 centralcli-1.8/centralcli/render.py
+-rw-r--r--   0        0        0    36417 2023-06-16 18:56:01.314032 centralcli-1.8/centralcli/response.py
+-rw-r--r--   0        0        0       96 2021-10-13 20:41:19.000000 centralcli-1.8/centralcli/setup.py
+-rw-r--r--   0        0        0     1150 2022-02-10 22:18:16.000000 centralcli-1.8/centralcli/static/favicon.ico
+-rw-r--r--   0        0        0     9269 2023-06-17 03:27:31.140143 centralcli-1.8/centralcli/strings.py
+-rw-r--r--   0        0        0    31046 2022-10-06 02:15:00.061699 centralcli-1.8/centralcli/utils.py
+-rw-r--r--   0        0        0     5407 2022-04-29 01:09:46.000000 centralcli-1.8/centralcli/vscodeargs.py
+-rw-r--r--   0        0        0    15567 2022-12-28 03:21:15.553278 centralcli-1.8/centralcli/wh_proxy.py
+-rw-r--r--   0        0        0      393 2022-01-14 00:45:59.000000 centralcli-1.8/centralcli/wh_proxy_service.py
+-rw-r--r--   0        0        0     2014 2023-06-27 03:31:58.244308 centralcli-1.8/pyproject.toml
+-rw-r--r--   0        0        0    13902 1970-01-01 00:00:00.000000 centralcli-1.8/PKG-INFO
```

### Comparing `centralcli-1.7/README.md` & `centralcli-1.8/README.md`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/__init__.py` & `centralcli-1.8/centralcli/__init__.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/boilerplate/README.md` & `centralcli-1.8/centralcli/boilerplate/README.md`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/boilerplate/allcalls.py` & `centralcli-1.8/centralcli/boilerplate/allcalls.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/boilerplate/configuration.py` & `centralcli-1.8/centralcli/boilerplate/configuration.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/boilerplate/firmware.py` & `centralcli-1.8/centralcli/boilerplate/firmware.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/boilerplate/guest.py` & `centralcli-1.8/centralcli/boilerplate/guest.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/boilerplate/wlan.py` & `centralcli-1.8/centralcli/boilerplate/wlan.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/caas.py` & `centralcli-1.8/centralcli/caas.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/cache.py` & `centralcli-1.8/centralcli/cache.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/central.py` & `centralcli-1.8/centralcli/central.py`

 * *Files 0% similar despite different names*

```diff
@@ -449,12067 +449,12096 @@
 00001c00: 6620 6765 745f 6170 2873 656c 6629 202d  f get_ap(self) -
 00001c10: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
 00001c20: 2020 2020 7572 6c20 3d20 222f 6d6f 6e69      url = "/moni
 00001c30: 746f 7269 6e67 2f76 312f 6170 7322 0a20  toring/v1/aps". 
 00001c40: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
 00001c50: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
 00001c60: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00001c70: 2067 6574 5f73 7761 726d 7328 7365 6c66   get_swarms(self
-00001c80: 2c20 6772 6f75 703a 2073 7472 203d 204e  , group: str = N
-00001c90: 6f6e 652c 2073 7461 7475 733a 2073 7472  one, status: str
-00001ca0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00001cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001cc0: 2020 7075 626c 6963 5f69 705f 6164 6472    public_ip_addr
-00001cd0: 6573 733a 2073 7472 203d 204e 6f6e 652c  ess: str = None,
-00001ce0: 2066 6965 6c64 733a 2073 7472 203d 204e   fields: str = N
-00001cf0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00001d00: 2020 2020 2020 2020 2020 2020 2020 6361                ca
-00001d10: 6c63 756c 6174 655f 746f 7461 6c3a 2062  lculate_total: b
-00001d20: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
-00001d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001d40: 2020 2020 2073 7761 726d 5f6e 616d 653a       swarm_name:
-00001d50: 2073 7472 203d 204e 6f6e 652c 206f 6666   str = None, off
-00001d60: 7365 743a 2069 6e74 203d 2030 2c20 6c69  set: int = 0, li
-00001d70: 6d69 743a 2069 6e74 203d 2031 3030 2920  mit: int = 100) 
-00001d80: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00001d90: 2020 2020 2022 2222 4c69 7374 2053 7761       """List Swa
-00001da0: 726d 732e 0a0a 2020 2020 2020 2020 4172  rms...        Ar
-00001db0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00001dc0: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
-00001dd0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-00001de0: 2067 726f 7570 206e 616d 650a 2020 2020   group name.    
-00001df0: 2020 2020 2020 2020 7374 6174 7573 2028          status (
-00001e00: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00001e10: 4669 6c74 6572 2062 7920 5377 6172 6d20  Filter by Swarm 
-00001e20: 7374 6174 7573 0a20 2020 2020 2020 2020  status.         
-00001e30: 2020 2070 7562 6c69 635f 6970 5f61 6464     public_ip_add
-00001e40: 7265 7373 2028 7374 722c 206f 7074 696f  ress (str, optio
-00001e50: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00001e60: 7075 626c 6963 2069 7020 6164 6472 6573  public ip addres
-00001e70: 730a 2020 2020 2020 2020 2020 2020 6669  s.            fi
-00001e80: 656c 6473 2028 7374 722c 206f 7074 696f  elds (str, optio
-00001e90: 6e61 6c29 3a20 436f 6d6d 6120 7365 7061  nal): Comma sepa
-00001ea0: 7261 7465 6420 6c69 7374 206f 6620 6669  rated list of fi
-00001eb0: 656c 6473 2074 6f20 6265 2072 6574 7572  elds to be retur
-00001ec0: 6e65 642e 2056 616c 6964 2066 6965 6c64  ned. Valid field
-00001ed0: 7320 6172 650a 2020 2020 2020 2020 2020  s are.          
-00001ee0: 2020 2020 2020 7374 6174 7573 2c20 6970        status, ip
-00001ef0: 5f61 6464 7265 7373 2c20 7075 626c 6963  _address, public
-00001f00: 5f69 705f 6164 6472 6573 732c 2066 6972  _ip_address, fir
-00001f10: 6d77 6172 655f 7665 7273 696f 6e0a 2020  mware_version.  
-00001f20: 2020 2020 2020 2020 2020 6361 6c63 756c            calcul
-00001f30: 6174 655f 746f 7461 6c20 2862 6f6f 6c2c  ate_total (bool,
-00001f40: 206f 7074 696f 6e61 6c29 3a20 5768 6574   optional): Whet
-00001f50: 6865 7220 746f 2063 616c 6375 6c61 7465  her to calculate
-00001f60: 2074 6f74 616c 2053 7761 726d 730a 2020   total Swarms.  
-00001f70: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
-00001f80: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
-00001f90: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00001fa0: 7377 6172 6d20 6e61 6d65 0a20 2020 2020  swarm name.     
-00001fb0: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
-00001fc0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-00001fd0: 6167 696e 6174 696f 6e20 6f66 6673 6574  agination offset
-00001fe0: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
-00001ff0: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
-00002000: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-00002010: 293a 2050 6167 696e 6174 696f 6e20 6c69  ): Pagination li
-00002020: 6d69 742e 2044 6566 6175 6c74 2069 7320  mit. Default is 
-00002030: 3130 3020 616e 6420 6d61 7820 6973 2031  100 and max is 1
-00002040: 3030 3020 4465 6661 756c 7473 2074 6f20  000 Defaults to 
-00002050: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
-00002060: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00002070: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00002080: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00002090: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-000020a0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-000020b0: 3d20 222f 6d6f 6e69 746f 7269 6e67 2f76  = "/monitoring/v
-000020c0: 312f 7377 6172 6d73 220a 0a20 2020 2020  1/swarms"..     
-000020d0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-000020e0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
-000020f0: 273a 2067 726f 7570 2c0a 2020 2020 2020  ': group,.      
-00002100: 2020 2020 2020 2773 7461 7475 7327 3a20        'status': 
-00002110: 7374 6174 7573 2c0a 2020 2020 2020 2020  status,.        
-00002120: 2020 2020 2770 7562 6c69 635f 6970 5f61      'public_ip_a
-00002130: 6464 7265 7373 273a 2070 7562 6c69 635f  ddress': public_
-00002140: 6970 5f61 6464 7265 7373 2c0a 2020 2020  ip_address,.    
-00002150: 2020 2020 2020 2020 2766 6965 6c64 7327          'fields'
-00002160: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
-00002170: 2020 2020 2020 2763 616c 6375 6c61 7465        'calculate
-00002180: 5f74 6f74 616c 273a 2063 616c 6375 6c61  _total': calcula
-00002190: 7465 5f74 6f74 616c 2c0a 2020 2020 2020  te_total,.      
-000021a0: 2020 2020 2020 2773 7761 726d 5f6e 616d        'swarm_nam
-000021b0: 6527 3a20 7377 6172 6d5f 6e61 6d65 2c0a  e': swarm_name,.
-000021c0: 2020 2020 2020 2020 2020 2020 276f 6666              'off
-000021d0: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
-000021e0: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
-000021f0: 273a 206c 696d 6974 2c0a 2020 2020 2020  ': limit,.      
-00002200: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
-00002210: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-00002220: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-00002230: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
-00002240: 6320 6465 6620 6765 745f 7377 6172 6d5f  c def get_swarm_
-00002250: 6465 7461 696c 7328 7365 6c66 2c20 7377  details(self, sw
-00002260: 6172 6d5f 6964 3a20 7374 7229 202d 3e20  arm_id: str) -> 
-00002270: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00002280: 2020 2222 2253 7761 726d 2044 6574 6169    """Swarm Detai
-00002290: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
-000022a0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-000022b0: 7761 726d 5f69 6420 2873 7472 293a 2053  warm_id (str): S
-000022c0: 7761 726d 2049 440a 0a20 2020 2020 2020  warm ID..       
-000022d0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-000022e0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-000022f0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00002300: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00002310: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-00002320: 726c 203d 2066 222f 6d6f 6e69 746f 7269  rl = f"/monitori
-00002330: 6e67 2f76 312f 7377 6172 6d73 2f7b 7377  ng/v1/swarms/{sw
-00002340: 6172 6d5f 6964 7d22 0a0a 2020 2020 2020  arm_id}"..      
-00002350: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00002360: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
-00002370: 2020 2320 6173 796e 6320 6465 6620 6765    # async def ge
-00002380: 745f 7377 6172 6d73 5f62 795f 6772 6f75  t_swarms_by_grou
-00002390: 7028 7365 6c66 2c20 6772 6f75 703a 2073  p(self, group: s
-000023a0: 7472 2920 2d3e 2052 6573 706f 6e73 653a  tr) -> Response:
-000023b0: 0a20 2020 2023 2020 2020 2075 726c 203d  .    #     url =
-000023c0: 2022 2f6d 6f6e 6974 6f72 696e 672f 7631   "/monitoring/v1
-000023d0: 2f73 7761 726d 7322 0a20 2020 2023 2020  /swarms".    #  
-000023e0: 2020 2070 6172 616d 7320 3d20 7b22 6772     params = {"gr
-000023f0: 6f75 7022 3a20 6772 6f75 707d 0a20 2020  oup": group}.   
-00002400: 2023 2020 2020 2072 6574 7572 6e20 6177   #     return aw
-00002410: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00002420: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-00002430: 0a0a 2020 2020 2320 6173 796e 6320 6465  ..    # async de
-00002440: 6620 6765 745f 7377 6172 6d5f 6465 7461  f get_swarm_deta
-00002450: 696c 7328 7365 6c66 2c20 7377 6172 6d5f  ils(self, swarm_
-00002460: 6964 3a20 7374 7229 202d 3e20 5265 7370  id: str) -> Resp
-00002470: 6f6e 7365 3a0a 2020 2020 2320 2020 2020  onse:.    #     
-00002480: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
-00002490: 696e 672f 7631 2f73 7761 726d 732f 7b73  ing/v1/swarms/{s
-000024a0: 7761 726d 5f69 647d 220a 2020 2020 2320  warm_id}".    # 
-000024b0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-000024c0: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
-000024d0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-000024e0: 745f 636c 6965 6e74 7328 0a20 2020 2020  t_clients(.     
-000024f0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00002500: 202a 6172 6773 3a20 5475 706c 655b 7374   *args: Tuple[st
-00002510: 725d 2c0a 2020 2020 2020 2020 6772 6f75  r],.        grou
-00002520: 703a 2073 7472 203d 204e 6f6e 652c 0a20  p: str = None,. 
-00002530: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
-00002540: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00002550: 2020 2020 206c 6162 656c 3a20 7374 7220       label: str 
-00002560: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00002570: 6e65 7477 6f72 6b3a 2073 7472 203d 204e  network: str = N
-00002580: 6f6e 652c 0a20 2020 2020 2020 2073 6974  one,.        sit
-00002590: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-000025a0: 2020 2020 2020 2073 6572 6961 6c3a 2073         serial: s
-000025b0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-000025c0: 2020 206f 735f 7479 7065 3a20 7374 7220     os_type: str 
-000025d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000025e0: 7374 6163 6b5f 6964 3a20 7374 7220 3d20  stack_id: str = 
-000025f0: 4e6f 6e65 2c0a 2020 2020 2020 2020 636c  None,.        cl
-00002600: 7573 7465 725f 6964 3a20 7374 7220 3d20  uster_id: str = 
-00002610: 4e6f 6e65 2c0a 2020 2020 2020 2020 6261  None,.        ba
-00002620: 6e64 3a20 7374 7220 3d20 4e6f 6e65 2c0a  nd: str = None,.
-00002630: 2020 2020 2020 2020 6d61 633a 2073 7472          mac: str
-00002640: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00002650: 2023 2073 6f72 745f 6279 3a20 7374 7220   # sort_by: str 
-00002660: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00002670: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
-00002680: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
-00002690: 696e 7420 3d20 3530 302c 0a20 2020 2020  int = 500,.     
-000026a0: 2020 2023 202a 2a6b 7761 7267 732c 0a20     # **kwargs,. 
-000026b0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-000026c0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
-000026d0: 2043 6c69 656e 7473 2064 6574 6169 6c73   Clients details
-000026e0: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
-000026f0: 6564 2062 7920 7368 6f77 2063 6c69 656e  ed by show clien
-00002700: 7473 202e 2e2e 202f 2f0a 0a20 2020 2020  ts ... //..     
-00002710: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00002720: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
-00002730: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00002740: 6572 2062 7920 4772 6f75 702e 2044 6566  er by Group. Def
-00002750: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-00002760: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
-00002770: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-00002780: 616c 293a 2046 696c 7465 7220 6279 2073  al): Filter by s
-00002790: 7761 726d 2e20 4465 6661 756c 7473 2074  warm. Defaults t
-000027a0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-000027b0: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
-000027c0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-000027d0: 7220 6279 206c 6162 656c 2e20 4465 6661  r by label. Defa
-000027e0: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-000027f0: 2020 2020 2020 2020 2020 6e65 7477 6f72            networ
-00002800: 6b20 2873 7472 2c20 6f70 7469 6f6e 616c  k (str, optional
-00002810: 293a 2046 696c 7465 7220 6279 2057 4c41  ): Filter by WLA
-00002820: 4e20 5353 4944 2e20 4465 6661 756c 7473  N SSID. Defaults
-00002830: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-00002840: 2020 2020 2020 7369 7465 2028 7374 722c        site (str,
-00002850: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00002860: 6572 2062 7920 7369 7465 2e20 4465 6661  er by site. Defa
-00002870: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-00002880: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+00001c70: 2067 6574 5f73 7761 726d 7328 0a20 2020   get_swarms(.   
+00001c80: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00001c90: 2020 2067 726f 7570 3a20 7374 7220 3d20     group: str = 
+00001ca0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
+00001cb0: 6174 7573 3a20 7374 7220 3d20 4e6f 6e65  atus: str = None
+00001cc0: 2c0a 2020 2020 2020 2020 7075 626c 6963  ,.        public
+00001cd0: 5f69 705f 6164 6472 6573 733a 2073 7472  _ip_address: str
+00001ce0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00001cf0: 2066 6965 6c64 733a 2073 7472 203d 204e   fields: str = N
+00001d00: 6f6e 652c 0a20 2020 2020 2020 2063 616c  one,.        cal
+00001d10: 6375 6c61 7465 5f74 6f74 616c 3a20 626f  culate_total: bo
+00001d20: 6f6c 203d 204e 6f6e 652c 0a20 2020 2020  ol = None,.     
+00001d30: 2020 2073 6f72 743a 2073 7472 203d 204e     sort: str = N
+00001d40: 6f6e 652c 0a20 2020 2020 2020 2073 7761  one,.        swa
+00001d50: 726d 5f6e 616d 653a 2073 7472 203d 204e  rm_name: str = N
+00001d60: 6f6e 652c 0a20 2020 2020 2020 206f 6666  one,.        off
+00001d70: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
+00001d80: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00001d90: 203d 2031 3030 2c0a 2020 2020 2920 2d3e   = 100,.    ) ->
+00001da0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00001db0: 2020 2022 2222 4c69 7374 2053 7761 726d     """List Swarm
+00001dc0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
+00001dd0: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
+00001de0: 6f75 7020 2873 7472 2c20 6f70 7469 6f6e  oup (str, option
+00001df0: 616c 293a 2046 696c 7465 7220 6279 2067  al): Filter by g
+00001e00: 726f 7570 206e 616d 650a 2020 2020 2020  roup name.      
+00001e10: 2020 2020 2020 7374 6174 7573 2028 7374        status (st
+00001e20: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+00001e30: 6c74 6572 2062 7920 5377 6172 6d20 7374  lter by Swarm st
+00001e40: 6174 7573 0a20 2020 2020 2020 2020 2020  atus.           
+00001e50: 2070 7562 6c69 635f 6970 5f61 6464 7265   public_ip_addre
+00001e60: 7373 2028 7374 722c 206f 7074 696f 6e61  ss (str, optiona
+00001e70: 6c29 3a20 4669 6c74 6572 2062 7920 7075  l): Filter by pu
+00001e80: 626c 6963 2069 7020 6164 6472 6573 730a  blic ip address.
+00001e90: 2020 2020 2020 2020 2020 2020 6669 656c              fiel
+00001ea0: 6473 2028 7374 722c 206f 7074 696f 6e61  ds (str, optiona
+00001eb0: 6c29 3a20 436f 6d6d 6120 7365 7061 7261  l): Comma separa
+00001ec0: 7465 6420 6c69 7374 206f 6620 6669 656c  ted list of fiel
+00001ed0: 6473 2074 6f20 6265 2072 6574 7572 6e65  ds to be returne
+00001ee0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+00001ef0: 2020 5661 6c69 6420 6669 656c 6473 2061    Valid fields a
+00001f00: 7265 3a20 7374 6174 7573 2c20 6970 5f61  re: status, ip_a
+00001f10: 6464 7265 7373 2c20 7075 626c 6963 5f69  ddress, public_i
+00001f20: 705f 6164 6472 6573 732c 2066 6972 6d77  p_address, firmw
+00001f30: 6172 655f 7665 7273 696f 6e0a 2020 2020  are_version.    
+00001f40: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
+00001f50: 655f 746f 7461 6c20 2862 6f6f 6c2c 206f  e_total (bool, o
+00001f60: 7074 696f 6e61 6c29 3a20 5768 6574 6865  ptional): Whethe
+00001f70: 7220 746f 2063 616c 6375 6c61 7465 2074  r to calculate t
+00001f80: 6f74 616c 2053 7761 726d 730a 2020 2020  otal Swarms.    
+00001f90: 2020 2020 2020 2020 736f 7274 2028 7374          sort (st
+00001fa0: 722c 206f 7074 696f 6e61 6c29 3a20 536f  r, optional): So
+00001fb0: 7274 2070 6172 616d 6574 6572 206d 6179  rt parameter may
+00001fc0: 2062 6520 6f6e 6520 6f66 202b 7377 6172   be one of +swar
+00001fd0: 6d5f 6964 2c20 2d73 7761 726d 5f69 640a  m_id, -swarm_id.
+00001fe0: 2020 2020 2020 2020 2020 2020 7377 6172              swar
+00001ff0: 6d5f 6e61 6d65 2028 7374 722c 206f 7074  m_name (str, opt
+00002000: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+00002010: 7920 7377 6172 6d20 6e61 6d65 0a20 2020  y swarm name.   
+00002020: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
+00002030: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00002040: 2050 6167 696e 6174 696f 6e20 6f66 6673   Pagination offs
+00002050: 6574 2044 6566 6175 6c74 7320 746f 2030  et Defaults to 0
+00002060: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
+00002070: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
+00002080: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
+00002090: 6c69 6d69 742e 2044 6566 6175 6c74 2069  limit. Default i
+000020a0: 7320 3130 3020 616e 6420 6d61 7820 6973  s 100 and max is
+000020b0: 2031 3030 3020 4465 6661 756c 7473 2074   1000 Defaults t
+000020c0: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
+000020d0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+000020e0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+000020f0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00002100: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00002110: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00002120: 6c20 3d20 222f 6d6f 6e69 746f 7269 6e67  l = "/monitoring
+00002130: 2f76 312f 7377 6172 6d73 220a 0a20 2020  /v1/swarms"..   
+00002140: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+00002150: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
+00002160: 7570 273a 2067 726f 7570 2c0a 2020 2020  up': group,.    
+00002170: 2020 2020 2020 2020 2773 7461 7475 7327          'status'
+00002180: 3a20 7374 6174 7573 2c0a 2020 2020 2020  : status,.      
+00002190: 2020 2020 2020 2770 7562 6c69 635f 6970        'public_ip
+000021a0: 5f61 6464 7265 7373 273a 2070 7562 6c69  _address': publi
+000021b0: 635f 6970 5f61 6464 7265 7373 2c0a 2020  c_ip_address,.  
+000021c0: 2020 2020 2020 2020 2020 2766 6965 6c64            'field
+000021d0: 7327 3a20 6669 656c 6473 2c0a 2020 2020  s': fields,.    
+000021e0: 2020 2020 2020 2020 2763 616c 6375 6c61          'calcula
+000021f0: 7465 5f74 6f74 616c 273a 2063 616c 6375  te_total': calcu
+00002200: 6c61 7465 5f74 6f74 616c 2c0a 2020 2020  late_total,.    
+00002210: 2020 2020 2020 2020 2773 6f72 7427 3a20          'sort': 
+00002220: 736f 7274 2c0a 2020 2020 2020 2020 2020  sort,.          
+00002230: 2020 2773 7761 726d 5f6e 616d 6527 3a20    'swarm_name': 
+00002240: 7377 6172 6d5f 6e61 6d65 2c0a 2020 2020  swarm_name,.    
+00002250: 2020 2020 2020 2020 276f 6666 7365 7427          'offset'
+00002260: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
+00002270: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
+00002280: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
+00002290: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+000022a0: 2075 7469 6c73 2e73 7472 6970 5f6e 6f6e   utils.strip_non
+000022b0: 6528 7061 7261 6d73 290a 0a20 2020 2020  e(params)..     
+000022c0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+000022d0: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+000022e0: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+000022f0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00002300: 7377 6172 6d5f 6465 7461 696c 7328 7365  swarm_details(se
+00002310: 6c66 2c20 7377 6172 6d5f 6964 3a20 7374  lf, swarm_id: st
+00002320: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
+00002330: 2020 2020 2020 2020 2222 2253 7761 726d          """Swarm
+00002340: 2044 6574 6169 6c73 2e0a 0a20 2020 2020   Details...     
+00002350: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00002360: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
+00002370: 7472 293a 2053 7761 726d 2049 440a 0a20  tr): Swarm ID.. 
+00002380: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00002390: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+000023a0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+000023b0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+000023c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000023d0: 2020 2020 2075 726c 203d 2066 222f 6d6f       url = f"/mo
+000023e0: 6e69 746f 7269 6e67 2f76 312f 7377 6172  nitoring/v1/swar
+000023f0: 6d73 2f7b 7377 6172 6d5f 6964 7d22 0a0a  ms/{swarm_id}"..
+00002400: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00002410: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+00002420: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+00002430: 6620 6765 745f 636c 6965 6e74 7328 0a20  f get_clients(. 
+00002440: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00002450: 2020 2020 202a 6172 6773 3a20 5475 706c       *args: Tupl
+00002460: 655b 7374 725d 2c0a 2020 2020 2020 2020  e[str],.        
+00002470: 6772 6f75 703a 2073 7472 203d 204e 6f6e  group: str = Non
+00002480: 652c 0a20 2020 2020 2020 2073 7761 726d  e,.        swarm
+00002490: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+000024a0: 0a20 2020 2020 2020 206c 6162 656c 3a20  .        label: 
+000024b0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000024c0: 2020 2020 6e65 7477 6f72 6b3a 2073 7472      network: str
+000024d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000024e0: 2073 6974 653a 2073 7472 203d 204e 6f6e   site: str = Non
+000024f0: 652c 0a20 2020 2020 2020 2073 6572 6961  e,.        seria
+00002500: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
+00002510: 2020 2020 2020 206f 735f 7479 7065 3a20         os_type: 
+00002520: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00002530: 2020 2020 7374 6163 6b5f 6964 3a20 7374      stack_id: st
+00002540: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00002550: 2020 636c 7573 7465 725f 6964 3a20 7374    cluster_id: st
+00002560: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00002570: 2020 6261 6e64 3a20 7374 7220 3d20 4e6f    band: str = No
+00002580: 6e65 2c0a 2020 2020 2020 2020 6d61 633a  ne,.        mac:
+00002590: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+000025a0: 2020 2020 2023 2073 6f72 745f 6279 3a20       # sort_by: 
+000025b0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000025c0: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
+000025d0: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
+000025e0: 6974 3a20 696e 7420 3d20 3530 302c 0a20  it: int = 500,. 
+000025f0: 2020 2020 2020 2023 202a 2a6b 7761 7267         # **kwarg
+00002600: 732c 0a20 2020 2029 202d 3e20 5265 7370  s,.    ) -> Resp
+00002610: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00002620: 2247 6574 2043 6c69 656e 7473 2064 6574  "Get Clients det
+00002630: 6169 6c73 2e0a 0a20 2020 2020 2020 202f  ails...        /
+00002640: 2f20 5573 6564 2062 7920 7368 6f77 2063  / Used by show c
+00002650: 6c69 656e 7473 202e 2e2e 202f 2f0a 0a20  lients ... //.. 
+00002660: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00002670: 2020 2020 2020 2020 2067 726f 7570 2028           group (
+00002680: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00002690: 4669 6c74 6572 2062 7920 4772 6f75 702e  Filter by Group.
+000026a0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+000026b0: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
+000026c0: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
+000026d0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+000026e0: 6279 2073 7761 726d 2e20 4465 6661 756c  by swarm. Defaul
+000026f0: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+00002700: 2020 2020 2020 2020 6c61 6265 6c20 2873          label (s
+00002710: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+00002720: 696c 7465 7220 6279 206c 6162 656c 2e20  ilter by label. 
+00002730: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+00002740: 2e0a 2020 2020 2020 2020 2020 2020 6e65  ..            ne
+00002750: 7477 6f72 6b20 2873 7472 2c20 6f70 7469  twork (str, opti
+00002760: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00002770: 2057 4c41 4e20 5353 4944 2e20 4465 6661   WLAN SSID. Defa
+00002780: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
+00002790: 2020 2020 2020 2020 2020 7369 7465 2028            site (
+000027a0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+000027b0: 4669 6c74 6572 2062 7920 7369 7465 2e20  Filter by site. 
+000027c0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+000027d0: 2e0a 2020 2020 2020 2020 2020 2020 7365  ..            se
+000027e0: 7269 616c 2028 7374 722c 206f 7074 696f  rial (str, optio
+000027f0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00002800: 636f 6e6e 6563 7465 6420 6465 7669 6365  connected device
+00002810: 2073 6572 6961 6c2e 2044 6566 6175 6c74   serial. Default
+00002820: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+00002830: 2020 2020 2020 206f 735f 7479 7065 2028         os_type (
+00002840: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00002850: 4669 6c74 6572 2062 7920 636c 6965 6e74  Filter by client
+00002860: 204f 5320 7479 7065 2e20 4465 6661 756c   OS type. Defaul
+00002870: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+00002880: 2020 2020 2020 2020 7374 6163 6b5f 6964          stack_id
 00002890: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-000028a0: 3a20 4669 6c74 6572 2062 7920 636f 6e6e  : Filter by conn
-000028b0: 6563 7465 6420 6465 7669 6365 2073 6572  ected device ser
-000028c0: 6961 6c2e 2044 6566 6175 6c74 7320 746f  ial. Defaults to
-000028d0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-000028e0: 2020 206f 735f 7479 7065 2028 7374 722c     os_type (str,
-000028f0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00002900: 6572 2062 7920 636c 6965 6e74 204f 5320  er by client OS 
-00002910: 7479 7065 2e20 4465 6661 756c 7473 2074  type. Defaults t
-00002920: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00002930: 2020 2020 7374 6163 6b5f 6964 2028 7374      stack_id (st
-00002940: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00002950: 6c74 6572 2062 7920 5374 6163 6b20 4944  lter by Stack ID
-00002960: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-00002970: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-00002980: 636c 7573 7465 725f 6964 2028 7374 722c  cluster_id (str,
-00002990: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-000029a0: 6572 2062 7920 436c 7573 7465 7220 4944  er by Cluster ID
-000029b0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-000029c0: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-000029d0: 6261 6e64 2028 7374 722c 206f 7074 696f  band (str, optio
-000029e0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-000029f0: 6261 6e64 2e20 4465 6661 756c 7473 2074  band. Defaults t
-00002a00: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00002a10: 2020 2020 6d61 6320 2873 7472 2c20 6f70      mac (str, op
-00002a20: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00002a30: 6279 2063 6c69 656e 7420 4d41 432e 2044  by client MAC. D
-00002a40: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00002a50: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
-00002a60: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
-00002a70: 616c 293a 2041 5049 2050 6167 696e 6720  al): API Paging 
-00002a80: 6f66 6673 6574 2e20 4465 6661 756c 7473  offset. Defaults
-00002a90: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
-00002aa0: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-00002ab0: 7074 696f 6e61 6c29 3a20 4150 4920 7265  ptional): API re
-00002ac0: 636f 7264 206c 696d 6974 2070 6572 2072  cord limit per r
-00002ad0: 6571 7565 7374 2e20 4465 6661 756c 7473  equest. Defaults
-00002ae0: 2074 6f20 3530 302e 0a0a 2020 2020 2020   to 500...      
-00002af0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00002b00: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00002b10: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00002b20: 6f6e 7365 204f 626a 6563 740a 2020 2020  onse Object.    
-00002b30: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00002b40: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-00002b50: 2020 2020 2020 2022 6772 6f75 7022 3a20         "group": 
-00002b60: 6772 6f75 702c 0a20 2020 2020 2020 2020  group,.         
-00002b70: 2020 2022 7377 6172 6d5f 6964 223a 2073     "swarm_id": s
-00002b80: 7761 726d 5f69 642c 0a20 2020 2020 2020  warm_id,.       
-00002b90: 2020 2020 2022 6c61 6265 6c22 3a20 6c61       "label": la
-00002ba0: 6265 6c2c 0a20 2020 2020 2020 2020 2020  bel,.           
-00002bb0: 2022 7369 7465 223a 2073 6974 652c 0a20   "site": site,. 
-00002bc0: 2020 2020 2020 2020 2020 2022 7365 7269             "seri
-00002bd0: 616c 223a 2073 6572 6961 6c2c 0a20 2020  al": serial,.   
-00002be0: 2020 2020 2020 2020 2022 636c 7573 7465           "cluste
-00002bf0: 725f 6964 223a 2063 6c75 7374 6572 5f69  r_id": cluster_i
-00002c00: 642c 0a20 2020 2020 2020 2020 2020 2023  d,.            #
-00002c10: 2027 6669 656c 6473 273a 2066 6965 6c64   'fields': field
-00002c20: 732c 0a20 2020 2020 2020 2020 2020 2023  s,.            #
-00002c30: 2027 736f 7274 5f62 7927 3a20 736f 7274   'sort_by': sort
-00002c40: 5f62 792c 0a20 2020 2020 2020 2020 2020  _by,.           
-00002c50: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
-00002c60: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
-00002c70: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
-00002c80: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
-00002c90: 2077 6c61 6e5f 6f6e 6c79 5f70 6172 616d   wlan_only_param
-00002ca0: 7320 3d20 7b22 6e65 7477 6f72 6b22 3a20  s = {"network": 
-00002cb0: 6e65 7477 6f72 6b2c 2022 6f73 5f74 7970  network, "os_typ
-00002cc0: 6522 3a20 6f73 5f74 7970 652c 2022 6261  e": os_type, "ba
-00002cd0: 6e64 223a 2062 616e 647d 0a20 2020 2020  nd": band}.     
-00002ce0: 2020 2077 6972 6564 5f6f 6e6c 795f 7061     wired_only_pa
-00002cf0: 7261 6d73 203d 207b 2273 7461 636b 5f69  rams = {"stack_i
-00002d00: 6422 3a20 7374 6163 6b5f 6964 7d0a 2020  d": stack_id}.  
-00002d10: 2020 2020 2020 616c 6c5f 7061 7261 6d73        all_params
-00002d20: 203d 207b 2a2a 7061 7261 6d73 2c20 2a2a   = {**params, **
-00002d30: 776c 616e 5f6f 6e6c 795f 7061 7261 6d73  wlan_only_params
-00002d40: 2c20 2a2a 7769 7265 645f 6f6e 6c79 5f70  , **wired_only_p
-00002d50: 6172 616d 737d 0a20 2020 2020 2020 2077  arams}.        w
-00002d60: 6972 6564 5f70 6172 616d 7320 3d20 7b2a  ired_params = {*
-00002d70: 2a70 6172 616d 732c 202a 2a77 6972 6564  *params, **wired
-00002d80: 5f6f 6e6c 795f 7061 7261 6d73 7d0a 2020  _only_params}.  
-00002d90: 2020 2020 2020 776c 616e 5f70 6172 616d        wlan_param
-00002da0: 7320 3d20 7b2a 2a70 6172 616d 732c 202a  s = {**params, *
-00002db0: 2a77 6c61 6e5f 6f6e 6c79 5f70 6172 616d  *wlan_only_param
-00002dc0: 737d 0a20 2020 2020 2020 2069 6620 5472  s}.        if Tr
-00002dd0: 7565 2069 6e20 5b6e 6574 776f 726b 2c20  ue in [network, 
-00002de0: 6f73 5f74 7970 652c 2062 616e 645d 2061  os_type, band] a
-00002df0: 6e64 2022 7769 7265 6c65 7373 2220 6e6f  nd "wireless" no
-00002e00: 7420 696e 2061 7267 733a 0a20 2020 2020  t in args:.     
-00002e10: 2020 2020 2020 2061 7267 7320 3d20 2822         args = ("
-00002e20: 7769 7265 6c65 7373 222c 202a 6172 6773  wireless", *args
-00002e30: 290a 2020 2020 2020 2020 6966 2073 7461  ).        if sta
-00002e40: 636b 5f69 6420 616e 6420 2277 6972 6564  ck_id and "wired
-00002e50: 2220 6e6f 7420 696e 2061 7267 733a 0a20  " not in args:. 
-00002e60: 2020 2020 2020 2020 2020 2061 7267 7320             args 
-00002e70: 3d20 2822 7769 7265 6422 2c20 2a61 7267  = ("wired", *arg
-00002e80: 7329 0a0a 2020 2020 2020 2020 6966 206d  s)..        if m
-00002e90: 6163 206f 7220 2822 6d61 6322 2069 6e20  ac or ("mac" in 
-00002ea0: 6172 6773 2061 6e64 2061 7267 732e 696e  args and args.in
-00002eb0: 6465 7828 226d 6163 2229 203c 206c 656e  dex("mac") < len
-00002ec0: 2861 7267 7329 293a 0a20 2020 2020 2020  (args)):.       
-00002ed0: 2020 2020 2069 6620 6d61 633a 0a20 2020       if mac:.   
-00002ee0: 2020 2020 2020 2020 2020 2020 205f 6d61               _ma
-00002ef0: 6320 3d20 7574 696c 732e 4d61 6328 0a20  c = utils.Mac(. 
-00002f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f10: 2020 206d 6163 2c0a 2020 2020 2020 2020     mac,.        
-00002f20: 2020 2020 2020 2020 2020 2020 6675 7a7a              fuzz
-00002f30: 793d 5472 7565 2c0a 2020 2020 2020 2020  y=True,.        
-00002f40: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00002f50: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00002f60: 2020 2020 2020 2020 2020 2020 5f6d 6163              _mac
-00002f70: 203d 2075 7469 6c73 2e4d 6163 280a 2020   = utils.Mac(.  
-00002f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002f90: 2020 6172 6773 5b61 7267 732e 696e 6465    args[args.inde
-00002fa0: 7828 226d 6163 2229 202b 2031 5d2c 0a20  x("mac") + 1],. 
-00002fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002fc0: 2020 2066 757a 7a79 3d54 7275 652c 0a20     fuzzy=True,. 
-00002fd0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-00002fe0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00002ff0: 5f6d 6163 2e6f 6b3a 0a20 2020 2020 2020  _mac.ok:.       
-00003000: 2020 2020 2020 2020 206d 6163 203d 205f           mac = _
-00003010: 6d61 630a 2020 2020 2020 2020 2020 2020  mac.            
-00003020: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00003030: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
-00003040: 706f 6e73 6528 6572 726f 723d 2249 4e56  ponse(error="INV
-00003050: 414c 4944 204d 4143 222c 206f 7574 7075  ALID MAC", outpu
-00003060: 743d 6622 5468 6520 5072 6f76 6964 6564  t=f"The Provided
-00003070: 204d 4143 207b 5f6d 6163 7d20 4170 7065   MAC {_mac} Appe
-00003080: 6172 7320 746f 2062 6520 696e 7661 6c69  ars to be invali
-00003090: 642e 2229 0a0a 2020 2020 2020 2020 2320  d.")..        # 
-000030a0: 6966 206e 6f74 2061 7267 732e 636f 756e  if not args.coun
-000030b0: 7428 7374 7229 203e 2030 206f 7220 2261  t(str) > 0 or "a
-000030c0: 6c6c 2220 696e 2061 7267 733a 0a20 2020  ll" in args:.   
-000030d0: 2020 2020 2069 6620 6e6f 7420 6172 6773       if not args
-000030e0: 206f 7220 2261 6c6c 2220 696e 2061 7267   or "all" in arg
-000030f0: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
-00003100: 6620 6d61 633a 0a20 2020 2020 2020 2020  f mac:.         
-00003110: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00003120: 6169 7420 7365 6c66 2e67 6574 5f63 6c69  ait self.get_cli
-00003130: 656e 745f 6465 7461 696c 7328 6d61 632c  ent_details(mac,
-00003140: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-00003150: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00003160: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00003170: 2073 656c 662e 6765 745f 616c 6c5f 636c   self.get_all_cl
-00003180: 6965 6e74 7328 2a2a 616c 6c5f 7061 7261  ients(**all_para
-00003190: 6d73 2c29 0a20 2020 2020 2020 2065 6c69  ms,).        eli
-000031a0: 6620 2277 6972 6564 2220 696e 2061 7267  f "wired" in arg
-000031b0: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
-000031c0: 6620 6d61 633a 0a20 2020 2020 2020 2020  f mac:.         
-000031d0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-000031e0: 6169 7420 7365 6c66 2e67 6574 5f63 6c69  ait self.get_cli
-000031f0: 656e 745f 6465 7461 696c 7328 6d61 632c  ent_details(mac,
-00003200: 2064 6576 5f74 7970 653d 2277 6972 6564   dev_type="wired
-00003210: 222c 290a 2020 2020 2020 2020 2020 2020  ",).            
-00003220: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00003230: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00003240: 6974 2073 656c 662e 6765 745f 7769 7265  it self.get_wire
-00003250: 645f 636c 6965 6e74 7328 2a2a 7769 7265  d_clients(**wire
-00003260: 645f 7061 7261 6d73 2c29 0a20 2020 2020  d_params,).     
-00003270: 2020 2065 6c69 6620 2277 6972 656c 6573     elif "wireles
-00003280: 7322 2069 6e20 6172 6773 3a0a 2020 2020  s" in args:.    
-00003290: 2020 2020 2020 2020 6966 206d 6163 3a0a          if mac:.
-000032a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000032b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-000032c0: 662e 6765 745f 636c 6965 6e74 5f64 6574  f.get_client_det
-000032d0: 6169 6c73 286d 6163 2c20 6465 765f 7479  ails(mac, dev_ty
-000032e0: 7065 3d22 7769 7265 6c65 7373 222c 290a  pe="wireless",).
-000032f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00003300: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00003310: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00003320: 656c 662e 6765 745f 7769 7265 6c65 7373  elf.get_wireless
-00003330: 5f63 6c69 656e 7473 282a 2a77 6c61 6e5f  _clients(**wlan_
-00003340: 7061 7261 6d73 2c29 0a20 2020 2020 2020  params,).       
-00003350: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00003360: 2020 2072 6574 7572 6e20 5265 7370 6f6e     return Respon
-00003370: 7365 280a 2020 2020 2020 2020 2020 2020  se(.            
-00003380: 2020 2020 6572 726f 723d 2249 4e56 414c      error="INVAL
-00003390: 4944 2041 5247 554d 454e 5422 2c0a 2020  ID ARGUMENT",.  
-000033a0: 2020 2020 2020 2020 2020 2020 2020 6f75                ou
-000033b0: 7470 7574 3d66 227b 6172 6773 7d20 6170  tput=f"{args} ap
-000033c0: 7065 6172 7320 746f 2062 6520 696e 7661  pears to be inva
-000033d0: 6c69 6422 2c0a 2020 2020 2020 2020 2020  lid",.          
-000033e0: 2020 290a 0a20 2020 2061 7379 6e63 2064    )..    async d
-000033f0: 6566 2067 6574 5f61 6c6c 5f63 6c69 656e  ef get_all_clien
-00003400: 7473 280a 2020 2020 2020 2020 7365 6c66  ts(.        self
-00003410: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
-00003420: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00003430: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
-00003440: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00003450: 2020 206c 6162 656c 3a20 7374 7220 3d20     label: str = 
-00003460: 4e6f 6e65 2c0a 2020 2020 2020 2020 6e65  None,.        ne
-00003470: 7477 6f72 6b3a 2073 7472 203d 204e 6f6e  twork: str = Non
-00003480: 652c 0a20 2020 2020 2020 2073 6974 653a  e,.        site:
-00003490: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000034a0: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
-000034b0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000034c0: 206f 735f 7479 7065 3a20 7374 7220 3d20   os_type: str = 
-000034d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
-000034e0: 6163 6b5f 6964 3a20 7374 7220 3d20 4e6f  ack_id: str = No
-000034f0: 6e65 2c0a 2020 2020 2020 2020 636c 7573  ne,.        clus
-00003500: 7465 725f 6964 3a20 7374 7220 3d20 4e6f  ter_id: str = No
-00003510: 6e65 2c0a 2020 2020 2020 2020 6261 6e64  ne,.        band
-00003520: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00003530: 2020 2020 2020 2320 736f 7274 5f62 793a        # sort_by:
-00003540: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00003550: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-00003560: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
-00003570: 6d69 743a 2069 6e74 203d 2035 3030 2c0a  mit: int = 500,.
-00003580: 2020 2020 2020 2020 2320 2a2a 6b77 6172          # **kwar
-00003590: 6773 2c0a 2020 2020 2920 2d3e 2052 6573  gs,.    ) -> Res
-000035a0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-000035b0: 2222 4765 7420 416c 6c20 636c 6965 6e74  ""Get All client
-000035c0: 730a 0a20 2020 2020 2020 202f 2f20 5573  s..        // Us
-000035d0: 6564 2069 6e64 6972 6563 746c 7920 6279  ed indirectly by
-000035e0: 2073 686f 7720 636c 6965 6e74 7320 2f2f   show clients //
-000035f0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00003600: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-00003610: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
-00003620: 293a 2052 6574 7572 6e20 636c 6965 6e74  ): Return client
-00003630: 7320 636f 6e6e 6563 7465 6420 746f 2064  s connected to d
-00003640: 6576 6963 6573 2069 6e20 6120 6769 7665  evices in a give
-00003650: 6e20 6772 6f75 702e 2044 6566 6175 6c74  n group. Default
-00003660: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
-00003670: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
-00003680: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00003690: 2052 6574 7572 6e20 636c 6965 6e74 7320   Return clients 
-000036a0: 636f 6e6e 6563 7465 6420 746f 2073 7761  connected to swa
-000036b0: 726d 2062 7920 7377 6172 6d5f 6964 2e20  rm by swarm_id. 
-000036c0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
-000036d0: 2e0a 2020 2020 2020 2020 2020 2020 6c61  ..            la
-000036e0: 6265 6c20 2873 7472 2c20 6f70 7469 6f6e  bel (str, option
-000036f0: 616c 293a 2052 6574 7572 6e20 636c 6965  al): Return clie
-00003700: 6e74 7320 636f 6e6e 6563 7465 6420 746f  nts connected to
-00003710: 2064 6576 6963 6520 7769 7468 2070 726f   device with pro
-00003720: 7669 6465 6420 6c61 6265 6c2e 0a20 2020  vided label..   
-00003730: 2020 2020 2020 2020 2020 2020 2044 6566               Def
-00003740: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-00003750: 2020 2020 2020 2020 2020 206e 6574 776f             netwo
-00003760: 726b 2028 7374 722c 206f 7074 696f 6e61  rk (str, optiona
-00003770: 6c29 3a20 5265 7475 726e 2063 6c69 656e  l): Return clien
-00003780: 7473 2066 6f72 2067 6976 656e 206e 6574  ts for given net
-00003790: 776f 726b 2028 5353 4944 292e 2044 6566  work (SSID). Def
-000037a0: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-000037b0: 2020 2020 2020 2020 2020 2073 6974 6520             site 
-000037c0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-000037d0: 2052 6574 7572 6e20 636c 6965 6e74 7320   Return clients 
-000037e0: 696e 2061 2070 6172 7469 6375 6c61 7220  in a particular 
-000037f0: 7369 7465 2e20 4465 6661 756c 7473 2074  site. Defaults t
-00003800: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00003810: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
-00003820: 206f 7074 696f 6e61 6c29 3a20 5265 7475   optional): Retu
-00003830: 726e 2063 6c69 656e 7473 2063 6f6e 6e65  rn clients conne
-00003840: 6374 6564 2074 6f20 7468 6520 6465 7669  cted to the devi
-00003850: 6365 2077 6974 6820 6769 7665 6e20 7365  ce with given se
-00003860: 7269 616c 2e20 4465 6661 756c 7473 2074  rial. Defaults t
-00003870: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00003880: 2020 2020 6f73 5f74 7970 6520 2873 7472      os_type (str
-00003890: 2c20 6f70 7469 6f6e 616c 293a 2052 6574  , optional): Ret
-000038a0: 7572 6e20 636c 6965 6e74 7320 7769 7468  urn clients with
-000038b0: 2070 726f 7669 6465 6420 6f73 5f74 7970   provided os_typ
-000038c0: 652e 2044 6566 6175 6c74 7320 746f 204e  e. Defaults to N
-000038d0: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-000038e0: 2073 7461 636b 5f69 6420 2873 7472 2c20   stack_id (str, 
-000038f0: 6f70 7469 6f6e 616c 293a 2052 6574 7572  optional): Retur
-00003900: 6e20 636c 6965 6e74 7320 636f 6e6e 6563  n clients connec
-00003910: 7465 6420 746f 2073 7461 636b 2077 6974  ted to stack wit
-00003920: 6820 7072 6f76 6964 6564 2069 642e 2044  h provided id. D
-00003930: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-00003940: 0a20 2020 2020 2020 2020 2020 2063 6c75  .            clu
-00003950: 7374 6572 5f69 6420 2873 7472 2c20 6f70  ster_id (str, op
-00003960: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
-00003970: 636c 6965 6e74 7320 636f 6e6e 6563 7465  clients connecte
-00003980: 6420 746f 2063 6c75 7374 6572 2077 6974  d to cluster wit
-00003990: 6820 7072 6f76 6964 6564 2069 642e 2044  h provided id. D
-000039a0: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-000039b0: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
-000039c0: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
-000039d0: 293a 2052 6574 7572 6e20 2857 4c41 4e29  ): Return (WLAN)
-000039e0: 2063 6c69 656e 7473 2063 6f6e 6e65 6374   clients connect
-000039f0: 6564 2074 6f20 7072 6f76 6964 6564 2062  ed to provided b
-00003a00: 616e 642e 2044 6566 6175 6c74 7320 746f  and. Defaults to
-00003a10: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00003a20: 2020 2046 4958 4d45 2073 6f72 745f 6279     FIXME sort_by
-00003a30: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00003a40: 3a20 536f 7274 204f 7574 7075 7420 6f6e  : Sort Output on
-00003a50: 2070 726f 7669 6465 6420 6b65 7920 6669   provided key fi
-00003a60: 656c 642e 2044 6566 6175 6c74 7320 746f  eld. Defaults to
-00003a70: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00003a80: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-00003a90: 6f70 7469 6f6e 616c 293a 2041 5049 206f  optional): API o
-00003aa0: 6666 7365 742e 2044 6566 6175 6c74 7320  ffset. Defaults 
-00003ab0: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
-00003ac0: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
-00003ad0: 7469 6f6e 616c 293a 2041 5049 2072 6563  tional): API rec
-00003ae0: 6f72 6420 6c69 6d69 742e 2044 6566 6175  ord limit. Defau
-00003af0: 6c74 7320 746f 2035 3030 2e0a 0a20 2020  lts to 500...   
-00003b00: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00003b10: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00003b20: 7365 3a20 4365 6e74 7261 6c43 6c69 2e52  se: CentralCli.R
-00003b30: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-00003b40: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00003b50: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-00003b60: 2020 2020 2020 2020 2020 2267 726f 7570            "group
-00003b70: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
-00003b80: 2020 2020 2020 2273 7761 726d 5f69 6422        "swarm_id"
-00003b90: 3a20 7377 6172 6d5f 6964 2c0a 2020 2020  : swarm_id,.    
-00003ba0: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
-00003bb0: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
-00003bc0: 2020 2020 2273 6974 6522 3a20 7369 7465      "site": site
-00003bd0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-00003be0: 6572 6961 6c22 3a20 7365 7269 616c 2c0a  erial": serial,.
-00003bf0: 2020 2020 2020 2020 2020 2020 2263 6c75              "clu
-00003c00: 7374 6572 5f69 6422 3a20 636c 7573 7465  ster_id": cluste
-00003c10: 725f 6964 2c0a 2020 2020 2020 2020 2020  r_id,.          
-00003c20: 2020 2320 2766 6965 6c64 7327 3a20 6669    # 'fields': fi
-00003c30: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
-00003c40: 2020 2320 2773 6f72 745f 6279 273a 2073    # 'sort_by': s
-00003c50: 6f72 745f 6279 2c0a 2020 2020 2020 2020  ort_by,.        
-00003c60: 2020 2020 226f 6666 7365 7422 3a20 6f66      "offset": of
-00003c70: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
-00003c80: 2020 226c 696d 6974 223a 206c 696d 6974    "limit": limit
-00003c90: 2c0a 2020 2020 2020 2020 7d0a 2020 2020  ,.        }.    
-00003ca0: 2020 2020 776c 616e 5f6f 6e6c 795f 7061      wlan_only_pa
-00003cb0: 7261 6d73 203d 207b 226e 6574 776f 726b  rams = {"network
-00003cc0: 223a 206e 6574 776f 726b 2c20 226f 735f  ": network, "os_
-00003cd0: 7479 7065 223a 206f 735f 7479 7065 2c20  type": os_type, 
-00003ce0: 2262 616e 6422 3a20 6261 6e64 7d0a 2020  "band": band}.  
-00003cf0: 2020 2020 2020 7769 7265 645f 6f6e 6c79        wired_only
-00003d00: 5f70 6172 616d 7320 3d20 7b22 7374 6163  _params = {"stac
-00003d10: 6b5f 6964 223a 2073 7461 636b 5f69 647d  k_id": stack_id}
-00003d20: 0a0a 2020 2020 2020 2020 2320 7265 7370  ..        # resp
-00003d30: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
-00003d40: 745f 7769 7265 6c65 7373 5f63 6c69 656e  t_wireless_clien
-00003d50: 7473 282a 2a7b 2a2a 7061 7261 6d73 2c20  ts(**{**params, 
-00003d60: 2a2a 776c 616e 5f6f 6e6c 795f 7061 7261  **wlan_only_para
-00003d70: 6d73 7d2c 2920 2023 202a 2a6b 7761 7267  ms},)  # **kwarg
-00003d80: 7329 0a20 2020 2020 2020 2023 2069 6620  s).        # if 
-00003d90: 7265 7370 2e6f 6b3a 0a20 2020 2020 2020  resp.ok:.       
-00003da0: 2023 2020 2020 2077 6c61 6e5f 7265 7370   #     wlan_resp
-00003db0: 203d 2072 6573 700a 2020 2020 2020 2020   = resp.        
-00003dc0: 2320 2020 2020 7769 7265 645f 7265 7370  #     wired_resp
-00003dd0: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
-00003de0: 745f 7769 7265 645f 636c 6965 6e74 7328  t_wired_clients(
-00003df0: 2a2a 7b2a 2a70 6172 616d 732c 202a 2a77  **{**params, **w
-00003e00: 6972 6564 5f6f 6e6c 795f 7061 7261 6d73  ired_only_params
-00003e10: 7d29 2020 2320 2a2a 6b77 6172 6773 290a  })  # **kwargs).
-00003e20: 2020 2020 2020 2020 2320 2020 2020 6966          #     if
-00003e30: 2077 6972 6564 5f72 6573 702e 6f6b 3a0a   wired_resp.ok:.
-00003e40: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-00003e50: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
-00003e60: 776c 616e 5f72 6573 702e 6f75 7470 7574  wlan_resp.output
-00003e70: 202b 2077 6972 6564 5f72 6573 702e 6f75   + wired_resp.ou
-00003e80: 7470 7574 0a0a 2020 2020 2020 2020 7265  tput..        re
-00003e90: 7173 203d 205b 0a20 2020 2020 2020 2020  qs = [.         
-00003ea0: 2020 2073 656c 662e 4261 7463 6852 6571     self.BatchReq
-00003eb0: 7565 7374 2873 656c 662e 6765 745f 7769  uest(self.get_wi
-00003ec0: 7265 6c65 7373 5f63 6c69 656e 7473 2c20  reless_clients, 
-00003ed0: 2a2a 7b2a 2a70 6172 616d 732c 202a 2a77  **{**params, **w
-00003ee0: 6c61 6e5f 6f6e 6c79 5f70 6172 616d 737d  lan_only_params}
-00003ef0: 292c 0a20 2020 2020 2020 2020 2020 2073  ),.            s
-00003f00: 656c 662e 4261 7463 6852 6571 7565 7374  elf.BatchRequest
-00003f10: 2873 656c 662e 6765 745f 7769 7265 645f  (self.get_wired_
-00003f20: 636c 6965 6e74 732c 202a 2a7b 2a2a 7061  clients, **{**pa
-00003f30: 7261 6d73 2c20 2a2a 7769 7265 645f 6f6e  rams, **wired_on
-00003f40: 6c79 5f70 6172 616d 737d 290a 2020 2020  ly_params}).    
-00003f50: 2020 2020 5d0a 2020 2020 2020 2020 2320      ].        # 
-00003f60: 4649 584d 4520 6966 2077 6972 656c 6573  FIXME if wireles
-00003f70: 7320 636c 6965 6e74 7320 6361 6c6c 2070  s clients call p
-00003f80: 6173 7365 7320 6275 7420 7769 7265 6420  asses but wired 
-00003f90: 6661 696c 7320 7468 6572 6520 6973 206e  fails there is n
-00003fa0: 6f20 696e 6469 6361 7469 6f6e 2069 6e20  o indication in 
-00003fb0: 6365 6e63 6c69 2073 686f 7720 636c 6965  cencli show clie
-00003fc0: 6e74 7320 6f75 7470 7574 0a20 2020 2020  nts output.     
-00003fd0: 2020 2072 6573 7020 3d20 6177 6169 7420     resp = await 
-00003fe0: 7365 6c66 2e5f 6261 7463 685f 7265 7175  self._batch_requ
-00003ff0: 6573 7428 7265 7173 290a 2020 2020 2020  est(reqs).      
-00004000: 2020 6966 206c 656e 2872 6573 7029 203d    if len(resp) =
-00004010: 3d20 323a 2020 2320 616e 6420 616c 6c28  = 2:  # and all(
-00004020: 782e 6f6b 2066 6f72 2078 2069 6e20 7265  x.ok for x in re
-00004030: 7370 293a 0a20 2020 2020 2020 2020 2020  sp):.           
-00004040: 206f 7574 203d 205b 5d0a 2020 2020 2020   out = [].      
-00004050: 2020 2020 2020 666f 7220 7220 696e 2072        for r in r
-00004060: 6573 703a 0a20 2020 2020 2020 2020 2020  esp:.           
-00004070: 2020 2020 2069 6620 722e 6f6b 3a0a 2020       if r.ok:.  
-00004080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004090: 2020 6f75 7420 2b3d 2072 2e6f 7574 7075    out += r.outpu
-000040a0: 740a 2020 2020 2020 2020 2020 2020 7261  t.            ra
-000040b0: 7720 3d20 5b0a 2020 2020 2020 2020 2020  w = [.          
-000040c0: 2020 2020 2020 7b22 7261 775f 7769 7265        {"raw_wire
-000040d0: 6c65 7373 5f72 6573 706f 6e73 6522 3a20  less_response": 
-000040e0: 7265 7370 5b30 5d2e 7261 777d 2c0a 2020  resp[0].raw},.  
-000040f0: 2020 2020 2020 2020 2020 2020 2020 7b22                {"
-00004100: 7261 775f 7769 7265 645f 7265 7370 6f6e  raw_wired_respon
-00004110: 7365 223a 2072 6573 705b 315d 2e72 6177  se": resp[1].raw
-00004120: 7d0a 2020 2020 2020 2020 2020 2020 5d0a  }.            ].
-00004130: 2020 2020 2020 2020 2020 2020 7265 7370              resp
-00004140: 203d 2072 6573 705b 315d 2069 6620 7265   = resp[1] if re
-00004150: 7370 5b31 5d2e 6f6b 2065 6c73 6520 7265  sp[1].ok else re
-00004160: 7370 5b30 5d0a 2020 2020 2020 2020 2020  sp[0].          
-00004170: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
-00004180: 6f75 740a 2020 2020 2020 2020 2020 2020  out.            
-00004190: 7265 7370 2e72 6177 203d 2072 6177 0a20  resp.raw = raw. 
-000041a0: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
-000041b0: 4f20 6e65 6564 2052 6573 706f 6e73 6520  O need Response 
-000041c0: 746f 2068 6176 6520 616e 2061 7474 7269  to have an attri
-000041d0: 6275 7465 2074 6861 7420 7374 6f72 6573  bute that stores
-000041e0: 2066 6169 6c65 6420 6361 6c6c 7320 736f   failed calls so
-000041f0: 2063 6c69 2063 6f6d 6d61 6e64 7320 6361   cli commands ca
-00004200: 6e20 6469 7370 6c61 7920 6f75 7470 7574  n display output
-00004210: 206f 6620 7061 7373 6564 2063 616c 6c73   of passed calls
-00004220: 2061 6e64 2064 6574 6169 6c73 206f 6e20   and details on 
-00004230: 6572 726f 7273 2028 7768 656e 2073 6f6d  errors (when som
-00004240: 6520 6361 6c6c 7320 6661 696c 290a 0a20  e calls fail).. 
-00004250: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
-00004260: 7370 0a0a 2020 2020 6173 796e 6320 6465  sp..    async de
-00004270: 6620 6765 745f 636c 6965 6e74 5f72 6f61  f get_client_roa
-00004280: 6d69 6e67 5f68 6973 746f 7279 280a 2020  ming_history(.  
-00004290: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-000042a0: 2020 2020 6d61 6361 6464 723a 2073 7472      macaddr: str
-000042b0: 2c0a 2020 2020 2020 2020 6361 6c63 756c  ,.        calcul
-000042c0: 6174 655f 746f 7461 6c3a 2062 6f6f 6c20  ate_total: bool 
-000042d0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000042e0: 6672 6f6d 5f74 696d 6573 7461 6d70 3a20  from_timestamp: 
-000042f0: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-00004300: 2020 2020 746f 5f74 696d 6573 7461 6d70      to_timestamp
-00004310: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-00004320: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-00004330: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-00004340: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
-00004350: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00004360: 7365 3a0a 2020 2020 2020 2020 2222 2257  se:.        """W
-00004370: 6972 656c 6573 7320 436c 6965 6e74 204d  ireless Client M
-00004380: 6f62 696c 6974 7920 5472 6169 6c2e 0a0a  obility Trail...
-00004390: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-000043a0: 2020 2020 2020 2020 2020 6d61 6361 6464            macadd
-000043b0: 7220 2873 7472 293a 204d 4143 2061 6464  r (str): MAC add
-000043c0: 7265 7373 206f 6620 7468 6520 5769 7265  ress of the Wire
-000043d0: 6c65 7373 2043 6c69 656e 7420 746f 2062  less Client to b
-000043e0: 6520 7175 6572 6965 640a 2020 2020 2020  e queried.      
-000043f0: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
-00004400: 746f 7461 6c20 2862 6f6f 6c2c 206f 7074  total (bool, opt
-00004410: 696f 6e61 6c29 3a20 5768 6574 6865 7220  ional): Whether 
-00004420: 746f 2063 616c 6375 6c61 7465 2074 6f74  to calculate tot
-00004430: 616c 2074 7261 6e73 6974 696f 6e73 0a20  al transitions. 
-00004440: 2020 2020 2020 2020 2020 2066 726f 6d5f             from_
-00004450: 7469 6d65 7374 616d 7020 2869 6e74 2c20  timestamp (int, 
-00004460: 6f70 7469 6f6e 616c 293a 204e 6565 6420  optional): Need 
-00004470: 696e 666f 726d 6174 696f 6e20 6672 6f6d  information from
-00004480: 2074 6869 7320 7469 6d65 7374 616d 702e   this timestamp.
-00004490: 2054 696d 6573 7461 6d70 2069 7320 6570   Timestamp is ep
-000044a0: 6f63 680a 2020 2020 2020 2020 2020 2020  och.            
-000044b0: 2020 2020 696e 2073 6563 6f6e 6473 2e20      in seconds. 
-000044c0: 4465 6661 756c 7420 6973 2063 7572 7265  Default is curre
-000044d0: 6e74 2074 696d 6573 7461 6d70 206d 696e  nt timestamp min
-000044e0: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
-000044f0: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
-00004500: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
-00004510: 616c 293a 204e 6565 6420 696e 666f 726d  al): Need inform
-00004520: 6174 696f 6e20 746f 2074 6869 7320 7469  ation to this ti
-00004530: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-00004540: 6d70 2069 7320 6570 6f63 6820 696e 0a20  mp is epoch in. 
-00004550: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00004560: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-00004570: 6973 2063 7572 7265 6e74 2074 696d 6573  is current times
-00004580: 7461 6d70 0a20 2020 2020 2020 2020 2020  tamp.           
-00004590: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
-000045a0: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
-000045b0: 696f 6e20 6f66 6673 6574 2044 6566 6175  ion offset Defau
-000045c0: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-000045d0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-000045e0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-000045f0: 696e 6174 696f 6e20 6c69 6d69 742e 2044  ination limit. D
-00004600: 6566 6175 6c74 2069 7320 3130 3020 616e  efault is 100 an
-00004610: 6420 6d61 7820 6973 2031 3030 3020 4465  d max is 1000 De
-00004620: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
-00004630: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00004640: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00004650: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00004660: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00004670: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00004680: 2020 2020 2020 7572 6c20 3d20 6622 2f6d        url = f"/m
-00004690: 6f6e 6974 6f72 696e 672f 7631 2f63 6c69  onitoring/v1/cli
-000046a0: 656e 7473 2f77 6972 656c 6573 732f 7b6d  ents/wireless/{m
-000046b0: 6163 6164 6472 7d2f 6d6f 6269 6c69 7479  acaddr}/mobility
-000046c0: 5f74 7261 696c 220a 0a20 2020 2020 2020  _trail"..       
-000046d0: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-000046e0: 2020 2020 2020 2020 2763 616c 6375 6c61          'calcula
-000046f0: 7465 5f74 6f74 616c 273a 2063 616c 6375  te_total': calcu
-00004700: 6c61 7465 5f74 6f74 616c 2c0a 2020 2020  late_total,.    
-00004710: 2020 2020 2020 2020 2766 726f 6d5f 7469          'from_ti
-00004720: 6d65 7374 616d 7027 3a20 6672 6f6d 5f74  mestamp': from_t
-00004730: 696d 6573 7461 6d70 2c0a 2020 2020 2020  imestamp,.      
-00004740: 2020 2020 2020 2774 6f5f 7469 6d65 7374        'to_timest
-00004750: 616d 7027 3a20 746f 5f74 696d 6573 7461  amp': to_timesta
-00004760: 6d70 2c0a 2020 2020 2020 2020 2020 2020  mp,.            
-00004770: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
-00004780: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-00004790: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
-000047a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-000047b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-000047c0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-000047d0: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-000047e0: 7379 6e63 2064 6566 2067 6574 5f77 6972  sync def get_wir
-000047f0: 656c 6573 735f 636c 6965 6e74 7328 0a20  eless_clients(. 
-00004800: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00004810: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
-00004820: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00004830: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
-00004840: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
-00004850: 6265 6c3a 2073 7472 203d 204e 6f6e 652c  bel: str = None,
-00004860: 0a20 2020 2020 2020 2073 6974 653a 2073  .        site: s
+000028a0: 3a20 4669 6c74 6572 2062 7920 5374 6163  : Filter by Stac
+000028b0: 6b20 4944 2e20 4465 6661 756c 7473 2074  k ID. Defaults t
+000028c0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+000028d0: 2020 2020 636c 7573 7465 725f 6964 2028      cluster_id (
+000028e0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+000028f0: 4669 6c74 6572 2062 7920 436c 7573 7465  Filter by Cluste
+00002900: 7220 4944 2e20 4465 6661 756c 7473 2074  r ID. Defaults t
+00002910: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+00002920: 2020 2020 6261 6e64 2028 7374 722c 206f      band (str, o
+00002930: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00002940: 2062 7920 6261 6e64 2e20 4465 6661 756c   by band. Defaul
+00002950: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+00002960: 2020 2020 2020 2020 6d61 6320 2873 7472          mac (str
+00002970: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00002980: 7465 7220 6279 2063 6c69 656e 7420 4d41  ter by client MA
+00002990: 432e 2044 6566 6175 6c74 7320 746f 204e  C. Defaults to N
+000029a0: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+000029b0: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
+000029c0: 7469 6f6e 616c 293a 2041 5049 2050 6167  tional): API Pag
+000029d0: 696e 6720 6f66 6673 6574 2e20 4465 6661  ing offset. Defa
+000029e0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+000029f0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+00002a00: 742c 206f 7074 696f 6e61 6c29 3a20 4150  t, optional): AP
+00002a10: 4920 7265 636f 7264 206c 696d 6974 2070  I record limit p
+00002a20: 6572 2072 6571 7565 7374 2e20 4465 6661  er request. Defa
+00002a30: 756c 7473 2074 6f20 3530 302e 0a0a 2020  ults to 500...  
+00002a40: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00002a50: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00002a60: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00002a70: 5265 7370 6f6e 7365 204f 626a 6563 740a  Response Object.
+00002a80: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00002a90: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+00002aa0: 2020 2020 2020 2020 2020 2022 6772 6f75             "grou
+00002ab0: 7022 3a20 6772 6f75 702c 0a20 2020 2020  p": group,.     
+00002ac0: 2020 2020 2020 2022 7377 6172 6d5f 6964         "swarm_id
+00002ad0: 223a 2073 7761 726d 5f69 642c 0a20 2020  ": swarm_id,.   
+00002ae0: 2020 2020 2020 2020 2022 6c61 6265 6c22           "label"
+00002af0: 3a20 6c61 6265 6c2c 0a20 2020 2020 2020  : label,.       
+00002b00: 2020 2020 2022 7369 7465 223a 2073 6974       "site": sit
+00002b10: 652c 0a20 2020 2020 2020 2020 2020 2022  e,.            "
+00002b20: 7365 7269 616c 223a 2073 6572 6961 6c2c  serial": serial,
+00002b30: 0a20 2020 2020 2020 2020 2020 2022 636c  .            "cl
+00002b40: 7573 7465 725f 6964 223a 2063 6c75 7374  uster_id": clust
+00002b50: 6572 5f69 642c 0a20 2020 2020 2020 2020  er_id,.         
+00002b60: 2020 2023 2027 6669 656c 6473 273a 2066     # 'fields': f
+00002b70: 6965 6c64 732c 0a20 2020 2020 2020 2020  ields,.         
+00002b80: 2020 2023 2027 736f 7274 5f62 7927 3a20     # 'sort_by': 
+00002b90: 736f 7274 5f62 792c 0a20 2020 2020 2020  sort_by,.       
+00002ba0: 2020 2020 2022 6f66 6673 6574 223a 206f       "offset": o
+00002bb0: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+00002bc0: 2020 2022 6c69 6d69 7422 3a20 6c69 6d69     "limit": limi
+00002bd0: 742c 0a20 2020 2020 2020 207d 0a20 2020  t,.        }.   
+00002be0: 2020 2020 2077 6c61 6e5f 6f6e 6c79 5f70       wlan_only_p
+00002bf0: 6172 616d 7320 3d20 7b22 6e65 7477 6f72  arams = {"networ
+00002c00: 6b22 3a20 6e65 7477 6f72 6b2c 2022 6f73  k": network, "os
+00002c10: 5f74 7970 6522 3a20 6f73 5f74 7970 652c  _type": os_type,
+00002c20: 2022 6261 6e64 223a 2062 616e 647d 0a20   "band": band}. 
+00002c30: 2020 2020 2020 2077 6972 6564 5f6f 6e6c         wired_onl
+00002c40: 795f 7061 7261 6d73 203d 207b 2273 7461  y_params = {"sta
+00002c50: 636b 5f69 6422 3a20 7374 6163 6b5f 6964  ck_id": stack_id
+00002c60: 7d0a 2020 2020 2020 2020 616c 6c5f 7061  }.        all_pa
+00002c70: 7261 6d73 203d 207b 2a2a 7061 7261 6d73  rams = {**params
+00002c80: 2c20 2a2a 776c 616e 5f6f 6e6c 795f 7061  , **wlan_only_pa
+00002c90: 7261 6d73 2c20 2a2a 7769 7265 645f 6f6e  rams, **wired_on
+00002ca0: 6c79 5f70 6172 616d 737d 0a20 2020 2020  ly_params}.     
+00002cb0: 2020 2077 6972 6564 5f70 6172 616d 7320     wired_params 
+00002cc0: 3d20 7b2a 2a70 6172 616d 732c 202a 2a77  = {**params, **w
+00002cd0: 6972 6564 5f6f 6e6c 795f 7061 7261 6d73  ired_only_params
+00002ce0: 7d0a 2020 2020 2020 2020 776c 616e 5f70  }.        wlan_p
+00002cf0: 6172 616d 7320 3d20 7b2a 2a70 6172 616d  arams = {**param
+00002d00: 732c 202a 2a77 6c61 6e5f 6f6e 6c79 5f70  s, **wlan_only_p
+00002d10: 6172 616d 737d 0a20 2020 2020 2020 2069  arams}.        i
+00002d20: 6620 5472 7565 2069 6e20 5b6e 6574 776f  f True in [netwo
+00002d30: 726b 2c20 6f73 5f74 7970 652c 2062 616e  rk, os_type, ban
+00002d40: 645d 2061 6e64 2022 7769 7265 6c65 7373  d] and "wireless
+00002d50: 2220 6e6f 7420 696e 2061 7267 733a 0a20  " not in args:. 
+00002d60: 2020 2020 2020 2020 2020 2061 7267 7320             args 
+00002d70: 3d20 2822 7769 7265 6c65 7373 222c 202a  = ("wireless", *
+00002d80: 6172 6773 290a 2020 2020 2020 2020 6966  args).        if
+00002d90: 2073 7461 636b 5f69 6420 616e 6420 2277   stack_id and "w
+00002da0: 6972 6564 2220 6e6f 7420 696e 2061 7267  ired" not in arg
+00002db0: 733a 0a20 2020 2020 2020 2020 2020 2061  s:.            a
+00002dc0: 7267 7320 3d20 2822 7769 7265 6422 2c20  rgs = ("wired", 
+00002dd0: 2a61 7267 7329 0a0a 2020 2020 2020 2020  *args)..        
+00002de0: 6966 206d 6163 206f 7220 2822 6d61 6322  if mac or ("mac"
+00002df0: 2069 6e20 6172 6773 2061 6e64 2061 7267   in args and arg
+00002e00: 732e 696e 6465 7828 226d 6163 2229 203c  s.index("mac") <
+00002e10: 206c 656e 2861 7267 7329 293a 0a20 2020   len(args)):.   
+00002e20: 2020 2020 2020 2020 2069 6620 6d61 633a           if mac:
+00002e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002e40: 205f 6d61 6320 3d20 7574 696c 732e 4d61   _mac = utils.Ma
+00002e50: 6328 0a20 2020 2020 2020 2020 2020 2020  c(.             
+00002e60: 2020 2020 2020 206d 6163 2c0a 2020 2020         mac,.    
+00002e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002e80: 6675 7a7a 793d 5472 7565 2c0a 2020 2020  fuzzy=True,.    
+00002e90: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00002ea0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00002eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002ec0: 5f6d 6163 203d 2075 7469 6c73 2e4d 6163  _mac = utils.Mac
+00002ed0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00002ee0: 2020 2020 2020 6172 6773 5b61 7267 732e        args[args.
+00002ef0: 696e 6465 7828 226d 6163 2229 202b 2031  index("mac") + 1
+00002f00: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00002f10: 2020 2020 2020 2066 757a 7a79 3d54 7275         fuzzy=Tru
+00002f20: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00002f30: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00002f40: 2069 6620 5f6d 6163 2e6f 6b3a 0a20 2020   if _mac.ok:.   
+00002f50: 2020 2020 2020 2020 2020 2020 206d 6163               mac
+00002f60: 203d 205f 6d61 630a 2020 2020 2020 2020   = _mac.        
+00002f70: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00002f80: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00002f90: 2052 6573 706f 6e73 6528 6572 726f 723d   Response(error=
+00002fa0: 2249 4e56 414c 4944 204d 4143 222c 206f  "INVALID MAC", o
+00002fb0: 7574 7075 743d 6622 5468 6520 5072 6f76  utput=f"The Prov
+00002fc0: 6964 6564 204d 4143 207b 5f6d 6163 7d20  ided MAC {_mac} 
+00002fd0: 4170 7065 6172 7320 746f 2062 6520 696e  Appears to be in
+00002fe0: 7661 6c69 642e 2229 0a0a 2020 2020 2020  valid.")..      
+00002ff0: 2020 2320 6966 206e 6f74 2061 7267 732e    # if not args.
+00003000: 636f 756e 7428 7374 7229 203e 2030 206f  count(str) > 0 o
+00003010: 7220 2261 6c6c 2220 696e 2061 7267 733a  r "all" in args:
+00003020: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+00003030: 6172 6773 206f 7220 2261 6c6c 2220 696e  args or "all" in
+00003040: 2061 7267 733a 0a20 2020 2020 2020 2020   args:.         
+00003050: 2020 2069 6620 6d61 633a 0a20 2020 2020     if mac:.     
+00003060: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00003070: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+00003080: 5f63 6c69 656e 745f 6465 7461 696c 7328  _client_details(
+00003090: 6d61 632c 290a 2020 2020 2020 2020 2020  mac,).          
+000030a0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+000030b0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+000030c0: 7761 6974 2073 656c 662e 6765 745f 616c  wait self.get_al
+000030d0: 6c5f 636c 6965 6e74 7328 2a2a 616c 6c5f  l_clients(**all_
+000030e0: 7061 7261 6d73 2c29 0a20 2020 2020 2020  params,).       
+000030f0: 2065 6c69 6620 2277 6972 6564 2220 696e   elif "wired" in
+00003100: 2061 7267 733a 0a20 2020 2020 2020 2020   args:.         
+00003110: 2020 2069 6620 6d61 633a 0a20 2020 2020     if mac:.     
+00003120: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00003130: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+00003140: 5f63 6c69 656e 745f 6465 7461 696c 7328  _client_details(
+00003150: 6d61 632c 2064 6576 5f74 7970 653d 2277  mac, dev_type="w
+00003160: 6972 6564 222c 290a 2020 2020 2020 2020  ired",).        
+00003170: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00003180: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00003190: 2061 7761 6974 2073 656c 662e 6765 745f   await self.get_
+000031a0: 7769 7265 645f 636c 6965 6e74 7328 2a2a  wired_clients(**
+000031b0: 7769 7265 645f 7061 7261 6d73 2c29 0a20  wired_params,). 
+000031c0: 2020 2020 2020 2065 6c69 6620 2277 6972         elif "wir
+000031d0: 656c 6573 7322 2069 6e20 6172 6773 3a0a  eless" in args:.
+000031e0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
+000031f0: 6163 3a0a 2020 2020 2020 2020 2020 2020  ac:.            
+00003200: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00003210: 2073 656c 662e 6765 745f 636c 6965 6e74   self.get_client
+00003220: 5f64 6574 6169 6c73 286d 6163 2c20 6465  _details(mac, de
+00003230: 765f 7479 7065 3d22 7769 7265 6c65 7373  v_type="wireless
+00003240: 222c 290a 2020 2020 2020 2020 2020 2020  ",).            
+00003250: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00003260: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00003270: 6974 2073 656c 662e 6765 745f 7769 7265  it self.get_wire
+00003280: 6c65 7373 5f63 6c69 656e 7473 282a 2a77  less_clients(**w
+00003290: 6c61 6e5f 7061 7261 6d73 2c29 0a20 2020  lan_params,).   
+000032a0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000032b0: 2020 2020 2020 2072 6574 7572 6e20 5265         return Re
+000032c0: 7370 6f6e 7365 280a 2020 2020 2020 2020  sponse(.        
+000032d0: 2020 2020 2020 2020 6572 726f 723d 2249          error="I
+000032e0: 4e56 414c 4944 2041 5247 554d 454e 5422  NVALID ARGUMENT"
+000032f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00003300: 2020 6f75 7470 7574 3d66 227b 6172 6773    output=f"{args
+00003310: 7d20 6170 7065 6172 7320 746f 2062 6520  } appears to be 
+00003320: 696e 7661 6c69 6422 2c0a 2020 2020 2020  invalid",.      
+00003330: 2020 2020 2020 290a 0a20 2020 2061 7379        )..    asy
+00003340: 6e63 2064 6566 2067 6574 5f61 6c6c 5f63  nc def get_all_c
+00003350: 6c69 656e 7473 280a 2020 2020 2020 2020  lients(.        
+00003360: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
+00003370: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
+00003380: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
+00003390: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+000033a0: 2020 2020 2020 206c 6162 656c 3a20 7374         label: st
+000033b0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+000033c0: 2020 6e65 7477 6f72 6b3a 2073 7472 203d    network: str =
+000033d0: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+000033e0: 6974 653a 2073 7472 203d 204e 6f6e 652c  ite: str = None,
+000033f0: 0a20 2020 2020 2020 2073 6572 6961 6c3a  .        serial:
+00003400: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00003410: 2020 2020 206f 735f 7479 7065 3a20 7374       os_type: st
+00003420: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00003430: 2020 7374 6163 6b5f 6964 3a20 7374 7220    stack_id: str 
+00003440: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00003450: 636c 7573 7465 725f 6964 3a20 7374 7220  cluster_id: str 
+00003460: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00003470: 6261 6e64 3a20 7374 7220 3d20 4e6f 6e65  band: str = None
+00003480: 2c0a 2020 2020 2020 2020 2320 736f 7274  ,.        # sort
+00003490: 5f62 793a 2073 7472 203d 204e 6f6e 652c  _by: str = None,
+000034a0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
+000034b0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
+000034c0: 2020 6c69 6d69 743a 2069 6e74 203d 2035    limit: int = 5
+000034d0: 3030 2c0a 2020 2020 2020 2020 2320 2a2a  00,.        # **
+000034e0: 6b77 6172 6773 2c0a 2020 2020 2920 2d3e  kwargs,.    ) ->
+000034f0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00003500: 2020 2022 2222 4765 7420 416c 6c20 636c     """Get All cl
+00003510: 6965 6e74 730a 0a20 2020 2020 2020 202f  ients..        /
+00003520: 2f20 5573 6564 2069 6e64 6972 6563 746c  / Used indirectl
+00003530: 7920 6279 2073 686f 7720 636c 6965 6e74  y by show client
+00003540: 7320 2f2f 0a0a 2020 2020 2020 2020 4172  s //..        Ar
+00003550: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00003560: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
+00003570: 6f6e 616c 293a 2052 6574 7572 6e20 636c  onal): Return cl
+00003580: 6965 6e74 7320 636f 6e6e 6563 7465 6420  ients connected 
+00003590: 746f 2064 6576 6963 6573 2069 6e20 6120  to devices in a 
+000035a0: 6769 7665 6e20 6772 6f75 702e 2044 6566  given group. Def
+000035b0: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
+000035c0: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
+000035d0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
+000035e0: 616c 293a 2052 6574 7572 6e20 636c 6965  al): Return clie
+000035f0: 6e74 7320 636f 6e6e 6563 7465 6420 746f  nts connected to
+00003600: 2073 7761 726d 2062 7920 7377 6172 6d5f   swarm by swarm_
+00003610: 6964 2e20 4465 6661 756c 7473 2074 6f20  id. Defaults to 
+00003620: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+00003630: 2020 6c61 6265 6c20 2873 7472 2c20 6f70    label (str, op
+00003640: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
+00003650: 636c 6965 6e74 7320 636f 6e6e 6563 7465  clients connecte
+00003660: 6420 746f 2064 6576 6963 6520 7769 7468  d to device with
+00003670: 2070 726f 7669 6465 6420 6c61 6265 6c2e   provided label.
+00003680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003690: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+000036a0: 652e 0a20 2020 2020 2020 2020 2020 206e  e..            n
+000036b0: 6574 776f 726b 2028 7374 722c 206f 7074  etwork (str, opt
+000036c0: 696f 6e61 6c29 3a20 5265 7475 726e 2063  ional): Return c
+000036d0: 6c69 656e 7473 2066 6f72 2067 6976 656e  lients for given
+000036e0: 206e 6574 776f 726b 2028 5353 4944 292e   network (SSID).
+000036f0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+00003700: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
+00003710: 6974 6520 2873 7472 2c20 6f70 7469 6f6e  ite (str, option
+00003720: 616c 293a 2052 6574 7572 6e20 636c 6965  al): Return clie
+00003730: 6e74 7320 696e 2061 2070 6172 7469 6375  nts in a particu
+00003740: 6c61 7220 7369 7465 2e20 4465 6661 756c  lar site. Defaul
+00003750: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+00003760: 2020 2020 2020 2020 7365 7269 616c 2028          serial (
+00003770: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00003780: 5265 7475 726e 2063 6c69 656e 7473 2063  Return clients c
+00003790: 6f6e 6e65 6374 6564 2074 6f20 7468 6520  onnected to the 
+000037a0: 6465 7669 6365 2077 6974 6820 6769 7665  device with give
+000037b0: 6e20 7365 7269 616c 2e20 4465 6661 756c  n serial. Defaul
+000037c0: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+000037d0: 2020 2020 2020 2020 6f73 5f74 7970 6520          os_type 
+000037e0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+000037f0: 2052 6574 7572 6e20 636c 6965 6e74 7320   Return clients 
+00003800: 7769 7468 2070 726f 7669 6465 6420 6f73  with provided os
+00003810: 5f74 7970 652e 2044 6566 6175 6c74 7320  _type. Defaults 
+00003820: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+00003830: 2020 2020 2073 7461 636b 5f69 6420 2873       stack_id (s
+00003840: 7472 2c20 6f70 7469 6f6e 616c 293a 2052  tr, optional): R
+00003850: 6574 7572 6e20 636c 6965 6e74 7320 636f  eturn clients co
+00003860: 6e6e 6563 7465 6420 746f 2073 7461 636b  nnected to stack
+00003870: 2077 6974 6820 7072 6f76 6964 6564 2069   with provided i
+00003880: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
+00003890: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+000038a0: 2063 6c75 7374 6572 5f69 6420 2873 7472   cluster_id (str
+000038b0: 2c20 6f70 7469 6f6e 616c 293a 2052 6574  , optional): Ret
+000038c0: 7572 6e20 636c 6965 6e74 7320 636f 6e6e  urn clients conn
+000038d0: 6563 7465 6420 746f 2063 6c75 7374 6572  ected to cluster
+000038e0: 2077 6974 6820 7072 6f76 6964 6564 2069   with provided i
+000038f0: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
+00003900: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+00003910: 2062 616e 6420 2873 7472 2c20 6f70 7469   band (str, opti
+00003920: 6f6e 616c 293a 2052 6574 7572 6e20 2857  onal): Return (W
+00003930: 4c41 4e29 2063 6c69 656e 7473 2063 6f6e  LAN) clients con
+00003940: 6e65 6374 6564 2074 6f20 7072 6f76 6964  nected to provid
+00003950: 6564 2062 616e 642e 2044 6566 6175 6c74  ed band. Default
+00003960: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+00003970: 2020 2020 2020 2046 4958 4d45 2073 6f72         FIXME sor
+00003980: 745f 6279 2028 7374 722c 206f 7074 696f  t_by (str, optio
+00003990: 6e61 6c29 3a20 536f 7274 204f 7574 7075  nal): Sort Outpu
+000039a0: 7420 6f6e 2070 726f 7669 6465 6420 6b65  t on provided ke
+000039b0: 7920 6669 656c 642e 2044 6566 6175 6c74  y field. Default
+000039c0: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
+000039d0: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
+000039e0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2041  nt, optional): A
+000039f0: 5049 206f 6666 7365 742e 2044 6566 6175  PI offset. Defau
+00003a00: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
+00003a10: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+00003a20: 2c20 6f70 7469 6f6e 616c 293a 2041 5049  , optional): API
+00003a30: 2072 6563 6f72 6420 6c69 6d69 742e 2044   record limit. D
+00003a40: 6566 6175 6c74 7320 746f 2035 3030 2e0a  efaults to 500..
+00003a50: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00003a60: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00003a70: 7370 6f6e 7365 3a20 4365 6e74 7261 6c43  sponse: CentralC
+00003a80: 6c69 2e52 6573 706f 6e73 6520 6f62 6a65  li.Response obje
+00003a90: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00003aa0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00003ab0: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
+00003ac0: 726f 7570 223a 2067 726f 7570 2c0a 2020  roup": group,.  
+00003ad0: 2020 2020 2020 2020 2020 2273 7761 726d            "swarm
+00003ae0: 5f69 6422 3a20 7377 6172 6d5f 6964 2c0a  _id": swarm_id,.
+00003af0: 2020 2020 2020 2020 2020 2020 226c 6162              "lab
+00003b00: 656c 223a 206c 6162 656c 2c0a 2020 2020  el": label,.    
+00003b10: 2020 2020 2020 2020 2273 6974 6522 3a20          "site": 
+00003b20: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
+00003b30: 2020 2273 6572 6961 6c22 3a20 7365 7269    "serial": seri
+00003b40: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
+00003b50: 2263 6c75 7374 6572 5f69 6422 3a20 636c  "cluster_id": cl
+00003b60: 7573 7465 725f 6964 2c0a 2020 2020 2020  uster_id,.      
+00003b70: 2020 2020 2020 2320 2766 6965 6c64 7327        # 'fields'
+00003b80: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
+00003b90: 2020 2020 2020 2320 2773 6f72 745f 6279        # 'sort_by
+00003ba0: 273a 2073 6f72 745f 6279 2c0a 2020 2020  ': sort_by,.    
+00003bb0: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
+00003bc0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
+00003bd0: 2020 2020 2020 226c 696d 6974 223a 206c        "limit": l
+00003be0: 696d 6974 2c0a 2020 2020 2020 2020 7d0a  imit,.        }.
+00003bf0: 2020 2020 2020 2020 776c 616e 5f6f 6e6c          wlan_onl
+00003c00: 795f 7061 7261 6d73 203d 207b 226e 6574  y_params = {"net
+00003c10: 776f 726b 223a 206e 6574 776f 726b 2c20  work": network, 
+00003c20: 226f 735f 7479 7065 223a 206f 735f 7479  "os_type": os_ty
+00003c30: 7065 2c20 2262 616e 6422 3a20 6261 6e64  pe, "band": band
+00003c40: 7d0a 2020 2020 2020 2020 7769 7265 645f  }.        wired_
+00003c50: 6f6e 6c79 5f70 6172 616d 7320 3d20 7b22  only_params = {"
+00003c60: 7374 6163 6b5f 6964 223a 2073 7461 636b  stack_id": stack
+00003c70: 5f69 647d 0a0a 2020 2020 2020 2020 2320  _id}..        # 
+00003c80: 7265 7370 203d 2061 7761 6974 2073 656c  resp = await sel
+00003c90: 662e 6765 745f 7769 7265 6c65 7373 5f63  f.get_wireless_c
+00003ca0: 6c69 656e 7473 282a 2a7b 2a2a 7061 7261  lients(**{**para
+00003cb0: 6d73 2c20 2a2a 776c 616e 5f6f 6e6c 795f  ms, **wlan_only_
+00003cc0: 7061 7261 6d73 7d2c 2920 2023 202a 2a6b  params},)  # **k
+00003cd0: 7761 7267 7329 0a20 2020 2020 2020 2023  wargs).        #
+00003ce0: 2069 6620 7265 7370 2e6f 6b3a 0a20 2020   if resp.ok:.   
+00003cf0: 2020 2020 2023 2020 2020 2077 6c61 6e5f       #     wlan_
+00003d00: 7265 7370 203d 2072 6573 700a 2020 2020  resp = resp.    
+00003d10: 2020 2020 2320 2020 2020 7769 7265 645f      #     wired_
+00003d20: 7265 7370 203d 2061 7761 6974 2073 656c  resp = await sel
+00003d30: 662e 6765 745f 7769 7265 645f 636c 6965  f.get_wired_clie
+00003d40: 6e74 7328 2a2a 7b2a 2a70 6172 616d 732c  nts(**{**params,
+00003d50: 202a 2a77 6972 6564 5f6f 6e6c 795f 7061   **wired_only_pa
+00003d60: 7261 6d73 7d29 2020 2320 2a2a 6b77 6172  rams})  # **kwar
+00003d70: 6773 290a 2020 2020 2020 2020 2320 2020  gs).        #   
+00003d80: 2020 6966 2077 6972 6564 5f72 6573 702e    if wired_resp.
+00003d90: 6f6b 3a0a 2020 2020 2020 2020 2320 2020  ok:.        #   
+00003da0: 2020 2020 2020 7265 7370 2e6f 7574 7075        resp.outpu
+00003db0: 7420 3d20 776c 616e 5f72 6573 702e 6f75  t = wlan_resp.ou
+00003dc0: 7470 7574 202b 2077 6972 6564 5f72 6573  tput + wired_res
+00003dd0: 702e 6f75 7470 7574 0a0a 2020 2020 2020  p.output..      
+00003de0: 2020 7265 7173 203d 205b 0a20 2020 2020    reqs = [.     
+00003df0: 2020 2020 2020 2073 656c 662e 4261 7463         self.Batc
+00003e00: 6852 6571 7565 7374 2873 656c 662e 6765  hRequest(self.ge
+00003e10: 745f 7769 7265 6c65 7373 5f63 6c69 656e  t_wireless_clien
+00003e20: 7473 2c20 2a2a 7b2a 2a70 6172 616d 732c  ts, **{**params,
+00003e30: 202a 2a77 6c61 6e5f 6f6e 6c79 5f70 6172   **wlan_only_par
+00003e40: 616d 737d 292c 0a20 2020 2020 2020 2020  ams}),.         
+00003e50: 2020 2073 656c 662e 4261 7463 6852 6571     self.BatchReq
+00003e60: 7565 7374 2873 656c 662e 6765 745f 7769  uest(self.get_wi
+00003e70: 7265 645f 636c 6965 6e74 732c 202a 2a7b  red_clients, **{
+00003e80: 2a2a 7061 7261 6d73 2c20 2a2a 7769 7265  **params, **wire
+00003e90: 645f 6f6e 6c79 5f70 6172 616d 737d 290a  d_only_params}).
+00003ea0: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
+00003eb0: 2020 2320 4649 584d 4520 6966 2077 6972    # FIXME if wir
+00003ec0: 656c 6573 7320 636c 6965 6e74 7320 6361  eless clients ca
+00003ed0: 6c6c 2070 6173 7365 7320 6275 7420 7769  ll passes but wi
+00003ee0: 7265 6420 6661 696c 7320 7468 6572 6520  red fails there 
+00003ef0: 6973 206e 6f20 696e 6469 6361 7469 6f6e  is no indication
+00003f00: 2069 6e20 6365 6e63 6c69 2073 686f 7720   in cencli show 
+00003f10: 636c 6965 6e74 7320 6f75 7470 7574 0a20  clients output. 
+00003f20: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
+00003f30: 6169 7420 7365 6c66 2e5f 6261 7463 685f  ait self._batch_
+00003f40: 7265 7175 6573 7428 7265 7173 290a 2020  request(reqs).  
+00003f50: 2020 2020 2020 6966 206c 656e 2872 6573        if len(res
+00003f60: 7029 203d 3d20 323a 2020 2320 616e 6420  p) == 2:  # and 
+00003f70: 616c 6c28 782e 6f6b 2066 6f72 2078 2069  all(x.ok for x i
+00003f80: 6e20 7265 7370 293a 0a20 2020 2020 2020  n resp):.       
+00003f90: 2020 2020 206f 7574 203d 205b 5d0a 2020       out = [].  
+00003fa0: 2020 2020 2020 2020 2020 666f 7220 7220            for r 
+00003fb0: 696e 2072 6573 703a 0a20 2020 2020 2020  in resp:.       
+00003fc0: 2020 2020 2020 2020 2069 6620 722e 6f6b           if r.ok
+00003fd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00003fe0: 2020 2020 2020 6f75 7420 2b3d 2072 2e6f        out += r.o
+00003ff0: 7574 7075 740a 2020 2020 2020 2020 2020  utput.          
+00004000: 2020 7261 7720 3d20 5b0a 2020 2020 2020    raw = [.      
+00004010: 2020 2020 2020 2020 2020 7b22 7261 775f            {"raw_
+00004020: 7769 7265 6c65 7373 5f72 6573 706f 6e73  wireless_respons
+00004030: 6522 3a20 7265 7370 5b30 5d2e 7261 777d  e": resp[0].raw}
+00004040: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00004050: 2020 7b22 7261 775f 7769 7265 645f 7265    {"raw_wired_re
+00004060: 7370 6f6e 7365 223a 2072 6573 705b 315d  sponse": resp[1]
+00004070: 2e72 6177 7d0a 2020 2020 2020 2020 2020  .raw}.          
+00004080: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
+00004090: 7265 7370 203d 2072 6573 705b 315d 2069  resp = resp[1] i
+000040a0: 6620 7265 7370 5b31 5d2e 6f6b 2065 6c73  f resp[1].ok els
+000040b0: 6520 7265 7370 5b30 5d0a 2020 2020 2020  e resp[0].      
+000040c0: 2020 2020 2020 7265 7370 2e6f 7574 7075        resp.outpu
+000040d0: 7420 3d20 6f75 740a 2020 2020 2020 2020  t = out.        
+000040e0: 2020 2020 7265 7370 2e72 6177 203d 2072      resp.raw = r
+000040f0: 6177 0a20 2020 2020 2020 2020 2020 2023  aw.            #
+00004100: 2054 4f44 4f20 6e65 6564 2052 6573 706f   TODO need Respo
+00004110: 6e73 6520 746f 2068 6176 6520 616e 2061  nse to have an a
+00004120: 7474 7269 6275 7465 2074 6861 7420 7374  ttribute that st
+00004130: 6f72 6573 2066 6169 6c65 6420 6361 6c6c  ores failed call
+00004140: 7320 736f 2063 6c69 2063 6f6d 6d61 6e64  s so cli command
+00004150: 7320 6361 6e20 6469 7370 6c61 7920 6f75  s can display ou
+00004160: 7470 7574 206f 6620 7061 7373 6564 2063  tput of passed c
+00004170: 616c 6c73 2061 6e64 2064 6574 6169 6c73  alls and details
+00004180: 206f 6e20 6572 726f 7273 2028 7768 656e   on errors (when
+00004190: 2073 6f6d 6520 6361 6c6c 7320 6661 696c   some calls fail
+000041a0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+000041b0: 6e20 7265 7370 0a0a 2020 2020 6173 796e  n resp..    asyn
+000041c0: 6320 6465 6620 6765 745f 636c 6965 6e74  c def get_client
+000041d0: 5f72 6f61 6d69 6e67 5f68 6973 746f 7279  _roaming_history
+000041e0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+000041f0: 2020 2020 2020 2020 6d61 6361 6464 723a          macaddr:
+00004200: 2073 7472 2c0a 2020 2020 2020 2020 6361   str,.        ca
+00004210: 6c63 756c 6174 655f 746f 7461 6c3a 2062  lculate_total: b
+00004220: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
+00004230: 2020 2020 6672 6f6d 5f74 696d 6573 7461      from_timesta
+00004240: 6d70 3a20 696e 7420 3d20 4e6f 6e65 2c0a  mp: int = None,.
+00004250: 2020 2020 2020 2020 746f 5f74 696d 6573          to_times
+00004260: 7461 6d70 3a20 696e 7420 3d20 4e6f 6e65  tamp: int = None
+00004270: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+00004280: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+00004290: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+000042a0: 3130 302c 0a20 2020 2029 202d 3e20 5265  100,.    ) -> Re
+000042b0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+000042c0: 2222 2257 6972 656c 6573 7320 436c 6965  """Wireless Clie
+000042d0: 6e74 204d 6f62 696c 6974 7920 5472 6169  nt Mobility Trai
+000042e0: 6c2e 0a0a 2020 2020 2020 2020 4172 6773  l...        Args
+000042f0: 3a0a 2020 2020 2020 2020 2020 2020 6d61  :.            ma
+00004300: 6361 6464 7220 2873 7472 293a 204d 4143  caddr (str): MAC
+00004310: 2061 6464 7265 7373 206f 6620 7468 6520   address of the 
+00004320: 5769 7265 6c65 7373 2043 6c69 656e 7420  Wireless Client 
+00004330: 746f 2062 6520 7175 6572 6965 640a 2020  to be queried.  
+00004340: 2020 2020 2020 2020 2020 6361 6c63 756c            calcul
+00004350: 6174 655f 746f 7461 6c20 2862 6f6f 6c2c  ate_total (bool,
+00004360: 206f 7074 696f 6e61 6c29 3a20 5768 6574   optional): Whet
+00004370: 6865 7220 746f 2063 616c 6375 6c61 7465  her to calculate
+00004380: 2074 6f74 616c 2074 7261 6e73 6974 696f   total transitio
+00004390: 6e73 0a20 2020 2020 2020 2020 2020 2066  ns.            f
+000043a0: 726f 6d5f 7469 6d65 7374 616d 7020 2869  rom_timestamp (i
+000043b0: 6e74 2c20 6f70 7469 6f6e 616c 293a 204e  nt, optional): N
+000043c0: 6565 6420 696e 666f 726d 6174 696f 6e20  eed information 
+000043d0: 6672 6f6d 2074 6869 7320 7469 6d65 7374  from this timest
+000043e0: 616d 702e 2054 696d 6573 7461 6d70 2069  amp. Timestamp i
+000043f0: 7320 6570 6f63 680a 2020 2020 2020 2020  s epoch.        
+00004400: 2020 2020 2020 2020 696e 2073 6563 6f6e          in secon
+00004410: 6473 2e20 4465 6661 756c 7420 6973 2063  ds. Default is c
+00004420: 7572 7265 6e74 2074 696d 6573 7461 6d70  urrent timestamp
+00004430: 206d 696e 7573 2033 2068 6f75 7273 0a20   minus 3 hours. 
+00004440: 2020 2020 2020 2020 2020 2074 6f5f 7469             to_ti
+00004450: 6d65 7374 616d 7020 2869 6e74 2c20 6f70  mestamp (int, op
+00004460: 7469 6f6e 616c 293a 204e 6565 6420 696e  tional): Need in
+00004470: 666f 726d 6174 696f 6e20 746f 2074 6869  formation to thi
+00004480: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+00004490: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+000044a0: 696e 0a20 2020 2020 2020 2020 2020 2020  in.             
+000044b0: 2020 2073 6563 6f6e 6473 2e20 4465 6661     seconds. Defa
+000044c0: 756c 7420 6973 2063 7572 7265 6e74 2074  ult is current t
+000044d0: 696d 6573 7461 6d70 0a20 2020 2020 2020  imestamp.       
+000044e0: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+000044f0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+00004500: 696e 6174 696f 6e20 6f66 6673 6574 2044  ination offset D
+00004510: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
+00004520: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
+00004530: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00004540: 2050 6167 696e 6174 696f 6e20 6c69 6d69   Pagination limi
+00004550: 742e 2044 6566 6175 6c74 2069 7320 3130  t. Default is 10
+00004560: 3020 616e 6420 6d61 7820 6973 2031 3030  0 and max is 100
+00004570: 3020 4465 6661 756c 7473 2074 6f20 3130  0 Defaults to 10
+00004580: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
+00004590: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+000045a0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+000045b0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+000045c0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+000045d0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+000045e0: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
+000045f0: 2f63 6c69 656e 7473 2f77 6972 656c 6573  /clients/wireles
+00004600: 732f 7b6d 6163 6164 6472 7d2f 6d6f 6269  s/{macaddr}/mobi
+00004610: 6c69 7479 5f74 7261 696c 220a 0a20 2020  lity_trail"..   
+00004620: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+00004630: 2020 2020 2020 2020 2020 2020 2763 616c              'cal
+00004640: 6375 6c61 7465 5f74 6f74 616c 273a 2063  culate_total': c
+00004650: 616c 6375 6c61 7465 5f74 6f74 616c 2c0a  alculate_total,.
+00004660: 2020 2020 2020 2020 2020 2020 2766 726f              'fro
+00004670: 6d5f 7469 6d65 7374 616d 7027 3a20 6672  m_timestamp': fr
+00004680: 6f6d 5f74 696d 6573 7461 6d70 2c0a 2020  om_timestamp,.  
+00004690: 2020 2020 2020 2020 2020 2774 6f5f 7469            'to_ti
+000046a0: 6d65 7374 616d 7027 3a20 746f 5f74 696d  mestamp': to_tim
+000046b0: 6573 7461 6d70 2c0a 2020 2020 2020 2020  estamp,.        
+000046c0: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
+000046d0: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+000046e0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
+000046f0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00004700: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00004710: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00004720: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00004730: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00004740: 5f77 6972 656c 6573 735f 636c 6965 6e74  _wireless_client
+00004750: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00004760: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+00004770: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00004780: 2020 2020 7377 6172 6d5f 6964 3a20 7374      swarm_id: st
+00004790: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+000047a0: 2020 6c61 6265 6c3a 2073 7472 203d 204e    label: str = N
+000047b0: 6f6e 652c 0a20 2020 2020 2020 2073 6974  one,.        sit
+000047c0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+000047d0: 2020 2020 2020 206e 6574 776f 726b 3a20         network: 
+000047e0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+000047f0: 2020 2020 7365 7269 616c 3a20 7374 7220      serial: str 
+00004800: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00004810: 6f73 5f74 7970 653a 2073 7472 203d 204e  os_type: str = N
+00004820: 6f6e 652c 0a20 2020 2020 2020 2063 6c75  one,.        clu
+00004830: 7374 6572 5f69 643a 2073 7472 203d 204e  ster_id: str = N
+00004840: 6f6e 652c 0a20 2020 2020 2020 2062 616e  one,.        ban
+00004850: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+00004860: 2020 2020 2020 2066 6965 6c64 733a 2073         fields: s
 00004870: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00004880: 2020 206e 6574 776f 726b 3a20 7374 7220     network: str 
-00004890: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-000048a0: 7365 7269 616c 3a20 7374 7220 3d20 4e6f  serial: str = No
-000048b0: 6e65 2c0a 2020 2020 2020 2020 6f73 5f74  ne,.        os_t
-000048c0: 7970 653a 2073 7472 203d 204e 6f6e 652c  ype: str = None,
-000048d0: 0a20 2020 2020 2020 2063 6c75 7374 6572  .        cluster
-000048e0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
-000048f0: 0a20 2020 2020 2020 2062 616e 643a 2073  .        band: s
-00004900: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00004910: 2020 2066 6965 6c64 733a 2073 7472 203d     fields: str =
-00004920: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
-00004930: 616c 6375 6c61 7465 5f74 6f74 616c 3a20  alculate_total: 
-00004940: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
-00004950: 2020 2020 2023 2073 6f72 745f 6279 3a20       # sort_by: 
-00004960: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00004970: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-00004980: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-00004990: 6974 3a20 696e 7420 3d20 3530 302c 0a20  it: int = 500,. 
-000049a0: 2020 2020 2020 2023 202a 2a6b 7761 7267         # **kwarg
-000049b0: 732c 0a20 2020 2029 202d 3e20 5265 7370  s,.    ) -> Resp
-000049c0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-000049d0: 224c 6973 7420 5769 7265 6c65 7373 2043  "List Wireless C
-000049e0: 6c69 656e 7473 2e0a 0a20 2020 2020 2020  lients...       
-000049f0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00004a00: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
-00004a10: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-00004a20: 2062 7920 6772 6f75 7020 6e61 6d65 0a20   by group name. 
-00004a30: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
-00004a40: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-00004a50: 616c 293a 2046 696c 7465 7220 6279 2053  al): Filter by S
-00004a60: 7761 726d 2049 440a 2020 2020 2020 2020  warm ID.        
-00004a70: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
-00004a80: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-00004a90: 7220 6279 204c 6162 656c 206e 616d 650a  r by Label name.
-00004aa0: 2020 2020 2020 2020 2020 2020 7369 7465              site
-00004ab0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00004ac0: 3a20 4669 6c74 6572 2062 7920 5369 7465  : Filter by Site
-00004ad0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
-00004ae0: 2020 6e65 7477 6f72 6b20 2873 7472 2c20    network (str, 
-00004af0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-00004b00: 7220 6279 206e 6574 776f 726b 206e 616d  r by network nam
-00004b10: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
-00004b20: 7269 616c 2028 7374 722c 206f 7074 696f  rial (str, optio
-00004b30: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00004b40: 4150 2073 6572 6961 6c20 6e75 6d62 6572  AP serial number
-00004b50: 0a20 2020 2020 2020 2020 2020 206f 735f  .            os_
-00004b60: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-00004b70: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00004b80: 636c 6965 6e74 206f 7320 7479 7065 0a20  client os type. 
-00004b90: 2020 2020 2020 2020 2020 2063 6c75 7374             clust
-00004ba0: 6572 5f69 6420 2873 7472 2c20 6f70 7469  er_id (str, opti
-00004bb0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-00004bc0: 204d 6f62 696c 6974 7920 436f 6e74 726f   Mobility Contro
-00004bd0: 6c6c 6572 2073 6572 6961 6c20 6e75 6d62  ller serial numb
-00004be0: 6572 0a20 2020 2020 2020 2020 2020 2062  er.            b
-00004bf0: 616e 6420 2873 7472 2c20 6f70 7469 6f6e  and (str, option
-00004c00: 616c 293a 2046 696c 7465 7220 6279 2062  al): Filter by b
-00004c10: 616e 642e 2056 616c 7565 2063 616e 2062  and. Value can b
-00004c20: 6520 6569 7468 6572 2022 322e 3422 206f  e either "2.4" o
-00004c30: 7220 2235 220a 2020 2020 2020 2020 2020  r "5".          
-00004c40: 2020 6669 656c 6473 2028 7374 722c 206f    fields (str, o
-00004c50: 7074 696f 6e61 6c29 3a20 436f 6d6d 6120  ptional): Comma 
-00004c60: 7365 7061 7261 7465 6420 6c69 7374 206f  separated list o
-00004c70: 6620 6669 656c 6473 2074 6f20 6265 2072  f fields to be r
-00004c80: 6574 7572 6e65 642e 2056 616c 6964 2066  eturned. Valid f
-00004c90: 6965 6c64 7320 6172 650a 2020 2020 2020  ields are.      
-00004ca0: 2020 2020 2020 2020 2020 6e61 6d65 2c20            name, 
-00004cb0: 6970 5f61 6464 7265 7373 2c20 7573 6572  ip_address, user
-00004cc0: 6e61 6d65 2c20 6f73 5f74 7970 652c 2063  name, os_type, c
-00004cd0: 6f6e 6e65 6374 696f 6e2c 2061 7373 6f63  onnection, assoc
-00004ce0: 6961 7465 645f 6465 7669 6365 2c20 6772  iated_device, gr
-00004cf0: 6f75 705f 6e61 6d65 2c0a 2020 2020 2020  oup_name,.      
-00004d00: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
-00004d10: 6964 2c20 6e65 7477 6f72 6b2c 2072 6164  id, network, rad
-00004d20: 696f 5f6d 6163 2c20 6d61 6e75 6661 6374  io_mac, manufact
-00004d30: 7572 6572 2c20 766c 616e 2c20 656e 6372  urer, vlan, encr
-00004d40: 7970 7469 6f6e 5f6d 6574 686f 642c 2072  yption_method, r
-00004d50: 6164 696f 5f6e 756d 6265 722c 0a20 2020  adio_number,.   
-00004d60: 2020 2020 2020 2020 2020 2020 2073 7065               spe
-00004d70: 6564 2c20 7573 6167 652c 2068 6561 6c74  ed, usage, healt
-00004d80: 682c 206c 6162 656c 732c 2073 6974 652c  h, labels, site,
-00004d90: 2073 6967 6e61 6c5f 7374 7265 6e67 7468   signal_strength
-00004da0: 2c20 7369 676e 616c 5f64 622c 2073 6e72  , signal_db, snr
-00004db0: 0a20 2020 2020 2020 2020 2020 2063 616c  .            cal
-00004dc0: 6375 6c61 7465 5f74 6f74 616c 2028 626f  culate_total (bo
-00004dd0: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2057  ol, optional): W
-00004de0: 6865 7468 6572 2074 6f20 6361 6c63 756c  hether to calcul
-00004df0: 6174 6520 746f 7461 6c20 7769 7265 6c65  ate total wirele
-00004e00: 7373 2043 6c69 656e 7473 0a20 2020 2020  ss Clients.     
-00004e10: 2020 2020 2020 2073 6f72 7420 2873 7472         sort (str
-00004e20: 2c20 6f70 7469 6f6e 616c 293a 2053 6f72  , optional): Sor
-00004e30: 7420 7061 7261 6d65 7465 7220 6d61 7920  t parameter may 
-00004e40: 6265 206f 6e65 206f 6620 2b6d 6163 6164  be one of +macad
-00004e50: 6472 2c20 2d6d 6163 6164 6472 2e20 2044  dr, -macaddr.  D
-00004e60: 6566 6175 6c74 2069 730a 2020 2020 2020  efault is.      
-00004e70: 2020 2020 2020 2020 2020 272b 6d61 6361            '+maca
-00004e80: 6464 7227 0a20 2020 2020 2020 2020 2020  ddr'.           
-00004e90: 206f 6666 7365 7420 2869 6e74 2c20 6f70   offset (int, op
-00004ea0: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
-00004eb0: 696f 6e20 6f66 6673 6574 2044 6566 6175  ion offset Defau
-00004ec0: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-00004ed0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-00004ee0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-00004ef0: 696e 6174 696f 6e20 6c69 6d69 742e 2044  ination limit. D
-00004f00: 6566 6175 6c74 2069 7320 3130 3020 616e  efault is 100 an
-00004f10: 6420 6d61 7820 6973 2031 3030 3020 4465  d max is 1000 De
-00004f20: 6661 756c 7473 2074 6f20 3530 302e 0a0a  faults to 500...
-00004f30: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00004f40: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00004f50: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00004f60: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00004f70: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00004f80: 2020 2020 2020 7572 6c20 3d20 222f 6d6f        url = "/mo
-00004f90: 6e69 746f 7269 6e67 2f76 312f 636c 6965  nitoring/v1/clie
-00004fa0: 6e74 732f 7769 7265 6c65 7373 220a 0a20  nts/wireless".. 
-00004fb0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-00004fc0: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
-00004fd0: 726f 7570 223a 2067 726f 7570 2c0a 2020  roup": group,.  
-00004fe0: 2020 2020 2020 2020 2020 2273 7761 726d            "swarm
-00004ff0: 5f69 6422 3a20 7377 6172 6d5f 6964 2c0a  _id": swarm_id,.
-00005000: 2020 2020 2020 2020 2020 2020 226c 6162              "lab
-00005010: 656c 223a 206c 6162 656c 2c0a 2020 2020  el": label,.    
-00005020: 2020 2020 2020 2020 2273 6974 6522 3a20          "site": 
-00005030: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
-00005040: 2020 226e 6574 776f 726b 223a 206e 6574    "network": net
-00005050: 776f 726b 2c0a 2020 2020 2020 2020 2020  work,.          
-00005060: 2020 2273 6572 6961 6c22 3a20 7365 7269    "serial": seri
-00005070: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
-00005080: 226f 735f 7479 7065 223a 206f 735f 7479  "os_type": os_ty
-00005090: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
-000050a0: 2263 6c75 7374 6572 5f69 6422 3a20 636c  "cluster_id": cl
-000050b0: 7573 7465 725f 6964 2c0a 2020 2020 2020  uster_id,.      
-000050c0: 2020 2020 2020 2262 616e 6422 3a20 6261        "band": ba
-000050d0: 6e64 2c0a 2020 2020 2020 2020 2020 2020  nd,.            
-000050e0: 2266 6965 6c64 7322 3a20 6669 656c 6473  "fields": fields
-000050f0: 2c0a 2020 2020 2020 2020 2020 2020 2263  ,.            "c
-00005100: 616c 6375 6c61 7465 5f74 6f74 616c 223a  alculate_total":
-00005110: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
-00005120: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
-00005130: 2773 6f72 7427 3a20 736f 7274 5f62 792c  'sort': sort_by,
-00005140: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
-00005150: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
-00005160: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
-00005170: 7422 3a20 6c69 6d69 742c 0a20 2020 2020  t": limit,.     
-00005180: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00005190: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-000051a0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-000051b0: 7061 7261 6d73 2c29 0a20 2020 2020 2020  params,).       
-000051c0: 2023 2069 6620 736f 7274 5f62 7920 6973   # if sort_by is
-000051d0: 204e 6f6e 653a 0a20 2020 2020 2020 2023   None:.        #
-000051e0: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
-000051f0: 0a20 2020 2020 2020 2023 2065 6c73 653a  .        # else:
-00005200: 0a20 2020 2020 2020 2023 2020 2020 2072  .        #     r
-00005210: 6574 7572 6e20 7365 6c66 2e5f 736f 7274  eturn self._sort
-00005220: 6564 2872 6573 702c 2073 6f72 745f 6279  ed(resp, sort_by
-00005230: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00005240: 2067 6574 5f77 6972 6564 5f63 6c69 656e   get_wired_clien
-00005250: 7473 280a 2020 2020 2020 2020 7365 6c66  ts(.        self
-00005260: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
-00005270: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00005280: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
-00005290: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-000052a0: 2020 206c 6162 656c 3a20 7374 7220 3d20     label: str = 
-000052b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
-000052c0: 7465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  te: str = None,.
-000052d0: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-000052e0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000052f0: 2020 2020 636c 7573 7465 725f 6964 3a20      cluster_id: 
-00005300: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00005310: 2020 2020 7374 6163 6b5f 6964 3a20 7374      stack_id: st
-00005320: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00005330: 2020 6669 656c 6473 3a20 7374 7220 3d20    fields: str = 
-00005340: 4e6f 6e65 2c0a 2020 2020 2020 2020 6361  None,.        ca
-00005350: 6c63 756c 6174 655f 746f 7461 6c3a 2062  lculate_total: b
-00005360: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
-00005370: 2020 2020 2320 736f 7274 5f62 793a 2073      # sort_by: s
-00005380: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00005390: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
-000053a0: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
-000053b0: 743a 2069 6e74 203d 2035 3030 2c0a 2020  t: int = 500,.  
-000053c0: 2020 2020 2020 2320 2a2a 6b77 6172 6773        # **kwargs
-000053d0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-000053e0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-000053f0: 4c69 7374 2057 6972 6564 2043 6c69 656e  List Wired Clien
-00005400: 7473 2e0a 0a20 2020 2020 2020 2041 7267  ts...        Arg
-00005410: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-00005420: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
-00005430: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00005440: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
-00005450: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
-00005460: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00005470: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
-00005480: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
-00005490: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
-000054a0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-000054b0: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
-000054c0: 2020 2020 2020 2020 7369 7465 2028 7374          site (st
-000054d0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-000054e0: 6c74 6572 2062 7920 5369 7465 206e 616d  lter by Site nam
-000054f0: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
-00005500: 7269 616c 2028 7374 722c 206f 7074 696f  rial (str, optio
-00005510: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-00005520: 5377 6974 6368 206f 7220 4150 2073 6572  Switch or AP ser
-00005530: 6961 6c20 6e75 6d62 6572 0a20 2020 2020  ial number.     
-00005540: 2020 2020 2020 2063 6c75 7374 6572 5f69         cluster_i
-00005550: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
-00005560: 293a 2046 696c 7465 7220 6279 204d 6f62  ): Filter by Mob
-00005570: 696c 6974 7920 436f 6e74 726f 6c6c 6572  ility Controller
-00005580: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
-00005590: 2020 2020 2020 2020 2020 2073 7461 636b             stack
-000055a0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-000055b0: 616c 293a 2046 696c 7465 7220 6279 2053  al): Filter by S
-000055c0: 7769 7463 6820 7374 6163 6b5f 6964 0a20  witch stack_id. 
-000055d0: 2020 2020 2020 2020 2020 2066 6965 6c64             field
-000055e0: 7320 2873 7472 2c20 6f70 7469 6f6e 616c  s (str, optional
-000055f0: 293a 2043 6f6d 6d61 2073 6570 6172 6174  ): Comma separat
-00005600: 6564 206c 6973 7420 6f66 2066 6965 6c64  ed list of field
-00005610: 7320 746f 2062 6520 7265 7475 726e 6564  s to be returned
-00005620: 2e20 5661 6c69 6420 6669 656c 6473 2061  . Valid fields a
-00005630: 7265 0a20 2020 2020 2020 2020 2020 2020  re.             
-00005640: 2020 206e 616d 652c 2069 705f 6164 6472     name, ip_addr
-00005650: 6573 732c 2075 7365 726e 616d 652c 2061  ess, username, a
-00005660: 7373 6f63 6961 7465 645f 6465 7669 6365  ssociated_device
-00005670: 2c20 6772 6f75 705f 6e61 6d65 2c20 696e  , group_name, in
-00005680: 7465 7266 6163 655f 6d61 632c 2076 6c61  terface_mac, vla
-00005690: 6e0a 2020 2020 2020 2020 2020 2020 6361  n.            ca
-000056a0: 6c63 756c 6174 655f 746f 7461 6c20 2862  lculate_total (b
-000056b0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-000056c0: 5768 6574 6865 7220 746f 2063 616c 6375  Whether to calcu
-000056d0: 6c61 7465 2074 6f74 616c 2077 6972 6564  late total wired
-000056e0: 2043 6c69 656e 7473 0a20 2020 2020 2020   Clients.       
-000056f0: 2020 2020 2046 4958 4d45 2073 6f72 7420       FIXME sort 
-00005700: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00005710: 2046 6965 6c64 2074 6f20 736f 7274 206f   Field to sort o
-00005720: 6e2e 2020 4465 6661 756c 7473 2074 6f20  n.  Defaults to 
-00005730: 6d61 630a 2020 2020 2020 2020 2020 2020  mac.            
-00005740: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
-00005750: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
-00005760: 6f6e 206f 6666 7365 7420 4465 6661 756c  on offset Defaul
-00005770: 7473 2074 6f20 302e 0a20 2020 2020 2020  ts to 0..       
-00005780: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-00005790: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
-000057a0: 6e61 7469 6f6e 206c 696d 6974 2e20 4465  nation limit. De
-000057b0: 6661 756c 7420 6973 2031 3030 2061 6e64  fault is 100 and
-000057c0: 206d 6178 2069 7320 3130 3030 2044 6566   max is 1000 Def
-000057d0: 6175 6c74 7320 746f 2035 3030 2e0a 0a20  aults to 500... 
-000057e0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-000057f0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-00005800: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-00005810: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-00005820: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00005830: 2020 2020 2075 726c 203d 2022 2f6d 6f6e       url = "/mon
-00005840: 6974 6f72 696e 672f 7631 2f63 6c69 656e  itoring/v1/clien
-00005850: 7473 2f77 6972 6564 220a 0a20 2020 2020  ts/wired"..     
-00005860: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-00005870: 2020 2020 2020 2020 2020 2267 726f 7570            "group
-00005880: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
-00005890: 2020 2020 2020 2273 7761 726d 5f69 6422        "swarm_id"
-000058a0: 3a20 7377 6172 6d5f 6964 2c0a 2020 2020  : swarm_id,.    
-000058b0: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
-000058c0: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
-000058d0: 2020 2020 2273 6974 6522 3a20 7369 7465      "site": site
-000058e0: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-000058f0: 6572 6961 6c22 3a20 7365 7269 616c 2c0a  erial": serial,.
-00005900: 2020 2020 2020 2020 2020 2020 2263 6c75              "clu
-00005910: 7374 6572 5f69 6422 3a20 636c 7573 7465  ster_id": cluste
-00005920: 725f 6964 2c0a 2020 2020 2020 2020 2020  r_id,.          
-00005930: 2020 2273 7461 636b 5f69 6422 3a20 7374    "stack_id": st
-00005940: 6163 6b5f 6964 2c0a 2020 2020 2020 2020  ack_id,.        
-00005950: 2020 2020 2266 6965 6c64 7322 3a20 6669      "fields": fi
-00005960: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
-00005970: 2020 2263 616c 6375 6c61 7465 5f74 6f74    "calculate_tot
-00005980: 616c 223a 2063 616c 6375 6c61 7465 5f74  al": calculate_t
-00005990: 6f74 616c 2c0a 2020 2020 2020 2020 2020  otal,.          
-000059a0: 2020 2320 2773 6f72 7427 3a20 736f 7274    # 'sort': sort
-000059b0: 5f62 792c 0a20 2020 2020 2020 2020 2020  _by,.           
-000059c0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
-000059d0: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
-000059e0: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
-000059f0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00005a00: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00005a10: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-00005a20: 616d 733d 7061 7261 6d73 2c29 0a20 2020  ams=params,).   
-00005a30: 2020 2020 2023 2069 6620 736f 7274 5f62       # if sort_b
-00005a40: 7920 6973 204e 6f6e 653a 0a20 2020 2020  y is None:.     
-00005a50: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
-00005a60: 7265 7370 0a20 2020 2020 2020 2023 2065  resp.        # e
-00005a70: 6c73 653a 0a20 2020 2020 2020 2023 2020  lse:.        #  
-00005a80: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
-00005a90: 736f 7274 6564 2872 6573 702c 2073 6f72  sorted(resp, sor
-00005aa0: 745f 6279 290a 0a20 2020 2061 7379 6e63  t_by)..    async
-00005ab0: 2064 6566 2067 6574 5f63 6c69 656e 745f   def get_client_
-00005ac0: 6465 7461 696c 7328 0a20 2020 2020 2020  details(.       
-00005ad0: 2073 656c 662c 0a20 2020 2020 2020 206d   self,.        m
-00005ae0: 6163 3a20 7574 696c 732e 4d61 632c 0a20  ac: utils.Mac,. 
-00005af0: 2020 2020 2020 2064 6576 5f74 7970 653a         dev_type:
-00005b00: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00005b10: 2020 2020 2023 2073 6f72 745f 6279 3a20       # sort_by: 
-00005b20: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00005b30: 2020 2020 2a2a 6b77 6172 6773 0a20 2020      **kwargs.   
-00005b40: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00005b50: 2020 2020 2020 2020 2222 2247 6574 2057          """Get W
-00005b60: 6972 6564 2f57 6972 656c 6573 7320 436c  ired/Wireless Cl
-00005b70: 6965 6e74 2044 6574 6169 6c73 2e0a 0a20  ient Details... 
-00005b80: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00005b90: 2020 2020 2020 2020 206d 6163 2028 7574           mac (ut
-00005ba0: 696c 732e 4d61 6329 3a20 4d41 4320 6164  ils.Mac): MAC ad
-00005bb0: 6472 6573 7320 6f66 2074 6865 2057 6972  dress of the Wir
-00005bc0: 656c 6573 7320 436c 6965 6e74 2074 6f20  eless Client to 
-00005bd0: 6265 2071 7565 7269 6564 0a20 2020 2020  be queried.     
-00005be0: 2020 2020 2020 2020 2020 2041 5049 2077             API w
-00005bf0: 696c 6c20 7265 7475 726e 2072 6573 756c  ill return resul
-00005c00: 7473 206d 6174 6368 696e 6720 6120 7061  ts matching a pa
-00005c10: 7274 6961 6c20 4d61 630a 0a20 2020 2020  rtial Mac..     
-00005c20: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00005c30: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00005c40: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00005c50: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00005c60: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00005c70: 2023 2041 5049 2d46 4c41 5720 5468 6973   # API-FLAW This
-00005c80: 206c 6f67 6963 2069 7320 6865 7265 2062   logic is here b
-00005c90: 6563 6175 7365 2043 656e 7472 616c 2068  ecause Central h
-00005ca0: 6173 2062 6f74 6820 6d65 7468 6f64 732c  as both methods,
-00005cb0: 2062 7574 2067 6976 656e 2061 2077 6c61   but given a wla
-00005cc0: 6e20 636c 6965 6e74 206d 6163 0a20 2020  n client mac.   
-00005cd0: 2020 2020 2023 2063 656e 7472 616c 2077       # central w
-00005ce0: 696c 6c20 7265 7475 726e 2074 6865 2063  ill return the c
-00005cf0: 6c69 656e 7420 6465 7461 696c 7320 6576  lient details ev
-00005d00: 656e 2077 6865 6e20 7573 696e 6720 7468  en when using th
-00005d10: 6520 7769 7265 6420 7572 6c0a 0a20 2020  e wired url..   
-00005d20: 2020 2020 2023 204d 6163 206d 6174 6368       # Mac match
-00005d30: 206c 6f67 6963 2069 7320 6a61 636b 6564   logic is jacked
-00005d40: 2069 6e20 6365 6e74 7261 6c0a 2020 2020   in central.    
-00005d50: 2020 2020 2320 6769 7665 6e20 6120 636c      # given a cl
-00005d60: 6965 6e74 2077 6974 6820 6120 4d41 4320  ient with a MAC 
-00005d70: 6f66 2061 633a 3337 3a34 333a 3461 3a38  of ac:37:43:4a:8
-00005d80: 653a 6661 0a20 2020 2020 2020 2023 0a20  e:fa.        #. 
-00005d90: 2020 2020 2020 2023 204d 616b 6520 4d41         # Make MA
-00005da0: 4320 696e 7661 6c69 6420 2863 6861 6e67  C invalid (chang
-00005db0: 6564 206c 6173 7420 6f63 7465 7429 3a0a  ed last octet):.
-00005dc0: 2020 2020 2020 2020 2320 2020 6163 3a33          #   ac:3
-00005dd0: 373a 3433 3a34 613a 3865 3a66 6620 4e6f  7:43:4a:8e:ff No
-00005de0: 204d 6174 6368 0a20 2020 2020 2020 2023   Match.        #
-00005df0: 2020 2061 6333 3734 3334 6138 6566 6620     ac37434a8eff 
-00005e00: 4e6f 204d 6174 6368 0a20 2020 2020 2020  No Match.       
-00005e10: 2023 2020 2061 633a 3337 3a34 333a 3461   #   ac:37:43:4a
-00005e20: 3a38 652d 6666 2020 5265 7475 726e 7320  :8e-ff  Returns 
+00004880: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
+00004890: 616c 3a20 626f 6f6c 203d 204e 6f6e 652c  al: bool = None,
+000048a0: 0a20 2020 2020 2020 2023 2073 6f72 745f  .        # sort_
+000048b0: 6279 3a20 7374 7220 3d20 4e6f 6e65 2c0a  by: str = None,.
+000048c0: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
+000048d0: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
+000048e0: 206c 696d 6974 3a20 696e 7420 3d20 3530   limit: int = 50
+000048f0: 302c 0a20 2020 2020 2020 2023 202a 2a6b  0,.        # **k
+00004900: 7761 7267 732c 0a20 2020 2029 202d 3e20  wargs,.    ) -> 
+00004910: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00004920: 2020 2222 224c 6973 7420 5769 7265 6c65    """List Wirele
+00004930: 7373 2043 6c69 656e 7473 2e0a 0a20 2020  ss Clients...   
+00004940: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00004950: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
+00004960: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+00004970: 6c74 6572 2062 7920 6772 6f75 7020 6e61  lter by group na
+00004980: 6d65 0a20 2020 2020 2020 2020 2020 2073  me.            s
+00004990: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
+000049a0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+000049b0: 6279 2053 7761 726d 2049 440a 2020 2020  by Swarm ID.    
+000049c0: 2020 2020 2020 2020 6c61 6265 6c20 2873          label (s
+000049d0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+000049e0: 696c 7465 7220 6279 204c 6162 656c 206e  ilter by Label n
+000049f0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+00004a00: 7369 7465 2028 7374 722c 206f 7074 696f  site (str, optio
+00004a10: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00004a20: 5369 7465 206e 616d 650a 2020 2020 2020  Site name.      
+00004a30: 2020 2020 2020 6e65 7477 6f72 6b20 2873        network (s
+00004a40: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+00004a50: 696c 7465 7220 6279 206e 6574 776f 726b  ilter by network
+00004a60: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+00004a70: 2020 7365 7269 616c 2028 7374 722c 206f    serial (str, o
+00004a80: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00004a90: 2062 7920 4150 2073 6572 6961 6c20 6e75   by AP serial nu
+00004aa0: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
+00004ab0: 206f 735f 7479 7065 2028 7374 722c 206f   os_type (str, o
+00004ac0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00004ad0: 2062 7920 636c 6965 6e74 206f 7320 7479   by client os ty
+00004ae0: 7065 0a20 2020 2020 2020 2020 2020 2063  pe.            c
+00004af0: 6c75 7374 6572 5f69 6420 2873 7472 2c20  luster_id (str, 
+00004b00: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00004b10: 7220 6279 204d 6f62 696c 6974 7920 436f  r by Mobility Co
+00004b20: 6e74 726f 6c6c 6572 2073 6572 6961 6c20  ntroller serial 
+00004b30: 6e75 6d62 6572 0a20 2020 2020 2020 2020  number.         
+00004b40: 2020 2062 616e 6420 2873 7472 2c20 6f70     band (str, op
+00004b50: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00004b60: 6279 2062 616e 642e 2056 616c 7565 2063  by band. Value c
+00004b70: 616e 2062 6520 6569 7468 6572 2022 322e  an be either "2.
+00004b80: 3422 206f 7220 2235 220a 2020 2020 2020  4" or "5".      
+00004b90: 2020 2020 2020 6669 656c 6473 2028 7374        fields (st
+00004ba0: 722c 206f 7074 696f 6e61 6c29 3a20 436f  r, optional): Co
+00004bb0: 6d6d 6120 7365 7061 7261 7465 6420 6c69  mma separated li
+00004bc0: 7374 206f 6620 6669 656c 6473 2074 6f20  st of fields to 
+00004bd0: 6265 2072 6574 7572 6e65 642e 2056 616c  be returned. Val
+00004be0: 6964 2066 6965 6c64 7320 6172 650a 2020  id fields are.  
+00004bf0: 2020 2020 2020 2020 2020 2020 2020 6e61                na
+00004c00: 6d65 2c20 6970 5f61 6464 7265 7373 2c20  me, ip_address, 
+00004c10: 7573 6572 6e61 6d65 2c20 6f73 5f74 7970  username, os_typ
+00004c20: 652c 2063 6f6e 6e65 6374 696f 6e2c 2061  e, connection, a
+00004c30: 7373 6f63 6961 7465 645f 6465 7669 6365  ssociated_device
+00004c40: 2c20 6772 6f75 705f 6e61 6d65 2c0a 2020  , group_name,.  
+00004c50: 2020 2020 2020 2020 2020 2020 2020 7377                sw
+00004c60: 6172 6d5f 6964 2c20 6e65 7477 6f72 6b2c  arm_id, network,
+00004c70: 2072 6164 696f 5f6d 6163 2c20 6d61 6e75   radio_mac, manu
+00004c80: 6661 6374 7572 6572 2c20 766c 616e 2c20  facturer, vlan, 
+00004c90: 656e 6372 7970 7469 6f6e 5f6d 6574 686f  encryption_metho
+00004ca0: 642c 2072 6164 696f 5f6e 756d 6265 722c  d, radio_number,
+00004cb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004cc0: 2073 7065 6564 2c20 7573 6167 652c 2068   speed, usage, h
+00004cd0: 6561 6c74 682c 206c 6162 656c 732c 2073  ealth, labels, s
+00004ce0: 6974 652c 2073 6967 6e61 6c5f 7374 7265  ite, signal_stre
+00004cf0: 6e67 7468 2c20 7369 676e 616c 5f64 622c  ngth, signal_db,
+00004d00: 2073 6e72 0a20 2020 2020 2020 2020 2020   snr.           
+00004d10: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
+00004d20: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
+00004d30: 293a 2057 6865 7468 6572 2074 6f20 6361  ): Whether to ca
+00004d40: 6c63 756c 6174 6520 746f 7461 6c20 7769  lculate total wi
+00004d50: 7265 6c65 7373 2043 6c69 656e 7473 0a20  reless Clients. 
+00004d60: 2020 2020 2020 2020 2020 2073 6f72 7420             sort 
+00004d70: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00004d80: 2053 6f72 7420 7061 7261 6d65 7465 7220   Sort parameter 
+00004d90: 6d61 7920 6265 206f 6e65 206f 6620 2b6d  may be one of +m
+00004da0: 6163 6164 6472 2c20 2d6d 6163 6164 6472  acaddr, -macaddr
+00004db0: 2e20 2044 6566 6175 6c74 2069 730a 2020  .  Default is.  
+00004dc0: 2020 2020 2020 2020 2020 2020 2020 272b                '+
+00004dd0: 6d61 6361 6464 7227 0a20 2020 2020 2020  macaddr'.       
+00004de0: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
+00004df0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
+00004e00: 696e 6174 696f 6e20 6f66 6673 6574 2044  ination offset D
+00004e10: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
+00004e20: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
+00004e30: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00004e40: 2050 6167 696e 6174 696f 6e20 6c69 6d69   Pagination limi
+00004e50: 742e 2044 6566 6175 6c74 2069 7320 3130  t. Default is 10
+00004e60: 3020 616e 6420 6d61 7820 6973 2031 3030  0 and max is 100
+00004e70: 3020 4465 6661 756c 7473 2074 6f20 3530  0 Defaults to 50
+00004e80: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
+00004e90: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00004ea0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00004eb0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00004ec0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00004ed0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00004ee0: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
+00004ef0: 636c 6965 6e74 732f 7769 7265 6c65 7373  clients/wireless
+00004f00: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+00004f10: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+00004f20: 2020 2267 726f 7570 223a 2067 726f 7570    "group": group
+00004f30: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+00004f40: 7761 726d 5f69 6422 3a20 7377 6172 6d5f  warm_id": swarm_
+00004f50: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+00004f60: 226c 6162 656c 223a 206c 6162 656c 2c0a  "label": label,.
+00004f70: 2020 2020 2020 2020 2020 2020 2273 6974              "sit
+00004f80: 6522 3a20 7369 7465 2c0a 2020 2020 2020  e": site,.      
+00004f90: 2020 2020 2020 226e 6574 776f 726b 223a        "network":
+00004fa0: 206e 6574 776f 726b 2c0a 2020 2020 2020   network,.      
+00004fb0: 2020 2020 2020 2273 6572 6961 6c22 3a20        "serial": 
+00004fc0: 7365 7269 616c 2c0a 2020 2020 2020 2020  serial,.        
+00004fd0: 2020 2020 226f 735f 7479 7065 223a 206f      "os_type": o
+00004fe0: 735f 7479 7065 2c0a 2020 2020 2020 2020  s_type,.        
+00004ff0: 2020 2020 2263 6c75 7374 6572 5f69 6422      "cluster_id"
+00005000: 3a20 636c 7573 7465 725f 6964 2c0a 2020  : cluster_id,.  
+00005010: 2020 2020 2020 2020 2020 2262 616e 6422            "band"
+00005020: 3a20 6261 6e64 2c0a 2020 2020 2020 2020  : band,.        
+00005030: 2020 2020 2266 6965 6c64 7322 3a20 6669      "fields": fi
+00005040: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
+00005050: 2020 2263 616c 6375 6c61 7465 5f74 6f74    "calculate_tot
+00005060: 616c 223a 2063 616c 6375 6c61 7465 5f74  al": calculate_t
+00005070: 6f74 616c 2c0a 2020 2020 2020 2020 2020  otal,.          
+00005080: 2020 2320 2773 6f72 7427 3a20 736f 7274    # 'sort': sort
+00005090: 5f62 792c 0a20 2020 2020 2020 2020 2020  _by,.           
+000050a0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+000050b0: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+000050c0: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
+000050d0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+000050e0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+000050f0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+00005100: 616d 733d 7061 7261 6d73 2c29 0a20 2020  ams=params,).   
+00005110: 2020 2020 2023 2069 6620 736f 7274 5f62       # if sort_b
+00005120: 7920 6973 204e 6f6e 653a 0a20 2020 2020  y is None:.     
+00005130: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
+00005140: 7265 7370 0a20 2020 2020 2020 2023 2065  resp.        # e
+00005150: 6c73 653a 0a20 2020 2020 2020 2023 2020  lse:.        #  
+00005160: 2020 2072 6574 7572 6e20 7365 6c66 2e5f     return self._
+00005170: 736f 7274 6564 2872 6573 702c 2073 6f72  sorted(resp, sor
+00005180: 745f 6279 290a 0a20 2020 2061 7379 6e63  t_by)..    async
+00005190: 2064 6566 2067 6574 5f77 6972 6564 5f63   def get_wired_c
+000051a0: 6c69 656e 7473 280a 2020 2020 2020 2020  lients(.        
+000051b0: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
+000051c0: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
+000051d0: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
+000051e0: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+000051f0: 2020 2020 2020 206c 6162 656c 3a20 7374         label: st
+00005200: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+00005210: 2020 7369 7465 3a20 7374 7220 3d20 4e6f    site: str = No
+00005220: 6e65 2c0a 2020 2020 2020 2020 7365 7269  ne,.        seri
+00005230: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
+00005240: 2020 2020 2020 2020 636c 7573 7465 725f          cluster_
+00005250: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
+00005260: 2020 2020 2020 2020 7374 6163 6b5f 6964          stack_id
+00005270: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00005280: 2020 2020 2020 6669 656c 6473 3a20 7374        fields: st
+00005290: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+000052a0: 2020 6361 6c63 756c 6174 655f 746f 7461    calculate_tota
+000052b0: 6c3a 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a  l: bool = None,.
+000052c0: 2020 2020 2020 2020 2320 736f 7274 5f62          # sort_b
+000052d0: 793a 2073 7472 203d 204e 6f6e 652c 0a20  y: str = None,. 
+000052e0: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
+000052f0: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
+00005300: 6c69 6d69 743a 2069 6e74 203d 2035 3030  limit: int = 500
+00005310: 2c0a 2020 2020 2020 2020 2320 2a2a 6b77  ,.        # **kw
+00005320: 6172 6773 2c0a 2020 2020 2920 2d3e 2052  args,.    ) -> R
+00005330: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00005340: 2022 2222 4c69 7374 2057 6972 6564 2043   """List Wired C
+00005350: 6c69 656e 7473 2e0a 0a20 2020 2020 2020  lients...       
+00005360: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00005370: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
+00005380: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00005390: 2062 7920 6772 6f75 7020 6e61 6d65 0a20   by group name. 
+000053a0: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
+000053b0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
+000053c0: 616c 293a 2046 696c 7465 7220 6279 2053  al): Filter by S
+000053d0: 7761 726d 2049 440a 2020 2020 2020 2020  warm ID.        
+000053e0: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
+000053f0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00005400: 7220 6279 204c 6162 656c 206e 616d 650a  r by Label name.
+00005410: 2020 2020 2020 2020 2020 2020 7369 7465              site
+00005420: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00005430: 3a20 4669 6c74 6572 2062 7920 5369 7465  : Filter by Site
+00005440: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+00005450: 2020 7365 7269 616c 2028 7374 722c 206f    serial (str, o
+00005460: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+00005470: 2062 7920 5377 6974 6368 206f 7220 4150   by Switch or AP
+00005480: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
+00005490: 2020 2020 2020 2020 2020 2063 6c75 7374             clust
+000054a0: 6572 5f69 6420 2873 7472 2c20 6f70 7469  er_id (str, opti
+000054b0: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+000054c0: 204d 6f62 696c 6974 7920 436f 6e74 726f   Mobility Contro
+000054d0: 6c6c 6572 2073 6572 6961 6c20 6e75 6d62  ller serial numb
+000054e0: 6572 0a20 2020 2020 2020 2020 2020 2073  er.            s
+000054f0: 7461 636b 5f69 6420 2873 7472 2c20 6f70  tack_id (str, op
+00005500: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00005510: 6279 2053 7769 7463 6820 7374 6163 6b5f  by Switch stack_
+00005520: 6964 0a20 2020 2020 2020 2020 2020 2066  id.            f
+00005530: 6965 6c64 7320 2873 7472 2c20 6f70 7469  ields (str, opti
+00005540: 6f6e 616c 293a 2043 6f6d 6d61 2073 6570  onal): Comma sep
+00005550: 6172 6174 6564 206c 6973 7420 6f66 2066  arated list of f
+00005560: 6965 6c64 7320 746f 2062 6520 7265 7475  ields to be retu
+00005570: 726e 6564 2e20 5661 6c69 6420 6669 656c  rned. Valid fiel
+00005580: 6473 2061 7265 0a20 2020 2020 2020 2020  ds are.         
+00005590: 2020 2020 2020 206e 616d 652c 2069 705f         name, ip_
+000055a0: 6164 6472 6573 732c 2075 7365 726e 616d  address, usernam
+000055b0: 652c 2061 7373 6f63 6961 7465 645f 6465  e, associated_de
+000055c0: 7669 6365 2c20 6772 6f75 705f 6e61 6d65  vice, group_name
+000055d0: 2c20 696e 7465 7266 6163 655f 6d61 632c  , interface_mac,
+000055e0: 2076 6c61 6e0a 2020 2020 2020 2020 2020   vlan.          
+000055f0: 2020 6361 6c63 756c 6174 655f 746f 7461    calculate_tota
+00005600: 6c20 2862 6f6f 6c2c 206f 7074 696f 6e61  l (bool, optiona
+00005610: 6c29 3a20 5768 6574 6865 7220 746f 2063  l): Whether to c
+00005620: 616c 6375 6c61 7465 2074 6f74 616c 2077  alculate total w
+00005630: 6972 6564 2043 6c69 656e 7473 0a20 2020  ired Clients.   
+00005640: 2020 2020 2020 2020 2046 4958 4d45 2073           FIXME s
+00005650: 6f72 7420 2873 7472 2c20 6f70 7469 6f6e  ort (str, option
+00005660: 616c 293a 2046 6965 6c64 2074 6f20 736f  al): Field to so
+00005670: 7274 206f 6e2e 2020 4465 6661 756c 7473  rt on.  Defaults
+00005680: 2074 6f20 6d61 630a 2020 2020 2020 2020   to mac.        
+00005690: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
+000056a0: 206f 7074 696f 6e61 6c29 3a20 5061 6769   optional): Pagi
+000056b0: 6e61 7469 6f6e 206f 6666 7365 7420 4465  nation offset De
+000056c0: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
+000056d0: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
+000056e0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+000056f0: 5061 6769 6e61 7469 6f6e 206c 696d 6974  Pagination limit
+00005700: 2e20 4465 6661 756c 7420 6973 2031 3030  . Default is 100
+00005710: 2061 6e64 206d 6178 2069 7320 3130 3030   and max is 1000
+00005720: 2044 6566 6175 6c74 7320 746f 2035 3030   Defaults to 500
+00005730: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00005740: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00005750: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00005760: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00005770: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00005780: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00005790: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f63  /monitoring/v1/c
+000057a0: 6c69 656e 7473 2f77 6972 6564 220a 0a20  lients/wired".. 
+000057b0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+000057c0: 7b0a 2020 2020 2020 2020 2020 2020 2267  {.            "g
+000057d0: 726f 7570 223a 2067 726f 7570 2c0a 2020  roup": group,.  
+000057e0: 2020 2020 2020 2020 2020 2273 7761 726d            "swarm
+000057f0: 5f69 6422 3a20 7377 6172 6d5f 6964 2c0a  _id": swarm_id,.
+00005800: 2020 2020 2020 2020 2020 2020 226c 6162              "lab
+00005810: 656c 223a 206c 6162 656c 2c0a 2020 2020  el": label,.    
+00005820: 2020 2020 2020 2020 2273 6974 6522 3a20          "site": 
+00005830: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
+00005840: 2020 2273 6572 6961 6c22 3a20 7365 7269    "serial": seri
+00005850: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
+00005860: 2263 6c75 7374 6572 5f69 6422 3a20 636c  "cluster_id": cl
+00005870: 7573 7465 725f 6964 2c0a 2020 2020 2020  uster_id,.      
+00005880: 2020 2020 2020 2273 7461 636b 5f69 6422        "stack_id"
+00005890: 3a20 7374 6163 6b5f 6964 2c0a 2020 2020  : stack_id,.    
+000058a0: 2020 2020 2020 2020 2266 6965 6c64 7322          "fields"
+000058b0: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
+000058c0: 2020 2020 2020 2263 616c 6375 6c61 7465        "calculate
+000058d0: 5f74 6f74 616c 223a 2063 616c 6375 6c61  _total": calcula
+000058e0: 7465 5f74 6f74 616c 2c0a 2020 2020 2020  te_total,.      
+000058f0: 2020 2020 2020 2320 2773 6f72 7427 3a20        # 'sort': 
+00005900: 736f 7274 5f62 792c 0a20 2020 2020 2020  sort_by,.       
+00005910: 2020 2020 2022 6f66 6673 6574 223a 206f       "offset": o
+00005920: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+00005930: 2020 2022 6c69 6d69 7422 3a20 6c69 6d69     "limit": limi
+00005940: 742c 0a20 2020 2020 2020 207d 0a0a 2020  t,.        }..  
+00005950: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00005960: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+00005970: 2070 6172 616d 733d 7061 7261 6d73 2c29   params=params,)
+00005980: 0a20 2020 2020 2020 2023 2069 6620 736f  .        # if so
+00005990: 7274 5f62 7920 6973 204e 6f6e 653a 0a20  rt_by is None:. 
+000059a0: 2020 2020 2020 2023 2020 2020 2072 6574         #     ret
+000059b0: 7572 6e20 7265 7370 0a20 2020 2020 2020  urn resp.       
+000059c0: 2023 2065 6c73 653a 0a20 2020 2020 2020   # else:.       
+000059d0: 2023 2020 2020 2072 6574 7572 6e20 7365   #     return se
+000059e0: 6c66 2e5f 736f 7274 6564 2872 6573 702c  lf._sorted(resp,
+000059f0: 2073 6f72 745f 6279 290a 0a20 2020 2061   sort_by)..    a
+00005a00: 7379 6e63 2064 6566 2067 6574 5f63 6c69  sync def get_cli
+00005a10: 656e 745f 6465 7461 696c 7328 0a20 2020  ent_details(.   
+00005a20: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00005a30: 2020 206d 6163 3a20 7574 696c 732e 4d61     mac: utils.Ma
+00005a40: 632c 0a20 2020 2020 2020 2064 6576 5f74  c,.        dev_t
+00005a50: 7970 653a 2073 7472 203d 204e 6f6e 652c  ype: str = None,
+00005a60: 0a20 2020 2020 2020 2023 2073 6f72 745f  .        # sort_
+00005a70: 6279 3a20 7374 7220 3d20 4e6f 6e65 2c0a  by: str = None,.
+00005a80: 2020 2020 2020 2020 2a2a 6b77 6172 6773          **kwargs
+00005a90: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00005aa0: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
+00005ab0: 6574 2057 6972 6564 2f57 6972 656c 6573  et Wired/Wireles
+00005ac0: 7320 436c 6965 6e74 2044 6574 6169 6c73  s Client Details
+00005ad0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00005ae0: 0a20 2020 2020 2020 2020 2020 206d 6163  .            mac
+00005af0: 2028 7574 696c 732e 4d61 6329 3a20 4d41   (utils.Mac): MA
+00005b00: 4320 6164 6472 6573 7320 6f66 2074 6865  C address of the
+00005b10: 2057 6972 656c 6573 7320 436c 6965 6e74   Wireless Client
+00005b20: 2074 6f20 6265 2071 7565 7269 6564 0a20   to be queried. 
+00005b30: 2020 2020 2020 2020 2020 2020 2020 2041                 A
+00005b40: 5049 2077 696c 6c20 7265 7475 726e 2072  PI will return r
+00005b50: 6573 756c 7473 206d 6174 6368 696e 6720  esults matching 
+00005b60: 6120 7061 7274 6961 6c20 4d61 630a 0a20  a partial Mac.. 
+00005b70: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00005b80: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00005b90: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00005ba0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00005bb0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00005bc0: 2020 2020 2023 2041 5049 2d46 4c41 5720       # API-FLAW 
+00005bd0: 5468 6973 206c 6f67 6963 2069 7320 6865  This logic is he
+00005be0: 7265 2062 6563 6175 7365 2043 656e 7472  re because Centr
+00005bf0: 616c 2068 6173 2062 6f74 6820 6d65 7468  al has both meth
+00005c00: 6f64 732c 2062 7574 2067 6976 656e 2061  ods, but given a
+00005c10: 2077 6c61 6e20 636c 6965 6e74 206d 6163   wlan client mac
+00005c20: 0a20 2020 2020 2020 2023 2063 656e 7472  .        # centr
+00005c30: 616c 2077 696c 6c20 7265 7475 726e 2074  al will return t
+00005c40: 6865 2063 6c69 656e 7420 6465 7461 696c  he client detail
+00005c50: 7320 6576 656e 2077 6865 6e20 7573 696e  s even when usin
+00005c60: 6720 7468 6520 7769 7265 6420 7572 6c0a  g the wired url.
+00005c70: 0a20 2020 2020 2020 2023 204d 6163 206d  .        # Mac m
+00005c80: 6174 6368 206c 6f67 6963 2069 7320 6a61  atch logic is ja
+00005c90: 636b 6564 2069 6e20 6365 6e74 7261 6c0a  cked in central.
+00005ca0: 2020 2020 2020 2020 2320 6769 7665 6e20          # given 
+00005cb0: 6120 636c 6965 6e74 2077 6974 6820 6120  a client with a 
+00005cc0: 4d41 4320 6f66 2061 633a 3337 3a34 333a  MAC of ac:37:43:
+00005cd0: 3461 3a38 653a 6661 0a20 2020 2020 2020  4a:8e:fa.       
+00005ce0: 2023 0a20 2020 2020 2020 2023 204d 616b   #.        # Mak
+00005cf0: 6520 4d41 4320 696e 7661 6c69 6420 2863  e MAC invalid (c
+00005d00: 6861 6e67 6564 206c 6173 7420 6f63 7465  hanged last octe
+00005d10: 7429 3a0a 2020 2020 2020 2020 2320 2020  t):.        #   
+00005d20: 6163 3a33 373a 3433 3a34 613a 3865 3a66  ac:37:43:4a:8e:f
+00005d30: 6620 4e6f 204d 6174 6368 0a20 2020 2020  f No Match.     
+00005d40: 2020 2023 2020 2061 6333 3734 3334 6138     #   ac37434a8
+00005d50: 6566 6620 4e6f 204d 6174 6368 0a20 2020  eff No Match.   
+00005d60: 2020 2020 2023 2020 2061 633a 3337 3a34       #   ac:37:4
+00005d70: 333a 3461 3a38 652d 6666 2020 5265 7475  3:4a:8e-ff  Retu
+00005d80: 726e 7320 4d41 5443 480a 2020 2020 2020  rns MATCH.      
+00005d90: 2020 2320 2020 6163 3a33 373a 3433 3a34    #   ac:37:43:4
+00005da0: 613a 3865 6666 2020 5265 7475 726e 7320  a:8eff  Returns 
+00005db0: 4d41 5443 480a 2020 2020 2020 2020 2320  MATCH.        # 
+00005dc0: 2020 6163 3a33 373a 3433 3a34 613a 3865    ac:37:43:4a:8e
+00005dd0: 6666 2020 5265 7475 726e 7320 4d41 5443  ff  Returns MATC
+00005de0: 480a 2020 2020 2020 2020 2320 2020 6163  H.        #   ac
+00005df0: 3337 3433 3461 3865 3a66 6620 2052 6574  37434a8e:ff  Ret
+00005e00: 7572 6e73 204d 4154 4348 0a20 2020 2020  urns MATCH.     
+00005e10: 2020 2023 2020 2061 632d 3337 2d34 332d     #   ac-37-43-
+00005e20: 3461 2d38 652d 6666 2052 6574 7572 6e20  4a-8e-ff Return 
 00005e30: 4d41 5443 480a 2020 2020 2020 2020 2320  MATCH.        # 
-00005e40: 2020 6163 3a33 373a 3433 3a34 613a 3865    ac:37:43:4a:8e
-00005e50: 6666 2020 5265 7475 726e 7320 4d41 5443  ff  Returns MATC
-00005e60: 480a 2020 2020 2020 2020 2320 2020 6163  H.        #   ac
-00005e70: 3a33 373a 3433 3a34 613a 3865 6666 2020  :37:43:4a:8eff  
-00005e80: 5265 7475 726e 7320 4d41 5443 480a 2020  Returns MATCH.  
-00005e90: 2020 2020 2020 2320 2020 6163 3337 3433        #   ac3743
-00005ea0: 3461 3865 3a66 6620 2052 6574 7572 6e73  4a8e:ff  Returns
-00005eb0: 204d 4154 4348 0a20 2020 2020 2020 2023   MATCH.        #
-00005ec0: 2020 2061 632d 3337 2d34 332d 3461 2d38     ac-37-43-4a-8
-00005ed0: 652d 6666 2052 6574 7572 6e20 4d41 5443  e-ff Return MATC
-00005ee0: 480a 2020 2020 2020 2020 2320 2020 6163  H.        #   ac
-00005ef0: 3337 2e34 3334 612e 3865 6666 2052 6574  37.434a.8eff Ret
-00005f00: 7572 6e73 204d 4154 4348 0a20 2020 2020  urns MATCH.     
-00005f10: 2020 2069 6620 6e6f 7420 6465 765f 7479     if not dev_ty
-00005f20: 7065 3a0a 2020 2020 2020 2020 2020 2020  pe:.            
-00005f30: 666f 7220 5f64 6576 5f74 7970 6520 696e  for _dev_type in
-00005f40: 205b 2277 6972 656c 6573 7322 2c20 2277   ["wireless", "w
-00005f50: 6972 6564 225d 3a0a 2020 2020 2020 2020  ired"]:.        
-00005f60: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00005f70: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f63  /monitoring/v1/c
-00005f80: 6c69 656e 7473 2f7b 5f64 6576 5f74 7970  lients/{_dev_typ
-00005f90: 657d 2f7b 6d61 632e 7572 6c7d 220a 2020  e}/{mac.url}".  
-00005fa0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00005fb0: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
-00005fc0: 6765 7428 7572 6c2c 2920 2023 2063 616c  get(url,)  # cal
-00005fd0: 6c62 6163 6b3d 636c 6561 6e65 722e 6765  lback=cleaner.ge
-00005fe0: 745f 636c 6965 6e74 732c 202a 2a6b 7761  t_clients, **kwa
-00005ff0: 7267 7329 0a20 2020 2020 2020 2020 2020  rgs).           
-00006000: 2020 2020 2069 6620 7265 7370 3a0a 2020       if resp:.  
-00006010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006020: 2020 2320 7265 7370 2e6f 7574 7075 7420    # resp.output 
-00006030: 3d20 5b7b 2a2a 7b22 636c 6965 6e74 5f74  = [{**{"client_t
-00006040: 7970 6522 3a20 5f64 6576 5f74 7970 652e  ype": _dev_type.
-00006050: 7570 7065 7228 297d 2c20 2a2a 647d 2066  upper()}, **d} f
-00006060: 6f72 2064 2069 6e20 7265 7370 2e6f 7574  or d in resp.out
-00006070: 7075 745d 0a20 2020 2020 2020 2020 2020  put].           
-00006080: 2020 2020 2020 2020 2062 7265 616b 0a0a           break..
-00006090: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-000060a0: 726e 2072 6573 700a 2020 2020 2020 2020  rn resp.        
-000060b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-000060c0: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
-000060d0: 6f72 696e 672f 7631 2f63 6c69 656e 7473  oring/v1/clients
-000060e0: 2f7b 6465 765f 7479 7065 7d2f 7b6d 6163  /{dev_type}/{mac
-000060f0: 2e75 726c 7d22 0a20 2020 2020 2020 2020  .url}".         
-00006100: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00006110: 7365 6c66 2e67 6574 2875 726c 2c29 2020  self.get(url,)  
-00006120: 2320 6361 6c6c 6261 636b 3d63 6c65 616e  # callback=clean
-00006130: 6572 2e67 6574 5f63 6c69 656e 7473 2c20  er.get_clients, 
-00006140: 2a2a 6b77 6172 6773 290a 0a20 2020 2020  **kwargs)..     
-00006150: 2020 2023 2069 6620 736f 7274 5f62 7920     # if sort_by 
-00006160: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00006170: 2023 2020 2020 2072 6574 7572 6e20 7265   #     return re
-00006180: 7370 0a20 2020 2020 2020 2023 2065 6c73  sp.        # els
-00006190: 653a 0a20 2020 2020 2020 2023 2020 2020  e:.        #    
-000061a0: 2072 6574 7572 6e20 7365 6c66 2e5f 736f   return self._so
-000061b0: 7274 6564 2872 6573 702c 2073 6f72 745f  rted(resp, sort_
-000061c0: 6279 290a 0a20 2020 2061 7379 6e63 2064  by)..    async d
-000061d0: 6566 2067 6574 5f63 6572 7469 6669 6361  ef get_certifica
-000061e0: 7465 7328 0a20 2020 2020 2020 2073 656c  tes(.        sel
-000061f0: 662c 2071 3a20 7374 7220 3d20 4e6f 6e65  f, q: str = None
-00006200: 2c20 6f66 6673 6574 3a20 696e 7420 3d20  , offset: int = 
-00006210: 302c 206c 696d 6974 3a20 696e 7420 3d20  0, limit: int = 
-00006220: 3230 2c20 6361 6c6c 6261 636b 3a20 6361  20, callback: ca
-00006230: 6c6c 6162 6c65 203d 204e 6f6e 652c 2063  llable = None, c
-00006240: 616c 6c62 6163 6b5f 6b77 6172 6773 3a20  allback_kwargs: 
-00006250: 6469 6374 203d 204e 6f6e 650a 2020 2020  dict = None.    
-00006260: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00006270: 2020 2020 2020 2022 2222 4765 7420 4365         """Get Ce
-00006280: 7274 6966 6963 6174 6573 2064 6574 6169  rtificates detai
-00006290: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
-000062a0: 733a 0a20 2020 2020 2020 2020 2020 2071  s:.            q
-000062b0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-000062c0: 3a20 5365 6172 6368 2066 6f72 2061 2070  : Search for a p
-000062d0: 6172 7469 6375 6c61 7220 6365 7274 6966  articular certif
-000062e0: 6963 6174 6520 6279 2069 7473 206e 616d  icate by its nam
-000062f0: 652c 206d 6435 2068 6173 6820 6f72 2073  e, md5 hash or s
-00006300: 6861 315f 6861 7368 0a20 2020 2020 2020  ha1_hash.       
-00006310: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-00006320: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
-00006330: 6265 7220 6f66 2069 7465 6d73 2074 6f20  ber of items to 
-00006340: 6265 2073 6b69 7070 6564 2062 6566 6f72  be skipped befor
-00006350: 6520 7265 7475 726e 696e 6720 7468 6520  e returning the 
-00006360: 6461 7461 2c20 7573 6566 756c 0a20 2020  data, useful.   
-00006370: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00006380: 2070 6167 696e 6174 696f 6e2e 2044 6566   pagination. Def
-00006390: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-000063a0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-000063b0: 6e74 2c20 6f70 7469 6f6e 616c 293a 204d  nt, optional): M
-000063c0: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-000063d0: 2072 6563 6f72 6473 2074 6f20 6265 2072   records to be r
-000063e0: 6574 7572 6e65 642e 2044 6566 6175 6c74  eturned. Default
-000063f0: 7320 746f 2032 302c 204d 6178 2032 302e  s to 20, Max 20.
-00006400: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00006410: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00006420: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00006430: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00006440: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00006450: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-00006460: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-00006470: 2f63 6572 7469 6669 6361 7465 7322 0a0a  /certificates"..
-00006480: 2020 2020 2020 2020 2320 6f66 6673 6574          # offset
-00006490: 2061 6e64 206c 696d 6974 2061 7265 2062   and limit are b
-000064a0: 6f74 6820 7265 7175 6972 6564 2062 7920  oth required by 
-000064b0: 7468 6520 4150 4920 6d65 7468 6f64 2e0a  the API method..
-000064c0: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-000064d0: 207b 2271 223a 2071 2c20 226f 6666 7365   {"q": q, "offse
-000064e0: 7422 3a20 6f66 6673 6574 2c20 226c 696d  t": offset, "lim
-000064f0: 6974 223a 206c 696d 6974 7d0a 0a20 2020  it": limit}..   
-00006500: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00006510: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-00006520: 7061 7261 6d73 3d70 6172 616d 732c 2063  params=params, c
-00006530: 616c 6c62 6163 6b3d 6361 6c6c 6261 636b  allback=callback
-00006540: 2c20 6361 6c6c 6261 636b 5f6b 7761 7267  , callback_kwarg
-00006550: 733d 6361 6c6c 6261 636b 5f6b 7761 7267  s=callback_kwarg
-00006560: 7329 0a0a 2020 2020 2320 6173 796e 6320  s)..    # async 
-00006570: 6465 6620 7570 6c6f 6164 5f63 6572 7469  def upload_certi
-00006580: 6669 6361 7465 280a 2020 2020 2320 2020  ficate(.    #   
-00006590: 2020 7365 6c66 2c0a 2020 2020 2320 2020    self,.    #   
-000065a0: 2020 6365 7274 5f6e 616d 653a 2073 7472    cert_name: str
-000065b0: 2c0a 2020 2020 2320 2020 2020 6365 7274  ,.    #     cert
-000065c0: 5f74 7970 653a 204c 6974 6572 616c 5b22  _type: Literal["
-000065d0: 5345 5256 4552 5f43 4552 5422 2c20 2243  SERVER_CERT", "C
-000065e0: 415f 4345 5254 222c 2022 4352 4c22 2c20  A_CERT", "CRL", 
-000065f0: 2249 4e54 4552 4d45 4449 4154 455f 4341  "INTERMEDIATE_CA
-00006600: 222c 2022 4f43 5350 5f52 4553 504f 4e44  ", "OCSP_RESPOND
-00006610: 4552 5f43 4552 5422 2c20 224f 4353 505f  ER_CERT", "OCSP_
-00006620: 5349 474e 4552 5f43 4552 5422 2c20 2250  SIGNER_CERT", "P
-00006630: 5542 4c49 435f 4345 5254 225d 2c0a 2020  UBLIC_CERT"],.  
-00006640: 2020 2320 2020 2020 6365 7274 5f66 6f72    #     cert_for
-00006650: 6d61 743a 204c 6974 6572 616c 5b22 5045  mat: Literal["PE
-00006660: 4d22 2c20 2244 4552 222c 2022 504b 4353  M", "DER", "PKCS
-00006670: 3132 225d 2c0a 2020 2020 2320 2020 2020  12"],.    #     
-00006680: 7061 7373 7068 7261 7365 3a20 7374 722c  passphrase: str,
-00006690: 0a20 2020 2023 2020 2020 2063 6572 745f  .    #     cert_
-000066a0: 6461 7461 3a20 7374 722c 0a20 2020 2023  data: str,.    #
-000066b0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-000066c0: 2020 2020 2320 2020 2020 2222 2255 706c      #     """Upl
-000066d0: 6f61 6420 6120 6365 7274 6966 6963 6174  oad a certificat
-000066e0: 652e 0a0a 2020 2020 2320 2020 2020 4172  e...    #     Ar
-000066f0: 6773 3a0a 2020 2020 2320 2020 2020 2020  gs:.    #       
-00006700: 2020 6365 7274 5f6e 616d 6520 2873 7472    cert_name (str
-00006710: 293a 2063 6572 745f 6e61 6d65 0a20 2020  ): cert_name.   
-00006720: 2023 2020 2020 2020 2020 2063 6572 745f   #         cert_
-00006730: 7479 7065 2028 7374 7229 3a20 6365 7274  type (str): cert
-00006740: 5f74 7970 6520 2056 616c 6964 2056 616c  _type  Valid Val
-00006750: 7565 733a 2053 4552 5645 525f 4345 5254  ues: SERVER_CERT
-00006760: 2c20 4341 5f43 4552 542c 2043 524c 2c20  , CA_CERT, CRL, 
-00006770: 494e 5445 524d 4544 4941 5445 5f43 412c  INTERMEDIATE_CA,
-00006780: 0a20 2020 2023 2020 2020 2020 2020 2020  .    #          
-00006790: 2020 204f 4353 505f 5245 5350 4f4e 4445     OCSP_RESPONDE
-000067a0: 525f 4345 5254 2c20 4f43 5350 5f53 4947  R_CERT, OCSP_SIG
-000067b0: 4e45 525f 4345 5254 2c20 5055 424c 4943  NER_CERT, PUBLIC
-000067c0: 5f43 4552 540a 2020 2020 2320 2020 2020  _CERT.    #     
-000067d0: 2020 2020 6365 7274 5f66 6f72 6d61 7420      cert_format 
-000067e0: 2873 7472 293a 2063 6572 745f 666f 726d  (str): cert_form
-000067f0: 6174 2020 5661 6c69 6420 5661 6c75 6573  at  Valid Values
-00006800: 3a20 5045 4d2c 2044 4552 2c20 504b 4353  : PEM, DER, PKCS
-00006810: 3132 0a20 2020 2023 2020 2020 2020 2020  12.    #        
-00006820: 2070 6173 7370 6872 6173 6520 2873 7472   passphrase (str
-00006830: 293a 2070 6173 7370 6872 6173 650a 2020  ): passphrase.  
-00006840: 2020 2320 2020 2020 2020 2020 6365 7274    #         cert
-00006850: 5f64 6174 6120 2873 7472 293a 2043 6572  _data (str): Cer
-00006860: 7469 6669 6361 7465 2063 6f6e 7465 6e74  tificate content
-00006870: 2065 6e63 6f64 6564 2069 6e20 6261 7365   encoded in base
-00006880: 3634 2066 6f72 2061 6c6c 2066 6f72 6d61  64 for all forma
-00006890: 7420 6365 7274 6966 6963 6174 6573 2e0a  t certificates..
-000068a0: 0a20 2020 2023 2020 2020 2052 6574 7572  .    #     Retur
-000068b0: 6e73 3a0a 2020 2020 2320 2020 2020 2020  ns:.    #       
-000068c0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-000068d0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-000068e0: 6f62 6a65 6374 0a20 2020 2023 2020 2020  object.    #    
-000068f0: 2022 2222 0a20 2020 2023 2020 2020 2075   """.    #     u
-00006900: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
-00006910: 7469 6f6e 2f76 312f 6365 7274 6966 6963  tion/v1/certific
-00006920: 6174 6573 220a 0a20 2020 2023 2020 2020  ates"..    #    
-00006930: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-00006940: 2020 2023 2020 2020 2020 2020 2027 6365     #         'ce
-00006950: 7274 5f6e 616d 6527 3a20 6365 7274 5f6e  rt_name': cert_n
-00006960: 616d 652c 0a20 2020 2023 2020 2020 2020  ame,.    #      
-00006970: 2020 2027 6365 7274 5f74 7970 6527 3a20     'cert_type': 
-00006980: 6365 7274 5f74 7970 652c 0a20 2020 2023  cert_type,.    #
-00006990: 2020 2020 2020 2020 2027 6365 7274 5f66           'cert_f
-000069a0: 6f72 6d61 7427 3a20 6365 7274 5f66 6f72  ormat': cert_for
-000069b0: 6d61 742c 0a20 2020 2023 2020 2020 2020  mat,.    #      
-000069c0: 2020 2027 7061 7373 7068 7261 7365 273a     'passphrase':
-000069d0: 2070 6173 7370 6872 6173 652c 0a20 2020   passphrase,.   
-000069e0: 2023 2020 2020 2020 2020 2027 6365 7274   #         'cert
-000069f0: 5f64 6174 6127 3a20 6365 7274 5f64 6174  _data': cert_dat
-00006a00: 610a 2020 2020 2320 2020 2020 7d0a 0a20  a.    #     }.. 
-00006a10: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
-00006a20: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-00006a30: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-00006a40: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-00006a50: 7379 6e63 2064 6566 2067 6574 5f74 656d  sync def get_tem
-00006a60: 706c 6174 6528 7365 6c66 2c20 6772 6f75  plate(self, grou
-00006a70: 703a 2073 7472 2c20 7465 6d70 6c61 7465  p: str, template
-00006a80: 3a20 7374 7229 202d 3e20 5265 7370 6f6e  : str) -> Respon
-00006a90: 7365 3a0a 2020 2020 2020 2020 7572 6c20  se:.        url 
-00006aa0: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
-00006ab0: 6f6e 2f76 312f 6772 6f75 7073 2f7b 6772  on/v1/groups/{gr
-00006ac0: 6f75 707d 2f74 656d 706c 6174 6573 2f7b  oup}/templates/{
-00006ad0: 7465 6d70 6c61 7465 7d22 0a20 2020 2020  template}".     
-00006ae0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00006af0: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
-00006b00: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00006b10: 5f74 656d 706c 6174 655f 6465 7461 696c  _template_detail
-00006b20: 735f 666f 725f 6465 7669 6365 2873 656c  s_for_device(sel
-00006b30: 662c 2064 6576 6963 655f 7365 7269 616c  f, device_serial
-00006b40: 3a20 7374 722c 2064 6574 6169 6c73 3a20  : str, details: 
-00006b50: 626f 6f6c 203d 2046 616c 7365 2920 2d3e  bool = False) ->
-00006b60: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-00006b70: 2020 2022 2222 4765 7420 636f 6e66 6967     """Get config
-00006b80: 7572 6174 696f 6e20 6465 7461 696c 7320  uration details 
-00006b90: 666f 7220 6120 6465 7669 6365 2028 6f6e  for a device (on
-00006ba0: 6c79 2066 6f72 2074 656d 706c 6174 6520  ly for template 
-00006bb0: 6772 6f75 7073 292e 0a0a 2020 2020 2020  groups)...      
-00006bc0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00006bd0: 2020 2020 6465 7669 6365 5f73 6572 6961      device_seria
-00006be0: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
-00006bf0: 6e75 6d62 6572 206f 6620 7468 6520 6465  number of the de
-00006c00: 7669 6365 2e0a 2020 2020 2020 2020 2020  vice..          
-00006c10: 2020 6465 7461 696c 7320 2862 6f6f 6c2c    details (bool,
-00006c20: 206f 7074 696f 6e61 6c29 3a20 5573 7561   optional): Usua
-00006c30: 6c6c 7920 7061 7373 2066 616c 7365 2074  lly pass false t
-00006c40: 6f20 6765 7420 6f6e 6c79 2074 6865 2073  o get only the s
-00006c50: 756d 6d61 7279 206f 6620 6120 6465 7669  ummary of a devi
-00006c60: 6365 2773 0a20 2020 2020 2020 2020 2020  ce's.           
-00006c70: 2020 2020 2063 6f6e 6669 6775 7261 7469       configurati
-00006c80: 6f6e 2073 7461 7475 732e 0a20 2020 2020  on status..     
-00006c90: 2020 2020 2020 2020 2020 2050 6173 7320             Pass 
-00006ca0: 7472 7565 206f 6e6c 7920 6966 2064 6574  true only if det
-00006cb0: 6169 6c65 6420 7265 7370 6f6e 7365 206f  ailed response o
-00006cc0: 6620 6120 6465 7669 6365 2773 2063 6f6e  f a device's con
-00006cd0: 6669 6775 7261 7469 6f6e 2073 7461 7475  figuration statu
-00006ce0: 7320 6973 2072 6571 7569 7265 642e 0a20  s is required.. 
-00006cf0: 2020 2020 2020 2020 2020 2020 2020 2050                 P
-00006d00: 6173 7369 6e67 2074 7275 6520 6d69 6768  assing true migh
-00006d10: 7420 7265 7375 6c74 2069 6e20 736c 6f77  t result in slow
-00006d20: 6572 2041 5049 2072 6573 706f 6e73 6520  er API response 
-00006d30: 616e 6420 7065 7266 6f72 6d61 6e63 6520  and performance 
-00006d40: 6566 6665 6374 0a20 2020 2020 2020 2020  effect.         
-00006d50: 2020 2020 2020 2063 6f6d 7061 7261 7469         comparati
-00006d60: 7665 6c79 2e0a 0a20 2020 2020 2020 2052  vely...        R
-00006d70: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00006d80: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00006d90: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00006da0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00006db0: 2022 2222 0a20 2020 2020 2020 2023 2041   """.        # A
-00006dc0: 5049 2d4e 4f54 4520 7265 7475 726e 7320  PI-NOTE returns 
-00006dd0: 666f 726d 2d64 6174 6120 2861 2062 6967  form-data (a big
-00006de0: 2073 7472 290a 2020 2020 2020 2020 2320   str).        # 
-00006df0: 2041 2063 6c65 616e 6572 2068 6173 2062   A cleaner has b
-00006e00: 6565 6e20 6372 6561 7465 6420 7468 6174  een created that
-00006e10: 2070 6172 7365 7320 7468 6520 7265 7370   parses the resp
-00006e20: 2069 6e74 6f20 6469 6374 0a20 2020 2020   into dict.     
-00006e30: 2020 2023 2020 7769 7468 2073 756d 6d61     #  with summa
-00006e40: 7279 2864 6963 7429 2061 6e64 2072 756e  ry(dict) and run
-00006e50: 6e69 6e67 2f63 656e 7472 616c 5f73 6964  ning/central_sid
-00006e60: 6520 636f 6e66 6967 7320 2873 7472 290a  e configs (str).
-00006e70: 2020 2020 2020 2020 2320 4e65 6564 2063          # Need c
-00006e80: 6c65 616e 6572 2074 6f20 7061 7273 6520  leaner to parse 
-00006e90: 616e 6420 636f 6e76 6572 7420 746f 2064  and convert to d
-00006ea0: 6963 740a 2020 2020 2020 2020 2320 2d2d  ict.        # --
-00006eb0: 6664 336c 6f6e 6761 6c70 6861 6e75 6d65  fd3longalphanume
-00006ec0: 7269 6373 7472 696e 6736 330a 2020 2020  ricstring63.    
-00006ed0: 2020 2020 2320 436f 6e74 656e 742d 4469      # Content-Di
-00006ee0: 7370 6f73 6974 696f 6e3a 2066 6f72 6d2d  sposition: form-
-00006ef0: 6461 7461 3b20 6e61 6d65 3d22 5375 6d6d  data; name="Summ
-00006f00: 6172 7922 0a20 2020 2020 2020 2023 2043  ary".        # C
-00006f10: 6f6e 7465 6e74 2d54 7970 653a 2061 7070  ontent-Type: app
-00006f20: 6c69 6361 7469 6f6e 2f6a 736f 6e0a 0a20  lication/json.. 
-00006f30: 2020 2020 2020 2023 207b 0a20 2020 2020         # {.     
-00006f40: 2020 2023 2020 2020 2022 4465 7669 6365     #     "Device
-00006f50: 5f73 6572 6961 6c22 3a20 2272 6564 6163  _serial": "redac
-00006f60: 7465 6422 2c0a 2020 2020 2020 2020 2320  ted",.        # 
-00006f70: 2020 2020 2244 6576 6963 655f 7479 7065      "Device_type
-00006f80: 223a 2022 4172 7562 6153 7769 7463 6822  ": "ArubaSwitch"
-00006f90: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
-00006fa0: 2247 726f 7570 223a 2022 5761 6465 4c61  "Group": "WadeLa
-00006fb0: 6222 2c0a 2020 2020 2020 2020 2320 2020  b",.        #   
-00006fc0: 2020 2243 6f6e 6669 6775 7261 7469 6f6e    "Configuration
-00006fd0: 5f65 7272 6f72 5f73 7461 7475 7322 3a20  _error_status": 
-00006fe0: 6661 6c73 652c 0a20 2020 2020 2020 2023  false,.        #
-00006ff0: 2020 2020 2022 4f76 6572 7269 6465 5f73       "Override_s
-00007000: 7461 7475 7322 3a20 6661 6c73 652c 0a20  tatus": false,. 
-00007010: 2020 2020 2020 2023 2020 2020 2022 5465         #     "Te
-00007020: 6d70 6c61 7465 5f6e 616d 6522 3a20 2232  mplate_name": "2
-00007030: 3933 3046 2d38 222c 0a20 2020 2020 2020  930F-8",.       
-00007040: 2023 2020 2020 2022 5465 6d70 6c61 7465   #     "Template
-00007050: 5f68 6173 6822 3a20 2234 3661 2d72 6564  _hash": "46a-red
-00007060: 6163 7465 642d 3064 222c 0a20 2020 2020  acted-0d",.     
-00007070: 2020 2023 2020 2020 2022 5465 6d70 6c61     #     "Templa
-00007080: 7465 5f65 7272 6f72 5f73 7461 7475 7322  te_error_status"
-00007090: 3a20 6661 6c73 650a 2020 2020 2020 2020  : false.        
-000070a0: 2320 7d0a 2020 2020 2020 2020 2320 2d2d  # }.        # --
-000070b0: 6664 336c 6f6e 6761 6c70 6861 6e75 6d65  fd3longalphanume
-000070c0: 7269 6373 7472 696e 6736 330a 2020 2020  ricstring63.    
-000070d0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
-000070e0: 6669 6775 7261 7469 6f6e 2f76 312f 6465  figuration/v1/de
-000070f0: 7669 6365 732f 7b64 6576 6963 655f 7365  vices/{device_se
-00007100: 7269 616c 7d2f 636f 6e66 6967 5f64 6574  rial}/config_det
-00007110: 6169 6c73 220a 2020 2020 2020 2020 6865  ails".        he
-00007120: 6164 6572 7320 3d20 7b22 4163 6365 7074  aders = {"Accept
-00007130: 223a 2022 6d75 6c74 6970 6172 742f 666f  ": "multipart/fo
-00007140: 726d 2d64 6174 6122 7d0a 2020 2020 2020  rm-data"}.      
-00007150: 2020 7061 7261 6d73 203d 207b 2264 6574    params = {"det
-00007160: 6169 6c73 223a 2073 7472 2864 6574 6169  ails": str(detai
-00007170: 6c73 297d 0a20 2020 2020 2020 2072 6574  ls)}.        ret
-00007180: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-00007190: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-000071a0: 6172 616d 732c 2068 6561 6465 7273 3d68  arams, headers=h
-000071b0: 6561 6465 7273 290a 0a20 2020 2061 7379  eaders)..    asy
-000071c0: 6e63 2064 6566 2067 6574 5f61 6c6c 5f74  nc def get_all_t
-000071d0: 656d 706c 6174 6573 5f69 6e5f 6772 6f75  emplates_in_grou
-000071e0: 7028 0a20 2020 2020 2020 2073 656c 662c  p(.        self,
-000071f0: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
-00007200: 7374 722c 0a20 2020 2020 2020 206e 616d  str,.        nam
-00007210: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-00007220: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
-00007230: 7065 3a20 4c69 7465 7261 6c5b 2261 7022  pe: Literal["ap"
-00007240: 2c20 2273 7722 2c20 2263 7822 2c20 2267  , "sw", "cx", "g
-00007250: 7722 5d20 3d20 4e6f 6e65 2c0a 2020 2020  w"] = None,.    
-00007260: 2020 2020 7665 7273 696f 6e3a 2073 7472      version: str
-00007270: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00007280: 206d 6f64 656c 3a20 7374 7220 3d20 4e6f   model: str = No
-00007290: 6e65 2c0a 2020 2020 2920 2d3e 2052 6573  ne,.    ) -> Res
-000072a0: 706f 6e73 653a 0a20 2020 2020 2020 2069  ponse:.        i
-000072b0: 6620 6465 7669 6365 5f74 7970 653a 0a20  f device_type:. 
-000072c0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-000072d0: 655f 7479 7065 203d 2063 6f6e 7374 616e  e_type = constan
-000072e0: 7473 2e6c 6962 5f74 6f5f 6170 6928 2274  ts.lib_to_api("t
-000072f0: 656d 706c 6174 6522 2c20 6465 7669 6365  emplate", device
-00007300: 5f74 7970 6529 0a0a 2020 2020 2020 2020  _type)..        
-00007310: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-00007320: 2020 2020 2020 2022 6f66 6673 6574 223a         "offset":
-00007330: 2030 2c0a 2020 2020 2020 2020 2020 2020   0,.            
-00007340: 226c 696d 6974 223a 2032 302c 2020 2320  "limit": 20,  # 
-00007350: 3230 2069 7320 7468 6520 6d61 780a 2020  20 is the max.  
-00007360: 2020 2020 2020 2020 2020 2274 656d 706c            "templ
-00007370: 6174 6522 3a20 6e61 6d65 2c0a 2020 2020  ate": name,.    
-00007380: 2020 2020 2020 2020 2264 6576 6963 655f          "device_
-00007390: 7479 7065 223a 2064 6576 6963 655f 7479  type": device_ty
-000073a0: 7065 2c20 2023 2076 616c 6964 203d 2049  pe,  # valid = I
-000073b0: 4150 2c20 4172 7562 6153 7769 7463 682c  AP, ArubaSwitch,
-000073c0: 204d 6f62 696c 6974 7943 6f6e 7472 6f6c   MobilityControl
-000073d0: 6c65 722c 2043 580a 2020 2020 2020 2020  ler, CX.        
-000073e0: 2020 2020 2276 6572 7369 6f6e 223a 2076      "version": v
-000073f0: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
-00007400: 2020 2020 226d 6f64 656c 223a 206d 6f64      "model": mod
-00007410: 656c 2c0a 2020 2020 2020 2020 7d0a 2020  el,.        }.  
-00007420: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-00007430: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-00007440: 6772 6f75 7073 2f7b 6772 6f75 707d 2f74  groups/{group}/t
-00007450: 656d 706c 6174 6573 220a 2020 2020 2020  emplates".      
-00007460: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00007470: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-00007480: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-00007490: 2023 2046 4958 4d45 2023 2054 4f44 4f20   # FIXME # TODO 
-000074a0: 2320 5768 6174 2074 6865 2041 6273 6f6c  # What the Absol
-000074b0: 7574 6520 463f 2120 206e 6f74 2061 626c  ute F?!  not abl
-000074c0: 6520 746f 2073 656e 6420 7465 6d70 6c61  e to send templa
-000074d0: 7465 2061 7320 666f 726d 6461 7461 2070  te as formdata p
-000074e0: 726f 7065 726c 7920 7769 7468 2061 696f  roperly with aio
-000074f0: 6874 7470 0a20 2020 2023 2020 2020 2020  http.    #      
-00007500: 2072 6571 7565 7374 7320 6d6f 6475 6c65   requests module
-00007510: 2077 6f72 6b73 2c20 6275 7420 6e6f 206c   works, but no l
-00007520: 7563 6b20 6166 7465 7220 686f 7572 7320  uck after hours 
-00007530: 6d65 7373 696e 6720 7769 7468 2066 6f72  messing with for
-00007540: 6d2d 6461 7461 2069 6e20 6169 6f68 7474  m-data in aiohtt
-00007550: 700a 2020 2020 6173 796e 6320 6465 6620  p.    async def 
-00007560: 6164 645f 7465 6d70 6c61 7465 280a 2020  add_template(.  
-00007570: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00007580: 2020 2020 6e61 6d65 3a20 7374 722c 0a20      name: str,. 
-00007590: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
-000075a0: 722c 0a20 2020 2020 2020 2074 656d 706c  r,.        templ
-000075b0: 6174 653a 2055 6e69 6f6e 5b50 6174 682c  ate: Union[Path,
-000075c0: 2073 7472 2c20 6279 7465 735d 2c0a 2020   str, bytes],.  
-000075d0: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-000075e0: 653a 2063 6f6e 7374 616e 7473 2e44 6576  e: constants.Dev
-000075f0: 5479 7065 7320 3d22 6170 222c 0a20 2020  Types ="ap",.   
-00007600: 2020 2020 2076 6572 7369 6f6e 3a20 7374       version: st
-00007610: 7220 3d20 2241 4c4c 222c 0a20 2020 2020  r = "ALL",.     
-00007620: 2020 206d 6f64 656c 3a20 7374 7220 3d20     model: str = 
-00007630: 2241 4c4c 222c 0a20 2020 2029 202d 3e20  "ALL",.    ) -> 
-00007640: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00007650: 2020 2222 2243 7265 6174 6520 6e65 7720    """Create new 
-00007660: 7465 6d70 6c61 7465 2e0a 0a20 2020 2020  template...     
-00007670: 2020 202f 2f20 5573 6564 2062 7920 6164     // Used by ad
-00007680: 6420 7465 6d70 6c61 7465 202e 2e2e 202f  d template ... /
-00007690: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
-000076a0: 0a20 2020 2020 2020 2020 2020 206e 616d  .            nam
-000076b0: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
-000076c0: 2074 656d 706c 6174 652e 0a20 2020 2020   template..     
-000076d0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-000076e0: 7229 3a20 4e61 6d65 206f 6620 7468 6520  r): Name of the 
-000076f0: 6772 6f75 7020 666f 7220 7768 6963 6820  group for which 
-00007700: 7468 6520 7465 6d70 6c61 7465 2069 7320  the template is 
-00007710: 746f 2062 6520 6372 6561 7465 642e 0a20  to be created.. 
-00007720: 2020 2020 2020 2020 2020 2074 656d 706c             templ
-00007730: 6174 6520 2855 6e69 6f6e 5b50 6174 682c  ate (Union[Path,
-00007740: 2073 7472 2c20 6279 7465 735d 293a 2054   str, bytes]): T
-00007750: 656d 706c 6174 6520 4669 6c65 206f 7220  emplate File or 
-00007760: 656e 636f 6465 6420 7465 6d70 6c61 7465  encoded template
-00007770: 2063 6f6e 7465 6e74 2e0a 2020 2020 2020   content..      
-00007780: 2020 2020 2020 2020 2020 466f 7220 7377            For sw
-00007790: 2028 414f 532d 5377 6974 6368 2920 6465   (AOS-Switch) de
-000077a0: 7669 6365 5f74 7970 652c 2074 6865 2074  vice_type, the t
-000077b0: 656d 706c 6174 6520 7465 7874 2073 686f  emplate text sho
-000077c0: 756c 6420 696e 636c 7564 6520 7468 6520  uld include the 
-000077d0: 666f 6c6c 6f77 696e 670a 2020 2020 2020  following.      
-000077e0: 2020 2020 2020 2020 2020 636f 6d6d 616e            comman
-000077f0: 6473 2074 6f20 6d61 696e 7461 696e 2063  ds to maintain c
-00007800: 6f6e 6e65 6374 696f 6e20 7769 7468 2063  onnection with c
-00007810: 656e 7472 616c 2e0a 2020 2020 2020 2020  entral..        
-00007820: 2020 2020 2020 2020 312e 2061 7275 6261          1. aruba
-00007830: 2d63 656e 7472 616c 2065 6e61 626c 652e  -central enable.
-00007840: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007850: 2032 2e20 6172 7562 612d 6365 6e74 7261   2. aruba-centra
-00007860: 6c20 7572 6c20 6874 7470 733a 2f2f 3c55  l url https://<U
-00007870: 524c 207c 2049 503e 2f77 732e 0a20 2020  RL | IP>/ws..   
-00007880: 2020 2020 2020 2020 2064 6576 6963 655f           device_
-00007890: 7479 7065 2028 7374 7229 3a20 4465 7669  type (str): Devi
-000078a0: 6365 2074 7970 6520 6f66 2074 6865 2074  ce type of the t
-000078b0: 656d 706c 6174 652e 2020 5661 6c69 6420  emplate.  Valid 
-000078c0: 5661 6c75 6573 3a20 6170 2c20 7377 2c20  Values: ap, sw, 
-000078d0: 6378 2c20 6777 0a20 2020 2020 2020 2020  cx, gw.         
-000078e0: 2020 2020 2020 2044 6566 6175 6c74 7320         Defaults 
-000078f0: 746f 2061 702e 0a20 2020 2020 2020 2020  to ap..         
-00007900: 2020 2076 6572 7369 6f6e 2028 7374 7229     version (str)
-00007910: 3a20 4669 726d 7761 7265 2076 6572 7369  : Firmware versi
-00007920: 6f6e 2070 726f 7065 7274 7920 6f66 2074  on property of t
-00007930: 656d 706c 6174 652e 0a20 2020 2020 2020  emplate..       
-00007940: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
-00007950: 3a20 414c 4c2c 2036 2e35 2e34 2065 7463  : ALL, 6.5.4 etc
-00007960: 2e0a 2020 2020 2020 2020 2020 2020 6d6f  ..            mo
-00007970: 6465 6c20 2873 7472 293a 204d 6f64 656c  del (str): Model
-00007980: 2070 726f 7065 7274 7920 6f66 2074 656d   property of tem
-00007990: 706c 6174 652e 0a20 2020 2020 2020 2020  plate..         
-000079a0: 2020 2020 2020 2046 6f72 2073 7720 2841         For sw (A
-000079b0: 4f53 2d53 7769 7463 6829 2064 6576 6963  OS-Switch) devic
-000079c0: 655f 7479 7065 2c20 7061 7274 206e 756d  e_type, part num
-000079d0: 6265 7220 284a 206e 756d 6265 7229 2063  ber (J number) c
-000079e0: 616e 2062 6520 7573 6564 2066 6f72 2074  an be used for t
-000079f0: 6865 206d 6f64 656c 0a20 2020 2020 2020  he model.       
-00007a00: 2020 2020 2020 2020 2070 6172 616d 6574           paramet
-00007a10: 6572 2e20 4578 616d 706c 653a 2032 3932  er. Example: 292
-00007a20: 302c 204a 3937 3237 412c 2065 7463 2e0a  0, J9727A, etc..
-00007a30: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00007a40: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00007a50: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00007a60: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00007a70: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00007a80: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-00007a90: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-00007aa0: 2f67 726f 7570 732f 7b67 726f 7570 7d2f  /groups/{group}/
-00007ab0: 7465 6d70 6c61 7465 7322 0a20 2020 2020  templates".     
-00007ac0: 2020 2066 6f72 6d64 6174 6120 3d20 6169     formdata = ai
-00007ad0: 6f68 7474 702e 466f 726d 4461 7461 2829  ohttp.FormData()
-00007ae0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
-00007af0: 7374 616e 6365 2874 656d 706c 6174 652c  stance(template,
-00007b00: 2062 7974 6573 293a 0a20 2020 2020 2020   bytes):.       
-00007b10: 2020 2020 2023 2066 6f72 6d64 6174 612e       # formdata.
-00007b20: 6164 645f 6669 656c 6428 2274 656d 706c  add_field("templ
-00007b30: 6174 6522 2c20 7b22 7465 6d70 6c61 7465  ate", {"template
-00007b40: 223a 2074 656d 706c 6174 657d 2c20 6669  ": template}, fi
-00007b50: 6c65 6e61 6d65 3d22 7465 6d70 6c61 7465  lename="template
-00007b60: 2e74 7874 2229 0a20 2020 2020 2020 2020  .txt").         
-00007b70: 2020 2023 2066 696c 6573 203d 2061 696f     # files = aio
-00007b80: 6874 7470 2e46 6f72 6d44 6174 6128 5b28  http.FormData([(
-00007b90: 2274 656d 706c 6174 6522 2c20 2822 7465  "template", ("te
-00007ba0: 6d70 6c61 7465 2e74 7874 222c 2074 656d  mplate.txt", tem
-00007bb0: 706c 6174 6529 2c29 5d29 0a20 2020 2020  plate),)]).     
-00007bc0: 2020 2020 2020 2066 696c 6573 203d 207b         files = {
-00007bd0: 2774 656d 706c 6174 6527 3a20 2827 7465  'template': ('te
-00007be0: 6d70 6c61 7465 2e74 7874 272c 2074 656d  mplate.txt', tem
-00007bf0: 706c 6174 6529 7d0a 2020 2020 2020 2020  plate)}.        
-00007c00: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00007c10: 2020 7465 6d70 6c61 7465 203d 2074 656d    template = tem
-00007c20: 706c 6174 6520 6966 2069 7369 6e73 7461  plate if isinsta
-00007c30: 6e63 6528 7465 6d70 6c61 7465 2c20 5061  nce(template, Pa
-00007c40: 7468 2920 656c 7365 2050 6174 6828 7374  th) else Path(st
-00007c50: 7228 7465 6d70 6c61 7465 2929 0a20 2020  r(template)).   
-00007c60: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00007c70: 7465 6d70 6c61 7465 2e65 7869 7374 7328  template.exists(
-00007c80: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00007c90: 2020 2072 6169 7365 2046 696c 654e 6f74     raise FileNot
-00007ca0: 466f 756e 6445 7272 6f72 0a0a 2020 2020  FoundError..    
-00007cb0: 2020 2020 2020 2020 6669 6c65 7320 3d20          files = 
-00007cc0: 7b27 7465 6d70 6c61 7465 273a 2028 2774  {'template': ('t
-00007cd0: 656d 706c 6174 652e 7478 7427 2c20 7465  emplate.txt', te
-00007ce0: 6d70 6c61 7465 2e72 6561 645f 6279 7465  mplate.read_byte
-00007cf0: 7328 2929 7d0a 2020 2020 2020 2020 2020  s())}.          
-00007d00: 2020 2320 6669 6c65 7320 3d20 6169 6f68    # files = aioh
-00007d10: 7474 702e 466f 726d 4461 7461 285b 2822  ttp.FormData([("
-00007d20: 7465 6d70 6c61 7465 222c 2028 2274 656d  template", ("tem
-00007d30: 706c 6174 652e 7478 7422 2c20 7465 6d70  plate.txt", temp
-00007d40: 6c61 7465 2e72 6561 645f 6279 7465 7328  late.read_bytes(
-00007d50: 2929 2c29 5d29 0a20 2020 2020 2020 2020  )),)]).         
-00007d60: 2020 2023 2066 6f72 6d64 6174 612e 6164     # formdata.ad
-00007d70: 645f 6669 656c 6428 2274 656d 706c 6174  d_field("templat
-00007d80: 6522 2c20 7465 6d70 6c61 7465 2e72 6561  e", template.rea
-00007d90: 645f 6279 7465 7328 292c 2066 696c 656e  d_bytes(), filen
-00007da0: 616d 653d 2274 656d 706c 6174 652e 7478  ame="template.tx
-00007db0: 7422 290a 2020 2020 2020 2020 2020 2020  t").            
-00007dc0: 2320 666f 726d 6461 7461 2e61 6464 5f66  # formdata.add_f
-00007dd0: 6965 6c64 2822 7465 6d70 6c61 7465 222c  ield("template",
-00007de0: 2074 656d 706c 6174 652e 7265 6164 5f62   template.read_b
-00007df0: 7974 6573 2829 290a 0a20 2020 2020 2020  ytes())..       
-00007e00: 2020 2020 2023 2066 6f72 6d64 6174 612e       # formdata.
-00007e10: 6164 645f 6669 656c 6428 0a20 2020 2020  add_field(.     
-00007e20: 2020 2020 2020 2023 2020 2020 2022 7465         #     "te
-00007e30: 6d70 6c61 7465 222c 0a20 2020 2020 2020  mplate",.       
-00007e40: 2020 2020 2023 2020 2020 2074 656d 706c       #     templ
-00007e50: 6174 652e 7265 6164 5f74 6578 7428 292c  ate.read_text(),
-00007e60: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
-00007e70: 2020 2066 696c 656e 616d 653d 2274 656d     filename="tem
-00007e80: 706c 6174 652e 7478 7422 2c0a 2020 2020  plate.txt",.    
-00007e90: 2020 2020 2020 2020 2320 2020 2020 636f          #     co
-00007ea0: 6e74 656e 745f 7479 7065 3d22 6d75 6c74  ntent_type="mult
-00007eb0: 6970 6172 742f 666f 726d 2d64 6174 6122  ipart/form-data"
-00007ec0: 0a20 2020 2020 2020 2020 2020 2023 2029  .            # )
-00007ed0: 0a0a 2020 2020 2020 2020 2320 7772 203d  ..        # wr =
-00007ee0: 2066 6f72 6d64 6174 6128 290a 2020 2020   formdata().    
-00007ef0: 2020 2020 2320 6461 7461 203d 2066 272d      # data = f'-
-00007f00: 2d7b 7772 2e62 6f75 6e64 6172 797d 5c72  -{wr.boundary}\r
-00007f10: 5c6e 436f 6e74 656e 742d 4469 7370 6f73  \nContent-Dispos
-00007f20: 6974 696f 6e3a 2066 6f72 6d2d 6461 7461  ition: form-data
-00007f30: 3b20 6e61 6d65 3d22 7465 6d70 6c61 7465  ; name="template
-00007f40: 223b 6669 6c65 6e61 6d65 3d22 7465 6d70  ";filename="temp
-00007f50: 6c61 7465 2e74 7874 227b 7772 2e5f 7061  late.txt"{wr._pa
-00007f60: 7274 735b 305d 5b30 5d2e 5f76 616c 7565  rts[0][0]._value
-00007f70: 2e64 6563 6f64 6528 297d 5c72 5c6e 2d2d  .decode()}\r\n--
-00007f80: 7b77 722e 626f 756e 6461 7279 7d27 2e65  {wr.boundary}'.e
-00007f90: 6e63 6f64 6528 2275 7466 2d38 2229 0a20  ncode("utf-8"). 
-00007fa0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
-00007fb0: 7065 203d 2064 6576 6963 655f 7479 7065  pe = device_type
-00007fc0: 2069 6620 6e6f 7420 6861 7361 7474 7228   if not hasattr(
-00007fd0: 6465 7669 6365 5f74 7970 652c 2022 7661  device_type, "va
-00007fe0: 6c75 6522 2920 656c 7365 2064 6576 6963  lue") else devic
-00007ff0: 655f 7479 7065 2e76 616c 7565 0a20 2020  e_type.value.   
-00008000: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
-00008010: 203d 2063 6f6e 7374 616e 7473 2e6c 6962   = constants.lib
-00008020: 5f74 6f5f 6170 6928 2274 656d 706c 6174  _to_api("templat
-00008030: 6522 2c20 6465 7669 6365 5f74 7970 6529  e", device_type)
-00008040: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-00008050: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00008060: 2027 6e61 6d65 273a 206e 616d 652c 0a20   'name': name,. 
-00008070: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-00008080: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
-00008090: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
-000080a0: 2020 2027 7665 7273 696f 6e27 3a20 7665     'version': ve
-000080b0: 7273 696f 6e2c 0a20 2020 2020 2020 2020  rsion,.         
-000080c0: 2020 2027 6d6f 6465 6c27 3a20 6d6f 6465     'model': mode
-000080d0: 6c0a 2020 2020 2020 2020 7d0a 2020 2020  l.        }.    
-000080e0: 2020 2020 2320 5754 4620 4d69 7373 696e      # WTF Missin
-000080f0: 6720 666f 726d 6461 7461 2070 6172 616d  g formdata param
-00008100: 6574 6572 2027 7465 6d70 6c61 7465 270a  eter 'template'.
-00008110: 2020 2020 2020 2020 2320 7265 7475 726e          # return
-00008120: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
-00008130: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00008140: 616d 732c 2070 6179 6c6f 6164 3d66 6f72  ams, payload=for
-00008150: 6d64 6174 612c 2920 2023 0a0a 0a20 2020  mdata,)  #...   
-00008160: 2020 2020 2023 204e 6f20 6469 6666 6572       # No differ
-00008170: 656e 6365 2076 7320 7468 6520 6162 6f76  ence vs the abov
-00008180: 650a 2020 2020 2020 2020 2320 6865 6164  e.        # head
-00008190: 6572 7320 3d20 7b0a 2020 2020 2020 2020  ers = {.        
-000081a0: 2320 2020 2020 2241 7574 686f 7269 7a61  #     "Authoriza
-000081b0: 7469 6f6e 223a 2066 2242 6561 7265 7220  tion": f"Bearer 
-000081c0: 7b73 656c 662e 6175 7468 2e63 656e 7472  {self.auth.centr
-000081d0: 616c 5f69 6e66 6f5b 2774 6f6b 656e 275d  al_info['token']
-000081e0: 5b27 6163 6365 7373 5f74 6f6b 656e 275d  ['access_token']
-000081f0: 7d22 2c0a 2020 2020 2020 2020 2320 2020  }",.        #   
-00008200: 2020 2741 6363 6570 7427 3a20 2761 7070    'Accept': 'app
-00008210: 6c69 6361 7469 6f6e 2f6a 736f 6e27 2c0a  lication/json',.
-00008220: 2020 2020 2020 2020 2320 2020 2020 2243          #     "C
-00008230: 6f6e 7465 6e74 2d54 7970 6522 3a20 226d  ontent-Type": "m
-00008240: 756c 7469 7061 7274 2f66 6f72 6d2d 6461  ultipart/form-da
-00008250: 7461 220a 2020 2020 2020 2020 2320 7d0a  ta".        # }.
-00008260: 2020 2020 2020 2020 2320 6173 796e 6320          # async 
-00008270: 7769 7468 2061 696f 6874 7470 2e43 6c69  with aiohttp.Cli
-00008280: 656e 7453 6573 7369 6f6e 2873 656c 662e  entSession(self.
-00008290: 6175 7468 2e63 656e 7472 616c 5f69 6e66  auth.central_inf
-000082a0: 6f5b 2262 6173 655f 7572 6c22 5d29 2061  o["base_url"]) a
-000082b0: 7320 7365 7373 696f 6e3a 0a20 2020 2020  s session:.     
-000082c0: 2020 2023 2020 2020 2072 6573 7020 3d20     #     resp = 
-000082d0: 6177 6169 7420 7365 7373 696f 6e2e 706f  await session.po
-000082e0: 7374 2875 726c 2c20 7061 7261 6d73 3d70  st(url, params=p
-000082f0: 6172 616d 732c 2064 6174 613d 666f 726d  arams, data=form
-00008300: 6461 7461 2c20 6865 6164 6572 733d 6865  data, headers=he
-00008310: 6164 6572 732c 2073 736c 3d54 7275 6529  aders, ssl=True)
-00008320: 0a20 2020 2020 2020 2023 2020 2020 2074  .        #     t
-00008330: 7279 3a0a 2020 2020 2020 2020 2320 2020  ry:.        #   
-00008340: 2020 2020 2020 6f75 7470 7574 203d 2061        output = a
-00008350: 7761 6974 2072 6573 702e 636f 6e74 656e  wait resp.conten
-00008360: 742e 7265 6164 2829 0a20 2020 2020 2020  t.read().       
-00008370: 2023 2020 2020 2020 2020 206f 7574 7075   #         outpu
-00008380: 7420 3d20 6f75 7470 7574 2e64 6563 6f64  t = output.decod
-00008390: 6528 290a 2020 2020 2020 2020 2320 2020  e().        #   
-000083a0: 2020 2020 2020 6f75 7470 7574 203d 206a        output = j
-000083b0: 736f 6e2e 6c6f 6164 7328 6f75 7470 7574  son.loads(output
-000083c0: 290a 2020 2020 2020 2020 2320 2020 2020  ).        #     
-000083d0: 6578 6365 7074 2045 7863 6570 7469 6f6e  except Exception
-000083e0: 2061 7320 653a 0a20 2020 2020 2020 2023   as e:.        #
-000083f0: 2020 2020 2020 2020 206f 7574 7075 7420           output 
-00008400: 3d20 4e6f 6e65 0a20 2020 2020 2020 2023  = None.        #
-00008410: 2020 2020 2020 2020 2070 7269 6e74 2865           print(e
-00008420: 290a 2020 2020 2020 2020 2320 7265 7475  ).        # retu
-00008430: 726e 2052 6573 706f 6e73 6528 7265 7370  rn Response(resp
-00008440: 2c20 6f75 7470 7574 3d6f 7574 7075 7429  , output=output)
-00008450: 0a0a 2020 2020 2020 2020 2320 4841 434b  ..        # HACK
-00008460: 2054 6869 7320 776f 726b 7320 6275 7420   This works but 
-00008470: 7072 6566 6572 2074 6f20 6765 7420 6169  prefer to get ai
-00008480: 6f68 7474 7020 736f 7274 6564 2066 6f72  ohttp sorted for
-00008490: 2063 6f6e 7369 7374 656e 6379 0a20 2020   consistency.   
-000084a0: 2020 2020 2069 6d70 6f72 7420 7265 7175       import requ
-000084b0: 6573 7473 0a20 2020 2020 2020 2068 6561  ests.        hea
-000084c0: 6465 7273 203d 207b 0a20 2020 2020 2020  ders = {.       
-000084d0: 2020 2020 2022 4175 7468 6f72 697a 6174       "Authorizat
-000084e0: 696f 6e22 3a20 6622 4265 6172 6572 207b  ion": f"Bearer {
-000084f0: 7365 6c66 2e61 7574 682e 6365 6e74 7261  self.auth.centra
-00008500: 6c5f 696e 666f 5b27 746f 6b65 6e27 5d5b  l_info['token'][
-00008510: 2761 6363 6573 735f 746f 6b65 6e27 5d7d  'access_token']}
-00008520: 222c 0a20 2020 2020 2020 2020 2020 2027  ",.            '
-00008530: 4163 6365 7074 273a 2027 6170 706c 6963  Accept': 'applic
-00008540: 6174 696f 6e2f 6a73 6f6e 270a 2020 2020  ation/json'.    
-00008550: 2020 2020 7d0a 2020 2020 2020 2020 7572      }.        ur
-00008560: 6c3d 6622 7b73 656c 662e 6175 7468 2e63  l=f"{self.auth.c
-00008570: 656e 7472 616c 5f69 6e66 6f5b 2762 6173  entral_info['bas
-00008580: 655f 7572 6c27 5d7d 7b75 726c 7d22 0a20  e_url']}{url}". 
-00008590: 2020 2020 2020 2066 6f72 205f 2069 6e20         for _ in 
-000085a0: 7261 6e67 6528 3229 3a0a 2020 2020 2020  range(2):.      
-000085b0: 2020 2020 2020 7265 7370 203d 2072 6571        resp = req
-000085c0: 7565 7374 732e 7265 7175 6573 7428 2250  uests.request("P
-000085d0: 4f53 5422 2c20 7572 6c3d 7572 6c2c 2070  OST", url=url, p
-000085e0: 6172 616d 733d 7061 7261 6d73 2c20 6669  arams=params, fi
-000085f0: 6c65 733d 6669 6c65 732c 2068 6561 6465  les=files, heade
-00008600: 7273 3d68 6561 6465 7273 290a 2020 2020  rs=headers).    
-00008610: 2020 2020 2020 2020 6f75 7470 7574 203d          output =
-00008620: 2066 225b 7b72 6573 702e 7265 6173 6f6e   f"[{resp.reason
-00008630: 7d5d 2220 2b20 2220 2220 2b20 7265 7370  }]" + " " + resp
-00008640: 2e74 6578 742e 6c73 7472 6970 2827 5b5c  .text.lstrip('[\
-00008650: 6e20 2227 292e 7273 7472 6970 2827 225c  n "').rstrip('"\
-00008660: 6e5d 2729 0a20 2020 2020 2020 2020 2020  n]').           
-00008670: 2072 6573 7020 3d20 5265 7370 6f6e 7365   resp = Response
-00008680: 286f 7574 7075 743d 6f75 7470 7574 2c20  (output=output, 
-00008690: 6f6b 3d72 6573 702e 6f6b 2c20 7572 6c3d  ok=resp.ok, url=
-000086a0: 7572 6c2c 2065 6c61 7073 6564 3d72 6f75  url, elapsed=rou
-000086b0: 6e64 2872 6573 702e 656c 6170 7365 642e  nd(resp.elapsed.
-000086c0: 746f 7461 6c5f 7365 636f 6e64 7328 292c  total_seconds(),
-000086d0: 2032 292c 2073 7461 7475 735f 636f 6465   2), status_code
-000086e0: 3d72 6573 702e 7374 6174 7573 5f63 6f64  =resp.status_cod
-000086f0: 652c 2072 6c5f 7374 723d 222d 2229 0a20  e, rl_str="-"). 
-00008700: 2020 2020 2020 2020 2020 2069 6620 2269             if "i
-00008710: 6e76 616c 6964 5f74 6f6b 656e 2220 696e  nvalid_token" in
-00008720: 2072 6573 702e 6f75 7470 7574 3a0a 2020   resp.output:.  
-00008730: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00008740: 6c66 2e72 6566 7265 7368 5f74 6f6b 656e  lf.refresh_token
-00008750: 2829 0a20 2020 2020 2020 2020 2020 2065  ().            e
-00008760: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00008770: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
-00008780: 2020 2072 6574 7572 6e20 7265 7370 0a0a     return resp..
-00008790: 2020 2020 6173 796e 6320 6465 6620 7570      async def up
-000087a0: 6461 7465 5f65 7869 7374 696e 675f 7465  date_existing_te
-000087b0: 6d70 6c61 7465 280a 2020 2020 2020 2020  mplate(.        
-000087c0: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
-000087d0: 6f75 703a 2073 7472 2c0a 2020 2020 2020  oup: str,.      
-000087e0: 2020 6e61 6d65 3a20 7374 722c 0a20 2020    name: str,.   
-000087f0: 2020 2020 2074 656d 706c 6174 653a 2050       template: P
-00008800: 6174 6820 3d20 4e6f 6e65 2c0a 2020 2020  ath = None,.    
-00008810: 2020 2020 7061 796c 6f61 643a 2073 7472      payload: str
-00008820: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00008830: 2064 6576 6963 655f 7479 7065 3a20 7374   device_type: st
-00008840: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00008850: 2020 7665 7273 696f 6e3a 2073 7472 203d    version: str =
-00008860: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
-00008870: 6f64 656c 3a20 7374 7220 3d20 4e6f 6e65  odel: str = None
-00008880: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-00008890: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-000088a0: 5570 6461 7465 2065 7869 7374 696e 6720  Update existing 
-000088b0: 7465 6d70 6c61 7465 2e0a 0a20 2020 2020  template...     
-000088c0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-000088d0: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
-000088e0: 3a20 4e61 6d65 206f 6620 7468 6520 6772  : Name of the gr
-000088f0: 6f75 7020 666f 7220 7768 6963 6820 7468  oup for which th
-00008900: 6520 7465 6d70 6c61 7465 2069 7320 746f  e template is to
-00008910: 2062 6520 7570 6461 7465 642e 0a20 2020   be updated..   
-00008920: 2020 2020 2020 2020 206e 616d 6520 2873           name (s
-00008930: 7472 293a 204e 616d 6520 6f66 2074 656d  tr): Name of tem
-00008940: 706c 6174 652e 0a20 2020 2020 2020 2020  plate..         
-00008950: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
-00008960: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00008970: 4465 7669 6365 2074 7970 6520 6f66 2074  Device type of t
-00008980: 6865 2074 656d 706c 6174 652e 0a20 2020  he template..   
-00008990: 2020 2020 2020 2020 2020 2020 2056 616c               Val
-000089a0: 6964 2056 616c 7565 733a 2061 702c 2073  id Values: ap, s
-000089b0: 7720 2841 7275 6261 4f53 2d53 5729 2c20  w (ArubaOS-SW), 
-000089c0: 6378 2028 4172 7562 614f 532d 4358 292c  cx (ArubaOS-CX),
-000089d0: 2067 7720 2863 6f6e 7472 6f6c 6c65 7273   gw (controllers
-000089e0: 2f67 6174 6577 6179 7329 0a20 2020 2020  /gateways).     
-000089f0: 2020 2020 2020 2076 6572 7369 6f6e 2028         version (
-00008a00: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00008a10: 4669 726d 7761 7265 2076 6572 7369 6f6e  Firmware version
-00008a20: 2070 726f 7065 7274 7920 6f66 2074 656d   property of tem
-00008a30: 706c 6174 652e 0a20 2020 2020 2020 2020  plate..         
-00008a40: 2020 2020 2020 2045 7861 6d70 6c65 3a20         Example: 
-00008a50: 414c 4c2c 2036 2e35 2e34 2065 7463 2e0a  ALL, 6.5.4 etc..
-00008a60: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
-00008a70: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-00008a80: 293a 204d 6f64 656c 2070 726f 7065 7274  ): Model propert
-00008a90: 7920 6f66 2074 656d 706c 6174 652e 0a20  y of template.. 
-00008aa0: 2020 2020 2020 2020 2020 2020 2020 2046                 F
-00008ab0: 6f72 2027 4172 7562 6153 7769 7463 6827  or 'ArubaSwitch'
-00008ac0: 2064 6576 6963 655f 7479 7065 2c20 7061   device_type, pa
-00008ad0: 7274 206e 756d 6265 7220 284a 206e 756d  rt number (J num
-00008ae0: 6265 7229 2063 616e 2062 6520 7573 6564  ber) can be used
-00008af0: 2066 6f72 2074 6865 206d 6f64 656c 2e0a   for the model..
-00008b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008b10: 4578 616d 706c 653a 2032 3932 302c 204a  Example: 2920, J
-00008b20: 3937 3237 4120 6574 632e 0a20 2020 2020  9727A etc..     
-00008b30: 2020 2020 2020 2074 656d 706c 6174 6520         template 
-00008b40: 2855 6e69 6f6e 5b50 6174 682c 2073 7472  (Union[Path, str
-00008b50: 5d2c 206f 7074 696f 6e61 6c29 3a20 5465  ], optional): Te
-00008b60: 6d70 6c61 7465 2074 6578 742e 0a20 2020  mplate text..   
-00008b70: 2020 2020 2020 2020 2020 2020 2046 6f72               For
-00008b80: 2027 4172 7562 6153 7769 7463 6827 2064   'ArubaSwitch' d
-00008b90: 6576 6963 655f 7479 7065 2c20 7468 6520  evice_type, the 
-00008ba0: 7465 6d70 6c61 7465 2074 6578 7420 7368  template text sh
-00008bb0: 6f75 6c64 2069 6e63 6c75 6465 2074 6865  ould include the
-00008bc0: 2066 6f6c 6c6f 7769 6e67 0a20 2020 2020   following.     
-00008bd0: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-00008be0: 6e64 7320 746f 206d 6169 6e74 6169 6e20  nds to maintain 
-00008bf0: 636f 6e6e 6563 7469 6f6e 2077 6974 6820  connection with 
-00008c00: 6365 6e74 7261 6c2e 0a20 2020 2020 2020  central..       
-00008c10: 2020 2020 2020 2020 2031 2e20 6172 7562           1. arub
-00008c20: 612d 6365 6e74 7261 6c20 656e 6162 6c65  a-central enable
-00008c30: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00008c40: 2020 322e 2061 7275 6261 2d63 656e 7472    2. aruba-centr
-00008c50: 616c 2075 726c 2068 7474 7073 3a2f 2f3c  al url https://<
-00008c60: 5552 4c20 7c20 4950 3e2f 7773 2e0a 2020  URL | IP>/ws..  
-00008c70: 2020 2020 2020 2020 2020 7061 796c 6f61            payloa
-00008c80: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
-00008c90: 293a 206a 736f 6e20 7265 7072 6573 656e  ): json represen
-00008ca0: 7461 7469 6f6e 206f 6620 7468 6520 7265  tation of the re
-00008cb0: 7175 6972 6564 2070 6172 616d 732e 0a0a  quired params...
-00008cc0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00008cd0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00008ce0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00008cf0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00008d00: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00008d10: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-00008d20: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-00008d30: 6772 6f75 7073 2f7b 6772 6f75 707d 2f74  groups/{group}/t
-00008d40: 656d 706c 6174 6573 220a 2020 2020 2020  emplates".      
-00008d50: 2020 7465 6d70 6c61 7465 203d 2074 656d    template = tem
-00008d60: 706c 6174 6520 6966 2069 7369 6e73 7461  plate if isinsta
-00008d70: 6e63 6528 7465 6d70 6c61 7465 2c20 5061  nce(template, Pa
-00008d80: 7468 2920 656c 7365 2050 6174 6828 7374  th) else Path(st
-00008d90: 7228 7465 6d70 6c61 7465 2929 0a0a 2020  r(template))..  
-00008da0: 2020 2020 2020 6966 2064 6576 6963 655f        if device_
-00008db0: 7479 7065 3a0a 2020 2020 2020 2020 2020  type:.          
-00008dc0: 2020 6465 7669 6365 5f74 7970 6520 3d20    device_type = 
-00008dd0: 636f 6e73 7461 6e74 732e 6c69 625f 746f  constants.lib_to
-00008de0: 5f61 7069 2822 7465 6d70 6c61 7465 222c  _api("template",
-00008df0: 2064 6576 6963 655f 7479 7065 290a 0a20   device_type).. 
-00008e00: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-00008e10: 7b0a 2020 2020 2020 2020 2020 2020 276e  {.            'n
-00008e20: 616d 6527 3a20 6e61 6d65 2c0a 2020 2020  ame': name,.    
-00008e30: 2020 2020 2020 2020 2764 6576 6963 655f          'device_
-00008e40: 7479 7065 273a 2064 6576 6963 655f 7479  type': device_ty
-00008e50: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
-00008e60: 2776 6572 7369 6f6e 273a 2076 6572 7369  'version': versi
-00008e70: 6f6e 2c0a 2020 2020 2020 2020 2020 2020  on,.            
-00008e80: 276d 6f64 656c 273a 206d 6f64 656c 0a20  'model': model. 
-00008e90: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00008ea0: 2020 6966 2074 656d 706c 6174 6520 616e    if template an
-00008eb0: 6420 7465 6d70 6c61 7465 2e69 735f 6669  d template.is_fi
-00008ec0: 6c65 2829 2061 6e64 2074 656d 706c 6174  le() and templat
-00008ed0: 652e 7374 6174 2829 2e73 745f 7369 7a65  e.stat().st_size
-00008ee0: 203e 2030 3a0a 2020 2020 2020 2020 2020   > 0:.          
-00008ef0: 2020 7465 6d70 6c61 7465 5f64 6174 613a    template_data:
-00008f00: 2062 7974 6573 203d 2074 656d 706c 6174   bytes = templat
-00008f10: 652e 7265 6164 5f62 7974 6573 2829 0a20  e.read_bytes(). 
-00008f20: 2020 2020 2020 2065 6c69 6620 7061 796c         elif payl
-00008f30: 6f61 643a 0a20 2020 2020 2020 2020 2020  oad:.           
-00008f40: 2074 656d 706c 6174 655f 6461 7461 3a20   template_data: 
-00008f50: 6279 7465 7320 3d20 7061 796c 6f61 640a  bytes = payload.
-00008f60: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00008f70: 2020 2020 2020 2020 2020 7465 6d70 6c61            templa
-00008f80: 7465 5f64 6174 6120 3d20 4e6f 6e65 0a0a  te_data = None..
-00008f90: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00008fa0: 7761 6974 2073 656c 662e 7061 7463 6828  wait self.patch(
-00008fb0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-00008fc0: 6d73 2c20 7061 796c 6f61 643d 7465 6d70  ms, payload=temp
-00008fd0: 6c61 7465 5f64 6174 6129 0a0a 2020 2020  late_data)..    
-00008fe0: 2320 5465 7374 6564 2061 6e64 2077 6f72  # Tested and wor
-00008ff0: 6b73 2062 7574 206e 6f74 2075 7365 642e  ks but not used.
-00009000: 2020 5468 6973 2063 616c 6c73 2070 7963    This calls pyc
-00009010: 656e 7472 616c 206d 6574 686f 6420 6469  entral method di
-00009020: 7265 6374 6c79 2c20 6275 7420 6974 2068  rectly, but it h
-00009030: 6173 2061 6e20 6572 726f 7220 696e 2062  as an error in b
-00009040: 6173 652e 7079 2063 6f6d 6d61 6e64 2072  ase.py command r
-00009050: 6520 7572 6c20 636f 6e63 6174 0a20 2020  e url concat.   
-00009060: 2023 2061 6e64 2069 7420 646f 6573 6e27   # and it doesn'
-00009070: 7420 6361 7463 6820 616c 6c20 6578 6365  t catch all exce
-00009080: 7074 696f 6e73 2073 6f20 706f 7373 6962  ptions so possib
-00009090: 6c65 2074 6f20 6765 7420 6578 6365 7074  le to get except
-000090a0: 696f 6e20 7768 656e 2065 7661 6c20 7265  ion when eval re
-000090b0: 7370 2e2e 2e20 6f75 7220 5265 7370 6f6e  sp... our Respon
-000090c0: 7365 206f 626a 6563 7420 6973 2062 6574  se object is bet
-000090d0: 7465 7220 494d 484f 0a20 2020 2061 7379  ter IMHO.    asy
-000090e0: 6e63 2064 6566 205f 7570 6461 7465 5f65  nc def _update_e
-000090f0: 7869 7374 696e 675f 7465 6d70 6c61 7465  xisting_template
-00009100: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00009110: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
-00009120: 7472 2c0a 2020 2020 2020 2020 6e61 6d65  tr,.        name
-00009130: 3a20 7374 722c 0a20 2020 2020 2020 2074  : str,.        t
-00009140: 656d 706c 6174 653a 2050 6174 6820 3d20  emplate: Path = 
-00009150: 4e6f 6e65 2c0a 2020 2020 2020 2020 7061  None,.        pa
-00009160: 796c 6f61 643a 2073 7472 203d 204e 6f6e  yload: str = Non
-00009170: 652c 0a20 2020 2020 2020 2064 6576 6963  e,.        devic
-00009180: 655f 7479 7065 3a20 7374 7220 3d20 4e6f  e_type: str = No
-00009190: 6e65 2c0a 2020 2020 2020 2020 7665 7273  ne,.        vers
-000091a0: 696f 6e3a 2073 7472 203d 204e 6f6e 652c  ion: str = None,
-000091b0: 0a20 2020 2020 2020 206d 6f64 656c 3a20  .        model: 
-000091c0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000091d0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-000091e0: 2020 2020 2020 2066 726f 6d20 7079 6365         from pyce
-000091f0: 6e74 7261 6c2e 636f 6e66 6967 7572 6174  ntral.configurat
-00009200: 696f 6e20 696d 706f 7274 2054 656d 706c  ion import Templ
-00009210: 6174 6573 0a0a 2020 2020 2020 2020 7465  ates..        te
-00009220: 6d70 6c61 7465 7320 3d20 5465 6d70 6c61  mplates = Templa
-00009230: 7465 7328 290a 2020 2020 2020 2020 6b77  tes().        kw
-00009240: 6172 6773 203d 207b 0a20 2020 2020 2020  args = {.       
-00009250: 2020 2020 2022 6772 6f75 705f 6e61 6d65       "group_name
-00009260: 223a 2067 726f 7570 2c0a 2020 2020 2020  ": group,.      
-00009270: 2020 2020 2020 2274 656d 706c 6174 655f        "template_
-00009280: 6e61 6d65 223a 206e 616d 652c 0a20 2020  name": name,.   
-00009290: 2020 2020 2020 2020 2022 6465 7669 6365           "device
-000092a0: 5f74 7970 6522 3a20 6465 7669 6365 5f74  _type": device_t
-000092b0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
-000092c0: 2022 7665 7273 696f 6e22 3a20 7665 7273   "version": vers
-000092d0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-000092e0: 2022 6d6f 6465 6c22 3a20 6d6f 6465 6c2c   "model": model,
-000092f0: 0a20 2020 2020 2020 2020 2020 2022 7465  .            "te
-00009300: 6d70 6c61 7465 5f66 696c 656e 616d 6522  mplate_filename"
-00009310: 3a20 7374 7228 7465 6d70 6c61 7465 292c  : str(template),
-00009320: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00009330: 2020 2020 7265 7475 726e 2074 656d 706c      return templ
-00009340: 6174 6573 2e75 7064 6174 655f 7465 6d70  ates.update_temp
-00009350: 6c61 7465 2873 656c 662e 6175 7468 2c20  late(self.auth, 
-00009360: 2a2a 6b77 6172 6773 290a 0a20 2020 2061  **kwargs)..    a
-00009370: 7379 6e63 2064 6566 205f 6765 745f 6772  sync def _get_gr
-00009380: 6f75 705f 6e61 6d65 7328 7365 6c66 2920  oup_names(self) 
-00009390: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-000093a0: 2020 2020 2075 726c 203d 2022 2f63 6f6e       url = "/con
-000093b0: 6669 6775 7261 7469 6f6e 2f76 322f 6772  figuration/v2/gr
-000093c0: 6f75 7073 220a 2020 2020 2020 2020 7061  oups".        pa
-000093d0: 7261 6d73 203d 207b 226f 6666 7365 7422  rams = {"offset"
-000093e0: 3a20 302c 2022 6c69 6d69 7422 3a20 3130  : 0, "limit": 10
-000093f0: 307d 2020 2320 3130 3020 6973 2074 6865  0}  # 100 is the
-00009400: 206d 6178 0a20 2020 2020 2020 2072 6573   max.        res
-00009410: 7020 3d20 6177 6169 7420 7365 6c66 2e67  p = await self.g
-00009420: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-00009430: 6172 616d 732c 290a 2020 2020 2020 2020  arams,).        
-00009440: 7265 7370 2e6f 7574 7075 7420 3d20 636c  resp.output = cl
-00009450: 6561 6e65 722e 5f67 6574 5f67 726f 7570  eaner._get_group
-00009460: 5f6e 616d 6573 2872 6573 702e 6f75 7470  _names(resp.outp
-00009470: 7574 290a 2020 2020 2020 2020 7265 7475  ut).        retu
-00009480: 726e 2072 6573 700a 0a20 2020 2061 7379  rn resp..    asy
-00009490: 6e63 2064 6566 2064 656c 6574 655f 7465  nc def delete_te
-000094a0: 6d70 6c61 7465 280a 2020 2020 2020 2020  mplate(.        
-000094b0: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
-000094c0: 6f75 703a 2073 7472 2c0a 2020 2020 2020  oup: str,.      
-000094d0: 2020 7465 6d70 6c61 7465 3a20 7374 722c    template: str,
-000094e0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-000094f0: 7365 3a0a 2020 2020 2020 2020 2222 2244  se:.        """D
-00009500: 656c 6574 6520 6578 6973 7469 6e67 2074  elete existing t
-00009510: 656d 706c 6174 652e 0a0a 2020 2020 2020  emplate...      
-00009520: 2020 2f2f 2055 7365 6420 6279 2064 656c    // Used by del
-00009530: 6574 6520 7465 6d70 6c61 7465 202e 2e2e  ete template ...
-00009540: 202f 2f0a 0a20 2020 2020 2020 2041 7267   //..        Arg
-00009550: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-00009560: 726f 7570 2028 7374 7229 3a20 4e61 6d65  roup (str): Name
-00009570: 206f 6620 7468 6520 6772 6f75 7020 666f   of the group fo
-00009580: 7220 7768 6963 6820 7468 6520 7465 6d70  r which the temp
-00009590: 6c61 7465 2069 7320 746f 2062 6520 6465  late is to be de
-000095a0: 6c65 7465 642e 0a20 2020 2020 2020 2020  leted..         
-000095b0: 2020 2074 656d 706c 6174 6520 2873 7472     template (str
-000095c0: 293a 204e 616d 6520 6f66 2074 6865 2074  ): Name of the t
-000095d0: 656d 706c 6174 6520 746f 2062 6520 6465  emplate to be de
-000095e0: 6c65 7465 642e 0a0a 2020 2020 2020 2020  leted...        
-000095f0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00009600: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00009610: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00009620: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00009630: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00009640: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-00009650: 7469 6f6e 2f76 312f 6772 6f75 7073 2f7b  tion/v1/groups/{
-00009660: 6772 6f75 707d 2f74 656d 706c 6174 6573  group}/templates
-00009670: 2f7b 7465 6d70 6c61 7465 7d22 0a0a 2020  /{template}"..  
-00009680: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00009690: 6974 2073 656c 662e 6465 6c65 7465 2875  it self.delete(u
-000096a0: 726c 290a 0a20 2020 2023 2054 4f44 4f20  rl)..    # TODO 
-000096b0: 6465 7072 6563 6174 6520 7468 6973 2075  deprecate this u
-000096c0: 7365 6420 6279 2067 726f 7570 2063 6163  sed by group cac
-000096d0: 6865 2075 7064 6174 652e 2020 5f67 6574  he update.  _get
-000096e0: 5f67 726f 7570 5f6e 616d 6573 2074 6865  _group_names the
-000096f0: 6e20 6765 745f 6772 6f75 7073 5f70 726f  n get_groups_pro
-00009700: 7065 7274 6965 732e 2020 4d6f 7265 2069  perties.  More i
-00009710: 6e66 6f20 696e 2073 696e 676c 6520 6361  nfo in single ca
-00009720: 6c6c 0a20 2020 2061 7379 6e63 2064 6566  ll.    async def
-00009730: 2067 6574 5f61 6c6c 5f67 726f 7570 7328   get_all_groups(
-00009740: 7365 6c66 2920 2d3e 2052 6573 706f 6e73  self) -> Respons
-00009750: 653a 0a20 2020 2020 2020 2072 6573 7020  e:.        resp 
-00009760: 3d20 6177 6169 7420 7365 6c66 2e5f 6765  = await self._ge
-00009770: 745f 6772 6f75 705f 6e61 6d65 7328 290a  t_group_names().
-00009780: 2020 2020 2020 2020 6966 206e 6f74 2072          if not r
-00009790: 6573 702e 6f6b 3a0a 2020 2020 2020 2020  esp.ok:.        
-000097a0: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
-000097b0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-000097c0: 2020 2020 2020 2020 2020 7572 6c20 3d20            url = 
-000097d0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
-000097e0: 7632 2f67 726f 7570 732f 7465 6d70 6c61  v2/groups/templa
-000097f0: 7465 5f69 6e66 6f22 0a20 2020 2020 2020  te_info".       
-00009800: 2020 2020 2023 2072 6574 7572 6e20 6177       # return aw
-00009810: 6169 7420 7365 6c66 2e67 6574 5f67 726f  ait self.get_gro
-00009820: 7570 735f 7072 6f70 6572 7469 6573 2872  ups_properties(r
-00009830: 6573 702e 6f75 7470 7574 290a 2020 2020  esp.output).    
-00009840: 2020 2020 2020 2020 6261 7463 685f 7265          batch_re
-00009850: 7173 203d 205b 5d0a 2020 2020 2020 2020  qs = [].        
-00009860: 2020 2020 666f 7220 6772 6f75 7073 2069      for groups i
-00009870: 6e20 7574 696c 732e 6368 756e 6b65 7228  n utils.chunker(
-00009880: 7265 7370 2e6f 7574 7075 742c 2032 3029  resp.output, 20)
-00009890: 3a20 2023 2054 6869 7320 6361 6c6c 2061  :  # This call a
-000098a0: 6c6c 6f77 7320 6120 6d61 7820 6f66 2032  llows a max of 2
-000098b0: 300a 2020 2020 2020 2020 2020 2020 2020  0.              
-000098c0: 2020 7061 7261 6d73 203d 207b 2267 726f    params = {"gro
-000098d0: 7570 7322 3a20 222c 222e 6a6f 696e 2867  ups": ",".join(g
-000098e0: 726f 7570 7329 7d0a 2020 2020 2020 2020  roups)}.        
-000098f0: 2020 2020 2020 2020 6261 7463 685f 7265          batch_re
-00009900: 7173 202b 3d20 5b73 656c 662e 4261 7463  qs += [self.Batc
-00009910: 6852 6571 7565 7374 2873 656c 662e 6765  hRequest(self.ge
-00009920: 742c 2075 726c 2c20 7061 7261 6d73 3d70  t, url, params=p
-00009930: 6172 616d 7329 5d0a 2020 2020 2020 2020  arams)].        
-00009940: 2020 2020 2020 2020 2320 616c 6c5f 6772          # all_gr
-00009950: 6f75 7073 203d 2061 7761 6974 2073 656c  oups = await sel
-00009960: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-00009970: 733d 7061 7261 6d73 290a 2020 2020 2020  s=params).      
-00009980: 2020 2020 2020 2020 2020 2320 544f 444f            # TODO
-00009990: 2064 756e 6465 7220 6164 6420 696e 2052   dunder add in R
-000099a0: 6573 706f 6e73 650a 2020 2020 2020 2020  esponse.        
-000099b0: 2020 2020 6261 7463 685f 7265 7370 203d      batch_resp =
-000099c0: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
-000099d0: 6368 5f72 6571 7565 7374 2862 6174 6368  ch_request(batch
-000099e0: 5f72 6571 7329 0a20 2020 2020 2020 2020  _reqs).         
-000099f0: 2020 2023 2054 4f44 4f20 6d65 7468 6f64     # TODO method
-00009a00: 2074 6f20 636f 6d62 696e 6520 7261 7720   to combine raw 
-00009a10: 616e 6420 6f75 7470 7574 2061 7474 7273  and output attrs
-00009a20: 206f 6620 616c 6c20 7265 7370 6f6e 7365   of all response
-00009a30: 7320 696e 746f 206c 6173 7420 7265 7370  s into last resp
-00009a40: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
-00009a50: 7075 7420 3d20 5b72 2066 6f72 2072 6573  put = [r for res
-00009a60: 2069 6e20 6261 7463 685f 7265 7370 2066   in batch_resp f
-00009a70: 6f72 2072 2069 6e20 7265 732e 6f75 7470  or r in res.outp
-00009a80: 7574 5d0a 2020 2020 2020 2020 2020 2020  ut].            
-00009a90: 7265 7370 203d 2062 6174 6368 5f72 6573  resp = batch_res
-00009aa0: 705b 2d31 5d0a 2020 2020 2020 2020 2020  p[-1].          
-00009ab0: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
-00009ac0: 6f75 7470 7574 0a20 2020 2020 2020 2020  output.         
-00009ad0: 2020 2069 6620 2264 6174 6122 2069 6e20     if "data" in 
-00009ae0: 7265 7370 2e72 6177 3a0a 2020 2020 2020  resp.raw:.      
-00009af0: 2020 2020 2020 2020 2020 7265 7370 2e72            resp.r
-00009b00: 6177 5b22 6461 7461 225d 203d 206f 7574  aw["data"] = out
-00009b10: 7075 740a 2020 2020 2020 2020 2020 2020  put.            
-00009b20: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00009b30: 2020 2020 2020 6c6f 672e 7761 726e 696e        log.warnin
-00009b40: 6728 2272 6177 2061 7474 7220 696e 2072  g("raw attr in r
-00009b50: 6573 7020 6672 6f6d 2067 6574 5f61 6c6c  esp from get_all
-00009b60: 5f67 726f 7570 7320 6c61 636b 7320 6578  _groups lacks ex
-00009b70: 7065 6374 6564 206f 7574 6572 206b 6579  pected outer key
-00009b80: 2027 6461 7461 2722 290a 0a20 2020 2020   'data'")..     
-00009b90: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
-00009ba0: 7370 0a0a 0a20 2020 2061 7379 6e63 2064  sp...    async d
-00009bb0: 6566 2067 6574 5f61 6c6c 5f74 656d 706c  ef get_all_templ
-00009bc0: 6174 6573 2873 656c 662c 2067 726f 7570  ates(self, group
-00009bd0: 733a 204c 6973 745b 6469 6374 5d20 3d20  s: List[dict] = 
-00009be0: 4e6f 6e65 2c20 2a2a 7061 7261 6d73 2920  None, **params) 
-00009bf0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00009c00: 2020 2020 2022 2222 4765 7420 6461 7461       """Get data
-00009c10: 2066 6f72 2061 6c6c 2064 6566 696e 6564   for all defined
-00009c20: 2074 656d 706c 6174 6573 2066 726f 6d20   templates from 
-00009c30: 4172 7562 6120 4365 6e74 7261 6c0a 0a20  Aruba Central.. 
-00009c40: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00009c50: 2020 2020 2020 2020 2067 726f 7570 7320           groups 
-00009c60: 284c 6973 745b 6469 6374 5d2c 206f 7074  (List[dict], opt
-00009c70: 696f 6e61 6c29 3a20 4c69 7374 206f 6620  ional): List of 
-00009c80: 6772 6f75 7020 6469 6374 696f 6e61 7269  group dictionari
-00009c90: 6573 2028 4966 2070 726f 7669 6465 6420  es (If provided 
-00009ca0: 6164 6469 7469 6f6e 616c 2041 5049 0a20  additional API. 
-00009cb0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00009cc0: 616c 6c73 2074 6f20 6765 7420 6772 6f75  alls to get grou
-00009cd0: 7020 6e61 6d65 7320 666f 7220 616c 6c20  p names for all 
-00009ce0: 7465 6d70 6c61 7465 2067 726f 7570 7320  template groups 
-00009cf0: 6172 6520 6e6f 7420 7065 7266 6f72 6d65  are not performe
-00009d00: 6429 2e0a 2020 2020 2020 2020 2020 2020  d)..            
-00009d10: 2020 2020 4465 6661 756c 7473 2074 6f20      Defaults to 
-00009d20: 4e6f 6e65 2e0a 0a20 2020 2020 2020 2052  None...        R
-00009d30: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00009d40: 2020 2020 5265 7370 6f6e 7365 3a20 6365      Response: ce
-00009d50: 6e74 7261 6c63 6c69 2052 6573 706f 6e73  ntralcli Respons
-00009d60: 6520 4f62 6a65 6374 0a20 2020 2020 2020  e Object.       
-00009d70: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00009d80: 6e6f 7420 6772 6f75 7073 3a0a 2020 2020  not groups:.    
-00009d90: 2020 2020 2020 2020 7265 7370 203d 2061          resp = a
-00009da0: 7761 6974 2073 656c 662e 6765 745f 616c  wait self.get_al
-00009db0: 6c5f 6772 6f75 7073 2829 0a20 2020 2020  l_groups().     
-00009dc0: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
-00009dd0: 7370 3a0a 2020 2020 2020 2020 2020 2020  sp:.            
-00009de0: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
-00009df0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-00009e00: 7073 203d 2063 6c65 616e 6572 2e67 6574  ps = cleaner.get
-00009e10: 5f61 6c6c 5f67 726f 7570 7328 7265 7370  _all_groups(resp
-00009e20: 2e6f 7574 7075 7429 0a0a 2020 2020 2020  .output)..      
-00009e30: 2020 7465 6d70 6c61 7465 5f67 726f 7570    template_group
-00009e40: 7320 3d20 5b67 5b22 6e61 6d65 225d 2066  s = [g["name"] f
-00009e50: 6f72 2067 2069 6e20 6772 6f75 7073 2069  or g in groups i
-00009e60: 6620 5472 7565 2069 6e20 675b 2274 656d  f True in g["tem
-00009e70: 706c 6174 6520 6772 6f75 7022 5d2e 7661  plate group"].va
-00009e80: 6c75 6573 2829 5d0a 0a20 2020 2020 2020  lues()]..       
-00009e90: 2069 6620 6e6f 7420 7465 6d70 6c61 7465   if not template
-00009ea0: 5f67 726f 7570 733a 0a20 2020 2020 2020  _groups:.       
-00009eb0: 2020 2020 2072 6574 7572 6e20 5265 7370       return Resp
-00009ec0: 6f6e 7365 280a 2020 2020 2020 2020 2020  onse(.          
-00009ed0: 2020 2020 2020 7572 6c3d 224e 6f20 6361        url="No ca
-00009ee0: 6c6c 2070 6572 666f 726d 6564 222c 0a20  ll performed",. 
-00009ef0: 2020 2020 2020 2020 2020 2020 2020 206f                 o
-00009f00: 6b3d 5472 7565 2c0a 2020 2020 2020 2020  k=True,.        
-00009f10: 2020 2020 2020 2020 6f75 7470 7574 3d5b          output=[
-00009f20: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00009f30: 2020 2072 6177 3d5b 5d2c 0a20 2020 2020     raw=[],.     
-00009f40: 2020 2020 2020 2020 2020 2065 7272 6f72             error
-00009f50: 3d22 4e6f 6e65 206f 6620 7468 6520 636f  ="None of the co
-00009f60: 6e66 6967 7572 6564 2067 726f 7570 7320  nfigured groups 
-00009f70: 6172 6520 5465 6d70 6c61 7465 2047 726f  are Template Gro
-00009f80: 7570 732e 222c 0a20 2020 2020 2020 2020  ups.",.         
-00009f90: 2020 2029 0a0a 2020 2020 2020 2020 7265     )..        re
-00009fa0: 7173 203d 205b 7365 6c66 2e42 6174 6368  qs = [self.Batch
-00009fb0: 5265 7175 6573 7428 7365 6c66 2e67 6574  Request(self.get
-00009fc0: 5f61 6c6c 5f74 656d 706c 6174 6573 5f69  _all_templates_i
-00009fd0: 6e5f 6772 6f75 702c 2067 726f 7570 2c20  n_group, group, 
-00009fe0: 2a2a 7061 7261 6d73 2920 666f 7220 6772  **params) for gr
-00009ff0: 6f75 7020 696e 2074 656d 706c 6174 655f  oup in template_
-0000a000: 6772 6f75 7073 5d0a 2020 2020 2020 2020  groups].        
-0000a010: 2320 544f 444f 206d 6179 6265 2063 616c  # TODO maybe cal
-0000a020: 6c20 7468 6520 6167 6772 6567 6174 6f72  l the aggregator
-0000a030: 2066 726f 6d20 5f62 6174 685f 7265 7175   from _bath_requ
-0000a040: 6573 740a 2020 2020 2020 2020 7265 7370  est.        resp
-0000a050: 6f6e 7365 7320 3d20 6177 6169 7420 7365  onses = await se
-0000a060: 6c66 2e5f 6261 7463 685f 7265 7175 6573  lf._batch_reques
-0000a070: 7428 7265 7173 290a 2020 2020 2020 2020  t(reqs).        
-0000a080: 6661 696c 6564 203d 205b 7220 666f 7220  failed = [r for 
-0000a090: 7220 696e 2072 6573 706f 6e73 6573 2069  r in responses i
-0000a0a0: 6620 6e6f 7420 725d 0a20 2020 2020 2020  f not r].       
-0000a0b0: 2069 6620 6661 696c 6564 3a0a 2020 2020   if failed:.    
-0000a0c0: 2020 2020 2020 2020 7265 7475 726e 2066          return f
-0000a0d0: 6169 6c65 645b 2d31 5d0a 0a20 2020 2020  ailed[-1]..     
-0000a0e0: 2020 2023 2063 6f6d 6269 6e65 2072 6573     # combine res
-0000a0f0: 756c 7420 666f 7220 616c 6c20 6361 6c6c  ult for all call
-0000a100: 7320 696e 746f 2031 0a20 2020 2020 2020  s into 1.       
-0000a110: 2023 2054 4f44 4f20 6167 6772 6567 6174   # TODO aggregat
-0000a120: 6f72 2052 6573 706f 6e73 6520 6f62 6a65  or Response obje
-0000a130: 6374 2066 6f72 206d 756c 7469 2072 6573  ct for multi res
-0000a140: 706f 6e73 650a 2020 2020 2020 2020 2320  ponse.        # 
-0000a150: 6d61 7962 6520 6164 6420 7072 6f70 6572  maybe add proper
-0000a160: 7479 2074 6f20 5265 7370 6f6e 7365 2074  ty to Response t
-0000a170: 6861 7420 7265 7475 726e 7320 6469 6374  hat returns dict
-0000a180: 2062 6569 6e67 2064 6f6e 6520 7769 7468   being done with
-0000a190: 2064 6963 7420 636f 6d70 2062 656c 6f77   dict comp below
-0000a1a0: 0a20 2020 2020 2020 2061 6c6c 5f6f 7574  .        all_out
-0000a1b0: 7075 7420 3d20 5b72 7220 666f 7220 7220  put = [rr for r 
-0000a1c0: 696e 2072 6573 706f 6e73 6573 2066 6f72  in responses for
-0000a1d0: 2072 7220 696e 2072 2e6f 7574 7075 745d   rr in r.output]
-0000a1e0: 0a20 2020 2020 2020 2061 6c6c 5f72 6177  .        all_raw
-0000a1f0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0000a200: 2066 225b 7b72 2e65 7272 6f72 7d5d 207b   f"[{r.error}] {
-0000a210: 722e 6d65 7468 6f64 7d20 7b72 2e75 726c  r.method} {r.url
-0000a220: 2e70 6174 6820 6966 206e 6f74 2069 6e74  .path if not int
-0000a230: 2872 2e75 726c 2e71 7565 7279 2e67 6574  (r.url.query.get
-0000a240: 2827 6f66 6673 6574 272c 2030 2929 2065  ('offset', 0)) e
-0000a250: 6c73 6520 722e 7572 6c2e 7061 7468 5f71  lse r.url.path_q
-0000a260: 737d 223a 2072 2e72 6177 0a20 2020 2020  s}": r.raw.     
-0000a270: 2020 2020 2020 2066 6f72 2072 2069 6e20         for r in 
-0000a280: 7265 7370 6f6e 7365 730a 2020 2020 2020  responses.      
-0000a290: 2020 7d0a 2020 2020 2020 2020 7265 7370    }.        resp
-0000a2a0: 6f6e 7365 735b 2d31 5d2e 6f75 7470 7574  onses[-1].output
-0000a2b0: 203d 2061 6c6c 5f6f 7574 7075 740a 2020   = all_output.  
-0000a2c0: 2020 2020 2020 7265 7370 6f6e 7365 735b        responses[
-0000a2d0: 2d31 5d2e 7261 7720 3d20 616c 6c5f 7261  -1].raw = all_ra
-0000a2e0: 770a 0a20 2020 2020 2020 2072 6574 7572  w..        retur
-0000a2f0: 6e20 7265 7370 6f6e 7365 735b 2d31 5d0a  n responses[-1].
-0000a300: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-0000a310: 6574 5f73 6b75 5f74 7970 6573 2873 656c  et_sku_types(sel
-0000a320: 6629 3a20 2023 2046 4149 4c45 4420 2d20  f):  # FAILED - 
-0000a330: 2243 6f75 6c64 206e 6f74 2076 6572 6966  "Could not verif
-0000a340: 7920 6163 6365 7373 206c 6576 656c 2066  y access level f
-0000a350: 6f72 2074 6865 2055 524c 2e22 0a20 2020  or the URL.".   
-0000a360: 2020 2020 2075 726c 203d 2022 2f70 6c61       url = "/pla
-0000a370: 7466 6f72 6d2f 6f72 6465 7273 2f76 312f  tform/orders/v1/
-0000a380: 736b 7573 220a 2020 2020 2020 2020 7061  skus".        pa
-0000a390: 7261 6d73 203d 207b 2273 6b75 5f74 7970  rams = {"sku_typ
-0000a3a0: 6522 3a20 2261 6c6c 227d 0a20 2020 2020  e": "all"}.     
-0000a3b0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0000a3c0: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-0000a3d0: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
-0000a3e0: 2020 2320 544f 444f 2074 6f74 616c 2069    # TODO total i
-0000a3f0: 7320 7265 7475 726e 6564 2077 6974 6820  s returned with 
-0000a400: 6669 7273 7420 7265 7175 6573 7420 6361  first request ca
-0000a410: 6e20 6261 7463 6820 7265 6d61 696e 696e  n batch remainin
-0000a420: 6720 7265 7175 6573 7473 2077 6974 6820  g requests with 
-0000a430: 6c69 6d69 742f 6f66 6673 6574 2061 646a  limit/offset adj
-0000a440: 7573 7465 640a 2020 2020 2320 4150 492d  usted.    # API-
-0000a450: 464c 4157 206c 696d 6974 2064 6f65 736e  FLAW limit doesn
-0000a460: 2774 2061 7070 6561 7220 746f 2068 6176  't appear to hav
-0000a470: 6520 616e 2075 7070 6572 206c 696d 6974  e an upper limit
-0000a480: 2c20 6275 7420 746f 6f6b 2066 6f72 6576  , but took forev
-0000a490: 6572 2074 6f20 7265 7475 726e 2035 2c30  er to return 5,0
-0000a4a0: 3030 2072 6563 6f72 6473 0a20 2020 2061  00 records.    a
-0000a4b0: 7379 6e63 2064 6566 2067 6574 5f64 6576  sync def get_dev
-0000a4c0: 6963 655f 696e 7665 6e74 6f72 7928 0a20  ice_inventory(. 
-0000a4d0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000a4e0: 2020 2020 2073 6b75 5f74 7970 653a 2073       sku_type: s
-0000a4f0: 7472 203d 2022 616c 6c22 2c0a 2020 2020  tr = "all",.    
-0000a500: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-0000a510: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-0000a520: 6974 3a20 696e 7420 3d20 3130 3030 2c0a  it: int = 1000,.
-0000a530: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-0000a540: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-0000a550: 7420 6465 7669 6365 7320 6672 6f6d 2064  t devices from d
-0000a560: 6576 6963 6520 696e 7665 6e74 6f72 792e  evice inventory.
-0000a570: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-0000a580: 2020 2020 2020 2020 2020 2020 736b 755f              sku_
-0000a590: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-0000a5a0: 6e61 6c29 3a20 616c 6c2f 6961 702f 7377  nal): all/iap/sw
-0000a5b0: 6974 6368 2f63 6f6e 7472 6f6c 6c65 722f  itch/controller/
-0000a5c0: 6761 7465 7761 792f 7667 772f 6361 702f  gateway/vgw/cap/
-0000a5d0: 626f 632f 616c 6c5f 6170 2f61 6c6c 5f63  boc/all_ap/all_c
-0000a5e0: 6f6e 7472 6f6c 6c65 722f 6f74 6865 7273  ontroller/others
-0000a5f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a600: 2044 6566 6175 6c74 7320 746f 2061 6c6c   Defaults to all
-0000a610: 2e0a 2020 2020 2020 2020 2020 2020 6f66  ..            of
-0000a620: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
-0000a630: 6e61 6c29 3a20 6f66 6673 6574 206f 7220  nal): offset or 
-0000a640: 7061 6765 206e 756d 6265 7220 4465 6661  page number Defa
-0000a650: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-0000a660: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-0000a670: 742c 206f 7074 696f 6e61 6c29 3a20 4e75  t, optional): Nu
-0000a680: 6d62 6572 206f 6620 6465 7669 6365 7320  mber of devices 
-0000a690: 746f 2067 6574 2044 6566 6175 6c74 7320  to get Defaults 
-0000a6a0: 746f 2031 3030 302e 0a0a 2020 2020 2020  to 1000...      
-0000a6b0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0000a6c0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0000a6d0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0000a6e0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0000a6f0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000a700: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
-0000a710: 2f64 6576 6963 655f 696e 7665 6e74 6f72  /device_inventor
-0000a720: 792f 7631 2f64 6576 6963 6573 220a 0a20  y/v1/devices".. 
-0000a730: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0000a740: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
-0000a750: 6b75 5f74 7970 6527 3a20 736b 755f 7479  ku_type': sku_ty
-0000a760: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
-0000a770: 276f 6666 7365 7427 3a20 6f66 6673 6574  'offset': offset
-0000a780: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-0000a790: 696d 6974 273a 206c 696d 6974 0a20 2020  imit': limit.   
-0000a7a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0000a7b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0000a7c0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-0000a7d0: 733d 7061 7261 6d73 290a 0a20 2020 2023  s=params)..    #
-0000a7e0: 2054 4f44 4f20 636c 6561 6e75 7020 7468   TODO cleanup th
-0000a7f0: 6520 7761 7920 7261 7720 6973 2063 6f6d  e way raw is com
-0000a800: 6269 6e65 642c 2073 6565 2073 686f 7720  bined, see show 
-0000a810: 7769 6473 2061 6c6c 2e0a 2020 2020 6173  wids all..    as
-0000a820: 796e 6320 6465 6620 6765 745f 616c 6c5f  ync def get_all_
-0000a830: 6465 7669 6365 7376 3228 7365 6c66 2c20  devicesv2(self, 
-0000a840: 2a2a 6b77 6172 6773 2920 2d3e 2052 6573  **kwargs) -> Res
-0000a850: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0000a860: 2222 4765 7420 616c 6c20 6465 7669 6365  ""Get all device
-0000a870: 7320 6672 6f6d 2041 7275 6261 2043 656e  s from Aruba Cen
-0000a880: 7472 616c 0a0a 2020 2020 2020 2020 5265  tral..        Re
-0000a890: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0000a8a0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0000a8b0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0000a8c0: 206f 626a 6563 740a 0a20 2020 2020 2020   object..       
-0000a8d0: 2020 2020 2072 6177 2061 7474 7269 6275       raw attribu
-0000a8e0: 7465 2068 6173 2061 6c6c 206b 6579 7320  te has all keys 
-0000a8f0: 7265 7475 726e 6564 2066 6f72 2074 6865  returned for the
-0000a900: 2064 6576 6963 6573 2c20 7468 6520 6f75   devices, the ou
-0000a910: 7470 7574 2061 7474 7269 6275 7465 0a20  tput attribute. 
-0000a920: 2020 2020 2020 2020 2020 2069 6e63 6c75             inclu
-0000a930: 6465 7320 6f6e 6c79 206b 6579 7320 636f  des only keys co
-0000a940: 6d6d 6f6e 2061 6372 6f73 7320 616c 6c20  mmon across all 
-0000a950: 6465 7669 6365 2074 7970 6573 2069 6e20  device types in 
-0000a960: 6365 6e74 7261 6c2e 0a20 2020 2020 2020  central..       
-0000a970: 2022 2222 0a20 2020 2020 2020 2064 6576   """.        dev
-0000a980: 5f74 7970 6573 203d 205b 2261 7073 222c  _types = ["aps",
-0000a990: 2022 7377 6974 6368 6573 222c 2022 6761   "switches", "ga
-0000a9a0: 7465 7761 7973 225d 2020 2320 6d6f 6269  teways"]  # mobi
-0000a9b0: 6c69 7479 5f63 6f6e 7472 6f6c 6c65 7273  lity_controllers
-0000a9c0: 2073 6565 6d73 2073 616d 6520 6173 2067   seems same as g
-0000a9d0: 770a 2020 2020 2020 2020 6c69 625f 6465  w.        lib_de
-0000a9e0: 765f 7479 7065 7320 3d20 7b0a 2020 2020  v_types = {.    
-0000a9f0: 2020 2020 2020 2020 2261 7073 223a 2022          "aps": "
-0000aa00: 6170 222c 0a20 2020 2020 2020 2020 2020  ap",.           
-0000aa10: 2022 6761 7465 7761 7973 223a 2022 6777   "gateways": "gw
-0000aa20: 222c 0a20 2020 2020 2020 207d 0a20 2020  ",.        }.   
-0000aa30: 2020 2020 205f 6f75 7470 7574 203d 207b       _output = {
-0000aa40: 7d0a 0a20 2020 2020 2020 2072 6571 7320  }..        reqs 
-0000aa50: 3d20 5b73 656c 662e 4261 7463 6852 6571  = [self.BatchReq
-0000aa60: 7565 7374 2873 656c 662e 6765 745f 6465  uest(self.get_de
-0000aa70: 7669 6365 732c 2064 6576 5f74 7970 652c  vices, dev_type,
-0000aa80: 202a 2a6b 7761 7267 7329 2066 6f72 2064   **kwargs) for d
-0000aa90: 6576 5f74 7970 6520 696e 2064 6576 5f74  ev_type in dev_t
-0000aaa0: 7970 6573 5d0a 2020 2020 2020 2020 7265  ypes].        re
-0000aab0: 7320 3d20 6177 6169 7420 7365 6c66 2e5f  s = await self._
-0000aac0: 6261 7463 685f 7265 7175 6573 7428 7265  batch_request(re
-0000aad0: 7173 290a 2020 2020 2020 2020 5f66 6169  qs).        _fai
-0000aae0: 6c75 7265 5f69 6478 7320 3d20 5b69 6478  lure_idxs = [idx
-0000aaf0: 2066 6f72 2069 6478 2c20 7220 696e 2065   for idx, r in e
-0000ab00: 6e75 6d65 7261 7465 2872 6573 2920 6966  numerate(res) if
-0000ab10: 206e 6f74 2072 5d0a 2020 2020 2020 2020   not r].        
-0000ab20: 6966 205f 6661 696c 7572 655f 6964 7873  if _failure_idxs
-0000ab30: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0000ab40: 7370 203d 2072 6573 5b5f 6661 696c 7572  sp = res[_failur
-0000ab50: 655f 6964 7873 5b2d 315d 5d0a 2020 2020  e_idxs[-1]].    
-0000ab60: 2020 2020 2020 2020 7265 7370 2e6f 7574          resp.out
-0000ab70: 7075 7420 3d20 5b7b 2264 6576 5f74 7970  put = [{"dev_typ
-0000ab80: 6522 3a20 6465 765f 7479 7065 735b 665d  e": dev_types[f]
-0000ab90: 2c20 2265 7272 6f72 223a 2072 6573 5b66  , "error": res[f
-0000aba0: 5d2e 6f75 7470 7574 7d20 666f 7220 6620  ].output} for f 
-0000abb0: 696e 205f 6661 696c 7572 655f 6964 7873  in _failure_idxs
-0000abc0: 5d0a 2020 2020 2020 2020 2020 2020 7265  ].            re
-0000abd0: 7475 726e 2072 6573 700a 0a20 2020 2020  turn resp..     
-0000abe0: 2020 2072 6573 7020 3d20 7265 735b 2d31     resp = res[-1
-0000abf0: 5d0a 2020 2020 2020 2020 5f6f 7574 7075  ].        _outpu
-0000ac00: 7420 3d20 7b6b 3a20 7574 696c 732e 6c69  t = {k: utils.li
-0000ac10: 7374 6966 7928 7629 2066 6f72 206b 2c20  stify(v) for k, 
-0000ac20: 7620 696e 207a 6970 2864 6576 5f74 7970  v in zip(dev_typ
-0000ac30: 6573 2c20 5b72 2e6f 7574 7075 7420 666f  es, [r.output fo
-0000ac40: 7220 7220 696e 2072 6573 5d29 2069 6620  r r in res]) if 
-0000ac50: 767d 0a20 2020 2020 2020 2072 6573 702e  v}.        resp.
-0000ac60: 7261 7720 3d20 7b6b 3a20 7574 696c 732e  raw = {k: utils.
-0000ac70: 6c69 7374 6966 7928 7629 2066 6f72 206b  listify(v) for k
-0000ac80: 2c20 7620 696e 207a 6970 2864 6576 5f74  , v in zip(dev_t
-0000ac90: 7970 6573 2c20 5b72 2e72 6177 2066 6f72  ypes, [r.raw for
-0000aca0: 2072 2069 6e20 7265 735d 2920 6966 2076   r in res]) if v
-0000acb0: 7d0a 0a20 2020 2020 2020 2069 6620 5f6f  }..        if _o
-0000acc0: 7574 7075 743a 0a20 2020 2020 2020 2020  utput:.         
-0000acd0: 2020 2023 2041 6464 2074 7970 6520 6b65     # Add type ke
-0000ace0: 7920 746f 2061 6c6c 2064 6963 7473 2063  y to all dicts c
-0000acf0: 6f76 6572 7420 2273 7769 7463 682d 7479  overt "switch-ty
-0000ad00: 7065 2220 746f 2063 656e 636c 6920 7479  pe" to cencli ty
-0000ad10: 7065 2028 6378 206f 7220 7377 290a 2020  pe (cx or sw).  
-0000ad20: 2020 2020 2020 2020 2020 2320 544f 444f            # TODO
-0000ad30: 206d 6f76 6520 746f 2063 6c65 616e 6572   move to cleaner
-0000ad40: 3f20 7365 7420 7479 7065 2074 6f20 7377  ? set type to sw
-0000ad50: 6974 6368 5f74 7970 6520 666f 7220 7377  itch_type for sw
-0000ad60: 6974 6368 6573 206c 6574 2063 6c65 616e  itches let clean
-0000ad70: 6572 2063 6861 6e67 6520 7661 6c75 6520  er change value 
-0000ad80: 746f 206c 6962 2076 616c 730a 2020 2020  to lib vals.    
-0000ad90: 2020 2020 2020 2020 6469 6374 7320 3d20          dicts = 
-0000ada0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-0000adb0: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-0000adc0: 2020 2020 2020 2020 2a2a 7b0a 2020 2020          **{.    
+00005e40: 2020 6163 3337 2e34 3334 612e 3865 6666    ac37.434a.8eff
+00005e50: 2052 6574 7572 6e73 204d 4154 4348 0a20   Returns MATCH. 
+00005e60: 2020 2020 2020 2069 6620 6e6f 7420 6465         if not de
+00005e70: 765f 7479 7065 3a0a 2020 2020 2020 2020  v_type:.        
+00005e80: 2020 2020 666f 7220 5f64 6576 5f74 7970      for _dev_typ
+00005e90: 6520 696e 205b 2277 6972 656c 6573 7322  e in ["wireless"
+00005ea0: 2c20 2277 6972 6564 225d 3a0a 2020 2020  , "wired"]:.    
+00005eb0: 2020 2020 2020 2020 2020 2020 7572 6c20              url 
+00005ec0: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
+00005ed0: 7631 2f63 6c69 656e 7473 2f7b 5f64 6576  v1/clients/{_dev
+00005ee0: 5f74 7970 657d 2f7b 6d61 632e 7572 6c7d  _type}/{mac.url}
+00005ef0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00005f00: 2020 7265 7370 203d 2061 7761 6974 2073    resp = await s
+00005f10: 656c 662e 6765 7428 7572 6c2c 2920 2023  elf.get(url,)  #
+00005f20: 2063 616c 6c62 6163 6b3d 636c 6561 6e65   callback=cleane
+00005f30: 722e 6765 745f 636c 6965 6e74 732c 202a  r.get_clients, *
+00005f40: 2a6b 7761 7267 7329 0a20 2020 2020 2020  *kwargs).       
+00005f50: 2020 2020 2020 2020 2069 6620 7265 7370           if resp
+00005f60: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00005f70: 2020 2020 2020 2320 7265 7370 2e6f 7574        # resp.out
+00005f80: 7075 7420 3d20 5b7b 2a2a 7b22 636c 6965  put = [{**{"clie
+00005f90: 6e74 5f74 7970 6522 3a20 5f64 6576 5f74  nt_type": _dev_t
+00005fa0: 7970 652e 7570 7065 7228 297d 2c20 2a2a  ype.upper()}, **
+00005fb0: 647d 2066 6f72 2064 2069 6e20 7265 7370  d} for d in resp
+00005fc0: 2e6f 7574 7075 745d 0a20 2020 2020 2020  .output].       
+00005fd0: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+00005fe0: 616b 0a0a 2020 2020 2020 2020 2020 2020  ak..            
+00005ff0: 7265 7475 726e 2072 6573 700a 2020 2020  return resp.    
+00006000: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00006010: 2020 2020 2020 7572 6c20 3d20 6622 2f6d        url = f"/m
+00006020: 6f6e 6974 6f72 696e 672f 7631 2f63 6c69  onitoring/v1/cli
+00006030: 656e 7473 2f7b 6465 765f 7479 7065 7d2f  ents/{dev_type}/
+00006040: 7b6d 6163 2e75 726c 7d22 0a20 2020 2020  {mac.url}".     
+00006050: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00006060: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00006070: 2c29 2020 2320 6361 6c6c 6261 636b 3d63  ,)  # callback=c
+00006080: 6c65 616e 6572 2e67 6574 5f63 6c69 656e  leaner.get_clien
+00006090: 7473 2c20 2a2a 6b77 6172 6773 290a 0a20  ts, **kwargs).. 
+000060a0: 2020 2020 2020 2023 2069 6620 736f 7274         # if sort
+000060b0: 5f62 7920 6973 204e 6f6e 653a 0a20 2020  _by is None:.   
+000060c0: 2020 2020 2023 2020 2020 2072 6574 7572       #     retur
+000060d0: 6e20 7265 7370 0a20 2020 2020 2020 2023  n resp.        #
+000060e0: 2065 6c73 653a 0a20 2020 2020 2020 2023   else:.        #
+000060f0: 2020 2020 2072 6574 7572 6e20 7365 6c66       return self
+00006100: 2e5f 736f 7274 6564 2872 6573 702c 2073  ._sorted(resp, s
+00006110: 6f72 745f 6279 290a 0a20 2020 2061 7379  ort_by)..    asy
+00006120: 6e63 2064 6566 2067 6574 5f63 6572 7469  nc def get_certi
+00006130: 6669 6361 7465 7328 0a20 2020 2020 2020  ficates(.       
+00006140: 2073 656c 662c 2071 3a20 7374 7220 3d20   self, q: str = 
+00006150: 4e6f 6e65 2c20 6f66 6673 6574 3a20 696e  None, offset: in
+00006160: 7420 3d20 302c 206c 696d 6974 3a20 696e  t = 0, limit: in
+00006170: 7420 3d20 3230 2c20 6361 6c6c 6261 636b  t = 20, callback
+00006180: 3a20 6361 6c6c 6162 6c65 203d 204e 6f6e  : callable = Non
+00006190: 652c 2063 616c 6c62 6163 6b5f 6b77 6172  e, callback_kwar
+000061a0: 6773 3a20 6469 6374 203d 204e 6f6e 650a  gs: dict = None.
+000061b0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+000061c0: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+000061d0: 7420 4365 7274 6966 6963 6174 6573 2064  t Certificates d
+000061e0: 6574 6169 6c73 2e0a 0a20 2020 2020 2020  etails...       
+000061f0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00006200: 2020 2071 2028 7374 722c 206f 7074 696f     q (str, optio
+00006210: 6e61 6c29 3a20 5365 6172 6368 2066 6f72  nal): Search for
+00006220: 2061 2070 6172 7469 6375 6c61 7220 6365   a particular ce
+00006230: 7274 6966 6963 6174 6520 6279 2069 7473  rtificate by its
+00006240: 206e 616d 652c 206d 6435 2068 6173 6820   name, md5 hash 
+00006250: 6f72 2073 6861 315f 6861 7368 0a20 2020  or sha1_hash.   
+00006260: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
+00006270: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00006280: 204e 756d 6265 7220 6f66 2069 7465 6d73   Number of items
+00006290: 2074 6f20 6265 2073 6b69 7070 6564 2062   to be skipped b
+000062a0: 6566 6f72 6520 7265 7475 726e 696e 6720  efore returning 
+000062b0: 7468 6520 6461 7461 2c20 7573 6566 756c  the data, useful
+000062c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000062d0: 2066 6f72 2070 6167 696e 6174 696f 6e2e   for pagination.
+000062e0: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
+000062f0: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
+00006300: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+00006310: 293a 204d 6178 696d 756d 206e 756d 6265  ): Maximum numbe
+00006320: 7220 6f66 2072 6563 6f72 6473 2074 6f20  r of records to 
+00006330: 6265 2072 6574 7572 6e65 642e 2044 6566  be returned. Def
+00006340: 6175 6c74 7320 746f 2032 302c 204d 6178  aults to 20, Max
+00006350: 2032 302e 0a0a 2020 2020 2020 2020 5265   20...        Re
+00006360: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00006370: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00006380: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00006390: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+000063a0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+000063b0: 3d20 222f 636f 6e66 6967 7572 6174 696f  = "/configuratio
+000063c0: 6e2f 7631 2f63 6572 7469 6669 6361 7465  n/v1/certificate
+000063d0: 7322 0a0a 2020 2020 2020 2020 2320 6f66  s"..        # of
+000063e0: 6673 6574 2061 6e64 206c 696d 6974 2061  fset and limit a
+000063f0: 7265 2062 6f74 6820 7265 7175 6972 6564  re both required
+00006400: 2062 7920 7468 6520 4150 4920 6d65 7468   by the API meth
+00006410: 6f64 2e0a 2020 2020 2020 2020 7061 7261  od..        para
+00006420: 6d73 203d 207b 2271 223a 2071 2c20 226f  ms = {"q": q, "o
+00006430: 6666 7365 7422 3a20 6f66 6673 6574 2c20  ffset": offset, 
+00006440: 226c 696d 6974 223a 206c 696d 6974 7d0a  "limit": limit}.
+00006450: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00006460: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+00006470: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+00006480: 732c 2063 616c 6c62 6163 6b3d 6361 6c6c  s, callback=call
+00006490: 6261 636b 2c20 6361 6c6c 6261 636b 5f6b  back, callback_k
+000064a0: 7761 7267 733d 6361 6c6c 6261 636b 5f6b  wargs=callback_k
+000064b0: 7761 7267 7329 0a0a 2020 2020 2320 6173  wargs)..    # as
+000064c0: 796e 6320 6465 6620 7570 6c6f 6164 5f63  ync def upload_c
+000064d0: 6572 7469 6669 6361 7465 280a 2020 2020  ertificate(.    
+000064e0: 2320 2020 2020 7365 6c66 2c0a 2020 2020  #     self,.    
+000064f0: 2320 2020 2020 6365 7274 5f6e 616d 653a  #     cert_name:
+00006500: 2073 7472 2c0a 2020 2020 2320 2020 2020   str,.    #     
+00006510: 6365 7274 5f74 7970 653a 204c 6974 6572  cert_type: Liter
+00006520: 616c 5b22 5345 5256 4552 5f43 4552 5422  al["SERVER_CERT"
+00006530: 2c20 2243 415f 4345 5254 222c 2022 4352  , "CA_CERT", "CR
+00006540: 4c22 2c20 2249 4e54 4552 4d45 4449 4154  L", "INTERMEDIAT
+00006550: 455f 4341 222c 2022 4f43 5350 5f52 4553  E_CA", "OCSP_RES
+00006560: 504f 4e44 4552 5f43 4552 5422 2c20 224f  PONDER_CERT", "O
+00006570: 4353 505f 5349 474e 4552 5f43 4552 5422  CSP_SIGNER_CERT"
+00006580: 2c20 2250 5542 4c49 435f 4345 5254 225d  , "PUBLIC_CERT"]
+00006590: 2c0a 2020 2020 2320 2020 2020 6365 7274  ,.    #     cert
+000065a0: 5f66 6f72 6d61 743a 204c 6974 6572 616c  _format: Literal
+000065b0: 5b22 5045 4d22 2c20 2244 4552 222c 2022  ["PEM", "DER", "
+000065c0: 504b 4353 3132 225d 2c0a 2020 2020 2320  PKCS12"],.    # 
+000065d0: 2020 2020 7061 7373 7068 7261 7365 3a20      passphrase: 
+000065e0: 7374 722c 0a20 2020 2023 2020 2020 2063  str,.    #     c
+000065f0: 6572 745f 6461 7461 3a20 7374 722c 0a20  ert_data: str,. 
+00006600: 2020 2023 2029 202d 3e20 5265 7370 6f6e     # ) -> Respon
+00006610: 7365 3a0a 2020 2020 2320 2020 2020 2222  se:.    #     ""
+00006620: 2255 706c 6f61 6420 6120 6365 7274 6966  "Upload a certif
+00006630: 6963 6174 652e 0a0a 2020 2020 2320 2020  icate...    #   
+00006640: 2020 4172 6773 3a0a 2020 2020 2320 2020    Args:.    #   
+00006650: 2020 2020 2020 6365 7274 5f6e 616d 6520        cert_name 
+00006660: 2873 7472 293a 2063 6572 745f 6e61 6d65  (str): cert_name
+00006670: 0a20 2020 2023 2020 2020 2020 2020 2063  .    #         c
+00006680: 6572 745f 7479 7065 2028 7374 7229 3a20  ert_type (str): 
+00006690: 6365 7274 5f74 7970 6520 2056 616c 6964  cert_type  Valid
+000066a0: 2056 616c 7565 733a 2053 4552 5645 525f   Values: SERVER_
+000066b0: 4345 5254 2c20 4341 5f43 4552 542c 2043  CERT, CA_CERT, C
+000066c0: 524c 2c20 494e 5445 524d 4544 4941 5445  RL, INTERMEDIATE
+000066d0: 5f43 412c 0a20 2020 2023 2020 2020 2020  _CA,.    #      
+000066e0: 2020 2020 2020 204f 4353 505f 5245 5350         OCSP_RESP
+000066f0: 4f4e 4445 525f 4345 5254 2c20 4f43 5350  ONDER_CERT, OCSP
+00006700: 5f53 4947 4e45 525f 4345 5254 2c20 5055  _SIGNER_CERT, PU
+00006710: 424c 4943 5f43 4552 540a 2020 2020 2320  BLIC_CERT.    # 
+00006720: 2020 2020 2020 2020 6365 7274 5f66 6f72          cert_for
+00006730: 6d61 7420 2873 7472 293a 2063 6572 745f  mat (str): cert_
+00006740: 666f 726d 6174 2020 5661 6c69 6420 5661  format  Valid Va
+00006750: 6c75 6573 3a20 5045 4d2c 2044 4552 2c20  lues: PEM, DER, 
+00006760: 504b 4353 3132 0a20 2020 2023 2020 2020  PKCS12.    #    
+00006770: 2020 2020 2070 6173 7370 6872 6173 6520       passphrase 
+00006780: 2873 7472 293a 2070 6173 7370 6872 6173  (str): passphras
+00006790: 650a 2020 2020 2320 2020 2020 2020 2020  e.    #         
+000067a0: 6365 7274 5f64 6174 6120 2873 7472 293a  cert_data (str):
+000067b0: 2043 6572 7469 6669 6361 7465 2063 6f6e   Certificate con
+000067c0: 7465 6e74 2065 6e63 6f64 6564 2069 6e20  tent encoded in 
+000067d0: 6261 7365 3634 2066 6f72 2061 6c6c 2066  base64 for all f
+000067e0: 6f72 6d61 7420 6365 7274 6966 6963 6174  ormat certificat
+000067f0: 6573 2e0a 0a20 2020 2023 2020 2020 2052  es...    #     R
+00006800: 6574 7572 6e73 3a0a 2020 2020 2320 2020  eturns:.    #   
+00006810: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00006820: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00006830: 6e73 6520 6f62 6a65 6374 0a20 2020 2023  nse object.    #
+00006840: 2020 2020 2022 2222 0a20 2020 2023 2020       """.    #  
+00006850: 2020 2075 726c 203d 2022 2f63 6f6e 6669     url = "/confi
+00006860: 6775 7261 7469 6f6e 2f76 312f 6365 7274  guration/v1/cert
+00006870: 6966 6963 6174 6573 220a 0a20 2020 2023  ificates"..    #
+00006880: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
+00006890: 207b 0a20 2020 2023 2020 2020 2020 2020   {.    #        
+000068a0: 2027 6365 7274 5f6e 616d 6527 3a20 6365   'cert_name': ce
+000068b0: 7274 5f6e 616d 652c 0a20 2020 2023 2020  rt_name,.    #  
+000068c0: 2020 2020 2020 2027 6365 7274 5f74 7970         'cert_typ
+000068d0: 6527 3a20 6365 7274 5f74 7970 652c 0a20  e': cert_type,. 
+000068e0: 2020 2023 2020 2020 2020 2020 2027 6365     #         'ce
+000068f0: 7274 5f66 6f72 6d61 7427 3a20 6365 7274  rt_format': cert
+00006900: 5f66 6f72 6d61 742c 0a20 2020 2023 2020  _format,.    #  
+00006910: 2020 2020 2020 2027 7061 7373 7068 7261         'passphra
+00006920: 7365 273a 2070 6173 7370 6872 6173 652c  se': passphrase,
+00006930: 0a20 2020 2023 2020 2020 2020 2020 2027  .    #         '
+00006940: 6365 7274 5f64 6174 6127 3a20 6365 7274  cert_data': cert
+00006950: 5f64 6174 610a 2020 2020 2320 2020 2020  _data.    #     
+00006960: 7d0a 0a20 2020 2023 2020 2020 2072 6574  }..    #     ret
+00006970: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00006980: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+00006990: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+000069a0: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+000069b0: 5f74 656d 706c 6174 6528 7365 6c66 2c20  _template(self, 
+000069c0: 6772 6f75 703a 2073 7472 2c20 7465 6d70  group: str, temp
+000069d0: 6c61 7465 3a20 7374 7229 202d 3e20 5265  late: str) -> Re
+000069e0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+000069f0: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
+00006a00: 7261 7469 6f6e 2f76 312f 6772 6f75 7073  ration/v1/groups
+00006a10: 2f7b 6772 6f75 707d 2f74 656d 706c 6174  /{group}/templat
+00006a20: 6573 2f7b 7465 6d70 6c61 7465 7d22 0a20  es/{template}". 
+00006a30: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00006a40: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00006a50: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00006a60: 2067 6574 5f74 656d 706c 6174 655f 6465   get_template_de
+00006a70: 7461 696c 735f 666f 725f 6465 7669 6365  tails_for_device
+00006a80: 2873 656c 662c 2064 6576 6963 655f 7365  (self, device_se
+00006a90: 7269 616c 3a20 7374 722c 2064 6574 6169  rial: str, detai
+00006aa0: 6c73 3a20 626f 6f6c 203d 2046 616c 7365  ls: bool = False
+00006ab0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00006ac0: 2020 2020 2020 2022 2222 4765 7420 636f         """Get co
+00006ad0: 6e66 6967 7572 6174 696f 6e20 6465 7461  nfiguration deta
+00006ae0: 696c 7320 666f 7220 6120 6465 7669 6365  ils for a device
+00006af0: 2028 6f6e 6c79 2066 6f72 2074 656d 706c   (only for templ
+00006b00: 6174 6520 6772 6f75 7073 292e 0a0a 2020  ate groups)...  
+00006b10: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00006b20: 2020 2020 2020 2020 6465 7669 6365 5f73          device_s
+00006b30: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
+00006b40: 6961 6c20 6e75 6d62 6572 206f 6620 7468  ial number of th
+00006b50: 6520 6465 7669 6365 2e0a 2020 2020 2020  e device..      
+00006b60: 2020 2020 2020 6465 7461 696c 7320 2862        details (b
+00006b70: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+00006b80: 5573 7561 6c6c 7920 7061 7373 2066 616c  Usually pass fal
+00006b90: 7365 2074 6f20 6765 7420 6f6e 6c79 2074  se to get only t
+00006ba0: 6865 2073 756d 6d61 7279 206f 6620 6120  he summary of a 
+00006bb0: 6465 7669 6365 2773 0a20 2020 2020 2020  device's.       
+00006bc0: 2020 2020 2020 2020 2063 6f6e 6669 6775           configu
+00006bd0: 7261 7469 6f6e 2073 7461 7475 732e 0a20  ration status.. 
+00006be0: 2020 2020 2020 2020 2020 2020 2020 2050                 P
+00006bf0: 6173 7320 7472 7565 206f 6e6c 7920 6966  ass true only if
+00006c00: 2064 6574 6169 6c65 6420 7265 7370 6f6e   detailed respon
+00006c10: 7365 206f 6620 6120 6465 7669 6365 2773  se of a device's
+00006c20: 2063 6f6e 6669 6775 7261 7469 6f6e 2073   configuration s
+00006c30: 7461 7475 7320 6973 2072 6571 7569 7265  tatus is require
+00006c40: 642e 0a20 2020 2020 2020 2020 2020 2020  d..             
+00006c50: 2020 2050 6173 7369 6e67 2074 7275 6520     Passing true 
+00006c60: 6d69 6768 7420 7265 7375 6c74 2069 6e20  might result in 
+00006c70: 736c 6f77 6572 2041 5049 2072 6573 706f  slower API respo
+00006c80: 6e73 6520 616e 6420 7065 7266 6f72 6d61  nse and performa
+00006c90: 6e63 6520 6566 6665 6374 0a20 2020 2020  nce effect.     
+00006ca0: 2020 2020 2020 2020 2020 2063 6f6d 7061             compa
+00006cb0: 7261 7469 7665 6c79 2e0a 0a20 2020 2020  ratively...     
+00006cc0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00006cd0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00006ce0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00006cf0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00006d00: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00006d10: 2023 2041 5049 2d4e 4f54 4520 7265 7475   # API-NOTE retu
+00006d20: 726e 7320 666f 726d 2d64 6174 6120 2861  rns form-data (a
+00006d30: 2062 6967 2073 7472 290a 2020 2020 2020   big str).      
+00006d40: 2020 2320 2041 2063 6c65 616e 6572 2068    #  A cleaner h
+00006d50: 6173 2062 6565 6e20 6372 6561 7465 6420  as been created 
+00006d60: 7468 6174 2070 6172 7365 7320 7468 6520  that parses the 
+00006d70: 7265 7370 2069 6e74 6f20 6469 6374 0a20  resp into dict. 
+00006d80: 2020 2020 2020 2023 2020 7769 7468 2073         #  with s
+00006d90: 756d 6d61 7279 2864 6963 7429 2061 6e64  ummary(dict) and
+00006da0: 2072 756e 6e69 6e67 2f63 656e 7472 616c   running/central
+00006db0: 5f73 6964 6520 636f 6e66 6967 7320 2873  _side configs (s
+00006dc0: 7472 290a 2020 2020 2020 2020 2320 4e65  tr).        # Ne
+00006dd0: 6564 2063 6c65 616e 6572 2074 6f20 7061  ed cleaner to pa
+00006de0: 7273 6520 616e 6420 636f 6e76 6572 7420  rse and convert 
+00006df0: 746f 2064 6963 740a 2020 2020 2020 2020  to dict.        
+00006e00: 2320 2d2d 6664 336c 6f6e 6761 6c70 6861  # --fd3longalpha
+00006e10: 6e75 6d65 7269 6373 7472 696e 6736 330a  numericstring63.
+00006e20: 2020 2020 2020 2020 2320 436f 6e74 656e          # Conten
+00006e30: 742d 4469 7370 6f73 6974 696f 6e3a 2066  t-Disposition: f
+00006e40: 6f72 6d2d 6461 7461 3b20 6e61 6d65 3d22  orm-data; name="
+00006e50: 5375 6d6d 6172 7922 0a20 2020 2020 2020  Summary".       
+00006e60: 2023 2043 6f6e 7465 6e74 2d54 7970 653a   # Content-Type:
+00006e70: 2061 7070 6c69 6361 7469 6f6e 2f6a 736f   application/jso
+00006e80: 6e0a 0a20 2020 2020 2020 2023 207b 0a20  n..        # {. 
+00006e90: 2020 2020 2020 2023 2020 2020 2022 4465         #     "De
+00006ea0: 7669 6365 5f73 6572 6961 6c22 3a20 2272  vice_serial": "r
+00006eb0: 6564 6163 7465 6422 2c0a 2020 2020 2020  edacted",.      
+00006ec0: 2020 2320 2020 2020 2244 6576 6963 655f    #     "Device_
+00006ed0: 7479 7065 223a 2022 4172 7562 6153 7769  type": "ArubaSwi
+00006ee0: 7463 6822 2c0a 2020 2020 2020 2020 2320  tch",.        # 
+00006ef0: 2020 2020 2247 726f 7570 223a 2022 5761      "Group": "Wa
+00006f00: 6465 4c61 6222 2c0a 2020 2020 2020 2020  deLab",.        
+00006f10: 2320 2020 2020 2243 6f6e 6669 6775 7261  #     "Configura
+00006f20: 7469 6f6e 5f65 7272 6f72 5f73 7461 7475  tion_error_statu
+00006f30: 7322 3a20 6661 6c73 652c 0a20 2020 2020  s": false,.     
+00006f40: 2020 2023 2020 2020 2022 4f76 6572 7269     #     "Overri
+00006f50: 6465 5f73 7461 7475 7322 3a20 6661 6c73  de_status": fals
+00006f60: 652c 0a20 2020 2020 2020 2023 2020 2020  e,.        #    
+00006f70: 2022 5465 6d70 6c61 7465 5f6e 616d 6522   "Template_name"
+00006f80: 3a20 2232 3933 3046 2d38 222c 0a20 2020  : "2930F-8",.   
+00006f90: 2020 2020 2023 2020 2020 2022 5465 6d70       #     "Temp
+00006fa0: 6c61 7465 5f68 6173 6822 3a20 2234 3661  late_hash": "46a
+00006fb0: 2d72 6564 6163 7465 642d 3064 222c 0a20  -redacted-0d",. 
+00006fc0: 2020 2020 2020 2023 2020 2020 2022 5465         #     "Te
+00006fd0: 6d70 6c61 7465 5f65 7272 6f72 5f73 7461  mplate_error_sta
+00006fe0: 7475 7322 3a20 6661 6c73 650a 2020 2020  tus": false.    
+00006ff0: 2020 2020 2320 7d0a 2020 2020 2020 2020      # }.        
+00007000: 2320 2d2d 6664 336c 6f6e 6761 6c70 6861  # --fd3longalpha
+00007010: 6e75 6d65 7269 6373 7472 696e 6736 330a  numericstring63.
+00007020: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+00007030: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
+00007040: 312f 6465 7669 6365 732f 7b64 6576 6963  1/devices/{devic
+00007050: 655f 7365 7269 616c 7d2f 636f 6e66 6967  e_serial}/config
+00007060: 5f64 6574 6169 6c73 220a 2020 2020 2020  _details".      
+00007070: 2020 6865 6164 6572 7320 3d20 7b22 4163    headers = {"Ac
+00007080: 6365 7074 223a 2022 6d75 6c74 6970 6172  cept": "multipar
+00007090: 742f 666f 726d 2d64 6174 6122 7d0a 2020  t/form-data"}.  
+000070a0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+000070b0: 2264 6574 6169 6c73 223a 2073 7472 2864  "details": str(d
+000070c0: 6574 6169 6c73 297d 0a20 2020 2020 2020  etails)}.       
+000070d0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+000070e0: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+000070f0: 6d73 3d70 6172 616d 732c 2068 6561 6465  ms=params, heade
+00007100: 7273 3d68 6561 6465 7273 290a 0a20 2020  rs=headers)..   
+00007110: 2061 7379 6e63 2064 6566 2067 6574 5f61   async def get_a
+00007120: 6c6c 5f74 656d 706c 6174 6573 5f69 6e5f  ll_templates_in_
+00007130: 6772 6f75 7028 0a20 2020 2020 2020 2073  group(.        s
+00007140: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
+00007150: 7570 3a20 7374 722c 0a20 2020 2020 2020  up: str,.       
+00007160: 206e 616d 653a 2073 7472 203d 204e 6f6e   name: str = Non
+00007170: 652c 0a20 2020 2020 2020 2064 6576 6963  e,.        devic
+00007180: 655f 7479 7065 3a20 4c69 7465 7261 6c5b  e_type: Literal[
+00007190: 2261 7022 2c20 2273 7722 2c20 2263 7822  "ap", "sw", "cx"
+000071a0: 2c20 2267 7722 5d20 3d20 4e6f 6e65 2c0a  , "gw"] = None,.
+000071b0: 2020 2020 2020 2020 7665 7273 696f 6e3a          version:
+000071c0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+000071d0: 2020 2020 206d 6f64 656c 3a20 7374 7220       model: str 
+000071e0: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
+000071f0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00007200: 2020 2069 6620 6465 7669 6365 5f74 7970     if device_typ
+00007210: 653a 0a20 2020 2020 2020 2020 2020 2064  e:.            d
+00007220: 6576 6963 655f 7479 7065 203d 2063 6f6e  evice_type = con
+00007230: 7374 616e 7473 2e6c 6962 5f74 6f5f 6170  stants.lib_to_ap
+00007240: 6928 2274 656d 706c 6174 6522 2c20 6465  i("template", de
+00007250: 7669 6365 5f74 7970 6529 0a0a 2020 2020  vice_type)..    
+00007260: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+00007270: 2020 2020 2020 2020 2020 2022 6f66 6673             "offs
+00007280: 6574 223a 2030 2c0a 2020 2020 2020 2020  et": 0,.        
+00007290: 2020 2020 226c 696d 6974 223a 2032 302c      "limit": 20,
+000072a0: 2020 2320 3230 2069 7320 7468 6520 6d61    # 20 is the ma
+000072b0: 780a 2020 2020 2020 2020 2020 2020 2274  x.            "t
+000072c0: 656d 706c 6174 6522 3a20 6e61 6d65 2c0a  emplate": name,.
+000072d0: 2020 2020 2020 2020 2020 2020 2264 6576              "dev
+000072e0: 6963 655f 7479 7065 223a 2064 6576 6963  ice_type": devic
+000072f0: 655f 7479 7065 2c20 2023 2076 616c 6964  e_type,  # valid
+00007300: 203d 2049 4150 2c20 4172 7562 6153 7769   = IAP, ArubaSwi
+00007310: 7463 682c 204d 6f62 696c 6974 7943 6f6e  tch, MobilityCon
+00007320: 7472 6f6c 6c65 722c 2043 580a 2020 2020  troller, CX.    
+00007330: 2020 2020 2020 2020 2276 6572 7369 6f6e          "version
+00007340: 223a 2076 6572 7369 6f6e 2c0a 2020 2020  ": version,.    
+00007350: 2020 2020 2020 2020 226d 6f64 656c 223a          "model":
+00007360: 206d 6f64 656c 2c0a 2020 2020 2020 2020   model,.        
+00007370: 7d0a 2020 2020 2020 2020 7572 6c20 3d20  }.        url = 
+00007380: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
+00007390: 2f76 312f 6772 6f75 7073 2f7b 6772 6f75  /v1/groups/{grou
+000073a0: 707d 2f74 656d 706c 6174 6573 220a 2020  p}/templates".  
+000073b0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+000073c0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+000073d0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+000073e0: 0a20 2020 2023 2046 4958 4d45 2023 2054  .    # FIXME # T
+000073f0: 4f44 4f20 2320 5768 6174 2074 6865 2041  ODO # What the A
+00007400: 6273 6f6c 7574 6520 463f 2120 206e 6f74  bsolute F?!  not
+00007410: 2061 626c 6520 746f 2073 656e 6420 7465   able to send te
+00007420: 6d70 6c61 7465 2061 7320 666f 726d 6461  mplate as formda
+00007430: 7461 2070 726f 7065 726c 7920 7769 7468  ta properly with
+00007440: 2061 696f 6874 7470 0a20 2020 2023 2020   aiohttp.    #  
+00007450: 2020 2020 2072 6571 7565 7374 7320 6d6f       requests mo
+00007460: 6475 6c65 2077 6f72 6b73 2c20 6275 7420  dule works, but 
+00007470: 6e6f 206c 7563 6b20 6166 7465 7220 686f  no luck after ho
+00007480: 7572 7320 6d65 7373 696e 6720 7769 7468  urs messing with
+00007490: 2066 6f72 6d2d 6461 7461 2069 6e20 6169   form-data in ai
+000074a0: 6f68 7474 700a 2020 2020 6173 796e 6320  ohttp.    async 
+000074b0: 6465 6620 6164 645f 7465 6d70 6c61 7465  def add_template
+000074c0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+000074d0: 2020 2020 2020 2020 6e61 6d65 3a20 7374          name: st
+000074e0: 722c 0a20 2020 2020 2020 2067 726f 7570  r,.        group
+000074f0: 3a20 7374 722c 0a20 2020 2020 2020 2074  : str,.        t
+00007500: 656d 706c 6174 653a 2055 6e69 6f6e 5b50  emplate: Union[P
+00007510: 6174 682c 2073 7472 2c20 6279 7465 735d  ath, str, bytes]
+00007520: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
+00007530: 5f74 7970 653a 2063 6f6e 7374 616e 7473  _type: constants
+00007540: 2e44 6576 5479 7065 7320 3d22 6170 222c  .DevTypes ="ap",
+00007550: 0a20 2020 2020 2020 2076 6572 7369 6f6e  .        version
+00007560: 3a20 7374 7220 3d20 2241 4c4c 222c 0a20  : str = "ALL",. 
+00007570: 2020 2020 2020 206d 6f64 656c 3a20 7374         model: st
+00007580: 7220 3d20 2241 4c4c 222c 0a20 2020 2029  r = "ALL",.    )
+00007590: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+000075a0: 2020 2020 2020 2222 2243 7265 6174 6520        """Create 
+000075b0: 6e65 7720 7465 6d70 6c61 7465 2e0a 0a20  new template... 
+000075c0: 2020 2020 2020 202f 2f20 5573 6564 2062         // Used b
+000075d0: 7920 6164 6420 7465 6d70 6c61 7465 202e  y add template .
+000075e0: 2e2e 202f 2f0a 0a20 2020 2020 2020 2041  .. //..        A
+000075f0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00007600: 206e 616d 6520 2873 7472 293a 204e 616d   name (str): Nam
+00007610: 6520 6f66 2074 656d 706c 6174 652e 0a20  e of template.. 
+00007620: 2020 2020 2020 2020 2020 2067 726f 7570             group
+00007630: 2028 7374 7229 3a20 4e61 6d65 206f 6620   (str): Name of 
+00007640: 7468 6520 6772 6f75 7020 666f 7220 7768  the group for wh
+00007650: 6963 6820 7468 6520 7465 6d70 6c61 7465  ich the template
+00007660: 2069 7320 746f 2062 6520 6372 6561 7465   is to be create
+00007670: 642e 0a20 2020 2020 2020 2020 2020 2074  d..            t
+00007680: 656d 706c 6174 6520 2855 6e69 6f6e 5b50  emplate (Union[P
+00007690: 6174 682c 2073 7472 2c20 6279 7465 735d  ath, str, bytes]
+000076a0: 293a 2054 656d 706c 6174 6520 4669 6c65  ): Template File
+000076b0: 206f 7220 656e 636f 6465 6420 7465 6d70   or encoded temp
+000076c0: 6c61 7465 2063 6f6e 7465 6e74 2e0a 2020  late content..  
+000076d0: 2020 2020 2020 2020 2020 2020 2020 466f                Fo
+000076e0: 7220 7377 2028 414f 532d 5377 6974 6368  r sw (AOS-Switch
+000076f0: 2920 6465 7669 6365 5f74 7970 652c 2074  ) device_type, t
+00007700: 6865 2074 656d 706c 6174 6520 7465 7874  he template text
+00007710: 2073 686f 756c 6420 696e 636c 7564 6520   should include 
+00007720: 7468 6520 666f 6c6c 6f77 696e 670a 2020  the following.  
+00007730: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00007740: 6d6d 616e 6473 2074 6f20 6d61 696e 7461  mmands to mainta
+00007750: 696e 2063 6f6e 6e65 6374 696f 6e20 7769  in connection wi
+00007760: 7468 2063 656e 7472 616c 2e0a 2020 2020  th central..    
+00007770: 2020 2020 2020 2020 2020 2020 312e 2061              1. a
+00007780: 7275 6261 2d63 656e 7472 616c 2065 6e61  ruba-central ena
+00007790: 626c 652e 0a20 2020 2020 2020 2020 2020  ble..           
+000077a0: 2020 2020 2032 2e20 6172 7562 612d 6365       2. aruba-ce
+000077b0: 6e74 7261 6c20 7572 6c20 6874 7470 733a  ntral url https:
+000077c0: 2f2f 3c55 524c 207c 2049 503e 2f77 732e  //<URL | IP>/ws.
+000077d0: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+000077e0: 6963 655f 7479 7065 2028 7374 7229 3a20  ice_type (str): 
+000077f0: 4465 7669 6365 2074 7970 6520 6f66 2074  Device type of t
+00007800: 6865 2074 656d 706c 6174 652e 2020 5661  he template.  Va
+00007810: 6c69 6420 5661 6c75 6573 3a20 6170 2c20  lid Values: ap, 
+00007820: 7377 2c20 6378 2c20 6777 0a20 2020 2020  sw, cx, gw.     
+00007830: 2020 2020 2020 2020 2020 2044 6566 6175             Defau
+00007840: 6c74 7320 746f 2061 702e 0a20 2020 2020  lts to ap..     
+00007850: 2020 2020 2020 2076 6572 7369 6f6e 2028         version (
+00007860: 7374 7229 3a20 4669 726d 7761 7265 2076  str): Firmware v
+00007870: 6572 7369 6f6e 2070 726f 7065 7274 7920  ersion property 
+00007880: 6f66 2074 656d 706c 6174 652e 0a20 2020  of template..   
+00007890: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
+000078a0: 6d70 6c65 3a20 414c 4c2c 2036 2e35 2e34  mple: ALL, 6.5.4
+000078b0: 2065 7463 2e0a 2020 2020 2020 2020 2020   etc..          
+000078c0: 2020 6d6f 6465 6c20 2873 7472 293a 204d    model (str): M
+000078d0: 6f64 656c 2070 726f 7065 7274 7920 6f66  odel property of
+000078e0: 2074 656d 706c 6174 652e 0a20 2020 2020   template..     
+000078f0: 2020 2020 2020 2020 2020 2046 6f72 2073             For s
+00007900: 7720 2841 4f53 2d53 7769 7463 6829 2064  w (AOS-Switch) d
+00007910: 6576 6963 655f 7479 7065 2c20 7061 7274  evice_type, part
+00007920: 206e 756d 6265 7220 284a 206e 756d 6265   number (J numbe
+00007930: 7229 2063 616e 2062 6520 7573 6564 2066  r) can be used f
+00007940: 6f72 2074 6865 206d 6f64 656c 0a20 2020  or the model.   
+00007950: 2020 2020 2020 2020 2020 2020 2070 6172               par
+00007960: 616d 6574 6572 2e20 4578 616d 706c 653a  ameter. Example:
+00007970: 2032 3932 302c 204a 3937 3237 412c 2065   2920, J9727A, e
+00007980: 7463 2e0a 0a20 2020 2020 2020 2052 6574  tc...        Ret
+00007990: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+000079a0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+000079b0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+000079c0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+000079d0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+000079e0: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
+000079f0: 6e2f 7631 2f67 726f 7570 732f 7b67 726f  n/v1/groups/{gro
+00007a00: 7570 7d2f 7465 6d70 6c61 7465 7322 0a20  up}/templates". 
+00007a10: 2020 2020 2020 2066 6f72 6d64 6174 6120         formdata 
+00007a20: 3d20 6169 6f68 7474 702e 466f 726d 4461  = aiohttp.FormDa
+00007a30: 7461 2829 0a20 2020 2020 2020 2069 6620  ta().        if 
+00007a40: 6973 696e 7374 616e 6365 2874 656d 706c  isinstance(templ
+00007a50: 6174 652c 2062 7974 6573 293a 0a20 2020  ate, bytes):.   
+00007a60: 2020 2020 2020 2020 2023 2066 6f72 6d64           # formd
+00007a70: 6174 612e 6164 645f 6669 656c 6428 2274  ata.add_field("t
+00007a80: 656d 706c 6174 6522 2c20 7b22 7465 6d70  emplate", {"temp
+00007a90: 6c61 7465 223a 2074 656d 706c 6174 657d  late": template}
+00007aa0: 2c20 6669 6c65 6e61 6d65 3d22 7465 6d70  , filename="temp
+00007ab0: 6c61 7465 2e74 7874 2229 0a20 2020 2020  late.txt").     
+00007ac0: 2020 2020 2020 2023 2066 696c 6573 203d         # files =
+00007ad0: 2061 696f 6874 7470 2e46 6f72 6d44 6174   aiohttp.FormDat
+00007ae0: 6128 5b28 2274 656d 706c 6174 6522 2c20  a([("template", 
+00007af0: 2822 7465 6d70 6c61 7465 2e74 7874 222c  ("template.txt",
+00007b00: 2074 656d 706c 6174 6529 2c29 5d29 0a20   template),)]). 
+00007b10: 2020 2020 2020 2020 2020 2066 696c 6573             files
+00007b20: 203d 207b 2774 656d 706c 6174 6527 3a20   = {'template': 
+00007b30: 2827 7465 6d70 6c61 7465 2e74 7874 272c  ('template.txt',
+00007b40: 2074 656d 706c 6174 6529 7d0a 2020 2020   template)}.    
+00007b50: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00007b60: 2020 2020 2020 7465 6d70 6c61 7465 203d        template =
+00007b70: 2074 656d 706c 6174 6520 6966 2069 7369   template if isi
+00007b80: 6e73 7461 6e63 6528 7465 6d70 6c61 7465  nstance(template
+00007b90: 2c20 5061 7468 2920 656c 7365 2050 6174  , Path) else Pat
+00007ba0: 6828 7374 7228 7465 6d70 6c61 7465 2929  h(str(template))
+00007bb0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00007bc0: 6e6f 7420 7465 6d70 6c61 7465 2e65 7869  not template.exi
+00007bd0: 7374 7328 293a 0a20 2020 2020 2020 2020  sts():.         
+00007be0: 2020 2020 2020 2072 6169 7365 2046 696c         raise Fil
+00007bf0: 654e 6f74 466f 756e 6445 7272 6f72 0a0a  eNotFoundError..
+00007c00: 2020 2020 2020 2020 2020 2020 6669 6c65              file
+00007c10: 7320 3d20 7b27 7465 6d70 6c61 7465 273a  s = {'template':
+00007c20: 2028 2774 656d 706c 6174 652e 7478 7427   ('template.txt'
+00007c30: 2c20 7465 6d70 6c61 7465 2e72 6561 645f  , template.read_
+00007c40: 6279 7465 7328 2929 7d0a 2020 2020 2020  bytes())}.      
+00007c50: 2020 2020 2020 2320 6669 6c65 7320 3d20        # files = 
+00007c60: 6169 6f68 7474 702e 466f 726d 4461 7461  aiohttp.FormData
+00007c70: 285b 2822 7465 6d70 6c61 7465 222c 2028  ([("template", (
+00007c80: 2274 656d 706c 6174 652e 7478 7422 2c20  "template.txt", 
+00007c90: 7465 6d70 6c61 7465 2e72 6561 645f 6279  template.read_by
+00007ca0: 7465 7328 2929 2c29 5d29 0a20 2020 2020  tes()),)]).     
+00007cb0: 2020 2020 2020 2023 2066 6f72 6d64 6174         # formdat
+00007cc0: 612e 6164 645f 6669 656c 6428 2274 656d  a.add_field("tem
+00007cd0: 706c 6174 6522 2c20 7465 6d70 6c61 7465  plate", template
+00007ce0: 2e72 6561 645f 6279 7465 7328 292c 2066  .read_bytes(), f
+00007cf0: 696c 656e 616d 653d 2274 656d 706c 6174  ilename="templat
+00007d00: 652e 7478 7422 290a 2020 2020 2020 2020  e.txt").        
+00007d10: 2020 2020 2320 666f 726d 6461 7461 2e61      # formdata.a
+00007d20: 6464 5f66 6965 6c64 2822 7465 6d70 6c61  dd_field("templa
+00007d30: 7465 222c 2074 656d 706c 6174 652e 7265  te", template.re
+00007d40: 6164 5f62 7974 6573 2829 290a 0a20 2020  ad_bytes())..   
+00007d50: 2020 2020 2020 2020 2023 2066 6f72 6d64           # formd
+00007d60: 6174 612e 6164 645f 6669 656c 6428 0a20  ata.add_field(. 
+00007d70: 2020 2020 2020 2020 2020 2023 2020 2020             #    
+00007d80: 2022 7465 6d70 6c61 7465 222c 0a20 2020   "template",.   
+00007d90: 2020 2020 2020 2020 2023 2020 2020 2074           #     t
+00007da0: 656d 706c 6174 652e 7265 6164 5f74 6578  emplate.read_tex
+00007db0: 7428 292c 0a20 2020 2020 2020 2020 2020  t(),.           
+00007dc0: 2023 2020 2020 2066 696c 656e 616d 653d   #     filename=
+00007dd0: 2274 656d 706c 6174 652e 7478 7422 2c0a  "template.txt",.
+00007de0: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+00007df0: 2020 636f 6e74 656e 745f 7479 7065 3d22    content_type="
+00007e00: 6d75 6c74 6970 6172 742f 666f 726d 2d64  multipart/form-d
+00007e10: 6174 6122 0a20 2020 2020 2020 2020 2020  ata".           
+00007e20: 2023 2029 0a0a 2020 2020 2020 2020 2320   # )..        # 
+00007e30: 7772 203d 2066 6f72 6d64 6174 6128 290a  wr = formdata().
+00007e40: 2020 2020 2020 2020 2320 6461 7461 203d          # data =
+00007e50: 2066 272d 2d7b 7772 2e62 6f75 6e64 6172   f'--{wr.boundar
+00007e60: 797d 5c72 5c6e 436f 6e74 656e 742d 4469  y}\r\nContent-Di
+00007e70: 7370 6f73 6974 696f 6e3a 2066 6f72 6d2d  sposition: form-
+00007e80: 6461 7461 3b20 6e61 6d65 3d22 7465 6d70  data; name="temp
+00007e90: 6c61 7465 223b 6669 6c65 6e61 6d65 3d22  late";filename="
+00007ea0: 7465 6d70 6c61 7465 2e74 7874 227b 7772  template.txt"{wr
+00007eb0: 2e5f 7061 7274 735b 305d 5b30 5d2e 5f76  ._parts[0][0]._v
+00007ec0: 616c 7565 2e64 6563 6f64 6528 297d 5c72  alue.decode()}\r
+00007ed0: 5c6e 2d2d 7b77 722e 626f 756e 6461 7279  \n--{wr.boundary
+00007ee0: 7d27 2e65 6e63 6f64 6528 2275 7466 2d38  }'.encode("utf-8
+00007ef0: 2229 0a20 2020 2020 2020 2064 6576 6963  ").        devic
+00007f00: 655f 7479 7065 203d 2064 6576 6963 655f  e_type = device_
+00007f10: 7479 7065 2069 6620 6e6f 7420 6861 7361  type if not hasa
+00007f20: 7474 7228 6465 7669 6365 5f74 7970 652c  ttr(device_type,
+00007f30: 2022 7661 6c75 6522 2920 656c 7365 2064   "value") else d
+00007f40: 6576 6963 655f 7479 7065 2e76 616c 7565  evice_type.value
+00007f50: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
+00007f60: 7479 7065 203d 2063 6f6e 7374 616e 7473  type = constants
+00007f70: 2e6c 6962 5f74 6f5f 6170 6928 2274 656d  .lib_to_api("tem
+00007f80: 706c 6174 6522 2c20 6465 7669 6365 5f74  plate", device_t
+00007f90: 7970 6529 0a0a 2020 2020 2020 2020 7061  ype)..        pa
+00007fa0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00007fb0: 2020 2020 2027 6e61 6d65 273a 206e 616d       'name': nam
+00007fc0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00007fd0: 6465 7669 6365 5f74 7970 6527 3a20 6465  device_type': de
+00007fe0: 7669 6365 5f74 7970 652c 0a20 2020 2020  vice_type,.     
+00007ff0: 2020 2020 2020 2027 7665 7273 696f 6e27         'version'
+00008000: 3a20 7665 7273 696f 6e2c 0a20 2020 2020  : version,.     
+00008010: 2020 2020 2020 2027 6d6f 6465 6c27 3a20         'model': 
+00008020: 6d6f 6465 6c0a 2020 2020 2020 2020 7d0a  model.        }.
+00008030: 2020 2020 2020 2020 2320 5754 4620 4d69          # WTF Mi
+00008040: 7373 696e 6720 666f 726d 6461 7461 2070  ssing formdata p
+00008050: 6172 616d 6574 6572 2027 7465 6d70 6c61  arameter 'templa
+00008060: 7465 270a 2020 2020 2020 2020 2320 7265  te'.        # re
+00008070: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00008080: 706f 7374 2875 726c 2c20 7061 7261 6d73  post(url, params
+00008090: 3d70 6172 616d 732c 2070 6179 6c6f 6164  =params, payload
+000080a0: 3d66 6f72 6d64 6174 612c 2920 2023 0a0a  =formdata,)  #..
+000080b0: 0a20 2020 2020 2020 2023 204e 6f20 6469  .        # No di
+000080c0: 6666 6572 656e 6365 2076 7320 7468 6520  fference vs the 
+000080d0: 6162 6f76 650a 2020 2020 2020 2020 2320  above.        # 
+000080e0: 6865 6164 6572 7320 3d20 7b0a 2020 2020  headers = {.    
+000080f0: 2020 2020 2320 2020 2020 2241 7574 686f      #     "Autho
+00008100: 7269 7a61 7469 6f6e 223a 2066 2242 6561  rization": f"Bea
+00008110: 7265 7220 7b73 656c 662e 6175 7468 2e63  rer {self.auth.c
+00008120: 656e 7472 616c 5f69 6e66 6f5b 2774 6f6b  entral_info['tok
+00008130: 656e 275d 5b27 6163 6365 7373 5f74 6f6b  en']['access_tok
+00008140: 656e 275d 7d22 2c0a 2020 2020 2020 2020  en']}",.        
+00008150: 2320 2020 2020 2741 6363 6570 7427 3a20  #     'Accept': 
+00008160: 2761 7070 6c69 6361 7469 6f6e 2f6a 736f  'application/jso
+00008170: 6e27 2c0a 2020 2020 2020 2020 2320 2020  n',.        #   
+00008180: 2020 2243 6f6e 7465 6e74 2d54 7970 6522    "Content-Type"
+00008190: 3a20 226d 756c 7469 7061 7274 2f66 6f72  : "multipart/for
+000081a0: 6d2d 6461 7461 220a 2020 2020 2020 2020  m-data".        
+000081b0: 2320 7d0a 2020 2020 2020 2020 2320 6173  # }.        # as
+000081c0: 796e 6320 7769 7468 2061 696f 6874 7470  ync with aiohttp
+000081d0: 2e43 6c69 656e 7453 6573 7369 6f6e 2873  .ClientSession(s
+000081e0: 656c 662e 6175 7468 2e63 656e 7472 616c  elf.auth.central
+000081f0: 5f69 6e66 6f5b 2262 6173 655f 7572 6c22  _info["base_url"
+00008200: 5d29 2061 7320 7365 7373 696f 6e3a 0a20  ]) as session:. 
+00008210: 2020 2020 2020 2023 2020 2020 2072 6573         #     res
+00008220: 7020 3d20 6177 6169 7420 7365 7373 696f  p = await sessio
+00008230: 6e2e 706f 7374 2875 726c 2c20 7061 7261  n.post(url, para
+00008240: 6d73 3d70 6172 616d 732c 2064 6174 613d  ms=params, data=
+00008250: 666f 726d 6461 7461 2c20 6865 6164 6572  formdata, header
+00008260: 733d 6865 6164 6572 732c 2073 736c 3d54  s=headers, ssl=T
+00008270: 7275 6529 0a20 2020 2020 2020 2023 2020  rue).        #  
+00008280: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
+00008290: 2320 2020 2020 2020 2020 6f75 7470 7574  #         output
+000082a0: 203d 2061 7761 6974 2072 6573 702e 636f   = await resp.co
+000082b0: 6e74 656e 742e 7265 6164 2829 0a20 2020  ntent.read().   
+000082c0: 2020 2020 2023 2020 2020 2020 2020 206f       #         o
+000082d0: 7574 7075 7420 3d20 6f75 7470 7574 2e64  utput = output.d
+000082e0: 6563 6f64 6528 290a 2020 2020 2020 2020  ecode().        
+000082f0: 2320 2020 2020 2020 2020 6f75 7470 7574  #         output
+00008300: 203d 206a 736f 6e2e 6c6f 6164 7328 6f75   = json.loads(ou
+00008310: 7470 7574 290a 2020 2020 2020 2020 2320  tput).        # 
+00008320: 2020 2020 6578 6365 7074 2045 7863 6570      except Excep
+00008330: 7469 6f6e 2061 7320 653a 0a20 2020 2020  tion as e:.     
+00008340: 2020 2023 2020 2020 2020 2020 206f 7574     #         out
+00008350: 7075 7420 3d20 4e6f 6e65 0a20 2020 2020  put = None.     
+00008360: 2020 2023 2020 2020 2020 2020 2070 7269     #         pri
+00008370: 6e74 2865 290a 2020 2020 2020 2020 2320  nt(e).        # 
+00008380: 7265 7475 726e 2052 6573 706f 6e73 6528  return Response(
+00008390: 7265 7370 2c20 6f75 7470 7574 3d6f 7574  resp, output=out
+000083a0: 7075 7429 0a0a 2020 2020 2020 2020 2320  put)..        # 
+000083b0: 4841 434b 2054 6869 7320 776f 726b 7320  HACK This works 
+000083c0: 6275 7420 7072 6566 6572 2074 6f20 6765  but prefer to ge
+000083d0: 7420 6169 6f68 7474 7020 736f 7274 6564  t aiohttp sorted
+000083e0: 2066 6f72 2063 6f6e 7369 7374 656e 6379   for consistency
+000083f0: 0a20 2020 2020 2020 2069 6d70 6f72 7420  .        import 
+00008400: 7265 7175 6573 7473 0a20 2020 2020 2020  requests.       
+00008410: 2068 6561 6465 7273 203d 207b 0a20 2020   headers = {.   
+00008420: 2020 2020 2020 2020 2022 4175 7468 6f72           "Author
+00008430: 697a 6174 696f 6e22 3a20 6622 4265 6172  ization": f"Bear
+00008440: 6572 207b 7365 6c66 2e61 7574 682e 6365  er {self.auth.ce
+00008450: 6e74 7261 6c5f 696e 666f 5b27 746f 6b65  ntral_info['toke
+00008460: 6e27 5d5b 2761 6363 6573 735f 746f 6b65  n']['access_toke
+00008470: 6e27 5d7d 222c 0a20 2020 2020 2020 2020  n']}",.         
+00008480: 2020 2027 4163 6365 7074 273a 2027 6170     'Accept': 'ap
+00008490: 706c 6963 6174 696f 6e2f 6a73 6f6e 270a  plication/json'.
+000084a0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+000084b0: 2020 7572 6c3d 6622 7b73 656c 662e 6175    url=f"{self.au
+000084c0: 7468 2e63 656e 7472 616c 5f69 6e66 6f5b  th.central_info[
+000084d0: 2762 6173 655f 7572 6c27 5d7d 7b75 726c  'base_url']}{url
+000084e0: 7d22 0a20 2020 2020 2020 2066 6f72 205f  }".        for _
+000084f0: 2069 6e20 7261 6e67 6528 3229 3a0a 2020   in range(2):.  
+00008500: 2020 2020 2020 2020 2020 7265 7370 203d            resp =
+00008510: 2072 6571 7565 7374 732e 7265 7175 6573   requests.reques
+00008520: 7428 2250 4f53 5422 2c20 7572 6c3d 7572  t("POST", url=ur
+00008530: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+00008540: 2c20 6669 6c65 733d 6669 6c65 732c 2068  , files=files, h
+00008550: 6561 6465 7273 3d68 6561 6465 7273 290a  eaders=headers).
+00008560: 2020 2020 2020 2020 2020 2020 6f75 7470              outp
+00008570: 7574 203d 2066 225b 7b72 6573 702e 7265  ut = f"[{resp.re
+00008580: 6173 6f6e 7d5d 2220 2b20 2220 2220 2b20  ason}]" + " " + 
+00008590: 7265 7370 2e74 6578 742e 6c73 7472 6970  resp.text.lstrip
+000085a0: 2827 5b5c 6e20 2227 292e 7273 7472 6970  ('[\n "').rstrip
+000085b0: 2827 225c 6e5d 2729 0a20 2020 2020 2020  ('"\n]').       
+000085c0: 2020 2020 2072 6573 7020 3d20 5265 7370       resp = Resp
+000085d0: 6f6e 7365 286f 7574 7075 743d 6f75 7470  onse(output=outp
+000085e0: 7574 2c20 6f6b 3d72 6573 702e 6f6b 2c20  ut, ok=resp.ok, 
+000085f0: 7572 6c3d 7572 6c2c 2065 6c61 7073 6564  url=url, elapsed
+00008600: 3d72 6f75 6e64 2872 6573 702e 656c 6170  =round(resp.elap
+00008610: 7365 642e 746f 7461 6c5f 7365 636f 6e64  sed.total_second
+00008620: 7328 292c 2032 292c 2073 7461 7475 735f  s(), 2), status_
+00008630: 636f 6465 3d72 6573 702e 7374 6174 7573  code=resp.status
+00008640: 5f63 6f64 652c 2072 6c5f 7374 723d 222d  _code, rl_str="-
+00008650: 2229 0a20 2020 2020 2020 2020 2020 2069  ").            i
+00008660: 6620 2269 6e76 616c 6964 5f74 6f6b 656e  f "invalid_token
+00008670: 2220 696e 2072 6573 702e 6f75 7470 7574  " in resp.output
+00008680: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008690: 2020 7365 6c66 2e72 6566 7265 7368 5f74    self.refresh_t
+000086a0: 6f6b 656e 2829 0a20 2020 2020 2020 2020  oken().         
+000086b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000086c0: 2020 2020 2020 2020 2062 7265 616b 0a20           break. 
+000086d0: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+000086e0: 7370 0a0a 2020 2020 6173 796e 6320 6465  sp..    async de
+000086f0: 6620 7570 6461 7465 5f65 7869 7374 696e  f update_existin
+00008700: 675f 7465 6d70 6c61 7465 280a 2020 2020  g_template(.    
+00008710: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00008720: 2020 6772 6f75 703a 2073 7472 2c0a 2020    group: str,.  
+00008730: 2020 2020 2020 6e61 6d65 3a20 7374 722c        name: str,
+00008740: 0a20 2020 2020 2020 2074 656d 706c 6174  .        templat
+00008750: 653a 2050 6174 6820 3d20 4e6f 6e65 2c0a  e: Path = None,.
+00008760: 2020 2020 2020 2020 7061 796c 6f61 643a          payload:
+00008770: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00008780: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
+00008790: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+000087a0: 2020 2020 2020 7665 7273 696f 6e3a 2073        version: s
+000087b0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+000087c0: 2020 206d 6f64 656c 3a20 7374 7220 3d20     model: str = 
+000087d0: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
+000087e0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+000087f0: 2022 2222 5570 6461 7465 2065 7869 7374   """Update exist
+00008800: 696e 6720 7465 6d70 6c61 7465 2e0a 0a20  ing template... 
+00008810: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00008820: 2020 2020 2020 2020 2067 726f 7570 2028           group (
+00008830: 7374 7229 3a20 4e61 6d65 206f 6620 7468  str): Name of th
+00008840: 6520 6772 6f75 7020 666f 7220 7768 6963  e group for whic
+00008850: 6820 7468 6520 7465 6d70 6c61 7465 2069  h the template i
+00008860: 7320 746f 2062 6520 7570 6461 7465 642e  s to be updated.
+00008870: 0a20 2020 2020 2020 2020 2020 206e 616d  .            nam
+00008880: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
+00008890: 2074 656d 706c 6174 652e 0a20 2020 2020   template..     
+000088a0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
+000088b0: 7065 2028 7374 722c 206f 7074 696f 6e61  pe (str, optiona
+000088c0: 6c29 3a20 4465 7669 6365 2074 7970 6520  l): Device type 
+000088d0: 6f66 2074 6865 2074 656d 706c 6174 652e  of the template.
+000088e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000088f0: 2056 616c 6964 2056 616c 7565 733a 2061   Valid Values: a
+00008900: 702c 2073 7720 2841 7275 6261 4f53 2d53  p, sw (ArubaOS-S
+00008910: 5729 2c20 6378 2028 4172 7562 614f 532d  W), cx (ArubaOS-
+00008920: 4358 292c 2067 7720 2863 6f6e 7472 6f6c  CX), gw (control
+00008930: 6c65 7273 2f67 6174 6577 6179 7329 0a20  lers/gateways). 
+00008940: 2020 2020 2020 2020 2020 2076 6572 7369             versi
+00008950: 6f6e 2028 7374 722c 206f 7074 696f 6e61  on (str, optiona
+00008960: 6c29 3a20 4669 726d 7761 7265 2076 6572  l): Firmware ver
+00008970: 7369 6f6e 2070 726f 7065 7274 7920 6f66  sion property of
+00008980: 2074 656d 706c 6174 652e 0a20 2020 2020   template..     
+00008990: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
+000089a0: 6c65 3a20 414c 4c2c 2036 2e35 2e34 2065  le: ALL, 6.5.4 e
+000089b0: 7463 2e0a 2020 2020 2020 2020 2020 2020  tc..            
+000089c0: 6d6f 6465 6c20 2873 7472 2c20 6f70 7469  model (str, opti
+000089d0: 6f6e 616c 293a 204d 6f64 656c 2070 726f  onal): Model pro
+000089e0: 7065 7274 7920 6f66 2074 656d 706c 6174  perty of templat
+000089f0: 652e 0a20 2020 2020 2020 2020 2020 2020  e..             
+00008a00: 2020 2046 6f72 2027 4172 7562 6153 7769     For 'ArubaSwi
+00008a10: 7463 6827 2064 6576 6963 655f 7479 7065  tch' device_type
+00008a20: 2c20 7061 7274 206e 756d 6265 7220 284a  , part number (J
+00008a30: 206e 756d 6265 7229 2063 616e 2062 6520   number) can be 
+00008a40: 7573 6564 2066 6f72 2074 6865 206d 6f64  used for the mod
+00008a50: 656c 2e0a 2020 2020 2020 2020 2020 2020  el..            
+00008a60: 2020 2020 4578 616d 706c 653a 2032 3932      Example: 292
+00008a70: 302c 204a 3937 3237 4120 6574 632e 0a20  0, J9727A etc.. 
+00008a80: 2020 2020 2020 2020 2020 2074 656d 706c             templ
+00008a90: 6174 6520 2855 6e69 6f6e 5b50 6174 682c  ate (Union[Path,
+00008aa0: 2073 7472 5d2c 206f 7074 696f 6e61 6c29   str], optional)
+00008ab0: 3a20 5465 6d70 6c61 7465 2074 6578 742e  : Template text.
+00008ac0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008ad0: 2046 6f72 2027 4172 7562 6153 7769 7463   For 'ArubaSwitc
+00008ae0: 6827 2064 6576 6963 655f 7479 7065 2c20  h' device_type, 
+00008af0: 7468 6520 7465 6d70 6c61 7465 2074 6578  the template tex
+00008b00: 7420 7368 6f75 6c64 2069 6e63 6c75 6465  t should include
+00008b10: 2074 6865 2066 6f6c 6c6f 7769 6e67 0a20   the following. 
+00008b20: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00008b30: 6f6d 6d61 6e64 7320 746f 206d 6169 6e74  ommands to maint
+00008b40: 6169 6e20 636f 6e6e 6563 7469 6f6e 2077  ain connection w
+00008b50: 6974 6820 6365 6e74 7261 6c2e 0a20 2020  ith central..   
+00008b60: 2020 2020 2020 2020 2020 2020 2031 2e20               1. 
+00008b70: 6172 7562 612d 6365 6e74 7261 6c20 656e  aruba-central en
+00008b80: 6162 6c65 2e0a 2020 2020 2020 2020 2020  able..          
+00008b90: 2020 2020 2020 322e 2061 7275 6261 2d63        2. aruba-c
+00008ba0: 656e 7472 616c 2075 726c 2068 7474 7073  entral url https
+00008bb0: 3a2f 2f3c 5552 4c20 7c20 4950 3e2f 7773  ://<URL | IP>/ws
+00008bc0: 2e0a 2020 2020 2020 2020 2020 2020 7061  ..            pa
+00008bd0: 796c 6f61 6420 2873 7472 2c20 6f70 7469  yload (str, opti
+00008be0: 6f6e 616c 293a 206a 736f 6e20 7265 7072  onal): json repr
+00008bf0: 6573 656e 7461 7469 6f6e 206f 6620 7468  esentation of th
+00008c00: 6520 7265 7175 6972 6564 2070 6172 616d  e required param
+00008c10: 732e 0a0a 2020 2020 2020 2020 5265 7475  s...        Retu
+00008c20: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00008c30: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00008c40: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00008c50: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00008c60: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00008c70: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
+00008c80: 2f76 312f 6772 6f75 7073 2f7b 6772 6f75  /v1/groups/{grou
+00008c90: 707d 2f74 656d 706c 6174 6573 220a 2020  p}/templates".  
+00008ca0: 2020 2020 2020 7465 6d70 6c61 7465 203d        template =
+00008cb0: 2074 656d 706c 6174 6520 6966 2069 7369   template if isi
+00008cc0: 6e73 7461 6e63 6528 7465 6d70 6c61 7465  nstance(template
+00008cd0: 2c20 5061 7468 2920 656c 7365 2050 6174  , Path) else Pat
+00008ce0: 6828 7374 7228 7465 6d70 6c61 7465 2929  h(str(template))
+00008cf0: 0a0a 2020 2020 2020 2020 6966 2064 6576  ..        if dev
+00008d00: 6963 655f 7479 7065 3a0a 2020 2020 2020  ice_type:.      
+00008d10: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
+00008d20: 6520 3d20 636f 6e73 7461 6e74 732e 6c69  e = constants.li
+00008d30: 625f 746f 5f61 7069 2822 7465 6d70 6c61  b_to_api("templa
+00008d40: 7465 222c 2064 6576 6963 655f 7479 7065  te", device_type
+00008d50: 290a 0a20 2020 2020 2020 2070 6172 616d  )..        param
+00008d60: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+00008d70: 2020 276e 616d 6527 3a20 6e61 6d65 2c0a    'name': name,.
+00008d80: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
+00008d90: 6963 655f 7479 7065 273a 2064 6576 6963  ice_type': devic
+00008da0: 655f 7479 7065 2c0a 2020 2020 2020 2020  e_type,.        
+00008db0: 2020 2020 2776 6572 7369 6f6e 273a 2076      'version': v
+00008dc0: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
+00008dd0: 2020 2020 276d 6f64 656c 273a 206d 6f64      'model': mod
+00008de0: 656c 0a20 2020 2020 2020 207d 0a0a 2020  el.        }..  
+00008df0: 2020 2020 2020 6966 2074 656d 706c 6174        if templat
+00008e00: 6520 616e 6420 7465 6d70 6c61 7465 2e69  e and template.i
+00008e10: 735f 6669 6c65 2829 2061 6e64 2074 656d  s_file() and tem
+00008e20: 706c 6174 652e 7374 6174 2829 2e73 745f  plate.stat().st_
+00008e30: 7369 7a65 203e 2030 3a0a 2020 2020 2020  size > 0:.      
+00008e40: 2020 2020 2020 7465 6d70 6c61 7465 5f64        template_d
+00008e50: 6174 613a 2062 7974 6573 203d 2074 656d  ata: bytes = tem
+00008e60: 706c 6174 652e 7265 6164 5f62 7974 6573  plate.read_bytes
+00008e70: 2829 0a20 2020 2020 2020 2065 6c69 6620  ().        elif 
+00008e80: 7061 796c 6f61 643a 0a20 2020 2020 2020  payload:.       
+00008e90: 2020 2020 2074 656d 706c 6174 655f 6461       template_da
+00008ea0: 7461 3a20 6279 7465 7320 3d20 7061 796c  ta: bytes = payl
+00008eb0: 6f61 640a 2020 2020 2020 2020 656c 7365  oad.        else
+00008ec0: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
+00008ed0: 6d70 6c61 7465 5f64 6174 6120 3d20 4e6f  mplate_data = No
+00008ee0: 6e65 0a0a 2020 2020 2020 2020 7265 7475  ne..        retu
+00008ef0: 726e 2061 7761 6974 2073 656c 662e 7061  rn await self.pa
+00008f00: 7463 6828 7572 6c2c 2070 6172 616d 733d  tch(url, params=
+00008f10: 7061 7261 6d73 2c20 7061 796c 6f61 643d  params, payload=
+00008f20: 7465 6d70 6c61 7465 5f64 6174 6129 0a0a  template_data)..
+00008f30: 2020 2020 2320 5465 7374 6564 2061 6e64      # Tested and
+00008f40: 2077 6f72 6b73 2062 7574 206e 6f74 2075   works but not u
+00008f50: 7365 642e 2020 5468 6973 2063 616c 6c73  sed.  This calls
+00008f60: 2070 7963 656e 7472 616c 206d 6574 686f   pycentral metho
+00008f70: 6420 6469 7265 6374 6c79 2c20 6275 7420  d directly, but 
+00008f80: 6974 2068 6173 2061 6e20 6572 726f 7220  it has an error 
+00008f90: 696e 2062 6173 652e 7079 2063 6f6d 6d61  in base.py comma
+00008fa0: 6e64 2072 6520 7572 6c20 636f 6e63 6174  nd re url concat
+00008fb0: 0a20 2020 2023 2061 6e64 2069 7420 646f  .    # and it do
+00008fc0: 6573 6e27 7420 6361 7463 6820 616c 6c20  esn't catch all 
+00008fd0: 6578 6365 7074 696f 6e73 2073 6f20 706f  exceptions so po
+00008fe0: 7373 6962 6c65 2074 6f20 6765 7420 6578  ssible to get ex
+00008ff0: 6365 7074 696f 6e20 7768 656e 2065 7661  ception when eva
+00009000: 6c20 7265 7370 2e2e 2e20 6f75 7220 5265  l resp... our Re
+00009010: 7370 6f6e 7365 206f 626a 6563 7420 6973  sponse object is
+00009020: 2062 6574 7465 7220 494d 484f 0a20 2020   better IMHO.   
+00009030: 2061 7379 6e63 2064 6566 205f 7570 6461   async def _upda
+00009040: 7465 5f65 7869 7374 696e 675f 7465 6d70  te_existing_temp
+00009050: 6c61 7465 280a 2020 2020 2020 2020 7365  late(.        se
+00009060: 6c66 2c0a 2020 2020 2020 2020 6772 6f75  lf,.        grou
+00009070: 703a 2073 7472 2c0a 2020 2020 2020 2020  p: str,.        
+00009080: 6e61 6d65 3a20 7374 722c 0a20 2020 2020  name: str,.     
+00009090: 2020 2074 656d 706c 6174 653a 2050 6174     template: Pat
+000090a0: 6820 3d20 4e6f 6e65 2c0a 2020 2020 2020  h = None,.      
+000090b0: 2020 7061 796c 6f61 643a 2073 7472 203d    payload: str =
+000090c0: 204e 6f6e 652c 0a20 2020 2020 2020 2064   None,.        d
+000090d0: 6576 6963 655f 7479 7065 3a20 7374 7220  evice_type: str 
+000090e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000090f0: 7665 7273 696f 6e3a 2073 7472 203d 204e  version: str = N
+00009100: 6f6e 652c 0a20 2020 2020 2020 206d 6f64  one,.        mod
+00009110: 656c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  el: str = None,.
+00009120: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00009130: 653a 0a20 2020 2020 2020 2066 726f 6d20  e:.        from 
+00009140: 7079 6365 6e74 7261 6c2e 636f 6e66 6967  pycentral.config
+00009150: 7572 6174 696f 6e20 696d 706f 7274 2054  uration import T
+00009160: 656d 706c 6174 6573 0a0a 2020 2020 2020  emplates..      
+00009170: 2020 7465 6d70 6c61 7465 7320 3d20 5465    templates = Te
+00009180: 6d70 6c61 7465 7328 290a 2020 2020 2020  mplates().      
+00009190: 2020 6b77 6172 6773 203d 207b 0a20 2020    kwargs = {.   
+000091a0: 2020 2020 2020 2020 2022 6772 6f75 705f           "group_
+000091b0: 6e61 6d65 223a 2067 726f 7570 2c0a 2020  name": group,.  
+000091c0: 2020 2020 2020 2020 2020 2274 656d 706c            "templ
+000091d0: 6174 655f 6e61 6d65 223a 206e 616d 652c  ate_name": name,
+000091e0: 0a20 2020 2020 2020 2020 2020 2022 6465  .            "de
+000091f0: 7669 6365 5f74 7970 6522 3a20 6465 7669  vice_type": devi
+00009200: 6365 5f74 7970 652c 0a20 2020 2020 2020  ce_type,.       
+00009210: 2020 2020 2022 7665 7273 696f 6e22 3a20       "version": 
+00009220: 7665 7273 696f 6e2c 0a20 2020 2020 2020  version,.       
+00009230: 2020 2020 2022 6d6f 6465 6c22 3a20 6d6f       "model": mo
+00009240: 6465 6c2c 0a20 2020 2020 2020 2020 2020  del,.           
+00009250: 2022 7465 6d70 6c61 7465 5f66 696c 656e   "template_filen
+00009260: 616d 6522 3a20 7374 7228 7465 6d70 6c61  ame": str(templa
+00009270: 7465 292c 0a20 2020 2020 2020 207d 0a0a  te),.        }..
+00009280: 2020 2020 2020 2020 7265 7475 726e 2074          return t
+00009290: 656d 706c 6174 6573 2e75 7064 6174 655f  emplates.update_
+000092a0: 7465 6d70 6c61 7465 2873 656c 662e 6175  template(self.au
+000092b0: 7468 2c20 2a2a 6b77 6172 6773 290a 0a20  th, **kwargs).. 
+000092c0: 2020 2061 7379 6e63 2064 6566 205f 6765     async def _ge
+000092d0: 745f 6772 6f75 705f 6e61 6d65 7328 7365  t_group_names(se
+000092e0: 6c66 2920 2d3e 2052 6573 706f 6e73 653a  lf) -> Response:
+000092f0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00009300: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
+00009310: 322f 6772 6f75 7073 220a 2020 2020 2020  2/groups".      
+00009320: 2020 7061 7261 6d73 203d 207b 226f 6666    params = {"off
+00009330: 7365 7422 3a20 302c 2022 6c69 6d69 7422  set": 0, "limit"
+00009340: 3a20 3130 307d 2020 2320 3130 3020 6973  : 100}  # 100 is
+00009350: 2074 6865 206d 6178 0a20 2020 2020 2020   the max.       
+00009360: 2072 6573 7020 3d20 6177 6169 7420 7365   resp = await se
+00009370: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+00009380: 6d73 3d70 6172 616d 732c 290a 2020 2020  ms=params,).    
+00009390: 2020 2020 7265 7370 2e6f 7574 7075 7420      resp.output 
+000093a0: 3d20 636c 6561 6e65 722e 5f67 6574 5f67  = cleaner._get_g
+000093b0: 726f 7570 5f6e 616d 6573 2872 6573 702e  roup_names(resp.
+000093c0: 6f75 7470 7574 290a 2020 2020 2020 2020  output).        
+000093d0: 7265 7475 726e 2072 6573 700a 0a20 2020  return resp..   
+000093e0: 2061 7379 6e63 2064 6566 2064 656c 6574   async def delet
+000093f0: 655f 7465 6d70 6c61 7465 280a 2020 2020  e_template(.    
+00009400: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00009410: 2020 6772 6f75 703a 2073 7472 2c0a 2020    group: str,.  
+00009420: 2020 2020 2020 7465 6d70 6c61 7465 3a20        template: 
+00009430: 7374 722c 0a20 2020 2029 202d 3e20 5265  str,.    ) -> Re
+00009440: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00009450: 2222 2244 656c 6574 6520 6578 6973 7469  """Delete existi
+00009460: 6e67 2074 656d 706c 6174 652e 0a0a 2020  ng template...  
+00009470: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
+00009480: 2064 656c 6574 6520 7465 6d70 6c61 7465   delete template
+00009490: 202e 2e2e 202f 2f0a 0a20 2020 2020 2020   ... //..       
+000094a0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+000094b0: 2020 2067 726f 7570 2028 7374 7229 3a20     group (str): 
+000094c0: 4e61 6d65 206f 6620 7468 6520 6772 6f75  Name of the grou
+000094d0: 7020 666f 7220 7768 6963 6820 7468 6520  p for which the 
+000094e0: 7465 6d70 6c61 7465 2069 7320 746f 2062  template is to b
+000094f0: 6520 6465 6c65 7465 642e 0a20 2020 2020  e deleted..     
+00009500: 2020 2020 2020 2074 656d 706c 6174 6520         template 
+00009510: 2873 7472 293a 204e 616d 6520 6f66 2074  (str): Name of t
+00009520: 6865 2074 656d 706c 6174 6520 746f 2062  he template to b
+00009530: 6520 6465 6c65 7465 642e 0a0a 2020 2020  e deleted...    
+00009540: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00009550: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00009560: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00009570: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00009580: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00009590: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
+000095a0: 6775 7261 7469 6f6e 2f76 312f 6772 6f75  guration/v1/grou
+000095b0: 7073 2f7b 6772 6f75 707d 2f74 656d 706c  ps/{group}/templ
+000095c0: 6174 6573 2f7b 7465 6d70 6c61 7465 7d22  ates/{template}"
+000095d0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+000095e0: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
+000095f0: 7465 2875 726c 290a 0a20 2020 2023 2054  te(url)..    # T
+00009600: 4f44 4f20 6465 7072 6563 6174 6520 7468  ODO deprecate th
+00009610: 6973 2075 7365 6420 6279 2067 726f 7570  is used by group
+00009620: 2063 6163 6865 2075 7064 6174 652e 2020   cache update.  
+00009630: 5f67 6574 5f67 726f 7570 5f6e 616d 6573  _get_group_names
+00009640: 2074 6865 6e20 6765 745f 6772 6f75 7073   then get_groups
+00009650: 5f70 726f 7065 7274 6965 732e 2020 4d6f  _properties.  Mo
+00009660: 7265 2069 6e66 6f20 696e 2073 696e 676c  re info in singl
+00009670: 6520 6361 6c6c 0a20 2020 2061 7379 6e63  e call.    async
+00009680: 2064 6566 2067 6574 5f61 6c6c 5f67 726f   def get_all_gro
+00009690: 7570 7328 7365 6c66 2920 2d3e 2052 6573  ups(self) -> Res
+000096a0: 706f 6e73 653a 0a20 2020 2020 2020 2072  ponse:.        r
+000096b0: 6573 7020 3d20 6177 6169 7420 7365 6c66  esp = await self
+000096c0: 2e5f 6765 745f 6772 6f75 705f 6e61 6d65  ._get_group_name
+000096d0: 7328 290a 2020 2020 2020 2020 6966 206e  s().        if n
+000096e0: 6f74 2072 6573 702e 6f6b 3a0a 2020 2020  ot resp.ok:.    
+000096f0: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+00009700: 6573 700a 2020 2020 2020 2020 656c 7365  esp.        else
+00009710: 3a0a 2020 2020 2020 2020 2020 2020 7572  :.            ur
+00009720: 6c20 3d20 222f 636f 6e66 6967 7572 6174  l = "/configurat
+00009730: 696f 6e2f 7632 2f67 726f 7570 732f 7465  ion/v2/groups/te
+00009740: 6d70 6c61 7465 5f69 6e66 6f22 0a20 2020  mplate_info".   
+00009750: 2020 2020 2020 2020 2023 2072 6574 7572           # retur
+00009760: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+00009770: 5f67 726f 7570 735f 7072 6f70 6572 7469  _groups_properti
+00009780: 6573 2872 6573 702e 6f75 7470 7574 290a  es(resp.output).
+00009790: 2020 2020 2020 2020 2020 2020 6261 7463              batc
+000097a0: 685f 7265 7173 203d 205b 5d0a 2020 2020  h_reqs = [].    
+000097b0: 2020 2020 2020 2020 666f 7220 6772 6f75          for grou
+000097c0: 7073 2069 6e20 7574 696c 732e 6368 756e  ps in utils.chun
+000097d0: 6b65 7228 7265 7370 2e6f 7574 7075 742c  ker(resp.output,
+000097e0: 2032 3029 3a20 2023 2054 6869 7320 6361   20):  # This ca
+000097f0: 6c6c 2061 6c6c 6f77 7320 6120 6d61 7820  ll allows a max 
+00009800: 6f66 2032 300a 2020 2020 2020 2020 2020  of 20.          
+00009810: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00009820: 2267 726f 7570 7322 3a20 222c 222e 6a6f  "groups": ",".jo
+00009830: 696e 2867 726f 7570 7329 7d0a 2020 2020  in(groups)}.    
+00009840: 2020 2020 2020 2020 2020 2020 6261 7463              batc
+00009850: 685f 7265 7173 202b 3d20 5b73 656c 662e  h_reqs += [self.
+00009860: 4261 7463 6852 6571 7565 7374 2873 656c  BatchRequest(sel
+00009870: 662e 6765 742c 2075 726c 2c20 7061 7261  f.get, url, para
+00009880: 6d73 3d70 6172 616d 7329 5d0a 2020 2020  ms=params)].    
+00009890: 2020 2020 2020 2020 2020 2020 2320 616c              # al
+000098a0: 6c5f 6772 6f75 7073 203d 2061 7761 6974  l_groups = await
+000098b0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+000098c0: 6172 616d 733d 7061 7261 6d73 290a 2020  arams=params).  
+000098d0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+000098e0: 544f 444f 2064 756e 6465 7220 6164 6420  TODO dunder add 
+000098f0: 696e 2052 6573 706f 6e73 650a 2020 2020  in Response.    
+00009900: 2020 2020 2020 2020 6261 7463 685f 7265          batch_re
+00009910: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
+00009920: 5f62 6174 6368 5f72 6571 7565 7374 2862  _batch_request(b
+00009930: 6174 6368 5f72 6571 7329 0a20 2020 2020  atch_reqs).     
+00009940: 2020 2020 2020 2023 2054 4f44 4f20 6d65         # TODO me
+00009950: 7468 6f64 2074 6f20 636f 6d62 696e 6520  thod to combine 
+00009960: 7261 7720 616e 6420 6f75 7470 7574 2061  raw and output a
+00009970: 7474 7273 206f 6620 616c 6c20 7265 7370  ttrs of all resp
+00009980: 6f6e 7365 7320 696e 746f 206c 6173 7420  onses into last 
+00009990: 7265 7370 0a20 2020 2020 2020 2020 2020  resp.           
+000099a0: 206f 7574 7075 7420 3d20 5b72 2066 6f72   output = [r for
+000099b0: 2072 6573 2069 6e20 6261 7463 685f 7265   res in batch_re
+000099c0: 7370 2066 6f72 2072 2069 6e20 7265 732e  sp for r in res.
+000099d0: 6f75 7470 7574 5d0a 2020 2020 2020 2020  output].        
+000099e0: 2020 2020 7265 7370 203d 2062 6174 6368      resp = batch
+000099f0: 5f72 6573 705b 2d31 5d0a 2020 2020 2020  _resp[-1].      
+00009a00: 2020 2020 2020 7265 7370 2e6f 7574 7075        resp.outpu
+00009a10: 7420 3d20 6f75 7470 7574 0a20 2020 2020  t = output.     
+00009a20: 2020 2020 2020 2069 6620 2264 6174 6122         if "data"
+00009a30: 2069 6e20 7265 7370 2e72 6177 3a0a 2020   in resp.raw:.  
+00009a40: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00009a50: 7370 2e72 6177 5b22 6461 7461 225d 203d  sp.raw["data"] =
+00009a60: 206f 7574 7075 740a 2020 2020 2020 2020   output.        
+00009a70: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00009a80: 2020 2020 2020 2020 2020 6c6f 672e 7761            log.wa
+00009a90: 726e 696e 6728 2272 6177 2061 7474 7220  rning("raw attr 
+00009aa0: 696e 2072 6573 7020 6672 6f6d 2067 6574  in resp from get
+00009ab0: 5f61 6c6c 5f67 726f 7570 7320 6c61 636b  _all_groups lack
+00009ac0: 7320 6578 7065 6374 6564 206f 7574 6572  s expected outer
+00009ad0: 206b 6579 2027 6461 7461 2722 290a 0a20   key 'data'").. 
+00009ae0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+00009af0: 6e20 7265 7370 0a0a 0a20 2020 2061 7379  n resp...    asy
+00009b00: 6e63 2064 6566 2067 6574 5f61 6c6c 5f74  nc def get_all_t
+00009b10: 656d 706c 6174 6573 2873 656c 662c 2067  emplates(self, g
+00009b20: 726f 7570 733a 204c 6973 745b 6469 6374  roups: List[dict
+00009b30: 5d20 3d20 4e6f 6e65 2c20 2a2a 7061 7261  ] = None, **para
+00009b40: 6d73 2920 2d3e 2052 6573 706f 6e73 653a  ms) -> Response:
+00009b50: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+00009b60: 6461 7461 2066 6f72 2061 6c6c 2064 6566  data for all def
+00009b70: 696e 6564 2074 656d 706c 6174 6573 2066  ined templates f
+00009b80: 726f 6d20 4172 7562 6120 4365 6e74 7261  rom Aruba Centra
+00009b90: 6c0a 0a20 2020 2020 2020 2041 7267 733a  l..        Args:
+00009ba0: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
+00009bb0: 7570 7320 284c 6973 745b 6469 6374 5d2c  ups (List[dict],
+00009bc0: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
+00009bd0: 206f 6620 6772 6f75 7020 6469 6374 696f   of group dictio
+00009be0: 6e61 7269 6573 2028 4966 2070 726f 7669  naries (If provi
+00009bf0: 6465 6420 6164 6469 7469 6f6e 616c 2041  ded additional A
+00009c00: 5049 0a20 2020 2020 2020 2020 2020 2020  PI.             
+00009c10: 2020 2063 616c 6c73 2074 6f20 6765 7420     calls to get 
+00009c20: 6772 6f75 7020 6e61 6d65 7320 666f 7220  group names for 
+00009c30: 616c 6c20 7465 6d70 6c61 7465 2067 726f  all template gro
+00009c40: 7570 7320 6172 6520 6e6f 7420 7065 7266  ups are not perf
+00009c50: 6f72 6d65 6429 2e0a 2020 2020 2020 2020  ormed)..        
+00009c60: 2020 2020 2020 2020 4465 6661 756c 7473          Defaults
+00009c70: 2074 6f20 4e6f 6e65 2e0a 0a20 2020 2020   to None...     
+00009c80: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00009c90: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00009ca0: 3a20 6365 6e74 7261 6c63 6c69 2052 6573  : centralcli Res
+00009cb0: 706f 6e73 6520 4f62 6a65 6374 0a20 2020  ponse Object.   
+00009cc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00009cd0: 2069 6620 6e6f 7420 6772 6f75 7073 3a0a   if not groups:.
+00009ce0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+00009cf0: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
+00009d00: 745f 616c 6c5f 6772 6f75 7073 2829 0a20  t_all_groups(). 
+00009d10: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
+00009d20: 7420 7265 7370 3a0a 2020 2020 2020 2020  t resp:.        
+00009d30: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+00009d40: 6573 700a 2020 2020 2020 2020 2020 2020  esp.            
+00009d50: 6772 6f75 7073 203d 2063 6c65 616e 6572  groups = cleaner
+00009d60: 2e67 6574 5f61 6c6c 5f67 726f 7570 7328  .get_all_groups(
+00009d70: 7265 7370 2e6f 7574 7075 7429 0a0a 2020  resp.output)..  
+00009d80: 2020 2020 2020 7465 6d70 6c61 7465 5f67        template_g
+00009d90: 726f 7570 7320 3d20 5b67 5b22 6e61 6d65  roups = [g["name
+00009da0: 225d 2066 6f72 2067 2069 6e20 6772 6f75  "] for g in grou
+00009db0: 7073 2069 6620 5472 7565 2069 6e20 675b  ps if True in g[
+00009dc0: 2274 656d 706c 6174 6520 6772 6f75 7022  "template group"
+00009dd0: 5d2e 7661 6c75 6573 2829 5d0a 0a20 2020  ].values()]..   
+00009de0: 2020 2020 2069 6620 6e6f 7420 7465 6d70       if not temp
+00009df0: 6c61 7465 5f67 726f 7570 733a 0a20 2020  late_groups:.   
+00009e00: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00009e10: 5265 7370 6f6e 7365 280a 2020 2020 2020  Response(.      
+00009e20: 2020 2020 2020 2020 2020 7572 6c3d 224e            url="N
+00009e30: 6f20 6361 6c6c 2070 6572 666f 726d 6564  o call performed
+00009e40: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00009e50: 2020 206f 6b3d 5472 7565 2c0a 2020 2020     ok=True,.    
+00009e60: 2020 2020 2020 2020 2020 2020 6f75 7470              outp
+00009e70: 7574 3d5b 5d2c 0a20 2020 2020 2020 2020  ut=[],.         
+00009e80: 2020 2020 2020 2072 6177 3d5b 5d2c 0a20         raw=[],. 
+00009e90: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00009ea0: 7272 6f72 3d22 4e6f 6e65 206f 6620 7468  rror="None of th
+00009eb0: 6520 636f 6e66 6967 7572 6564 2067 726f  e configured gro
+00009ec0: 7570 7320 6172 6520 5465 6d70 6c61 7465  ups are Template
+00009ed0: 2047 726f 7570 732e 222c 0a20 2020 2020   Groups.",.     
+00009ee0: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00009ef0: 2020 7265 7173 203d 205b 7365 6c66 2e42    reqs = [self.B
+00009f00: 6174 6368 5265 7175 6573 7428 7365 6c66  atchRequest(self
+00009f10: 2e67 6574 5f61 6c6c 5f74 656d 706c 6174  .get_all_templat
+00009f20: 6573 5f69 6e5f 6772 6f75 702c 2067 726f  es_in_group, gro
+00009f30: 7570 2c20 2a2a 7061 7261 6d73 2920 666f  up, **params) fo
+00009f40: 7220 6772 6f75 7020 696e 2074 656d 706c  r group in templ
+00009f50: 6174 655f 6772 6f75 7073 5d0a 2020 2020  ate_groups].    
+00009f60: 2020 2020 2320 544f 444f 206d 6179 6265      # TODO maybe
+00009f70: 2063 616c 6c20 7468 6520 6167 6772 6567   call the aggreg
+00009f80: 6174 6f72 2066 726f 6d20 5f62 6174 685f  ator from _bath_
+00009f90: 7265 7175 6573 740a 2020 2020 2020 2020  request.        
+00009fa0: 7265 7370 6f6e 7365 7320 3d20 6177 6169  responses = awai
+00009fb0: 7420 7365 6c66 2e5f 6261 7463 685f 7265  t self._batch_re
+00009fc0: 7175 6573 7428 7265 7173 290a 2020 2020  quest(reqs).    
+00009fd0: 2020 2020 6661 696c 6564 203d 205b 7220      failed = [r 
+00009fe0: 666f 7220 7220 696e 2072 6573 706f 6e73  for r in respons
+00009ff0: 6573 2069 6620 6e6f 7420 725d 0a20 2020  es if not r].   
+0000a000: 2020 2020 2069 6620 6661 696c 6564 3a0a       if failed:.
+0000a010: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+0000a020: 726e 2066 6169 6c65 645b 2d31 5d0a 0a20  rn failed[-1].. 
+0000a030: 2020 2020 2020 2023 2063 6f6d 6269 6e65         # combine
+0000a040: 2072 6573 756c 7420 666f 7220 616c 6c20   result for all 
+0000a050: 6361 6c6c 7320 696e 746f 2031 0a20 2020  calls into 1.   
+0000a060: 2020 2020 2023 2054 4f44 4f20 6167 6772       # TODO aggr
+0000a070: 6567 6174 6f72 2052 6573 706f 6e73 6520  egator Response 
+0000a080: 6f62 6a65 6374 2066 6f72 206d 756c 7469  object for multi
+0000a090: 2072 6573 706f 6e73 650a 2020 2020 2020   response.      
+0000a0a0: 2020 2320 6d61 7962 6520 6164 6420 7072    # maybe add pr
+0000a0b0: 6f70 6572 7479 2074 6f20 5265 7370 6f6e  operty to Respon
+0000a0c0: 7365 2074 6861 7420 7265 7475 726e 7320  se that returns 
+0000a0d0: 6469 6374 2062 6569 6e67 2064 6f6e 6520  dict being done 
+0000a0e0: 7769 7468 2064 6963 7420 636f 6d70 2062  with dict comp b
+0000a0f0: 656c 6f77 0a20 2020 2020 2020 2061 6c6c  elow.        all
+0000a100: 5f6f 7574 7075 7420 3d20 5b72 7220 666f  _output = [rr fo
+0000a110: 7220 7220 696e 2072 6573 706f 6e73 6573  r r in responses
+0000a120: 2066 6f72 2072 7220 696e 2072 2e6f 7574   for rr in r.out
+0000a130: 7075 745d 0a20 2020 2020 2020 2061 6c6c  put].        all
+0000a140: 5f72 6177 203d 207b 0a20 2020 2020 2020  _raw = {.       
+0000a150: 2020 2020 2066 225b 7b72 2e65 7272 6f72       f"[{r.error
+0000a160: 7d5d 207b 722e 6d65 7468 6f64 7d20 7b72  }] {r.method} {r
+0000a170: 2e75 726c 2e70 6174 6820 6966 206e 6f74  .url.path if not
+0000a180: 2069 6e74 2872 2e75 726c 2e71 7565 7279   int(r.url.query
+0000a190: 2e67 6574 2827 6f66 6673 6574 272c 2030  .get('offset', 0
+0000a1a0: 2929 2065 6c73 6520 722e 7572 6c2e 7061  )) else r.url.pa
+0000a1b0: 7468 5f71 737d 223a 2072 2e72 6177 0a20  th_qs}": r.raw. 
+0000a1c0: 2020 2020 2020 2020 2020 2066 6f72 2072             for r
+0000a1d0: 2069 6e20 7265 7370 6f6e 7365 730a 2020   in responses.  
+0000a1e0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0000a1f0: 7265 7370 6f6e 7365 735b 2d31 5d2e 6f75  responses[-1].ou
+0000a200: 7470 7574 203d 2061 6c6c 5f6f 7574 7075  tput = all_outpu
+0000a210: 740a 2020 2020 2020 2020 7265 7370 6f6e  t.        respon
+0000a220: 7365 735b 2d31 5d2e 7261 7720 3d20 616c  ses[-1].raw = al
+0000a230: 6c5f 7261 770a 0a20 2020 2020 2020 2072  l_raw..        r
+0000a240: 6574 7572 6e20 7265 7370 6f6e 7365 735b  eturn responses[
+0000a250: 2d31 5d0a 0a20 2020 2061 7379 6e63 2064  -1]..    async d
+0000a260: 6566 2067 6574 5f73 6b75 5f74 7970 6573  ef get_sku_types
+0000a270: 2873 656c 6629 3a20 2023 2046 4149 4c45  (self):  # FAILE
+0000a280: 4420 2d20 2243 6f75 6c64 206e 6f74 2076  D - "Could not v
+0000a290: 6572 6966 7920 6163 6365 7373 206c 6576  erify access lev
+0000a2a0: 656c 2066 6f72 2074 6865 2055 524c 2e22  el for the URL."
+0000a2b0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+0000a2c0: 2f70 6c61 7466 6f72 6d2f 6f72 6465 7273  /platform/orders
+0000a2d0: 2f76 312f 736b 7573 220a 2020 2020 2020  /v1/skus".      
+0000a2e0: 2020 7061 7261 6d73 203d 207b 2273 6b75    params = {"sku
+0000a2f0: 5f74 7970 6522 3a20 2261 6c6c 227d 0a20  _type": "all"}. 
+0000a300: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000a310: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0000a320: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+0000a330: 0a0a 2020 2020 2320 544f 444f 2074 6f74  ..    # TODO tot
+0000a340: 616c 2069 7320 7265 7475 726e 6564 2077  al is returned w
+0000a350: 6974 6820 6669 7273 7420 7265 7175 6573  ith first reques
+0000a360: 7420 6361 6e20 6261 7463 6820 7265 6d61  t can batch rema
+0000a370: 696e 696e 6720 7265 7175 6573 7473 2077  ining requests w
+0000a380: 6974 6820 6c69 6d69 742f 6f66 6673 6574  ith limit/offset
+0000a390: 2061 646a 7573 7465 640a 2020 2020 2320   adjusted.    # 
+0000a3a0: 4150 492d 464c 4157 206c 696d 6974 2064  API-FLAW limit d
+0000a3b0: 6f65 736e 2774 2061 7070 6561 7220 746f  oesn't appear to
+0000a3c0: 2068 6176 6520 616e 2075 7070 6572 206c   have an upper l
+0000a3d0: 696d 6974 2c20 6275 7420 746f 6f6b 2066  imit, but took f
+0000a3e0: 6f72 6576 6572 2074 6f20 7265 7475 726e  orever to return
+0000a3f0: 2035 2c30 3030 2072 6563 6f72 6473 0a20   5,000 records. 
+0000a400: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+0000a410: 5f64 6576 6963 655f 696e 7665 6e74 6f72  _device_inventor
+0000a420: 7928 0a20 2020 2020 2020 2073 656c 662c  y(.        self,
+0000a430: 0a20 2020 2020 2020 2073 6b75 5f74 7970  .        sku_typ
+0000a440: 653a 2073 7472 203d 2022 616c 6c22 2c0a  e: str = "all",.
+0000a450: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
+0000a460: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
+0000a470: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
+0000a480: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
+0000a490: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0000a4a0: 2222 4765 7420 6465 7669 6365 7320 6672  ""Get devices fr
+0000a4b0: 6f6d 2064 6576 6963 6520 696e 7665 6e74  om device invent
+0000a4c0: 6f72 792e 0a0a 2020 2020 2020 2020 4172  ory...        Ar
+0000a4d0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0000a4e0: 736b 755f 7479 7065 2028 7374 722c 206f  sku_type (str, o
+0000a4f0: 7074 696f 6e61 6c29 3a20 616c 6c2f 6961  ptional): all/ia
+0000a500: 702f 7377 6974 6368 2f63 6f6e 7472 6f6c  p/switch/control
+0000a510: 6c65 722f 6761 7465 7761 792f 7667 772f  ler/gateway/vgw/
+0000a520: 6361 702f 626f 632f 616c 6c5f 6170 2f61  cap/boc/all_ap/a
+0000a530: 6c6c 5f63 6f6e 7472 6f6c 6c65 722f 6f74  ll_controller/ot
+0000a540: 6865 7273 0a20 2020 2020 2020 2020 2020  hers.           
+0000a550: 2020 2020 2044 6566 6175 6c74 7320 746f       Defaults to
+0000a560: 2061 6c6c 2e0a 2020 2020 2020 2020 2020   all..          
+0000a570: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+0000a580: 7074 696f 6e61 6c29 3a20 6f66 6673 6574  ptional): offset
+0000a590: 206f 7220 7061 6765 206e 756d 6265 7220   or page number 
+0000a5a0: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
+0000a5b0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+0000a5c0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0000a5d0: 3a20 4e75 6d62 6572 206f 6620 6465 7669  : Number of devi
+0000a5e0: 6365 7320 746f 2067 6574 2044 6566 6175  ces to get Defau
+0000a5f0: 6c74 7320 746f 2031 3030 302e 0a0a 2020  lts to 1000...  
+0000a600: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0000a610: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0000a620: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0000a630: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0000a640: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000a650: 2020 2020 7572 6c20 3d20 222f 706c 6174      url = "/plat
+0000a660: 666f 726d 2f64 6576 6963 655f 696e 7665  form/device_inve
+0000a670: 6e74 6f72 792f 7631 2f64 6576 6963 6573  ntory/v1/devices
+0000a680: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+0000a690: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0000a6a0: 2020 2773 6b75 5f74 7970 6527 3a20 736b    'sku_type': sk
+0000a6b0: 755f 7479 7065 2c0a 2020 2020 2020 2020  u_type,.        
+0000a6c0: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
+0000a6d0: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+0000a6e0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
+0000a6f0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+0000a700: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+0000a710: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+0000a720: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+0000a730: 2020 2023 2054 4f44 4f20 636c 6561 6e75     # TODO cleanu
+0000a740: 7020 7468 6520 7761 7920 7261 7720 6973  p the way raw is
+0000a750: 2063 6f6d 6269 6e65 642c 2073 6565 2073   combined, see s
+0000a760: 686f 7720 7769 6473 2061 6c6c 2e0a 2020  how wids all..  
+0000a770: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000a780: 616c 6c5f 6465 7669 6365 7376 3228 7365  all_devicesv2(se
+0000a790: 6c66 2c20 2a2a 6b77 6172 6773 2920 2d3e  lf, **kwargs) ->
+0000a7a0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+0000a7b0: 2020 2022 2222 4765 7420 616c 6c20 6465     """Get all de
+0000a7c0: 7669 6365 7320 6672 6f6d 2041 7275 6261  vices from Aruba
+0000a7d0: 2043 656e 7472 616c 0a0a 2020 2020 2020   Central..      
+0000a7e0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0000a7f0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0000a800: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0000a810: 6f6e 7365 206f 626a 6563 740a 0a20 2020  onse object..   
+0000a820: 2020 2020 2020 2020 2072 6177 2061 7474           raw att
+0000a830: 7269 6275 7465 2068 6173 2061 6c6c 206b  ribute has all k
+0000a840: 6579 7320 7265 7475 726e 6564 2066 6f72  eys returned for
+0000a850: 2074 6865 2064 6576 6963 6573 2c20 7468   the devices, th
+0000a860: 6520 6f75 7470 7574 2061 7474 7269 6275  e output attribu
+0000a870: 7465 0a20 2020 2020 2020 2020 2020 2069  te.            i
+0000a880: 6e63 6c75 6465 7320 6f6e 6c79 206b 6579  ncludes only key
+0000a890: 7320 636f 6d6d 6f6e 2061 6372 6f73 7320  s common across 
+0000a8a0: 616c 6c20 6465 7669 6365 2074 7970 6573  all device types
+0000a8b0: 2069 6e20 6365 6e74 7261 6c2e 0a20 2020   in central..   
+0000a8c0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000a8d0: 2064 6576 5f74 7970 6573 203d 205b 2261   dev_types = ["a
+0000a8e0: 7073 222c 2022 7377 6974 6368 6573 222c  ps", "switches",
+0000a8f0: 2022 6761 7465 7761 7973 225d 2020 2320   "gateways"]  # 
+0000a900: 6d6f 6269 6c69 7479 5f63 6f6e 7472 6f6c  mobility_control
+0000a910: 6c65 7273 2073 6565 6d73 2073 616d 6520  lers seems same 
+0000a920: 6173 2067 770a 2020 2020 2020 2020 6c69  as gw.        li
+0000a930: 625f 6465 765f 7479 7065 7320 3d20 7b0a  b_dev_types = {.
+0000a940: 2020 2020 2020 2020 2020 2020 2261 7073              "aps
+0000a950: 223a 2022 6170 222c 0a20 2020 2020 2020  ": "ap",.       
+0000a960: 2020 2020 2022 6761 7465 7761 7973 223a       "gateways":
+0000a970: 2022 6777 222c 0a20 2020 2020 2020 207d   "gw",.        }
+0000a980: 0a20 2020 2020 2020 205f 6f75 7470 7574  .        _output
+0000a990: 203d 207b 7d0a 0a20 2020 2020 2020 2072   = {}..        r
+0000a9a0: 6571 7320 3d20 5b73 656c 662e 4261 7463  eqs = [self.Batc
+0000a9b0: 6852 6571 7565 7374 2873 656c 662e 6765  hRequest(self.ge
+0000a9c0: 745f 6465 7669 6365 732c 2064 6576 5f74  t_devices, dev_t
+0000a9d0: 7970 652c 202a 2a6b 7761 7267 7329 2066  ype, **kwargs) f
+0000a9e0: 6f72 2064 6576 5f74 7970 6520 696e 2064  or dev_type in d
+0000a9f0: 6576 5f74 7970 6573 5d0a 2020 2020 2020  ev_types].      
+0000aa00: 2020 7265 7320 3d20 6177 6169 7420 7365    res = await se
+0000aa10: 6c66 2e5f 6261 7463 685f 7265 7175 6573  lf._batch_reques
+0000aa20: 7428 7265 7173 290a 2020 2020 2020 2020  t(reqs).        
+0000aa30: 5f66 6169 6c75 7265 5f69 6478 7320 3d20  _failure_idxs = 
+0000aa40: 5b69 6478 2066 6f72 2069 6478 2c20 7220  [idx for idx, r 
+0000aa50: 696e 2065 6e75 6d65 7261 7465 2872 6573  in enumerate(res
+0000aa60: 2920 6966 206e 6f74 2072 5d0a 2020 2020  ) if not r].    
+0000aa70: 2020 2020 6966 205f 6661 696c 7572 655f      if _failure_
+0000aa80: 6964 7873 3a0a 2020 2020 2020 2020 2020  idxs:.          
+0000aa90: 2020 7265 7370 203d 2072 6573 5b5f 6661    resp = res[_fa
+0000aaa0: 696c 7572 655f 6964 7873 5b2d 315d 5d0a  ilure_idxs[-1]].
+0000aab0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
+0000aac0: 2e6f 7574 7075 7420 3d20 5b7b 2264 6576  .output = [{"dev
+0000aad0: 5f74 7970 6522 3a20 6465 765f 7479 7065  _type": dev_type
+0000aae0: 735b 665d 2c20 2265 7272 6f72 223a 2072  s[f], "error": r
+0000aaf0: 6573 5b66 5d2e 6f75 7470 7574 7d20 666f  es[f].output} fo
+0000ab00: 7220 6620 696e 205f 6661 696c 7572 655f  r f in _failure_
+0000ab10: 6964 7873 5d0a 2020 2020 2020 2020 2020  idxs].          
+0000ab20: 2020 7265 7475 726e 2072 6573 700a 0a20    return resp.. 
+0000ab30: 2020 2020 2020 2072 6573 7020 3d20 7265         resp = re
+0000ab40: 735b 2d31 5d0a 2020 2020 2020 2020 5f6f  s[-1].        _o
+0000ab50: 7574 7075 7420 3d20 7b6b 3a20 7574 696c  utput = {k: util
+0000ab60: 732e 6c69 7374 6966 7928 7629 2066 6f72  s.listify(v) for
+0000ab70: 206b 2c20 7620 696e 207a 6970 2864 6576   k, v in zip(dev
+0000ab80: 5f74 7970 6573 2c20 5b72 2e6f 7574 7075  _types, [r.outpu
+0000ab90: 7420 666f 7220 7220 696e 2072 6573 5d29  t for r in res])
+0000aba0: 2069 6620 767d 0a20 2020 2020 2020 2072   if v}.        r
+0000abb0: 6573 702e 7261 7720 3d20 7b6b 3a20 7574  esp.raw = {k: ut
+0000abc0: 696c 732e 6c69 7374 6966 7928 7629 2066  ils.listify(v) f
+0000abd0: 6f72 206b 2c20 7620 696e 207a 6970 2864  or k, v in zip(d
+0000abe0: 6576 5f74 7970 6573 2c20 5b72 2e72 6177  ev_types, [r.raw
+0000abf0: 2066 6f72 2072 2069 6e20 7265 735d 2920   for r in res]) 
+0000ac00: 6966 2076 7d0a 0a20 2020 2020 2020 2069  if v}..        i
+0000ac10: 6620 5f6f 7574 7075 743a 0a20 2020 2020  f _output:.     
+0000ac20: 2020 2020 2020 2023 2041 6464 2074 7970         # Add typ
+0000ac30: 6520 6b65 7920 746f 2061 6c6c 2064 6963  e key to all dic
+0000ac40: 7473 2063 6f76 6572 7420 2273 7769 7463  ts covert "switc
+0000ac50: 682d 7479 7065 2220 746f 2063 656e 636c  h-type" to cencl
+0000ac60: 6920 7479 7065 2028 6378 206f 7220 7377  i type (cx or sw
+0000ac70: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
+0000ac80: 544f 444f 206d 6f76 6520 746f 2063 6c65  TODO move to cle
+0000ac90: 616e 6572 3f20 7365 7420 7479 7065 2074  aner? set type t
+0000aca0: 6f20 7377 6974 6368 5f74 7970 6520 666f  o switch_type fo
+0000acb0: 7220 7377 6974 6368 6573 206c 6574 2063  r switches let c
+0000acc0: 6c65 616e 6572 2063 6861 6e67 6520 7661  leaner change va
+0000acd0: 6c75 6520 746f 206c 6962 2076 616c 730a  lue to lib vals.
+0000ace0: 2020 2020 2020 2020 2020 2020 6469 6374              dict
+0000acf0: 7320 3d20 5b0a 2020 2020 2020 2020 2020  s = [.          
+0000ad00: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
+0000ad10: 2020 2020 2020 2020 2020 2020 2a2a 7b0a              **{.
+0000ad20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ad30: 2020 2020 2020 2020 2274 7970 6522 3a20          "type": 
+0000ad40: 6c69 625f 6465 765f 7479 7065 732e 6765  lib_dev_types.ge
+0000ad50: 7428 6b2c 206b 2920 6966 206b 2021 3d20  t(k, k) if k != 
+0000ad60: 2273 7769 7463 6865 7322 2065 6c73 650a  "switches" else.
+0000ad70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ad80: 2020 2020 2020 2020 636f 6e73 7461 6e74          constant
+0000ad90: 732e 6765 745f 6365 6e63 6c69 5f64 6576  s.get_cencli_dev
+0000ada0: 7479 7065 2869 6e6e 6572 5f64 6963 742e  type(inner_dict.
+0000adb0: 6765 7428 2273 7769 7463 685f 7479 7065  get("switch_type
+0000adc0: 222c 2022 7377 6974 6368 2229 290a 2020  ", "switch")).  
 0000add0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ade0: 2020 2020 2274 7970 6522 3a20 6c69 625f      "type": lib_
-0000adf0: 6465 765f 7479 7065 732e 6765 7428 6b2c  dev_types.get(k,
-0000ae00: 206b 2920 6966 206b 2021 3d20 2273 7769   k) if k != "swi
-0000ae10: 7463 6865 7322 2065 6c73 650a 2020 2020  tches" else.    
-0000ae20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ae30: 2020 2020 636f 6e73 7461 6e74 732e 6765      constants.ge
-0000ae40: 745f 6365 6e63 6c69 5f64 6576 7479 7065  t_cencli_devtype
-0000ae50: 2869 6e6e 6572 5f64 6963 742e 6765 7428  (inner_dict.get(
-0000ae60: 2273 7769 7463 685f 7479 7065 222c 2022  "switch_type", "
-0000ae70: 7377 6974 6368 2229 290a 2020 2020 2020  switch")).      
-0000ae80: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
-0000ae90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000aea0: 2020 2020 202a 2a7b 0a20 2020 2020 2020       **{.       
-0000aeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aec0: 206b 6b3a 2076 7620 666f 7220 6b6b 2c20   kk: vv for kk, 
-0000aed0: 7676 2069 6e20 696e 6e65 725f 6469 6374  vv in inner_dict
-0000aee0: 2e69 7465 6d73 2829 0a20 2020 2020 2020  .items().       
-0000aef0: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
-0000af00: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-0000af10: 2066 6f72 206b 2c20 7620 696e 205f 6f75   for k, v in _ou
-0000af20: 7470 7574 2e69 7465 6d73 2829 2066 6f72  tput.items() for
-0000af30: 2069 6e6e 6572 5f64 6963 7420 696e 2076   inner_dict in v
-0000af40: 0a20 2020 2020 2020 2020 2020 205d 0a20  .            ]. 
-0000af50: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
-0000af60: 4f20 6b65 6570 2061 6c6c 2066 6965 6c64  O keep all field
-0000af70: 7320 696e 206f 7574 7075 7420 6469 6374  s in output dict
-0000af80: 2c20 6c65 7420 636c 6561 6e65 7220 6465  , let cleaner de
-0000af90: 6669 6e65 2066 6965 6c64 2066 6f72 206e  fine field for n
-0000afa0: 6f72 6d61 6c20 616e 6420 7665 7262 6f73  ormal and verbos
-0000afb0: 6520 6f70 7469 6f6e 730a 2020 2020 2020  e options.      
-0000afc0: 2020 2020 2020 2320 2020 2020 2069 6620        #      if 
-0000afd0: 7573 6572 2073 656c 6563 7473 202d 2d6a  user selects --j
-0000afe0: 736f 6e20 6f72 202d 2d79 616d 6c20 6b65  son or --yaml ke
-0000aff0: 6570 2061 6c6c 2066 6965 6c64 730a 2020  ep all fields.  
-0000b000: 2020 2020 2020 2020 2020 2320 7265 7475            # retu
-0000b010: 726e 206a 7573 7420 7468 6520 6b65 7973  rn just the keys
-0000b020: 2063 6f6d 6d6f 6e20 6163 726f 7373 2061   common across a
-0000b030: 6c6c 2064 6576 6963 6520 7479 7065 730a  ll device types.
-0000b040: 2020 2020 2020 2020 2020 2020 636f 6d6d              comm
-0000b050: 6f6e 5f6b 6579 7320 3d20 7365 742e 696e  on_keys = set.in
-0000b060: 7465 7273 6563 7469 6f6e 282a 6d61 7028  tersection(*map(
-0000b070: 7365 742c 2064 6963 7473 2929 0a20 2020  set, dicts)).   
-0000b080: 2020 2020 2020 2020 205f 6f75 7470 7574           _output
-0000b090: 203d 205b 7b6b 3a20 645b 6b5d 2066 6f72   = [{k: d[k] for
-0000b0a0: 206b 2069 6e20 636f 6d6d 6f6e 5f6b 6579   k in common_key
-0000b0b0: 737d 2066 6f72 2064 2069 6e20 6469 6374  s} for d in dict
-0000b0c0: 735d 0a0a 2020 2020 2020 2020 2020 2020  s]..            
-0000b0d0: 7265 7370 2e6f 7574 7075 7420 3d20 5f6f  resp.output = _o
-0000b0e0: 7574 7075 740a 0a20 2020 2020 2020 2072  utput..        r
-0000b0f0: 6574 7572 6e20 7265 7370 0a0a 2020 2020  eturn resp..    
-0000b100: 6173 796e 6320 6465 6620 6765 745f 7377  async def get_sw
-0000b110: 6974 6368 5f70 6f72 7473 2873 656c 662c  itch_ports(self,
-0000b120: 2073 6572 6961 6c3a 2073 7472 2c20 736c   serial: str, sl
-0000b130: 6f74 3a20 7374 7220 3d20 4e6f 6e65 2c20  ot: str = None, 
-0000b140: 6378 3a20 626f 6f6c 203d 2046 616c 7365  cx: bool = False
-0000b150: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000b160: 2020 2020 2020 2022 2222 5377 6974 6368         """Switch
-0000b170: 2050 6f72 7473 2044 6574 6169 6c73 2e0a   Ports Details..
-0000b180: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0000b190: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0000b1a0: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
-0000b1b0: 6e75 6d62 6572 206f 6620 7377 6974 6368  number of switch
-0000b1c0: 2074 6f20 6265 2071 7565 7269 6564 0a20   to be queried. 
-0000b1d0: 2020 2020 2020 2020 2020 2073 6c6f 7420             slot 
-0000b1e0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000b1f0: 2053 6c6f 7420 6e61 6d65 206f 6620 7468   Slot name of th
-0000b200: 6520 706f 7274 7320 746f 2062 6520 7175  e ports to be qu
-0000b210: 6572 6965 6420 7b46 6f72 2063 6861 7373  eried {For chass
-0000b220: 6973 2074 7970 6520 7377 6974 6368 6573  is type switches
-0000b230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b240: 206f 6e6c 797d 2e0a 2020 2020 2020 2020   only}..        
-0000b250: 2020 2020 6378 2028 626f 6f6c 2c20 6f70      cx (bool, op
-0000b260: 7469 6f6e 616c 293a 2053 6574 2074 6f20  tional): Set to 
-0000b270: 5472 7565 2066 6f72 2041 7275 6261 4f53  True for ArubaOS
-0000b280: 2d43 5820 7377 6974 6368 6573 2e0a 0a20  -CX switches... 
-0000b290: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0000b2a0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0000b2b0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0000b2c0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0000b2d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000b2e0: 2020 2020 2023 2054 4f44 4f20 7265 6d6f       # TODO remo
-0000b2f0: 7665 206f 6e63 6520 636f 6e66 6972 6d65  ve once confirme
-0000b300: 6420 7468 6520 6378 5f20 7572 6c73 2068  d the cx_ urls h
-0000b310: 6176 6520 6265 656e 2064 6570 7265 6361  ave been depreca
-0000b320: 7465 6420 696e 2066 6176 6f72 206f 6620  ted in favor of 
-0000b330: 7468 6520 6c6f 6769 6361 6c20 726f 7574  the logical rout
-0000b340: 6520 6f66 2068 6176 696e 6720 7468 650a  e of having the.
-0000b350: 2020 2020 2020 2020 2320 6f6e 6520 7572          # one ur
-0000b360: 6c20 776f 726b 2066 6f72 2062 6f74 682e  l work for both.
-0000b370: 0a20 2020 2020 2020 2023 2073 775f 7572  .        # sw_ur
-0000b380: 6c20 3d20 2263 785f 7377 6974 6368 6573  l = "cx_switches
-0000b390: 2220 6966 2063 7820 656c 7365 2022 7377  " if cx else "sw
-0000b3a0: 6974 6368 6573 220a 2020 2020 2020 2020  itches".        
-0000b3b0: 2320 7572 6c20 3d20 6622 2f6d 6f6e 6974  # url = f"/monit
-0000b3c0: 6f72 696e 672f 7631 2f7b 7377 5f75 726c  oring/v1/{sw_url
-0000b3d0: 7d2f 7b73 6572 6961 6c7d 2f70 6f72 7473  }/{serial}/ports
-0000b3e0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0000b3f0: 6622 2f6d 6f6e 6974 6f72 696e 672f 7631  f"/monitoring/v1
-0000b400: 2f73 7769 7463 6865 732f 7b73 6572 6961  /switches/{seria
-0000b410: 6c7d 2f70 6f72 7473 220a 0a20 2020 2020  l}/ports"..     
-0000b420: 2020 2070 6172 616d 7320 3d20 7b22 736c     params = {"sl
-0000b430: 6f74 223a 2073 6c6f 747d 0a0a 2020 2020  ot": slot}..    
-0000b440: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0000b450: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-0000b460: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-0000b470: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-0000b480: 5f73 7769 7463 685f 706f 655f 6465 7461  _switch_poe_deta
-0000b490: 696c 7328 0a20 2020 2020 2020 2073 656c  ils(.        sel
-0000b4a0: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
-0000b4b0: 6c3a 2073 7472 2c0a 2020 2020 2020 2020  l: str,.        
-0000b4c0: 706f 7274 3a20 7374 7220 3d20 4e6f 6e65  port: str = None
-0000b4d0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-0000b4e0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0000b4f0: 4765 7420 7377 6974 6368 2070 6f65 2069  Get switch poe i
-0000b500: 6e66 6f2e 0a0a 2020 2020 2020 2020 4172  nfo...        Ar
-0000b510: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0000b520: 7365 7269 616c 2028 7374 7229 3a20 5377  serial (str): Sw
-0000b530: 6974 6368 2073 6572 6961 6c0a 2020 2020  itch serial.    
-0000b540: 2020 2020 2020 2020 706f 7274 2028 7374          port (st
-0000b550: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000b560: 6c74 6572 2062 7920 7377 6974 6368 2070  lter by switch p
-0000b570: 6f72 740a 0a20 2020 2020 2020 2052 6574  ort..        Ret
-0000b580: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0000b590: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0000b5a0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0000b5b0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0000b5c0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-0000b5d0: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
-0000b5e0: 312f 7377 6974 6368 6573 2f7b 7365 7269  1/switches/{seri
-0000b5f0: 616c 7d2f 706f 655f 6465 7461 696c 220a  al}/poe_detail".
-0000b600: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0000b610: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0000b620: 2770 6f72 7427 3a20 7374 7228 706f 7274  'port': str(port
-0000b630: 290a 2020 2020 2020 2020 7d0a 0a20 2020  ).        }..   
-0000b640: 2020 2020 2069 6620 6e6f 7420 706f 7274       if not port
-0000b650: 3a0a 2020 2020 2020 2020 2020 2020 7572  :.            ur
-0000b660: 6c20 3d20 6622 7b75 726c 7d73 220a 2020  l = f"{url}s".  
-0000b670: 2020 2020 2020 2020 2020 7061 7261 6d73            params
-0000b680: 203d 207b 7d0a 0a20 2020 2020 2020 2072   = {}..        r
-0000b690: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0000b6a0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-0000b6b0: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-0000b6c0: 796e 6320 6465 6620 6765 745f 6761 7465  ync def get_gate
-0000b6d0: 7761 795f 706f 7274 7328 7365 6c66 2c20  way_ports(self, 
-0000b6e0: 7365 7269 616c 3a20 7374 7229 202d 3e20  serial: str) -> 
-0000b6f0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-0000b700: 2020 2222 2247 6174 6577 6179 2050 6f72    """Gateway Por
-0000b710: 7473 2044 6574 6169 6c73 2e0a 0a20 2020  ts Details...   
-0000b720: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0000b730: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
-0000b740: 7472 293a 2053 6572 6961 6c20 6e75 6d62  tr): Serial numb
-0000b750: 6572 206f 6620 4761 7465 7761 7920 746f  er of Gateway to
-0000b760: 2062 6520 7175 6572 6965 640a 0a20 2020   be queried..   
-0000b770: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-0000b780: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-0000b790: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-0000b7a0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-0000b7b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000b7c0: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-0000b7d0: 746f 7269 6e67 2f76 312f 6761 7465 7761  toring/v1/gatewa
-0000b7e0: 7973 2f7b 7365 7269 616c 7d2f 706f 7274  ys/{serial}/port
-0000b7f0: 7322 0a0a 2020 2020 2020 2020 7265 7475  s"..        retu
-0000b800: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0000b810: 7428 7572 6c29 0a0a 2020 2020 6173 796e  t(url)..    asyn
-0000b820: 6320 6465 6620 6765 745f 6465 765f 6279  c def get_dev_by
-0000b830: 5f74 7970 6528 0a20 2020 2020 2020 2020  _type(.         
-0000b840: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0000b850: 2020 2020 2064 6576 5f74 7970 653a 2073       dev_type: s
-0000b860: 7472 2c0a 2020 2020 2020 2020 2920 2d3e  tr,.        ) ->
-0000b870: 2052 6573 706f 6e73 653a 2020 2320 5645   Response:  # VE
-0000b880: 5249 4649 4544 0a20 2020 2020 2020 2075  RIFIED.        u
-0000b890: 726c 203d 2022 2f70 6c61 7466 6f72 6d2f  rl = "/platform/
-0000b8a0: 6465 7669 6365 5f69 6e76 656e 746f 7279  device_inventory
-0000b8b0: 2f76 312f 6465 7669 6365 7322 0a20 2020  /v1/devices".   
-0000b8c0: 2020 2020 2023 2069 6170 2c20 7377 6974       # iap, swit
-0000b8d0: 6368 2c20 6761 7465 7761 797c 626f 630a  ch, gateway|boc.
-0000b8e0: 2020 2020 2020 2020 6966 2064 6576 5f74          if dev_t
-0000b8f0: 7970 652e 6c6f 7765 7228 2920 696e 205b  ype.lower() in [
-0000b900: 2261 7073 222c 2022 6170 225d 3a0a 2020  "aps", "ap"]:.  
-0000b910: 2020 2020 2020 2020 2020 6465 765f 7479            dev_ty
-0000b920: 7065 203d 2022 616c 6c5f 6170 220a 2020  pe = "all_ap".  
-0000b930: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-0000b940: 2273 6b75 5f74 7970 6522 3a20 6465 765f  "sku_type": dev_
-0000b950: 7479 7065 7d0a 2020 2020 2020 2020 7265  type}.        re
-0000b960: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000b970: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0000b980: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0000b990: 6e63 2064 6566 2067 6574 5f76 6172 6961  nc def get_varia
-0000b9a0: 626c 6973 6564 5f74 656d 706c 6174 6528  blised_template(
-0000b9b0: 7365 6c66 2c20 7365 7269 616c 6e75 6d3a  self, serialnum:
-0000b9c0: 2073 7472 2920 2d3e 2052 6573 706f 6e73   str) -> Respons
-0000b9d0: 653a 2020 2320 5645 5249 4649 4544 0a20  e:  # VERIFIED. 
-0000b9e0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-0000b9f0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-0000ba00: 2f64 6576 6963 6573 2f7b 7365 7269 616c  /devices/{serial
-0000ba10: 6e75 6d7d 2f76 6172 6961 626c 6973 6564  num}/variablised
-0000ba20: 5f74 656d 706c 6174 6522 0a20 2020 2020  _template".     
-0000ba30: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0000ba40: 7365 6c66 2e67 6574 2875 726c 290a 0a20  self.get(url).. 
-0000ba50: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-0000ba60: 5f76 6172 6961 626c 6573 2873 656c 662c  _variables(self,
-0000ba70: 2073 6572 6961 6c6e 756d 3a20 7374 7220   serialnum: str 
-0000ba80: 3d20 4e6f 6e65 2920 2d3e 2052 6573 706f  = None) -> Respo
-0000ba90: 6e73 653a 0a20 2020 2020 2020 2069 6620  nse:.        if 
-0000baa0: 7365 7269 616c 6e75 6d20 616e 6420 7365  serialnum and se
-0000bab0: 7269 616c 6e75 6d20 213d 2022 616c 6c22  rialnum != "all"
-0000bac0: 3a0a 2020 2020 2020 2020 2020 2020 7572  :.            ur
-0000bad0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-0000bae0: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
-0000baf0: 7b73 6572 6961 6c6e 756d 7d2f 7465 6d70  {serialnum}/temp
-0000bb00: 6c61 7465 5f76 6172 6961 626c 6573 220a  late_variables".
-0000bb10: 2020 2020 2020 2020 2020 2020 7061 7261              para
-0000bb20: 6d73 203d 207b 7d0a 2020 2020 2020 2020  ms = {}.        
-0000bb30: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000bb40: 2020 7572 6c20 3d20 222f 636f 6e66 6967    url = "/config
-0000bb50: 7572 6174 696f 6e2f 7631 2f64 6576 6963  uration/v1/devic
-0000bb60: 6573 2f74 656d 706c 6174 655f 7661 7269  es/template_vari
-0000bb70: 6162 6c65 7322 0a20 2020 2020 2020 2020  ables".         
-0000bb80: 2020 2070 6172 616d 7320 3d20 7b22 6c69     params = {"li
-0000bb90: 6d69 7422 3a20 3230 2c20 226f 6666 7365  mit": 20, "offse
-0000bba0: 7422 3a20 307d 0a20 2020 2020 2020 2072  t": 0}.        r
-0000bbb0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0000bbc0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-0000bbd0: 3d70 6172 616d 7329 0a0a 2020 2020 2320  =params)..    # 
-0000bbe0: 6173 796e 6320 6465 6620 7570 6461 7465  async def update
-0000bbf0: 5f76 6172 6961 626c 6573 2873 656c 662c  _variables(self,
-0000bc00: 2073 6572 6961 6c6e 756d 3a20 7374 722c   serialnum: str,
-0000bc10: 202a 2a76 6172 5f64 6963 743a 2064 6963   **var_dict: dic
-0000bc20: 7429 202d 3e20 626f 6f6c 3a0a 2020 2020  t) -> bool:.    
-0000bc30: 2320 2020 2020 7572 6c20 3d20 6622 2f63  #     url = f"/c
-0000bc40: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-0000bc50: 6465 7669 6365 732f 7b73 6572 6961 6c6e  devices/{serialn
-0000bc60: 756d 7d2f 7465 6d70 6c61 7465 5f76 6172  um}/template_var
-0000bc70: 6961 626c 6573 220a 2020 2020 2320 2020  iables".    #   
-0000bc80: 2020 7661 725f 6469 6374 203d 206a 736f    var_dict = jso
-0000bc90: 6e2e 6475 6d70 7328 7661 725f 6469 6374  n.dumps(var_dict
-0000bca0: 290a 2020 2020 2320 2020 2020 7265 7475  ).    #     retu
-0000bcb0: 726e 2061 7761 6974 2073 656c 662e 7061  rn await self.pa
-0000bcc0: 7463 6828 7572 6c2c 2070 6179 6c6f 6164  tch(url, payload
-0000bcd0: 3d76 6172 5f64 6963 7429 0a0a 2020 2020  =var_dict)..    
-0000bce0: 2320 544f 444f 2066 6967 7572 6520 6f75  # TODO figure ou
-0000bcf0: 7420 686f 7720 746f 206d 616b 6520 7468  t how to make th
-0000bd00: 6973 2077 6f72 6b2c 206e 6565 6420 6669  is work, need fi
-0000bd10: 6c65 206c 696b 6520 6f62 6a65 6374 0a20  le like object. 
-0000bd20: 2020 2061 7379 6e63 2064 6566 2075 7064     async def upd
-0000bd30: 6174 655f 6465 7669 6365 5f74 656d 706c  ate_device_templ
-0000bd40: 6174 655f 7661 7269 6162 6c65 7328 0a20  ate_variables(. 
-0000bd50: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0000bd60: 2020 2020 2064 6576 6963 655f 7365 7269       device_seri
-0000bd70: 616c 3a20 7374 722c 0a20 2020 2020 2020  al: str,.       
-0000bd80: 2064 6576 6963 655f 6d61 633a 2073 7472   device_mac: str
-0000bd90: 2c0a 2020 2020 2020 2020 2320 746f 7461  ,.        # tota
-0000bda0: 6c3a 2069 6e74 2c0a 2020 2020 2020 2020  l: int,.        
-0000bdb0: 2320 5f73 7973 5f73 6572 6961 6c3a 2073  # _sys_serial: s
-0000bdc0: 7472 2c0a 2020 2020 2020 2020 2320 5f73  tr,.        # _s
-0000bdd0: 7973 5f6c 616e 5f6d 6163 3a20 7374 722c  ys_lan_mac: str,
-0000bde0: 0a20 2020 2020 2020 2076 6172 5f64 6963  .        var_dic
-0000bdf0: 743a 2064 6963 742c 0a20 2020 2029 202d  t: dict,.    ) -
-0000be00: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0000be10: 2020 2020 2222 2255 7064 6174 6520 7465      """Update te
-0000be20: 6d70 6c61 7465 2076 6172 6961 626c 6573  mplate variables
-0000be30: 2066 6f72 2061 2064 6576 6963 652e 0a0a   for a device...
-0000be40: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-0000be50: 2020 2020 2020 2020 2020 6465 7669 6365            device
-0000be60: 5f73 6572 6961 6c20 2873 7472 293a 2053  _serial (str): S
-0000be70: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
-0000be80: 7468 6520 6465 7669 6365 2e0a 2020 2020  the device..    
-0000be90: 2020 2020 2020 2020 746f 7461 6c20 2869          total (i
-0000bea0: 6e74 293a 2074 6f74 616c 0a20 2020 2020  nt): total.     
-0000beb0: 2020 2020 2020 205f 7379 735f 7365 7269         _sys_seri
-0000bec0: 616c 2028 7374 7229 3a20 5f73 7973 5f73  al (str): _sys_s
-0000bed0: 6572 6961 6c0a 2020 2020 2020 2020 2020  erial.          
-0000bee0: 2020 5f73 7973 5f6c 616e 5f6d 6163 2028    _sys_lan_mac (
-0000bef0: 7374 7229 3a20 5f73 7973 5f6c 616e 5f6d  str): _sys_lan_m
-0000bf00: 6163 0a20 2020 2020 2020 2020 2020 2076  ac.            v
-0000bf10: 6172 5f64 6963 7420 2864 6963 7429 3a20  ar_dict (dict): 
-0000bf20: 6469 6374 2077 6974 6820 7661 7269 6162  dict with variab
-0000bf30: 6c65 7320 746f 2062 6520 7570 6461 7465  les to be update
-0000bf40: 640a 0a20 2020 2020 2020 2052 6574 7572  d..        Retur
-0000bf50: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0000bf60: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0000bf70: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0000bf80: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0000bf90: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-0000bfa0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
-0000bfb0: 7631 2f64 6576 6963 6573 2f7b 6465 7669  v1/devices/{devi
-0000bfc0: 6365 5f73 6572 6961 6c7d 2f74 656d 706c  ce_serial}/templ
-0000bfd0: 6174 655f 7661 7269 6162 6c65 7322 0a20  ate_variables". 
-0000bfe0: 2020 2020 2020 2023 2068 6561 6465 7273         # headers
-0000bff0: 203d 207b 2243 6f6e 7465 6e74 2d54 7970   = {"Content-Typ
-0000c000: 6522 3a20 226d 756c 7469 7061 7274 2f66  e": "multipart/f
-0000c010: 6f72 6d2d 6461 7461 227d 0a0a 2020 2020  orm-data"}..    
-0000c020: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-0000c030: 7b0a 2020 2020 2020 2020 2020 2020 2774  {.            't
-0000c040: 6f74 616c 273a 206c 656e 2876 6172 5f64  otal': len(var_d
-0000c050: 6963 7429 202b 2032 2c0a 2020 2020 2020  ict) + 2,.      
-0000c060: 2020 2020 2020 2276 6172 6961 626c 6573        "variables
-0000c070: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
-0000c080: 2020 2020 202a 2a7b 0a20 2020 2020 2020       **{.       
-0000c090: 2020 2020 2020 2020 2020 2020 2027 5f73               '_s
-0000c0a0: 7973 5f73 6572 6961 6c27 3a20 6465 7669  ys_serial': devi
-0000c0b0: 6365 5f73 6572 6961 6c2c 0a20 2020 2020  ce_serial,.     
-0000c0c0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0000c0d0: 5f73 7973 5f6c 616e 5f6d 6163 273a 2064  _sys_lan_mac': d
-0000c0e0: 6576 6963 655f 6d61 632c 0a20 2020 2020  evice_mac,.     
-0000c0f0: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
-0000c100: 2020 2020 2020 2020 2020 2020 2020 2a2a                **
-0000c110: 7661 725f 6469 6374 0a20 2020 2020 2020  var_dict.       
-0000c120: 2020 2020 207d 0a20 2020 2020 2020 207d       }.        }
-0000c130: 0a20 2020 2020 2020 2023 2064 6174 6120  .        # data 
-0000c140: 3d20 7365 6c66 2e5f 6d61 6b65 5f66 6f72  = self._make_for
-0000c150: 6d5f 6461 7461 286a 736f 6e5f 6461 7461  m_data(json_data
-0000c160: 290a 2020 2020 2020 2020 2320 6461 7461  ).        # data
-0000c170: 203d 206d 756c 7469 7061 7274 6966 7928   = multipartify(
-0000c180: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
-0000c190: 2020 2020 2320 7265 7475 726e 2061 7761      # return awa
-0000c1a0: 6974 2073 656c 662e 7061 7463 6828 7572  it self.patch(ur
-0000c1b0: 6c2c 2068 6561 6465 7273 3d68 6561 6465  l, headers=heade
-0000c1c0: 7273 2c20 6461 7461 3d64 6174 6129 0a20  rs, data=data). 
-0000c1d0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0000c1e0: 6169 7420 7365 6c66 2e70 6174 6368 2875  ait self.patch(u
-0000c1f0: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
-0000c200: 6f6e 5f64 6174 6129 0a0a 2020 2020 2320  on_data)..    # 
-0000c210: 4150 492d 464c 4157 2020 5365 656d 7320  API-FLAW  Seems 
-0000c220: 746f 2077 6f72 6b20 6669 6e65 2066 6f72  to work fine for
-0000c230: 2063 782c 2061 702c 2062 7574 2067 7720   cx, ap, but gw 
-0000c240: 7468 6520 7265 7475 726e 2069 730a 2020  the return is.  
-0000c250: 2020 2320 2246 6574 6368 696e 6720 636f    # "Fetching co
-0000c260: 6e66 6967 7572 6174 696f 6e20 696e 2070  nfiguration in p
-0000c270: 726f 6772 6573 7320 666f 7220 4d6f 6269  rogress for Mobi
-0000c280: 6c69 7479 2043 6f6e 7472 6f6c 6c65 7220  lity Controller 
-0000c290: 5345 5249 414c 2f4d 4143 220a 2020 2020  SERIAL/MAC".    
-0000c2a0: 2320 7375 6273 6571 7565 6e74 2063 616c  # subsequent cal
-0000c2b0: 6c73 2066 6f72 2074 6865 2073 616d 6520  ls for the same 
-0000c2c0: 6777 2072 6574 7572 6e20 3530 3020 696e  gw return 500 in
-0000c2d0: 7465 726e 616c 2073 6572 7665 7220 6572  ternal server er
-0000c2e0: 726f 722e 0a20 2020 2023 2046 4958 4d45  ror..    # FIXME
-0000c2f0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-0000c300: 6574 5f64 6576 6963 655f 636f 6e66 6967  et_device_config
-0000c310: 7572 6174 696f 6e28 7365 6c66 2c20 6465  uration(self, de
-0000c320: 7669 6365 5f73 6572 6961 6c3a 2073 7472  vice_serial: str
-0000c330: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000c340: 2020 2020 2020 2022 2222 4765 7420 6c61         """Get la
-0000c350: 7374 206b 6e6f 776e 2072 756e 6e69 6e67  st known running
-0000c360: 2063 6f6e 6669 6775 7261 7469 6f6e 2066   configuration f
-0000c370: 6f72 2061 2064 6576 6963 652e 0a0a 2020  or a device...  
-0000c380: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
-0000c390: 2073 686f 7720 7275 6e20 3c44 4556 4943   show run <DEVIC
-0000c3a0: 452d 4944 454e 3e20 2f2f 0a0a 2020 2020  E-IDEN> //..    
-0000c3b0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-0000c3c0: 2020 2020 2020 6465 7669 6365 5f73 6572        device_ser
-0000c3d0: 6961 6c20 2873 7472 293a 2053 6572 6961  ial (str): Seria
-0000c3e0: 6c20 6e75 6d62 6572 206f 6620 7468 6520  l number of the 
-0000c3f0: 6465 7669 6365 2e0a 0a20 2020 2020 2020  device...       
-0000c400: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0000c410: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0000c420: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0000c430: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0000c440: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0000c450: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
-0000c460: 6174 696f 6e2f 7631 2f64 6576 6963 6573  ation/v1/devices
-0000c470: 2f7b 6465 7669 6365 5f73 6572 6961 6c7d  /{device_serial}
-0000c480: 2f63 6f6e 6669 6775 7261 7469 6f6e 220a  /configuration".
-0000c490: 2020 2020 2020 2020 6865 6164 6572 7320          headers 
-0000c4a0: 3d20 7b22 4163 6365 7074 223a 2022 6d75  = {"Accept": "mu
-0000c4b0: 6c74 6970 6172 742f 666f 726d 2d64 6174  ltipart/form-dat
-0000c4c0: 6122 7d0a 0a20 2020 2020 2020 2072 6574  a"}..        ret
-0000c4d0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0000c4e0: 6574 2875 726c 2c20 6865 6164 6572 733d  et(url, headers=
-0000c4f0: 6865 6164 6572 7329 0a0a 2020 2020 6173  headers)..    as
-0000c500: 796e 6320 6465 6620 6765 745f 6273 7369  ync def get_bssi
-0000c510: 6473 280a 2020 2020 2020 2020 7365 6c66  ds(.        self
-0000c520: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+0000ade0: 2020 7d2c 0a20 2020 2020 2020 2020 2020    },.           
+0000adf0: 2020 2020 2020 2020 202a 2a7b 0a20 2020           **{.   
+0000ae00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae10: 2020 2020 206b 6b3a 2076 7620 666f 7220       kk: vv for 
+0000ae20: 6b6b 2c20 7676 2069 6e20 696e 6e65 725f  kk, vv in inner_
+0000ae30: 6469 6374 2e69 7465 6d73 2829 0a20 2020  dict.items().   
+0000ae40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae50: 207d 0a20 2020 2020 2020 2020 2020 2020   }.             
+0000ae60: 2020 207d 2066 6f72 206b 2c20 7620 696e     } for k, v in
+0000ae70: 205f 6f75 7470 7574 2e69 7465 6d73 2829   _output.items()
+0000ae80: 2066 6f72 2069 6e6e 6572 5f64 6963 7420   for inner_dict 
+0000ae90: 696e 2076 0a20 2020 2020 2020 2020 2020  in v.           
+0000aea0: 205d 0a20 2020 2020 2020 2020 2020 2023   ].            #
+0000aeb0: 2054 4f44 4f20 6b65 6570 2061 6c6c 2066   TODO keep all f
+0000aec0: 6965 6c64 7320 696e 206f 7574 7075 7420  ields in output 
+0000aed0: 6469 6374 2c20 6c65 7420 636c 6561 6e65  dict, let cleane
+0000aee0: 7220 6465 6669 6e65 2066 6965 6c64 2066  r define field f
+0000aef0: 6f72 206e 6f72 6d61 6c20 616e 6420 7665  or normal and ve
+0000af00: 7262 6f73 6520 6f70 7469 6f6e 730a 2020  rbose options.  
+0000af10: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+0000af20: 2069 6620 7573 6572 2073 656c 6563 7473   if user selects
+0000af30: 202d 2d6a 736f 6e20 6f72 202d 2d79 616d   --json or --yam
+0000af40: 6c20 6b65 6570 2061 6c6c 2066 6965 6c64  l keep all field
+0000af50: 730a 2020 2020 2020 2020 2020 2020 2320  s.            # 
+0000af60: 7265 7475 726e 206a 7573 7420 7468 6520  return just the 
+0000af70: 6b65 7973 2063 6f6d 6d6f 6e20 6163 726f  keys common acro
+0000af80: 7373 2061 6c6c 2064 6576 6963 6520 7479  ss all device ty
+0000af90: 7065 730a 2020 2020 2020 2020 2020 2020  pes.            
+0000afa0: 636f 6d6d 6f6e 5f6b 6579 7320 3d20 7365  common_keys = se
+0000afb0: 742e 696e 7465 7273 6563 7469 6f6e 282a  t.intersection(*
+0000afc0: 6d61 7028 7365 742c 2064 6963 7473 2929  map(set, dicts))
+0000afd0: 0a20 2020 2020 2020 2020 2020 205f 6f75  .            _ou
+0000afe0: 7470 7574 203d 205b 7b6b 3a20 645b 6b5d  tput = [{k: d[k]
+0000aff0: 2066 6f72 206b 2069 6e20 636f 6d6d 6f6e   for k in common
+0000b000: 5f6b 6579 737d 2066 6f72 2064 2069 6e20  _keys} for d in 
+0000b010: 6469 6374 735d 0a0a 2020 2020 2020 2020  dicts]..        
+0000b020: 2020 2020 7265 7370 2e6f 7574 7075 7420      resp.output 
+0000b030: 3d20 5f6f 7574 7075 740a 0a20 2020 2020  = _output..     
+0000b040: 2020 2072 6574 7572 6e20 7265 7370 0a0a     return resp..
+0000b050: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+0000b060: 745f 7377 6974 6368 5f70 6f72 7473 2873  t_switch_ports(s
+0000b070: 656c 662c 2073 6572 6961 6c3a 2073 7472  elf, serial: str
+0000b080: 2c20 736c 6f74 3a20 7374 7220 3d20 4e6f  , slot: str = No
+0000b090: 6e65 2c20 6378 3a20 626f 6f6c 203d 2046  ne, cx: bool = F
+0000b0a0: 616c 7365 2920 2d3e 2052 6573 706f 6e73  alse) -> Respons
+0000b0b0: 653a 0a20 2020 2020 2020 2022 2222 5377  e:.        """Sw
+0000b0c0: 6974 6368 2050 6f72 7473 2044 6574 6169  itch Ports Detai
+0000b0d0: 6c73 2e0a 0a20 2020 2020 2020 2041 7267  ls...        Arg
+0000b0e0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0000b0f0: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
+0000b100: 6961 6c20 6e75 6d62 6572 206f 6620 7377  ial number of sw
+0000b110: 6974 6368 2074 6f20 6265 2071 7565 7269  itch to be queri
+0000b120: 6564 0a20 2020 2020 2020 2020 2020 2073  ed.            s
+0000b130: 6c6f 7420 2873 7472 2c20 6f70 7469 6f6e  lot (str, option
+0000b140: 616c 293a 2053 6c6f 7420 6e61 6d65 206f  al): Slot name o
+0000b150: 6620 7468 6520 706f 7274 7320 746f 2062  f the ports to b
+0000b160: 6520 7175 6572 6965 6420 7b46 6f72 2063  e queried {For c
+0000b170: 6861 7373 6973 2074 7970 6520 7377 6974  hassis type swit
+0000b180: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
+0000b190: 2020 2020 206f 6e6c 797d 2e0a 2020 2020       only}..    
+0000b1a0: 2020 2020 2020 2020 6378 2028 626f 6f6c          cx (bool
+0000b1b0: 2c20 6f70 7469 6f6e 616c 293a 2053 6574  , optional): Set
+0000b1c0: 2074 6f20 5472 7565 2066 6f72 2041 7275   to True for Aru
+0000b1d0: 6261 4f53 2d43 5820 7377 6974 6368 6573  baOS-CX switches
+0000b1e0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+0000b1f0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0000b200: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0000b210: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0000b220: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0000b230: 0a20 2020 2020 2020 2023 2054 4f44 4f20  .        # TODO 
+0000b240: 7265 6d6f 7665 206f 6e63 6520 636f 6e66  remove once conf
+0000b250: 6972 6d65 6420 7468 6520 6378 5f20 7572  irmed the cx_ ur
+0000b260: 6c73 2068 6176 6520 6265 656e 2064 6570  ls have been dep
+0000b270: 7265 6361 7465 6420 696e 2066 6176 6f72  recated in favor
+0000b280: 206f 6620 7468 6520 6c6f 6769 6361 6c20   of the logical 
+0000b290: 726f 7574 6520 6f66 2068 6176 696e 6720  route of having 
+0000b2a0: 7468 650a 2020 2020 2020 2020 2320 6f6e  the.        # on
+0000b2b0: 6520 7572 6c20 776f 726b 2066 6f72 2062  e url work for b
+0000b2c0: 6f74 682e 0a20 2020 2020 2020 2023 2073  oth..        # s
+0000b2d0: 775f 7572 6c20 3d20 2263 785f 7377 6974  w_url = "cx_swit
+0000b2e0: 6368 6573 2220 6966 2063 7820 656c 7365  ches" if cx else
+0000b2f0: 2022 7377 6974 6368 6573 220a 2020 2020   "switches".    
+0000b300: 2020 2020 2320 7572 6c20 3d20 6622 2f6d      # url = f"/m
+0000b310: 6f6e 6974 6f72 696e 672f 7631 2f7b 7377  onitoring/v1/{sw
+0000b320: 5f75 726c 7d2f 7b73 6572 6961 6c7d 2f70  _url}/{serial}/p
+0000b330: 6f72 7473 220a 2020 2020 2020 2020 7572  orts".        ur
+0000b340: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
+0000b350: 672f 7631 2f73 7769 7463 6865 732f 7b73  g/v1/switches/{s
+0000b360: 6572 6961 6c7d 2f70 6f72 7473 220a 0a20  erial}/ports".. 
+0000b370: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0000b380: 7b22 736c 6f74 223a 2073 6c6f 747d 0a0a  {"slot": slot}..
+0000b390: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0000b3a0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+0000b3b0: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+0000b3c0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0000b3d0: 2067 6574 5f73 7769 7463 685f 706f 655f   get_switch_poe_
+0000b3e0: 6465 7461 696c 7328 0a20 2020 2020 2020  details(.       
+0000b3f0: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+0000b400: 6572 6961 6c3a 2073 7472 2c0a 2020 2020  erial: str,.    
+0000b410: 2020 2020 706f 7274 3a20 7374 7220 3d20      port: str = 
+0000b420: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
+0000b430: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0000b440: 2022 2222 4765 7420 7377 6974 6368 2070   """Get switch p
+0000b450: 6f65 2069 6e66 6f2e 0a0a 2020 2020 2020  oe info...      
+0000b460: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+0000b470: 2020 2020 7365 7269 616c 2028 7374 7229      serial (str)
+0000b480: 3a20 5377 6974 6368 2073 6572 6961 6c0a  : Switch serial.
+0000b490: 2020 2020 2020 2020 2020 2020 706f 7274              port
+0000b4a0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000b4b0: 3a20 4669 6c74 6572 2062 7920 7377 6974  : Filter by swit
+0000b4c0: 6368 2070 6f72 740a 0a20 2020 2020 2020  ch port..       
+0000b4d0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0000b4e0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0000b4f0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0000b500: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0000b510: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0000b520: 726c 203d 2066 222f 6d6f 6e69 746f 7269  rl = f"/monitori
+0000b530: 6e67 2f76 312f 7377 6974 6368 6573 2f7b  ng/v1/switches/{
+0000b540: 7365 7269 616c 7d2f 706f 655f 6465 7461  serial}/poe_deta
+0000b550: 696c 220a 0a20 2020 2020 2020 2070 6172  il"..        par
+0000b560: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+0000b570: 2020 2020 2770 6f72 7427 3a20 7374 7228      'port': str(
+0000b580: 706f 7274 290a 2020 2020 2020 2020 7d0a  port).        }.
+0000b590: 0a20 2020 2020 2020 2069 6620 6e6f 7420  .        if not 
+0000b5a0: 706f 7274 3a0a 2020 2020 2020 2020 2020  port:.          
+0000b5b0: 2020 7572 6c20 3d20 6622 7b75 726c 7d73    url = f"{url}s
+0000b5c0: 220a 2020 2020 2020 2020 2020 2020 7061  ".            pa
+0000b5d0: 7261 6d73 203d 207b 7d0a 0a20 2020 2020  rams = {}..     
+0000b5e0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000b5f0: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+0000b600: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+0000b610: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000b620: 6761 7465 7761 795f 706f 7274 7328 7365  gateway_ports(se
+0000b630: 6c66 2c20 7365 7269 616c 3a20 7374 7229  lf, serial: str)
+0000b640: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0000b650: 2020 2020 2020 2222 2247 6174 6577 6179        """Gateway
+0000b660: 2050 6f72 7473 2044 6574 6169 6c73 2e0a   Ports Details..
+0000b670: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0000b680: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+0000b690: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
+0000b6a0: 6e75 6d62 6572 206f 6620 4761 7465 7761  number of Gatewa
+0000b6b0: 7920 746f 2062 6520 7175 6572 6965 640a  y to be queried.
+0000b6c0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0000b6d0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+0000b6e0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+0000b6f0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+0000b700: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+0000b710: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+0000b720: 6d6f 6e69 746f 7269 6e67 2f76 312f 6761  monitoring/v1/ga
+0000b730: 7465 7761 7973 2f7b 7365 7269 616c 7d2f  teways/{serial}/
+0000b740: 706f 7274 7322 0a0a 2020 2020 2020 2020  ports"..        
+0000b750: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0000b760: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
+0000b770: 6173 796e 6320 6465 6620 6765 745f 6465  async def get_de
+0000b780: 765f 6279 5f74 7970 6528 0a20 2020 2020  v_by_type(.     
+0000b790: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0000b7a0: 2020 2020 2020 2020 2064 6576 5f74 7970           dev_typ
+0000b7b0: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
+0000b7c0: 2920 2d3e 2052 6573 706f 6e73 653a 2020  ) -> Response:  
+0000b7d0: 2320 5645 5249 4649 4544 0a20 2020 2020  # VERIFIED.     
+0000b7e0: 2020 2075 726c 203d 2022 2f70 6c61 7466     url = "/platf
+0000b7f0: 6f72 6d2f 6465 7669 6365 5f69 6e76 656e  orm/device_inven
+0000b800: 746f 7279 2f76 312f 6465 7669 6365 7322  tory/v1/devices"
+0000b810: 0a20 2020 2020 2020 2023 2069 6170 2c20  .        # iap, 
+0000b820: 7377 6974 6368 2c20 6761 7465 7761 797c  switch, gateway|
+0000b830: 626f 630a 2020 2020 2020 2020 6966 2064  boc.        if d
+0000b840: 6576 5f74 7970 652e 6c6f 7765 7228 2920  ev_type.lower() 
+0000b850: 696e 205b 2261 7073 222c 2022 6170 225d  in ["aps", "ap"]
+0000b860: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
+0000b870: 765f 7479 7065 203d 2022 616c 6c5f 6170  v_type = "all_ap
+0000b880: 220a 2020 2020 2020 2020 7061 7261 6d73  ".        params
+0000b890: 203d 207b 2273 6b75 5f74 7970 6522 3a20   = {"sku_type": 
+0000b8a0: 6465 765f 7479 7065 7d0a 2020 2020 2020  dev_type}.      
+0000b8b0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0000b8c0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+0000b8d0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+0000b8e0: 2061 7379 6e63 2064 6566 2067 6574 5f76   async def get_v
+0000b8f0: 6172 6961 626c 6973 6564 5f74 656d 706c  ariablised_templ
+0000b900: 6174 6528 7365 6c66 2c20 7365 7269 616c  ate(self, serial
+0000b910: 6e75 6d3a 2073 7472 2920 2d3e 2052 6573  num: str) -> Res
+0000b920: 706f 6e73 653a 2020 2320 5645 5249 4649  ponse:  # VERIFI
+0000b930: 4544 0a20 2020 2020 2020 2075 726c 203d  ED.        url =
+0000b940: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
+0000b950: 6e2f 7631 2f64 6576 6963 6573 2f7b 7365  n/v1/devices/{se
+0000b960: 7269 616c 6e75 6d7d 2f76 6172 6961 626c  rialnum}/variabl
+0000b970: 6973 6564 5f74 656d 706c 6174 6522 0a20  ised_template". 
+0000b980: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000b990: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0000b9a0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0000b9b0: 2067 6574 5f76 6172 6961 626c 6573 2873   get_variables(s
+0000b9c0: 656c 662c 2073 6572 6961 6c6e 756d 3a20  elf, serialnum: 
+0000b9d0: 7374 7220 3d20 4e6f 6e65 2920 2d3e 2052  str = None) -> R
+0000b9e0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0000b9f0: 2069 6620 7365 7269 616c 6e75 6d20 616e   if serialnum an
+0000ba00: 6420 7365 7269 616c 6e75 6d20 213d 2022  d serialnum != "
+0000ba10: 616c 6c22 3a0a 2020 2020 2020 2020 2020  all":.          
+0000ba20: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
+0000ba30: 6775 7261 7469 6f6e 2f76 312f 6465 7669  guration/v1/devi
+0000ba40: 6365 732f 7b73 6572 6961 6c6e 756d 7d2f  ces/{serialnum}/
+0000ba50: 7465 6d70 6c61 7465 5f76 6172 6961 626c  template_variabl
+0000ba60: 6573 220a 2020 2020 2020 2020 2020 2020  es".            
+0000ba70: 7061 7261 6d73 203d 207b 7d0a 2020 2020  params = {}.    
+0000ba80: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000ba90: 2020 2020 2020 7572 6c20 3d20 222f 636f        url = "/co
+0000baa0: 6e66 6967 7572 6174 696f 6e2f 7631 2f64  nfiguration/v1/d
+0000bab0: 6576 6963 6573 2f74 656d 706c 6174 655f  evices/template_
+0000bac0: 7661 7269 6162 6c65 7322 0a20 2020 2020  variables".     
+0000bad0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+0000bae0: 7b22 6c69 6d69 7422 3a20 3230 2c20 226f  {"limit": 20, "o
+0000baf0: 6666 7365 7422 3a20 307d 0a20 2020 2020  ffset": 0}.     
+0000bb00: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0000bb10: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+0000bb20: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+0000bb30: 2020 2320 6173 796e 6320 6465 6620 7570    # async def up
+0000bb40: 6461 7465 5f76 6172 6961 626c 6573 2873  date_variables(s
+0000bb50: 656c 662c 2073 6572 6961 6c6e 756d 3a20  elf, serialnum: 
+0000bb60: 7374 722c 202a 2a76 6172 5f64 6963 743a  str, **var_dict:
+0000bb70: 2064 6963 7429 202d 3e20 626f 6f6c 3a0a   dict) -> bool:.
+0000bb80: 2020 2020 2320 2020 2020 7572 6c20 3d20      #     url = 
+0000bb90: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
+0000bba0: 2f76 312f 6465 7669 6365 732f 7b73 6572  /v1/devices/{ser
+0000bbb0: 6961 6c6e 756d 7d2f 7465 6d70 6c61 7465  ialnum}/template
+0000bbc0: 5f76 6172 6961 626c 6573 220a 2020 2020  _variables".    
+0000bbd0: 2320 2020 2020 7661 725f 6469 6374 203d  #     var_dict =
+0000bbe0: 206a 736f 6e2e 6475 6d70 7328 7661 725f   json.dumps(var_
+0000bbf0: 6469 6374 290a 2020 2020 2320 2020 2020  dict).    #     
+0000bc00: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0000bc10: 662e 7061 7463 6828 7572 6c2c 2070 6179  f.patch(url, pay
+0000bc20: 6c6f 6164 3d76 6172 5f64 6963 7429 0a0a  load=var_dict)..
+0000bc30: 2020 2020 2320 544f 444f 2066 6967 7572      # TODO figur
+0000bc40: 6520 6f75 7420 686f 7720 746f 206d 616b  e out how to mak
+0000bc50: 6520 7468 6973 2077 6f72 6b2c 206e 6565  e this work, nee
+0000bc60: 6420 6669 6c65 206c 696b 6520 6f62 6a65  d file like obje
+0000bc70: 6374 0a20 2020 2061 7379 6e63 2064 6566  ct.    async def
+0000bc80: 2075 7064 6174 655f 6465 7669 6365 5f74   update_device_t
+0000bc90: 656d 706c 6174 655f 7661 7269 6162 6c65  emplate_variable
+0000bca0: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+0000bcb0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
+0000bcc0: 7365 7269 616c 3a20 7374 722c 0a20 2020  serial: str,.   
+0000bcd0: 2020 2020 2064 6576 6963 655f 6d61 633a       device_mac:
+0000bce0: 2073 7472 2c0a 2020 2020 2020 2020 2320   str,.        # 
+0000bcf0: 746f 7461 6c3a 2069 6e74 2c0a 2020 2020  total: int,.    
+0000bd00: 2020 2020 2320 5f73 7973 5f73 6572 6961      # _sys_seria
+0000bd10: 6c3a 2073 7472 2c0a 2020 2020 2020 2020  l: str,.        
+0000bd20: 2320 5f73 7973 5f6c 616e 5f6d 6163 3a20  # _sys_lan_mac: 
+0000bd30: 7374 722c 0a20 2020 2020 2020 2076 6172  str,.        var
+0000bd40: 5f64 6963 743a 2064 6963 742c 0a20 2020  _dict: dict,.   
+0000bd50: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+0000bd60: 2020 2020 2020 2020 2222 2255 7064 6174          """Updat
+0000bd70: 6520 7465 6d70 6c61 7465 2076 6172 6961  e template varia
+0000bd80: 626c 6573 2066 6f72 2061 2064 6576 6963  bles for a devic
+0000bd90: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
+0000bda0: 3a0a 2020 2020 2020 2020 2020 2020 6465  :.            de
+0000bdb0: 7669 6365 5f73 6572 6961 6c20 2873 7472  vice_serial (str
+0000bdc0: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
+0000bdd0: 206f 6620 7468 6520 6465 7669 6365 2e0a   of the device..
+0000bde0: 2020 2020 2020 2020 2020 2020 746f 7461              tota
+0000bdf0: 6c20 2869 6e74 293a 2074 6f74 616c 0a20  l (int): total. 
+0000be00: 2020 2020 2020 2020 2020 205f 7379 735f             _sys_
+0000be10: 7365 7269 616c 2028 7374 7229 3a20 5f73  serial (str): _s
+0000be20: 7973 5f73 6572 6961 6c0a 2020 2020 2020  ys_serial.      
+0000be30: 2020 2020 2020 5f73 7973 5f6c 616e 5f6d        _sys_lan_m
+0000be40: 6163 2028 7374 7229 3a20 5f73 7973 5f6c  ac (str): _sys_l
+0000be50: 616e 5f6d 6163 0a20 2020 2020 2020 2020  an_mac.         
+0000be60: 2020 2076 6172 5f64 6963 7420 2864 6963     var_dict (dic
+0000be70: 7429 3a20 6469 6374 2077 6974 6820 7661  t): dict with va
+0000be80: 7269 6162 6c65 7320 746f 2062 6520 7570  riables to be up
+0000be90: 6461 7465 640a 0a20 2020 2020 2020 2052  dated..        R
+0000bea0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+0000beb0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+0000bec0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+0000bed0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+0000bee0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+0000bef0: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
+0000bf00: 696f 6e2f 7631 2f64 6576 6963 6573 2f7b  ion/v1/devices/{
+0000bf10: 6465 7669 6365 5f73 6572 6961 6c7d 2f74  device_serial}/t
+0000bf20: 656d 706c 6174 655f 7661 7269 6162 6c65  emplate_variable
+0000bf30: 7322 0a20 2020 2020 2020 2023 2068 6561  s".        # hea
+0000bf40: 6465 7273 203d 207b 2243 6f6e 7465 6e74  ders = {"Content
+0000bf50: 2d54 7970 6522 3a20 226d 756c 7469 7061  -Type": "multipa
+0000bf60: 7274 2f66 6f72 6d2d 6461 7461 227d 0a0a  rt/form-data"}..
+0000bf70: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+0000bf80: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
+0000bf90: 2020 2774 6f74 616c 273a 206c 656e 2876    'total': len(v
+0000bfa0: 6172 5f64 6963 7429 202b 2032 2c0a 2020  ar_dict) + 2,.  
+0000bfb0: 2020 2020 2020 2020 2020 2276 6172 6961            "varia
+0000bfc0: 626c 6573 223a 207b 0a20 2020 2020 2020  bles": {.       
+0000bfd0: 2020 2020 2020 2020 202a 2a7b 0a20 2020           **{.   
+0000bfe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bff0: 2027 5f73 7973 5f73 6572 6961 6c27 3a20   '_sys_serial': 
+0000c000: 6465 7669 6365 5f73 6572 6961 6c2c 0a20  device_serial,. 
+0000c010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c020: 2020 2027 5f73 7973 5f6c 616e 5f6d 6163     '_sys_lan_mac
+0000c030: 273a 2064 6576 6963 655f 6d61 632c 0a20  ': device_mac,. 
+0000c040: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+0000c050: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000c060: 2020 2a2a 7661 725f 6469 6374 0a20 2020    **var_dict.   
+0000c070: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+0000c080: 2020 207d 0a20 2020 2020 2020 2023 2064     }.        # d
+0000c090: 6174 6120 3d20 7365 6c66 2e5f 6d61 6b65  ata = self._make
+0000c0a0: 5f66 6f72 6d5f 6461 7461 286a 736f 6e5f  _form_data(json_
+0000c0b0: 6461 7461 290a 2020 2020 2020 2020 2320  data).        # 
+0000c0c0: 6461 7461 203d 206d 756c 7469 7061 7274  data = multipart
+0000c0d0: 6966 7928 6a73 6f6e 5f64 6174 6129 0a0a  ify(json_data)..
+0000c0e0: 2020 2020 2020 2020 2320 7265 7475 726e          # return
+0000c0f0: 2061 7761 6974 2073 656c 662e 7061 7463   await self.patc
+0000c100: 6828 7572 6c2c 2068 6561 6465 7273 3d68  h(url, headers=h
+0000c110: 6561 6465 7273 2c20 6461 7461 3d64 6174  eaders, data=dat
+0000c120: 6129 0a20 2020 2020 2020 2072 6574 7572  a).        retur
+0000c130: 6e20 6177 6169 7420 7365 6c66 2e70 6174  n await self.pat
+0000c140: 6368 2875 726c 2c20 6a73 6f6e 5f64 6174  ch(url, json_dat
+0000c150: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+0000c160: 2020 2320 4150 492d 464c 4157 2020 5365    # API-FLAW  Se
+0000c170: 656d 7320 746f 2077 6f72 6b20 6669 6e65  ems to work fine
+0000c180: 2066 6f72 2063 782c 2061 702c 2062 7574   for cx, ap, but
+0000c190: 2067 7720 7468 6520 7265 7475 726e 2069   gw the return i
+0000c1a0: 730a 2020 2020 2320 2246 6574 6368 696e  s.    # "Fetchin
+0000c1b0: 6720 636f 6e66 6967 7572 6174 696f 6e20  g configuration 
+0000c1c0: 696e 2070 726f 6772 6573 7320 666f 7220  in progress for 
+0000c1d0: 4d6f 6269 6c69 7479 2043 6f6e 7472 6f6c  Mobility Control
+0000c1e0: 6c65 7220 5345 5249 414c 2f4d 4143 220a  ler SERIAL/MAC".
+0000c1f0: 2020 2020 2320 7375 6273 6571 7565 6e74      # subsequent
+0000c200: 2063 616c 6c73 2066 6f72 2074 6865 2073   calls for the s
+0000c210: 616d 6520 6777 2072 6574 7572 6e20 3530  ame gw return 50
+0000c220: 3020 696e 7465 726e 616c 2073 6572 7665  0 internal serve
+0000c230: 7220 6572 726f 722e 0a20 2020 2023 2046  r error..    # F
+0000c240: 4958 4d45 0a20 2020 2061 7379 6e63 2064  IXME.    async d
+0000c250: 6566 2067 6574 5f64 6576 6963 655f 636f  ef get_device_co
+0000c260: 6e66 6967 7572 6174 696f 6e28 7365 6c66  nfiguration(self
+0000c270: 2c20 6465 7669 6365 5f73 6572 6961 6c3a  , device_serial:
+0000c280: 2073 7472 2920 2d3e 2052 6573 706f 6e73   str) -> Respons
+0000c290: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+0000c2a0: 7420 6c61 7374 206b 6e6f 776e 2072 756e  t last known run
+0000c2b0: 6e69 6e67 2063 6f6e 6669 6775 7261 7469  ning configurati
+0000c2c0: 6f6e 2066 6f72 2061 2064 6576 6963 652e  on for a device.
+0000c2d0: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
+0000c2e0: 6420 6279 2073 686f 7720 7275 6e20 3c44  d by show run <D
+0000c2f0: 4556 4943 452d 4944 454e 3e20 2f2f 0a0a  EVICE-IDEN> //..
+0000c300: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+0000c310: 2020 2020 2020 2020 2020 6465 7669 6365            device
+0000c320: 5f73 6572 6961 6c20 2873 7472 293a 2053  _serial (str): S
+0000c330: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
+0000c340: 7468 6520 6465 7669 6365 2e0a 0a20 2020  the device...   
+0000c350: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+0000c360: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+0000c370: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+0000c380: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+0000c390: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000c3a0: 2020 2075 726c 203d 2066 222f 636f 6e66     url = f"/conf
+0000c3b0: 6967 7572 6174 696f 6e2f 7631 2f64 6576  iguration/v1/dev
+0000c3c0: 6963 6573 2f7b 6465 7669 6365 5f73 6572  ices/{device_ser
+0000c3d0: 6961 6c7d 2f63 6f6e 6669 6775 7261 7469  ial}/configurati
+0000c3e0: 6f6e 220a 2020 2020 2020 2020 6865 6164  on".        head
+0000c3f0: 6572 7320 3d20 7b22 4163 6365 7074 223a  ers = {"Accept":
+0000c400: 2022 6d75 6c74 6970 6172 742f 666f 726d   "multipart/form
+0000c410: 2d64 6174 6122 7d0a 0a20 2020 2020 2020  -data"}..       
+0000c420: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0000c430: 6c66 2e67 6574 2875 726c 2c20 6865 6164  lf.get(url, head
+0000c440: 6572 733d 6865 6164 6572 7329 0a0a 2020  ers=headers)..  
+0000c450: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000c460: 6273 7369 6473 280a 2020 2020 2020 2020  bssids(.        
+0000c470: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
+0000c480: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
+0000c490: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
+0000c4a0: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+0000c4b0: 2020 2020 2020 206c 6162 656c 3a20 7374         label: st
+0000c4c0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0000c4d0: 2020 7369 7465 3a20 7374 7220 3d20 4e6f    site: str = No
+0000c4e0: 6e65 2c0a 2020 2020 2020 2020 7365 7269  ne,.        seri
+0000c4f0: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
+0000c500: 2020 2020 2020 2020 6d61 6361 6464 723a          macaddr:
+0000c510: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000c520: 2020 2020 2063 6c75 7374 6572 5f69 643a       cluster_id:
 0000c530: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000c540: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
-0000c550: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000c560: 2020 206c 6162 656c 3a20 7374 7220 3d20     label: str = 
-0000c570: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
-0000c580: 7465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  te: str = None,.
-0000c590: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-0000c5a0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000c5b0: 2020 2020 6d61 6361 6464 723a 2073 7472      macaddr: str
-0000c5c0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000c5d0: 2063 6c75 7374 6572 5f69 643a 2073 7472   cluster_id: str
-0000c5e0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000c5f0: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
-0000c600: 3a20 626f 6f6c 203d 204e 6f6e 652c 0a20  : bool = None,. 
-0000c610: 2020 2020 2020 2073 6f72 743a 2073 7472         sort: str
-0000c620: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000c630: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
-0000c640: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
-0000c650: 2069 6e74 203d 2031 3030 302c 0a20 2020   int = 1000,.   
-0000c660: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-0000c670: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
-0000c680: 4253 5349 4473 2e0a 0a20 2020 2020 2020  BSSIDs...       
-0000c690: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-0000c6a0: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
-0000c6b0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-0000c6c0: 2062 7920 6772 6f75 7020 6e61 6d65 0a20   by group name. 
-0000c6d0: 2020 2020 2020 2020 2020 2073 7761 726d             swarm
-0000c6e0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-0000c6f0: 616c 293a 2046 696c 7465 7220 6279 2053  al): Filter by S
-0000c700: 7761 726d 2049 440a 2020 2020 2020 2020  warm ID.        
-0000c710: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
-0000c720: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-0000c730: 7220 6279 204c 6162 656c 206e 616d 650a  r by Label name.
-0000c740: 2020 2020 2020 2020 2020 2020 7369 7465              site
-0000c750: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0000c760: 3a20 4669 6c74 6572 2062 7920 5369 7465  : Filter by Site
-0000c770: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
-0000c780: 2020 7365 7269 616c 2028 7374 722c 206f    serial (str, o
-0000c790: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-0000c7a0: 2062 7920 4150 2073 6572 6961 6c20 6e75   by AP serial nu
-0000c7b0: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
-0000c7c0: 206d 6163 6164 6472 2028 7374 722c 206f   macaddr (str, o
-0000c7d0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
-0000c7e0: 2062 7920 4150 204d 4143 2061 6464 7265   by AP MAC addre
-0000c7f0: 7373 0a20 2020 2020 2020 2020 2020 2063  ss.            c
-0000c800: 6c75 7374 6572 5f69 6420 2873 7472 2c20  luster_id (str, 
-0000c810: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
-0000c820: 7220 6279 204d 6f62 696c 6974 7920 436f  r by Mobility Co
-0000c830: 6e74 726f 6c6c 6572 2073 6572 6961 6c20  ntroller serial 
-0000c840: 6e75 6d62 6572 0a20 2020 2020 2020 2020  number.         
-0000c850: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
-0000c860: 616c 2028 626f 6f6c 2c20 6f70 7469 6f6e  al (bool, option
-0000c870: 616c 293a 2057 6865 7468 6572 2074 6f20  al): Whether to 
-0000c880: 6361 6c63 756c 6174 6520 746f 7461 6c20  calculate total 
-0000c890: 4150 730a 2020 2020 2020 2020 2020 2020  APs.            
-0000c8a0: 736f 7274 2028 7374 722c 206f 7074 696f  sort (str, optio
-0000c8b0: 6e61 6c29 3a20 536f 7274 2070 6172 616d  nal): Sort param
-0000c8c0: 6574 6572 206d 6179 2062 6520 6f6e 6520  eter may be one 
-0000c8d0: 6f66 202b 7365 7269 616c 2c20 2d73 6572  of +serial, -ser
-0000c8e0: 6961 6c2c 202b 6d61 6361 6464 722c 2d6d  ial, +macaddr,-m
-0000c8f0: 6163 6164 6472 2c0a 2020 2020 2020 2020  acaddr,.        
-0000c900: 2020 2020 2020 2020 2b73 7761 726d 5f69          +swarm_i
-0000c910: 642c 202d 7377 6172 6d5f 6964 2e44 6566  d, -swarm_id.Def
-0000c920: 6175 6c74 2069 7320 272b 7365 7269 616c  ault is '+serial
-0000c930: 270a 2020 2020 2020 2020 2020 2020 6f66  '.            of
-0000c940: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
-0000c950: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-0000c960: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
-0000c970: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
-0000c980: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-0000c990: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-0000c9a0: 7469 6f6e 206c 696d 6974 2e20 4465 6661  tion limit. Defa
-0000c9b0: 756c 7420 6973 2031 3030 2061 6e64 206d  ult is 100 and m
-0000c9c0: 6178 2069 7320 3130 3030 2044 6566 6175  ax is 1000 Defau
-0000c9d0: 6c74 7320 746f 2031 3030 302e 0a0a 2020  lts to 1000...  
-0000c9e0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0000c9f0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0000ca00: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0000ca10: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0000ca20: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000ca30: 2020 2020 7572 6c20 3d20 222f 6d6f 6e69      url = "/moni
-0000ca40: 746f 7269 6e67 2f76 322f 6273 7369 6473  toring/v2/bssids
-0000ca50: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-0000ca60: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-0000ca70: 2020 2773 6572 6961 6c27 3a20 7365 7269    'serial': seri
-0000ca80: 616c 2c0a 2020 2020 2020 2020 2020 2020  al,.            
-0000ca90: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
-0000caa0: 2020 2020 2020 2020 2020 2020 2273 7761              "swa
-0000cab0: 726d 5f69 6422 3a20 7377 6172 6d5f 6964  rm_id": swarm_id
-0000cac0: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
-0000cad0: 6162 656c 223a 206c 6162 656c 2c0a 2020  abel": label,.  
-0000cae0: 2020 2020 2020 2020 2020 2273 6974 6522            "site"
-0000caf0: 3a20 7369 7465 2c0a 2020 2020 2020 2020  : site,.        
-0000cb00: 2020 2020 276d 6163 6164 6472 273a 206d      'macaddr': m
-0000cb10: 6163 6164 6472 2c0a 2020 2020 2020 2020  acaddr,.        
-0000cb20: 2020 2020 2763 6c75 7374 6572 5f69 6427      'cluster_id'
-0000cb30: 3a20 636c 7573 7465 725f 6964 2c0a 2020  : cluster_id,.  
-0000cb40: 2020 2020 2020 2020 2020 2763 616c 6375            'calcu
-0000cb50: 6c61 7465 5f74 6f74 616c 273a 2063 616c  late_total': cal
-0000cb60: 6375 6c61 7465 5f74 6f74 616c 2c0a 2020  culate_total,.  
-0000cb70: 2020 2020 2020 2020 2020 2773 6f72 7427            'sort'
-0000cb80: 3a20 736f 7274 2c0a 2020 2020 2020 2020  : sort,.        
-0000cb90: 2020 2020 226f 6666 7365 7422 3a20 6f66      "offset": of
-0000cba0: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
-0000cbb0: 2020 226c 696d 6974 223a 206c 696d 6974    "limit": limit
-0000cbc0: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
-0000cbd0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-0000cbe0: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-0000cbf0: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
-0000cc00: 2020 2020 2320 544f 444f 2063 6861 6e67      # TODO chang
-0000cc10: 6520 6465 765f 7479 7065 2074 6f20 7573  e dev_type to us
-0000cc20: 6520 5b67 772c 2073 772c 2063 782c 2061  e [gw, sw, cx, a
-0000cc30: 702c 2073 7769 7463 685d 2020 6d61 6b65  p, switch]  make
-0000cc40: 2063 6f6e 7369 7374 656e 7420 666f 7220   consistent for 
-0000cc50: 616c 6c20 6361 6c6c 730a 2020 2020 6173  all calls.    as
-0000cc60: 796e 6320 6465 6620 6765 745f 6465 7669  ync def get_devi
-0000cc70: 6365 7328 0a20 2020 2020 2020 2073 656c  ces(.        sel
-0000cc80: 662c 0a20 2020 2020 2020 2064 6576 5f74  f,.        dev_t
-0000cc90: 7970 653a 204c 6974 6572 616c 5b22 7377  ype: Literal["sw
-0000cca0: 6974 6368 6573 222c 2022 6170 7322 2c20  itches", "aps", 
-0000ccb0: 2267 6174 6577 6179 7322 5d2c 0a20 2020  "gateways"],.   
-0000ccc0: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
+0000c540: 2020 2020 2063 616c 6375 6c61 7465 5f74       calculate_t
+0000c550: 6f74 616c 3a20 626f 6f6c 203d 204e 6f6e  otal: bool = Non
+0000c560: 652c 0a20 2020 2020 2020 2073 6f72 743a  e,.        sort:
+0000c570: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000c580: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
+0000c590: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
+0000c5a0: 6d69 743a 2069 6e74 203d 2031 3030 302c  mit: int = 1000,
+0000c5b0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+0000c5c0: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
+0000c5d0: 6973 7420 4253 5349 4473 2e0a 0a20 2020  ist BSSIDs...   
+0000c5e0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0000c5f0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
+0000c600: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+0000c610: 6c74 6572 2062 7920 6772 6f75 7020 6e61  lter by group na
+0000c620: 6d65 0a20 2020 2020 2020 2020 2020 2073  me.            s
+0000c630: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
+0000c640: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0000c650: 6279 2053 7761 726d 2049 440a 2020 2020  by Swarm ID.    
+0000c660: 2020 2020 2020 2020 6c61 6265 6c20 2873          label (s
+0000c670: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+0000c680: 696c 7465 7220 6279 204c 6162 656c 206e  ilter by Label n
+0000c690: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+0000c6a0: 7369 7465 2028 7374 722c 206f 7074 696f  site (str, optio
+0000c6b0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+0000c6c0: 5369 7465 206e 616d 650a 2020 2020 2020  Site name.      
+0000c6d0: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
+0000c6e0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+0000c6f0: 6c74 6572 2062 7920 4150 2073 6572 6961  lter by AP seria
+0000c700: 6c20 6e75 6d62 6572 0a20 2020 2020 2020  l number.       
+0000c710: 2020 2020 206d 6163 6164 6472 2028 7374       macaddr (st
+0000c720: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+0000c730: 6c74 6572 2062 7920 4150 204d 4143 2061  lter by AP MAC a
+0000c740: 6464 7265 7373 0a20 2020 2020 2020 2020  ddress.         
+0000c750: 2020 2063 6c75 7374 6572 5f69 6420 2873     cluster_id (s
+0000c760: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+0000c770: 696c 7465 7220 6279 204d 6f62 696c 6974  ilter by Mobilit
+0000c780: 7920 436f 6e74 726f 6c6c 6572 2073 6572  y Controller ser
+0000c790: 6961 6c20 6e75 6d62 6572 0a20 2020 2020  ial number.     
+0000c7a0: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
+0000c7b0: 5f74 6f74 616c 2028 626f 6f6c 2c20 6f70  _total (bool, op
+0000c7c0: 7469 6f6e 616c 293a 2057 6865 7468 6572  tional): Whether
+0000c7d0: 2074 6f20 6361 6c63 756c 6174 6520 746f   to calculate to
+0000c7e0: 7461 6c20 4150 730a 2020 2020 2020 2020  tal APs.        
+0000c7f0: 2020 2020 736f 7274 2028 7374 722c 206f      sort (str, o
+0000c800: 7074 696f 6e61 6c29 3a20 536f 7274 2070  ptional): Sort p
+0000c810: 6172 616d 6574 6572 206d 6179 2062 6520  arameter may be 
+0000c820: 6f6e 6520 6f66 202b 7365 7269 616c 2c20  one of +serial, 
+0000c830: 2d73 6572 6961 6c2c 202b 6d61 6361 6464  -serial, +macadd
+0000c840: 722c 2d6d 6163 6164 6472 2c0a 2020 2020  r,-macaddr,.    
+0000c850: 2020 2020 2020 2020 2020 2020 2b73 7761              +swa
+0000c860: 726d 5f69 642c 202d 7377 6172 6d5f 6964  rm_id, -swarm_id
+0000c870: 2e44 6566 6175 6c74 2069 7320 272b 7365  .Default is '+se
+0000c880: 7269 616c 270a 2020 2020 2020 2020 2020  rial'.          
+0000c890: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+0000c8a0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+0000c8b0: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
+0000c8c0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0000c8d0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0000c8e0: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0000c8f0: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
+0000c900: 4465 6661 756c 7420 6973 2031 3030 2061  Default is 100 a
+0000c910: 6e64 206d 6178 2069 7320 3130 3030 2044  nd max is 1000 D
+0000c920: 6566 6175 6c74 7320 746f 2031 3030 302e  efaults to 1000.
+0000c930: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0000c940: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0000c950: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0000c960: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0000c970: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0000c980: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+0000c990: 6d6f 6e69 746f 7269 6e67 2f76 322f 6273  monitoring/v2/bs
+0000c9a0: 7369 6473 220a 0a20 2020 2020 2020 2070  sids"..        p
+0000c9b0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+0000c9c0: 2020 2020 2020 2773 6572 6961 6c27 3a20        'serial': 
+0000c9d0: 7365 7269 616c 2c0a 2020 2020 2020 2020  serial,.        
+0000c9e0: 2020 2020 2267 726f 7570 223a 2067 726f      "group": gro
+0000c9f0: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
+0000ca00: 2273 7761 726d 5f69 6422 3a20 7377 6172  "swarm_id": swar
+0000ca10: 6d5f 6964 2c0a 2020 2020 2020 2020 2020  m_id,.          
+0000ca20: 2020 226c 6162 656c 223a 206c 6162 656c    "label": label
+0000ca30: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
+0000ca40: 6974 6522 3a20 7369 7465 2c0a 2020 2020  ite": site,.    
+0000ca50: 2020 2020 2020 2020 276d 6163 6164 6472          'macaddr
+0000ca60: 273a 206d 6163 6164 6472 2c0a 2020 2020  ': macaddr,.    
+0000ca70: 2020 2020 2020 2020 2763 6c75 7374 6572          'cluster
+0000ca80: 5f69 6427 3a20 636c 7573 7465 725f 6964  _id': cluster_id
+0000ca90: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
+0000caa0: 616c 6375 6c61 7465 5f74 6f74 616c 273a  alculate_total':
+0000cab0: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
+0000cac0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0000cad0: 6f72 7427 3a20 736f 7274 2c0a 2020 2020  ort': sort,.    
+0000cae0: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
+0000caf0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
+0000cb00: 2020 2020 2020 226c 696d 6974 223a 206c        "limit": l
+0000cb10: 696d 6974 2c0a 2020 2020 2020 2020 7d0a  imit,.        }.
+0000cb20: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000cb30: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+0000cb40: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+0000cb50: 7329 0a0a 2020 2020 2320 544f 444f 2063  s)..    # TODO c
+0000cb60: 6861 6e67 6520 6465 765f 7479 7065 2074  hange dev_type t
+0000cb70: 6f20 7573 6520 5b67 772c 2073 772c 2063  o use [gw, sw, c
+0000cb80: 782c 2061 702c 2073 7769 7463 685d 2020  x, ap, switch]  
+0000cb90: 6d61 6b65 2063 6f6e 7369 7374 656e 7420  make consistent 
+0000cba0: 666f 7220 616c 6c20 6361 6c6c 730a 2020  for all calls.  
+0000cbb0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000cbc0: 6465 7669 6365 7328 0a20 2020 2020 2020  devices(.       
+0000cbd0: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
+0000cbe0: 6576 5f74 7970 653a 204c 6974 6572 616c  ev_type: Literal
+0000cbf0: 5b22 7377 6974 6368 6573 222c 2022 6170  ["switches", "ap
+0000cc00: 7322 2c20 2267 6174 6577 6179 7322 5d2c  s", "gateways"],
+0000cc10: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+0000cc20: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000cc30: 2020 2020 6c61 6265 6c3a 2073 7472 203d      label: str =
+0000cc40: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+0000cc50: 7461 636b 5f69 643a 2073 7472 203d 204e  tack_id: str = N
+0000cc60: 6f6e 652c 0a20 2020 2020 2020 2073 7761  one,.        swa
+0000cc70: 726d 5f69 643a 2073 7472 203d 204e 6f6e  rm_id: str = Non
+0000cc80: 652c 0a20 2020 2020 2020 2073 6572 6961  e,.        seria
+0000cc90: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
+0000cca0: 2020 2020 2020 2073 7461 7475 733a 2073         status: s
+0000ccb0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0000ccc0: 2020 2066 6965 6c64 733a 206c 6973 7420     fields: list 
 0000ccd0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000cce0: 6c61 6265 6c3a 2073 7472 203d 204e 6f6e  label: str = Non
-0000ccf0: 652c 0a20 2020 2020 2020 2073 7461 636b  e,.        stack
-0000cd00: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
-0000cd10: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
-0000cd20: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
-0000cd30: 2020 2020 2020 2073 6572 6961 6c3a 2073         serial: s
-0000cd40: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000cd50: 2020 2073 7461 7475 733a 2073 7472 203d     status: str =
-0000cd60: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
-0000cd70: 6965 6c64 733a 206c 6973 7420 3d20 4e6f  ields: list = No
-0000cd80: 6e65 2c0a 2020 2020 2020 2020 7368 6f77  ne,.        show
-0000cd90: 5f72 6573 6f75 7263 655f 6465 7461 696c  _resource_detail
-0000cda0: 733a 2062 6f6f 6c20 3d20 4661 6c73 652c  s: bool = False,
-0000cdb0: 0a20 2020 2020 2020 2063 6c75 7374 6572  .        cluster
-0000cdc0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
-0000cdd0: 0a20 2020 2020 2020 206d 6f64 656c 3a20  .        model: 
-0000cde0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000cdf0: 2020 2020 6361 6c63 756c 6174 655f 636c      calculate_cl
-0000ce00: 6965 6e74 5f63 6f75 6e74 3a20 626f 6f6c  ient_count: bool
-0000ce10: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-0000ce20: 2020 6361 6c63 756c 6174 655f 7373 6964    calculate_ssid
-0000ce30: 5f63 6f75 6e74 3a20 626f 6f6c 203d 2046  _count: bool = F
-0000ce40: 616c 7365 2c0a 2020 2020 2020 2020 6d61  alse,.        ma
-0000ce50: 6361 6464 723a 2073 7472 203d 204e 6f6e  caddr: str = Non
-0000ce60: 652c 0a20 2020 2020 2020 2070 7562 6c69  e,.        publi
-0000ce70: 635f 6970 5f61 6464 7265 7373 3a20 7374  c_ip_address: st
-0000ce80: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0000ce90: 2020 7369 7465 3a20 7374 7220 3d20 4e6f    site: str = No
-0000cea0: 6e65 2c0a 2020 2020 2020 2020 6c69 6d69  ne,.        limi
-0000ceb0: 743a 2069 6e74 203d 2031 3030 302c 2020  t: int = 1000,  
-0000cec0: 2320 6d61 7820 616c 6c6f 7765 6420 3130  # max allowed 10
-0000ced0: 3030 0a20 2020 2020 2020 206f 6666 7365  00.        offse
-0000cee0: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
-0000cef0: 2020 2020 2320 736f 7274 3a20 7374 7220      # sort: str 
-0000cf00: 3d20 4e6f 6e65 2c0a 2020 2020 2920 2d3e  = None,.    ) ->
-0000cf10: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0000cf20: 2020 2022 2222 4765 7420 4465 7669 6365     """Get Device
-0000cf30: 7320 6672 6f6d 2041 7275 6261 2043 656e  s from Aruba Cen
-0000cf40: 7472 616c 2041 5049 2047 6174 6577 6179  tral API Gateway
-0000cf50: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
-0000cf60: 6420 6279 2073 686f 7720 3c22 6170 7322  d by show <"aps"
-0000cf70: 7c22 6761 7465 7761 7973 227c 2273 7769  |"gateways"|"swi
-0000cf80: 7463 6865 7322 3e20 2f2f 0a0a 2020 2020  tches"> //..    
-0000cf90: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-0000cfa0: 2020 2020 2020 6465 765f 7479 7065 2028        dev_type (
-0000cfb0: 4c69 7465 7261 6c5b 2273 7769 7463 6865  Literal["switche
-0000cfc0: 7322 2c20 2261 7073 222c 2022 6761 7465  s", "aps", "gate
-0000cfd0: 7761 7973 2229 3a20 5479 7065 206f 6620  ways"): Type of 
-0000cfe0: 6465 7669 6365 7320 746f 2067 6574 2e0a  devices to get..
-0000cff0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-0000d000: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
-0000d010: 293a 2046 696c 7465 7220 6f6e 2073 7065  ): Filter on spe
-0000d020: 6369 6669 6320 6772 6f75 702e 2044 6566  cific group. Def
-0000d030: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-0000d040: 2020 2020 2020 2020 2020 206c 6162 656c             label
-0000d050: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0000d060: 3a20 4669 6c74 6572 2062 7920 6c61 6265  : Filter by labe
-0000d070: 6c2e 2044 6566 6175 6c74 7320 746f 204e  l. Defaults to N
-0000d080: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-0000d090: 2073 7461 636b 5f69 6420 2873 7472 2c20   stack_id (str, 
-0000d0a0: 6f70 7469 6f6e 616c 293a 2052 6574 7572  optional): Retur
-0000d0b0: 6e20 7377 6974 6368 2077 6974 6820 7370  n switch with sp
-0000d0c0: 6563 6966 6963 2073 7461 636b 5f69 642e  ecific stack_id.
-0000d0d0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-0000d0e0: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
-0000d0f0: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
-0000d100: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
-0000d110: 4150 7320 7769 7468 2061 2073 7065 6369  APs with a speci
-0000d120: 6669 6320 7377 6172 6d5f 6964 2e20 4465  fic swarm_id. De
-0000d130: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-0000d140: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-0000d150: 616c 2028 7374 722c 206f 7074 696f 6e61  al (str, optiona
-0000d160: 6c29 3a20 5265 7475 726e 2074 6865 2064  l): Return the d
-0000d170: 6576 6963 6520 7769 7468 2073 6572 6961  evice with seria
-0000d180: 6c20 6e75 6d62 6572 2e20 4465 6661 756c  l number. Defaul
-0000d190: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-0000d1a0: 2020 2020 2020 2020 7374 6174 7573 2028          status (
-0000d1b0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0000d1c0: 4669 6c74 6572 2062 7920 7374 6174 7573  Filter by status
-0000d1d0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-0000d1e0: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-0000d1f0: 6669 656c 6473 2028 6c69 7374 2c20 6f70  fields (list, op
-0000d200: 7469 6f6e 616c 293a 2052 6574 7572 6e20  tional): Return 
-0000d210: 7370 6563 6966 6963 2066 6965 6c64 7320  specific fields 
-0000d220: 666f 7220 6465 7669 6365 2e20 4465 6661  for device. Defa
-0000d230: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
-0000d240: 2020 2020 2020 2020 2020 7368 6f77 5f72            show_r
-0000d250: 6573 6f75 7263 655f 6465 7461 696c 7320  esource_details 
-0000d260: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-0000d270: 3a20 5368 6f77 2072 6573 6f75 7263 6520  : Show resource 
-0000d280: 7574 696c 697a 6174 696f 6e2e 2044 6566  utilization. Def
-0000d290: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
-0000d2a0: 2020 2020 2020 2020 2020 2020 636c 7573              clus
-0000d2b0: 7465 725f 6964 2028 7374 722c 206f 7074  ter_id (str, opt
-0000d2c0: 696f 6e61 6c29 3a20 5265 7475 726e 2067  ional): Return g
-0000d2d0: 6174 6577 6179 7320 7769 7468 2061 2073  ateways with a s
-0000d2e0: 7065 6369 6669 6320 636c 7573 7465 725f  pecific cluster_
-0000d2f0: 6964 2e20 4465 6661 756c 7473 2074 6f20  id. Defaults to 
-0000d300: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
-0000d310: 2020 6d6f 6465 6c20 2873 7472 2c20 6f70    model (str, op
-0000d320: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0000d330: 6279 2064 6576 6963 6520 6d6f 6465 6c2e  by device model.
-0000d340: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-0000d350: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
-0000d360: 616c 6375 6c61 7465 5f63 6c69 656e 745f  alculate_client_
-0000d370: 636f 756e 7420 2862 6f6f 6c2c 206f 7074  count (bool, opt
-0000d380: 696f 6e61 6c29 3a20 4361 6c63 756c 6174  ional): Calculat
-0000d390: 6520 636c 6965 6e74 2063 6f75 6e74 2066  e client count f
-0000d3a0: 6f72 2065 6163 6820 6465 7669 6365 2e20  or each device. 
-0000d3b0: 4465 6661 756c 7473 2074 6f20 4661 6c73  Defaults to Fals
-0000d3c0: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
-0000d3d0: 616c 6375 6c61 7465 5f73 7369 645f 636f  alculate_ssid_co
-0000d3e0: 756e 7420 2862 6f6f 6c2c 206f 7074 696f  unt (bool, optio
-0000d3f0: 6e61 6c29 3a20 4361 6c63 756c 6174 6520  nal): Calculate 
-0000d400: 5353 4944 2063 6f75 6e74 2066 6f72 2065  SSID count for e
-0000d410: 6163 6820 4150 2e20 4465 6661 756c 7473  ach AP. Defaults
-0000d420: 2074 6f20 4661 6c73 652e 0a20 2020 2020   to False..     
-0000d430: 2020 2020 2020 206d 6163 6164 6472 2028         macaddr (
-0000d440: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0000d450: 5265 7475 726e 2064 6576 6963 6520 7769  Return device wi
-0000d460: 7468 2073 7065 6369 6669 6320 4d41 4320  th specific MAC 
-0000d470: 2866 757a 7a79 206d 6174 6368 292e 2044  (fuzzy match). D
-0000d480: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
-0000d490: 0a20 2020 2020 2020 2020 2020 2070 7562  .            pub
-0000d4a0: 6c69 635f 6970 5f61 6464 7265 7373 2028  lic_ip_address (
-0000d4b0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0000d4c0: 4669 6c74 6572 2064 6576 6963 6573 2062  Filter devices b
-0000d4d0: 7920 5075 626c 6963 2049 502e 2044 6566  y Public IP. Def
-0000d4e0: 6175 6c74 7320 746f 204e 6f6e 652e 0a20  aults to None.. 
-0000d4f0: 2020 2020 2020 2020 2020 2073 6974 6520             site 
-0000d500: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000d510: 2046 696c 7465 7220 6279 2073 6974 652e   Filter by site.
-0000d520: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-0000d530: 652e 0a20 2020 2020 2020 2020 2020 206f  e..            o
-0000d540: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
-0000d550: 6f6e 616c 293a 2050 6167 696e 6174 696f  onal): Paginatio
-0000d560: 6e20 6f66 6673 6574 2044 6566 6175 6c74  n offset Default
-0000d570: 7320 746f 2030 2e0a 2020 2020 2020 2020  s to 0..        
-0000d580: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
-0000d590: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-0000d5a0: 6174 696f 6e20 6c69 6d69 742e 204d 6178  ation limit. Max
-0000d5b0: 2069 7320 3130 3030 2044 6566 6175 6c74   is 1000 Default
-0000d5c0: 7320 746f 2035 3030 2e0a 0a20 2020 2020  s to 500...     
-0000d5d0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0000d5e0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0000d5f0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0000d600: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0000d610: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000d620: 2064 6576 5f70 6172 616d 7320 3d20 7b0a   dev_params = {.
-0000d630: 2020 2020 2020 2020 2020 2020 2261 7073              "aps
-0000d640: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
-0000d650: 2020 2020 2027 7365 7269 616c 273a 2073       'serial': s
-0000d660: 6572 6961 6c2c 0a20 2020 2020 2020 2020  erial,.         
-0000d670: 2020 2020 2020 2027 6d61 6361 6464 7227         'macaddr'
-0000d680: 3a20 6d61 6361 6464 722c 0a20 2020 2020  : macaddr,.     
-0000d690: 2020 2020 2020 2020 2020 2022 7377 6172             "swar
-0000d6a0: 6d5f 6964 223a 2073 7761 726d 5f69 642c  m_id": swarm_id,
-0000d6b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d6c0: 2027 6d6f 6465 6c27 3a20 6d6f 6465 6c2c   'model': model,
-0000d6d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d6e0: 2027 636c 7573 7465 725f 6964 273a 2063   'cluster_id': c
-0000d6f0: 6c75 7374 6572 5f69 642c 0a20 2020 2020  luster_id,.     
-0000d700: 2020 2020 2020 2020 2020 2027 6669 656c             'fiel
-0000d710: 6473 273a 2066 6965 6c64 732c 0a20 2020  ds': fields,.   
-0000d720: 2020 2020 2020 2020 2020 2020 2027 6361               'ca
-0000d730: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000d740: 6f75 6e74 273a 2073 7472 2863 616c 6375  ount': str(calcu
-0000d750: 6c61 7465 5f63 6c69 656e 745f 636f 756e  late_client_coun
-0000d760: 7429 2e6c 6f77 6572 2829 2c0a 2020 2020  t).lower(),.    
-0000d770: 2020 2020 2020 2020 2020 2020 2763 616c              'cal
-0000d780: 6375 6c61 7465 5f73 7369 645f 636f 756e  culate_ssid_coun
-0000d790: 7427 3a20 7374 7228 6361 6c63 756c 6174  t': str(calculat
-0000d7a0: 655f 7373 6964 5f63 6f75 6e74 292e 6c6f  e_ssid_count).lo
-0000d7b0: 7765 7228 292c 0a20 2020 2020 2020 2020  wer(),.         
-0000d7c0: 2020 2020 2020 2027 7368 6f77 5f72 6573         'show_res
-0000d7d0: 6f75 7263 655f 6465 7461 696c 7327 3a20  ource_details': 
-0000d7e0: 7374 7228 7368 6f77 5f72 6573 6f75 7263  str(show_resourc
-0000d7f0: 655f 6465 7461 696c 7329 2e6c 6f77 6572  e_details).lower
-0000d800: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
-0000d810: 7d2c 0a20 2020 2020 2020 2020 2020 2022  },.            "
-0000d820: 7377 6974 6368 6573 223a 207b 0a20 2020  switches": {.   
-0000d830: 2020 2020 2020 2020 2020 2020 2027 7374               'st
-0000d840: 6163 6b5f 6964 273a 2073 7461 636b 5f69  ack_id': stack_i
-0000d850: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
-0000d860: 2020 2027 7368 6f77 5f72 6573 6f75 7263     'show_resourc
-0000d870: 655f 6465 7461 696c 7327 3a20 7374 7228  e_details': str(
-0000d880: 7368 6f77 5f72 6573 6f75 7263 655f 6465  show_resource_de
-0000d890: 7461 696c 7329 2e6c 6f77 6572 2829 2c0a  tails).lower(),.
-0000d8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d8b0: 2763 616c 6375 6c61 7465 5f63 6c69 656e  'calculate_clien
-0000d8c0: 745f 636f 756e 7427 3a20 7374 7228 6361  t_count': str(ca
-0000d8d0: 6c63 756c 6174 655f 636c 6965 6e74 5f63  lculate_client_c
-0000d8e0: 6f75 6e74 292e 6c6f 7765 7228 292c 0a20  ount).lower(),. 
-0000d8f0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0000d900: 7075 626c 6963 5f69 705f 6164 6472 6573  public_ip_addres
-0000d910: 7327 3a20 7075 626c 6963 5f69 705f 6164  s': public_ip_ad
-0000d920: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
-0000d930: 2020 207d 2c0a 2020 2020 2020 2020 2020     },.          
-0000d940: 2020 2267 6174 6577 6179 7322 3a20 7b0a    "gateways": {.
-0000d950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d960: 276d 6163 6164 6472 273a 206d 6163 6164  'macaddr': macad
-0000d970: 6472 2c0a 2020 2020 2020 2020 2020 2020  dr,.            
-0000d980: 2020 2020 276d 6f64 656c 273a 206d 6f64      'model': mod
-0000d990: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
-0000d9a0: 2020 2020 2766 6965 6c64 7327 3a20 6669      'fields': fi
-0000d9b0: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
-0000d9c0: 2020 7d0a 2020 2020 2020 2020 7d0a 2020    }.        }.  
-0000d9d0: 2020 2020 2020 636f 6d6d 6f6e 5f70 6172        common_par
-0000d9e0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-0000d9f0: 2020 2020 2267 726f 7570 223a 2067 726f      "group": gro
-0000da00: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-0000da10: 226c 6162 656c 223a 206c 6162 656c 2c0a  "label": label,.
-0000da20: 2020 2020 2020 2020 2020 2020 2773 6974              'sit
-0000da30: 6527 3a20 7369 7465 2c0a 2020 2020 2020  e': site,.      
-0000da40: 2020 2020 2020 2773 7461 7475 7327 3a20        'status': 
-0000da50: 4e6f 6e65 2069 6620 6e6f 7420 7374 6174  None if not stat
-0000da60: 7573 2065 6c73 6520 7374 6174 7573 2e74  us else status.t
-0000da70: 6974 6c65 2829 2c0a 2020 2020 2020 2020  itle(),.        
-0000da80: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
-0000da90: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
-0000daa0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
-0000dab0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-0000dac0: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
-0000dad0: 6974 6f72 696e 672f 7631 2f7b 6465 765f  itoring/v1/{dev_
-0000dae0: 7479 7065 7d22 0a20 2020 2020 2020 2069  type}".        i
-0000daf0: 6620 6465 765f 7479 7065 203d 3d20 2261  f dev_type == "a
-0000db00: 7073 223a 0a20 2020 2020 2020 2020 2020  ps":.           
-0000db10: 2075 726c 203d 2075 726c 2e72 6570 6c61   url = url.repla
-0000db20: 6365 2822 7631 222c 2022 7632 2229 0a20  ce("v1", "v2"). 
-0000db30: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0000db40: 7b2a 2a63 6f6d 6d6f 6e5f 7061 7261 6d73  {**common_params
-0000db50: 2c20 2a2a 6465 765f 7061 7261 6d73 5b64  , **dev_params[d
-0000db60: 6576 5f74 7970 655d 7d0a 0a20 2020 2020  ev_type]}..     
-0000db70: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0000db80: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-0000db90: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
-0000dba0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-0000dbb0: 6465 765f 6465 7461 696c 7328 0a20 2020  dev_details(.   
-0000dbc0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0000dbd0: 2020 2064 6576 5f74 7970 653a 204c 6974     dev_type: Lit
-0000dbe0: 6572 616c 5b22 7377 6974 6368 6573 222c  eral["switches",
-0000dbf0: 2022 6170 7322 2c20 2267 6174 6577 6179   "aps", "gateway
-0000dc00: 7322 5d2c 0a20 2020 2020 2020 2073 6572  s"],.        ser
-0000dc10: 6961 6c3a 2073 7472 0a20 2020 2029 202d  ial: str.    ) -
-0000dc20: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0000dc30: 2020 2020 2222 2252 6574 7572 6e20 4465      """Return De
-0000dc40: 7461 696c 7320 666f 7220 6120 6769 7665  tails for a give
-0000dc50: 6e20 6465 7669 6365 0a0a 2020 2020 2020  n device..      
-0000dc60: 2020 2f2f 2055 7365 6420 6279 2073 686f    // Used by sho
-0000dc70: 7720 6465 7669 6365 5b73 5d20 3c64 6576  w device[s] <dev
-0000dc80: 6963 6520 6964 656e 3e20 2f2f 0a0a 2020  ice iden> //..  
-0000dc90: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0000dca0: 2020 2020 2020 2020 6465 765f 7479 7065          dev_type
-0000dcb0: 2028 7374 7229 3a20 4465 7669 6365 2054   (str): Device T
-0000dcc0: 7970 650a 2020 2020 2020 2020 2020 2020  ype.            
-0000dcd0: 2020 2020 5661 6c69 6420 5661 6c75 6573      Valid Values
-0000dce0: 3a20 2267 6174 6577 6179 7322 2c20 2261  : "gateways", "a
-0000dcf0: 7073 222c 2022 7377 6974 6368 6573 220a  ps", "switches".
-0000dd00: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-0000dd10: 616c 2028 7374 7229 3a20 5365 7269 616c  al (str): Serial
-0000dd20: 206e 756d 6265 7220 6f66 2044 6576 6963   number of Devic
-0000dd30: 650a 0a20 2020 2020 2020 2052 6574 7572  e..        Retur
-0000dd40: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0000dd50: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0000dd60: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0000dd70: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0000dd80: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-0000dd90: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
-0000dda0: 7b64 6576 5f74 7970 657d 2f7b 7365 7269  {dev_type}/{seri
-0000ddb0: 616c 7d22 0a20 2020 2020 2020 2072 6574  al}".        ret
-0000ddc0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0000ddd0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
-0000dde0: 6e63 2064 6566 206d 6f6e 6974 6f72 696e  nc def monitorin
-0000ddf0: 675f 6765 745f 6d63 7328 0a20 2020 2020  g_get_mcs(.     
-0000de00: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0000de10: 2067 726f 7570 3a20 7374 7220 3d20 4e6f   group: str = No
-0000de20: 6e65 2c0a 2020 2020 2020 2020 6c61 6265  ne,.        labe
-0000de30: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-0000de40: 2020 2020 2020 2073 6974 653a 2073 7472         site: str
-0000de50: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000de60: 2073 7461 7475 733a 2073 7472 203d 204e   status: str = N
-0000de70: 6f6e 652c 0a20 2020 2020 2020 206d 6163  one,.        mac
-0000de80: 6164 6472 3a20 7374 7220 3d20 4e6f 6e65  addr: str = None
-0000de90: 2c0a 2020 2020 2020 2020 6d6f 6465 6c3a  ,.        model:
-0000dea0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000deb0: 2020 2020 2066 6965 6c64 733a 2073 7472       fields: str
-0000dec0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000ded0: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
-0000dee0: 3a20 626f 6f6c 203d 204e 6f6e 652c 0a20  : bool = None,. 
-0000def0: 2020 2020 2020 2073 6f72 743a 2073 7472         sort: str
-0000df00: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0000df10: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
-0000df20: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
-0000df30: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
-0000df40: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0000df50: 2020 2020 2020 2022 2222 4c69 7374 204d         """List M
-0000df60: 6f62 696c 6974 7920 436f 6e74 726f 6c6c  obility Controll
-0000df70: 6572 732e 0a0a 2020 2020 2020 2020 596f  ers...        Yo
-0000df80: 7520 6361 6e20 6f6e 6c79 2073 7065 6369  u can only speci
-0000df90: 6679 206f 6e65 206f 6620 6772 6f75 702c  fy one of group,
-0000dfa0: 206c 6162 656c 2c20 7369 7465 0a0a 2020   label, site..  
-0000dfb0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0000dfc0: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-0000dfd0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-0000dfe0: 696c 7465 7220 6279 2067 726f 7570 206e  ilter by group n
-0000dff0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-0000e000: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
-0000e010: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000e020: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
-0000e030: 2020 2020 2020 2020 7369 7465 2028 7374          site (st
-0000e040: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-0000e050: 6c74 6572 2062 7920 5369 7465 206e 616d  lter by Site nam
-0000e060: 650a 2020 2020 2020 2020 2020 2020 7374  e.            st
-0000e070: 6174 7573 2028 7374 722c 206f 7074 696f  atus (str, optio
-0000e080: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
-0000e090: 4d6f 6269 6c69 7479 2043 6f6e 7472 6f6c  Mobility Control
-0000e0a0: 6c65 7220 7374 6174 7573 0a20 2020 2020  ler status.     
-0000e0b0: 2020 2020 2020 206d 6163 6164 6472 2028         macaddr (
-0000e0c0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0000e0d0: 4669 6c74 6572 2062 7920 4d6f 6269 6c69  Filter by Mobili
-0000e0e0: 7479 2043 6f6e 7472 6f6c 6c65 7220 4d41  ty Controller MA
-0000e0f0: 4320 6164 6472 6573 730a 2020 2020 2020  C address.      
-0000e100: 2020 2020 2020 6d6f 6465 6c20 2873 7472        model (str
-0000e110: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-0000e120: 7465 7220 6279 204d 6f62 696c 6974 7920  ter by Mobility 
-0000e130: 436f 6e74 726f 6c6c 6572 204d 6f64 656c  Controller Model
-0000e140: 0a20 2020 2020 2020 2020 2020 2066 6965  .            fie
-0000e150: 6c64 7320 2873 7472 2c20 6f70 7469 6f6e  lds (str, option
-0000e160: 616c 293a 2043 6f6d 6d61 2073 6570 6172  al): Comma separ
-0000e170: 6174 6564 206c 6973 7420 6f66 2066 6965  ated list of fie
-0000e180: 6c64 7320 746f 2062 6520 7265 7475 726e  lds to be return
-0000e190: 6564 2e20 5661 6c69 6420 6669 656c 6473  ed. Valid fields
-0000e1a0: 2061 7265 0a20 2020 2020 2020 2020 2020   are.           
-0000e1b0: 2020 2020 2073 7461 7475 732c 2069 705f       status, ip_
-0000e1c0: 6164 6472 6573 732c 206d 6f64 656c 2c20  address, model, 
-0000e1d0: 6669 726d 7761 7265 5f76 6572 7369 6f6e  firmware_version
-0000e1e0: 2c20 6c61 6265 6c73 2c20 6170 5f63 6f75  , labels, ap_cou
-0000e1f0: 6e74 2c20 7573 6167 650a 2020 2020 2020  nt, usage.      
-0000e200: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
-0000e210: 746f 7461 6c20 2862 6f6f 6c2c 206f 7074  total (bool, opt
-0000e220: 696f 6e61 6c29 3a20 5768 6574 6865 7220  ional): Whether 
-0000e230: 746f 2063 616c 6375 6c61 7465 2074 6f74  to calculate tot
-0000e240: 616c 204d 6f62 696c 6974 7920 436f 6e74  al Mobility Cont
-0000e250: 726f 6c6c 6572 730a 2020 2020 2020 2020  rollers.        
-0000e260: 2020 2020 736f 7274 2028 7374 722c 206f      sort (str, o
-0000e270: 7074 696f 6e61 6c29 3a20 536f 7274 2070  ptional): Sort p
-0000e280: 6172 616d 6574 6572 206d 6179 2062 6520  arameter may be 
-0000e290: 6f6e 6520 6f66 202b 7365 7269 616c 2c20  one of +serial, 
-0000e2a0: 2d73 6572 6961 6c2c 202b 6d61 6361 6464  -serial, +macadd
-0000e2b0: 722c 202d 6d61 6361 6464 722e 0a20 2020  r, -macaddr..   
-0000e2c0: 2020 2020 2020 2020 2020 2020 2044 6566               Def
-0000e2d0: 6175 6c74 2069 7320 272b 7365 7269 616c  ault is '+serial
-0000e2e0: 270a 2020 2020 2020 2020 2020 2020 6f66  '.            of
-0000e2f0: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
-0000e300: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-0000e310: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
-0000e320: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
-0000e330: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-0000e340: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-0000e350: 7469 6f6e 206c 696d 6974 2e20 4d61 7820  tion limit. Max 
-0000e360: 6973 2031 3030 3020 4465 6661 756c 7473  is 1000 Defaults
-0000e370: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
-0000e380: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0000e390: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0000e3a0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0000e3b0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0000e3c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0000e3d0: 7572 6c20 3d20 222f 6d6f 6e69 746f 7269  url = "/monitori
-0000e3e0: 6e67 2f76 312f 6d6f 6269 6c69 7479 5f63  ng/v1/mobility_c
-0000e3f0: 6f6e 7472 6f6c 6c65 7273 220a 0a20 2020  ontrollers"..   
-0000e400: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-0000e410: 2020 2020 2020 2020 2020 2020 2267 726f              "gro
-0000e420: 7570 223a 2067 726f 7570 2c0a 2020 2020  up": group,.    
-0000e430: 2020 2020 2020 2020 226c 6162 656c 223a          "label":
-0000e440: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
-0000e450: 2020 2020 2273 6974 6522 3a20 7369 7465      "site": site
-0000e460: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-0000e470: 7461 7475 7322 3a20 7374 6174 7573 2c0a  tatus": status,.
-0000e480: 2020 2020 2020 2020 2020 2020 226d 6163              "mac
-0000e490: 6164 6472 223a 206d 6163 6164 6472 2c0a  addr": macaddr,.
-0000e4a0: 2020 2020 2020 2020 2020 2020 226d 6f64              "mod
-0000e4b0: 656c 223a 206d 6f64 656c 2c0a 2020 2020  el": model,.    
-0000e4c0: 2020 2020 2020 2020 2266 6965 6c64 7322          "fields"
-0000e4d0: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
-0000e4e0: 2020 2020 2020 2263 616c 6375 6c61 7465        "calculate
-0000e4f0: 5f74 6f74 616c 223a 2063 616c 6375 6c61  _total": calcula
-0000e500: 7465 5f74 6f74 616c 2c0a 2020 2020 2020  te_total,.      
-0000e510: 2020 2020 2020 2273 6f72 7422 3a20 736f        "sort": so
-0000e520: 7274 2c0a 2020 2020 2020 2020 2020 2020  rt,.            
-0000e530: 226f 6666 7365 7422 3a20 6f66 6673 6574  "offset": offset
-0000e540: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
-0000e550: 696d 6974 223a 206c 696d 6974 2c0a 2020  imit": limit,.  
-0000e560: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0000e570: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0000e580: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-0000e590: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-0000e5a0: 6173 796e 6320 6465 6620 6765 745f 776c  async def get_wl
-0000e5b0: 616e 7328 0a20 2020 2020 2020 2073 656c  ans(.        sel
-0000e5c0: 662c 0a20 2020 2020 2020 206e 616d 653a  f,.        name:
-0000e5d0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0000e5e0: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
-0000e5f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000e600: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
-0000e610: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
-0000e620: 6265 6c3a 2073 7472 203d 204e 6f6e 652c  bel: str = None,
-0000e630: 0a20 2020 2020 2020 2073 6974 653a 2073  .        site: s
-0000e640: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0000e650: 2020 2063 616c 6375 6c61 7465 5f63 6c69     calculate_cli
-0000e660: 656e 745f 636f 756e 743a 2062 6f6f 6c20  ent_count: bool 
-0000e670: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000e680: 736f 7274 5f62 793a 2073 7472 203d 204e  sort_by: str = N
-0000e690: 6f6e 650a 2020 2020 2920 2d3e 2052 6573  one.    ) -> Res
-0000e6a0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0000e6b0: 2222 4c69 7374 2061 6c6c 2057 4c41 4e73  ""List all WLANs
-0000e6c0: 2028 5353 4944 7329 2e0a 0a20 2020 2020   (SSIDs)...     
-0000e6d0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0000e6e0: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
-0000e6f0: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-0000e700: 6572 2062 7920 6772 6f75 7020 6e61 6d65  er by group name
-0000e710: 0a20 2020 2020 2020 2020 2020 2073 7761  .            swa
-0000e720: 726d 5f69 6420 2873 7472 2c20 6f70 7469  rm_id (str, opti
-0000e730: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000e740: 2053 7761 726d 2049 440a 2020 2020 2020   Swarm ID.      
-0000e750: 2020 2020 2020 6c61 6265 6c20 2873 7472        label (str
-0000e760: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-0000e770: 7465 7220 6279 204c 6162 656c 206e 616d  ter by Label nam
-0000e780: 650a 2020 2020 2020 2020 2020 2020 7369  e.            si
-0000e790: 7465 2028 7374 722c 206f 7074 696f 6e61  te (str, optiona
-0000e7a0: 6c29 3a20 4669 6c74 6572 2062 7920 5369  l): Filter by Si
-0000e7b0: 7465 206e 616d 650a 2020 2020 2020 2020  te name.        
-0000e7c0: 2020 2020 6361 6c63 756c 6174 655f 636c      calculate_cl
-0000e7d0: 6965 6e74 5f63 6f75 6e74 2028 626f 6f6c  ient_count (bool
-0000e7e0: 2c20 6f70 7469 6f6e 616c 293a 2057 6865  , optional): Whe
-0000e7f0: 7468 6572 2074 6f20 6361 6c63 756c 6174  ther to calculat
-0000e800: 6520 636c 6965 6e74 2063 6f75 6e74 2070  e client count p
-0000e810: 6572 2053 5349 440a 2020 2020 2020 2020  er SSID.        
-0000e820: 2020 2020 736f 7274 5f62 7920 2873 7472      sort_by (str
-0000e830: 2c20 6f70 7469 6f6e 616c 293a 2053 6f72  , optional): Sor
-0000e840: 7420 7061 7261 6d65 7465 7220 6d61 7920  t parameter may 
-0000e850: 6265 206f 6e65 206f 6620 2b65 7373 6964  be one of +essid
-0000e860: 2c20 2d65 7373 6964 2e20 4465 6661 756c  , -essid. Defaul
-0000e870: 7420 6973 2027 2b65 7373 6964 270a 0a20  t is '+essid'.. 
-0000e880: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0000e890: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0000e8a0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0000e8b0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0000e8c0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000e8d0: 2020 2020 2075 726c 203d 2022 2f6d 6f6e       url = "/mon
-0000e8e0: 6974 6f72 696e 672f 7632 2f6e 6574 776f  itoring/v2/netwo
-0000e8f0: 726b 7322 0a20 2020 2020 2020 2069 6620  rks".        if 
-0000e900: 6e61 6d65 3a0a 2020 2020 2020 2020 2020  name:.          
-0000e910: 2020 7572 6c20 3d20 6622 7b75 726c 7d2f    url = f"{url}/
-0000e920: 7b6e 616d 657d 220a 0a20 2020 2020 2020  {name}"..       
-0000e930: 2069 6620 6361 6c63 756c 6174 655f 636c   if calculate_cl
-0000e940: 6965 6e74 5f63 6f75 6e74 2069 6e20 5b54  ient_count in [T
-0000e950: 7275 652c 2046 616c 7365 5d3a 0a20 2020  rue, False]:.   
-0000e960: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
-0000e970: 7465 5f63 6c69 656e 745f 636f 756e 7420  te_client_count 
-0000e980: 3d20 7374 7228 6361 6c63 756c 6174 655f  = str(calculate_
-0000e990: 636c 6965 6e74 5f63 6f75 6e74 290a 0a20  client_count).. 
-0000e9a0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0000e9b0: 7b0a 2020 2020 2020 2020 2020 2020 2767  {.            'g
-0000e9c0: 726f 7570 273a 2067 726f 7570 2c0a 2020  roup': group,.  
-0000e9d0: 2020 2020 2020 2020 2020 2773 7761 726d            'swarm
-0000e9e0: 5f69 6427 3a20 7377 6172 6d5f 6964 2c0a  _id': swarm_id,.
-0000e9f0: 2020 2020 2020 2020 2020 2020 276c 6162              'lab
-0000ea00: 656c 273a 206c 6162 656c 2c0a 2020 2020  el': label,.    
-0000ea10: 2020 2020 2020 2020 2773 6974 6527 3a20          'site': 
-0000ea20: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
-0000ea30: 2020 2763 616c 6375 6c61 7465 5f63 6c69    'calculate_cli
-0000ea40: 656e 745f 636f 756e 7427 3a20 6361 6c63  ent_count': calc
-0000ea50: 756c 6174 655f 636c 6965 6e74 5f63 6f75  ulate_client_cou
-0000ea60: 6e74 2c0a 2020 2020 2020 2020 2020 2020  nt,.            
-0000ea70: 2773 6f72 7427 3a20 736f 7274 5f62 792c  'sort': sort_by,
-0000ea80: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-0000ea90: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0000eaa0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-0000eab0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-0000eac0: 2020 2023 2041 5049 2d46 4c41 5720 5468     # API-FLAW Th
-0000ead0: 6973 206d 6574 686f 6420 7265 7475 726e  is method return
-0000eae0: 7320 6e65 7874 2074 6f20 6e6f 7468 696e  s next to nothin
-0000eaf0: 6720 666f 7220 7265 7365 7276 6564 2049  g for reserved I
-0000eb00: 5073 2e0a 2020 2020 2320 576f 756c 6420  Ps..    # Would 
-0000eb10: 6265 206d 6f72 6520 6964 6561 6c20 6966  be more ideal if
-0000eb20: 2069 7420 7265 7475 726e 6564 2063 6c69   it returned cli
-0000eb30: 656e 745f 6e61 6d65 2070 6f6f 6c20 7076  ent_name pool pv
-0000eb40: 6964 2065 7463 2061 7320 6974 2064 6f65  id etc as it doe
-0000eb50: 7320 7769 7468 206e 6f6e 2072 6573 7365  s with non resse
-0000eb60: 7276 6564 2049 5073 0a20 2020 2061 7379  rved IPs.    asy
-0000eb70: 6e63 2064 6566 2067 6574 5f64 6863 705f  nc def get_dhcp_
-0000eb80: 636c 6965 6e74 7328 0a20 2020 2020 2020  clients(.       
-0000eb90: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
-0000eba0: 6572 6961 6c5f 6e75 6d3a 2073 7472 2c0a  erial_num: str,.
-0000ebb0: 2020 2020 2020 2020 7265 7365 7276 6174          reservat
-0000ebc0: 696f 6e3a 2062 6f6f 6c20 3d20 5472 7565  ion: bool = True
-0000ebd0: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
-0000ebe0: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
-0000ebf0: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
-0000ec00: 3130 300a 2020 2020 2920 2d3e 2052 6573  100.    ) -> Res
-0000ec10: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0000ec20: 2222 4765 7420 4448 4350 2043 6c69 656e  ""Get DHCP Clien
-0000ec30: 7420 696e 666f 726d 6174 696f 6e20 6672  t information fr
-0000ec40: 6f6d 2047 6174 6577 6179 2e0a 0a20 2020  om Gateway...   
-0000ec50: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0000ec60: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
-0000ec70: 6d20 2873 7472 293a 2053 6572 6961 6c20  m (str): Serial 
-0000ec80: 6e75 6d62 6572 206f 6620 6d6f 6269 6c69  number of mobili
-0000ec90: 7479 2063 6f6e 7472 6f6c 6c65 7220 746f  ty controller to
-0000eca0: 2062 6520 7175 6572 6965 640a 2020 2020   be queried.    
-0000ecb0: 2020 2020 2020 2020 7265 7365 7276 6174          reservat
-0000ecc0: 696f 6e20 2862 6f6f 6c2c 206f 7074 696f  ion (bool, optio
-0000ecd0: 6e61 6c29 3a20 466c 6167 2074 6f20 7475  nal): Flag to tu
-0000ece0: 726e 206f 6e2f 6f66 6620 6c69 7374 696e  rn on/off listin
-0000ecf0: 6720 4448 4350 2072 6573 6572 7661 7469  g DHCP reservati
-0000ed00: 6f6e 7328 6966 2061 6e79 292e 0a20 2020  ons(if any)..   
-0000ed10: 2020 2020 2020 2020 2020 2020 2044 6566               Def
-0000ed20: 6175 6c74 7320 746f 2054 7275 650a 2020  aults to True.  
-0000ed30: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-0000ed40: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0000ed50: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-0000ed60: 7365 7420 4465 6661 756c 7473 2074 6f20  set Defaults to 
-0000ed70: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
-0000ed80: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
-0000ed90: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-0000eda0: 206c 696d 6974 2e20 6d61 7820 3130 3030   limit. max 1000
-0000edb0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
-0000edc0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-0000edd0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0000ede0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0000edf0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0000ee00: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0000ee10: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-0000ee20: 222f 6d6f 6e69 746f 7269 6e67 2f76 312f  "/monitoring/v1/
-0000ee30: 6d6f 6269 6c69 7479 5f63 6f6e 7472 6f6c  mobility_control
-0000ee40: 6c65 7273 2f7b 7365 7269 616c 5f6e 756d  lers/{serial_num
-0000ee50: 7d2f 6468 6370 5f63 6c69 656e 7473 220a  }/dhcp_clients".
-0000ee60: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0000ee70: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0000ee80: 2772 6573 6572 7661 7469 6f6e 273a 2073  'reservation': s
-0000ee90: 7472 2872 6573 6572 7661 7469 6f6e 292c  tr(reservation),
-0000eea0: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
-0000eeb0: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
-0000eec0: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
-0000eed0: 7422 3a20 6c69 6d69 740a 2020 2020 2020  t": limit.      
-0000eee0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
-0000eef0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0000ef00: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-0000ef10: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
-0000ef20: 6320 6465 6620 6765 745f 6468 6370 5f73  c def get_dhcp_s
-0000ef30: 6572 7665 7228 7365 6c66 2c20 7365 7269  erver(self, seri
-0000ef40: 616c 5f6e 756d 3a20 7374 7229 202d 3e20  al_num: str) -> 
-0000ef50: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-0000ef60: 2020 2222 2247 6574 2044 4843 5020 5365    """Get DHCP Se
-0000ef70: 7276 6572 2064 6574 6169 6c73 2066 726f  rver details fro
-0000ef80: 6d20 4761 7465 7761 792e 0a0a 2020 2020  m Gateway...    
-0000ef90: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-0000efa0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-0000efb0: 2028 7374 7229 3a20 5365 7269 616c 206e   (str): Serial n
-0000efc0: 756d 6265 7220 6f66 206d 6f62 696c 6974  umber of mobilit
-0000efd0: 7920 636f 6e74 726f 6c6c 6572 2074 6f20  y controller to 
-0000efe0: 6265 2071 7565 7269 6564 0a0a 2020 2020  be queried..    
-0000eff0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0000f000: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0000f010: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0000f020: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0000f030: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000f040: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
-0000f050: 6f72 696e 672f 7631 2f6d 6f62 696c 6974  oring/v1/mobilit
-0000f060: 795f 636f 6e74 726f 6c6c 6572 732f 7b73  y_controllers/{s
-0000f070: 6572 6961 6c5f 6e75 6d7d 2f64 6863 705f  erial_num}/dhcp_
-0000f080: 7365 7276 6572 7322 0a0a 2020 2020 2020  servers"..      
+0000cce0: 7368 6f77 5f72 6573 6f75 7263 655f 6465  show_resource_de
+0000ccf0: 7461 696c 733a 2062 6f6f 6c20 3d20 4661  tails: bool = Fa
+0000cd00: 6c73 652c 0a20 2020 2020 2020 2063 6c75  lse,.        clu
+0000cd10: 7374 6572 5f69 643a 2073 7472 203d 204e  ster_id: str = N
+0000cd20: 6f6e 652c 0a20 2020 2020 2020 206d 6f64  one,.        mod
+0000cd30: 656c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  el: str = None,.
+0000cd40: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
+0000cd50: 655f 636c 6965 6e74 5f63 6f75 6e74 3a20  e_client_count: 
+0000cd60: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+0000cd70: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
+0000cd80: 7373 6964 5f63 6f75 6e74 3a20 626f 6f6c  ssid_count: bool
+0000cd90: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
+0000cda0: 2020 6d61 6361 6464 723a 2073 7472 203d    macaddr: str =
+0000cdb0: 204e 6f6e 652c 0a20 2020 2020 2020 2070   None,.        p
+0000cdc0: 7562 6c69 635f 6970 5f61 6464 7265 7373  ublic_ip_address
+0000cdd0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0000cde0: 2020 2020 2020 7369 7465 3a20 7374 7220        site: str 
+0000cdf0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000ce00: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
+0000ce10: 302c 2020 2320 6d61 7820 616c 6c6f 7765  0,  # max allowe
+0000ce20: 6420 3130 3030 0a20 2020 2020 2020 206f  d 1000.        o
+0000ce30: 6666 7365 743a 2069 6e74 203d 2030 2c0a  ffset: int = 0,.
+0000ce40: 2020 2020 2020 2020 2320 736f 7274 3a20          # sort: 
+0000ce50: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000ce60: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0000ce70: 2020 2020 2020 2022 2222 4765 7420 4465         """Get De
+0000ce80: 7669 6365 7320 6672 6f6d 2041 7275 6261  vices from Aruba
+0000ce90: 2043 656e 7472 616c 2041 5049 2047 6174   Central API Gat
+0000cea0: 6577 6179 0a0a 2020 2020 2020 2020 2f2f  eway..        //
+0000ceb0: 2055 7365 6420 6279 2073 686f 7720 3c22   Used by show <"
+0000cec0: 6170 7322 7c22 6761 7465 7761 7973 227c  aps"|"gateways"|
+0000ced0: 2273 7769 7463 6865 7322 3e20 2f2f 0a0a  "switches"> //..
+0000cee0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+0000cef0: 2020 2020 2020 2020 2020 6465 765f 7479            dev_ty
+0000cf00: 7065 2028 4c69 7465 7261 6c5b 2273 7769  pe (Literal["swi
+0000cf10: 7463 6865 7322 2c20 2261 7073 222c 2022  tches", "aps", "
+0000cf20: 6761 7465 7761 7973 2229 3a20 5479 7065  gateways"): Type
+0000cf30: 206f 6620 6465 7669 6365 7320 746f 2067   of devices to g
+0000cf40: 6574 2e0a 2020 2020 2020 2020 2020 2020  et..            
+0000cf50: 6772 6f75 7020 2873 7472 2c20 6f70 7469  group (str, opti
+0000cf60: 6f6e 616c 293a 2046 696c 7465 7220 6f6e  onal): Filter on
+0000cf70: 2073 7065 6369 6669 6320 6772 6f75 702e   specific group.
+0000cf80: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+0000cf90: 652e 0a20 2020 2020 2020 2020 2020 206c  e..            l
+0000cfa0: 6162 656c 2028 7374 722c 206f 7074 696f  abel (str, optio
+0000cfb0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+0000cfc0: 6c61 6265 6c2e 2044 6566 6175 6c74 7320  label. Defaults 
+0000cfd0: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+0000cfe0: 2020 2020 2073 7461 636b 5f69 6420 2873       stack_id (s
+0000cff0: 7472 2c20 6f70 7469 6f6e 616c 293a 2052  tr, optional): R
+0000d000: 6574 7572 6e20 7377 6974 6368 2077 6974  eturn switch wit
+0000d010: 6820 7370 6563 6966 6963 2073 7461 636b  h specific stack
+0000d020: 5f69 642e 2044 6566 6175 6c74 7320 746f  _id. Defaults to
+0000d030: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+0000d040: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
+0000d050: 2c20 6f70 7469 6f6e 616c 293a 2052 6574  , optional): Ret
+0000d060: 7572 6e20 4150 7320 7769 7468 2061 2073  urn APs with a s
+0000d070: 7065 6369 6669 6320 7377 6172 6d5f 6964  pecific swarm_id
+0000d080: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+0000d090: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+0000d0a0: 7365 7269 616c 2028 7374 722c 206f 7074  serial (str, opt
+0000d0b0: 696f 6e61 6c29 3a20 5265 7475 726e 2074  ional): Return t
+0000d0c0: 6865 2064 6576 6963 6520 7769 7468 2073  he device with s
+0000d0d0: 6572 6961 6c20 6e75 6d62 6572 2e20 4465  erial number. De
+0000d0e0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+0000d0f0: 2020 2020 2020 2020 2020 2020 7374 6174              stat
+0000d100: 7573 2028 7374 722c 206f 7074 696f 6e61  us (str, optiona
+0000d110: 6c29 3a20 4669 6c74 6572 2062 7920 7374  l): Filter by st
+0000d120: 6174 7573 2e20 4465 6661 756c 7473 2074  atus. Defaults t
+0000d130: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
+0000d140: 2020 2020 6669 656c 6473 2028 6c69 7374      fields (list
+0000d150: 2c20 6f70 7469 6f6e 616c 293a 2052 6574  , optional): Ret
+0000d160: 7572 6e20 7370 6563 6966 6963 2066 6965  urn specific fie
+0000d170: 6c64 7320 666f 7220 6465 7669 6365 2e20  lds for device. 
+0000d180: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+0000d190: 2e0a 2020 2020 2020 2020 2020 2020 7368  ..            sh
+0000d1a0: 6f77 5f72 6573 6f75 7263 655f 6465 7461  ow_resource_deta
+0000d1b0: 696c 7320 2862 6f6f 6c2c 206f 7074 696f  ils (bool, optio
+0000d1c0: 6e61 6c29 3a20 5368 6f77 2072 6573 6f75  nal): Show resou
+0000d1d0: 7263 6520 7574 696c 697a 6174 696f 6e2e  rce utilization.
+0000d1e0: 2044 6566 6175 6c74 7320 746f 2046 616c   Defaults to Fal
+0000d1f0: 7365 2e0a 2020 2020 2020 2020 2020 2020  se..            
+0000d200: 636c 7573 7465 725f 6964 2028 7374 722c  cluster_id (str,
+0000d210: 206f 7074 696f 6e61 6c29 3a20 5265 7475   optional): Retu
+0000d220: 726e 2067 6174 6577 6179 7320 7769 7468  rn gateways with
+0000d230: 2061 2073 7065 6369 6669 6320 636c 7573   a specific clus
+0000d240: 7465 725f 6964 2e20 4465 6661 756c 7473  ter_id. Defaults
+0000d250: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
+0000d260: 2020 2020 2020 6d6f 6465 6c20 2873 7472        model (str
+0000d270: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0000d280: 7465 7220 6279 2064 6576 6963 6520 6d6f  ter by device mo
+0000d290: 6465 6c2e 2044 6566 6175 6c74 7320 746f  del. Defaults to
+0000d2a0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+0000d2b0: 2020 2063 616c 6375 6c61 7465 5f63 6c69     calculate_cli
+0000d2c0: 656e 745f 636f 756e 7420 2862 6f6f 6c2c  ent_count (bool,
+0000d2d0: 206f 7074 696f 6e61 6c29 3a20 4361 6c63   optional): Calc
+0000d2e0: 756c 6174 6520 636c 6965 6e74 2063 6f75  ulate client cou
+0000d2f0: 6e74 2066 6f72 2065 6163 6820 6465 7669  nt for each devi
+0000d300: 6365 2e20 4465 6661 756c 7473 2074 6f20  ce. Defaults to 
+0000d310: 4661 6c73 652e 0a20 2020 2020 2020 2020  False..         
+0000d320: 2020 2063 616c 6375 6c61 7465 5f73 7369     calculate_ssi
+0000d330: 645f 636f 756e 7420 2862 6f6f 6c2c 206f  d_count (bool, o
+0000d340: 7074 696f 6e61 6c29 3a20 4361 6c63 756c  ptional): Calcul
+0000d350: 6174 6520 5353 4944 2063 6f75 6e74 2066  ate SSID count f
+0000d360: 6f72 2065 6163 6820 4150 2e20 4465 6661  or each AP. Defa
+0000d370: 756c 7473 2074 6f20 4661 6c73 652e 0a20  ults to False.. 
+0000d380: 2020 2020 2020 2020 2020 206d 6163 6164             macad
+0000d390: 6472 2028 7374 722c 206f 7074 696f 6e61  dr (str, optiona
+0000d3a0: 6c29 3a20 5265 7475 726e 2064 6576 6963  l): Return devic
+0000d3b0: 6520 7769 7468 2073 7065 6369 6669 6320  e with specific 
+0000d3c0: 4d41 4320 2866 757a 7a79 206d 6174 6368  MAC (fuzzy match
+0000d3d0: 292e 2044 6566 6175 6c74 7320 746f 204e  ). Defaults to N
+0000d3e0: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+0000d3f0: 2070 7562 6c69 635f 6970 5f61 6464 7265   public_ip_addre
+0000d400: 7373 2028 7374 722c 206f 7074 696f 6e61  ss (str, optiona
+0000d410: 6c29 3a20 4669 6c74 6572 2064 6576 6963  l): Filter devic
+0000d420: 6573 2062 7920 5075 626c 6963 2049 502e  es by Public IP.
+0000d430: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+0000d440: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
+0000d450: 6974 6520 2873 7472 2c20 6f70 7469 6f6e  ite (str, option
+0000d460: 616c 293a 2046 696c 7465 7220 6279 2073  al): Filter by s
+0000d470: 6974 652e 2044 6566 6175 6c74 7320 746f  ite. Defaults to
+0000d480: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
+0000d490: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+0000d4a0: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
+0000d4b0: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
+0000d4c0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
+0000d4d0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
+0000d4e0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+0000d4f0: 6167 696e 6174 696f 6e20 6c69 6d69 742e  agination limit.
+0000d500: 204d 6178 2069 7320 3130 3030 2044 6566   Max is 1000 Def
+0000d510: 6175 6c74 7320 746f 2035 3030 2e0a 0a20  aults to 500... 
+0000d520: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0000d530: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0000d540: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0000d550: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0000d560: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0000d570: 2020 2020 2064 6576 5f70 6172 616d 7320       dev_params 
+0000d580: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0000d590: 2261 7073 223a 207b 0a20 2020 2020 2020  "aps": {.       
+0000d5a0: 2020 2020 2020 2020 2027 7365 7269 616c           'serial
+0000d5b0: 273a 2073 6572 6961 6c2c 0a20 2020 2020  ': serial,.     
+0000d5c0: 2020 2020 2020 2020 2020 2027 6d61 6361             'maca
+0000d5d0: 6464 7227 3a20 6d61 6361 6464 722c 0a20  ddr': macaddr,. 
+0000d5e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000d5f0: 7377 6172 6d5f 6964 223a 2073 7761 726d  swarm_id": swarm
+0000d600: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
+0000d610: 2020 2020 2027 6d6f 6465 6c27 3a20 6d6f       'model': mo
+0000d620: 6465 6c2c 0a20 2020 2020 2020 2020 2020  del,.           
+0000d630: 2020 2020 2027 636c 7573 7465 725f 6964       'cluster_id
+0000d640: 273a 2063 6c75 7374 6572 5f69 642c 0a20  ': cluster_id,. 
+0000d650: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0000d660: 6669 656c 6473 273a 2066 6965 6c64 732c  fields': fields,
+0000d670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d680: 2027 6361 6c63 756c 6174 655f 636c 6965   'calculate_clie
+0000d690: 6e74 5f63 6f75 6e74 273a 2073 7472 2863  nt_count': str(c
+0000d6a0: 616c 6375 6c61 7465 5f63 6c69 656e 745f  alculate_client_
+0000d6b0: 636f 756e 7429 2e6c 6f77 6572 2829 2c0a  count).lower(),.
+0000d6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d6d0: 2763 616c 6375 6c61 7465 5f73 7369 645f  'calculate_ssid_
+0000d6e0: 636f 756e 7427 3a20 7374 7228 6361 6c63  count': str(calc
+0000d6f0: 756c 6174 655f 7373 6964 5f63 6f75 6e74  ulate_ssid_count
+0000d700: 292e 6c6f 7765 7228 292c 0a20 2020 2020  ).lower(),.     
+0000d710: 2020 2020 2020 2020 2020 2027 7368 6f77             'show
+0000d720: 5f72 6573 6f75 7263 655f 6465 7461 696c  _resource_detail
+0000d730: 7327 3a20 7374 7228 7368 6f77 5f72 6573  s': str(show_res
+0000d740: 6f75 7263 655f 6465 7461 696c 7329 2e6c  ource_details).l
+0000d750: 6f77 6572 2829 2c0a 2020 2020 2020 2020  ower(),.        
+0000d760: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+0000d770: 2020 2022 7377 6974 6368 6573 223a 207b     "switches": {
+0000d780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d790: 2027 7374 6163 6b5f 6964 273a 2073 7461   'stack_id': sta
+0000d7a0: 636b 5f69 642c 0a20 2020 2020 2020 2020  ck_id,.         
+0000d7b0: 2020 2020 2020 2027 7368 6f77 5f72 6573         'show_res
+0000d7c0: 6f75 7263 655f 6465 7461 696c 7327 3a20  ource_details': 
+0000d7d0: 7374 7228 7368 6f77 5f72 6573 6f75 7263  str(show_resourc
+0000d7e0: 655f 6465 7461 696c 7329 2e6c 6f77 6572  e_details).lower
+0000d7f0: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
+0000d800: 2020 2020 2763 616c 6375 6c61 7465 5f63      'calculate_c
+0000d810: 6c69 656e 745f 636f 756e 7427 3a20 7374  lient_count': st
+0000d820: 7228 6361 6c63 756c 6174 655f 636c 6965  r(calculate_clie
+0000d830: 6e74 5f63 6f75 6e74 292e 6c6f 7765 7228  nt_count).lower(
+0000d840: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+0000d850: 2020 2027 7075 626c 6963 5f69 705f 6164     'public_ip_ad
+0000d860: 6472 6573 7327 3a20 7075 626c 6963 5f69  dress': public_i
+0000d870: 705f 6164 6472 6573 732c 0a20 2020 2020  p_address,.     
+0000d880: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+0000d890: 2020 2020 2020 2267 6174 6577 6179 7322        "gateways"
+0000d8a0: 3a20 7b0a 2020 2020 2020 2020 2020 2020  : {.            
+0000d8b0: 2020 2020 276d 6163 6164 6472 273a 206d      'macaddr': m
+0000d8c0: 6163 6164 6472 2c0a 2020 2020 2020 2020  acaddr,.        
+0000d8d0: 2020 2020 2020 2020 276d 6f64 656c 273a          'model':
+0000d8e0: 206d 6f64 656c 2c0a 2020 2020 2020 2020   model,.        
+0000d8f0: 2020 2020 2020 2020 2766 6965 6c64 7327          'fields'
+0000d900: 3a20 6669 656c 6473 2c0a 2020 2020 2020  : fields,.      
+0000d910: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0000d920: 7d0a 2020 2020 2020 2020 636f 6d6d 6f6e  }.        common
+0000d930: 5f70 6172 616d 7320 3d20 7b0a 2020 2020  _params = {.    
+0000d940: 2020 2020 2020 2020 2267 726f 7570 223a          "group":
+0000d950: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
+0000d960: 2020 2020 226c 6162 656c 223a 206c 6162      "label": lab
+0000d970: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
+0000d980: 2773 6974 6527 3a20 7369 7465 2c0a 2020  'site': site,.  
+0000d990: 2020 2020 2020 2020 2020 2773 7461 7475            'statu
+0000d9a0: 7327 3a20 4e6f 6e65 2069 6620 6e6f 7420  s': None if not 
+0000d9b0: 7374 6174 7573 2065 6c73 6520 7374 6174  status else stat
+0000d9c0: 7573 2e74 6974 6c65 2829 2c0a 2020 2020  us.title(),.    
+0000d9d0: 2020 2020 2020 2020 276f 6666 7365 7427          'offset'
+0000d9e0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
+0000d9f0: 2020 2020 2020 276c 696d 6974 273a 206c        'limit': l
+0000da00: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
+0000da10: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+0000da20: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f7b  /monitoring/v1/{
+0000da30: 6465 765f 7479 7065 7d22 0a20 2020 2020  dev_type}".     
+0000da40: 2020 2069 6620 6465 765f 7479 7065 203d     if dev_type =
+0000da50: 3d20 2261 7073 223a 0a20 2020 2020 2020  = "aps":.       
+0000da60: 2020 2020 2075 726c 203d 2075 726c 2e72       url = url.r
+0000da70: 6570 6c61 6365 2822 7631 222c 2022 7632  eplace("v1", "v2
+0000da80: 2229 0a20 2020 2020 2020 2070 6172 616d  ").        param
+0000da90: 7320 3d20 7b2a 2a63 6f6d 6d6f 6e5f 7061  s = {**common_pa
+0000daa0: 7261 6d73 2c20 2a2a 6465 765f 7061 7261  rams, **dev_para
+0000dab0: 6d73 5b64 6576 5f74 7970 655d 7d0a 0a20  ms[dev_type]}.. 
+0000dac0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0000dad0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+0000dae0: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+0000daf0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0000db00: 6765 745f 6465 765f 6465 7461 696c 7328  get_dev_details(
+0000db10: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0000db20: 2020 2020 2020 2064 6576 5f74 7970 653a         dev_type:
+0000db30: 204c 6974 6572 616c 5b22 7377 6974 6368   Literal["switch
+0000db40: 6573 222c 2022 6170 7322 2c20 2267 6174  es", "aps", "gat
+0000db50: 6577 6179 7322 5d2c 0a20 2020 2020 2020  eways"],.       
+0000db60: 2073 6572 6961 6c3a 2073 7472 0a20 2020   serial: str.   
+0000db70: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+0000db80: 2020 2020 2020 2020 2222 2252 6574 7572          """Retur
+0000db90: 6e20 4465 7461 696c 7320 666f 7220 6120  n Details for a 
+0000dba0: 6769 7665 6e20 6465 7669 6365 0a0a 2020  given device..  
+0000dbb0: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
+0000dbc0: 2073 686f 7720 6465 7669 6365 5b73 5d20   show device[s] 
+0000dbd0: 3c64 6576 6963 6520 6964 656e 3e20 2f2f  <device iden> //
+0000dbe0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0000dbf0: 2020 2020 2020 2020 2020 2020 6465 765f              dev_
+0000dc00: 7479 7065 2028 7374 7229 3a20 4465 7669  type (str): Devi
+0000dc10: 6365 2054 7970 650a 2020 2020 2020 2020  ce Type.        
+0000dc20: 2020 2020 2020 2020 5661 6c69 6420 5661          Valid Va
+0000dc30: 6c75 6573 3a20 2267 6174 6577 6179 7322  lues: "gateways"
+0000dc40: 2c20 2261 7073 222c 2022 7377 6974 6368  , "aps", "switch
+0000dc50: 6573 220a 2020 2020 2020 2020 2020 2020  es".            
+0000dc60: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
+0000dc70: 7269 616c 206e 756d 6265 7220 6f66 2044  rial number of D
+0000dc80: 6576 6963 650a 0a20 2020 2020 2020 2052  evice..        R
+0000dc90: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+0000dca0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+0000dcb0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+0000dcc0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+0000dcd0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+0000dce0: 203d 2066 222f 6d6f 6e69 746f 7269 6e67   = f"/monitoring
+0000dcf0: 2f76 312f 7b64 6576 5f74 7970 657d 2f7b  /v1/{dev_type}/{
+0000dd00: 7365 7269 616c 7d22 0a20 2020 2020 2020  serial}".       
+0000dd10: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0000dd20: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
+0000dd30: 2061 7379 6e63 2064 6566 206d 6f6e 6974   async def monit
+0000dd40: 6f72 696e 675f 6765 745f 6d63 7328 0a20  oring_get_mcs(. 
+0000dd50: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0000dd60: 2020 2020 2067 726f 7570 3a20 7374 7220       group: str 
+0000dd70: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0000dd80: 6c61 6265 6c3a 2073 7472 203d 204e 6f6e  label: str = Non
+0000dd90: 652c 0a20 2020 2020 2020 2073 6974 653a  e,.        site:
+0000dda0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000ddb0: 2020 2020 2073 7461 7475 733a 2073 7472       status: str
+0000ddc0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000ddd0: 206d 6163 6164 6472 3a20 7374 7220 3d20   macaddr: str = 
+0000dde0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6d6f  None,.        mo
+0000ddf0: 6465 6c3a 2073 7472 203d 204e 6f6e 652c  del: str = None,
+0000de00: 0a20 2020 2020 2020 2066 6965 6c64 733a  .        fields:
+0000de10: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000de20: 2020 2020 2063 616c 6375 6c61 7465 5f74       calculate_t
+0000de30: 6f74 616c 3a20 626f 6f6c 203d 204e 6f6e  otal: bool = Non
+0000de40: 652c 0a20 2020 2020 2020 2073 6f72 743a  e,.        sort:
+0000de50: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0000de60: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
+0000de70: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
+0000de80: 6d69 743a 2069 6e74 203d 2031 3030 2c0a  mit: int = 100,.
+0000de90: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0000dea0: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
+0000deb0: 7374 204d 6f62 696c 6974 7920 436f 6e74  st Mobility Cont
+0000dec0: 726f 6c6c 6572 732e 0a0a 2020 2020 2020  rollers...      
+0000ded0: 2020 596f 7520 6361 6e20 6f6e 6c79 2073    You can only s
+0000dee0: 7065 6369 6679 206f 6e65 206f 6620 6772  pecify one of gr
+0000def0: 6f75 702c 206c 6162 656c 2c20 7369 7465  oup, label, site
+0000df00: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0000df10: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0000df20: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+0000df30: 293a 2046 696c 7465 7220 6279 2067 726f  ): Filter by gro
+0000df40: 7570 206e 616d 650a 2020 2020 2020 2020  up name.        
+0000df50: 2020 2020 6c61 6265 6c20 2873 7472 2c20      label (str, 
+0000df60: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+0000df70: 7220 6279 204c 6162 656c 206e 616d 650a  r by Label name.
+0000df80: 2020 2020 2020 2020 2020 2020 7369 7465              site
+0000df90: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000dfa0: 3a20 4669 6c74 6572 2062 7920 5369 7465  : Filter by Site
+0000dfb0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+0000dfc0: 2020 7374 6174 7573 2028 7374 722c 206f    status (str, o
+0000dfd0: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+0000dfe0: 2062 7920 4d6f 6269 6c69 7479 2043 6f6e   by Mobility Con
+0000dff0: 7472 6f6c 6c65 7220 7374 6174 7573 0a20  troller status. 
+0000e000: 2020 2020 2020 2020 2020 206d 6163 6164             macad
+0000e010: 6472 2028 7374 722c 206f 7074 696f 6e61  dr (str, optiona
+0000e020: 6c29 3a20 4669 6c74 6572 2062 7920 4d6f  l): Filter by Mo
+0000e030: 6269 6c69 7479 2043 6f6e 7472 6f6c 6c65  bility Controlle
+0000e040: 7220 4d41 4320 6164 6472 6573 730a 2020  r MAC address.  
+0000e050: 2020 2020 2020 2020 2020 6d6f 6465 6c20            model 
+0000e060: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000e070: 2046 696c 7465 7220 6279 204d 6f62 696c   Filter by Mobil
+0000e080: 6974 7920 436f 6e74 726f 6c6c 6572 204d  ity Controller M
+0000e090: 6f64 656c 0a20 2020 2020 2020 2020 2020  odel.           
+0000e0a0: 2066 6965 6c64 7320 2873 7472 2c20 6f70   fields (str, op
+0000e0b0: 7469 6f6e 616c 293a 2043 6f6d 6d61 2073  tional): Comma s
+0000e0c0: 6570 6172 6174 6564 206c 6973 7420 6f66  eparated list of
+0000e0d0: 2066 6965 6c64 7320 746f 2062 6520 7265   fields to be re
+0000e0e0: 7475 726e 6564 2e20 5661 6c69 6420 6669  turned. Valid fi
+0000e0f0: 656c 6473 2061 7265 0a20 2020 2020 2020  elds are.       
+0000e100: 2020 2020 2020 2020 2073 7461 7475 732c           status,
+0000e110: 2069 705f 6164 6472 6573 732c 206d 6f64   ip_address, mod
+0000e120: 656c 2c20 6669 726d 7761 7265 5f76 6572  el, firmware_ver
+0000e130: 7369 6f6e 2c20 6c61 6265 6c73 2c20 6170  sion, labels, ap
+0000e140: 5f63 6f75 6e74 2c20 7573 6167 650a 2020  _count, usage.  
+0000e150: 2020 2020 2020 2020 2020 6361 6c63 756c            calcul
+0000e160: 6174 655f 746f 7461 6c20 2862 6f6f 6c2c  ate_total (bool,
+0000e170: 206f 7074 696f 6e61 6c29 3a20 5768 6574   optional): Whet
+0000e180: 6865 7220 746f 2063 616c 6375 6c61 7465  her to calculate
+0000e190: 2074 6f74 616c 204d 6f62 696c 6974 7920   total Mobility 
+0000e1a0: 436f 6e74 726f 6c6c 6572 730a 2020 2020  Controllers.    
+0000e1b0: 2020 2020 2020 2020 736f 7274 2028 7374          sort (st
+0000e1c0: 722c 206f 7074 696f 6e61 6c29 3a20 536f  r, optional): So
+0000e1d0: 7274 2070 6172 616d 6574 6572 206d 6179  rt parameter may
+0000e1e0: 2062 6520 6f6e 6520 6f66 202b 7365 7269   be one of +seri
+0000e1f0: 616c 2c20 2d73 6572 6961 6c2c 202b 6d61  al, -serial, +ma
+0000e200: 6361 6464 722c 202d 6d61 6361 6464 722e  caddr, -macaddr.
+0000e210: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e220: 2044 6566 6175 6c74 2069 7320 272b 7365   Default is '+se
+0000e230: 7269 616c 270a 2020 2020 2020 2020 2020  rial'.          
+0000e240: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+0000e250: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+0000e260: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
+0000e270: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0000e280: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0000e290: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0000e2a0: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
+0000e2b0: 4d61 7820 6973 2031 3030 3020 4465 6661  Max is 1000 Defa
+0000e2c0: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
+0000e2d0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0000e2e0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0000e2f0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0000e300: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0000e310: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0000e320: 2020 2020 7572 6c20 3d20 222f 6d6f 6e69      url = "/moni
+0000e330: 746f 7269 6e67 2f76 312f 6d6f 6269 6c69  toring/v1/mobili
+0000e340: 7479 5f63 6f6e 7472 6f6c 6c65 7273 220a  ty_controllers".
+0000e350: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
+0000e360: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0000e370: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
+0000e380: 2020 2020 2020 2020 2020 2020 226c 6162              "lab
+0000e390: 656c 223a 206c 6162 656c 2c0a 2020 2020  el": label,.    
+0000e3a0: 2020 2020 2020 2020 2273 6974 6522 3a20          "site": 
+0000e3b0: 7369 7465 2c0a 2020 2020 2020 2020 2020  site,.          
+0000e3c0: 2020 2273 7461 7475 7322 3a20 7374 6174    "status": stat
+0000e3d0: 7573 2c0a 2020 2020 2020 2020 2020 2020  us,.            
+0000e3e0: 226d 6163 6164 6472 223a 206d 6163 6164  "macaddr": macad
+0000e3f0: 6472 2c0a 2020 2020 2020 2020 2020 2020  dr,.            
+0000e400: 226d 6f64 656c 223a 206d 6f64 656c 2c0a  "model": model,.
+0000e410: 2020 2020 2020 2020 2020 2020 2266 6965              "fie
+0000e420: 6c64 7322 3a20 6669 656c 6473 2c0a 2020  lds": fields,.  
+0000e430: 2020 2020 2020 2020 2020 2263 616c 6375            "calcu
+0000e440: 6c61 7465 5f74 6f74 616c 223a 2063 616c  late_total": cal
+0000e450: 6375 6c61 7465 5f74 6f74 616c 2c0a 2020  culate_total,.  
+0000e460: 2020 2020 2020 2020 2020 2273 6f72 7422            "sort"
+0000e470: 3a20 736f 7274 2c0a 2020 2020 2020 2020  : sort,.        
+0000e480: 2020 2020 226f 6666 7365 7422 3a20 6f66      "offset": of
+0000e490: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
+0000e4a0: 2020 226c 696d 6974 223a 206c 696d 6974    "limit": limit
+0000e4b0: 2c0a 2020 2020 2020 2020 7d0a 0a20 2020  ,.        }..   
+0000e4c0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0000e4d0: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+0000e4e0: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
+0000e4f0: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+0000e500: 745f 776c 616e 7328 0a20 2020 2020 2020  t_wlans(.       
+0000e510: 2073 656c 662c 0a20 2020 2020 2020 206e   self,.        n
+0000e520: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
+0000e530: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+0000e540: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000e550: 2020 2020 7377 6172 6d5f 6964 3a20 7374      swarm_id: st
+0000e560: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0000e570: 2020 6c61 6265 6c3a 2073 7472 203d 204e    label: str = N
+0000e580: 6f6e 652c 0a20 2020 2020 2020 2073 6974  one,.        sit
+0000e590: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+0000e5a0: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
+0000e5b0: 5f63 6c69 656e 745f 636f 756e 743a 2062  _client_count: b
+0000e5c0: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
+0000e5d0: 2020 2020 736f 7274 5f62 793a 2073 7472      sort_by: str
+0000e5e0: 203d 204e 6f6e 650a 2020 2020 2920 2d3e   = None.    ) ->
+0000e5f0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+0000e600: 2020 2022 2222 4c69 7374 2061 6c6c 2057     """List all W
+0000e610: 4c41 4e73 2028 5353 4944 7329 2e0a 0a20  LANs (SSIDs)... 
+0000e620: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0000e630: 2020 2020 2020 2020 2067 726f 7570 2028           group (
+0000e640: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0000e650: 4669 6c74 6572 2062 7920 6772 6f75 7020  Filter by group 
+0000e660: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+0000e670: 2073 7761 726d 5f69 6420 2873 7472 2c20   swarm_id (str, 
+0000e680: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+0000e690: 7220 6279 2053 7761 726d 2049 440a 2020  r by Swarm ID.  
+0000e6a0: 2020 2020 2020 2020 2020 6c61 6265 6c20            label 
+0000e6b0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000e6c0: 2046 696c 7465 7220 6279 204c 6162 656c   Filter by Label
+0000e6d0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+0000e6e0: 2020 7369 7465 2028 7374 722c 206f 7074    site (str, opt
+0000e6f0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+0000e700: 7920 5369 7465 206e 616d 650a 2020 2020  y Site name.    
+0000e710: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
+0000e720: 655f 636c 6965 6e74 5f63 6f75 6e74 2028  e_client_count (
+0000e730: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+0000e740: 2057 6865 7468 6572 2074 6f20 6361 6c63   Whether to calc
+0000e750: 756c 6174 6520 636c 6965 6e74 2063 6f75  ulate client cou
+0000e760: 6e74 2070 6572 2053 5349 440a 2020 2020  nt per SSID.    
+0000e770: 2020 2020 2020 2020 736f 7274 5f62 7920          sort_by 
+0000e780: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000e790: 2053 6f72 7420 7061 7261 6d65 7465 7220   Sort parameter 
+0000e7a0: 6d61 7920 6265 206f 6e65 206f 6620 2b65  may be one of +e
+0000e7b0: 7373 6964 2c20 2d65 7373 6964 2e20 4465  ssid, -essid. De
+0000e7c0: 6661 756c 7420 6973 2027 2b65 7373 6964  fault is '+essid
+0000e7d0: 270a 0a20 2020 2020 2020 2052 6574 7572  '..        Retur
+0000e7e0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0000e7f0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0000e800: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0000e810: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0000e820: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+0000e830: 2f6d 6f6e 6974 6f72 696e 672f 7632 2f6e  /monitoring/v2/n
+0000e840: 6574 776f 726b 7322 0a20 2020 2020 2020  etworks".       
+0000e850: 2069 6620 6e61 6d65 3a0a 2020 2020 2020   if name:.      
+0000e860: 2020 2020 2020 7572 6c20 3d20 6622 7b75        url = f"{u
+0000e870: 726c 7d2f 7b6e 616d 657d 220a 0a20 2020  rl}/{name}"..   
+0000e880: 2020 2020 2069 6620 6361 6c63 756c 6174       if calculat
+0000e890: 655f 636c 6965 6e74 5f63 6f75 6e74 2069  e_client_count i
+0000e8a0: 6e20 5b54 7275 652c 2046 616c 7365 5d3a  n [True, False]:
+0000e8b0: 0a20 2020 2020 2020 2020 2020 2063 616c  .            cal
+0000e8c0: 6375 6c61 7465 5f63 6c69 656e 745f 636f  culate_client_co
+0000e8d0: 756e 7420 3d20 7374 7228 6361 6c63 756c  unt = str(calcul
+0000e8e0: 6174 655f 636c 6965 6e74 5f63 6f75 6e74  ate_client_count
+0000e8f0: 290a 0a20 2020 2020 2020 2070 6172 616d  )..        param
+0000e900: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0000e910: 2020 2767 726f 7570 273a 2067 726f 7570    'group': group
+0000e920: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+0000e930: 7761 726d 5f69 6427 3a20 7377 6172 6d5f  warm_id': swarm_
+0000e940: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+0000e950: 276c 6162 656c 273a 206c 6162 656c 2c0a  'label': label,.
+0000e960: 2020 2020 2020 2020 2020 2020 2773 6974              'sit
+0000e970: 6527 3a20 7369 7465 2c0a 2020 2020 2020  e': site,.      
+0000e980: 2020 2020 2020 2763 616c 6375 6c61 7465        'calculate
+0000e990: 5f63 6c69 656e 745f 636f 756e 7427 3a20  _client_count': 
+0000e9a0: 6361 6c63 756c 6174 655f 636c 6965 6e74  calculate_client
+0000e9b0: 5f63 6f75 6e74 2c0a 2020 2020 2020 2020  _count,.        
+0000e9c0: 2020 2020 2773 6f72 7427 3a20 736f 7274      'sort': sort
+0000e9d0: 5f62 792c 0a20 2020 2020 2020 207d 0a0a  _by,.        }..
+0000e9e0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0000e9f0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+0000ea00: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+0000ea10: 290a 0a20 2020 2023 2041 5049 2d46 4c41  )..    # API-FLA
+0000ea20: 5720 5468 6973 206d 6574 686f 6420 7265  W This method re
+0000ea30: 7475 726e 7320 6e65 7874 2074 6f20 6e6f  turns next to no
+0000ea40: 7468 696e 6720 666f 7220 7265 7365 7276  thing for reserv
+0000ea50: 6564 2049 5073 2e0a 2020 2020 2320 576f  ed IPs..    # Wo
+0000ea60: 756c 6420 6265 206d 6f72 6520 6964 6561  uld be more idea
+0000ea70: 6c20 6966 2069 7420 7265 7475 726e 6564  l if it returned
+0000ea80: 2063 6c69 656e 745f 6e61 6d65 2070 6f6f   client_name poo
+0000ea90: 6c20 7076 6964 2065 7463 2061 7320 6974  l pvid etc as it
+0000eaa0: 2064 6f65 7320 7769 7468 206e 6f6e 2072   does with non r
+0000eab0: 6573 7365 7276 6564 2049 5073 0a20 2020  esserved IPs.   
+0000eac0: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
+0000ead0: 6863 705f 636c 6965 6e74 7328 0a20 2020  hcp_clients(.   
+0000eae0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0000eaf0: 2020 2073 6572 6961 6c5f 6e75 6d3a 2073     serial_num: s
+0000eb00: 7472 2c0a 2020 2020 2020 2020 7265 7365  tr,.        rese
+0000eb10: 7276 6174 696f 6e3a 2062 6f6f 6c20 3d20  rvation: bool = 
+0000eb20: 5472 7565 2c0a 2020 2020 2020 2020 6f66  True,.        of
+0000eb30: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
+0000eb40: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
+0000eb50: 7420 3d20 3130 300a 2020 2020 2920 2d3e  t = 100.    ) ->
+0000eb60: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+0000eb70: 2020 2022 2222 4765 7420 4448 4350 2043     """Get DHCP C
+0000eb80: 6c69 656e 7420 696e 666f 726d 6174 696f  lient informatio
+0000eb90: 6e20 6672 6f6d 2047 6174 6577 6179 2e0a  n from Gateway..
+0000eba0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0000ebb0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+0000ebc0: 6c5f 6e75 6d20 2873 7472 293a 2053 6572  l_num (str): Ser
+0000ebd0: 6961 6c20 6e75 6d62 6572 206f 6620 6d6f  ial number of mo
+0000ebe0: 6269 6c69 7479 2063 6f6e 7472 6f6c 6c65  bility controlle
+0000ebf0: 7220 746f 2062 6520 7175 6572 6965 640a  r to be queried.
+0000ec00: 2020 2020 2020 2020 2020 2020 7265 7365              rese
+0000ec10: 7276 6174 696f 6e20 2862 6f6f 6c2c 206f  rvation (bool, o
+0000ec20: 7074 696f 6e61 6c29 3a20 466c 6167 2074  ptional): Flag t
+0000ec30: 6f20 7475 726e 206f 6e2f 6f66 6620 6c69  o turn on/off li
+0000ec40: 7374 696e 6720 4448 4350 2072 6573 6572  sting DHCP reser
+0000ec50: 7661 7469 6f6e 7328 6966 2061 6e79 292e  vations(if any).
+0000ec60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ec70: 2044 6566 6175 6c74 7320 746f 2054 7275   Defaults to Tru
+0000ec80: 650a 2020 2020 2020 2020 2020 2020 6f66  e.            of
+0000ec90: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+0000eca0: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+0000ecb0: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
+0000ecc0: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
+0000ecd0: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
+0000ece0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+0000ecf0: 7469 6f6e 206c 696d 6974 2e20 6d61 7820  tion limit. max 
+0000ed00: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
+0000ed10: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
+0000ed20: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+0000ed30: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+0000ed40: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+0000ed50: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+0000ed60: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+0000ed70: 203d 2066 222f 6d6f 6e69 746f 7269 6e67   = f"/monitoring
+0000ed80: 2f76 312f 6d6f 6269 6c69 7479 5f63 6f6e  /v1/mobility_con
+0000ed90: 7472 6f6c 6c65 7273 2f7b 7365 7269 616c  trollers/{serial
+0000eda0: 5f6e 756d 7d2f 6468 6370 5f63 6c69 656e  _num}/dhcp_clien
+0000edb0: 7473 220a 0a20 2020 2020 2020 2070 6172  ts"..        par
+0000edc0: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+0000edd0: 2020 2020 2772 6573 6572 7661 7469 6f6e      'reservation
+0000ede0: 273a 2073 7472 2872 6573 6572 7661 7469  ': str(reservati
+0000edf0: 6f6e 292c 0a20 2020 2020 2020 2020 2020  on),.           
+0000ee00: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+0000ee10: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+0000ee20: 6c69 6d69 7422 3a20 6c69 6d69 740a 2020  limit": limit.  
+0000ee30: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+0000ee40: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0000ee50: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+0000ee60: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
+0000ee70: 6173 796e 6320 6465 6620 6765 745f 6468  async def get_dh
+0000ee80: 6370 5f73 6572 7665 7228 7365 6c66 2c20  cp_server(self, 
+0000ee90: 7365 7269 616c 5f6e 756d 3a20 7374 7229  serial_num: str)
+0000eea0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0000eeb0: 2020 2020 2020 2222 2247 6574 2044 4843        """Get DHC
+0000eec0: 5020 5365 7276 6572 2064 6574 6169 6c73  P Server details
+0000eed0: 2066 726f 6d20 4761 7465 7761 792e 0a0a   from Gateway...
+0000eee0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+0000eef0: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+0000ef00: 5f6e 756d 2028 7374 7229 3a20 5365 7269  _num (str): Seri
+0000ef10: 616c 206e 756d 6265 7220 6f66 206d 6f62  al number of mob
+0000ef20: 696c 6974 7920 636f 6e74 726f 6c6c 6572  ility controller
+0000ef30: 2074 6f20 6265 2071 7565 7269 6564 0a0a   to be queried..
+0000ef40: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0000ef50: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0000ef60: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0000ef70: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0000ef80: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0000ef90: 2020 2020 2020 7572 6c20 3d20 6622 2f6d        url = f"/m
+0000efa0: 6f6e 6974 6f72 696e 672f 7631 2f6d 6f62  onitoring/v1/mob
+0000efb0: 696c 6974 795f 636f 6e74 726f 6c6c 6572  ility_controller
+0000efc0: 732f 7b73 6572 6961 6c5f 6e75 6d7d 2f64  s/{serial_num}/d
+0000efd0: 6863 705f 7365 7276 6572 7322 0a0a 2020  hcp_servers"..  
+0000efe0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0000eff0: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
+0000f000: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0000f010: 6765 745f 6761 7465 7761 7973 5f62 795f  get_gateways_by_
+0000f020: 6772 6f75 7028 7365 6c66 2c20 6772 6f75  group(self, grou
+0000f030: 7029 3a0a 2020 2020 2020 2020 7572 6c20  p):.        url 
+0000f040: 3d20 222f 6d6f 6e69 746f 7269 6e67 2f76  = "/monitoring/v
+0000f050: 312f 6d6f 6269 6c69 7479 5f63 6f6e 7472  1/mobility_contr
+0000f060: 6f6c 6c65 7273 220a 2020 2020 2020 2020  ollers".        
+0000f070: 7061 7261 6d73 203d 207b 2267 726f 7570  params = {"group
+0000f080: 223a 2067 726f 7570 7d0a 2020 2020 2020  ": group}.      
 0000f090: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0000f0a0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
-0000f0b0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-0000f0c0: 6761 7465 7761 7973 5f62 795f 6772 6f75  gateways_by_grou
-0000f0d0: 7028 7365 6c66 2c20 6772 6f75 7029 3a0a  p(self, group):.
-0000f0e0: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-0000f0f0: 6d6f 6e69 746f 7269 6e67 2f76 312f 6d6f  monitoring/v1/mo
-0000f100: 6269 6c69 7479 5f63 6f6e 7472 6f6c 6c65  bility_controlle
-0000f110: 7273 220a 2020 2020 2020 2020 7061 7261  rs".        para
-0000f120: 6d73 203d 207b 2267 726f 7570 223a 2067  ms = {"group": g
-0000f130: 726f 7570 7d0a 2020 2020 2020 2020 7265  roup}.        re
-0000f140: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000f150: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-0000f160: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-0000f170: 6e63 2064 6566 2067 6574 5f67 726f 7570  nc def get_group
-0000f180: 5f66 6f72 5f64 6576 5f62 795f 7365 7269  _for_dev_by_seri
-0000f190: 616c 2873 656c 662c 2073 6572 6961 6c5f  al(self, serial_
-0000f1a0: 6e75 6d29 3a0a 2020 2020 2020 2020 7265  num):.        re
-0000f1b0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000f1c0: 6765 7428 6622 2f63 6f6e 6669 6775 7261  get(f"/configura
-0000f1d0: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
-0000f1e0: 7b73 6572 6961 6c5f 6e75 6d7d 2f67 726f  {serial_num}/gro
-0000f1f0: 7570 2229 0a0a 2020 2020 2320 6173 796e  up")..    # asyn
-0000f200: 6320 6465 6620 6765 745f 6468 6370 5f63  c def get_dhcp_c
-0000f210: 6c69 656e 745f 696e 666f 5f62 795f 6777  lient_info_by_gw
-0000f220: 2873 656c 662c 2073 6572 6961 6c5f 6e75  (self, serial_nu
-0000f230: 6d29 3a0a 2020 2020 2320 2020 2020 7572  m):.    #     ur
-0000f240: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
-0000f250: 672f 7631 2f6d 6f62 696c 6974 795f 636f  g/v1/mobility_co
-0000f260: 6e74 726f 6c6c 6572 732f 7b73 6572 6961  ntrollers/{seria
-0000f270: 6c5f 6e75 6d7d 2f64 6863 705f 636c 6965  l_num}/dhcp_clie
-0000f280: 6e74 7322 0a20 2020 2023 2020 2020 2070  nts".    #     p
-0000f290: 6172 616d 7320 3d20 7b22 7265 7365 7276  arams = {"reserv
-0000f2a0: 6174 696f 6e22 3a20 4661 6c73 657d 0a20  ation": False}. 
-0000f2b0: 2020 2023 2020 2020 2072 6574 7572 6e20     #     return 
-0000f2c0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-0000f2d0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-0000f2e0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-0000f2f0: 6620 6765 745f 766c 616e 5f69 6e66 6f5f  f get_vlan_info_
-0000f300: 6279 5f67 7728 7365 6c66 2c20 7365 7269  by_gw(self, seri
-0000f310: 616c 5f6e 756d 293a 0a20 2020 2020 2020  al_num):.       
-0000f320: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0000f330: 6c66 2e67 6574 2866 222f 6d6f 6e69 746f  lf.get(f"/monito
-0000f340: 7269 6e67 2f76 312f 6d6f 6269 6c69 7479  ring/v1/mobility
-0000f350: 5f63 6f6e 7472 6f6c 6c65 7273 2f7b 7365  _controllers/{se
-0000f360: 7269 616c 5f6e 756d 7d2f 766c 616e 2229  rial_num}/vlan")
-0000f370: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0000f380: 6765 745f 7570 6c69 6e6b 5f69 6e66 6f5f  get_uplink_info_
-0000f390: 6279 5f67 7728 7365 6c66 2c20 7365 7269  by_gw(self, seri
-0000f3a0: 616c 5f6e 756d 2c20 7469 6d65 7261 6e67  al_num, timerang
-0000f3b0: 653a 2073 7472 203d 2022 3348 2229 3a0a  e: str = "3H"):.
-0000f3c0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0000f3d0: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f6d  /monitoring/v1/m
-0000f3e0: 6f62 696c 6974 795f 636f 6e74 726f 6c6c  obility_controll
-0000f3f0: 6572 732f 7b73 6572 6961 6c5f 6e75 6d7d  ers/{serial_num}
-0000f400: 2f75 706c 696e 6b73 220a 2020 2020 2020  /uplinks".      
-0000f410: 2020 7061 7261 6d73 203d 207b 2274 696d    params = {"tim
-0000f420: 6572 616e 6765 223a 2074 696d 6572 616e  erange": timeran
-0000f430: 6765 7d0a 2020 2020 2020 2020 7265 7475  ge}.        retu
-0000f440: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0000f450: 7428 7572 6c2c 2070 6172 616d 7329 0a0a  t(url, params)..
-0000f460: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-0000f470: 745f 7570 6c69 6e6b 5f74 756e 6e65 6c5f  t_uplink_tunnel_
-0000f480: 7374 6174 735f 6279 5f67 7728 7365 6c66  stats_by_gw(self
-0000f490: 2c20 7365 7269 616c 5f6e 756d 293a 0a20  , serial_num):. 
-0000f4a0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-0000f4b0: 6d6f 6e69 746f 7269 6e67 2f76 312f 6d6f  monitoring/v1/mo
-0000f4c0: 6269 6c69 7479 5f63 6f6e 7472 6f6c 6c65  bility_controlle
-0000f4d0: 7273 2f7b 7365 7269 616c 5f6e 756d 7d2f  rs/{serial_num}/
-0000f4e0: 7570 6c69 6e6b 732f 7475 6e6e 656c 5f73  uplinks/tunnel_s
-0000f4f0: 7461 7473 220a 2020 2020 2020 2020 7265  tats".        re
-0000f500: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0000f510: 6765 7428 7572 6c29 0a0a 2020 2020 6173  get(url)..    as
-0000f520: 796e 6320 6465 6620 6765 745f 7570 6c69  ync def get_upli
-0000f530: 6e6b 5f73 7461 7465 5f62 795f 6772 6f75  nk_state_by_grou
-0000f540: 7028 7365 6c66 2c20 6772 6f75 703a 2073  p(self, group: s
-0000f550: 7472 2920 2d3e 2052 6573 706f 6e73 653a  tr) -> Response:
-0000f560: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-0000f570: 2f6d 6f6e 6974 6f72 696e 672f 7631 2f6d  /monitoring/v1/m
-0000f580: 6f62 696c 6974 795f 636f 6e74 726f 6c6c  obility_controll
-0000f590: 6572 732f 7570 6c69 6e6b 732f 6469 7374  ers/uplinks/dist
-0000f5a0: 7269 6275 7469 6f6e 220a 2020 2020 2020  ribution".      
-0000f5b0: 2020 7061 7261 6d73 203d 207b 2267 726f    params = {"gro
-0000f5c0: 7570 223a 2067 726f 7570 7d0a 2020 2020  up": group}.    
-0000f5d0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0000f5e0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-0000f5f0: 6172 616d 7329 0a0a 2020 2020 2320 544f  arams)..    # TO
-0000f600: 444f 206d 6f76 6520 636c 6561 6e65 720a  DO move cleaner.
-0000f610: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
-0000f620: 745f 616c 6c5f 7369 7465 7328 0a20 2020  t_all_sites(.   
-0000f630: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0000f640: 2020 2063 616c 6375 6c61 7465 5f74 6f74     calculate_tot
-0000f650: 616c 3a20 626f 6f6c 203d 2046 616c 7365  al: bool = False
-0000f660: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
-0000f670: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
-0000f680: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
-0000f690: 3130 3030 0a20 2020 2029 202d 3e20 5265  1000.    ) -> Re
-0000f6a0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-0000f6b0: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
-0000f6c0: 2020 2020 2020 2022 6361 6c63 756c 6174         "calculat
-0000f6d0: 655f 746f 7461 6c22 3a20 7374 7228 6361  e_total": str(ca
-0000f6e0: 6c63 756c 6174 655f 746f 7461 6c29 2c0a  lculate_total),.
-0000f6f0: 2020 2020 2020 2020 2020 2020 226f 6666              "off
-0000f700: 7365 7422 3a20 6f66 6673 6574 2c0a 2020  set": offset,.  
-0000f710: 2020 2020 2020 2020 2020 226c 696d 6974            "limit
-0000f720: 223a 206c 696d 6974 0a20 2020 2020 2020  ": limit.       
-0000f730: 207d 0a20 2020 2020 2020 2072 6574 7572   }.        retur
-0000f740: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-0000f750: 2822 2f63 656e 7472 616c 2f76 322f 7369  ("/central/v2/si
-0000f760: 7465 7322 2c20 7061 7261 6d73 3d70 6172  tes", params=par
-0000f770: 616d 732c 2063 616c 6c62 6163 6b3d 636c  ams, callback=cl
-0000f780: 6561 6e65 722e 7369 7465 7329 0a0a 2020  eaner.sites)..  
-0000f790: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-0000f7a0: 7369 7465 5f64 6574 6169 6c73 2873 656c  site_details(sel
-0000f7b0: 662c 2073 6974 655f 6964 293a 0a20 2020  f, site_id):.   
-0000f7c0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-0000f7d0: 7420 7365 6c66 2e67 6574 2866 222f 6365  t self.get(f"/ce
-0000f7e0: 6e74 7261 6c2f 7632 2f73 6974 6573 2f7b  ntral/v2/sites/{
-0000f7f0: 7369 7465 5f69 647d 222c 2063 616c 6c62  site_id}", callb
-0000f800: 6163 6b3d 636c 6561 6e65 722e 7369 7465  ack=cleaner.site
-0000f810: 7329 0a0a 2020 2020 2320 544f 444f 206d  s)..    # TODO m
-0000f820: 616b 6520 636f 6d6d 616e 6420 7468 6973  ake command this
-0000f830: 2073 686f 7773 2065 7665 6e74 7320 6672   shows events fr
-0000f840: 6f6d 2064 6576 6963 6573 2028 5573 6572  om devices (User
-0000f850: 2061 636b 2072 6563 2066 726f 6d20 4448   ack rec from DH
-0000f860: 4350 2073 6572 7665 722c 2045 4150 2072  CP server, EAP r
-0000f870: 6573 706f 6e73 6520 666f 7220 636c 6965  esponse for clie
-0000f880: 6e74 2e2e 2e29 0a20 2020 2061 7379 6e63  nt...).    async
-0000f890: 2064 6566 2067 6574 5f65 7665 6e74 7328   def get_events(
-0000f8a0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-0000f8b0: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
-0000f8c0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0000f8d0: 2020 7377 6172 6d5f 6964 3a20 7374 7220    swarm_id: str 
-0000f8e0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000f8f0: 6c61 6265 6c3a 2073 7472 203d 204e 6f6e  label: str = Non
-0000f900: 652c 0a20 2020 2020 2020 2066 726f 6d5f  e,.        from_
-0000f910: 7473 3a20 696e 7420 3d20 4e6f 6e65 2c0a  ts: int = None,.
-0000f920: 2020 2020 2020 2020 746f 5f74 733a 2069          to_ts: i
-0000f930: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
-0000f940: 2020 206d 6163 6164 6472 3a20 7374 7220     macaddr: str 
-0000f950: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000f960: 6273 7369 643a 2073 7472 203d 204e 6f6e  bssid: str = Non
-0000f970: 652c 0a20 2020 2020 2020 2064 6576 6963  e,.        devic
-0000f980: 655f 6d61 633a 2073 7472 203d 204e 6f6e  e_mac: str = Non
-0000f990: 652c 0a20 2020 2020 2020 2068 6f73 746e  e,.        hostn
-0000f9a0: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
-0000f9b0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
-0000f9c0: 7479 7065 3a20 7374 7220 3d20 4e6f 6e65  type: str = None
-0000f9d0: 2c0a 2020 2020 2020 2020 736f 7274 3a20  ,.        sort: 
-0000f9e0: 7374 7220 3d20 272d 7469 6d65 7374 616d  str = '-timestam
-0000f9f0: 7027 2c0a 2020 2020 2020 2020 7369 7465  p',.        site
-0000fa00: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0000fa10: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
-0000fa20: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0000fa30: 2020 6c65 7665 6c3a 2073 7472 203d 204e    level: str = N
-0000fa40: 6f6e 652c 0a20 2020 2020 2020 2065 7665  one,.        eve
-0000fa50: 6e74 5f64 6573 6372 6970 7469 6f6e 3a20  nt_description: 
-0000fa60: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000fa70: 2020 2020 6576 656e 745f 7479 7065 3a20      event_type: 
-0000fa80: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-0000fa90: 2020 2020 6669 656c 6473 3a20 7374 7220      fields: str 
-0000faa0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0000fab0: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
-0000fac0: 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020   bool = None,.  
-0000fad0: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-0000fae0: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-0000faf0: 696d 6974 3a20 696e 7420 3d20 3130 3030  imit: int = 1000
-0000fb00: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-0000fb10: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0000fb20: 4c69 7374 2045 7665 6e74 732e 2076 320a  List Events. v2.
-0000fb30: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0000fb40: 2020 2020 2020 2020 2020 2067 726f 7570             group
-0000fb50: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0000fb60: 3a20 4669 6c74 6572 2062 7920 6772 6f75  : Filter by grou
-0000fb70: 7020 6e61 6d65 0a20 2020 2020 2020 2020  p name.         
-0000fb80: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
-0000fb90: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-0000fba0: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
-0000fbb0: 2020 2020 2020 2020 2020 2020 6c61 6265              labe
-0000fbc0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-0000fbd0: 293a 2046 696c 7465 7220 6279 204c 6162  ): Filter by Lab
-0000fbe0: 656c 206e 616d 650a 2020 2020 2020 2020  el name.        
-0000fbf0: 2020 2020 6672 6f6d 5f74 7320 2869 6e74      from_ts (int
-0000fc00: 2c20 6f70 7469 6f6e 616c 293a 204e 6565  , optional): Nee
-0000fc10: 6420 696e 666f 726d 6174 696f 6e20 6672  d information fr
-0000fc20: 6f6d 2074 6869 7320 7469 6d65 7374 616d  om this timestam
-0000fc30: 702e 2054 696d 6573 7461 6d70 2069 7320  p. Timestamp is 
-0000fc40: 6570 6f63 680a 2020 2020 2020 2020 2020  epoch.          
-0000fc50: 2020 2020 2020 696e 2073 6563 6f6e 6473        in seconds
-0000fc60: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
-0000fc70: 7265 6e74 2074 696d 6573 7461 6d70 206d  rent timestamp m
-0000fc80: 696e 7573 2033 2068 6f75 7273 0a20 2020  inus 3 hours.   
-0000fc90: 2020 2020 2020 2020 2074 6f5f 7473 2028           to_ts (
-0000fca0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-0000fcb0: 4e65 6564 2069 6e66 6f72 6d61 7469 6f6e  Need information
-0000fcc0: 2074 6f20 7468 6973 2074 696d 6573 7461   to this timesta
-0000fcd0: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-0000fce0: 2065 706f 6368 2069 6e0a 2020 2020 2020   epoch in.      
-0000fcf0: 2020 2020 2020 2020 2020 7365 636f 6e64            second
-0000fd00: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-0000fd10: 7272 656e 7420 7469 6d65 7374 616d 700a  rrent timestamp.
-0000fd20: 2020 2020 2020 2020 2020 2020 6d61 6361              maca
-0000fd30: 6464 7220 2873 7472 2c20 6f70 7469 6f6e  ddr (str, option
-0000fd40: 616c 293a 2046 696c 7465 7220 6279 2063  al): Filter by c
-0000fd50: 6c69 656e 7420 4d41 4320 6164 6472 6573  lient MAC addres
-0000fd60: 730a 2020 2020 2020 2020 2020 2020 6273  s.            bs
-0000fd70: 7369 6420 2873 7472 2c20 6f70 7469 6f6e  sid (str, option
-0000fd80: 616c 293a 2046 696c 7465 7220 6279 2062  al): Filter by b
-0000fd90: 7373 6964 0a20 2020 2020 2020 2020 2020  ssid.           
-0000fda0: 2064 6576 6963 655f 6d61 6320 2873 7472   device_mac (str
-0000fdb0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-0000fdc0: 7465 7220 6279 2064 6576 6963 655f 6d61  ter by device_ma
-0000fdd0: 630a 2020 2020 2020 2020 2020 2020 686f  c.            ho
-0000fde0: 7374 6e61 6d65 2028 7374 722c 206f 7074  stname (str, opt
-0000fdf0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
-0000fe00: 7920 686f 7374 6e61 6d65 0a20 2020 2020  y hostname.     
-0000fe10: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
-0000fe20: 7065 2028 7374 722c 206f 7074 696f 6e61  pe (str, optiona
-0000fe30: 6c29 3a20 4669 6c74 6572 2062 7920 6465  l): Filter by de
-0000fe40: 7669 6365 2074 7970 652e 0a20 2020 2020  vice type..     
-0000fe50: 2020 2020 2020 2020 2020 2056 616c 6964             Valid
-0000fe60: 2056 616c 7565 733a 2041 4343 4553 5320   Values: ACCESS 
-0000fe70: 504f 494e 542c 2053 5749 5443 482c 2047  POINT, SWITCH, G
-0000fe80: 4154 4557 4159 2c20 434c 4945 4e54 0a20  ATEWAY, CLIENT. 
-0000fe90: 2020 2020 2020 2020 2020 2073 6f72 7420             sort 
-0000fea0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-0000feb0: 2053 6f72 7420 6279 2064 6573 632f 6173   Sort by desc/as
-0000fec0: 6320 7573 696e 6720 2d74 696d 6573 7461  c using -timesta
-0000fed0: 6d70 2f2b 7469 6d65 7374 616d 702e 2044  mp/+timestamp. D
-0000fee0: 6566 6175 6c74 2069 730a 2020 2020 2020  efault is.      
-0000fef0: 2020 2020 2020 2020 2020 272d 7469 6d65            '-time
-0000ff00: 7374 616d 7027 2020 5661 6c69 6420 5661  stamp'  Valid Va
-0000ff10: 6c75 6573 3a20 2d74 696d 6573 7461 6d70  lues: -timestamp
-0000ff20: 2c20 2b74 696d 6573 7461 6d70 0a20 2020  , +timestamp.   
-0000ff30: 2020 2020 2020 2020 2073 6974 6520 2873           site (s
-0000ff40: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-0000ff50: 696c 7465 7220 6279 2073 6974 6520 6e61  ilter by site na
-0000ff60: 6d65 0a20 2020 2020 2020 2020 2020 2073  me.            s
-0000ff70: 6572 6961 6c20 2873 7472 2c20 6f70 7469  erial (str, opti
-0000ff80: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-0000ff90: 2073 7769 7463 6820 7365 7269 616c 206e   switch serial n
-0000ffa0: 756d 6265 720a 2020 2020 2020 2020 2020  umber.          
-0000ffb0: 2020 6c65 7665 6c20 2873 7472 2c20 6f70    level (str, op
-0000ffc0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0000ffd0: 6279 2065 7665 6e74 206c 6576 656c 0a20  by event level. 
-0000ffe0: 2020 2020 2020 2020 2020 2065 7665 6e74             event
-0000fff0: 5f64 6573 6372 6970 7469 6f6e 2028 7374  _description (st
-00010000: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00010010: 6c74 6572 2062 7920 6576 656e 7420 6465  lter by event de
-00010020: 7363 7269 7074 696f 6e0a 2020 2020 2020  scription.      
-00010030: 2020 2020 2020 6576 656e 745f 7479 7065        event_type
-00010040: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00010050: 3a20 4669 6c74 6572 2062 7920 6576 656e  : Filter by even
-00010060: 7420 7479 7065 0a20 2020 2020 2020 2020  t type.         
-00010070: 2020 2066 6965 6c64 7320 2873 7472 2c20     fields (str, 
-00010080: 6f70 7469 6f6e 616c 293a 2043 6f6d 6d61  optional): Comma
-00010090: 2073 6570 6172 6174 6564 206c 6973 7420   separated list 
-000100a0: 6f66 2066 6965 6c64 7320 746f 2062 6520  of fields to be 
-000100b0: 7265 7475 726e 6564 2e20 5661 6c69 6420  returned. Valid 
-000100c0: 6669 656c 6473 2061 7265 0a20 2020 2020  fields are.     
-000100d0: 2020 2020 2020 2020 2020 206e 756d 6265             numbe
-000100e0: 722c 206c 6576 656c 0a20 2020 2020 2020  r, level.       
-000100f0: 2020 2020 2063 616c 6375 6c61 7465 5f74       calculate_t
-00010100: 6f74 616c 2028 626f 6f6c 2c20 6f70 7469  otal (bool, opti
-00010110: 6f6e 616c 293a 2057 6865 7468 6572 2074  onal): Whether t
-00010120: 6f20 6361 6c63 756c 6174 6520 746f 7461  o calculate tota
-00010130: 6c20 6576 656e 7473 0a20 2020 2020 2020  l events.       
-00010140: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-00010150: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-00010160: 696e 6174 696f 6e20 6f66 6673 6574 2044  ination offset D
-00010170: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
-00010180: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
-00010190: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-000101a0: 2050 6167 696e 6174 696f 6e20 6c69 6d69   Pagination limi
-000101b0: 742e 2044 6566 6175 6c74 2069 7320 3130  t. Default is 10
-000101c0: 3020 616e 6420 6d61 7820 6973 2031 3030  0 and max is 100
-000101d0: 3020 4465 6661 756c 7473 2074 6f20 3130  0 Defaults to 10
-000101e0: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
-000101f0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-00010200: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-00010210: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-00010220: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-00010230: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-00010240: 2022 2f6d 6f6e 6974 6f72 696e 672f 7632   "/monitoring/v2
-00010250: 2f65 7665 6e74 7322 0a0a 2020 2020 2020  /events"..      
-00010260: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-00010270: 2020 2020 2020 2020 2022 6772 6f75 7022           "group"
-00010280: 3a20 6772 6f75 702c 0a20 2020 2020 2020  : group,.       
-00010290: 2020 2020 2022 7377 6172 6d5f 6964 223a       "swarm_id":
-000102a0: 2073 7761 726d 5f69 642c 0a20 2020 2020   swarm_id,.     
-000102b0: 2020 2020 2020 2022 6c61 6265 6c22 3a20         "label": 
-000102c0: 6c61 6265 6c2c 0a20 2020 2020 2020 2020  label,.         
-000102d0: 2020 2022 6672 6f6d 5f74 696e 6d65 7374     "from_tinmest
-000102e0: 616d 7022 3a20 6672 6f6d 5f74 732c 0a20  amp": from_ts,. 
-000102f0: 2020 2020 2020 2020 2020 2022 746f 5f74             "to_t
-00010300: 696e 6d65 7374 616d 7022 3a20 746f 5f74  inmestamp": to_t
-00010310: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
-00010320: 6d61 6361 6464 7227 3a20 6d61 6361 6464  macaddr': macadd
-00010330: 722c 0a20 2020 2020 2020 2020 2020 2027  r,.            '
-00010340: 6273 7369 6427 3a20 6273 7369 642c 0a20  bssid': bssid,. 
-00010350: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-00010360: 6365 5f6d 6163 273a 2064 6576 6963 655f  ce_mac': device_
-00010370: 6d61 632c 0a20 2020 2020 2020 2020 2020  mac,.           
-00010380: 2027 686f 7374 6e61 6d65 273a 2068 6f73   'hostname': hos
-00010390: 746e 616d 652c 0a20 2020 2020 2020 2020  tname,.         
-000103a0: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
-000103b0: 3a20 6465 7669 6365 5f74 7970 652c 0a20  : device_type,. 
-000103c0: 2020 2020 2020 2020 2020 2027 736f 7274             'sort
-000103d0: 273a 2073 6f72 742c 0a20 2020 2020 2020  ': sort,.       
-000103e0: 2020 2020 2027 7369 7465 273a 2073 6974       'site': sit
-000103f0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-00010400: 7365 7269 616c 273a 2073 6572 6961 6c2c  serial': serial,
-00010410: 0a20 2020 2020 2020 2020 2020 2027 6c65  .            'le
-00010420: 7665 6c27 3a20 6c65 7665 6c2c 0a20 2020  vel': level,.   
-00010430: 2020 2020 2020 2020 2027 6576 656e 745f           'event_
-00010440: 6465 7363 7269 7074 696f 6e27 3a20 6576  description': ev
-00010450: 656e 745f 6465 7363 7269 7074 696f 6e2c  ent_description,
-00010460: 0a20 2020 2020 2020 2020 2020 2027 6576  .            'ev
-00010470: 656e 745f 7479 7065 273a 2065 7665 6e74  ent_type': event
-00010480: 5f74 7970 652c 0a20 2020 2020 2020 2020  _type,.         
-00010490: 2020 2027 6669 656c 6473 273a 2066 6965     'fields': fie
-000104a0: 6c64 732c 0a20 2020 2020 2020 2020 2020  lds,.           
-000104b0: 2027 6361 6c63 756c 6174 655f 746f 7461   'calculate_tota
-000104c0: 6c27 3a20 6361 6c63 756c 6174 655f 746f  l': calculate_to
-000104d0: 7461 6c2c 0a20 2020 2020 2020 2020 2020  tal,.           
-000104e0: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
-000104f0: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
-00010500: 6c69 6d69 7422 3a20 6c69 6d69 742c 0a20  limit": limit,. 
-00010510: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00010520: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00010530: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-00010540: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-00010550: 2061 7379 6e63 2064 6566 2067 6574 5f61   async def get_a
-00010560: 6c6c 5f77 6562 686f 6f6b 7328 7365 6c66  ll_webhooks(self
-00010570: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00010580: 2020 2020 2020 2022 2222 4c69 7374 2061         """List a
-00010590: 6c6c 2064 6566 696e 6564 2077 6562 686f  ll defined webho
-000105a0: 6f6b 732e 0a0a 2020 2020 2020 2020 5265  oks...        Re
-000105b0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-000105c0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-000105d0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-000105e0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-000105f0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00010600: 3d20 222f 6365 6e74 7261 6c2f 7631 2f77  = "/central/v1/w
-00010610: 6562 686f 6f6b 7322 0a0a 2020 2020 2020  ebhooks"..      
-00010620: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00010630: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
-00010640: 2020 6173 796e 6320 6465 6620 6164 645f    async def add_
-00010650: 7765 6268 6f6f 6b28 0a20 2020 2020 2020  webhook(.       
-00010660: 2073 656c 662c 0a20 2020 2020 2020 206e   self,.        n
-00010670: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
-00010680: 2020 7572 6c73 3a20 4c69 7374 5b73 7472    urls: List[str
-00010690: 5d2c 0a20 2020 2029 202d 3e20 5265 7370  ],.    ) -> Resp
-000106a0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-000106b0: 2241 6464 202f 2075 7064 6174 6520 5765  "Add / update We
-000106c0: 6268 6f6f 6b2e 0a0a 2020 2020 2020 2020  bhook...        
-000106d0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-000106e0: 2020 6e61 6d65 2028 7374 7229 3a20 6e61    name (str): na
-000106f0: 6d65 206f 6620 7468 6520 7765 6268 6f6f  me of the webhoo
-00010700: 6b0a 2020 2020 2020 2020 2020 2020 7572  k.            ur
-00010710: 6c73 2028 4c69 7374 5b73 7472 5d29 3a20  ls (List[str]): 
-00010720: 4c69 7374 206f 6620 7765 6268 6f6f 6b20  List of webhook 
-00010730: 7572 6c73 0a0a 2020 2020 2020 2020 5265  urls..        Re
-00010740: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00010750: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00010760: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00010770: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00010780: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00010790: 3d20 222f 6365 6e74 7261 6c2f 7631 2f77  = "/central/v1/w
-000107a0: 6562 686f 6f6b 7322 0a20 2020 2020 2020  ebhooks".       
-000107b0: 2075 726c 7320 3d20 7574 696c 732e 6c69   urls = utils.li
-000107c0: 7374 6966 7928 7572 6c73 290a 0a20 2020  stify(urls)..   
-000107d0: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-000107e0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-000107f0: 6e61 6d65 273a 206e 616d 652c 0a20 2020  name': name,.   
-00010800: 2020 2020 2020 2020 2027 7572 6c73 273a           'urls':
-00010810: 2075 726c 730a 2020 2020 2020 2020 7d0a   urls.        }.
-00010820: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00010830: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-00010840: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-00010850: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-00010860: 7379 6e63 2064 6566 2075 7064 6174 655f  sync def update_
-00010870: 7765 6268 6f6f 6b28 0a20 2020 2020 2020  webhook(.       
-00010880: 2073 656c 662c 0a20 2020 2020 2020 2077   self,.        w
-00010890: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
-000108a0: 206e 616d 653a 2073 7472 2c0a 2020 2020   name: str,.    
-000108b0: 2020 2020 7572 6c73 3a20 4c69 7374 5b73      urls: List[s
-000108c0: 7472 5d2c 0a20 2020 2029 202d 3e20 5265  tr],.    ) -> Re
-000108d0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-000108e0: 2222 2255 7064 6174 6520 7765 6268 6f6f  """Update webhoo
-000108f0: 6b20 7365 7474 696e 6773 2e0a 0a20 2020  k settings...   
-00010900: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00010910: 2020 2020 2020 2077 6964 2028 7374 7229         wid (str)
-00010920: 3a20 6964 206f 6620 7468 6520 7765 6268  : id of the webh
-00010930: 6f6f 6b0a 2020 2020 2020 2020 2020 2020  ook.            
-00010940: 6e61 6d65 2028 7374 7229 3a20 6e61 6d65  name (str): name
-00010950: 206f 6620 7468 6520 7765 6268 6f6f 6b0a   of the webhook.
-00010960: 2020 2020 2020 2020 2020 2020 7572 6c73              urls
-00010970: 2028 4c69 7374 5b73 7472 5d29 3a20 4c69   (List[str]): Li
-00010980: 7374 206f 6620 7765 6268 6f6f 6b20 7572  st of webhook ur
-00010990: 6c73 0a0a 2020 2020 2020 2020 5265 7475  ls..        Retu
-000109a0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-000109b0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-000109c0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-000109d0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-000109e0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-000109f0: 6622 2f63 656e 7472 616c 2f76 312f 7765  f"/central/v1/we
-00010a00: 6268 6f6f 6b73 2f7b 7769 647d 220a 0a20  bhooks/{wid}".. 
-00010a10: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-00010a20: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00010a30: 2027 6e61 6d65 273a 206e 616d 652c 0a20   'name': name,. 
-00010a40: 2020 2020 2020 2020 2020 2027 7572 6c73             'urls
-00010a50: 273a 2075 726c 730a 2020 2020 2020 2020  ': urls.        
-00010a60: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-00010a70: 6e20 6177 6169 7420 7365 6c66 2e70 7574  n await self.put
-00010a80: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
-00010a90: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
-00010aa0: 6173 796e 6320 6465 6620 6465 6c65 7465  async def delete
-00010ab0: 5f77 6562 686f 6f6b 280a 2020 2020 2020  _webhook(.      
-00010ac0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-00010ad0: 7769 643a 2073 7472 2c0a 2020 2020 2920  wid: str,.    ) 
-00010ae0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00010af0: 2020 2020 2022 2222 4465 6c65 7465 2057       """Delete W
-00010b00: 6562 686f 6f6b 732e 0a0a 2020 2020 2020  ebhooks...      
-00010b10: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00010b20: 2020 2020 7769 6420 2873 7472 293a 2069      wid (str): i
-00010b30: 6420 6f66 2074 6865 2077 6562 686f 6f6b  d of the webhook
-00010b40: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00010b50: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00010b60: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00010b70: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00010b80: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00010b90: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00010ba0: 2f63 656e 7472 616c 2f76 312f 7765 6268  /central/v1/webh
-00010bb0: 6f6f 6b73 2f7b 7769 647d 220a 0a20 2020  ooks/{wid}"..   
-00010bc0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00010bd0: 7420 7365 6c66 2e64 656c 6574 6528 7572  t self.delete(ur
-00010be0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
-00010bf0: 6620 7265 6672 6573 685f 7765 6268 6f6f  f refresh_webhoo
-00010c00: 6b5f 746f 6b65 6e28 0a20 2020 2020 2020  k_token(.       
-00010c10: 2073 656c 662c 0a20 2020 2020 2020 2077   self,.        w
-00010c20: 6964 3a20 7374 722c 0a20 2020 2029 202d  id: str,.    ) -
-00010c30: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00010c40: 2020 2020 2222 2252 6566 7265 7368 2074      """Refresh t
-00010c50: 6865 2077 6562 686f 6f6b 2074 6f6b 656e  he webhook token
-00010c60: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-00010c70: 0a20 2020 2020 2020 2020 2020 2077 6964  .            wid
-00010c80: 2028 7374 7229 3a20 6964 206f 6620 7468   (str): id of th
-00010c90: 6520 7765 6268 6f6f 6b0a 0a20 2020 2020  e webhook..     
-00010ca0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00010cb0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00010cc0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00010cd0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00010ce0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00010cf0: 2075 726c 203d 2066 222f 6365 6e74 7261   url = f"/centra
-00010d00: 6c2f 7631 2f77 6562 686f 6f6b 732f 7b77  l/v1/webhooks/{w
-00010d10: 6964 7d2f 746f 6b65 6e22 0a0a 2020 2020  id}/token"..    
-00010d20: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00010d30: 2073 656c 662e 7075 7428 7572 6c29 0a0a   self.put(url)..
-00010d40: 2020 2020 2320 4150 492d 464c 4157 2054      # API-FLAW T
-00010d50: 6573 7420 7765 6268 6f6f 6b20 646f 6573  est webhook does
-00010d60: 206e 6f74 2073 656e 6420 616e 2022 6964   not send an "id
-00010d70: 222c 2069 7427 7320 686f 7720 796f 7520  ", it's how you 
-00010d80: 6465 7465 726d 696e 6520 7768 6174 2074  determine what t
-00010d90: 6f20 436c 6f73 650a 2020 2020 6173 796e  o Close.    asyn
-00010da0: 6320 6465 6620 7465 7374 5f77 6562 686f  c def test_webho
-00010db0: 6f6b 280a 2020 2020 2020 2020 7365 6c66  ok(.        self
-00010dc0: 2c0a 2020 2020 2020 2020 7769 643a 2073  ,.        wid: s
-00010dd0: 7472 2c0a 2020 2020 2920 2d3e 2052 6573  tr,.    ) -> Res
-00010de0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00010df0: 2222 5465 7374 2066 6f72 2077 6562 686f  ""Test for webho
-00010e00: 6f6b 206e 6f74 6966 6963 6174 696f 6e2e  ok notification.
-00010e10: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00010e20: 2020 2020 2020 2020 2020 2020 7769 6420              wid 
-00010e30: 2873 7472 293a 2069 6420 6f66 2074 6865  (str): id of the
-00010e40: 2077 6562 686f 6f6b 0a0a 2020 2020 2020   webhook..      
-00010e50: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00010e60: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00010e70: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00010e80: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00010e90: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00010ea0: 7572 6c20 3d20 6622 2f63 656e 7472 616c  url = f"/central
-00010eb0: 2f76 312f 7765 6268 6f6f 6b73 2f7b 7769  /v1/webhooks/{wi
-00010ec0: 647d 2f70 696e 6722 0a0a 2020 2020 2020  d}/ping"..      
-00010ed0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00010ee0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
-00010ef0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-00010f00: 7369 7465 5f76 6c61 6e73 2873 656c 662c  site_vlans(self,
-00010f10: 2073 6974 655f 6964 3a20 696e 742c 2073   site_id: int, s
-00010f20: 6561 7263 683a 2073 7472 203d 204e 6f6e  earch: str = Non
-00010f30: 652c 206f 6666 7365 743a 2069 6e74 203d  e, offset: int =
-00010f40: 2030 2c20 6c69 6d69 743a 2069 6e74 203d   0, limit: int =
-00010f50: 2031 3030 2920 2d3e 2052 6573 706f 6e73   100) -> Respons
-00010f60: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-00010f70: 7420 766c 616e 206c 6973 7420 6f66 2061  t vlan list of a
-00010f80: 2073 6974 652e 0a0a 2020 2020 2020 2020   site...        
-00010f90: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00010fa0: 2020 7369 7465 5f69 6420 2869 6e74 293a    site_id (int):
-00010fb0: 2053 6974 6520 4944 2e0a 2020 2020 2020   Site ID..      
-00010fc0: 2020 2020 2020 7365 6172 6368 2028 7374        search (st
-00010fd0: 722c 206f 7074 696f 6e61 6c29 3a20 7365  r, optional): se
-00010fe0: 6172 6368 2e0a 2020 2020 2020 2020 2020  arch..          
-00010ff0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-00011000: 7074 696f 6e61 6c29 3a20 6f66 6673 6574  ptional): offset
-00011010: 2e20 4465 6661 756c 7473 2074 6f20 302e  . Defaults to 0.
-00011020: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-00011030: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-00011040: 6c29 3a20 6c69 6d69 7420 4465 6661 756c  l): limit Defaul
-00011050: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
-00011060: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00011070: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00011080: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00011090: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-000110a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000110b0: 2020 7572 6c20 3d20 6622 2f74 6f70 6f6c    url = f"/topol
-000110c0: 6f67 795f 6578 7465 726e 616c 5f61 7069  ogy_external_api
-000110d0: 2f76 6c61 6e73 2f7b 7369 7465 5f69 647d  /vlans/{site_id}
-000110e0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
-000110f0: 7320 3d20 7b22 7365 6172 6368 223a 2073  s = {"search": s
-00011100: 6561 7263 682c 2022 6f66 6673 6574 223a  earch, "offset":
-00011110: 206f 6666 7365 742c 2022 6c69 6d69 7422   offset, "limit"
-00011120: 3a20 6c69 6d69 747d 0a0a 2020 2020 2020  : limit}..      
-00011130: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00011140: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-00011150: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-00011160: 2061 7379 6e63 2064 6566 2073 656e 645f   async def send_
-00011170: 626f 756e 6365 5f63 6f6d 6d61 6e64 5f74  bounce_command_t
-00011180: 6f5f 6465 7669 6365 2873 656c 662c 2073  o_device(self, s
-00011190: 6572 6961 6c3a 2073 7472 2c20 636f 6d6d  erial: str, comm
-000111a0: 616e 643a 2073 7472 2c20 706f 7274 3a20  and: str, port: 
-000111b0: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
-000111c0: 3a0a 2020 2020 2020 2020 2222 2242 6f75  :.        """Bou
-000111d0: 6e63 6520 696e 7465 7266 6163 6520 6f72  nce interface or
-000111e0: 2050 4f45 2028 706f 7765 722d 6f76 6572   POE (power-over
-000111f0: 2d65 7468 6572 6e65 7429 206f 6e20 7377  -ethernet) on sw
-00011200: 6974 6368 2070 6f72 742e 2020 5661 6c69  itch port.  Vali
-00011210: 6420 6f6e 6c79 2066 6f72 2041 7275 6261  d only for Aruba
-00011220: 2053 7769 7463 6865 732e 0a0a 2020 2020   Switches...    
-00011230: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00011240: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-00011250: 7229 3a20 5365 7269 616c 206f 6620 6465  r): Serial of de
-00011260: 7669 6365 0a20 2020 2020 2020 2020 2020  vice.           
-00011270: 2063 6f6d 6d61 6e64 2028 7374 7229 3a20   command (str): 
-00011280: 436f 6d6d 616e 6420 6d65 6e74 696f 6e65  Command mentione
-00011290: 6420 696e 2074 6865 2064 6573 6372 6970  d in the descrip
-000112a0: 7469 6f6e 2074 6861 7420 6973 2074 6f20  tion that is to 
-000112b0: 6265 2065 7865 6375 7465 640a 2020 2020  be executed.    
-000112c0: 2020 2020 2020 2020 706f 7274 2028 7374          port (st
-000112d0: 7229 3a20 5370 6563 6966 7920 696e 7465  r): Specify inte
-000112e0: 7266 6163 6520 706f 7274 2069 6e20 7468  rface port in th
-000112f0: 6520 666f 726d 6174 206f 6620 706f 7274  e format of port
-00011300: 206e 756d 6265 7220 666f 7220 6465 7669   number for devi
-00011310: 6365 7320 6f66 2074 7970 6520 4850 5043  ces of type HPPC
-00011320: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011330: 2053 7769 7463 6820 6f72 2073 6c6f 742f   Switch or slot/
-00011340: 6368 6173 7369 732f 706f 7274 2066 6f72  chassis/port for
-00011350: 2043 5820 5377 6974 6368 0a0a 2020 2020   CX Switch..    
-00011360: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-00011370: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00011380: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00011390: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-000113a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000113b0: 2020 7572 6c20 3d20 6622 2f64 6576 6963    url = f"/devic
-000113c0: 655f 6d61 6e61 6765 6d65 6e74 2f76 322f  e_management/v2/
-000113d0: 6465 7669 6365 2f7b 7365 7269 616c 7d2f  device/{serial}/
-000113e0: 6163 7469 6f6e 2f7b 636f 6d6d 616e 647d  action/{command}
-000113f0: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
-00011400: 6461 7461 203d 207b 2270 6f72 7422 3a20  data = {"port": 
-00011410: 7374 7228 706f 7274 297d 0a0a 2020 2020  str(port)}..    
-00011420: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00011430: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-00011440: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-00011450: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
-00011460: 6465 6620 7365 6e64 5f63 6f6d 6d61 6e64  def send_command
-00011470: 5f74 6f5f 6465 7669 6365 280a 2020 2020  _to_device(.    
-00011480: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00011490: 2020 7365 7269 616c 3a20 7374 722c 0a20    serial: str,. 
-000114a0: 2020 2020 2020 2063 6f6d 6d61 6e64 3a20         command: 
-000114b0: 4c69 7465 7261 6c5b 0a20 2020 2020 2020  Literal[.       
-000114c0: 2020 2020 2022 7265 626f 6f74 222c 0a20       "reboot",. 
-000114d0: 2020 2020 2020 2020 2020 2022 626c 696e             "blin
-000114e0: 6b5f 6c65 645f 6f6e 222c 0a20 2020 2020  k_led_on",.     
-000114f0: 2020 2020 2020 2022 626c 696e 6b5f 6c65         "blink_le
-00011500: 645f 6f66 6622 2c0a 2020 2020 2020 2020  d_off",.        
-00011510: 2020 2020 2262 6c69 6e6b 5f6c 6564 222c      "blink_led",
-00011520: 0a20 2020 2020 2020 2020 2020 2022 6572  .            "er
-00011530: 6173 655f 636f 6e66 6967 7572 6174 696f  ase_configuratio
-00011540: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-00011550: 2273 6176 655f 636f 6e66 6967 7572 6174  "save_configurat
-00011560: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
-00011570: 2020 2268 616c 7422 2c0a 2020 2020 2020    "halt",.      
-00011580: 2020 2020 2020 2263 6f6e 6669 675f 7379        "config_sy
-00011590: 6e63 222c 0a20 2020 2020 2020 205d 2c0a  nc",.        ],.
-000115a0: 2020 2020 2020 2020 6475 7261 7469 6f6e          duration
-000115b0: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-000115c0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-000115d0: 0a20 2020 2020 2020 2022 2222 4765 6e65  .        """Gene
-000115e0: 7269 6320 636f 6d6d 616e 6473 2066 6f72  ric commands for
-000115f0: 2064 6576 6963 652e 0a0a 2020 2020 2020   device...      
-00011600: 2020 5375 7070 6f72 7465 6420 436f 6d6d    Supported Comm
-00011610: 616e 6473 2028 7374 7229 3a0a 2020 2020  ands (str):.    
-00011620: 2020 2020 2020 2020 2d20 7265 626f 6f74          - reboot
-00011630: 3a20 7375 7070 6f72 7465 6420 6279 2049  : supported by I
-00011640: 4150 2f43 6f6e 7472 6f6c 6c65 7273 2f4d  AP/Controllers/M
-00011650: 4153 2053 7769 7463 6865 732f 4172 7562  AS Switches/Arub
-00011660: 6120 5377 6974 6368 6573 0a20 2020 2020  a Switches.     
-00011670: 2020 2020 2020 202d 2062 6c69 6e6b 5f6c         - blink_l
-00011680: 6564 5f6f 6e3a 2055 7365 2074 6869 7320  ed_on: Use this 
-00011690: 636f 6d6d 616e 6420 746f 2065 6e61 626c  command to enabl
-000116a0: 6520 7468 6520 4c45 4420 6469 7370 6c61  e the LED displa
-000116b0: 792c 2073 7570 706f 7274 6564 2062 7920  y, supported by 
-000116c0: 4941 502f 4172 7562 6120 5377 6974 6368  IAP/Aruba Switch
-000116d0: 6573 0a20 2020 2020 2020 2020 2020 202d  es.            -
-000116e0: 2062 6c69 6e6b 5f6c 6564 5f6f 6666 3a20   blink_led_off: 
-000116f0: 5573 6520 7468 6973 2063 6f6d 6d61 6e64  Use this command
-00011700: 2074 6f20 656e 6162 6c65 2074 6865 204c   to enable the L
-00011710: 4544 2064 6973 706c 6179 2c20 7375 7070  ED display, supp
-00011720: 6f72 7465 6420 6279 2049 4150 2f41 7275  orted by IAP/Aru
-00011730: 6261 2053 7769 7463 6865 730a 2020 2020  ba Switches.    
-00011740: 2020 2020 2020 2020 2d20 626c 696e 6b5f          - blink_
-00011750: 6c65 643a 2055 7365 2074 6869 7320 636f  led: Use this co
-00011760: 6d6d 616e 6420 746f 2062 6c69 6e6b 204c  mmand to blink L
-00011770: 4544 2064 6973 706c 6179 2c20 5375 7070  ED display, Supp
-00011780: 6f72 7465 6420 6f6e 2041 7275 6261 2053  orted on Aruba S
-00011790: 7769 7463 6865 730a 2020 2020 2020 2020  witches.        
-000117a0: 2020 2020 2d20 6572 6173 655f 636f 6e66      - erase_conf
-000117b0: 6967 7572 6174 696f 6e20 3a20 4661 6374  iguration : Fact
-000117c0: 6f72 7920 6465 6661 756c 7420 7468 6520  ory default the 
-000117d0: 7377 6974 6368 2e20 2053 7570 706f 7274  switch.  Support
-000117e0: 6564 206f 6e20 4172 7562 6120 5377 6974  ed on Aruba Swit
-000117f0: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
-00011800: 202d 2073 6176 655f 636f 6e66 6967 7572   - save_configur
-00011810: 6174 696f 6e3a 2053 6176 6573 2074 6865  ation: Saves the
-00011820: 2072 756e 6e69 6e67 2063 6f6e 6669 672e   running config.
-00011830: 2073 7570 706f 7274 6564 2062 7920 4941   supported by IA
-00011840: 502f 4172 7562 6120 5377 6974 6368 6573  P/Aruba Switches
-00011850: 0a20 2020 2020 2020 2020 2020 202d 2068  .            - h
-00011860: 616c 7420 3a20 5468 6973 2063 6f6d 6d61  alt : This comma
-00011870: 6e64 2070 6572 666f 726d 7320 6120 7368  nd performs a sh
-00011880: 7574 646f 776e 206f 6620 7468 6520 6465  utdown of the de
-00011890: 7669 6365 2c20 7375 7070 6f72 7465 6420  vice, supported 
-000118a0: 6279 2043 6f6e 7472 6f6c 6c65 7273 2061  by Controllers a
-000118b0: 6c6f 6e65 2e0a 2020 2020 2020 2020 2020  lone..          
-000118c0: 2020 2d20 636f 6e66 6967 5f73 796e 6320    - config_sync 
-000118d0: 3a20 5468 6973 2063 6f6d 6d61 6e64 7320  : This commands 
-000118e0: 7065 7266 6f72 6d73 2066 756c 6c20 7265  performs full re
-000118f0: 6672 6573 6820 6f66 2074 6865 2064 6576  fresh of the dev
-00011900: 6963 6520 636f 6e66 6967 2c20 7375 7070  ice config, supp
-00011910: 6f72 7465 6420 6279 2043 6f6e 7472 6f6c  orted by Control
-00011920: 6c65 7273 2061 6c6f 6e65 0a0a 2020 2020  lers alone..    
-00011930: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00011940: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-00011950: 7229 3a20 5365 7269 616c 206f 6620 6465  r): Serial of de
-00011960: 7669 6365 0a20 2020 2020 2020 2020 2020  vice.           
-00011970: 2063 6f6d 6d61 6e64 2028 7374 7229 3a20   command (str): 
-00011980: 436f 6d6d 616e 6420 746f 2062 6520 6578  Command to be ex
-00011990: 6563 7574 6564 0a20 2020 2020 2020 2020  ecuted.         
-000119a0: 2020 2064 7572 6174 696f 6e20 2869 6e74     duration (int
-000119b0: 2c20 4f70 7469 6f6e 616c 293a 204e 756d  , Optional): Num
-000119c0: 6265 7220 6f66 2073 6563 6f6e 6473 2074  ber of seconds t
-000119d0: 6f20 626c 696e 6b5f 6c65 6420 6f6e 6c79  o blink_led only
-000119e0: 2061 7070 6c69 6573 2074 6f20 626c 696e   applies to blin
-000119f0: 6b5f 6c65 6420 616e 6420 626c 696e 6b5f  k_led and blink_
-00011a00: 6c65 645f 6f6e 0a0a 2020 2020 2020 2020  led_on..        
-00011a10: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00011a20: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00011a30: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00011a40: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00011a50: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00011a60: 6c20 3d20 6622 2f64 6576 6963 655f 6d61  l = f"/device_ma
-00011a70: 6e61 6765 6d65 6e74 2f76 312f 6465 7669  nagement/v1/devi
-00011a80: 6365 2f7b 7365 7269 616c 7d2f 6163 7469  ce/{serial}/acti
-00011a90: 6f6e 2f7b 636f 6d6d 616e 647d 220a 0a20  on/{command}".. 
-00011aa0: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
-00011ab0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-00011ac0: 6c29 0a20 2020 2020 2020 2069 6620 7265  l).        if re
-00011ad0: 7370 2061 6e64 2064 7572 6174 696f 6e20  sp and duration 
-00011ae0: 616e 6420 2262 6c69 6e6b 5f6c 6564 2220  and "blink_led" 
-00011af0: 696e 2063 6f6d 6d61 6e64 2061 6e64 2022  in command and "
-00011b00: 6f66 6622 206e 6f74 2069 6e20 636f 6d6d  off" not in comm
-00011b10: 616e 643a 0a20 2020 2020 2020 2020 2020  and:.           
-00011b20: 2070 7269 6e74 2866 2242 6c69 6e6b 696e   print(f"Blinkin
-00011b30: 6720 4c65 642e 2e2e 207b 6475 7261 7469  g Led... {durati
-00011b40: 6f6e 7d2e 2022 2c20 656e 643d 2222 290a  on}. ", end="").
-00011b50: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00011b60: 6920 696e 2072 616e 6765 2831 2c20 6475  i in range(1, du
-00011b70: 7261 7469 6f6e 293a 0a20 2020 2020 2020  ration):.       
-00011b80: 2020 2020 2020 2020 2074 696d 652e 736c           time.sl
-00011b90: 6565 7028 3129 0a20 2020 2020 2020 2020  eep(1).         
-00011ba0: 2020 2020 2020 2070 7269 6e74 2866 227b         print(f"{
-00011bb0: 6475 7261 7469 6f6e 202d 2069 7d2e 2022  duration - i}. "
-00011bc0: 2c20 656e 643d 2222 2069 6620 6920 2520  , end="" if i % 
-00011bd0: 3230 2065 6c73 6520 225c 6e22 290a 2020  20 else "\n").  
-00011be0: 2020 2020 2020 2020 2020 7265 7370 203d            resp =
-00011bf0: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
-00011c00: 2875 726c 2e72 6570 6c61 6365 2822 5f6f  (url.replace("_o
-00011c10: 6e22 2c20 225f 6f66 6622 2929 0a20 2020  n", "_off")).   
-00011c20: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
-00011c30: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00011c40: 6b69 636b 5f75 7365 7273 280a 2020 2020  kick_users(.    
-00011c50: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00011c60: 2020 7365 7269 616c 5f6e 756d 3a20 7374    serial_num: st
-00011c70: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00011c80: 2020 6b69 636b 5f61 6c6c 3a20 626f 6f6c    kick_all: bool
-00011c90: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-00011ca0: 2020 6d61 633a 2073 7472 203d 204e 6f6e    mac: str = Non
-00011cb0: 652c 0a20 2020 2020 2020 2073 7369 643a  e,.        ssid:
-00011cc0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00011cd0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-00011ce0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00011cf0: 2f64 6576 6963 655f 6d61 6e61 6765 6d65  /device_manageme
-00011d00: 6e74 2f76 312f 6465 7669 6365 2f7b 7365  nt/v1/device/{se
-00011d10: 7269 616c 5f6e 756d 7d2f 6163 7469 6f6e  rial_num}/action
-00011d20: 2f64 6973 636f 6e6e 6563 745f 7573 6572  /disconnect_user
-00011d30: 220a 2020 2020 2020 2020 6966 206b 6963  ".        if kic
-00011d40: 6b5f 616c 6c3a 0a20 2020 2020 2020 2020  k_all:.         
-00011d50: 2020 2070 6179 6c6f 6164 203d 207b 2264     payload = {"d
-00011d60: 6973 636f 6e6e 6563 745f 7573 6572 5f61  isconnect_user_a
-00011d70: 6c6c 223a 2054 7275 657d 0a20 2020 2020  ll": True}.     
-00011d80: 2020 2065 6c69 6620 6d61 633a 0a20 2020     elif mac:.   
-00011d90: 2020 2020 2020 2020 2070 6179 6c6f 6164           payload
-00011da0: 203d 207b 2264 6973 636f 6e6e 6563 745f   = {"disconnect_
-00011db0: 7573 6572 5f6d 6163 223a 2066 227b 6d61  user_mac": f"{ma
-00011dc0: 637d 227d 0a20 2020 2020 2020 2065 6c69  c}"}.        eli
-00011dd0: 6620 7373 6964 3a0a 2020 2020 2020 2020  f ssid:.        
-00011de0: 2020 2020 7061 796c 6f61 6420 3d20 7b22      payload = {"
-00011df0: 6469 7363 6f6e 6e65 6374 5f75 7365 725f  disconnect_user_
-00011e00: 6e65 7477 6f72 6b22 3a20 6622 7b73 7369  network": f"{ssi
-00011e10: 647d 227d 0a20 2020 2020 2020 2065 6c73  d}"}.        els
-00011e20: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
-00011e30: 6179 6c6f 6164 203d 207b 7d0a 0a20 2020  ayload = {}..   
-00011e40: 2020 2020 2069 6620 7061 796c 6f61 643a       if payload:
-00011e50: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00011e60: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
-00011e70: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
-00011e80: 7461 3d70 6179 6c6f 6164 290a 2020 2020  ta=payload).    
-00011e90: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00011ea0: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
-00011eb0: 706f 6e73 6528 6572 726f 723d 224d 6973  ponse(error="Mis
-00011ec0: 7369 6e67 2052 6571 7569 7265 6420 5061  sing Required Pa
-00011ed0: 7261 6d65 7465 7273 2229 0a0a 2020 2020  rameters")..    
-00011ee0: 6173 796e 6320 6465 6620 7570 6461 7465  async def update
-00011ef0: 5f73 7368 5f63 7265 6473 2873 656c 662c  _ssh_creds(self,
-00011f00: 2064 6576 6963 655f 7365 7269 616c 3a20   device_serial: 
-00011f10: 7374 722c 2075 7365 726e 616d 653a 2073  str, username: s
-00011f20: 7472 2c20 7061 7373 776f 7264 3a20 7374  tr, password: st
-00011f30: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
-00011f40: 2020 2020 2020 2020 2222 2253 6574 2055          """Set U
-00011f50: 7365 726e 616d 652c 2070 6173 7377 6f72  sername, passwor
-00011f60: 6420 7265 7175 6972 6564 2066 6f72 2065  d required for e
-00011f70: 7374 6162 6c69 7368 696e 6720 5353 4820  stablishing SSH 
-00011f80: 636f 6e6e 6563 7469 6f6e 2074 6f20 7377  connection to sw
-00011f90: 6974 6368 2e0a 0a20 2020 2020 2020 2054  itch...        T
-00011fa0: 6869 7320 6d65 7468 6f64 206f 6e6c 7920  his method only 
-00011fb0: 6170 706c 6965 7320 746f 2073 7769 7463  applies to switc
-00011fc0: 6865 730a 0a20 2020 2020 2020 2041 7267  hes..        Arg
-00011fd0: 733a 0a20 2020 2020 2020 2020 2020 2064  s:.            d
-00011fe0: 6576 6963 655f 7365 7269 616c 2028 7374  evice_serial (st
-00011ff0: 7229 3a20 5365 7269 616c 206e 756d 6265  r): Serial numbe
-00012000: 7220 6f66 2074 6865 2073 7769 7463 682e  r of the switch.
-00012010: 0a20 2020 2020 2020 2020 2020 2075 7365  .            use
-00012020: 726e 616d 6520 2873 7472 293a 2053 5348  rname (str): SSH
-00012030: 2075 7365 726e 616d 650a 2020 2020 2020   username.      
-00012040: 2020 2020 2020 7061 7373 776f 7264 2028        password (
-00012050: 7374 7229 3a20 5353 4820 7061 7373 776f  str): SSH passwo
-00012060: 7264 0a0a 2020 2020 2020 2020 5265 7475  rd..        Retu
-00012070: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00012080: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00012090: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-000120a0: 626a 6563 740a 2020 2020 2020 2020 2020  bject.          
-000120b0: 2020 5375 6363 6573 7366 756c 2052 6573    Successful Res
-000120c0: 706f 6e73 6520 626f 6479 2028 5265 7370  ponse body (Resp
-000120d0: 6f6e 7365 2e6f 7574 7075 7429 3a20 2253  onse.output): "S
-000120e0: 7563 6365 7373 220a 2020 2020 2020 2020  uccess".        
-000120f0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00012100: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
-00012110: 6f6e 2f76 312f 6465 7669 6365 732f 7b64  on/v1/devices/{d
-00012120: 6576 6963 655f 7365 7269 616c 7d2f 7373  evice_serial}/ss
-00012130: 685f 636f 6e6e 6563 7469 6f6e 220a 0a20  h_connection".. 
-00012140: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-00012150: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00012160: 2027 7573 6572 6e61 6d65 273a 2075 7365   'username': use
-00012170: 726e 616d 652c 0a20 2020 2020 2020 2020  rname,.         
-00012180: 2020 2027 7061 7373 776f 7264 273a 2070     'password': p
-00012190: 6173 7377 6f72 640a 2020 2020 2020 2020  assword.        
-000121a0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-000121b0: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
-000121c0: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
-000121d0: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
-000121e0: 2061 7379 6e63 2064 6566 2067 6574 5f74   async def get_t
-000121f0: 6173 6b5f 7374 6174 7573 2873 656c 662c  ask_status(self,
-00012200: 2074 6173 6b5f 6964 293a 0a20 2020 2020   task_id):.     
-00012210: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00012220: 7365 6c66 2e67 6574 2866 222f 6465 7669  self.get(f"/devi
-00012230: 6365 5f6d 616e 6167 656d 656e 742f 7631  ce_management/v1
-00012240: 2f73 7461 7475 732f 7b74 6173 6b5f 6964  /status/{task_id
-00012250: 7d22 290a 0a20 2020 2061 7379 6e63 2064  }")..    async d
-00012260: 6566 2067 6574 5f73 7769 7463 685f 766c  ef get_switch_vl
-00012270: 616e 7328 0a20 2020 2020 2020 2073 656c  ans(.        sel
-00012280: 662c 0a20 2020 2020 2020 2069 6465 6e3a  f,.        iden:
-00012290: 2073 7472 2c0a 2020 2020 2020 2020 7374   str,.        st
-000122a0: 6163 6b3a 2062 6f6f 6c20 3d20 4661 6c73  ack: bool = Fals
-000122b0: 652c 0a20 2020 2020 2020 2063 783a 2062  e,.        cx: b
-000122c0: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-000122d0: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
-000122e0: 204e 6f6e 652c 0a20 2020 2020 2020 2070   None,.        p
-000122f0: 7669 643a 2069 6e74 203d 204e 6f6e 652c  vid: int = None,
-00012300: 0a20 2020 2020 2020 2074 6167 6765 645f  .        tagged_
-00012310: 706f 7274 3a20 7374 7220 3d20 4e6f 6e65  port: str = None
-00012320: 2c0a 2020 2020 2020 2020 756e 7461 6767  ,.        untagg
-00012330: 6564 5f70 6f72 743a 2073 7472 203d 204e  ed_port: str = N
-00012340: 6f6e 652c 0a20 2020 2020 2020 2069 735f  one,.        is_
-00012350: 6a75 6d62 6f5f 656e 6162 6c65 643a 2062  jumbo_enabled: b
-00012360: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
-00012370: 2020 2020 6973 5f76 6f69 6365 5f65 6e61      is_voice_ena
-00012380: 626c 6564 3a20 626f 6f6c 203d 204e 6f6e  bled: bool = Non
-00012390: 652c 0a20 2020 2020 2020 2069 735f 6967  e,.        is_ig
-000123a0: 6d70 5f65 6e61 626c 6564 3a20 626f 6f6c  mp_enabled: bool
-000123b0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000123c0: 2074 7970 653a 2073 7472 203d 204e 6f6e   type: str = Non
-000123d0: 652c 0a20 2020 2020 2020 2070 7269 6d61  e,.        prima
-000123e0: 7279 5f76 6c61 6e5f 6964 3a20 696e 7420  ry_vlan_id: int 
-000123f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00012400: 7374 6174 7573 3a20 7374 7220 3d20 4e6f  status: str = No
-00012410: 6e65 2c0a 2020 2020 2020 2020 736f 7274  ne,.        sort
-00012420: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00012430: 2020 2020 2020 6361 6c63 756c 6174 655f        calculate_
-00012440: 746f 7461 6c3a 2062 6f6f 6c20 3d20 4e6f  total: bool = No
-00012450: 6e65 2c0a 2020 2020 2020 2020 6f66 6673  ne,.        offs
-00012460: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
-00012470: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-00012480: 3d20 3530 302c 0a20 2020 2029 202d 3e20  = 500,.    ) -> 
-00012490: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-000124a0: 2020 2222 2247 6574 2076 6c61 6e20 696e    """Get vlan in
-000124b0: 666f 2066 6f72 2073 7769 7463 6820 2843  fo for switch (C
-000124c0: 5820 616e 6420 5357 292e 0a0a 2020 2020  X and SW)...    
-000124d0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-000124e0: 2020 2020 2020 6964 656e 2028 7374 7229        iden (str)
-000124f0: 3a20 5365 7269 616c 204e 756d 6265 7220  : Serial Number 
-00012500: 6f66 2053 7461 636b 2049 442c 2049 6465  of Stack ID, Ide
-00012510: 6e74 6966 6965 7320 7468 6520 6465 7620  ntifies the dev 
-00012520: 746f 2072 6574 7572 6e20 564c 414e 7320  to return VLANs 
-00012530: 6672 6f6d 2e0a 2020 2020 2020 2020 2020  from..          
-00012540: 2020 7374 6163 6b20 2862 6f6f 6c2c 206f    stack (bool, o
-00012550: 7074 696f 6e61 6c29 3a20 5365 7420 746f  ptional): Set to
-00012560: 2054 7275 6520 666f 7220 7374 6163 6b2e   True for stack.
-00012570: 2044 6566 6175 6c74 3a20 4661 6c73 650a   Default: False.
-00012580: 2020 2020 2020 2020 2020 2020 6378 3a20              cx: 
-00012590: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
-000125a0: 3a20 5365 7420 746f 2054 7275 6520 666f  : Set to True fo
-000125b0: 7220 4172 7562 614f 532d 4358 2e20 4465  r ArubaOS-CX. De
-000125c0: 6661 756c 743a 2046 616c 7365 0a20 2020  fault: False.   
-000125d0: 2020 2020 2020 2020 206e 616d 6520 2873           name (s
-000125e0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-000125f0: 696c 7465 7220 6279 2076 6c61 6e20 6e61  ilter by vlan na
-00012600: 6d65 0a20 2020 2020 2020 2020 2020 2069  me.            i
-00012610: 6420 2869 6e74 2c20 6f70 7469 6f6e 616c  d (int, optional
-00012620: 293a 2046 696c 7465 7220 6279 2076 6c61  ): Filter by vla
-00012630: 6e20 6964 0a20 2020 2020 2020 2020 2020  n id.           
-00012640: 2074 6167 6765 645f 706f 7274 2028 7374   tagged_port (st
-00012650: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00012660: 6c74 6572 2062 7920 7461 6767 6564 2070  lter by tagged p
-00012670: 6f72 7420 6e61 6d65 0a20 2020 2020 2020  ort name.       
-00012680: 2020 2020 2075 6e74 6167 6765 645f 706f       untagged_po
-00012690: 7274 2028 7374 722c 206f 7074 696f 6e61  rt (str, optiona
-000126a0: 6c29 3a20 4669 6c74 6572 2062 7920 756e  l): Filter by un
-000126b0: 7461 6767 6564 2070 6f72 7420 6e61 6d65  tagged port name
-000126c0: 0a20 2020 2020 2020 2020 2020 2069 735f  .            is_
-000126d0: 6a75 6d62 6f5f 656e 6162 6c65 6420 2862  jumbo_enabled (b
-000126e0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-000126f0: 4669 6c74 6572 2062 7920 6a75 6d62 6f20  Filter by jumbo 
-00012700: 656e 6162 6c65 640a 2020 2020 2020 2020  enabled.        
-00012710: 2020 2020 6973 5f76 6f69 6365 5f65 6e61      is_voice_ena
-00012720: 626c 6564 2028 626f 6f6c 2c20 6f70 7469  bled (bool, opti
-00012730: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
-00012740: 2076 6f69 6365 2065 6e61 626c 6564 0a20   voice enabled. 
-00012750: 2020 2020 2020 2020 2020 2069 735f 6967             is_ig
-00012760: 6d70 5f65 6e61 626c 6564 2028 626f 6f6c  mp_enabled (bool
-00012770: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-00012780: 7465 7220 6279 2069 676d 7020 656e 6162  ter by igmp enab
-00012790: 6c65 640a 2020 2020 2020 2020 2020 2020  led.            
-000127a0: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-000127b0: 6e61 6c29 3a20 5479 7065 206f 6620 7468  nal): Type of th
-000127c0: 6520 766c 616e 2074 6f20 6265 2071 7565  e vlan to be que
-000127d0: 7269 6564 0a20 2020 2020 2020 2020 2020  ried.           
-000127e0: 2070 7269 6d61 7279 5f76 6c61 6e5f 6964   primary_vlan_id
-000127f0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00012800: 3a20 5072 696d 6172 7920 566c 616e 2049  : Primary Vlan I
-00012810: 6420 6f66 2074 6865 2076 6c61 6e20 746f  d of the vlan to
-00012820: 2062 6520 7175 6572 6965 6422 0a20 2020   be queried".   
-00012830: 2020 2020 2020 2020 2073 7461 7475 7320           status 
-00012840: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00012850: 2046 696c 7465 7220 6279 2073 7461 7475   Filter by statu
-00012860: 7320 6f66 2056 4c41 4e2e 2053 7461 7475  s of VLAN. Statu
-00012870: 7320 6361 6e20 6265 2055 702f 446f 776e  s can be Up/Down
-00012880: 0a20 2020 2020 2020 2020 2020 2073 6f72  .            sor
-00012890: 7420 2873 7472 2c20 6f70 7469 6f6e 616c  t (str, optional
-000128a0: 293a 2053 6f72 7420 7061 7261 6d65 7465  ): Sort paramete
-000128b0: 7220 6d61 7920 6265 206f 6e65 206f 6620  r may be one of 
-000128c0: 2b6e 616d 652c 202d 6e61 6d65 0a20 2020  +name, -name.   
-000128d0: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
-000128e0: 7465 5f74 6f74 616c 2028 626f 6f6c 2c20  te_total (bool, 
-000128f0: 6f70 7469 6f6e 616c 293a 2057 6865 7468  optional): Wheth
-00012900: 6572 2074 6f20 6361 6c63 756c 6174 6520  er to calculate 
-00012910: 746f 7461 6c20 766c 616e 730a 2020 2020  total vlans.    
-00012920: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
-00012930: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00012940: 5061 6769 6e61 7469 6f6e 206f 6666 7365  Pagination offse
-00012950: 7420 4465 6661 756c 7473 2074 6f20 302e  t Defaults to 0.
-00012960: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-00012970: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-00012980: 6c29 3a20 5061 6769 6e61 7469 6f6e 206c  l): Pagination l
-00012990: 696d 6974 2e20 4465 6661 756c 7420 6973  imit. Default is
-000129a0: 2031 3030 2061 6e64 206d 6178 2069 7320   100 and max is 
-000129b0: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
-000129c0: 2035 3030 2e0a 0a20 2020 2020 2020 2052   500...        R
-000129d0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-000129e0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-000129f0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00012a00: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00012a10: 2022 2222 0a20 2020 2020 2020 2023 2054   """.        # T
-00012a20: 4f44 4f20 6c6f 6f6b 7320 6c69 6b65 2077  ODO looks like w
-00012a30: 6520 6361 6e20 7265 6d6f 7665 2072 6566  e can remove ref
-00012a40: 6572 656e 6365 7320 746f 2063 7820 7370  erences to cx sp
-00012a50: 6563 6966 6963 206d 6574 686f 6473 2c20  ecific methods, 
-00012a60: 7468 6579 2064 6f6e 2774 2077 6f72 6b0a  they don't work.
-00012a70: 2020 2020 2020 2020 2320 7363 6865 6d61          # schema
-00012a80: 206e 6f74 2072 6566 6c65 6374 696e 6720   not reflecting 
-00012a90: 7468 6174 2077 6173 7465 6420 6d79 2074  that wasted my t
-00012aa0: 696d 652e 0a20 2020 2020 2020 2069 6620  ime..        if 
-00012ab0: 6e6f 7420 7374 6163 6b3a 0a20 2020 2020  not stack:.     
-00012ac0: 2020 2020 2020 2023 2073 775f 7572 6c20         # sw_url 
-00012ad0: 3d20 2263 785f 7377 6974 6368 6573 2220  = "cx_switches" 
-00012ae0: 6966 2063 7820 656c 7365 2022 7377 6974  if cx else "swit
-00012af0: 6368 6573 220a 2020 2020 2020 2020 2020  ches".          
-00012b00: 2020 7377 5f75 726c 203d 2022 7377 6974    sw_url = "swit
-00012b10: 6368 6573 220a 2020 2020 2020 2020 656c  ches".        el
-00012b20: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00012b30: 7377 5f75 726c 203d 2022 6378 5f73 7769  sw_url = "cx_swi
-00012b40: 7463 685f 7374 6163 6b73 2220 6966 2063  tch_stacks" if c
-00012b50: 7820 656c 7365 2022 7377 6974 6368 5f73  x else "switch_s
-00012b60: 7461 636b 7322 0a0a 2020 2020 2020 2020  tacks"..        
-00012b70: 7572 6c20 3d20 6622 2f6d 6f6e 6974 6f72  url = f"/monitor
-00012b80: 696e 672f 7631 2f7b 7377 5f75 726c 7d2f  ing/v1/{sw_url}/
-00012b90: 7b69 6465 6e7d 2f76 6c61 6e22 0a0a 2020  {iden}/vlan"..  
-00012ba0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-00012bb0: 0a20 2020 2020 2020 2020 2020 2022 6e61  .            "na
-00012bc0: 6d65 223a 206e 616d 652c 0a20 2020 2020  me": name,.     
-00012bd0: 2020 2020 2020 2022 6964 223a 2070 7669         "id": pvi
-00012be0: 642c 0a20 2020 2020 2020 2020 2020 2022  d,.            "
-00012bf0: 7461 6767 6564 5f70 6f72 7422 3a20 7461  tagged_port": ta
-00012c00: 6767 6564 5f70 6f72 742c 0a20 2020 2020  gged_port,.     
-00012c10: 2020 2020 2020 2022 756e 7461 6767 6564         "untagged
-00012c20: 5f70 6f72 7422 3a20 756e 7461 6767 6564  _port": untagged
-00012c30: 5f70 6f72 742c 0a20 2020 2020 2020 2020  _port,.         
-00012c40: 2020 2022 6973 5f6a 756d 626f 5f65 6e61     "is_jumbo_ena
-00012c50: 626c 6564 223a 2069 735f 6a75 6d62 6f5f  bled": is_jumbo_
-00012c60: 656e 6162 6c65 642c 0a20 2020 2020 2020  enabled,.       
-00012c70: 2020 2020 2022 6973 5f76 6f69 6365 5f65       "is_voice_e
-00012c80: 6e61 626c 6564 223a 2069 735f 766f 6963  nabled": is_voic
-00012c90: 655f 656e 6162 6c65 642c 0a20 2020 2020  e_enabled,.     
-00012ca0: 2020 2020 2020 2022 6973 5f69 676d 705f         "is_igmp_
-00012cb0: 656e 6162 6c65 6422 3a20 6973 5f69 676d  enabled": is_igm
-00012cc0: 705f 656e 6162 6c65 642c 0a20 2020 2020  p_enabled,.     
-00012cd0: 2020 2020 2020 2022 7479 7065 223a 2074         "type": t
-00012ce0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
-00012cf0: 2022 7072 696d 6172 795f 766c 616e 5f69   "primary_vlan_i
-00012d00: 6422 3a20 7072 696d 6172 795f 766c 616e  d": primary_vlan
-00012d10: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
-00012d20: 2022 7374 6174 7573 223a 2073 7461 7475   "status": statu
-00012d30: 732c 0a20 2020 2020 2020 2020 2020 2022  s,.            "
-00012d40: 736f 7274 223a 2073 6f72 742c 0a20 2020  sort": sort,.   
-00012d50: 2020 2020 2020 2020 2022 6361 6c63 756c           "calcul
-00012d60: 6174 655f 746f 7461 6c22 3a20 6361 6c63  ate_total": calc
-00012d70: 756c 6174 655f 746f 7461 6c2c 0a20 2020  ulate_total,.   
-00012d80: 2020 2020 2020 2020 2022 6f66 6673 6574           "offset
-00012d90: 223a 206f 6666 7365 742c 0a20 2020 2020  ": offset,.     
-00012da0: 2020 2020 2020 2022 6c69 6d69 7422 3a20         "limit": 
-00012db0: 6c69 6d69 742c 0a20 2020 2020 2020 207d  limit,.        }
-00012dc0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00012dd0: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-00012de0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-00012df0: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-00012e00: 6566 2067 6574 5f67 6174 6577 6179 5f76  ef get_gateway_v
-00012e10: 6c61 6e73 2873 656c 662c 2073 6572 6961  lans(self, seria
-00012e20: 6c3a 2073 7472 2920 2d3e 2052 6573 706f  l: str) -> Respo
-00012e30: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00012e40: 4765 7420 6761 7465 7761 7920 564c 414e  Get gateway VLAN
-00012e50: 2064 6574 6169 6c73 2e0a 0a20 2020 2020   details...     
-00012e60: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00012e70: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-00012e80: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
-00012e90: 206f 6620 6761 7465 7761 7920 746f 2062   of gateway to b
-00012ea0: 6520 7175 6572 6965 640a 0a20 2020 2020  e queried..     
-00012eb0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-00012ec0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-00012ed0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00012ee0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00012ef0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00012f00: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
-00012f10: 7269 6e67 2f76 312f 6761 7465 7761 7973  ring/v1/gateways
-00012f20: 2f7b 7365 7269 616c 7d2f 766c 616e 220a  /{serial}/vlan".
-00012f30: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00012f40: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00012f50: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
-00012f60: 6566 2067 6574 5f63 6f6e 7472 6f6c 6c65  ef get_controlle
-00012f70: 725f 766c 616e 7328 7365 6c66 2c20 7365  r_vlans(self, se
-00012f80: 7269 616c 3a20 7374 7229 202d 3e20 5265  rial: str) -> Re
-00012f90: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00012fa0: 2222 2247 6574 204d 6f62 696c 6974 7920  """Get Mobility 
-00012fb0: 436f 6e74 726f 6c6c 6572 7320 564c 414e  Controllers VLAN
-00012fc0: 2064 6574 6169 6c73 2e0a 0a20 2020 2020   details...     
-00012fd0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00012fe0: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-00012ff0: 293a 2053 6572 6961 6c20 6e75 6d62 6572  ): Serial number
-00013000: 206f 6620 6d6f 6269 6c69 7479 2063 6f6e   of mobility con
-00013010: 7472 6f6c 6c65 7220 746f 2062 6520 7175  troller to be qu
-00013020: 6572 6965 640a 0a20 2020 2020 2020 2052  eried..        R
-00013030: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00013040: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00013050: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00013060: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00013070: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00013080: 203d 2066 222f 6d6f 6e69 746f 7269 6e67   = f"/monitoring
-00013090: 2f76 312f 6d6f 6269 6c69 7479 5f63 6f6e  /v1/mobility_con
-000130a0: 7472 6f6c 6c65 7273 2f7b 7365 7269 616c  trollers/{serial
-000130b0: 7d2f 766c 616e 220a 0a20 2020 2020 2020  }/vlan"..       
-000130c0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-000130d0: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
-000130e0: 2061 7379 6e63 2064 6566 2067 6574 5f74   async def get_t
-000130f0: 735f 636f 6d6d 616e 6473 2873 656c 662c  s_commands(self,
-00013100: 2064 6576 5f74 7970 653a 204c 6974 6572   dev_type: Liter
-00013110: 616c 5b27 6961 7027 2c20 276d 6173 272c  al['iap', 'mas',
-00013120: 2027 7377 6974 6368 272c 2027 636f 6e74   'switch', 'cont
-00013130: 726f 6c6c 6572 275d 2920 2d3e 2052 6573  roller']) -> Res
-00013140: 706f 6e73 653a 0a20 2020 2020 2020 2075  ponse:.        u
-00013150: 726c 203d 2022 2f74 726f 7562 6c65 7368  rl = "/troublesh
-00013160: 6f6f 7469 6e67 2f76 312f 636f 6d6d 616e  ooting/v1/comman
-00013170: 6473 220a 2020 2020 2020 2020 7061 7261  ds".        para
-00013180: 6d73 203d 207b 2264 6576 6963 655f 7479  ms = {"device_ty
-00013190: 7065 223a 2064 6576 5f74 7970 657d 0a20  pe": dev_type}. 
-000131a0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-000131b0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-000131c0: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-000131d0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-000131e0: 7374 6172 745f 7473 5f73 6573 7369 6f6e  start_ts_session
-000131f0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00013200: 2020 2020 2020 2020 7365 7269 616c 3a20          serial: 
-00013210: 7374 722c 0a20 2020 2020 2020 2064 6576  str,.        dev
-00013220: 5f74 7970 653a 2073 7472 2c0a 2020 2020  _type: str,.    
-00013230: 2020 2020 636f 6d6d 616e 6473 3a20 556e      commands: Un
-00013240: 696f 6e5b 696e 742c 206c 6973 742c 2064  ion[int, list, d
-00013250: 6963 745d 2c0a 2020 2020 2920 2d3e 2052  ict],.    ) -> R
-00013260: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00013270: 2022 2222 5374 6172 7420 5472 6f75 626c   """Start Troubl
-00013280: 6573 686f 6f74 696e 6720 5365 7373 696f  eshooting Sessio
-00013290: 6e2e 0a0a 2020 2020 2020 2020 4172 6773  n...        Args
-000132a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-000132b0: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
-000132c0: 616c 206f 6620 6465 7669 6365 0a20 2020  al of device.   
-000132d0: 2020 2020 2020 2020 2064 6576 5f74 7970           dev_typ
-000132e0: 6520 2873 7472 293a 2053 7065 6369 6679  e (str): Specify
-000132f0: 206f 6e65 206f 6620 2249 4150 2f53 5749   one of "IAP/SWI
-00013300: 5443 482f 4358 2f4d 4153 2f43 4f4e 5452  TCH/CX/MAS/CONTR
-00013310: 4f4c 4c45 5222 2066 6f72 2020 4941 5073  OLLER" for  IAPs
-00013320: 2c20 4172 7562 610a 2020 2020 2020 2020  , Aruba.        
-00013330: 2020 2020 2020 2020 7377 6974 6368 6573          switches
-00013340: 2c20 4358 2053 7769 7463 6865 732c 204d  , CX Switches, M
-00013350: 4153 2073 7769 7463 6865 7320 616e 6420  AS switches and 
-00013360: 636f 6e74 726f 6c6c 6572 7320 7265 7370  controllers resp
-00013370: 6563 7469 7665 6c79 2e0a 2020 2020 2020  ectively..      
-00013380: 2020 2020 2020 636f 6d6d 616e 6473 2028        commands (
-00013390: 696e 742c 204c 6973 745b 696e 7420 7c20  int, List[int | 
-000133a0: 6469 6374 5d2c 2064 6963 7429 3a20 6120  dict], dict): a 
-000133b0: 7369 6e67 6c65 2063 6f6d 6d61 6e64 5f69  single command_i
-000133c0: 642c 206f 7220 6120 4c69 7374 206f 6620  d, or a List of 
-000133d0: 636f 6d6d 616e 645f 6964 7320 2846 6f72  command_ids (For
-000133e0: 2063 6f6d 6d61 6e64 7320 7769 7468 206e   commands with n
-000133f0: 6f20 6172 6775 6d65 6e74 7329 0a20 2020  o arguments).   
-00013400: 2020 2020 2020 2020 2020 2020 204f 5220               OR 
-00013410: 6120 6469 6374 207b 636f 6d6d 616e 645f  a dict {command_
-00013420: 6964 3a20 7b61 7267 756d 656e 7431 5f6e  id: {argument1_n
-00013430: 616d 653a 2061 7267 756d 656e 7431 5f76  ame: argument1_v
-00013440: 616c 7565 2c20 6172 6775 6d65 6e74 325f  alue, argument2_
-00013450: 6e61 6d65 3a20 6172 6775 6d65 6e74 325f  name: argument2_
-00013460: 7661 6c75 657d 7d0a 0a20 2020 2020 2020  value}}..       
-00013470: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00013480: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00013490: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-000134a0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-000134b0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-000134c0: 726c 203d 2066 222f 7472 6f75 626c 6573  rl = f"/troubles
-000134d0: 686f 6f74 696e 672f 7631 2f64 6576 6963  hooting/v1/devic
-000134e0: 6573 2f7b 7365 7269 616c 7d22 0a20 2020  es/{serial}".   
-000134f0: 2020 2020 2063 6f6d 6d61 6e64 7320 3d20       commands = 
-00013500: 7574 696c 732e 6c69 7374 6966 7928 636f  utils.listify(co
-00013510: 6d6d 616e 6473 290a 2020 2020 2020 2020  mmands).        
-00013520: 636d 6473 203d 205b 5d0a 2020 2020 2020  cmds = [].      
-00013530: 2020 666f 7220 636d 6420 696e 2063 6f6d    for cmd in com
-00013540: 6d61 6e64 733a 0a20 2020 2020 2020 2020  mands:.         
-00013550: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
-00013560: 2863 6d64 2c20 696e 7429 3a0a 2020 2020  (cmd, int):.    
-00013570: 2020 2020 2020 2020 2020 2020 636d 6473              cmds
-00013580: 202b 3d20 5b7b 2263 6f6d 6d61 6e64 5f69   += [{"command_i
-00013590: 6422 3a20 636d 647d 5d0a 2020 2020 2020  d": cmd}].      
-000135a0: 2020 2020 2020 656c 6966 2069 7369 6e73        elif isins
-000135b0: 7461 6e63 6528 636d 642c 2064 6963 7429  tance(cmd, dict)
-000135c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000135d0: 2020 636d 6473 202b 3d20 5b0a 2020 2020    cmds += [.    
-000135e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135f0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-00013600: 2020 2020 2020 2020 2020 2263 6f6d 6d61            "comma
-00013610: 6e64 5f69 6422 3a20 6369 642c 0a20 2020  nd_id": cid,.   
-00013620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013630: 2020 2020 2022 6172 6775 6d65 6e74 7322       "arguments"
-00013640: 3a20 5b7b 226e 616d 6522 3a20 6b2c 2022  : [{"name": k, "
-00013650: 7661 6c75 6522 3a20 767d 2066 6f72 206b  value": v} for k
-00013660: 2c20 7620 696e 2063 6d64 5b63 6964 5d2e  , v in cmd[cid].
-00013670: 6974 656d 7328 295d 0a20 2020 2020 2020  items()].       
-00013680: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
-00013690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136a0: 2020 2066 6f72 2063 6964 2069 6e20 636d     for cid in cm
-000136b0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
-000136c0: 2020 5d0a 0a20 2020 2020 2020 206a 736f    ]..        jso
-000136d0: 6e5f 6461 7461 203d 207b 0a20 2020 2020  n_data = {.     
-000136e0: 2020 2020 2020 2027 6465 7669 6365 5f74         'device_t
-000136f0: 7970 6527 3a20 6465 765f 7479 7065 2c0a  ype': dev_type,.
-00013700: 2020 2020 2020 2020 2020 2020 2763 6f6d              'com
-00013710: 6d61 6e64 7327 3a20 636d 6473 0a20 2020  mands': cmds.   
-00013720: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00013730: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00013740: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
-00013750: 5f64 6174 613d 6a73 6f6e 5f64 6174 6129  _data=json_data)
-00013760: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00013770: 6765 745f 7473 5f6f 7574 7075 7428 0a20  get_ts_output(. 
-00013780: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00013790: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
-000137a0: 2c0a 2020 2020 2020 2020 7365 7373 696f  ,.        sessio
-000137b0: 6e5f 6964 3a20 696e 742c 0a20 2020 2029  n_id: int,.    )
-000137c0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-000137d0: 2020 2020 2020 2222 2247 6574 2054 726f        """Get Tro
-000137e0: 7562 6c65 7368 6f6f 7469 6e67 204f 7574  ubleshooting Out
-000137f0: 7075 742e 0a0a 2020 2020 2020 2020 4172  put...        Ar
-00013800: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00013810: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
-00013820: 7269 616c 206f 6620 6465 7669 6365 0a20  rial of device. 
-00013830: 2020 2020 2020 2020 2020 2073 6573 7369             sessi
-00013840: 6f6e 5f69 6420 2869 6e74 293a 2055 6e69  on_id (int): Uni
-00013850: 7175 6520 4944 2066 6f72 2074 726f 7562  que ID for troub
-00013860: 6c65 7368 6f6f 7469 6e67 2073 6573 7369  leshooting sessi
-00013870: 6f6e 0a0a 2020 2020 2020 2020 5265 7475  on..        Retu
-00013880: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00013890: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-000138a0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-000138b0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-000138c0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-000138d0: 6622 2f74 726f 7562 6c65 7368 6f6f 7469  f"/troubleshooti
-000138e0: 6e67 2f76 312f 6465 7669 6365 732f 7b73  ng/v1/devices/{s
-000138f0: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
-00013900: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
-00013910: 2020 2020 2020 2020 2773 6573 7369 6f6e          'session
-00013920: 5f69 6427 3a20 7365 7373 696f 6e5f 6964  _id': session_id
-00013930: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00013940: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00013950: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-00013960: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-00013970: 2020 2061 7379 6e63 2064 6566 2063 6c65     async def cle
-00013980: 6172 5f74 735f 7365 7373 696f 6e28 0a20  ar_ts_session(. 
-00013990: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-000139a0: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
-000139b0: 2c0a 2020 2020 2020 2020 7365 7373 696f  ,.        sessio
-000139c0: 6e5f 6964 3a20 696e 742c 0a20 2020 2029  n_id: int,.    )
-000139d0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-000139e0: 2020 2020 2020 2222 2243 6c65 6172 2054        """Clear T
-000139f0: 726f 7562 6c65 7368 6f6f 7469 6e67 2053  roubleshooting S
-00013a00: 6573 7369 6f6e 2061 6e64 206f 7574 7075  ession and outpu
-00013a10: 7420 666f 7220 6465 7669 6365 2e0a 0a20  t for device... 
-00013a20: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00013a30: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
-00013a40: 2873 7472 293a 2053 6572 6961 6c20 6f66  (str): Serial of
-00013a50: 2064 6576 6963 650a 2020 2020 2020 2020   device.        
-00013a60: 2020 2020 7365 7373 696f 6e5f 6964 2028      session_id (
-00013a70: 696e 7429 3a20 556e 6971 7565 2049 4420  int): Unique ID 
-00013a80: 666f 7220 6561 6368 2074 726f 7562 6c65  for each trouble
-00013a90: 7368 6f6f 7469 6e67 2073 6573 7369 6f6e  shooting session
-00013aa0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00013ab0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00013ac0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00013ad0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00013ae0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00013af0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-00013b00: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
-00013b10: 2f76 312f 6465 7669 6365 732f 7b73 6572  /v1/devices/{ser
-00013b20: 6961 6c7d 220a 0a20 2020 2020 2020 2070  ial}"..        p
-00013b30: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-00013b40: 2020 2020 2020 2773 6573 7369 6f6e 5f69        'session_i
-00013b50: 6427 3a20 7365 7373 696f 6e5f 6964 0a20  d': session_id. 
-00013b60: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00013b70: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-00013b80: 656c 662e 6465 6c65 7465 2875 726c 2c20  elf.delete(url, 
-00013b90: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
-00013ba0: 2020 2020 2320 4150 492d 464c 4157 2072      # API-FLAW r
-00013bb0: 6574 7572 6e73 2034 3034 2069 6620 7468  eturns 404 if th
-00013bc0: 6572 6520 6172 6520 6e6f 2073 6573 7369  ere are no sessi
-00013bd0: 6f6e 7320 7275 6e6e 696e 670a 2020 2020  ons running.    
-00013be0: 6173 796e 6320 6465 6620 6765 745f 7473  async def get_ts
-00013bf0: 5f73 6573 7369 6f6e 5f69 6428 0a20 2020  _session_id(.   
-00013c00: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00013c10: 2020 2073 6572 6961 6c3a 2073 7472 2c0a     serial: str,.
-00013c20: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00013c30: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-00013c40: 7420 5472 6f75 626c 6573 686f 6f74 696e  t Troubleshootin
-00013c50: 6720 5365 7373 696f 6e20 4944 2066 6f72  g Session ID for
-00013c60: 2061 2064 6576 6963 652e 0a0a 2020 2020   a device...    
-00013c70: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00013c80: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
-00013c90: 7229 3a20 5365 7269 616c 206f 6620 6465  r): Serial of de
-00013ca0: 7669 6365 0a0a 2020 2020 2020 2020 5265  vice..        Re
-00013cb0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00013cc0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00013cd0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00013ce0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00013cf0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00013d00: 3d20 6622 2f74 726f 7562 6c65 7368 6f6f  = f"/troubleshoo
-00013d10: 7469 6e67 2f76 312f 6465 7669 6365 732f  ting/v1/devices/
-00013d20: 7b73 6572 6961 6c7d 2f73 6573 7369 6f6e  {serial}/session
-00013d30: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-00013d40: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00013d50: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
-00013d60: 2064 6566 2067 6574 5f73 6477 616e 5f64   def get_sdwan_d
-00013d70: 7073 5f70 6f6c 6963 795f 636f 6d70 6c69  ps_policy_compli
-00013d80: 616e 6365 2873 656c 662c 2074 696d 655f  ance(self, time_
-00013d90: 6672 616d 653a 2073 7472 203d 2022 6c61  frame: str = "la
-00013da0: 7374 5f77 6565 6b22 2c20 6f72 6465 723a  st_week", order:
-00013db0: 2073 7472 203d 2022 6265 7374 2229 202d   str = "best") -
-00013dc0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00013dd0: 2020 2020 7572 6c20 3d20 222f 7364 7761      url = "/sdwa
-00013de0: 6e2d 6d6f 6e2d 6170 692f 6578 7465 726e  n-mon-api/extern
-00013df0: 616c 2f6e 6f63 2f72 6570 6f72 7473 2f77  al/noc/reports/w
-00013e00: 616e 2f70 6f6c 6963 792d 636f 6d70 6c69  an/policy-compli
-00013e10: 616e 6365 220a 2020 2020 2020 2020 7061  ance".        pa
-00013e20: 7261 6d73 203d 207b 2270 6572 696f 6422  rams = {"period"
-00013e30: 3a20 7469 6d65 5f66 7261 6d65 2c20 2272  : time_frame, "r
-00013e40: 6573 756c 745f 6f72 6465 7222 3a20 6f72  esult_order": or
-00013e50: 6465 722c 2022 636f 756e 7422 3a20 3235  der, "count": 25
-00013e60: 307d 0a20 2020 2020 2020 2072 6574 7572  0}.        retur
-00013e70: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00013e80: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00013e90: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-00013ea0: 6465 6620 6765 745f 6170 5f6c 6c64 705f  def get_ap_lldp_
-00013eb0: 6e65 6967 6862 6f72 2873 656c 662c 2064  neighbor(self, d
-00013ec0: 6576 6963 655f 7365 7269 616c 3a20 7374  evice_serial: st
-00013ed0: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
-00013ee0: 2020 2020 2020 2020 2222 2247 6574 206e          """Get n
-00013ef0: 6569 6768 626f 7220 6465 7461 696c 7320  eighbor details 
-00013f00: 7265 706f 7274 6564 2062 7920 4150 2076  reported by AP v
-00013f10: 6961 204c 4c44 502e 0a0a 2020 2020 2020  ia LLDP...      
-00013f20: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00013f30: 2020 2020 6465 7669 6365 5f73 6572 6961      device_seria
-00013f40: 6c20 2873 7472 293a 2044 6576 6963 6520  l (str): Device 
-00013f50: 7365 7269 616c 206e 756d 6265 722e 0a0a  serial number...
-00013f60: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00013f70: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00013f80: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00013f90: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00013fa0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00013fb0: 2020 2020 2020 7572 6c20 3d20 6622 2f74        url = f"/t
-00013fc0: 6f70 6f6c 6f67 795f 6578 7465 726e 616c  opology_external
-00013fd0: 5f61 7069 2f61 704e 6569 6768 626f 7273  _api/apNeighbors
-00013fe0: 2f7b 6465 7669 6365 5f73 6572 6961 6c7d  /{device_serial}
-00013ff0: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
-00014000: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-00014010: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
-00014020: 2064 6566 2064 6f5f 6d75 6c74 695f 6772   def do_multi_gr
-00014030: 6f75 705f 736e 6170 7368 6f74 280a 2020  oup_snapshot(.  
-00014040: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00014050: 2020 2020 6261 636b 7570 5f6e 616d 653a      backup_name:
-00014060: 2073 7472 2c0a 2020 2020 2020 2020 696e   str,.        in
-00014070: 636c 7564 655f 6772 6f75 7073 3a20 556e  clude_groups: Un
-00014080: 696f 6e5b 6c69 7374 2c20 4c69 7374 5b73  ion[list, List[s
-00014090: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
-000140a0: 2020 2020 2065 7863 6c75 6465 5f67 726f       exclude_gro
-000140b0: 7570 733a 2055 6e69 6f6e 5b6c 6973 742c  ups: Union[list,
-000140c0: 204c 6973 745b 7374 725d 5d20 3d20 4e6f   List[str]] = No
-000140d0: 6e65 2c0a 2020 2020 2020 2020 646f 5f6e  ne,.        do_n
-000140e0: 6f74 5f64 656c 6574 653a 2062 6f6f 6c20  ot_delete: bool 
-000140f0: 3d20 4661 6c73 652c 0a20 2020 2029 202d  = False,.    ) -
-00014100: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00014110: 2020 2020 2222 2220 2243 7265 6174 6520      """ "Create 
-00014120: 6e65 7720 636f 6e66 6967 7572 6174 696f  new configuratio
-00014130: 6e20 6261 636b 7570 2066 6f72 206d 756c  n backup for mul
-00014140: 7469 706c 6520 6772 6f75 7073 2e22 0a0a  tiple groups."..
-00014150: 2020 2020 2020 2020 4569 7468 6572 2069          Either i
-00014160: 6e63 6c75 6465 5f67 726f 7570 7320 6f72  nclude_groups or
-00014170: 2065 7863 6c75 6465 5f67 726f 7570 7320   exclude_groups 
-00014180: 7368 6f75 6c64 2062 6520 7072 6f76 6964  should be provid
-00014190: 6564 2c20 6275 7420 6e6f 7420 626f 7468  ed, but not both
-000141a0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-000141b0: 0a20 2020 2020 2020 2020 2020 2062 6163  .            bac
-000141c0: 6b75 705f 6e61 6d65 2028 7374 7229 3a20  kup_name (str): 
-000141d0: 4e61 6d65 206f 6620 4261 636b 7570 0a20  Name of Backup. 
-000141e0: 2020 2020 2020 2020 2020 2069 6e63 6c75             inclu
-000141f0: 6465 5f67 726f 7570 7320 2855 6e69 6f6e  de_groups (Union
-00014200: 5b6c 6973 742c 204c 6973 745b 7374 725d  [list, List[str]
-00014210: 5d2c 206f 7074 696f 6e61 6c29 3a20 4772  ], optional): Gr
-00014220: 6f75 7073 2074 6f20 696e 636c 7564 6520  oups to include 
-00014230: 696e 2042 6163 6b75 702e 2044 6566 6175  in Backup. Defau
-00014240: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-00014250: 2020 2020 2020 2020 2065 7863 6c75 6465           exclude
-00014260: 5f67 726f 7570 7320 2855 6e69 6f6e 5b6c  _groups (Union[l
-00014270: 6973 742c 204c 6973 745b 7374 725d 5d2c  ist, List[str]],
-00014280: 206f 7074 696f 6e61 6c29 3a20 4772 6f75   optional): Grou
-00014290: 7073 2074 6f20 4578 636c 7564 6520 696e  ps to Exclude in
-000142a0: 2042 6163 6b75 702e 2044 6566 6175 6c74   Backup. Default
-000142b0: 7320 746f 204e 6f6e 652e 0a20 2020 2020  s to None..     
-000142c0: 2020 2020 2020 2064 6f5f 6e6f 745f 6465         do_not_de
-000142d0: 6c65 7465 2028 626f 6f6c 2c20 6f70 7469  lete (bool, opti
-000142e0: 6f6e 616c 293a 2046 6c61 6720 746f 2072  onal): Flag to r
-000142f0: 6570 7265 7365 6e74 2069 6620 7468 6520  epresent if the 
-00014300: 736e 6170 7368 6f74 2063 616e 2062 6520  snapshot can be 
-00014310: 6465 6c65 7465 6420 6175 746f 6d61 7469  deleted automati
-00014320: 6361 6c6c 790a 2020 2020 2020 2020 2020  cally.          
-00014330: 2020 2020 2020 6279 2073 7973 7465 6d20        by system 
-00014340: 7768 656e 2063 7265 6174 696e 6720 6e65  when creating ne
-00014350: 7720 736e 6170 7368 6f74 206f 7220 6e6f  w snapshot or no
-00014360: 742e 2044 6566 6175 6c74 7320 746f 2046  t. Defaults to F
-00014370: 616c 7365 2e0a 0a0a 2020 2020 2020 2020  alse....        
-00014380: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00014390: 2020 2020 2052 6573 706f 6e73 653a 2052       Response: R
-000143a0: 6573 706f 6e73 6520 4f62 6a65 6374 0a20  esponse Object. 
-000143b0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000143c0: 2020 2075 726c 203d 2022 2f63 6f6e 6669     url = "/confi
-000143d0: 6775 7261 7469 6f6e 2f76 312f 6772 6f75  guration/v1/grou
-000143e0: 7073 2f73 6e61 7073 686f 742f 6261 636b  ps/snapshot/back
-000143f0: 7570 7322 0a20 2020 2020 2020 2069 6e63  ups".        inc
-00014400: 6c75 6465 5f67 726f 7570 7320 3d20 7574  lude_groups = ut
-00014410: 696c 732e 6c69 7374 6966 7928 696e 636c  ils.listify(incl
-00014420: 7564 655f 6772 6f75 7073 290a 2020 2020  ude_groups).    
-00014430: 2020 2020 6578 636c 7564 655f 6772 6f75      exclude_grou
-00014440: 7073 203d 2075 7469 6c73 2e6c 6973 7469  ps = utils.listi
-00014450: 6679 2865 7863 6c75 6465 5f67 726f 7570  fy(exclude_group
-00014460: 7329 0a20 2020 2020 2020 2070 6179 6c6f  s).        paylo
-00014470: 6164 203d 207b 0a20 2020 2020 2020 2020  ad = {.         
-00014480: 2020 2022 6261 636b 7570 5f6e 616d 6522     "backup_name"
-00014490: 3a20 6261 636b 7570 5f6e 616d 652c 0a20  : backup_name,. 
-000144a0: 2020 2020 2020 2020 2020 2022 646f 5f6e             "do_n
-000144b0: 6f74 5f64 656c 6574 6522 3a20 646f 5f6e  ot_delete": do_n
-000144c0: 6f74 5f64 656c 6574 652c 0a20 2020 2020  ot_delete,.     
-000144d0: 2020 2020 2020 2022 696e 636c 7564 655f         "include_
-000144e0: 6772 6f75 7073 223a 2069 6e63 6c75 6465  groups": include
-000144f0: 5f67 726f 7570 732c 0a20 2020 2020 2020  _groups,.       
-00014500: 2020 2020 2022 6578 636c 7564 655f 6772       "exclude_gr
-00014510: 6f75 7073 223a 2065 7863 6c75 6465 5f67  oups": exclude_g
-00014520: 726f 7570 732c 0a20 2020 2020 2020 207d  roups,.        }
-00014530: 0a20 2020 2020 2020 2070 6179 6c6f 6164  .        payload
-00014540: 203d 2073 656c 662e 7374 7269 705f 6e6f   = self.strip_no
-00014550: 6e65 2870 6179 6c6f 6164 290a 2020 2020  ne(payload).    
-00014560: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00014570: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-00014580: 6a73 6f6e 5f64 6174 613d 7061 796c 6f61  json_data=payloa
-00014590: 6429 0a0a 2020 2020 6173 796e 6320 6465  d)..    async de
-000145a0: 6620 6765 745f 736e 6170 7368 6f74 735f  f get_snapshots_
-000145b0: 6279 5f67 726f 7570 2873 656c 662c 2067  by_group(self, g
-000145c0: 726f 7570 3a20 7374 7229 3a0a 2020 2020  roup: str):.    
-000145d0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
-000145e0: 6669 6775 7261 7469 6f6e 2f76 312f 6772  figuration/v1/gr
-000145f0: 6f75 7073 2f7b 6772 6f75 707d 2f73 6e61  oups/{group}/sna
-00014600: 7073 686f 7473 220a 2020 2020 2020 2020  pshots".        
-00014610: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00014620: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
-00014630: 6173 796e 6320 6465 6620 6765 745f 6777  async def get_gw
-00014640: 5f74 756e 6e65 6c73 280a 2020 2020 2020  _tunnels(.      
-00014650: 2020 7365 6c66 2c20 7365 7269 616c 3a20    self, serial: 
-00014660: 7374 722c 0a20 2020 2020 2020 2074 696d  str,.        tim
-00014670: 6572 616e 6765 3a20 7374 7220 3d20 2231  erange: str = "1
-00014680: 4d22 2c0a 2020 2020 2020 2020 6c69 6d69  M",.        limi
-00014690: 743a 2069 6e74 203d 2032 3530 2c0a 2020  t: int = 250,.  
-000146a0: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-000146b0: 7420 3d20 300a 2020 2020 2920 2d3e 2052  t = 0.    ) -> R
-000146c0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-000146d0: 2022 2222 4765 7420 6761 7465 7761 7920   """Get gateway 
-000146e0: 5570 6c69 6e6b 2074 756e 6e65 6c20 6465  Uplink tunnel de
-000146f0: 7461 696c 732e 0a0a 2020 2020 2020 2020  tails...        
-00014700: 5573 6564 2062 7920 7768 5f70 726f 7879  Used by wh_proxy
-00014710: 2c20 6375 7272 656e 746c 7920 6e6f 7420  , currently not 
-00014720: 7573 6564 2062 7920 6120 636f 6d6d 616e  used by a comman
-00014730: 6420 7769 6c6c 2062 6520 696e 2073 686f  d will be in sho
-00014740: 7720 6761 7465 7761 7920 7475 6e6e 656c  w gateway tunnel
-00014750: 730a 0a20 2020 2020 2020 2041 7267 733a  s..        Args:
-00014760: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-00014770: 6961 6c20 2873 7472 293a 2053 6572 6961  ial (str): Seria
-00014780: 6c20 6e75 6d62 6572 206f 6620 6d6f 6269  l number of mobi
-00014790: 6c69 7479 2063 6f6e 7472 6f6c 6c65 7220  lity controller 
-000147a0: 746f 2062 6520 7175 6572 6965 640a 2020  to be queried.  
-000147b0: 2020 2020 2020 2020 2020 7469 6d65 7261            timera
-000147c0: 6e67 6520 2873 7472 293a 2054 696d 6520  nge (str): Time 
-000147d0: 7261 6e67 6520 666f 7220 7475 6e6e 656c  range for tunnel
-000147e0: 2073 7461 7473 2069 6e66 6f72 6d61 7469   stats informati
-000147f0: 6f6e 2e0a 2020 2020 2020 2020 2020 2020  on..            
-00014800: 2020 2020 3348 203d 2033 2048 6f75 7273      3H = 3 Hours
-00014810: 2c20 3144 203d 2031 2044 6179 2c20 3157  , 1D = 1 Day, 1W
-00014820: 203d 2031 2057 6565 6b2c 2031 4d20 3d20   = 1 Week, 1M = 
-00014830: 314d 6f6e 7468 2c20 334d 203d 2033 4d6f  1Month, 3M = 3Mo
-00014840: 6e74 6873 2e0a 2020 2020 2020 2020 2020  nths..          
-00014850: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
-00014860: 7469 6f6e 616c 293a 2050 6167 696e 6174  tional): Paginat
-00014870: 696f 6e20 6c69 6d69 742e 204d 6178 3a20  ion limit. Max: 
-00014880: 3130 3030 2044 6566 6175 6c74 7320 746f  1000 Defaults to
-00014890: 2032 3530 2e0a 2020 2020 2020 2020 2020   250..          
-000148a0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
-000148b0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
-000148c0: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
-000148d0: 756c 7473 2074 6f20 302e 0a0a 2020 2020  ults to 0...    
-000148e0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-000148f0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-00014900: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-00014910: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-00014920: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00014930: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
-00014940: 6f72 696e 672f 7631 2f67 6174 6577 6179  oring/v1/gateway
-00014950: 732f 7b73 6572 6961 6c7d 2f74 756e 6e65  s/{serial}/tunne
-00014960: 6c73 220a 0a20 2020 2020 2020 2070 6172  ls"..        par
-00014970: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-00014980: 2020 2020 2274 696d 6572 616e 6765 223a      "timerange":
-00014990: 2074 696d 6572 616e 6765 2c0a 2020 2020   timerange,.    
-000149a0: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
-000149b0: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
-000149c0: 2020 2020 2020 226c 696d 6974 223a 206c        "limit": l
-000149d0: 696d 6974 0a20 2020 2020 2020 207d 0a0a  imit.        }..
-000149e0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-000149f0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-00014a00: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
-00014a10: 290a 0a20 2020 2023 2041 5049 2d46 4c41  )..    # API-FLA
-00014a20: 5720 6d61 7820 6c69 6d69 7420 3130 3020  W max limit 100 
-00014a30: 656e 666f 7263 6564 2069 6620 796f 7520  enforced if you 
-00014a40: 7072 6f76 6964 6520 7468 6520 6c69 6d69  provide the limi
-00014a50: 7420 7061 7261 6d65 7465 722c 206f 7468  t parameter, oth
-00014a60: 6572 7769 7365 206e 6f20 6c69 6d69 743f  erwise no limit?
-00014a70: 2072 6574 7572 6e65 6420 3831 3120 772f   returned 811 w/
-00014a80: 206e 6f20 7061 7261 6d20 7072 6f76 6964   no param provid
-00014a90: 6564 0a20 2020 2023 2041 5049 2d46 4c41  ed.    # API-FLA
-00014aa0: 5720 646f 6573 206e 6f74 2072 6574 7572  W does not retur
-00014ab0: 6e20 616c 6c20 6c6f 6773 2061 7661 696c  n all logs avail
-00014ac0: 6162 6c65 2069 6e20 5549 2077 7466 3f3f  able in UI wtf??
-00014ad0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-00014ae0: 6574 5f61 7564 6974 5f6c 6f67 7328 0a20  et_audit_logs(. 
-00014af0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00014b00: 2020 2020 206c 6f67 5f69 643a 2073 7472       log_id: str
-00014b10: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00014b20: 2075 7365 726e 616d 653a 2073 7472 203d   username: str =
-00014b30: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-00014b40: 7461 7274 5f74 696d 653a 2069 6e74 203d  tart_time: int =
-00014b50: 204e 6f6e 652c 0a20 2020 2020 2020 2065   None,.        e
-00014b60: 6e64 5f74 696d 653a 2069 6e74 203d 204e  nd_time: int = N
-00014b70: 6f6e 652c 0a20 2020 2020 2020 2064 6573  one,.        des
-00014b80: 6372 6970 7469 6f6e 3a20 7374 7220 3d20  cription: str = 
-00014b90: 4e6f 6e65 2c0a 2020 2020 2020 2020 7461  None,.        ta
-00014ba0: 7267 6574 3a20 7374 7220 3d20 4e6f 6e65  rget: str = None
-00014bb0: 2c0a 2020 2020 2020 2020 636c 6173 7369  ,.        classi
-00014bc0: 6669 6361 7469 6f6e 3a20 7374 7220 3d20  fication: str = 
-00014bd0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6375  None,.        cu
-00014be0: 7374 6f6d 6572 5f6e 616d 653a 2073 7472  stomer_name: str
-00014bf0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00014c00: 2069 705f 6164 6472 6573 733a 2073 7472   ip_address: str
-00014c10: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00014c20: 2061 7070 5f69 643a 2073 7472 203d 204e   app_id: str = N
-00014c30: 6f6e 652c 0a20 2020 2020 2020 206f 6666  one,.        off
-00014c40: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
-00014c50: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
-00014c60: 203d 2031 3030 2c0a 2020 2020 2020 2020   = 100,.        
-00014c70: 636f 756e 743a 2069 6e74 203d 204e 6f6e  count: int = Non
-00014c80: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
-00014c90: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00014ca0: 2247 6574 2061 6c6c 2061 7564 6974 206c  "Get all audit l
-00014cb0: 6f67 732e 0a0a 2020 2020 2020 2020 4172  ogs...        Ar
-00014cc0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00014cd0: 6c6f 675f 6964 2028 7374 722c 206f 7074  log_id (str, opt
-00014ce0: 696f 6e61 6c29 3a20 5468 6520 6964 206f  ional): The id o
-00014cf0: 6620 7468 6520 6c6f 6720 746f 2072 6574  f the log to ret
-00014d00: 7572 6e20 6465 7461 696c 7320 666f 722e  urn details for.
-00014d10: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-00014d20: 652e 0a20 2020 2020 2020 2020 2020 2075  e..            u
-00014d30: 7365 726e 616d 6520 2873 7472 2c20 6f70  sername (str, op
-00014d40: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00014d50: 6175 6469 7420 6c6f 6773 2062 7920 5573  audit logs by Us
-00014d60: 6572 204e 616d 650a 2020 2020 2020 2020  er Name.        
-00014d70: 2020 2020 7374 6172 745f 7469 6d65 2028      start_time (
-00014d80: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00014d90: 4669 6c74 6572 2061 7564 6974 206c 6f67  Filter audit log
-00014da0: 7320 6279 2054 696d 6520 5261 6e67 652e  s by Time Range.
-00014db0: 2053 7461 7274 2074 696d 6520 6f66 2074   Start time of t
-00014dc0: 6865 2061 7564 6974 0a20 2020 2020 2020  he audit.       
-00014dd0: 2020 2020 2020 2020 206c 6f67 7320 7368           logs sh
-00014de0: 6f75 6c64 2062 6520 7072 6f76 6964 6564  ould be provided
-00014df0: 2069 6e20 6570 6f63 6820 7365 636f 6e64   in epoch second
-00014e00: 730a 2020 2020 2020 2020 2020 2020 656e  s.            en
-00014e10: 645f 7469 6d65 2028 696e 742c 206f 7074  d_time (int, opt
-00014e20: 696f 6e61 6c29 3a20 4669 6c74 6572 2061  ional): Filter a
-00014e30: 7564 6974 206c 6f67 7320 6279 2054 696d  udit logs by Tim
-00014e40: 6520 5261 6e67 652e 2045 6e64 2074 696d  e Range. End tim
-00014e50: 6520 6f66 2074 6865 2061 7564 6974 206c  e of the audit l
-00014e60: 6f67 730a 2020 2020 2020 2020 2020 2020  ogs.            
-00014e70: 2020 2020 7368 6f75 6c64 2062 6520 7072      should be pr
-00014e80: 6f76 6964 6564 2069 6e20 6570 6f63 6820  ovided in epoch 
-00014e90: 7365 636f 6e64 730a 2020 2020 2020 2020  seconds.        
-00014ea0: 2020 2020 6465 7363 7269 7074 696f 6e20      description 
+0000f0a0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+0000f0b0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+0000f0c0: 2061 7379 6e63 2064 6566 2067 6574 5f67   async def get_g
+0000f0d0: 726f 7570 5f66 6f72 5f64 6576 5f62 795f  roup_for_dev_by_
+0000f0e0: 7365 7269 616c 2873 656c 662c 2073 6572  serial(self, ser
+0000f0f0: 6961 6c5f 6e75 6d29 3a0a 2020 2020 2020  ial_num):.      
+0000f100: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0000f110: 656c 662e 6765 7428 6622 2f63 6f6e 6669  elf.get(f"/confi
+0000f120: 6775 7261 7469 6f6e 2f76 312f 6465 7669  guration/v1/devi
+0000f130: 6365 732f 7b73 6572 6961 6c5f 6e75 6d7d  ces/{serial_num}
+0000f140: 2f67 726f 7570 2229 0a0a 2020 2020 2320  /group")..    # 
+0000f150: 6173 796e 6320 6465 6620 6765 745f 6468  async def get_dh
+0000f160: 6370 5f63 6c69 656e 745f 696e 666f 5f62  cp_client_info_b
+0000f170: 795f 6777 2873 656c 662c 2073 6572 6961  y_gw(self, seria
+0000f180: 6c5f 6e75 6d29 3a0a 2020 2020 2320 2020  l_num):.    #   
+0000f190: 2020 7572 6c20 3d20 6622 2f6d 6f6e 6974    url = f"/monit
+0000f1a0: 6f72 696e 672f 7631 2f6d 6f62 696c 6974  oring/v1/mobilit
+0000f1b0: 795f 636f 6e74 726f 6c6c 6572 732f 7b73  y_controllers/{s
+0000f1c0: 6572 6961 6c5f 6e75 6d7d 2f64 6863 705f  erial_num}/dhcp_
+0000f1d0: 636c 6965 6e74 7322 0a20 2020 2023 2020  clients".    #  
+0000f1e0: 2020 2070 6172 616d 7320 3d20 7b22 7265     params = {"re
+0000f1f0: 7365 7276 6174 696f 6e22 3a20 4661 6c73  servation": Fals
+0000f200: 657d 0a20 2020 2023 2020 2020 2072 6574  e}.    #     ret
+0000f210: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0000f220: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+0000f230: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+0000f240: 6320 6465 6620 6765 745f 766c 616e 5f69  c def get_vlan_i
+0000f250: 6e66 6f5f 6279 5f67 7728 7365 6c66 2c20  nfo_by_gw(self, 
+0000f260: 7365 7269 616c 5f6e 756d 293a 0a20 2020  serial_num):.   
+0000f270: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0000f280: 7420 7365 6c66 2e67 6574 2866 222f 6d6f  t self.get(f"/mo
+0000f290: 6e69 746f 7269 6e67 2f76 312f 6d6f 6269  nitoring/v1/mobi
+0000f2a0: 6c69 7479 5f63 6f6e 7472 6f6c 6c65 7273  lity_controllers
+0000f2b0: 2f7b 7365 7269 616c 5f6e 756d 7d2f 766c  /{serial_num}/vl
+0000f2c0: 616e 2229 0a0a 2020 2020 6173 796e 6320  an")..    async 
+0000f2d0: 6465 6620 6765 745f 7570 6c69 6e6b 5f69  def get_uplink_i
+0000f2e0: 6e66 6f5f 6279 5f67 7728 7365 6c66 2c20  nfo_by_gw(self, 
+0000f2f0: 7365 7269 616c 5f6e 756d 2c20 7469 6d65  serial_num, time
+0000f300: 7261 6e67 653a 2073 7472 203d 2022 3348  range: str = "3H
+0000f310: 2229 3a0a 2020 2020 2020 2020 7572 6c20  "):.        url 
+0000f320: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
+0000f330: 7631 2f6d 6f62 696c 6974 795f 636f 6e74  v1/mobility_cont
+0000f340: 726f 6c6c 6572 732f 7b73 6572 6961 6c5f  rollers/{serial_
+0000f350: 6e75 6d7d 2f75 706c 696e 6b73 220a 2020  num}/uplinks".  
+0000f360: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+0000f370: 2274 696d 6572 616e 6765 223a 2074 696d  "timerange": tim
+0000f380: 6572 616e 6765 7d0a 2020 2020 2020 2020  erange}.        
+0000f390: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0000f3a0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+0000f3b0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+0000f3c0: 6620 6765 745f 7570 6c69 6e6b 5f74 756e  f get_uplink_tun
+0000f3d0: 6e65 6c5f 7374 6174 735f 6279 5f67 7728  nel_stats_by_gw(
+0000f3e0: 7365 6c66 2c20 7365 7269 616c 5f6e 756d  self, serial_num
+0000f3f0: 293a 0a20 2020 2020 2020 2075 726c 203d  ):.        url =
+0000f400: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
+0000f410: 312f 6d6f 6269 6c69 7479 5f63 6f6e 7472  1/mobility_contr
+0000f420: 6f6c 6c65 7273 2f7b 7365 7269 616c 5f6e  ollers/{serial_n
+0000f430: 756d 7d2f 7570 6c69 6e6b 732f 7475 6e6e  um}/uplinks/tunn
+0000f440: 656c 5f73 7461 7473 220a 2020 2020 2020  el_stats".      
+0000f450: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+0000f460: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
+0000f470: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0000f480: 7570 6c69 6e6b 5f73 7461 7465 5f62 795f  uplink_state_by_
+0000f490: 6772 6f75 7028 7365 6c66 2c20 6772 6f75  group(self, grou
+0000f4a0: 703a 2073 7472 2920 2d3e 2052 6573 706f  p: str) -> Respo
+0000f4b0: 6e73 653a 0a20 2020 2020 2020 2075 726c  nse:.        url
+0000f4c0: 203d 2022 2f6d 6f6e 6974 6f72 696e 672f   = "/monitoring/
+0000f4d0: 7631 2f6d 6f62 696c 6974 795f 636f 6e74  v1/mobility_cont
+0000f4e0: 726f 6c6c 6572 732f 7570 6c69 6e6b 732f  rollers/uplinks/
+0000f4f0: 6469 7374 7269 6275 7469 6f6e 220a 2020  distribution".  
+0000f500: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+0000f510: 2267 726f 7570 223a 2067 726f 7570 7d0a  "group": group}.
+0000f520: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0000f530: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+0000f540: 6c2c 2070 6172 616d 7329 0a0a 2020 2020  l, params)..    
+0000f550: 2320 544f 444f 206d 6f76 6520 636c 6561  # TODO move clea
+0000f560: 6e65 720a 2020 2020 6173 796e 6320 6465  ner.    async de
+0000f570: 6620 6765 745f 616c 6c5f 7369 7465 7328  f get_all_sites(
+0000f580: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
+0000f590: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
+0000f5a0: 5f74 6f74 616c 3a20 626f 6f6c 203d 2046  _total: bool = F
+0000f5b0: 616c 7365 2c0a 2020 2020 2020 2020 6f66  alse,.        of
+0000f5c0: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
+0000f5d0: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
+0000f5e0: 7420 3d20 3130 3030 0a20 2020 2029 202d  t = 1000.    ) -
+0000f5f0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0000f600: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
+0000f610: 2020 2020 2020 2020 2020 2022 6361 6c63             "calc
+0000f620: 756c 6174 655f 746f 7461 6c22 3a20 7374  ulate_total": st
+0000f630: 7228 6361 6c63 756c 6174 655f 746f 7461  r(calculate_tota
+0000f640: 6c29 2c0a 2020 2020 2020 2020 2020 2020  l),.            
+0000f650: 226f 6666 7365 7422 3a20 6f66 6673 6574  "offset": offset
+0000f660: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
+0000f670: 696d 6974 223a 206c 696d 6974 0a20 2020  imit": limit.   
+0000f680: 2020 2020 207d 0a20 2020 2020 2020 2072       }.        r
+0000f690: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0000f6a0: 2e67 6574 2822 2f63 656e 7472 616c 2f76  .get("/central/v
+0000f6b0: 322f 7369 7465 7322 2c20 7061 7261 6d73  2/sites", params
+0000f6c0: 3d70 6172 616d 732c 2063 616c 6c62 6163  =params, callbac
+0000f6d0: 6b3d 636c 6561 6e65 722e 7369 7465 7329  k=cleaner.sites)
+0000f6e0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0000f6f0: 6765 745f 7369 7465 5f64 6574 6169 6c73  get_site_details
+0000f700: 2873 656c 662c 2073 6974 655f 6964 293a  (self, site_id):
+0000f710: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000f720: 6177 6169 7420 7365 6c66 2e67 6574 2866  await self.get(f
+0000f730: 222f 6365 6e74 7261 6c2f 7632 2f73 6974  "/central/v2/sit
+0000f740: 6573 2f7b 7369 7465 5f69 647d 222c 2063  es/{site_id}", c
+0000f750: 616c 6c62 6163 6b3d 636c 6561 6e65 722e  allback=cleaner.
+0000f760: 7369 7465 7329 0a0a 2020 2020 2320 544f  sites)..    # TO
+0000f770: 444f 206d 616b 6520 636f 6d6d 616e 6420  DO make command 
+0000f780: 7468 6973 2073 686f 7773 2065 7665 6e74  this shows event
+0000f790: 7320 6672 6f6d 2064 6576 6963 6573 2028  s from devices (
+0000f7a0: 5573 6572 2061 636b 2072 6563 2066 726f  User ack rec fro
+0000f7b0: 6d20 4448 4350 2073 6572 7665 722c 2045  m DHCP server, E
+0000f7c0: 4150 2072 6573 706f 6e73 6520 666f 7220  AP response for 
+0000f7d0: 636c 6965 6e74 2e2e 2e29 0a20 2020 2061  client...).    a
+0000f7e0: 7379 6e63 2064 6566 2067 6574 5f65 7665  sync def get_eve
+0000f7f0: 6e74 7328 0a20 2020 2020 2020 2073 656c  nts(.        sel
+0000f800: 662c 0a20 2020 2020 2020 2067 726f 7570  f,.        group
+0000f810: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0000f820: 2020 2020 2020 7377 6172 6d5f 6964 3a20        swarm_id: 
+0000f830: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000f840: 2020 2020 6c61 6265 6c3a 2073 7472 203d      label: str =
+0000f850: 204e 6f6e 652c 0a20 2020 2020 2020 2066   None,.        f
+0000f860: 726f 6d5f 7473 3a20 696e 7420 3d20 4e6f  rom_ts: int = No
+0000f870: 6e65 2c0a 2020 2020 2020 2020 746f 5f74  ne,.        to_t
+0000f880: 733a 2069 6e74 203d 204e 6f6e 652c 0a20  s: int = None,. 
+0000f890: 2020 2020 2020 206d 6163 6164 6472 3a20         macaddr: 
+0000f8a0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000f8b0: 2020 2020 6273 7369 643a 2073 7472 203d      bssid: str =
+0000f8c0: 204e 6f6e 652c 0a20 2020 2020 2020 2064   None,.        d
+0000f8d0: 6576 6963 655f 6d61 633a 2073 7472 203d  evice_mac: str =
+0000f8e0: 204e 6f6e 652c 0a20 2020 2020 2020 2068   None,.        h
+0000f8f0: 6f73 746e 616d 653a 2073 7472 203d 204e  ostname: str = N
+0000f900: 6f6e 652c 0a20 2020 2020 2020 2064 6576  one,.        dev
+0000f910: 6963 655f 7479 7065 3a20 7374 7220 3d20  ice_type: str = 
+0000f920: 4e6f 6e65 2c0a 2020 2020 2020 2020 736f  None,.        so
+0000f930: 7274 3a20 7374 7220 3d20 272d 7469 6d65  rt: str = '-time
+0000f940: 7374 616d 7027 2c0a 2020 2020 2020 2020  stamp',.        
+0000f950: 7369 7465 3a20 7374 7220 3d20 4e6f 6e65  site: str = None
+0000f960: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
+0000f970: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0000f980: 2020 2020 2020 6c65 7665 6c3a 2073 7472        level: str
+0000f990: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0000f9a0: 2065 7665 6e74 5f64 6573 6372 6970 7469   event_descripti
+0000f9b0: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
+0000f9c0: 2020 2020 2020 2020 6576 656e 745f 7479          event_ty
+0000f9d0: 7065 3a20 7374 7220 3d20 4e6f 6e65 2c0a  pe: str = None,.
+0000f9e0: 2020 2020 2020 2020 6669 656c 6473 3a20          fields: 
+0000f9f0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0000fa00: 2020 2020 6361 6c63 756c 6174 655f 746f      calculate_to
+0000fa10: 7461 6c3a 2062 6f6f 6c20 3d20 4e6f 6e65  tal: bool = None
+0000fa20: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+0000fa30: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+0000fa40: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0000fa50: 3130 3030 2c0a 2020 2020 2920 2d3e 2052  1000,.    ) -> R
+0000fa60: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0000fa70: 2022 2222 4c69 7374 2045 7665 6e74 732e   """List Events.
+0000fa80: 2076 320a 0a20 2020 2020 2020 2041 7267   v2..        Arg
+0000fa90: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
+0000faa0: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
+0000fab0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+0000fac0: 6772 6f75 7020 6e61 6d65 0a20 2020 2020  group name.     
+0000fad0: 2020 2020 2020 2073 7761 726d 5f69 6420         swarm_id 
+0000fae0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000faf0: 2046 696c 7465 7220 6279 2053 7761 726d   Filter by Swarm
+0000fb00: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
+0000fb10: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
+0000fb20: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+0000fb30: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
+0000fb40: 2020 2020 2020 2020 6672 6f6d 5f74 7320          from_ts 
+0000fb50: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0000fb60: 204e 6565 6420 696e 666f 726d 6174 696f   Need informatio
+0000fb70: 6e20 6672 6f6d 2074 6869 7320 7469 6d65  n from this time
+0000fb80: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
+0000fb90: 2069 7320 6570 6f63 680a 2020 2020 2020   is epoch.      
+0000fba0: 2020 2020 2020 2020 2020 696e 2073 6563            in sec
+0000fbb0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
+0000fbc0: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
+0000fbd0: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
+0000fbe0: 0a20 2020 2020 2020 2020 2020 2074 6f5f  .            to_
+0000fbf0: 7473 2028 696e 742c 206f 7074 696f 6e61  ts (int, optiona
+0000fc00: 6c29 3a20 4e65 6564 2069 6e66 6f72 6d61  l): Need informa
+0000fc10: 7469 6f6e 2074 6f20 7468 6973 2074 696d  tion to this tim
+0000fc20: 6573 7461 6d70 2e20 5469 6d65 7374 616d  estamp. Timestam
+0000fc30: 7020 6973 2065 706f 6368 2069 6e0a 2020  p is epoch in.  
+0000fc40: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0000fc50: 636f 6e64 732e 2044 6566 6175 6c74 2069  conds. Default i
+0000fc60: 7320 6375 7272 656e 7420 7469 6d65 7374  s current timest
+0000fc70: 616d 700a 2020 2020 2020 2020 2020 2020  amp.            
+0000fc80: 6d61 6361 6464 7220 2873 7472 2c20 6f70  macaddr (str, op
+0000fc90: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0000fca0: 6279 2063 6c69 656e 7420 4d41 4320 6164  by client MAC ad
+0000fcb0: 6472 6573 730a 2020 2020 2020 2020 2020  dress.          
+0000fcc0: 2020 6273 7369 6420 2873 7472 2c20 6f70    bssid (str, op
+0000fcd0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+0000fce0: 6279 2062 7373 6964 0a20 2020 2020 2020  by bssid.       
+0000fcf0: 2020 2020 2064 6576 6963 655f 6d61 6320       device_mac 
+0000fd00: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0000fd10: 2046 696c 7465 7220 6279 2064 6576 6963   Filter by devic
+0000fd20: 655f 6d61 630a 2020 2020 2020 2020 2020  e_mac.          
+0000fd30: 2020 686f 7374 6e61 6d65 2028 7374 722c    hostname (str,
+0000fd40: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
+0000fd50: 6572 2062 7920 686f 7374 6e61 6d65 0a20  er by hostname. 
+0000fd60: 2020 2020 2020 2020 2020 2064 6576 6963             devic
+0000fd70: 655f 7479 7065 2028 7374 722c 206f 7074  e_type (str, opt
+0000fd80: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+0000fd90: 7920 6465 7669 6365 2074 7970 652e 0a20  y device type.. 
+0000fda0: 2020 2020 2020 2020 2020 2020 2020 2056                 V
+0000fdb0: 616c 6964 2056 616c 7565 733a 2041 4343  alid Values: ACC
+0000fdc0: 4553 5320 504f 494e 542c 2053 5749 5443  ESS POINT, SWITC
+0000fdd0: 482c 2047 4154 4557 4159 2c20 434c 4945  H, GATEWAY, CLIE
+0000fde0: 4e54 0a20 2020 2020 2020 2020 2020 2073  NT.            s
+0000fdf0: 6f72 7420 2873 7472 2c20 6f70 7469 6f6e  ort (str, option
+0000fe00: 616c 293a 2053 6f72 7420 6279 2064 6573  al): Sort by des
+0000fe10: 632f 6173 6320 7573 696e 6720 2d74 696d  c/asc using -tim
+0000fe20: 6573 7461 6d70 2f2b 7469 6d65 7374 616d  estamp/+timestam
+0000fe30: 702e 2044 6566 6175 6c74 2069 730a 2020  p. Default is.  
+0000fe40: 2020 2020 2020 2020 2020 2020 2020 272d                '-
+0000fe50: 7469 6d65 7374 616d 7027 2020 5661 6c69  timestamp'  Vali
+0000fe60: 6420 5661 6c75 6573 3a20 2d74 696d 6573  d Values: -times
+0000fe70: 7461 6d70 2c20 2b74 696d 6573 7461 6d70  tamp, +timestamp
+0000fe80: 0a20 2020 2020 2020 2020 2020 2073 6974  .            sit
+0000fe90: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
+0000fea0: 293a 2046 696c 7465 7220 6279 2073 6974  ): Filter by sit
+0000feb0: 6520 6e61 6d65 0a20 2020 2020 2020 2020  e name.         
+0000fec0: 2020 2073 6572 6961 6c20 2873 7472 2c20     serial (str, 
+0000fed0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+0000fee0: 7220 6279 2073 7769 7463 6820 7365 7269  r by switch seri
+0000fef0: 616c 206e 756d 6265 720a 2020 2020 2020  al number.      
+0000ff00: 2020 2020 2020 6c65 7665 6c20 2873 7472        level (str
+0000ff10: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0000ff20: 7465 7220 6279 2065 7665 6e74 206c 6576  ter by event lev
+0000ff30: 656c 0a20 2020 2020 2020 2020 2020 2065  el.            e
+0000ff40: 7665 6e74 5f64 6573 6372 6970 7469 6f6e  vent_description
+0000ff50: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0000ff60: 3a20 4669 6c74 6572 2062 7920 6576 656e  : Filter by even
+0000ff70: 7420 6465 7363 7269 7074 696f 6e0a 2020  t description.  
+0000ff80: 2020 2020 2020 2020 2020 6576 656e 745f            event_
+0000ff90: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
+0000ffa0: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+0000ffb0: 6576 656e 7420 7479 7065 0a20 2020 2020  event type.     
+0000ffc0: 2020 2020 2020 2066 6965 6c64 7320 2873         fields (s
+0000ffd0: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
+0000ffe0: 6f6d 6d61 2073 6570 6172 6174 6564 206c  omma separated l
+0000fff0: 6973 7420 6f66 2066 6965 6c64 7320 746f  ist of fields to
+00010000: 2062 6520 7265 7475 726e 6564 2e20 5661   be returned. Va
+00010010: 6c69 6420 6669 656c 6473 2061 7265 0a20  lid fields are. 
+00010020: 2020 2020 2020 2020 2020 2020 2020 206e                 n
+00010030: 756d 6265 722c 206c 6576 656c 0a20 2020  umber, level.   
+00010040: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
+00010050: 7465 5f74 6f74 616c 2028 626f 6f6c 2c20  te_total (bool, 
+00010060: 6f70 7469 6f6e 616c 293a 2057 6865 7468  optional): Wheth
+00010070: 6572 2074 6f20 6361 6c63 756c 6174 6520  er to calculate 
+00010080: 746f 7461 6c20 6576 656e 7473 0a20 2020  total events.   
+00010090: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
+000100a0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+000100b0: 2050 6167 696e 6174 696f 6e20 6f66 6673   Pagination offs
+000100c0: 6574 2044 6566 6175 6c74 7320 746f 2030  et Defaults to 0
+000100d0: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
+000100e0: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
+000100f0: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
+00010100: 6c69 6d69 742e 2044 6566 6175 6c74 2069  limit. Default i
+00010110: 7320 3130 3020 616e 6420 6d61 7820 6973  s 100 and max is
+00010120: 2031 3030 3020 4465 6661 756c 7473 2074   1000 Defaults t
+00010130: 6f20 3130 3030 2e0a 0a20 2020 2020 2020  o 1000...       
+00010140: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00010150: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00010160: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00010170: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00010180: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00010190: 726c 203d 2022 2f6d 6f6e 6974 6f72 696e  rl = "/monitorin
+000101a0: 672f 7632 2f65 7665 6e74 7322 0a0a 2020  g/v2/events"..  
+000101b0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+000101c0: 0a20 2020 2020 2020 2020 2020 2022 6772  .            "gr
+000101d0: 6f75 7022 3a20 6772 6f75 702c 0a20 2020  oup": group,.   
+000101e0: 2020 2020 2020 2020 2022 7377 6172 6d5f           "swarm_
+000101f0: 6964 223a 2073 7761 726d 5f69 642c 0a20  id": swarm_id,. 
+00010200: 2020 2020 2020 2020 2020 2022 6c61 6265             "labe
+00010210: 6c22 3a20 6c61 6265 6c2c 0a20 2020 2020  l": label,.     
+00010220: 2020 2020 2020 2022 6672 6f6d 5f74 696e         "from_tin
+00010230: 6d65 7374 616d 7022 3a20 6672 6f6d 5f74  mestamp": from_t
+00010240: 732c 0a20 2020 2020 2020 2020 2020 2022  s,.            "
+00010250: 746f 5f74 696e 6d65 7374 616d 7022 3a20  to_tinmestamp": 
+00010260: 746f 5f74 732c 0a20 2020 2020 2020 2020  to_ts,.         
+00010270: 2020 2027 6d61 6361 6464 7227 3a20 6d61     'macaddr': ma
+00010280: 6361 6464 722c 0a20 2020 2020 2020 2020  caddr,.         
+00010290: 2020 2027 6273 7369 6427 3a20 6273 7369     'bssid': bssi
+000102a0: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
+000102b0: 6465 7669 6365 5f6d 6163 273a 2064 6576  device_mac': dev
+000102c0: 6963 655f 6d61 632c 0a20 2020 2020 2020  ice_mac,.       
+000102d0: 2020 2020 2027 686f 7374 6e61 6d65 273a       'hostname':
+000102e0: 2068 6f73 746e 616d 652c 0a20 2020 2020   hostname,.     
+000102f0: 2020 2020 2020 2027 6465 7669 6365 5f74         'device_t
+00010300: 7970 6527 3a20 6465 7669 6365 5f74 7970  ype': device_typ
+00010310: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00010320: 736f 7274 273a 2073 6f72 742c 0a20 2020  sort': sort,.   
+00010330: 2020 2020 2020 2020 2027 7369 7465 273a           'site':
+00010340: 2073 6974 652c 0a20 2020 2020 2020 2020   site,.         
+00010350: 2020 2027 7365 7269 616c 273a 2073 6572     'serial': ser
+00010360: 6961 6c2c 0a20 2020 2020 2020 2020 2020  ial,.           
+00010370: 2027 6c65 7665 6c27 3a20 6c65 7665 6c2c   'level': level,
+00010380: 0a20 2020 2020 2020 2020 2020 2027 6576  .            'ev
+00010390: 656e 745f 6465 7363 7269 7074 696f 6e27  ent_description'
+000103a0: 3a20 6576 656e 745f 6465 7363 7269 7074  : event_descript
+000103b0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+000103c0: 2027 6576 656e 745f 7479 7065 273a 2065   'event_type': e
+000103d0: 7665 6e74 5f74 7970 652c 0a20 2020 2020  vent_type,.     
+000103e0: 2020 2020 2020 2027 6669 656c 6473 273a         'fields':
+000103f0: 2066 6965 6c64 732c 0a20 2020 2020 2020   fields,.       
+00010400: 2020 2020 2027 6361 6c63 756c 6174 655f       'calculate_
+00010410: 746f 7461 6c27 3a20 6361 6c63 756c 6174  total': calculat
+00010420: 655f 746f 7461 6c2c 0a20 2020 2020 2020  e_total,.       
+00010430: 2020 2020 2022 6f66 6673 6574 223a 206f       "offset": o
+00010440: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+00010450: 2020 2022 6c69 6d69 7422 3a20 6c69 6d69     "limit": limi
+00010460: 742c 0a20 2020 2020 2020 207d 0a0a 2020  t,.        }..  
+00010470: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00010480: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+00010490: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+000104a0: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+000104b0: 6574 5f61 6c6c 5f77 6562 686f 6f6b 7328  et_all_webhooks(
+000104c0: 7365 6c66 2920 2d3e 2052 6573 706f 6e73  self) -> Respons
+000104d0: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
+000104e0: 7374 2061 6c6c 2064 6566 696e 6564 2077  st all defined w
+000104f0: 6562 686f 6f6b 732e 0a0a 2020 2020 2020  ebhooks...      
+00010500: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00010510: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00010520: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00010530: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00010540: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00010550: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+00010560: 7631 2f77 6562 686f 6f6b 7322 0a0a 2020  v1/webhooks"..  
+00010570: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00010580: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
+00010590: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+000105a0: 6164 645f 7765 6268 6f6f 6b28 0a20 2020  add_webhook(.   
+000105b0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+000105c0: 2020 206e 616d 653a 2073 7472 2c0a 2020     name: str,.  
+000105d0: 2020 2020 2020 7572 6c73 3a20 4c69 7374        urls: List
+000105e0: 5b73 7472 5d2c 0a20 2020 2029 202d 3e20  [str],.    ) -> 
+000105f0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00010600: 2020 2222 2241 6464 202f 2075 7064 6174    """Add / updat
+00010610: 6520 5765 6268 6f6f 6b2e 0a0a 2020 2020  e Webhook...    
+00010620: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00010630: 2020 2020 2020 6e61 6d65 2028 7374 7229        name (str)
+00010640: 3a20 6e61 6d65 206f 6620 7468 6520 7765  : name of the we
+00010650: 6268 6f6f 6b0a 2020 2020 2020 2020 2020  bhook.          
+00010660: 2020 7572 6c73 2028 4c69 7374 5b73 7472    urls (List[str
+00010670: 5d29 3a20 4c69 7374 206f 6620 7765 6268  ]): List of webh
+00010680: 6f6f 6b20 7572 6c73 0a0a 2020 2020 2020  ook urls..      
+00010690: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+000106a0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+000106b0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+000106c0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+000106d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000106e0: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+000106f0: 7631 2f77 6562 686f 6f6b 7322 0a20 2020  v1/webhooks".   
+00010700: 2020 2020 2075 726c 7320 3d20 7574 696c       urls = util
+00010710: 732e 6c69 7374 6966 7928 7572 6c73 290a  s.listify(urls).
+00010720: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00010730: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00010740: 2020 2027 6e61 6d65 273a 206e 616d 652c     'name': name,
+00010750: 0a20 2020 2020 2020 2020 2020 2027 7572  .            'ur
+00010760: 6c73 273a 2075 726c 730a 2020 2020 2020  ls': urls.      
+00010770: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00010780: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00010790: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+000107a0: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+000107b0: 2020 2061 7379 6e63 2064 6566 2075 7064     async def upd
+000107c0: 6174 655f 7765 6268 6f6f 6b28 0a20 2020  ate_webhook(.   
+000107d0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+000107e0: 2020 2077 6964 3a20 7374 722c 0a20 2020     wid: str,.   
+000107f0: 2020 2020 206e 616d 653a 2073 7472 2c0a       name: str,.
+00010800: 2020 2020 2020 2020 7572 6c73 3a20 4c69          urls: Li
+00010810: 7374 5b73 7472 5d2c 0a20 2020 2029 202d  st[str],.    ) -
+00010820: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00010830: 2020 2020 2222 2255 7064 6174 6520 7765      """Update we
+00010840: 6268 6f6f 6b20 7365 7474 696e 6773 2e0a  bhook settings..
+00010850: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+00010860: 2020 2020 2020 2020 2020 2077 6964 2028             wid (
+00010870: 7374 7229 3a20 6964 206f 6620 7468 6520  str): id of the 
+00010880: 7765 6268 6f6f 6b0a 2020 2020 2020 2020  webhook.        
+00010890: 2020 2020 6e61 6d65 2028 7374 7229 3a20      name (str): 
+000108a0: 6e61 6d65 206f 6620 7468 6520 7765 6268  name of the webh
+000108b0: 6f6f 6b0a 2020 2020 2020 2020 2020 2020  ook.            
+000108c0: 7572 6c73 2028 4c69 7374 5b73 7472 5d29  urls (List[str])
+000108d0: 3a20 4c69 7374 206f 6620 7765 6268 6f6f  : List of webhoo
+000108e0: 6b20 7572 6c73 0a0a 2020 2020 2020 2020  k urls..        
+000108f0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00010900: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00010910: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00010920: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00010930: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+00010940: 6c20 3d20 6622 2f63 656e 7472 616c 2f76  l = f"/central/v
+00010950: 312f 7765 6268 6f6f 6b73 2f7b 7769 647d  1/webhooks/{wid}
+00010960: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
+00010970: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+00010980: 2020 2020 2027 6e61 6d65 273a 206e 616d       'name': nam
+00010990: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+000109a0: 7572 6c73 273a 2075 726c 730a 2020 2020  urls': urls.    
+000109b0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+000109c0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+000109d0: 2e70 7574 2875 726c 2c20 6a73 6f6e 5f64  .put(url, json_d
+000109e0: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
+000109f0: 2020 2020 6173 796e 6320 6465 6620 6465      async def de
+00010a00: 6c65 7465 5f77 6562 686f 6f6b 280a 2020  lete_webhook(.  
+00010a10: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00010a20: 2020 2020 7769 643a 2073 7472 2c0a 2020      wid: str,.  
+00010a30: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00010a40: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
+00010a50: 7465 2057 6562 686f 6f6b 732e 0a0a 2020  te Webhooks...  
+00010a60: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00010a70: 2020 2020 2020 2020 7769 6420 2873 7472          wid (str
+00010a80: 293a 2069 6420 6f66 2074 6865 2077 6562  ): id of the web
+00010a90: 686f 6f6b 0a0a 2020 2020 2020 2020 5265  hook..        Re
+00010aa0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00010ab0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00010ac0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00010ad0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00010ae0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00010af0: 3d20 6622 2f63 656e 7472 616c 2f76 312f  = f"/central/v1/
+00010b00: 7765 6268 6f6f 6b73 2f7b 7769 647d 220a  webhooks/{wid}".
+00010b10: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00010b20: 6177 6169 7420 7365 6c66 2e64 656c 6574  await self.delet
+00010b30: 6528 7572 6c29 0a0a 2020 2020 6173 796e  e(url)..    asyn
+00010b40: 6320 6465 6620 7265 6672 6573 685f 7765  c def refresh_we
+00010b50: 6268 6f6f 6b5f 746f 6b65 6e28 0a20 2020  bhook_token(.   
+00010b60: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00010b70: 2020 2077 6964 3a20 7374 722c 0a20 2020     wid: str,.   
+00010b80: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+00010b90: 2020 2020 2020 2020 2222 2252 6566 7265          """Refre
+00010ba0: 7368 2074 6865 2077 6562 686f 6f6b 2074  sh the webhook t
+00010bb0: 6f6b 656e 2e0a 0a20 2020 2020 2020 2041  oken...        A
+00010bc0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00010bd0: 2077 6964 2028 7374 7229 3a20 6964 206f   wid (str): id o
+00010be0: 6620 7468 6520 7765 6268 6f6f 6b0a 0a20  f the webhook.. 
+00010bf0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00010c00: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00010c10: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00010c20: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00010c30: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00010c40: 2020 2020 2075 726c 203d 2066 222f 6365       url = f"/ce
+00010c50: 6e74 7261 6c2f 7631 2f77 6562 686f 6f6b  ntral/v1/webhook
+00010c60: 732f 7b77 6964 7d2f 746f 6b65 6e22 0a0a  s/{wid}/token"..
+00010c70: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00010c80: 7761 6974 2073 656c 662e 7075 7428 7572  wait self.put(ur
+00010c90: 6c29 0a0a 2020 2020 2320 4150 492d 464c  l)..    # API-FL
+00010ca0: 4157 2054 6573 7420 7765 6268 6f6f 6b20  AW Test webhook 
+00010cb0: 646f 6573 206e 6f74 2073 656e 6420 616e  does not send an
+00010cc0: 2022 6964 222c 2069 7427 7320 686f 7720   "id", it's how 
+00010cd0: 796f 7520 6465 7465 726d 696e 6520 7768  you determine wh
+00010ce0: 6174 2074 6f20 436c 6f73 650a 2020 2020  at to Close.    
+00010cf0: 6173 796e 6320 6465 6620 7465 7374 5f77  async def test_w
+00010d00: 6562 686f 6f6b 280a 2020 2020 2020 2020  ebhook(.        
+00010d10: 7365 6c66 2c0a 2020 2020 2020 2020 7769  self,.        wi
+00010d20: 643a 2073 7472 2c0a 2020 2020 2920 2d3e  d: str,.    ) ->
+00010d30: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00010d40: 2020 2022 2222 5465 7374 2066 6f72 2077     """Test for w
+00010d50: 6562 686f 6f6b 206e 6f74 6966 6963 6174  ebhook notificat
+00010d60: 696f 6e2e 0a0a 2020 2020 2020 2020 4172  ion...        Ar
+00010d70: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00010d80: 7769 6420 2873 7472 293a 2069 6420 6f66  wid (str): id of
+00010d90: 2074 6865 2077 6562 686f 6f6b 0a0a 2020   the webhook..  
+00010da0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00010db0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00010dc0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00010dd0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00010de0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00010df0: 2020 2020 7572 6c20 3d20 6622 2f63 656e      url = f"/cen
+00010e00: 7472 616c 2f76 312f 7765 6268 6f6f 6b73  tral/v1/webhooks
+00010e10: 2f7b 7769 647d 2f70 696e 6722 0a0a 2020  /{wid}/ping"..  
+00010e20: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00010e30: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
+00010e40: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00010e50: 6765 745f 7369 7465 5f76 6c61 6e73 2873  get_site_vlans(s
+00010e60: 656c 662c 2073 6974 655f 6964 3a20 696e  elf, site_id: in
+00010e70: 742c 2073 6561 7263 683a 2073 7472 203d  t, search: str =
+00010e80: 204e 6f6e 652c 206f 6666 7365 743a 2069   None, offset: i
+00010e90: 6e74 203d 2030 2c20 6c69 6d69 743a 2069  nt = 0, limit: i
+00010ea0: 6e74 203d 2031 3030 2920 2d3e 2052 6573  nt = 100) -> Res
+00010eb0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00010ec0: 2222 4765 7420 766c 616e 206c 6973 7420  ""Get vlan list 
+00010ed0: 6f66 2061 2073 6974 652e 0a0a 2020 2020  of a site...    
+00010ee0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00010ef0: 2020 2020 2020 7369 7465 5f69 6420 2869        site_id (i
+00010f00: 6e74 293a 2053 6974 6520 4944 2e0a 2020  nt): Site ID..  
+00010f10: 2020 2020 2020 2020 2020 7365 6172 6368            search
+00010f20: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00010f30: 3a20 7365 6172 6368 2e0a 2020 2020 2020  : search..      
+00010f40: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
+00010f50: 742c 206f 7074 696f 6e61 6c29 3a20 6f66  t, optional): of
+00010f60: 6673 6574 2e20 4465 6661 756c 7473 2074  fset. Defaults t
+00010f70: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+00010f80: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+00010f90: 696f 6e61 6c29 3a20 6c69 6d69 7420 4465  ional): limit De
+00010fa0: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
+00010fb0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00010fc0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00010fd0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00010fe0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00010ff0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00011000: 2020 2020 2020 7572 6c20 3d20 6622 2f74        url = f"/t
+00011010: 6f70 6f6c 6f67 795f 6578 7465 726e 616c  opology_external
+00011020: 5f61 7069 2f76 6c61 6e73 2f7b 7369 7465  _api/vlans/{site
+00011030: 5f69 647d 220a 0a20 2020 2020 2020 2070  _id}"..        p
+00011040: 6172 616d 7320 3d20 7b22 7365 6172 6368  arams = {"search
+00011050: 223a 2073 6561 7263 682c 2022 6f66 6673  ": search, "offs
+00011060: 6574 223a 206f 6666 7365 742c 2022 6c69  et": offset, "li
+00011070: 6d69 7422 3a20 6c69 6d69 747d 0a0a 2020  mit": limit}..  
+00011080: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00011090: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+000110a0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+000110b0: 0a20 2020 2061 7379 6e63 2064 6566 2073  .    async def s
+000110c0: 656e 645f 626f 756e 6365 5f63 6f6d 6d61  end_bounce_comma
+000110d0: 6e64 5f74 6f5f 6465 7669 6365 2873 656c  nd_to_device(sel
+000110e0: 662c 2073 6572 6961 6c3a 2073 7472 2c20  f, serial: str, 
+000110f0: 636f 6d6d 616e 643a 2073 7472 2c20 706f  command: str, po
+00011100: 7274 3a20 7374 7229 202d 3e20 5265 7370  rt: str) -> Resp
+00011110: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00011120: 2242 6f75 6e63 6520 696e 7465 7266 6163  "Bounce interfac
+00011130: 6520 6f72 2050 4f45 2028 706f 7765 722d  e or POE (power-
+00011140: 6f76 6572 2d65 7468 6572 6e65 7429 206f  over-ethernet) o
+00011150: 6e20 7377 6974 6368 2070 6f72 742e 2020  n switch port.  
+00011160: 5661 6c69 6420 6f6e 6c79 2066 6f72 2041  Valid only for A
+00011170: 7275 6261 2053 7769 7463 6865 732e 0a0a  ruba Switches...
+00011180: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00011190: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+000111a0: 2028 7374 7229 3a20 5365 7269 616c 206f   (str): Serial o
+000111b0: 6620 6465 7669 6365 0a20 2020 2020 2020  f device.       
+000111c0: 2020 2020 2063 6f6d 6d61 6e64 2028 7374       command (st
+000111d0: 7229 3a20 436f 6d6d 616e 6420 6d65 6e74  r): Command ment
+000111e0: 696f 6e65 6420 696e 2074 6865 2064 6573  ioned in the des
+000111f0: 6372 6970 7469 6f6e 2074 6861 7420 6973  cription that is
+00011200: 2074 6f20 6265 2065 7865 6375 7465 640a   to be executed.
+00011210: 2020 2020 2020 2020 2020 2020 706f 7274              port
+00011220: 2028 7374 7229 3a20 5370 6563 6966 7920   (str): Specify 
+00011230: 696e 7465 7266 6163 6520 706f 7274 2069  interface port i
+00011240: 6e20 7468 6520 666f 726d 6174 206f 6620  n the format of 
+00011250: 706f 7274 206e 756d 6265 7220 666f 7220  port number for 
+00011260: 6465 7669 6365 7320 6f66 2074 7970 6520  devices of type 
+00011270: 4850 5043 0a20 2020 2020 2020 2020 2020  HPPC.           
+00011280: 2020 2020 2053 7769 7463 6820 6f72 2073       Switch or s
+00011290: 6c6f 742f 6368 6173 7369 732f 706f 7274  lot/chassis/port
+000112a0: 2066 6f72 2043 5820 5377 6974 6368 0a0a   for CX Switch..
+000112b0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+000112c0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+000112d0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+000112e0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+000112f0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00011300: 2020 2020 2020 7572 6c20 3d20 6622 2f64        url = f"/d
+00011310: 6576 6963 655f 6d61 6e61 6765 6d65 6e74  evice_management
+00011320: 2f76 322f 6465 7669 6365 2f7b 7365 7269  /v2/device/{seri
+00011330: 616c 7d2f 6163 7469 6f6e 2f7b 636f 6d6d  al}/action/{comm
+00011340: 616e 647d 220a 0a20 2020 2020 2020 206a  and}"..        j
+00011350: 736f 6e5f 6461 7461 203d 207b 2270 6f72  son_data = {"por
+00011360: 7422 3a20 7374 7228 706f 7274 297d 0a0a  t": str(port)}..
+00011370: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00011380: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+00011390: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+000113a0: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+000113b0: 796e 6320 6465 6620 7365 6e64 5f63 6f6d  ync def send_com
+000113c0: 6d61 6e64 5f74 6f5f 6465 7669 6365 280a  mand_to_device(.
+000113d0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+000113e0: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
+000113f0: 722c 0a20 2020 2020 2020 2063 6f6d 6d61  r,.        comma
+00011400: 6e64 3a20 4c69 7465 7261 6c5b 0a20 2020  nd: Literal[.   
+00011410: 2020 2020 2020 2020 2022 7265 626f 6f74           "reboot
+00011420: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00011430: 626c 696e 6b5f 6c65 645f 6f6e 222c 0a20  blink_led_on",. 
+00011440: 2020 2020 2020 2020 2020 2022 626c 696e             "blin
+00011450: 6b5f 6c65 645f 6f66 6622 2c0a 2020 2020  k_led_off",.    
+00011460: 2020 2020 2020 2020 2262 6c69 6e6b 5f6c          "blink_l
+00011470: 6564 222c 0a20 2020 2020 2020 2020 2020  ed",.           
+00011480: 2022 6572 6173 655f 636f 6e66 6967 7572   "erase_configur
+00011490: 6174 696f 6e22 2c0a 2020 2020 2020 2020  ation",.        
+000114a0: 2020 2020 2273 6176 655f 636f 6e66 6967      "save_config
+000114b0: 7572 6174 696f 6e22 2c0a 2020 2020 2020  uration",.      
+000114c0: 2020 2020 2020 2268 616c 7422 2c0a 2020        "halt",.  
+000114d0: 2020 2020 2020 2020 2020 2263 6f6e 6669            "confi
+000114e0: 675f 7379 6e63 222c 0a20 2020 2020 2020  g_sync",.       
+000114f0: 205d 2c0a 2020 2020 2020 2020 6475 7261   ],.        dura
+00011500: 7469 6f6e 3a20 696e 7420 3d20 4e6f 6e65  tion: int = None
+00011510: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00011520: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00011530: 4765 6e65 7269 6320 636f 6d6d 616e 6473  Generic commands
+00011540: 2066 6f72 2064 6576 6963 652e 0a0a 2020   for device...  
+00011550: 2020 2020 2020 5375 7070 6f72 7465 6420        Supported 
+00011560: 436f 6d6d 616e 6473 2028 7374 7229 3a0a  Commands (str):.
+00011570: 2020 2020 2020 2020 2020 2020 2d20 7265              - re
+00011580: 626f 6f74 3a20 7375 7070 6f72 7465 6420  boot: supported 
+00011590: 6279 2049 4150 2f43 6f6e 7472 6f6c 6c65  by IAP/Controlle
+000115a0: 7273 2f4d 4153 2053 7769 7463 6865 732f  rs/MAS Switches/
+000115b0: 4172 7562 6120 5377 6974 6368 6573 0a20  Aruba Switches. 
+000115c0: 2020 2020 2020 2020 2020 202d 2062 6c69             - bli
+000115d0: 6e6b 5f6c 6564 5f6f 6e3a 2055 7365 2074  nk_led_on: Use t
+000115e0: 6869 7320 636f 6d6d 616e 6420 746f 2065  his command to e
+000115f0: 6e61 626c 6520 7468 6520 4c45 4420 6469  nable the LED di
+00011600: 7370 6c61 792c 2073 7570 706f 7274 6564  splay, supported
+00011610: 2062 7920 4941 502f 4172 7562 6120 5377   by IAP/Aruba Sw
+00011620: 6974 6368 6573 0a20 2020 2020 2020 2020  itches.         
+00011630: 2020 202d 2062 6c69 6e6b 5f6c 6564 5f6f     - blink_led_o
+00011640: 6666 3a20 5573 6520 7468 6973 2063 6f6d  ff: Use this com
+00011650: 6d61 6e64 2074 6f20 656e 6162 6c65 2074  mand to enable t
+00011660: 6865 204c 4544 2064 6973 706c 6179 2c20  he LED display, 
+00011670: 7375 7070 6f72 7465 6420 6279 2049 4150  supported by IAP
+00011680: 2f41 7275 6261 2053 7769 7463 6865 730a  /Aruba Switches.
+00011690: 2020 2020 2020 2020 2020 2020 2d20 626c              - bl
+000116a0: 696e 6b5f 6c65 643a 2055 7365 2074 6869  ink_led: Use thi
+000116b0: 7320 636f 6d6d 616e 6420 746f 2062 6c69  s command to bli
+000116c0: 6e6b 204c 4544 2064 6973 706c 6179 2c20  nk LED display, 
+000116d0: 5375 7070 6f72 7465 6420 6f6e 2041 7275  Supported on Aru
+000116e0: 6261 2053 7769 7463 6865 730a 2020 2020  ba Switches.    
+000116f0: 2020 2020 2020 2020 2d20 6572 6173 655f          - erase_
+00011700: 636f 6e66 6967 7572 6174 696f 6e20 3a20  configuration : 
+00011710: 4661 6374 6f72 7920 6465 6661 756c 7420  Factory default 
+00011720: 7468 6520 7377 6974 6368 2e20 2053 7570  the switch.  Sup
+00011730: 706f 7274 6564 206f 6e20 4172 7562 6120  ported on Aruba 
+00011740: 5377 6974 6368 6573 0a20 2020 2020 2020  Switches.       
+00011750: 2020 2020 202d 2073 6176 655f 636f 6e66       - save_conf
+00011760: 6967 7572 6174 696f 6e3a 2053 6176 6573  iguration: Saves
+00011770: 2074 6865 2072 756e 6e69 6e67 2063 6f6e   the running con
+00011780: 6669 672e 2073 7570 706f 7274 6564 2062  fig. supported b
+00011790: 7920 4941 502f 4172 7562 6120 5377 6974  y IAP/Aruba Swit
+000117a0: 6368 6573 0a20 2020 2020 2020 2020 2020  ches.           
+000117b0: 202d 2068 616c 7420 3a20 5468 6973 2063   - halt : This c
+000117c0: 6f6d 6d61 6e64 2070 6572 666f 726d 7320  ommand performs 
+000117d0: 6120 7368 7574 646f 776e 206f 6620 7468  a shutdown of th
+000117e0: 6520 6465 7669 6365 2c20 7375 7070 6f72  e device, suppor
+000117f0: 7465 6420 6279 2043 6f6e 7472 6f6c 6c65  ted by Controlle
+00011800: 7273 2061 6c6f 6e65 2e0a 2020 2020 2020  rs alone..      
+00011810: 2020 2020 2020 2d20 636f 6e66 6967 5f73        - config_s
+00011820: 796e 6320 3a20 5468 6973 2063 6f6d 6d61  ync : This comma
+00011830: 6e64 7320 7065 7266 6f72 6d73 2066 756c  nds performs ful
+00011840: 6c20 7265 6672 6573 6820 6f66 2074 6865  l refresh of the
+00011850: 2064 6576 6963 6520 636f 6e66 6967 2c20   device config, 
+00011860: 7375 7070 6f72 7465 6420 6279 2043 6f6e  supported by Con
+00011870: 7472 6f6c 6c65 7273 2061 6c6f 6e65 0a0a  trollers alone..
+00011880: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00011890: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+000118a0: 2028 7374 7229 3a20 5365 7269 616c 206f   (str): Serial o
+000118b0: 6620 6465 7669 6365 0a20 2020 2020 2020  f device.       
+000118c0: 2020 2020 2063 6f6d 6d61 6e64 2028 7374       command (st
+000118d0: 7229 3a20 436f 6d6d 616e 6420 746f 2062  r): Command to b
+000118e0: 6520 6578 6563 7574 6564 0a20 2020 2020  e executed.     
+000118f0: 2020 2020 2020 2064 7572 6174 696f 6e20         duration 
+00011900: 2869 6e74 2c20 4f70 7469 6f6e 616c 293a  (int, Optional):
+00011910: 204e 756d 6265 7220 6f66 2073 6563 6f6e   Number of secon
+00011920: 6473 2074 6f20 626c 696e 6b5f 6c65 6420  ds to blink_led 
+00011930: 6f6e 6c79 2061 7070 6c69 6573 2074 6f20  only applies to 
+00011940: 626c 696e 6b5f 6c65 6420 616e 6420 626c  blink_led and bl
+00011950: 696e 6b5f 6c65 645f 6f6e 0a0a 2020 2020  ink_led_on..    
+00011960: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00011970: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00011980: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00011990: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+000119a0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+000119b0: 2020 7572 6c20 3d20 6622 2f64 6576 6963    url = f"/devic
+000119c0: 655f 6d61 6e61 6765 6d65 6e74 2f76 312f  e_management/v1/
+000119d0: 6465 7669 6365 2f7b 7365 7269 616c 7d2f  device/{serial}/
+000119e0: 6163 7469 6f6e 2f7b 636f 6d6d 616e 647d  action/{command}
+000119f0: 220a 0a20 2020 2020 2020 2072 6573 7020  "..        resp 
+00011a00: 3d20 6177 6169 7420 7365 6c66 2e70 6f73  = await self.pos
+00011a10: 7428 7572 6c29 0a20 2020 2020 2020 2069  t(url).        i
+00011a20: 6620 7265 7370 2061 6e64 2064 7572 6174  f resp and durat
+00011a30: 696f 6e20 616e 6420 2262 6c69 6e6b 5f6c  ion and "blink_l
+00011a40: 6564 2220 696e 2063 6f6d 6d61 6e64 2061  ed" in command a
+00011a50: 6e64 2022 6f66 6622 206e 6f74 2069 6e20  nd "off" not in 
+00011a60: 636f 6d6d 616e 643a 0a20 2020 2020 2020  command:.       
+00011a70: 2020 2020 2070 7269 6e74 2866 2242 6c69       print(f"Bli
+00011a80: 6e6b 696e 6720 4c65 642e 2e2e 207b 6475  nking Led... {du
+00011a90: 7261 7469 6f6e 7d2e 2022 2c20 656e 643d  ration}. ", end=
+00011aa0: 2222 290a 2020 2020 2020 2020 2020 2020  "").            
+00011ab0: 666f 7220 6920 696e 2072 616e 6765 2831  for i in range(1
+00011ac0: 2c20 6475 7261 7469 6f6e 293a 0a20 2020  , duration):.   
+00011ad0: 2020 2020 2020 2020 2020 2020 2074 696d               tim
+00011ae0: 652e 736c 6565 7028 3129 0a20 2020 2020  e.sleep(1).     
+00011af0: 2020 2020 2020 2020 2020 2070 7269 6e74             print
+00011b00: 2866 227b 6475 7261 7469 6f6e 202d 2069  (f"{duration - i
+00011b10: 7d2e 2022 2c20 656e 643d 2222 2069 6620  }. ", end="" if 
+00011b20: 6920 2520 3230 2065 6c73 6520 225c 6e22  i % 20 else "\n"
+00011b30: 290a 2020 2020 2020 2020 2020 2020 7265  ).            re
+00011b40: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
+00011b50: 706f 7374 2875 726c 2e72 6570 6c61 6365  post(url.replace
+00011b60: 2822 5f6f 6e22 2c20 225f 6f66 6622 2929  ("_on", "_off"))
+00011b70: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00011b80: 7265 7370 0a0a 2020 2020 6173 796e 6320  resp..    async 
+00011b90: 6465 6620 6b69 636b 5f75 7365 7273 280a  def kick_users(.
+00011ba0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00011bb0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
+00011bc0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00011bd0: 2020 2020 2020 6b69 636b 5f61 6c6c 3a20        kick_all: 
+00011be0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00011bf0: 2020 2020 2020 6d61 633a 2073 7472 203d        mac: str =
+00011c00: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
+00011c10: 7369 643a 2073 7472 203d 204e 6f6e 652c  sid: str = None,
+00011c20: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+00011c30: 7365 3a0a 2020 2020 2020 2020 7572 6c20  se:.        url 
+00011c40: 3d20 6622 2f64 6576 6963 655f 6d61 6e61  = f"/device_mana
+00011c50: 6765 6d65 6e74 2f76 312f 6465 7669 6365  gement/v1/device
+00011c60: 2f7b 7365 7269 616c 5f6e 756d 7d2f 6163  /{serial_num}/ac
+00011c70: 7469 6f6e 2f64 6973 636f 6e6e 6563 745f  tion/disconnect_
+00011c80: 7573 6572 220a 2020 2020 2020 2020 6966  user".        if
+00011c90: 206b 6963 6b5f 616c 6c3a 0a20 2020 2020   kick_all:.     
+00011ca0: 2020 2020 2020 2070 6179 6c6f 6164 203d         payload =
+00011cb0: 207b 2264 6973 636f 6e6e 6563 745f 7573   {"disconnect_us
+00011cc0: 6572 5f61 6c6c 223a 2054 7275 657d 0a20  er_all": True}. 
+00011cd0: 2020 2020 2020 2065 6c69 6620 6d61 633a         elif mac:
+00011ce0: 0a20 2020 2020 2020 2020 2020 2070 6179  .            pay
+00011cf0: 6c6f 6164 203d 207b 2264 6973 636f 6e6e  load = {"disconn
+00011d00: 6563 745f 7573 6572 5f6d 6163 223a 2066  ect_user_mac": f
+00011d10: 227b 6d61 637d 227d 0a20 2020 2020 2020  "{mac}"}.       
+00011d20: 2065 6c69 6620 7373 6964 3a0a 2020 2020   elif ssid:.    
+00011d30: 2020 2020 2020 2020 7061 796c 6f61 6420          payload 
+00011d40: 3d20 7b22 6469 7363 6f6e 6e65 6374 5f75  = {"disconnect_u
+00011d50: 7365 725f 6e65 7477 6f72 6b22 3a20 6622  ser_network": f"
+00011d60: 7b73 7369 647d 227d 0a20 2020 2020 2020  {ssid}"}.       
+00011d70: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+00011d80: 2020 2070 6179 6c6f 6164 203d 207b 7d0a     payload = {}.
+00011d90: 0a20 2020 2020 2020 2069 6620 7061 796c  .        if payl
+00011da0: 6f61 643a 0a20 2020 2020 2020 2020 2020  oad:.           
+00011db0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00011dc0: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
+00011dd0: 6e5f 6461 7461 3d70 6179 6c6f 6164 290a  n_data=payload).
+00011de0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00011df0: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00011e00: 2052 6573 706f 6e73 6528 6572 726f 723d   Response(error=
+00011e10: 224d 6973 7369 6e67 2052 6571 7569 7265  "Missing Require
+00011e20: 6420 5061 7261 6d65 7465 7273 2229 0a0a  d Parameters")..
+00011e30: 2020 2020 6173 796e 6320 6465 6620 7570      async def up
+00011e40: 6461 7465 5f73 7368 5f63 7265 6473 2873  date_ssh_creds(s
+00011e50: 656c 662c 2064 6576 6963 655f 7365 7269  elf, device_seri
+00011e60: 616c 3a20 7374 722c 2075 7365 726e 616d  al: str, usernam
+00011e70: 653a 2073 7472 2c20 7061 7373 776f 7264  e: str, password
+00011e80: 3a20 7374 7229 202d 3e20 5265 7370 6f6e  : str) -> Respon
+00011e90: 7365 3a0a 2020 2020 2020 2020 2222 2253  se:.        """S
+00011ea0: 6574 2055 7365 726e 616d 652c 2070 6173  et Username, pas
+00011eb0: 7377 6f72 6420 7265 7175 6972 6564 2066  sword required f
+00011ec0: 6f72 2065 7374 6162 6c69 7368 696e 6720  or establishing 
+00011ed0: 5353 4820 636f 6e6e 6563 7469 6f6e 2074  SSH connection t
+00011ee0: 6f20 7377 6974 6368 2e0a 0a20 2020 2020  o switch...     
+00011ef0: 2020 2054 6869 7320 6d65 7468 6f64 206f     This method o
+00011f00: 6e6c 7920 6170 706c 6965 7320 746f 2073  nly applies to s
+00011f10: 7769 7463 6865 730a 0a20 2020 2020 2020  witches..       
+00011f20: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+00011f30: 2020 2064 6576 6963 655f 7365 7269 616c     device_serial
+00011f40: 2028 7374 7229 3a20 5365 7269 616c 206e   (str): Serial n
+00011f50: 756d 6265 7220 6f66 2074 6865 2073 7769  umber of the swi
+00011f60: 7463 682e 0a20 2020 2020 2020 2020 2020  tch..           
+00011f70: 2075 7365 726e 616d 6520 2873 7472 293a   username (str):
+00011f80: 2053 5348 2075 7365 726e 616d 650a 2020   SSH username.  
+00011f90: 2020 2020 2020 2020 2020 7061 7373 776f            passwo
+00011fa0: 7264 2028 7374 7229 3a20 5353 4820 7061  rd (str): SSH pa
+00011fb0: 7373 776f 7264 0a0a 2020 2020 2020 2020  ssword..        
+00011fc0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00011fd0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00011fe0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+00011ff0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+00012000: 2020 2020 2020 5375 6363 6573 7366 756c        Successful
+00012010: 2052 6573 706f 6e73 6520 626f 6479 2028   Response body (
+00012020: 5265 7370 6f6e 7365 2e6f 7574 7075 7429  Response.output)
+00012030: 3a20 2253 7563 6365 7373 220a 2020 2020  : "Success".    
+00012040: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00012050: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
+00012060: 7261 7469 6f6e 2f76 312f 6465 7669 6365  ration/v1/device
+00012070: 732f 7b64 6576 6963 655f 7365 7269 616c  s/{device_serial
+00012080: 7d2f 7373 685f 636f 6e6e 6563 7469 6f6e  }/ssh_connection
+00012090: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
+000120a0: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+000120b0: 2020 2020 2027 7573 6572 6e61 6d65 273a       'username':
+000120c0: 2075 7365 726e 616d 652c 0a20 2020 2020   username,.     
+000120d0: 2020 2020 2020 2027 7061 7373 776f 7264         'password
+000120e0: 273a 2070 6173 7377 6f72 640a 2020 2020  ': password.    
+000120f0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00012100: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00012110: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+00012120: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+00012130: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+00012140: 6574 5f74 6173 6b5f 7374 6174 7573 2873  et_task_status(s
+00012150: 656c 662c 2074 6173 6b5f 6964 293a 0a20  elf, task_id):. 
+00012160: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00012170: 6169 7420 7365 6c66 2e67 6574 2866 222f  ait self.get(f"/
+00012180: 6465 7669 6365 5f6d 616e 6167 656d 656e  device_managemen
+00012190: 742f 7631 2f73 7461 7475 732f 7b74 6173  t/v1/status/{tas
+000121a0: 6b5f 6964 7d22 290a 0a20 2020 2061 7379  k_id}")..    asy
+000121b0: 6e63 2064 6566 2067 6574 5f73 7769 7463  nc def get_switc
+000121c0: 685f 766c 616e 7328 0a20 2020 2020 2020  h_vlans(.       
+000121d0: 2073 656c 662c 0a20 2020 2020 2020 2069   self,.        i
+000121e0: 6465 6e3a 2073 7472 2c0a 2020 2020 2020  den: str,.      
+000121f0: 2020 7374 6163 6b3a 2062 6f6f 6c20 3d20    stack: bool = 
+00012200: 4661 6c73 652c 0a20 2020 2020 2020 2063  False,.        c
+00012210: 783a 2062 6f6f 6c20 3d20 4661 6c73 652c  x: bool = False,
+00012220: 0a20 2020 2020 2020 206e 616d 653a 2073  .        name: s
+00012230: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00012240: 2020 2070 7669 643a 2069 6e74 203d 204e     pvid: int = N
+00012250: 6f6e 652c 0a20 2020 2020 2020 2074 6167  one,.        tag
+00012260: 6765 645f 706f 7274 3a20 7374 7220 3d20  ged_port: str = 
+00012270: 4e6f 6e65 2c0a 2020 2020 2020 2020 756e  None,.        un
+00012280: 7461 6767 6564 5f70 6f72 743a 2073 7472  tagged_port: str
+00012290: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+000122a0: 2069 735f 6a75 6d62 6f5f 656e 6162 6c65   is_jumbo_enable
+000122b0: 643a 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a  d: bool = None,.
+000122c0: 2020 2020 2020 2020 6973 5f76 6f69 6365          is_voice
+000122d0: 5f65 6e61 626c 6564 3a20 626f 6f6c 203d  _enabled: bool =
+000122e0: 204e 6f6e 652c 0a20 2020 2020 2020 2069   None,.        i
+000122f0: 735f 6967 6d70 5f65 6e61 626c 6564 3a20  s_igmp_enabled: 
+00012300: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
+00012310: 2020 2020 2074 7970 653a 2073 7472 203d       type: str =
+00012320: 204e 6f6e 652c 0a20 2020 2020 2020 2070   None,.        p
+00012330: 7269 6d61 7279 5f76 6c61 6e5f 6964 3a20  rimary_vlan_id: 
+00012340: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+00012350: 2020 2020 7374 6174 7573 3a20 7374 7220      status: str 
+00012360: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00012370: 736f 7274 3a20 7374 7220 3d20 4e6f 6e65  sort: str = None
+00012380: 2c0a 2020 2020 2020 2020 6361 6c63 756c  ,.        calcul
+00012390: 6174 655f 746f 7461 6c3a 2062 6f6f 6c20  ate_total: bool 
+000123a0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000123b0: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
+000123c0: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
+000123d0: 696e 7420 3d20 3530 302c 0a20 2020 2029  int = 500,.    )
+000123e0: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+000123f0: 2020 2020 2020 2222 2247 6574 2076 6c61        """Get vla
+00012400: 6e20 696e 666f 2066 6f72 2073 7769 7463  n info for switc
+00012410: 6820 2843 5820 616e 6420 5357 292e 0a0a  h (CX and SW)...
+00012420: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00012430: 2020 2020 2020 2020 2020 6964 656e 2028            iden (
+00012440: 7374 7229 3a20 5365 7269 616c 204e 756d  str): Serial Num
+00012450: 6265 7220 6f66 2053 7461 636b 2049 442c  ber of Stack ID,
+00012460: 2049 6465 6e74 6966 6965 7320 7468 6520   Identifies the 
+00012470: 6465 7620 746f 2072 6574 7572 6e20 564c  dev to return VL
+00012480: 414e 7320 6672 6f6d 2e0a 2020 2020 2020  ANs from..      
+00012490: 2020 2020 2020 7374 6163 6b20 2862 6f6f        stack (boo
+000124a0: 6c2c 206f 7074 696f 6e61 6c29 3a20 5365  l, optional): Se
+000124b0: 7420 746f 2054 7275 6520 666f 7220 7374  t to True for st
+000124c0: 6163 6b2e 2044 6566 6175 6c74 3a20 4661  ack. Default: Fa
+000124d0: 6c73 650a 2020 2020 2020 2020 2020 2020  lse.            
+000124e0: 6378 3a20 2862 6f6f 6c2c 206f 7074 696f  cx: (bool, optio
+000124f0: 6e61 6c29 3a20 5365 7420 746f 2054 7275  nal): Set to Tru
+00012500: 6520 666f 7220 4172 7562 614f 532d 4358  e for ArubaOS-CX
+00012510: 2e20 4465 6661 756c 743a 2046 616c 7365  . Default: False
+00012520: 0a20 2020 2020 2020 2020 2020 206e 616d  .            nam
+00012530: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
+00012540: 293a 2046 696c 7465 7220 6279 2076 6c61  ): Filter by vla
+00012550: 6e20 6e61 6d65 0a20 2020 2020 2020 2020  n name.         
+00012560: 2020 2069 6420 2869 6e74 2c20 6f70 7469     id (int, opti
+00012570: 6f6e 616c 293a 2046 696c 7465 7220 6279  onal): Filter by
+00012580: 2076 6c61 6e20 6964 0a20 2020 2020 2020   vlan id.       
+00012590: 2020 2020 2074 6167 6765 645f 706f 7274       tagged_port
+000125a0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+000125b0: 3a20 4669 6c74 6572 2062 7920 7461 6767  : Filter by tagg
+000125c0: 6564 2070 6f72 7420 6e61 6d65 0a20 2020  ed port name.   
+000125d0: 2020 2020 2020 2020 2075 6e74 6167 6765           untagge
+000125e0: 645f 706f 7274 2028 7374 722c 206f 7074  d_port (str, opt
+000125f0: 696f 6e61 6c29 3a20 4669 6c74 6572 2062  ional): Filter b
+00012600: 7920 756e 7461 6767 6564 2070 6f72 7420  y untagged port 
+00012610: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
+00012620: 2069 735f 6a75 6d62 6f5f 656e 6162 6c65   is_jumbo_enable
+00012630: 6420 2862 6f6f 6c2c 206f 7074 696f 6e61  d (bool, optiona
+00012640: 6c29 3a20 4669 6c74 6572 2062 7920 6a75  l): Filter by ju
+00012650: 6d62 6f20 656e 6162 6c65 640a 2020 2020  mbo enabled.    
+00012660: 2020 2020 2020 2020 6973 5f76 6f69 6365          is_voice
+00012670: 5f65 6e61 626c 6564 2028 626f 6f6c 2c20  _enabled (bool, 
+00012680: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+00012690: 7220 6279 2076 6f69 6365 2065 6e61 626c  r by voice enabl
+000126a0: 6564 0a20 2020 2020 2020 2020 2020 2069  ed.            i
+000126b0: 735f 6967 6d70 5f65 6e61 626c 6564 2028  s_igmp_enabled (
+000126c0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+000126d0: 2046 696c 7465 7220 6279 2069 676d 7020   Filter by igmp 
+000126e0: 656e 6162 6c65 640a 2020 2020 2020 2020  enabled.        
+000126f0: 2020 2020 7479 7065 2028 7374 722c 206f      type (str, o
+00012700: 7074 696f 6e61 6c29 3a20 5479 7065 206f  ptional): Type o
+00012710: 6620 7468 6520 766c 616e 2074 6f20 6265  f the vlan to be
+00012720: 2071 7565 7269 6564 0a20 2020 2020 2020   queried.       
+00012730: 2020 2020 2070 7269 6d61 7279 5f76 6c61       primary_vla
+00012740: 6e5f 6964 2028 696e 742c 206f 7074 696f  n_id (int, optio
+00012750: 6e61 6c29 3a20 5072 696d 6172 7920 566c  nal): Primary Vl
+00012760: 616e 2049 6420 6f66 2074 6865 2076 6c61  an Id of the vla
+00012770: 6e20 746f 2062 6520 7175 6572 6965 6422  n to be queried"
+00012780: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+00012790: 7475 7320 2873 7472 2c20 6f70 7469 6f6e  tus (str, option
+000127a0: 616c 293a 2046 696c 7465 7220 6279 2073  al): Filter by s
+000127b0: 7461 7475 7320 6f66 2056 4c41 4e2e 2053  tatus of VLAN. S
+000127c0: 7461 7475 7320 6361 6e20 6265 2055 702f  tatus can be Up/
+000127d0: 446f 776e 0a20 2020 2020 2020 2020 2020  Down.           
+000127e0: 2073 6f72 7420 2873 7472 2c20 6f70 7469   sort (str, opti
+000127f0: 6f6e 616c 293a 2053 6f72 7420 7061 7261  onal): Sort para
+00012800: 6d65 7465 7220 6d61 7920 6265 206f 6e65  meter may be one
+00012810: 206f 6620 2b6e 616d 652c 202d 6e61 6d65   of +name, -name
+00012820: 0a20 2020 2020 2020 2020 2020 2063 616c  .            cal
+00012830: 6375 6c61 7465 5f74 6f74 616c 2028 626f  culate_total (bo
+00012840: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2057  ol, optional): W
+00012850: 6865 7468 6572 2074 6f20 6361 6c63 756c  hether to calcul
+00012860: 6174 6520 746f 7461 6c20 766c 616e 730a  ate total vlans.
+00012870: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
+00012880: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
+00012890: 6c29 3a20 5061 6769 6e61 7469 6f6e 206f  l): Pagination o
+000128a0: 6666 7365 7420 4465 6661 756c 7473 2074  ffset Defaults t
+000128b0: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+000128c0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+000128d0: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
+000128e0: 6f6e 206c 696d 6974 2e20 4465 6661 756c  on limit. Defaul
+000128f0: 7420 6973 2031 3030 2061 6e64 206d 6178  t is 100 and max
+00012900: 2069 7320 3130 3030 2044 6566 6175 6c74   is 1000 Default
+00012910: 7320 746f 2035 3030 2e0a 0a20 2020 2020  s to 500...     
+00012920: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00012930: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00012940: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00012950: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00012960: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00012970: 2023 2054 4f44 4f20 6c6f 6f6b 7320 6c69   # TODO looks li
+00012980: 6b65 2077 6520 6361 6e20 7265 6d6f 7665  ke we can remove
+00012990: 2072 6566 6572 656e 6365 7320 746f 2063   references to c
+000129a0: 7820 7370 6563 6966 6963 206d 6574 686f  x specific metho
+000129b0: 6473 2c20 7468 6579 2064 6f6e 2774 2077  ds, they don't w
+000129c0: 6f72 6b0a 2020 2020 2020 2020 2320 7363  ork.        # sc
+000129d0: 6865 6d61 206e 6f74 2072 6566 6c65 6374  hema not reflect
+000129e0: 696e 6720 7468 6174 2077 6173 7465 6420  ing that wasted 
+000129f0: 6d79 2074 696d 652e 0a20 2020 2020 2020  my time..       
+00012a00: 2069 6620 6e6f 7420 7374 6163 6b3a 0a20   if not stack:. 
+00012a10: 2020 2020 2020 2020 2020 2023 2073 775f             # sw_
+00012a20: 7572 6c20 3d20 2263 785f 7377 6974 6368  url = "cx_switch
+00012a30: 6573 2220 6966 2063 7820 656c 7365 2022  es" if cx else "
+00012a40: 7377 6974 6368 6573 220a 2020 2020 2020  switches".      
+00012a50: 2020 2020 2020 7377 5f75 726c 203d 2022        sw_url = "
+00012a60: 7377 6974 6368 6573 220a 2020 2020 2020  switches".      
+00012a70: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00012a80: 2020 2020 7377 5f75 726c 203d 2022 6378      sw_url = "cx
+00012a90: 5f73 7769 7463 685f 7374 6163 6b73 2220  _switch_stacks" 
+00012aa0: 6966 2063 7820 656c 7365 2022 7377 6974  if cx else "swit
+00012ab0: 6368 5f73 7461 636b 7322 0a0a 2020 2020  ch_stacks"..    
+00012ac0: 2020 2020 7572 6c20 3d20 6622 2f6d 6f6e      url = f"/mon
+00012ad0: 6974 6f72 696e 672f 7631 2f7b 7377 5f75  itoring/v1/{sw_u
+00012ae0: 726c 7d2f 7b69 6465 6e7d 2f76 6c61 6e22  rl}/{iden}/vlan"
+00012af0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+00012b00: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00012b10: 2022 6e61 6d65 223a 206e 616d 652c 0a20   "name": name,. 
+00012b20: 2020 2020 2020 2020 2020 2022 6964 223a             "id":
+00012b30: 2070 7669 642c 0a20 2020 2020 2020 2020   pvid,.         
+00012b40: 2020 2022 7461 6767 6564 5f70 6f72 7422     "tagged_port"
+00012b50: 3a20 7461 6767 6564 5f70 6f72 742c 0a20  : tagged_port,. 
+00012b60: 2020 2020 2020 2020 2020 2022 756e 7461             "unta
+00012b70: 6767 6564 5f70 6f72 7422 3a20 756e 7461  gged_port": unta
+00012b80: 6767 6564 5f70 6f72 742c 0a20 2020 2020  gged_port,.     
+00012b90: 2020 2020 2020 2022 6973 5f6a 756d 626f         "is_jumbo
+00012ba0: 5f65 6e61 626c 6564 223a 2069 735f 6a75  _enabled": is_ju
+00012bb0: 6d62 6f5f 656e 6162 6c65 642c 0a20 2020  mbo_enabled,.   
+00012bc0: 2020 2020 2020 2020 2022 6973 5f76 6f69           "is_voi
+00012bd0: 6365 5f65 6e61 626c 6564 223a 2069 735f  ce_enabled": is_
+00012be0: 766f 6963 655f 656e 6162 6c65 642c 0a20  voice_enabled,. 
+00012bf0: 2020 2020 2020 2020 2020 2022 6973 5f69             "is_i
+00012c00: 676d 705f 656e 6162 6c65 6422 3a20 6973  gmp_enabled": is
+00012c10: 5f69 676d 705f 656e 6162 6c65 642c 0a20  _igmp_enabled,. 
+00012c20: 2020 2020 2020 2020 2020 2022 7479 7065             "type
+00012c30: 223a 2074 7970 652c 0a20 2020 2020 2020  ": type,.       
+00012c40: 2020 2020 2022 7072 696d 6172 795f 766c       "primary_vl
+00012c50: 616e 5f69 6422 3a20 7072 696d 6172 795f  an_id": primary_
+00012c60: 766c 616e 5f69 642c 0a20 2020 2020 2020  vlan_id,.       
+00012c70: 2020 2020 2022 7374 6174 7573 223a 2073       "status": s
+00012c80: 7461 7475 732c 0a20 2020 2020 2020 2020  tatus,.         
+00012c90: 2020 2022 736f 7274 223a 2073 6f72 742c     "sort": sort,
+00012ca0: 0a20 2020 2020 2020 2020 2020 2022 6361  .            "ca
+00012cb0: 6c63 756c 6174 655f 746f 7461 6c22 3a20  lculate_total": 
+00012cc0: 6361 6c63 756c 6174 655f 746f 7461 6c2c  calculate_total,
+00012cd0: 0a20 2020 2020 2020 2020 2020 2022 6f66  .            "of
+00012ce0: 6673 6574 223a 206f 6666 7365 742c 0a20  fset": offset,. 
+00012cf0: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
+00012d00: 7422 3a20 6c69 6d69 742c 0a20 2020 2020  t": limit,.     
+00012d10: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+00012d20: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00012d30: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+00012d40: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+00012d50: 6e63 2064 6566 2067 6574 5f67 6174 6577  nc def get_gatew
+00012d60: 6179 5f76 6c61 6e73 2873 656c 662c 2073  ay_vlans(self, s
+00012d70: 6572 6961 6c3a 2073 7472 2920 2d3e 2052  erial: str) -> R
+00012d80: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00012d90: 2022 2222 4765 7420 6761 7465 7761 7920   """Get gateway 
+00012da0: 564c 414e 2064 6574 6169 6c73 2e0a 0a20  VLAN details... 
+00012db0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00012dc0: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
+00012dd0: 2873 7472 293a 2053 6572 6961 6c20 6e75  (str): Serial nu
+00012de0: 6d62 6572 206f 6620 6761 7465 7761 7920  mber of gateway 
+00012df0: 746f 2062 6520 7175 6572 6965 640a 0a20  to be queried.. 
+00012e00: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00012e10: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00012e20: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00012e30: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00012e40: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00012e50: 2020 2020 2075 726c 203d 2066 222f 6d6f       url = f"/mo
+00012e60: 6e69 746f 7269 6e67 2f76 312f 6761 7465  nitoring/v1/gate
+00012e70: 7761 7973 2f7b 7365 7269 616c 7d2f 766c  ways/{serial}/vl
+00012e80: 616e 220a 0a20 2020 2020 2020 2072 6574  an"..        ret
+00012e90: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00012ea0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
+00012eb0: 6e63 2064 6566 2067 6574 5f63 6f6e 7472  nc def get_contr
+00012ec0: 6f6c 6c65 725f 766c 616e 7328 7365 6c66  oller_vlans(self
+00012ed0: 2c20 7365 7269 616c 3a20 7374 7229 202d  , serial: str) -
+00012ee0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00012ef0: 2020 2020 2222 2247 6574 204d 6f62 696c      """Get Mobil
+00012f00: 6974 7920 436f 6e74 726f 6c6c 6572 7320  ity Controllers 
+00012f10: 564c 414e 2064 6574 6169 6c73 2e0a 0a20  VLAN details... 
+00012f20: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00012f30: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
+00012f40: 2873 7472 293a 2053 6572 6961 6c20 6e75  (str): Serial nu
+00012f50: 6d62 6572 206f 6620 6d6f 6269 6c69 7479  mber of mobility
+00012f60: 2063 6f6e 7472 6f6c 6c65 7220 746f 2062   controller to b
+00012f70: 6520 7175 6572 6965 640a 0a20 2020 2020  e queried..     
+00012f80: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00012f90: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00012fa0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00012fb0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00012fc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00012fd0: 2075 726c 203d 2066 222f 6d6f 6e69 746f   url = f"/monito
+00012fe0: 7269 6e67 2f76 312f 6d6f 6269 6c69 7479  ring/v1/mobility
+00012ff0: 5f63 6f6e 7472 6f6c 6c65 7273 2f7b 7365  _controllers/{se
+00013000: 7269 616c 7d2f 766c 616e 220a 0a20 2020  rial}/vlan"..   
+00013010: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00013020: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
+00013030: 0a20 2020 2023 2061 7379 6e63 2064 6566  .    # async def
+00013040: 2067 6574 5f74 735f 636f 6d6d 616e 6473   get_ts_commands
+00013050: 2873 656c 662c 2064 6576 5f74 7970 653a  (self, dev_type:
+00013060: 204c 6974 6572 616c 5b27 6961 7027 2c20   Literal['iap', 
+00013070: 276d 6173 272c 2027 7377 6974 6368 272c  'mas', 'switch',
+00013080: 2027 636f 6e74 726f 6c6c 6572 275d 2920   'controller']) 
+00013090: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+000130a0: 2023 2020 2020 2075 726c 203d 2022 2f74   #     url = "/t
+000130b0: 726f 7562 6c65 7368 6f6f 7469 6e67 2f76  roubleshooting/v
+000130c0: 312f 636f 6d6d 616e 6473 220a 2020 2020  1/commands".    
+000130d0: 2320 2020 2020 7061 7261 6d73 203d 207b  #     params = {
+000130e0: 2264 6576 6963 655f 7479 7065 223a 2064  "device_type": d
+000130f0: 6576 5f74 7970 657d 0a20 2020 2023 2020  ev_type}.    #  
+00013100: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00013110: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+00013120: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00013130: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00013140: 7473 5f63 6f6d 6d61 6e64 7328 0a20 2020  ts_commands(.   
+00013150: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00013160: 2020 2064 6576 6963 655f 7479 7065 3a20     device_type: 
+00013170: 4c69 7465 7261 6c5b 2769 6170 272c 2027  Literal['iap', '
+00013180: 6d61 7327 2c20 2773 7769 7463 6827 2c20  mas', 'switch', 
+00013190: 2763 6f6e 7472 6f6c 6c65 7227 2c20 2763  'controller', 'c
+000131a0: 7827 5d2c 0a20 2020 2029 202d 3e20 5265  x'],.    ) -> Re
+000131b0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+000131c0: 2222 224c 6973 7420 5472 6f75 626c 6573  """List Troubles
+000131d0: 686f 6f74 696e 6720 436f 6d6d 616e 6473  hooting Commands
+000131e0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+000131f0: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00013200: 6963 655f 7479 7065 2028 7374 7229 3a20  ice_type (str): 
+00013210: 5370 6563 6966 7920 6f6e 6520 6f66 2022  Specify one of "
+00013220: 4941 5022 2066 6f72 2073 7761 726d 2c20  IAP" for swarm, 
+00013230: 224d 4153 2220 666f 7220 4d41 5320 7377  "MAS" for MAS sw
+00013240: 6974 6368 6573 2c20 2253 5749 5443 4822  itches, "SWITCH"
+00013250: 2066 6f72 0a20 2020 2020 2020 2020 2020   for.           
+00013260: 2020 2020 2061 7275 6261 2073 7769 7463       aruba switc
+00013270: 6865 732c 2243 5822 2066 6f72 2043 5820  hes,"CX" for CX 
+00013280: 7377 6974 6368 6573 2c20 2243 4f4e 5452  switches, "CONTR
+00013290: 4f4c 4c45 5222 2066 6f72 2063 6f6e 7472  OLLER" for contr
+000132a0: 6f6c 6c65 7273 2072 6573 7065 6374 6976  ollers respectiv
+000132b0: 656c 792e 0a0a 2020 2020 2020 2020 5265  ely...        Re
+000132c0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+000132d0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+000132e0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+000132f0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00013300: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00013310: 3d20 222f 7472 6f75 626c 6573 686f 6f74  = "/troubleshoot
+00013320: 696e 672f 7631 2f63 6f6d 6d61 6e64 7322  ing/v1/commands"
+00013330: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+00013340: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00013350: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
+00013360: 6465 7669 6365 5f74 7970 650a 2020 2020  device_type.    
+00013370: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00013380: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00013390: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+000133a0: 3d70 6172 616d 7329 0a0a 0a20 2020 2061  =params)...    a
+000133b0: 7379 6e63 2064 6566 2073 7461 7274 5f74  sync def start_t
+000133c0: 735f 7365 7373 696f 6e28 0a20 2020 2020  s_session(.     
+000133d0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+000133e0: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
+000133f0: 2020 2020 2020 6465 765f 7479 7065 3a20        dev_type: 
+00013400: 7374 722c 0a20 2020 2020 2020 2063 6f6d  str,.        com
+00013410: 6d61 6e64 733a 2055 6e69 6f6e 5b69 6e74  mands: Union[int
+00013420: 2c20 6c69 7374 2c20 6469 6374 5d2c 0a20  , list, dict],. 
+00013430: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00013440: 3a0a 2020 2020 2020 2020 2222 2253 7461  :.        """Sta
+00013450: 7274 2054 726f 7562 6c65 7368 6f6f 7469  rt Troubleshooti
+00013460: 6e67 2053 6573 7369 6f6e 2e0a 0a20 2020  ng Session...   
+00013470: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00013480: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
+00013490: 7472 293a 2053 6572 6961 6c20 6f66 2064  tr): Serial of d
+000134a0: 6576 6963 650a 2020 2020 2020 2020 2020  evice.          
+000134b0: 2020 6465 765f 7479 7065 2028 7374 7229    dev_type (str)
+000134c0: 3a20 5370 6563 6966 7920 6f6e 6520 6f66  : Specify one of
+000134d0: 2022 4941 502f 5357 4954 4348 2f43 582f   "IAP/SWITCH/CX/
+000134e0: 4d41 532f 434f 4e54 524f 4c4c 4552 2220  MAS/CONTROLLER" 
+000134f0: 666f 7220 2049 4150 732c 2041 7275 6261  for  IAPs, Aruba
+00013500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013510: 2073 7769 7463 6865 732c 2043 5820 5377   switches, CX Sw
+00013520: 6974 6368 6573 2c20 4d41 5320 7377 6974  itches, MAS swit
+00013530: 6368 6573 2061 6e64 2063 6f6e 7472 6f6c  ches and control
+00013540: 6c65 7273 2072 6573 7065 6374 6976 656c  lers respectivel
+00013550: 792e 0a20 2020 2020 2020 2020 2020 2063  y..            c
+00013560: 6f6d 6d61 6e64 7320 2869 6e74 2c20 4c69  ommands (int, Li
+00013570: 7374 5b69 6e74 207c 2064 6963 745d 2c20  st[int | dict], 
+00013580: 6469 6374 293a 2061 2073 696e 676c 6520  dict): a single 
+00013590: 636f 6d6d 616e 645f 6964 2c20 6f72 2061  command_id, or a
+000135a0: 204c 6973 7420 6f66 2063 6f6d 6d61 6e64   List of command
+000135b0: 5f69 6473 2028 466f 7220 636f 6d6d 616e  _ids (For comman
+000135c0: 6473 2077 6974 6820 6e6f 2061 7267 756d  ds with no argum
+000135d0: 656e 7473 290a 2020 2020 2020 2020 2020  ents).          
+000135e0: 2020 2020 2020 4f52 2061 2064 6963 7420        OR a dict 
+000135f0: 7b63 6f6d 6d61 6e64 5f69 643a 207b 6172  {command_id: {ar
+00013600: 6775 6d65 6e74 315f 6e61 6d65 3a20 6172  gument1_name: ar
+00013610: 6775 6d65 6e74 315f 7661 6c75 652c 2061  gument1_value, a
+00013620: 7267 756d 656e 7432 5f6e 616d 653a 2061  rgument2_name: a
+00013630: 7267 756d 656e 7432 5f76 616c 7565 7d7d  rgument2_value}}
+00013640: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00013650: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00013660: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00013670: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00013680: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00013690: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+000136a0: 2f74 726f 7562 6c65 7368 6f6f 7469 6e67  /troubleshooting
+000136b0: 2f76 312f 6465 7669 6365 732f 7b73 6572  /v1/devices/{ser
+000136c0: 6961 6c7d 220a 2020 2020 2020 2020 636f  ial}".        co
+000136d0: 6d6d 616e 6473 203d 2075 7469 6c73 2e6c  mmands = utils.l
+000136e0: 6973 7469 6679 2863 6f6d 6d61 6e64 7329  istify(commands)
+000136f0: 0a20 2020 2020 2020 2063 6d64 7320 3d20  .        cmds = 
+00013700: 5b5d 0a20 2020 2020 2020 2066 6f72 2063  [].        for c
+00013710: 6d64 2069 6e20 636f 6d6d 616e 6473 3a0a  md in commands:.
+00013720: 2020 2020 2020 2020 2020 2020 6966 2069              if i
+00013730: 7369 6e73 7461 6e63 6528 636d 642c 2069  sinstance(cmd, i
+00013740: 6e74 293a 0a20 2020 2020 2020 2020 2020  nt):.           
+00013750: 2020 2020 2063 6d64 7320 2b3d 205b 7b22       cmds += [{"
+00013760: 636f 6d6d 616e 645f 6964 223a 2063 6d64  command_id": cmd
+00013770: 7d5d 0a20 2020 2020 2020 2020 2020 2065  }].            e
+00013780: 6c69 6620 6973 696e 7374 616e 6365 2863  lif isinstance(c
+00013790: 6d64 2c20 6469 6374 293a 0a20 2020 2020  md, dict):.     
+000137a0: 2020 2020 2020 2020 2020 2063 6d64 7320             cmds 
+000137b0: 2b3d 205b 0a20 2020 2020 2020 2020 2020  += [.           
+000137c0: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
+000137d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000137e0: 2020 2022 636f 6d6d 616e 645f 6964 223a     "command_id":
+000137f0: 2063 6964 2c0a 2020 2020 2020 2020 2020   cid,.          
+00013800: 2020 2020 2020 2020 2020 2020 2020 2261                "a
+00013810: 7267 756d 656e 7473 223a 205b 7b22 6e61  rguments": [{"na
+00013820: 6d65 223a 206b 2c20 2276 616c 7565 223a  me": k, "value":
+00013830: 2076 7d20 666f 7220 6b2c 2076 2069 6e20   v} for k, v in 
+00013840: 636d 645b 6369 645d 2e69 7465 6d73 2829  cmd[cid].items()
+00013850: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+00013860: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+00013870: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00013880: 6369 6420 696e 2063 6d64 0a20 2020 2020  cid in cmd.     
+00013890: 2020 2020 2020 2020 2020 205d 0a0a 2020             ]..  
+000138a0: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+000138b0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+000138c0: 2764 6576 6963 655f 7479 7065 273a 2064  'device_type': d
+000138d0: 6576 5f74 7970 652c 0a20 2020 2020 2020  ev_type,.       
+000138e0: 2020 2020 2027 636f 6d6d 616e 6473 273a       'commands':
+000138f0: 2063 6d64 730a 2020 2020 2020 2020 7d0a   cmds.        }.
+00013900: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00013910: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00013920: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+00013930: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
+00013940: 7379 6e63 2064 6566 2067 6574 5f74 735f  sync def get_ts_
+00013950: 6f75 7470 7574 280a 2020 2020 2020 2020  output(.        
+00013960: 7365 6c66 2c0a 2020 2020 2020 2020 7365  self,.        se
+00013970: 7269 616c 3a20 7374 722c 0a20 2020 2020  rial: str,.     
+00013980: 2020 2073 6573 7369 6f6e 5f69 643a 2069     session_id: i
+00013990: 6e74 2c0a 2020 2020 2920 2d3e 2052 6573  nt,.    ) -> Res
+000139a0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+000139b0: 2222 4765 7420 5472 6f75 626c 6573 686f  ""Get Troublesho
+000139c0: 6f74 696e 6720 4f75 7470 7574 2e0a 0a20  oting Output... 
+000139d0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+000139e0: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
+000139f0: 2873 7472 293a 2053 6572 6961 6c20 6f66  (str): Serial of
+00013a00: 2064 6576 6963 650a 2020 2020 2020 2020   device.        
+00013a10: 2020 2020 7365 7373 696f 6e5f 6964 2028      session_id (
+00013a20: 696e 7429 3a20 556e 6971 7565 2049 4420  int): Unique ID 
+00013a30: 666f 7220 7472 6f75 626c 6573 686f 6f74  for troubleshoot
+00013a40: 696e 6720 7365 7373 696f 6e0a 0a20 2020  ing session..   
+00013a50: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00013a60: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00013a70: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00013a80: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00013a90: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00013aa0: 2020 2075 726c 203d 2066 222f 7472 6f75     url = f"/trou
+00013ab0: 626c 6573 686f 6f74 696e 672f 7631 2f64  bleshooting/v1/d
+00013ac0: 6576 6963 6573 2f7b 7365 7269 616c 7d22  evices/{serial}"
+00013ad0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
+00013ae0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00013af0: 2027 7365 7373 696f 6e5f 6964 273a 2073   'session_id': s
+00013b00: 6573 7369 6f6e 5f69 640a 2020 2020 2020  ession_id.      
+00013b10: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00013b20: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00013b30: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00013b40: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+00013b50: 6320 6465 6620 636c 6561 725f 7473 5f73  c def clear_ts_s
+00013b60: 6573 7369 6f6e 280a 2020 2020 2020 2020  ession(.        
+00013b70: 7365 6c66 2c0a 2020 2020 2020 2020 7365  self,.        se
+00013b80: 7269 616c 3a20 7374 722c 0a20 2020 2020  rial: str,.     
+00013b90: 2020 2073 6573 7369 6f6e 5f69 643a 2069     session_id: i
+00013ba0: 6e74 2c0a 2020 2020 2920 2d3e 2052 6573  nt,.    ) -> Res
+00013bb0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+00013bc0: 2222 436c 6561 7220 5472 6f75 626c 6573  ""Clear Troubles
+00013bd0: 686f 6f74 696e 6720 5365 7373 696f 6e20  hooting Session 
+00013be0: 616e 6420 6f75 7470 7574 2066 6f72 2064  and output for d
+00013bf0: 6576 6963 652e 0a0a 2020 2020 2020 2020  evice...        
+00013c00: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00013c10: 2020 7365 7269 616c 2028 7374 7229 3a20    serial (str): 
+00013c20: 5365 7269 616c 206f 6620 6465 7669 6365  Serial of device
+00013c30: 0a20 2020 2020 2020 2020 2020 2073 6573  .            ses
+00013c40: 7369 6f6e 5f69 6420 2869 6e74 293a 2055  sion_id (int): U
+00013c50: 6e69 7175 6520 4944 2066 6f72 2065 6163  nique ID for eac
+00013c60: 6820 7472 6f75 626c 6573 686f 6f74 696e  h troubleshootin
+00013c70: 6720 7365 7373 696f 6e0a 0a20 2020 2020  g session..     
+00013c80: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00013c90: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00013ca0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00013cb0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00013cc0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00013cd0: 2075 726c 203d 2066 222f 7472 6f75 626c   url = f"/troubl
+00013ce0: 6573 686f 6f74 696e 672f 7631 2f64 6576  eshooting/v1/dev
+00013cf0: 6963 6573 2f7b 7365 7269 616c 7d22 0a0a  ices/{serial}"..
+00013d00: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00013d10: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00013d20: 7365 7373 696f 6e5f 6964 273a 2073 6573  session_id': ses
+00013d30: 7369 6f6e 5f69 640a 2020 2020 2020 2020  sion_id.        
+00013d40: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00013d50: 6e20 6177 6169 7420 7365 6c66 2e64 656c  n await self.del
+00013d60: 6574 6528 7572 6c2c 2070 6172 616d 733d  ete(url, params=
+00013d70: 7061 7261 6d73 290a 0a20 2020 2023 2041  params)..    # A
+00013d80: 5049 2d46 4c41 5720 7265 7475 726e 7320  PI-FLAW returns 
+00013d90: 3430 3420 6966 2074 6865 7265 2061 7265  404 if there are
+00013da0: 206e 6f20 7365 7373 696f 6e73 2072 756e   no sessions run
+00013db0: 6e69 6e67 0a20 2020 2061 7379 6e63 2064  ning.    async d
+00013dc0: 6566 2067 6574 5f74 735f 7365 7373 696f  ef get_ts_sessio
+00013dd0: 6e5f 6964 280a 2020 2020 2020 2020 7365  n_id(.        se
+00013de0: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
+00013df0: 616c 3a20 7374 722c 0a20 2020 2029 202d  al: str,.    ) -
+00013e00: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00013e10: 2020 2020 2222 2247 6574 2054 726f 7562      """Get Troub
+00013e20: 6c65 7368 6f6f 7469 6e67 2053 6573 7369  leshooting Sessi
+00013e30: 6f6e 2049 4420 666f 7220 6120 6465 7669  on ID for a devi
+00013e40: 6365 2e0a 0a20 2020 2020 2020 2041 7267  ce...        Arg
+00013e50: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+00013e60: 6572 6961 6c20 2873 7472 293a 2053 6572  erial (str): Ser
+00013e70: 6961 6c20 6f66 2064 6576 6963 650a 0a20  ial of device.. 
+00013e80: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00013e90: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00013ea0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00013eb0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00013ec0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00013ed0: 2020 2020 2075 726c 203d 2066 222f 7472       url = f"/tr
+00013ee0: 6f75 626c 6573 686f 6f74 696e 672f 7631  oubleshooting/v1
+00013ef0: 2f64 6576 6963 6573 2f7b 7365 7269 616c  /devices/{serial
+00013f00: 7d2f 7365 7373 696f 6e22 0a0a 2020 2020  }/session"..    
+00013f10: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00013f20: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
+00013f30: 2020 2020 6173 796e 6320 6465 6620 6765      async def ge
+00013f40: 745f 7364 7761 6e5f 6470 735f 706f 6c69  t_sdwan_dps_poli
+00013f50: 6379 5f63 6f6d 706c 6961 6e63 6528 7365  cy_compliance(se
+00013f60: 6c66 2c20 7469 6d65 5f66 7261 6d65 3a20  lf, time_frame: 
+00013f70: 7374 7220 3d20 226c 6173 745f 7765 656b  str = "last_week
+00013f80: 222c 206f 7264 6572 3a20 7374 7220 3d20  ", order: str = 
+00013f90: 2262 6573 7422 2920 2d3e 2052 6573 706f  "best") -> Respo
+00013fa0: 6e73 653a 0a20 2020 2020 2020 2075 726c  nse:.        url
+00013fb0: 203d 2022 2f73 6477 616e 2d6d 6f6e 2d61   = "/sdwan-mon-a
+00013fc0: 7069 2f65 7874 6572 6e61 6c2f 6e6f 632f  pi/external/noc/
+00013fd0: 7265 706f 7274 732f 7761 6e2f 706f 6c69  reports/wan/poli
+00013fe0: 6379 2d63 6f6d 706c 6961 6e63 6522 0a20  cy-compliance". 
+00013ff0: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00014000: 7b22 7065 7269 6f64 223a 2074 696d 655f  {"period": time_
+00014010: 6672 616d 652c 2022 7265 7375 6c74 5f6f  frame, "result_o
+00014020: 7264 6572 223a 206f 7264 6572 2c20 2263  rder": order, "c
+00014030: 6f75 6e74 223a 2032 3530 7d0a 2020 2020  ount": 250}.    
+00014040: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00014050: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00014060: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00014070: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00014080: 5f61 705f 6c6c 6470 5f6e 6569 6768 626f  _ap_lldp_neighbo
+00014090: 7228 7365 6c66 2c20 6465 7669 6365 5f73  r(self, device_s
+000140a0: 6572 6961 6c3a 2073 7472 2920 2d3e 2052  erial: str) -> R
+000140b0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+000140c0: 2022 2222 4765 7420 6e65 6967 6862 6f72   """Get neighbor
+000140d0: 2064 6574 6169 6c73 2072 6570 6f72 7465   details reporte
+000140e0: 6420 6279 2041 5020 7669 6120 4c4c 4450  d by AP via LLDP
+000140f0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+00014100: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00014110: 6963 655f 7365 7269 616c 2028 7374 7229  ice_serial (str)
+00014120: 3a20 4465 7669 6365 2073 6572 6961 6c20  : Device serial 
+00014130: 6e75 6d62 6572 2e0a 0a20 2020 2020 2020  number...       
+00014140: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00014150: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00014160: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00014170: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00014180: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00014190: 726c 203d 2066 222f 746f 706f 6c6f 6779  rl = f"/topology
+000141a0: 5f65 7874 6572 6e61 6c5f 6170 692f 6170  _external_api/ap
+000141b0: 4e65 6967 6862 6f72 732f 7b64 6576 6963  Neighbors/{devic
+000141c0: 655f 7365 7269 616c 7d22 0a0a 2020 2020  e_serial}"..    
+000141d0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+000141e0: 2073 656c 662e 6765 7428 7572 6c29 0a0a   self.get(url)..
+000141f0: 2020 2020 6173 796e 6320 6465 6620 646f      async def do
+00014200: 5f6d 756c 7469 5f67 726f 7570 5f73 6e61  _multi_group_sna
+00014210: 7073 686f 7428 0a20 2020 2020 2020 2073  pshot(.        s
+00014220: 656c 662c 0a20 2020 2020 2020 2062 6163  elf,.        bac
+00014230: 6b75 705f 6e61 6d65 3a20 7374 722c 0a20  kup_name: str,. 
+00014240: 2020 2020 2020 2069 6e63 6c75 6465 5f67         include_g
+00014250: 726f 7570 733a 2055 6e69 6f6e 5b6c 6973  roups: Union[lis
+00014260: 742c 204c 6973 745b 7374 725d 5d20 3d20  t, List[str]] = 
+00014270: 4e6f 6e65 2c0a 2020 2020 2020 2020 6578  None,.        ex
+00014280: 636c 7564 655f 6772 6f75 7073 3a20 556e  clude_groups: Un
+00014290: 696f 6e5b 6c69 7374 2c20 4c69 7374 5b73  ion[list, List[s
+000142a0: 7472 5d5d 203d 204e 6f6e 652c 0a20 2020  tr]] = None,.   
+000142b0: 2020 2020 2064 6f5f 6e6f 745f 6465 6c65       do_not_dele
+000142c0: 7465 3a20 626f 6f6c 203d 2046 616c 7365  te: bool = False
+000142d0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+000142e0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000142f0: 2022 4372 6561 7465 206e 6577 2063 6f6e   "Create new con
+00014300: 6669 6775 7261 7469 6f6e 2062 6163 6b75  figuration backu
+00014310: 7020 666f 7220 6d75 6c74 6970 6c65 2067  p for multiple g
+00014320: 726f 7570 732e 220a 0a20 2020 2020 2020  roups."..       
+00014330: 2045 6974 6865 7220 696e 636c 7564 655f   Either include_
+00014340: 6772 6f75 7073 206f 7220 6578 636c 7564  groups or exclud
+00014350: 655f 6772 6f75 7073 2073 686f 756c 6420  e_groups should 
+00014360: 6265 2070 726f 7669 6465 642c 2062 7574  be provided, but
+00014370: 206e 6f74 2062 6f74 682e 0a0a 2020 2020   not both...    
+00014380: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00014390: 2020 2020 2020 6261 636b 7570 5f6e 616d        backup_nam
+000143a0: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
+000143b0: 2042 6163 6b75 700a 2020 2020 2020 2020   Backup.        
+000143c0: 2020 2020 696e 636c 7564 655f 6772 6f75      include_grou
+000143d0: 7073 2028 556e 696f 6e5b 6c69 7374 2c20  ps (Union[list, 
+000143e0: 4c69 7374 5b73 7472 5d5d 2c20 6f70 7469  List[str]], opti
+000143f0: 6f6e 616c 293a 2047 726f 7570 7320 746f  onal): Groups to
+00014400: 2069 6e63 6c75 6465 2069 6e20 4261 636b   include in Back
+00014410: 7570 2e20 4465 6661 756c 7473 2074 6f20  up. Defaults to 
+00014420: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+00014430: 2020 6578 636c 7564 655f 6772 6f75 7073    exclude_groups
+00014440: 2028 556e 696f 6e5b 6c69 7374 2c20 4c69   (Union[list, Li
+00014450: 7374 5b73 7472 5d5d 2c20 6f70 7469 6f6e  st[str]], option
+00014460: 616c 293a 2047 726f 7570 7320 746f 2045  al): Groups to E
+00014470: 7863 6c75 6465 2069 6e20 4261 636b 7570  xclude in Backup
+00014480: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00014490: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
+000144a0: 646f 5f6e 6f74 5f64 656c 6574 6520 2862  do_not_delete (b
+000144b0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+000144c0: 466c 6167 2074 6f20 7265 7072 6573 656e  Flag to represen
+000144d0: 7420 6966 2074 6865 2073 6e61 7073 686f  t if the snapsho
+000144e0: 7420 6361 6e20 6265 2064 656c 6574 6564  t can be deleted
+000144f0: 2061 7574 6f6d 6174 6963 616c 6c79 0a20   automatically. 
+00014500: 2020 2020 2020 2020 2020 2020 2020 2062                 b
+00014510: 7920 7379 7374 656d 2077 6865 6e20 6372  y system when cr
+00014520: 6561 7469 6e67 206e 6577 2073 6e61 7073  eating new snaps
+00014530: 686f 7420 6f72 206e 6f74 2e20 4465 6661  hot or not. Defa
+00014540: 756c 7473 2074 6f20 4661 6c73 652e 0a0a  ults to False...
+00014550: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00014560: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00014570: 7370 6f6e 7365 3a20 5265 7370 6f6e 7365  sponse: Response
+00014580: 204f 626a 6563 740a 2020 2020 2020 2020   Object.        
+00014590: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+000145a0: 3d20 222f 636f 6e66 6967 7572 6174 696f  = "/configuratio
+000145b0: 6e2f 7631 2f67 726f 7570 732f 736e 6170  n/v1/groups/snap
+000145c0: 7368 6f74 2f62 6163 6b75 7073 220a 2020  shot/backups".  
+000145d0: 2020 2020 2020 696e 636c 7564 655f 6772        include_gr
+000145e0: 6f75 7073 203d 2075 7469 6c73 2e6c 6973  oups = utils.lis
+000145f0: 7469 6679 2869 6e63 6c75 6465 5f67 726f  tify(include_gro
+00014600: 7570 7329 0a20 2020 2020 2020 2065 7863  ups).        exc
+00014610: 6c75 6465 5f67 726f 7570 7320 3d20 7574  lude_groups = ut
+00014620: 696c 732e 6c69 7374 6966 7928 6578 636c  ils.listify(excl
+00014630: 7564 655f 6772 6f75 7073 290a 2020 2020  ude_groups).    
+00014640: 2020 2020 7061 796c 6f61 6420 3d20 7b0a      payload = {.
+00014650: 2020 2020 2020 2020 2020 2020 2262 6163              "bac
+00014660: 6b75 705f 6e61 6d65 223a 2062 6163 6b75  kup_name": backu
+00014670: 705f 6e61 6d65 2c0a 2020 2020 2020 2020  p_name,.        
+00014680: 2020 2020 2264 6f5f 6e6f 745f 6465 6c65      "do_not_dele
+00014690: 7465 223a 2064 6f5f 6e6f 745f 6465 6c65  te": do_not_dele
+000146a0: 7465 2c0a 2020 2020 2020 2020 2020 2020  te,.            
+000146b0: 2269 6e63 6c75 6465 5f67 726f 7570 7322  "include_groups"
+000146c0: 3a20 696e 636c 7564 655f 6772 6f75 7073  : include_groups
+000146d0: 2c0a 2020 2020 2020 2020 2020 2020 2265  ,.            "e
+000146e0: 7863 6c75 6465 5f67 726f 7570 7322 3a20  xclude_groups": 
+000146f0: 6578 636c 7564 655f 6772 6f75 7073 2c0a  exclude_groups,.
+00014700: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+00014710: 2020 7061 796c 6f61 6420 3d20 7365 6c66    payload = self
+00014720: 2e73 7472 6970 5f6e 6f6e 6528 7061 796c  .strip_none(payl
+00014730: 6f61 6429 0a20 2020 2020 2020 2072 6574  oad).        ret
+00014740: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00014750: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+00014760: 7461 3d70 6179 6c6f 6164 290a 0a20 2020  ta=payload)..   
+00014770: 2061 7379 6e63 2064 6566 2067 6574 5f73   async def get_s
+00014780: 6e61 7073 686f 7473 5f62 795f 6772 6f75  napshots_by_grou
+00014790: 7028 7365 6c66 2c20 6772 6f75 703a 2073  p(self, group: s
+000147a0: 7472 293a 0a20 2020 2020 2020 2075 726c  tr):.        url
+000147b0: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
+000147c0: 696f 6e2f 7631 2f67 726f 7570 732f 7b67  ion/v1/groups/{g
+000147d0: 726f 7570 7d2f 736e 6170 7368 6f74 7322  roup}/snapshots"
+000147e0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+000147f0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+00014800: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
+00014810: 6566 2067 6574 5f67 775f 7475 6e6e 656c  ef get_gw_tunnel
+00014820: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
+00014830: 2073 6572 6961 6c3a 2073 7472 2c0a 2020   serial: str,.  
+00014840: 2020 2020 2020 7469 6d65 7261 6e67 653a        timerange:
+00014850: 2073 7472 203d 2022 314d 222c 0a20 2020   str = "1M",.   
+00014860: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
+00014870: 3d20 3235 302c 0a20 2020 2020 2020 206f  = 250,.        o
+00014880: 6666 7365 743a 2069 6e74 203d 2030 0a20  ffset: int = 0. 
+00014890: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+000148a0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+000148b0: 2067 6174 6577 6179 2055 706c 696e 6b20   gateway Uplink 
+000148c0: 7475 6e6e 656c 2064 6574 6169 6c73 2e0a  tunnel details..
+000148d0: 0a20 2020 2020 2020 2055 7365 6420 6279  .        Used by
+000148e0: 2077 685f 7072 6f78 792c 2063 7572 7265   wh_proxy, curre
+000148f0: 6e74 6c79 206e 6f74 2075 7365 6420 6279  ntly not used by
+00014900: 2061 2063 6f6d 6d61 6e64 2077 696c 6c20   a command will 
+00014910: 6265 2069 6e20 7368 6f77 2067 6174 6577  be in show gatew
+00014920: 6179 2074 756e 6e65 6c73 0a0a 2020 2020  ay tunnels..    
+00014930: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00014940: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
+00014950: 7229 3a20 5365 7269 616c 206e 756d 6265  r): Serial numbe
+00014960: 7220 6f66 206d 6f62 696c 6974 7920 636f  r of mobility co
+00014970: 6e74 726f 6c6c 6572 2074 6f20 6265 2071  ntroller to be q
+00014980: 7565 7269 6564 0a20 2020 2020 2020 2020  ueried.         
+00014990: 2020 2074 696d 6572 616e 6765 2028 7374     timerange (st
+000149a0: 7229 3a20 5469 6d65 2072 616e 6765 2066  r): Time range f
+000149b0: 6f72 2074 756e 6e65 6c20 7374 6174 7320  or tunnel stats 
+000149c0: 696e 666f 726d 6174 696f 6e2e 0a20 2020  information..   
+000149d0: 2020 2020 2020 2020 2020 2020 2033 4820               3H 
+000149e0: 3d20 3320 486f 7572 732c 2031 4420 3d20  = 3 Hours, 1D = 
+000149f0: 3120 4461 792c 2031 5720 3d20 3120 5765  1 Day, 1W = 1 We
+00014a00: 656b 2c20 314d 203d 2031 4d6f 6e74 682c  ek, 1M = 1Month,
+00014a10: 2033 4d20 3d20 334d 6f6e 7468 732e 0a20   3M = 3Months.. 
+00014a20: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+00014a30: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00014a40: 3a20 5061 6769 6e61 7469 6f6e 206c 696d  : Pagination lim
+00014a50: 6974 2e20 4d61 783a 2031 3030 3020 4465  it. Max: 1000 De
+00014a60: 6661 756c 7473 2074 6f20 3235 302e 0a20  faults to 250.. 
+00014a70: 2020 2020 2020 2020 2020 206f 6666 7365             offse
+00014a80: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+00014a90: 293a 2050 6167 696e 6174 696f 6e20 6f66  ): Pagination of
+00014aa0: 6673 6574 2044 6566 6175 6c74 7320 746f  fset Defaults to
+00014ab0: 2030 2e0a 0a20 2020 2020 2020 2052 6574   0...        Ret
+00014ac0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+00014ad0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+00014ae0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+00014af0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+00014b00: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+00014b10: 2066 222f 6d6f 6e69 746f 7269 6e67 2f76   f"/monitoring/v
+00014b20: 312f 6761 7465 7761 7973 2f7b 7365 7269  1/gateways/{seri
+00014b30: 616c 7d2f 7475 6e6e 656c 7322 0a0a 2020  al}/tunnels"..  
+00014b40: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00014b50: 0a20 2020 2020 2020 2020 2020 2022 7469  .            "ti
+00014b60: 6d65 7261 6e67 6522 3a20 7469 6d65 7261  merange": timera
+00014b70: 6e67 652c 0a20 2020 2020 2020 2020 2020  nge,.           
+00014b80: 2022 6f66 6673 6574 223a 206f 6666 7365   "offset": offse
+00014b90: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
+00014ba0: 6c69 6d69 7422 3a20 6c69 6d69 740a 2020  limit": limit.  
+00014bb0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+00014bc0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00014bd0: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
+00014be0: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
+00014bf0: 2320 4150 492d 464c 4157 206d 6178 206c  # API-FLAW max l
+00014c00: 696d 6974 2031 3030 2065 6e66 6f72 6365  imit 100 enforce
+00014c10: 6420 6966 2079 6f75 2070 726f 7669 6465  d if you provide
+00014c20: 2074 6865 206c 696d 6974 2070 6172 616d   the limit param
+00014c30: 6574 6572 2c20 6f74 6865 7277 6973 6520  eter, otherwise 
+00014c40: 6e6f 206c 696d 6974 3f20 7265 7475 726e  no limit? return
+00014c50: 6564 2038 3131 2077 2f20 6e6f 2070 6172  ed 811 w/ no par
+00014c60: 616d 2070 726f 7669 6465 640a 2020 2020  am provided.    
+00014c70: 2320 4150 492d 464c 4157 2064 6f65 7320  # API-FLAW does 
+00014c80: 6e6f 7420 7265 7475 726e 2061 6c6c 206c  not return all l
+00014c90: 6f67 7320 6176 6169 6c61 626c 6520 696e  ogs available in
+00014ca0: 2055 4920 7774 663f 3f0a 2020 2020 6173   UI wtf??.    as
+00014cb0: 796e 6320 6465 6620 6765 745f 6175 6469  ync def get_audi
+00014cc0: 745f 6c6f 6773 280a 2020 2020 2020 2020  t_logs(.        
+00014cd0: 7365 6c66 2c0a 2020 2020 2020 2020 6c6f  self,.        lo
+00014ce0: 675f 6964 3a20 7374 7220 3d20 4e6f 6e65  g_id: str = None
+00014cf0: 2c0a 2020 2020 2020 2020 7573 6572 6e61  ,.        userna
+00014d00: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
+00014d10: 2020 2020 2020 2020 7374 6172 745f 7469          start_ti
+00014d20: 6d65 3a20 696e 7420 3d20 4e6f 6e65 2c0a  me: int = None,.
+00014d30: 2020 2020 2020 2020 656e 645f 7469 6d65          end_time
+00014d40: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
+00014d50: 2020 2020 2020 6465 7363 7269 7074 696f        descriptio
+00014d60: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+00014d70: 2020 2020 2020 2074 6172 6765 743a 2073         target: s
+00014d80: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00014d90: 2020 2063 6c61 7373 6966 6963 6174 696f     classificatio
+00014da0: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+00014db0: 2020 2020 2020 2063 7573 746f 6d65 725f         customer_
+00014dc0: 6e61 6d65 3a20 7374 7220 3d20 4e6f 6e65  name: str = None
+00014dd0: 2c0a 2020 2020 2020 2020 6970 5f61 6464  ,.        ip_add
+00014de0: 7265 7373 3a20 7374 7220 3d20 4e6f 6e65  ress: str = None
+00014df0: 2c0a 2020 2020 2020 2020 6170 705f 6964  ,.        app_id
+00014e00: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00014e10: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
+00014e20: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
+00014e30: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
+00014e40: 0a20 2020 2020 2020 2063 6f75 6e74 3a20  .        count: 
+00014e50: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+00014e60: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00014e70: 2020 2020 2020 2022 2222 4765 7420 616c         """Get al
+00014e80: 6c20 6175 6469 7420 6c6f 6773 2e0a 0a20  l audit logs... 
+00014e90: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00014ea0: 2020 2020 2020 2020 206c 6f67 5f69 6420           log_id 
 00014eb0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00014ec0: 2046 696c 7465 7220 6175 6469 7420 6c6f   Filter audit lo
-00014ed0: 6773 2062 7920 4465 7363 7269 7074 696f  gs by Descriptio
-00014ee0: 6e0a 2020 2020 2020 2020 2020 2020 7461  n.            ta
-00014ef0: 7267 6574 2028 7374 722c 206f 7074 696f  rget (str, optio
-00014f00: 6e61 6c29 3a20 4669 6c74 6572 2061 7564  nal): Filter aud
-00014f10: 6974 206c 6f67 7320 6279 2074 6172 6765  it logs by targe
-00014f20: 7420 2873 6572 6961 6c20 6e75 6d62 6572  t (serial number
-00014f30: 292e 0a20 2020 2020 2020 2020 2020 2063  )..            c
-00014f40: 6c61 7373 6966 6963 6174 696f 6e20 2873  lassification (s
-00014f50: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
-00014f60: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
-00014f70: 2062 7920 436c 6173 7369 6669 6361 7469   by Classificati
-00014f80: 6f6e 0a20 2020 2020 2020 2020 2020 2063  on.            c
-00014f90: 7573 746f 6d65 725f 6e61 6d65 2028 7374  ustomer_name (st
-00014fa0: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
-00014fb0: 6c74 6572 2061 7564 6974 206c 6f67 7320  lter audit logs 
-00014fc0: 6279 2043 7573 746f 6d65 7220 4e61 6d65  by Customer Name
-00014fd0: 0a20 2020 2020 2020 2020 2020 2069 705f  .            ip_
-00014fe0: 6164 6472 6573 7320 2873 7472 2c20 6f70  address (str, op
-00014ff0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-00015000: 6175 6469 7420 6c6f 6773 2062 7920 4950  audit logs by IP
-00015010: 2041 6464 7265 7373 0a20 2020 2020 2020   Address.       
-00015020: 2020 2020 2061 7070 5f69 6420 2873 7472       app_id (str
-00015030: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-00015040: 7465 7220 6175 6469 7420 6c6f 6773 2062  ter audit logs b
-00015050: 7920 6170 705f 6964 0a20 2020 2020 2020  y app_id.       
-00015060: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-00015070: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
-00015080: 6265 7220 6f66 2069 7465 6d73 2074 6f20  ber of items to 
-00015090: 6265 2073 6b69 7070 6564 2062 6566 6f72  be skipped befor
-000150a0: 6520 7265 7475 726e 696e 6720 7468 6520  e returning the 
-000150b0: 6461 7461 2e0a 2020 2020 2020 2020 2020  data..          
-000150c0: 2020 2020 2020 4465 6661 756c 7420 746f        Default to
-000150d0: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
-000150e0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
-000150f0: 6f6e 616c 293a 204d 6178 696d 756d 206e  onal): Maximum n
-00015100: 756d 6265 7220 6f66 2061 7564 6974 2065  umber of audit e
-00015110: 7665 6e74 7320 746f 2062 6520 7265 7475  vents to be retu
-00015120: 726e 6564 206d 6178 3a20 3130 300a 2020  rned max: 100.  
-00015130: 2020 2020 2020 2020 2020 2020 2020 4465                De
-00015140: 6661 756c 7473 2074 6f20 3130 302e 0a20  faults to 100.. 
-00015150: 2020 2020 2020 2020 2020 2063 6f75 6e74             count
-00015160: 3a20 4f6e 6c79 2072 6574 7572 6e20 3c63  : Only return <c
-00015170: 6f75 6e74 3e20 7265 7375 6c74 732e 0a0a  ount> results...
-00015180: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00015190: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-000151a0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-000151b0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-000151c0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-000151d0: 2020 2020 2020 7572 6c20 3d20 222f 706c        url = "/pl
-000151e0: 6174 666f 726d 2f61 7564 6974 6c6f 6773  atform/auditlogs
-000151f0: 2f76 312f 6c6f 6773 220a 0a20 2020 2020  /v1/logs"..     
-00015200: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
-00015210: 2020 2020 2020 2020 2020 2275 7365 726e            "usern
-00015220: 616d 6522 3a20 7573 6572 6e61 6d65 2c0a  ame": username,.
-00015230: 2020 2020 2020 2020 2020 2020 2273 7461              "sta
-00015240: 7274 5f74 696d 6522 3a20 7374 6172 745f  rt_time": start_
-00015250: 7469 6d65 2c0a 2020 2020 2020 2020 2020  time,.          
-00015260: 2020 2265 6e64 5f74 696d 6522 3a20 656e    "end_time": en
-00015270: 645f 7469 6d65 2c0a 2020 2020 2020 2020  d_time,.        
-00015280: 2020 2020 2264 6573 6372 6970 7469 6f6e      "description
-00015290: 223a 2064 6573 6372 6970 7469 6f6e 2c0a  ": description,.
-000152a0: 2020 2020 2020 2020 2020 2020 2274 6172              "tar
-000152b0: 6765 7422 3a20 7461 7267 6574 2c0a 2020  get": target,.  
-000152c0: 2020 2020 2020 2020 2020 2263 6c61 7373            "class
-000152d0: 6966 6963 6174 696f 6e22 3a20 636c 6173  ification": clas
-000152e0: 7369 6669 6361 7469 6f6e 2c0a 2020 2020  sification,.    
-000152f0: 2020 2020 2020 2020 2263 7573 746f 6d65          "custome
-00015300: 725f 6e61 6d65 223a 2063 7573 746f 6d65  r_name": custome
-00015310: 725f 6e61 6d65 2c0a 2020 2020 2020 2020  r_name,.        
-00015320: 2020 2020 2269 705f 6164 6472 6573 7322      "ip_address"
-00015330: 3a20 6970 5f61 6464 7265 7373 2c0a 2020  : ip_address,.  
-00015340: 2020 2020 2020 2020 2020 2261 7070 5f69            "app_i
-00015350: 6422 3a20 6170 705f 6964 2069 6620 6e6f  d": app_id if no
-00015360: 7420 6861 7361 7474 7228 6170 705f 6964  t hasattr(app_id
-00015370: 2c20 2276 616c 7565 2229 2065 6c73 6520  , "value") else 
-00015380: 6170 705f 6964 2e76 616c 7565 2c0a 2020  app_id.value,.  
-00015390: 2020 2020 2020 2020 2020 226f 6666 7365            "offse
-000153a0: 7422 3a20 6f66 6673 6574 2c0a 2020 2020  t": offset,.    
-000153b0: 2020 2020 2020 2020 226c 696d 6974 223a          "limit":
-000153c0: 206c 696d 6974 2069 6620 6e6f 7420 636f   limit if not co
-000153d0: 756e 7420 6f72 206c 696d 6974 203c 2063  unt or limit < c
-000153e0: 6f75 6e74 2065 6c73 6520 636f 756e 742c  ount else count,
-000153f0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00015400: 2020 2020 6966 206c 6f67 5f69 643a 0a20      if log_id:. 
-00015410: 2020 2020 2020 2020 2020 2075 726c 203d             url =
-00015420: 2066 227b 7572 6c7d 2f7b 6c6f 675f 6964   f"{url}/{log_id
-00015430: 7d22 0a20 2020 2020 2020 2020 2020 2070  }".            p
-00015440: 6172 616d 7320 3d20 7b7d 0a0a 2020 2020  arams = {}..    
-00015450: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00015460: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-00015470: 6172 616d 733d 7061 7261 6d73 2c20 636f  arams=params, co
-00015480: 756e 743d 636f 756e 7429 0a0a 2020 2020  unt=count)..    
-00015490: 6173 796e 6320 6465 6620 6765 745f 6175  async def get_au
-000154a0: 6469 745f 6c6f 6773 5f65 7665 6e74 7328  dit_logs_events(
-000154b0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-000154c0: 2020 2020 2020 2067 726f 7570 5f6e 616d         group_nam
-000154d0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-000154e0: 2020 2020 2020 2064 6576 6963 655f 6964         device_id
-000154f0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00015500: 2020 2020 2020 636c 6173 7369 6669 6361        classifica
-00015510: 7469 6f6e 3a20 7374 7220 3d20 4e6f 6e65  tion: str = None
-00015520: 2c0a 2020 2020 2020 2020 7374 6172 745f  ,.        start_
-00015530: 7469 6d65 3a20 696e 7420 3d20 4e6f 6e65  time: int = None
-00015540: 2c0a 2020 2020 2020 2020 656e 645f 7469  ,.        end_ti
-00015550: 6d65 3a20 696e 7420 3d20 4e6f 6e65 2c0a  me: int = None,.
-00015560: 2020 2020 2020 2020 6f66 6673 6574 3a20          offset: 
-00015570: 696e 7420 3d20 302c 0a20 2020 2020 2020  int = 0,.       
-00015580: 206c 696d 6974 3a20 696e 7420 3d20 3130   limit: int = 10
-00015590: 302c 0a20 2020 2029 202d 3e20 5265 7370  0,.    ) -> Resp
-000155a0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-000155b0: 2247 6574 2061 6c6c 2061 7564 6974 2065  "Get all audit e
-000155c0: 7665 6e74 7320 666f 7220 616c 6c20 6772  vents for all gr
-000155d0: 6f75 7073 2e0a 0a20 2020 2020 2020 2043  oups...        C
-000155e0: 7572 7265 6e74 6c79 206e 6f74 2075 7365  urrently not use
-000155f0: 6420 666f 7220 616e 7920 636f 6d6d 616e  d for any comman
-00015600: 6473 2061 6464 6564 2074 6f20 636f 6d70  ds added to comp
-00015610: 6172 6520 6f75 7470 7574 2074 6f20 2e2e  are output to ..
-00015620: 2e2f 706c 6174 666f 726d 2f2e 2e2e 2070  ./platform/... p
-00015630: 6174 6820 2867 6574 5f61 7564 6974 5f6c  ath (get_audit_l
-00015640: 6f67 7329 0a0a 2020 2020 2020 2020 4172  ogs)..        Ar
-00015650: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00015660: 6772 6f75 705f 6e61 6d65 2028 7374 722c  group_name (str,
-00015670: 206f 7074 696f 6e61 6c29 3a20 4669 6c74   optional): Filt
-00015680: 6572 2061 7564 6974 2065 7665 6e74 7320  er audit events 
-00015690: 6279 2047 726f 7570 204e 616d 650a 2020  by Group Name.  
-000156a0: 2020 2020 2020 2020 2020 6465 7669 6365            device
-000156b0: 5f69 6420 2873 7472 2c20 6f70 7469 6f6e  _id (str, option
-000156c0: 616c 293a 2046 696c 7465 7220 6175 6469  al): Filter audi
-000156d0: 7420 6576 656e 7473 2062 7920 5461 7267  t events by Targ
-000156e0: 6574 202f 2044 6576 6963 6520 4944 2e20  et / Device ID. 
-000156f0: 4465 7669 6365 2049 4420 666f 7220 4150  Device ID for AP
-00015700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015710: 2069 7320 5643 204e 616d 6520 616e 6420   is VC Name and 
-00015720: 5365 7269 616c 204e 756d 6265 7220 666f  Serial Number fo
-00015730: 7220 5377 6974 6368 6573 0a20 2020 2020  r Switches.     
-00015740: 2020 2020 2020 2063 6c61 7373 6966 6963         classific
-00015750: 6174 696f 6e20 2873 7472 2c20 6f70 7469  ation (str, opti
-00015760: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
-00015770: 6469 7420 6576 656e 7473 2062 7920 636c  dit events by cl
-00015780: 6173 7369 6669 6361 7469 6f6e 0a20 2020  assification.   
-00015790: 2020 2020 2020 2020 2073 7461 7274 5f74           start_t
-000157a0: 696d 6520 2869 6e74 2c20 6f70 7469 6f6e  ime (int, option
-000157b0: 616c 293a 2046 696c 7465 7220 6175 6469  al): Filter audi
-000157c0: 7420 6c6f 6773 2062 7920 5469 6d65 2052  t logs by Time R
-000157d0: 616e 6765 2e20 5374 6172 7420 7469 6d65  ange. Start time
-000157e0: 206f 6620 7468 6520 6175 6469 740a 2020   of the audit.  
-000157f0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-00015800: 6773 2073 686f 756c 6420 6265 2070 726f  gs should be pro
-00015810: 7669 6465 6420 696e 2065 706f 6368 2073  vided in epoch s
-00015820: 6563 6f6e 6473 0a20 2020 2020 2020 2020  econds.         
-00015830: 2020 2065 6e64 5f74 696d 6520 2869 6e74     end_time (int
-00015840: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-00015850: 7465 7220 6175 6469 7420 6c6f 6773 2062  ter audit logs b
-00015860: 7920 5469 6d65 2052 616e 6765 2e20 456e  y Time Range. En
-00015870: 6420 7469 6d65 206f 6620 7468 6520 6175  d time of the au
-00015880: 6469 7420 6c6f 6773 0a20 2020 2020 2020  dit logs.       
-00015890: 2020 2020 2020 2020 2073 686f 756c 6420           should 
-000158a0: 6265 2070 726f 7669 6465 6420 696e 2065  be provided in e
-000158b0: 706f 6368 2073 6563 6f6e 6473 0a20 2020  poch seconds.   
-000158c0: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
-000158d0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-000158e0: 204e 756d 6265 7220 6f66 2069 7465 6d73   Number of items
-000158f0: 2074 6f20 6265 2073 6b69 7070 6564 2062   to be skipped b
-00015900: 6566 6f72 6520 7265 7475 726e 696e 6720  efore returning 
-00015910: 7468 6520 6461 7461 2c20 7573 6566 756c  the data, useful
-00015920: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00015930: 2066 6f72 2070 6167 696e 6174 696f 6e20   for pagination 
-00015940: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
-00015950: 2020 2020 2020 2020 2020 206c 696d 6974             limit
-00015960: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00015970: 3a20 4d61 7869 6d75 6d20 6e75 6d62 6572  : Maximum number
-00015980: 206f 6620 6175 6469 7420 6576 656e 7473   of audit events
-00015990: 2074 6f20 6265 2072 6574 7572 6e65 6420   to be returned 
-000159a0: 4465 6661 756c 7473 2074 6f20 3130 302e  Defaults to 100.
-000159b0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-000159c0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-000159d0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-000159e0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-000159f0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00015a00: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-00015a10: 6175 6469 746c 6f67 732f 7631 2f65 7665  auditlogs/v1/eve
-00015a20: 6e74 7322 0a0a 2020 2020 2020 2020 7061  nts"..        pa
-00015a30: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-00015a40: 2020 2020 2027 6772 6f75 705f 6e61 6d65       'group_name
-00015a50: 273a 2067 726f 7570 5f6e 616d 652c 0a20  ': group_name,. 
-00015a60: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-00015a70: 6365 5f69 6427 3a20 6465 7669 6365 5f69  ce_id': device_i
-00015a80: 642c 0a20 2020 2020 2020 2020 2020 2027  d,.            '
-00015a90: 636c 6173 7369 6669 6361 7469 6f6e 273a  classification':
-00015aa0: 2063 6c61 7373 6966 6963 6174 696f 6e2c   classification,
-00015ab0: 0a20 2020 2020 2020 2020 2020 2027 7374  .            'st
-00015ac0: 6172 745f 7469 6d65 273a 2073 7461 7274  art_time': start
-00015ad0: 5f74 696d 652c 0a20 2020 2020 2020 2020  _time,.         
-00015ae0: 2020 2027 656e 645f 7469 6d65 273a 2065     'end_time': e
-00015af0: 6e64 5f74 696d 652c 0a20 2020 2020 2020  nd_time,.       
-00015b00: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
-00015b10: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
-00015b20: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
-00015b30: 740a 2020 2020 2020 2020 7d0a 0a20 2020  t.        }..   
-00015b40: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00015b50: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
-00015b60: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
-00015b70: 2020 2020 6173 796e 6320 6465 6620 6372      async def cr
-00015b80: 6561 7465 5f73 6974 6528 0a20 2020 2020  eate_site(.     
-00015b90: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-00015ba0: 2073 6974 655f 6e61 6d65 3a20 7374 7220   site_name: str 
-00015bb0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00015bc0: 6164 6472 6573 733a 2073 7472 203d 204e  address: str = N
-00015bd0: 6f6e 652c 0a20 2020 2020 2020 2063 6974  one,.        cit
-00015be0: 793a 2073 7472 203d 204e 6f6e 652c 0a20  y: str = None,. 
-00015bf0: 2020 2020 2020 2073 7461 7465 3a20 7374         state: st
-00015c00: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00015c10: 2020 636f 756e 7472 793a 2073 7472 203d    country: str =
-00015c20: 204e 6f6e 652c 0a20 2020 2020 2020 207a   None,.        z
-00015c30: 6970 636f 6465 3a20 7374 7220 3d20 4e6f  ipcode: str = No
-00015c40: 6e65 2c0a 2020 2020 2020 2020 6c61 7469  ne,.        lati
-00015c50: 7475 6465 3a20 696e 7420 3d20 4e6f 6e65  tude: int = None
-00015c60: 2c0a 2020 2020 2020 2020 6c6f 6e67 6974  ,.        longit
-00015c70: 7564 653a 2069 6e74 203d 204e 6f6e 652c  ude: int = None,
-00015c80: 0a20 2020 2020 2020 2073 6974 655f 6c69  .        site_li
-00015c90: 7374 3a20 4c69 7374 5b44 6963 745b 7374  st: List[Dict[st
-00015ca0: 722c 2055 6e69 6f6e 5b73 7472 2c20 6469  r, Union[str, di
-00015cb0: 6374 5d5d 5d20 3d20 4e6f 6e65 2c0a 2020  ct]]] = None,.  
-00015cc0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00015cd0: 0a20 2020 2020 2020 2022 2222 4372 6561  .        """Crea
-00015ce0: 7465 2053 6974 650a 0a20 2020 2020 2020  te Site..       
-00015cf0: 2045 6974 6865 7220 6164 6472 6573 7320   Either address 
-00015d00: 696e 666f 726d 6174 696f 6e20 6f72 2047  information or G
-00015d10: 656f 4c6f 6361 7469 6f6e 2069 6e66 6f72  eoLocation infor
-00015d20: 6d61 7469 6f6e 2069 7320 7265 7175 6972  mation is requir
-00015d30: 6564 2e20 2046 6f72 2047 656f 6c6f 6361  ed.  For Geoloca
-00015d40: 7469 6f6e 2061 7474 7269 6275 7465 730a  tion attributes.
-00015d50: 2020 2020 2020 2020 616c 6c20 6174 7472          all attr
-00015d60: 6962 7574 6573 2061 7265 2072 6571 7569  ibutes are requi
-00015d70: 7265 642e 2020 4f72 2061 204c 6973 745b  red.  Or a List[
-00015d80: 6469 6374 5d20 7769 7468 206d 756c 7469  dict] with multi
-00015d90: 706c 6520 7369 7465 7320 746f 2062 6520  ple sites to be 
-00015da0: 6164 6465 6420 636f 6e74 6169 6e69 6e67  added containing
-00015db0: 2065 6974 6865 720a 2020 2020 2020 2020   either.        
-00015dc0: 2773 6974 655f 6164 6472 6573 7327 206f  'site_address' o
-00015dd0: 7220 2767 656f 6c6f 6361 7469 6f6e 2720  r 'geolocation' 
-00015de0: 6174 7472 6962 7574 6573 2066 6f72 2065  attributes for e
-00015df0: 6163 6820 7369 7465 2e0a 0a20 2020 2020  ach site...     
-00015e00: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00015e10: 2020 2020 2073 6974 655f 6e61 6d65 2028       site_name (
-00015e20: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00015e30: 5369 7465 204e 616d 652e 2044 6566 6175  Site Name. Defau
-00015e40: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-00015e50: 2020 2020 2020 2020 2061 6464 7265 7373           address
-00015e60: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00015e70: 3a20 4164 6472 6573 732e 2044 6566 6175  : Address. Defau
-00015e80: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
-00015e90: 2020 2020 2020 2020 2063 6974 7920 2873           city (s
-00015ea0: 7472 2c20 6f70 7469 6f6e 616c 293a 2043  tr, optional): C
-00015eb0: 6974 792e 2044 6566 6175 6c74 7320 746f  ity. Defaults to
-00015ec0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00015ed0: 2020 2073 7461 7465 2028 7374 722c 206f     state (str, o
-00015ee0: 7074 696f 6e61 6c29 3a20 5374 6174 652e  ptional): State.
-00015ef0: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-00015f00: 652e 0a20 2020 2020 2020 2020 2020 2063  e..            c
-00015f10: 6f75 6e74 7279 2028 7374 722c 206f 7074  ountry (str, opt
-00015f20: 696f 6e61 6c29 3a20 436f 756e 7472 7920  ional): Country 
-00015f30: 4e61 6d65 2e20 4465 6661 756c 7473 2074  Name. Defaults t
-00015f40: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00015f50: 2020 2020 7a69 7063 6f64 6520 2873 7472      zipcode (str
-00015f60: 2c20 6f70 7469 6f6e 616c 293a 205a 6970  , optional): Zip
-00015f70: 636f 6465 2e20 4465 6661 756c 7473 2074  code. Defaults t
-00015f80: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00015f90: 2020 2020 6c61 7469 7475 6465 2028 696e      latitude (in
-00015fa0: 742c 206f 7074 696f 6e61 6c29 3a20 4c61  t, optional): La
-00015fb0: 7469 7475 6465 2028 696e 2074 6865 2072  titude (in the r
-00015fc0: 616e 6765 206f 6620 2d39 3020 616e 6420  ange of -90 and 
-00015fd0: 3930 292e 2044 6566 6175 6c74 7320 746f  90). Defaults to
-00015fe0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00015ff0: 2020 206c 6f6e 6769 7475 6465 2028 696e     longitude (in
-00016000: 742c 206f 7074 696f 6e61 6c29 3a20 4c6f  t, optional): Lo
-00016010: 6e67 6974 7564 6520 2869 6e20 7468 6520  ngitude (in the 
-00016020: 7261 6e67 6520 6f66 202d 3130 3020 616e  range of -100 an
-00016030: 6420 3138 3029 2e20 4465 6661 756c 7473  d 180). Defaults
-00016040: 2074 6f20 4e6f 6e65 2e0a 2020 2020 2020   to None..      
-00016050: 2020 2020 2020 7369 7465 5f6c 6973 7420        site_list 
-00016060: 284c 6973 745b 4469 6374 5b73 7472 2c20  (List[Dict[str, 
-00016070: 556e 696f 6e5b 7374 722c 2064 6963 745d  Union[str, dict]
-00016080: 5d5d 2c20 6f70 7469 6f6e 616c 293a 2041  ]], optional): A
-00016090: 206c 6973 7420 6f66 2073 6974 6573 2074   list of sites t
-000160a0: 6f20 6265 2063 7265 6174 6564 2e20 4465  o be created. De
-000160b0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-000160c0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-000160d0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-000160e0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-000160f0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00016100: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00016110: 2020 2020 2020 2075 726c 203d 2022 2f63         url = "/c
-00016120: 656e 7472 616c 2f76 322f 7369 7465 7322  entral/v2/sites"
-00016130: 0a0a 2020 2020 2020 2020 6164 6472 6573  ..        addres
-00016140: 735f 6469 6374 203d 2075 7469 6c73 2e73  s_dict = utils.s
-00016150: 7472 6970 5f6e 6f6e 6528 7b22 6164 6472  trip_none({"addr
-00016160: 6573 7322 3a20 6164 6472 6573 732c 2022  ess": address, "
-00016170: 6369 7479 223a 2063 6974 792c 2022 7374  city": city, "st
-00016180: 6174 6522 3a20 7374 6174 652c 2022 636f  ate": state, "co
-00016190: 756e 7472 7922 3a20 636f 756e 7472 792c  untry": country,
-000161a0: 2022 7a69 7063 6f64 6522 3a20 7a69 7063   "zipcode": zipc
-000161b0: 6f64 657d 290a 2020 2020 2020 2020 6765  ode}).        ge
-000161c0: 6f5f 6469 6374 203d 2075 7469 6c73 2e73  o_dict = utils.s
-000161d0: 7472 6970 5f6e 6f6e 6528 7b22 6c61 7469  trip_none({"lati
-000161e0: 7475 6465 223a 206c 6174 6974 7564 652c  tude": latitude,
-000161f0: 2022 6c6f 6e67 6974 7564 6522 3a20 6c6f   "longitude": lo
-00016200: 6e67 6974 7564 657d 290a 2020 2020 2020  ngitude}).      
-00016210: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b22    json_data = {"
-00016220: 7369 7465 5f6e 616d 6522 3a20 7369 7465  site_name": site
-00016230: 5f6e 616d 657d 0a20 2020 2020 2020 2069  _name}.        i
-00016240: 6620 6164 6472 6573 735f 6469 6374 3a0a  f address_dict:.
-00016250: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
-00016260: 5f64 6174 615b 2273 6974 655f 6164 6472  _data["site_addr
-00016270: 6573 7322 5d20 3d20 6164 6472 6573 735f  ess"] = address_
-00016280: 6469 6374 0a20 2020 2020 2020 2069 6620  dict.        if 
-00016290: 6765 6f5f 6469 6374 3a0a 2020 2020 2020  geo_dict:.      
-000162a0: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-000162b0: 2267 656f 6c6f 6361 7469 6f6e 225d 203d  "geolocation"] =
-000162c0: 2067 656f 5f64 6963 740a 0a20 2020 2020   geo_dict..     
-000162d0: 2020 2023 2054 4f44 4f20 7265 7665 7274     # TODO revert
-000162e0: 2074 6869 7320 746f 2073 696e 676c 6520   this to single 
-000162f0: 7369 7465 2061 6464 2061 6e64 2075 7365  site add and use
-00016300: 2062 6174 6368 5f61 6464 5f73 6974 6520   batch_add_site 
-00016310: 6d65 7468 6f64 2066 6f72 206d 756c 7469  method for multi
-00016320: 2d61 6464 0a20 2020 2020 2020 2069 6620  -add.        if 
-00016330: 7369 7465 5f6c 6973 743a 0a20 2020 2020  site_list:.     
-00016340: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
-00016350: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-00016360: 6c2c 206a 736f 6e5f 6461 7461 3d73 6974  l, json_data=sit
-00016370: 655f 6c69 7374 5b30 5d29 0a20 2020 2020  e_list[0]).     
-00016380: 2020 2020 2020 2069 6620 6e6f 7420 7265         if not re
-00016390: 7370 3a0a 2020 2020 2020 2020 2020 2020  sp:.            
-000163a0: 2020 2020 7265 7475 726e 2072 6573 700a      return resp.
-000163b0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
-000163c0: 656e 2873 6974 655f 6c69 7374 2920 3e20  en(site_list) > 
-000163d0: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-000163e0: 2020 2072 6574 203d 2061 7761 6974 2073     ret = await s
-000163f0: 656c 662e 5f62 6174 6368 5f72 6571 7565  elf._batch_reque
-00016400: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
-00016410: 2020 2020 2020 2020 5b0a 2020 2020 2020          [.      
-00016420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016430: 2020 7365 6c66 2e42 6174 6368 5265 7175    self.BatchRequ
-00016440: 6573 7428 7365 6c66 2e70 6f73 742c 2028  est(self.post, (
-00016450: 7572 6c2c 292c 206a 736f 6e5f 6461 7461  url,), json_data
-00016460: 3d5f 6a73 6f6e 2c20 6361 6c6c 6261 636b  =_json, callback
-00016470: 3d63 6c65 616e 6572 2e5f 756e 6c69 7374  =cleaner._unlist
-00016480: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00016490: 2020 2020 2020 2020 2020 666f 7220 5f6a            for _j
-000164a0: 736f 6e20 696e 2073 6974 655f 6c69 7374  son in site_list
-000164b0: 5b31 3a5d 0a20 2020 2020 2020 2020 2020  [1:].           
-000164c0: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-000164d0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-000164e0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-000164f0: 7572 6e20 5b72 6573 702c 202a 7265 745d  urn [resp, *ret]
-00016500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016510: 2023 2072 6573 705f 6c69 7374 203d 2063   # resp_list = c
-00016520: 6c65 616e 6572 2e5f 756e 6c69 7374 280a  leaner._unlist(.
-00016530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016540: 2320 2020 2020 5b61 7761 6974 2061 7379  #     [await asy
-00016550: 6e63 696f 2e67 6174 6865 7228 7365 6c66  ncio.gather(self
-00016560: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-00016570: 6461 7461 3d5f 6a73 6f6e 2c20 6361 6c6c  data=_json, call
-00016580: 6261 636b 3d63 6c65 616e 6572 2e5f 756e  back=cleaner._un
-00016590: 6c69 7374 2929 2066 6f72 205f 6a73 6f6e  list)) for _json
-000165a0: 2069 6e20 7369 7465 5f6c 6973 745b 313a   in site_list[1:
-000165b0: 5d5d 0a20 2020 2020 2020 2020 2020 2020  ]].             
-000165c0: 2020 2023 2029 0a20 2020 2020 2020 2020     # ).         
-000165d0: 2020 2020 2020 2023 2023 2054 4f44 4f20         # # TODO 
-000165e0: 6d61 6b65 206d 756c 7469 2072 6573 706f  make multi respo
-000165f0: 6e73 6520 7061 636b 696e 6720 6675 6e63  nse packing func
-00016600: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
-00016610: 2020 2020 2023 2072 6573 702e 6f75 7470       # resp.outp
-00016620: 7574 203d 2075 7469 6c73 2e6c 6973 7469  ut = utils.listi
-00016630: 6679 2872 6573 702e 6f75 7470 7574 290a  fy(resp.output).
-00016640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016650: 2320 7265 7370 2e6f 7574 7075 7420 2b3d  # resp.output +=
-00016660: 205b 722e 6f75 7470 7574 2066 6f72 2072   [r.output for r
-00016670: 2069 6e20 7265 7370 5f6c 6973 745d 0a20   in resp_list]. 
-00016680: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00016690: 2072 6574 7572 6e20 7265 7370 0a20 2020   return resp.   
-000166a0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-000166b0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-000166c0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-000166d0: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-000166e0: 6e5f 6461 7461 2c20 6361 6c6c 6261 636b  n_data, callback
-000166f0: 3d63 6c65 616e 6572 2e5f 756e 6c69 7374  =cleaner._unlist
-00016700: 290a 0a20 2020 2023 2054 4f44 4f20 6164  )..    # TODO ad
-00016710: 6420 636c 690a 2020 2020 6173 796e 6320  d cli.    async 
-00016720: 6465 6620 7570 6461 7465 5f73 6974 6528  def update_site(
-00016730: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-00016740: 2020 2020 2020 2073 6974 655f 6964 3a20         site_id: 
-00016750: 696e 742c 0a20 2020 2020 2020 2073 6974  int,.        sit
-00016760: 655f 6e61 6d65 3a20 7374 722c 0a20 2020  e_name: str,.   
-00016770: 2020 2020 2061 6464 7265 7373 3a20 7374       address: st
-00016780: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00016790: 2020 6369 7479 3a20 7374 7220 3d20 4e6f    city: str = No
-000167a0: 6e65 2c0a 2020 2020 2020 2020 7374 6174  ne,.        stat
-000167b0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-000167c0: 2020 2020 2020 207a 6970 636f 6465 3a20         zipcode: 
-000167d0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000167e0: 2020 2020 636f 756e 7472 793a 2073 7472      country: str
-000167f0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00016800: 206c 6174 6974 7564 653a 2073 7472 203d   latitude: str =
-00016810: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-00016820: 6f6e 6769 7475 6465 3a20 7374 7220 3d20  ongitude: str = 
-00016830: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
-00016840: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-00016850: 2022 2222 5570 6461 7465 2053 6974 652e   """Update Site.
-00016860: 0a0a 2020 2020 2020 2020 5072 6f76 6964  ..        Provid
-00016870: 6520 6765 6f2d 6c6f 6320 6f72 2061 6464  e geo-loc or add
-00016880: 7265 7373 2064 6574 6169 6c73 2c20 6e6f  ress details, no
-00016890: 7420 626f 7468 2e0a 2020 2020 2020 2020  t both..        
-000168a0: 4361 6e20 7072 6f76 6964 6520 626f 7468  Can provide both
-000168b0: 2069 6e20 7375 6273 6571 7565 6e74 2063   in subsequent c
-000168c0: 616c 6c73 2c20 6275 7420 6170 6967 7720  alls, but apigw 
-000168d0: 646f 6573 206e 6f74 0a20 2020 2020 2020  does not.       
-000168e0: 2061 6c6c 6f77 2062 6f74 6820 696e 2073   allow both in s
-000168f0: 616d 6520 6361 6c6c 2e0a 0a20 2020 2020  ame call...     
-00016900: 2020 202f 2f20 5573 6564 2062 7920 6365     // Used by ce
-00016910: 6e63 6c69 2075 7064 6174 6520 7369 7465  ncli update site
-00016920: 205b 6e61 6d65 7c69 647c 6164 6472 6573   [name|id|addres
-00016930: 735d 204f 5220 2d2d 6c61 7420 3c6c 6174  s] OR --lat <lat
-00016940: 3e20 2d2d 6c6f 6e20 3c6c 6f6e 3e20 2f2f  > --lon <lon> //
-00016950: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00016960: 2020 2020 2020 2020 2020 2020 7369 7465              site
-00016970: 5f69 6420 2869 6e74 293a 2053 6974 6520  _id (int): Site 
-00016980: 4944 0a20 2020 2020 2020 2020 2020 2073  ID.            s
-00016990: 6974 655f 6e61 6d65 2028 7374 7229 3a20  ite_name (str): 
-000169a0: 5369 7465 204e 616d 650a 2020 2020 2020  Site Name.      
-000169b0: 2020 2020 2020 6164 6472 6573 7320 2873        address (s
-000169c0: 7472 293a 2041 6464 7265 7373 0a20 2020  tr): Address.   
-000169d0: 2020 2020 2020 2020 2063 6974 7920 2873           city (s
-000169e0: 7472 293a 2043 6974 7920 4e61 6d65 0a20  tr): City Name. 
-000169f0: 2020 2020 2020 2020 2020 2073 7461 7465             state
-00016a00: 2028 7374 7229 3a20 5374 6174 6520 4e61   (str): State Na
-00016a10: 6d65 0a20 2020 2020 2020 2020 2020 207a  me.            z
-00016a20: 6970 636f 6465 2028 7374 7229 3a20 5a69  ipcode (str): Zi
-00016a30: 7063 6f64 650a 2020 2020 2020 2020 2020  pcode.          
-00016a40: 2020 636f 756e 7472 7920 2873 7472 293a    country (str):
-00016a50: 2043 6f75 6e74 7279 204e 616d 650a 2020   Country Name.  
-00016a60: 2020 2020 2020 2020 2020 6c61 7469 7475            latitu
-00016a70: 6465 2028 7374 7229 3a20 4c61 7469 7475  de (str): Latitu
-00016a80: 6465 2028 696e 2074 6865 2072 616e 6765  de (in the range
-00016a90: 206f 6620 2d39 3020 616e 6420 3930 290a   of -90 and 90).
-00016aa0: 2020 2020 2020 2020 2020 2020 6c6f 6e67              long
-00016ab0: 6974 7564 6520 2873 7472 293a 204c 6f6e  itude (str): Lon
-00016ac0: 6769 7475 6465 2028 696e 2074 6865 2072  gitude (in the r
-00016ad0: 616e 6765 206f 6620 2d31 3830 2061 6e64  ange of -180 and
-00016ae0: 2031 3830 290a 0a20 2020 2020 2020 2052   180)..        R
-00016af0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00016b00: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00016b10: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00016b20: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00016b30: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00016b40: 203d 2066 222f 6365 6e74 7261 6c2f 7632   = f"/central/v2
-00016b50: 2f73 6974 6573 2f7b 7369 7465 5f69 647d  /sites/{site_id}
-00016b60: 220a 2020 2020 2020 2020 6966 207a 6970  ".        if zip
-00016b70: 636f 6465 3a0a 2020 2020 2020 2020 2020  code:.          
-00016b80: 2020 7a69 7063 6f64 6520 3d20 7374 7228    zipcode = str(
-00016b90: 7a69 7063 6f64 6529 0a0a 0a20 2020 2020  zipcode)...     
-00016ba0: 2020 2073 6974 655f 6164 6472 6573 7320     site_address 
-00016bb0: 3d20 7b22 6164 6472 6573 7322 3a20 6164  = {"address": ad
-00016bc0: 6472 6573 732c 2022 6369 7479 223a 2063  dress, "city": c
-00016bd0: 6974 792c 2022 7374 6174 6522 3a20 7374  ity, "state": st
-00016be0: 6174 652c 2022 636f 756e 7472 7922 3a20  ate, "country": 
-00016bf0: 636f 756e 7472 792c 2022 7a69 7063 6f64  country, "zipcod
-00016c00: 6522 3a20 7a69 7063 6f64 657d 0a20 2020  e": zipcode}.   
-00016c10: 2020 2020 2067 656f 6c6f 6361 7469 6f6e       geolocation
-00016c20: 203d 207b 226c 6174 6974 7564 6522 3a20   = {"latitude": 
-00016c30: 6c61 7469 7475 6465 2c20 226c 6f6e 6769  latitude, "longi
-00016c40: 7475 6465 223a 206c 6f6e 6769 7475 6465  tude": longitude
-00016c50: 7d0a 0a20 2020 2020 2020 2073 6974 655f  }..        site_
-00016c60: 6164 6472 6573 7320 3d20 7574 696c 732e  address = utils.
-00016c70: 7374 7269 705f 6e6f 6e65 2873 6974 655f  strip_none(site_
-00016c80: 6164 6472 6573 7329 0a20 2020 2020 2020  address).       
-00016c90: 2067 656f 6c6f 6361 7469 6f6e 203d 2075   geolocation = u
-00016ca0: 7469 6c73 2e73 7472 6970 5f6e 6f6e 6528  tils.strip_none(
-00016cb0: 6765 6f6c 6f63 6174 696f 6e29 0a0a 2020  geolocation)..  
-00016cc0: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-00016cd0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00016ce0: 2273 6974 655f 6e61 6d65 223a 2073 6974  "site_name": sit
-00016cf0: 655f 6e61 6d65 2c0a 2020 2020 2020 2020  e_name,.        
-00016d00: 2020 2020 2273 6974 655f 6164 6472 6573      "site_addres
-00016d10: 7322 3a20 7369 7465 5f61 6464 7265 7373  s": site_address
-00016d20: 2c0a 2020 2020 2020 2020 2020 2020 2267  ,.            "g
-00016d30: 656f 6c6f 6361 7469 6f6e 223a 2067 656f  eolocation": geo
-00016d40: 6c6f 6361 7469 6f6e 0a20 2020 2020 2020  location.       
-00016d50: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-00016d60: 726e 2061 7761 6974 2073 656c 662e 7061  rn await self.pa
-00016d70: 7463 6828 7572 6c2c 206a 736f 6e5f 6461  tch(url, json_da
-00016d80: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
-00016d90: 2020 2023 2054 4f44 4f20 616c 6c20 7061     # TODO all pa
-00016da0: 7261 6d73 2072 6571 7569 7265 6420 6279  rams required by
-00016db0: 2041 5049 2047 572c 206e 6565 6420 6361   API GW, need ca
-00016dc0: 6c6c 2074 6f20 6765 7420 6375 7272 656e  ll to get curren
-00016dd0: 7420 7072 6f70 6572 7469 6573 0a20 2020  t properties.   
-00016de0: 2023 2069 6620 6e6f 7420 616c 6c20 6172   # if not all ar
-00016df0: 6520 7072 6f76 6964 6564 0a20 2020 2061  e provided.    a
-00016e00: 7379 6e63 2064 6566 2075 7064 6174 655f  sync def update_
-00016e10: 6170 5f73 7973 7465 6d5f 636f 6e66 6967  ap_system_config
-00016e20: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00016e30: 2020 2020 2020 2020 6772 6f75 705f 7377          group_sw
-00016e40: 6172 6d69 643a 2073 7472 2c0a 2020 2020  armid: str,.    
-00016e50: 2020 2020 646e 735f 7365 7276 6572 3a20      dns_server: 
-00016e60: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00016e70: 2020 2020 6e74 705f 7365 7276 6572 3a20      ntp_server: 
-00016e80: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
-00016e90: 2c0a 2020 2020 2020 2020 7573 6572 6e61  ,.        userna
-00016ea0: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
-00016eb0: 2020 2020 2020 2020 7061 7373 776f 7264          password
-00016ec0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-00016ed0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00016ee0: 0a20 2020 2020 2020 2022 2222 5570 6461  .        """Upda
-00016ef0: 7465 2073 7973 7465 6d20 636f 6e66 6967  te system config
-00016f00: 2e0a 0a20 2020 2020 2020 2041 6c6c 2070  ...        All p
-00016f10: 6172 616d 7320 6172 6520 7265 7175 6972  arams are requir
-00016f20: 6564 2062 7920 4172 7562 6120 4365 6e74  ed by Aruba Cent
-00016f30: 7261 6c0a 0a20 2020 2020 2020 2041 7267  ral..        Arg
-00016f40: 733a 0a20 2020 2020 2020 2020 2020 2067  s:.            g
-00016f50: 726f 7570 5f73 7761 726d 6964 2028 7374  roup_swarmid (st
-00016f60: 7229 3a20 4772 6f75 7020 6e61 6d65 206f  r): Group name o
-00016f70: 6620 7468 6520 6772 6f75 7020 6f72 2067  f the group or g
-00016f80: 7569 6420 6f66 2074 6865 2073 7761 726d  uid of the swarm
-00016f90: 2e20 4578 616d 706c 653a 4772 6f75 705f  . Example:Group_
-00016fa0: 310a 2020 2020 2020 2020 2020 2020 2020  1.              
-00016fb0: 2020 6f72 2036 6135 6431 3233 6230 3166    or 6a5d123b01f
-00016fc0: 3934 3431 3830 3632 3434 6561 3665 3032  9441806244ea6e02
-00016fd0: 3366 6162 3538 3431 6237 3763 3832 3861  3fab5841b77c828a
-00016fe0: 3038 3566 3034 662e 0a20 2020 2020 2020  085f04f..       
-00016ff0: 2020 2020 2064 6e73 5f73 6572 7665 7220       dns_server 
-00017000: 2873 7472 293a 2044 4e53 2073 6572 7665  (str): DNS serve
-00017010: 7220 4950 7320 6f72 2064 6f6d 6169 6e20  r IPs or domain 
-00017020: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-00017030: 206e 7470 5f73 6572 7665 7220 284c 6973   ntp_server (Lis
-00017040: 745b 7374 725d 293a 204c 6973 7420 6f66  t[str]): List of
-00017050: 206e 7470 2073 6572 7665 722c 0a20 2020   ntp server,.   
-00017060: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
-00017070: 6d70 6c65 3a20 5b22 3139 322e 3136 382e  mple: ["192.168.
-00017080: 312e 3122 2c20 2231 3237 2e30 2e30 2e30  1.1", "127.0.0.0
-00017090: 222c 2022 7878 782e 636f 6d22 5d2e 0a20  ", "xxx.com"].. 
-000170a0: 2020 2020 2020 2020 2020 2020 2020 2049                 I
-000170b0: 5073 206f 7220 646f 6d61 696e 206e 616d  Ps or domain nam
-000170c0: 652e 0a20 2020 2020 2020 2020 2020 2075  e..            u
-000170d0: 7365 726e 616d 6520 2873 7472 293a 2075  sername (str): u
-000170e0: 7365 726e 616d 650a 2020 2020 2020 2020  sername.        
-000170f0: 2020 2020 7061 7373 776f 7264 2028 7374      password (st
-00017100: 7229 3a20 7061 7373 776f 7264 0a0a 2020  r): password..  
-00017110: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00017120: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-00017130: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00017140: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00017150: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00017160: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
-00017170: 6669 6775 7261 7469 6f6e 2f76 312f 7379  figuration/v1/sy
-00017180: 7374 656d 5f63 6f6e 6669 672f 7b67 726f  stem_config/{gro
-00017190: 7570 5f73 7761 726d 6964 7d22 0a0a 2020  up_swarmid}"..  
-000171a0: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-000171b0: 3d20 7574 696c 732e 7374 7269 705f 6e6f  = utils.strip_no
-000171c0: 6e65 280a 2020 2020 2020 2020 2020 2020  ne(.            
-000171d0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-000171e0: 2020 2764 6e73 5f73 6572 7665 7227 3a20    'dns_server': 
-000171f0: 646e 735f 7365 7276 6572 2c0a 2020 2020  dns_server,.    
-00017200: 2020 2020 2020 2020 2020 2020 276e 7470              'ntp
-00017210: 5f73 6572 7665 7227 3a20 6e74 705f 7365  _server': ntp_se
-00017220: 7276 6572 2c0a 2020 2020 2020 2020 2020  rver,.          
-00017230: 2020 2020 2020 2775 7365 726e 616d 6527        'username'
-00017240: 3a20 7573 6572 6e61 6d65 2c0a 2020 2020  : username,.    
-00017250: 2020 2020 2020 2020 2020 2020 2770 6173              'pas
-00017260: 7377 6f72 6427 3a20 7061 7373 776f 7264  sword': password
-00017270: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
-00017280: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-00017290: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-000172a0: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
-000172b0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
-000172c0: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
-000172d0: 6620 6372 6561 7465 5f67 726f 7570 280a  f create_group(.
-000172e0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-000172f0: 2020 2020 2020 6772 6f75 703a 2073 7472        group: str
-00017300: 2c0a 2020 2020 2020 2020 616c 6c6f 7765  ,.        allowe
-00017310: 645f 7479 7065 733a 2055 6e69 6f6e 5b63  d_types: Union[c
-00017320: 6f6e 7374 616e 7473 2e41 6c6c 4465 7654  onstants.AllDevT
-00017330: 7970 6573 2c20 4c69 7374 5b63 6f6e 7374  ypes, List[const
-00017340: 616e 7473 2e41 6c6c 4465 7654 7970 6573  ants.AllDevTypes
-00017350: 5d5d 203d 205b 2261 7022 2c20 2267 7722  ]] = ["ap", "gw"
-00017360: 2c20 2263 7822 2c20 2273 7722 5d2c 0a20  , "cx", "sw"],. 
-00017370: 2020 2020 2020 2077 6972 6564 5f74 673a         wired_tg:
-00017380: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
-00017390: 2020 2020 2020 2077 6c61 6e5f 7467 3a20         wlan_tg: 
-000173a0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-000173b0: 2020 2020 2020 616f 7331 303a 2062 6f6f        aos10: boo
-000173c0: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-000173d0: 2020 206d 6963 726f 6272 616e 6368 3a20     microbranch: 
-000173e0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-000173f0: 2020 2020 2020 6777 5f72 6f6c 653a 2063        gw_role: c
-00017400: 6f6e 7374 616e 7473 2e47 6174 6577 6179  onstants.Gateway
-00017410: 526f 6c65 203d 2022 6272 616e 6368 222c  Role = "branch",
-00017420: 0a20 2020 2020 2020 206d 6f6e 6974 6f72  .        monitor
-00017430: 5f6f 6e6c 795f 7377 3a20 626f 6f6c 203d  _only_sw: bool =
-00017440: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
-00017450: 6d6f 6e69 746f 725f 6f6e 6c79 5f63 783a  monitor_only_cx:
-00017460: 2062 6f6f 6c20 3d20 4661 6c73 652c 2020   bool = False,  
-00017470: 2320 4e6f 7420 7375 7070 6f72 7465 6420  # Not supported 
-00017480: 6279 2063 656e 7472 616c 2079 6574 0a20  by central yet. 
-00017490: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-000174a0: 3a0a 2020 2020 2020 2020 2222 2243 7265  :.        """Cre
-000174b0: 6174 6520 6e65 7720 6772 6f75 7020 7769  ate new group wi
-000174c0: 7468 2073 7065 6369 6669 6564 2070 726f  th specified pro
-000174d0: 7065 7274 6965 732e 2076 330a 0a20 2020  perties. v3..   
-000174e0: 2020 2020 202f 2f20 5573 6564 2062 7920       // Used by 
-000174f0: 6164 6420 6772 6f75 7020 6261 7463 6820  add group batch 
-00017500: 6164 6420 6772 6f75 7020 2f2f 0a0a 2020  add group //..  
-00017510: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00017520: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-00017530: 7472 293a 2047 726f 7570 204e 616d 650a  tr): Group Name.
-00017540: 2020 2020 2020 2020 2020 2020 616c 6c6f              allo
-00017550: 7765 645f 7479 7065 7320 2873 7472 2c20  wed_types (str, 
-00017560: 4c69 7374 5b73 7472 5d29 3a20 416c 6c6f  List[str]): Allo
-00017570: 7765 6420 4465 7669 6365 2054 7970 6573  wed Device Types
-00017580: 2069 6e20 7468 6520 6772 6f75 702e 2054   in the group. T
-00017590: 6162 7320 666f 7220 6465 7669 6365 7320  abs for devices 
-000175a0: 6e6f 7420 616c 6c6f 7765 640a 2020 2020  not allowed.    
-000175b0: 2020 2020 2020 2020 2020 2020 776f 6e27              won'
-000175c0: 7420 6469 7370 6c61 7920 696e 2055 492e  t display in UI.
-000175d0: 2020 7661 6c69 6420 7661 6c75 6573 2022    valid values "
-000175e0: 6170 222c 2022 6777 222c 2022 6378 222c  ap", "gw", "cx",
-000175f0: 2022 7377 222c 2022 7377 6974 6368 220a   "sw", "switch".
-00017600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017610: 2822 7377 6974 6368 2220 6973 2067 656e  ("switch" is gen
-00017620: 6572 6963 2c20 7769 6c6c 2065 6e61 626c  eric, will enabl
-00017630: 6520 626f 7468 2063 7820 616e 6420 7377  e both cx and sw
-00017640: 290a 2020 2020 2020 2020 2020 2020 7769  ).            wi
-00017650: 7265 645f 7467 2028 626f 6f6c 2c20 6f70  red_tg (bool, op
-00017660: 7469 6f6e 616c 293a 2053 6574 2074 6f20  tional): Set to 
-00017670: 7472 7565 2069 6620 7769 7265 6428 5377  true if wired(Sw
-00017680: 6974 6368 2920 636f 6e66 6967 7572 6174  itch) configurat
-00017690: 696f 6e20 696e 2061 2067 726f 7570 2069  ion in a group i
-000176a0: 7320 6d61 6e61 6765 640a 2020 2020 2020  s managed.      
-000176b0: 2020 2020 2020 2020 2020 7573 696e 6720            using 
-000176c0: 7465 6d70 6c61 7465 732e 0a20 2020 2020  templates..     
-000176d0: 2020 2020 2020 2077 6c61 6e5f 7467 2028         wlan_tg (
-000176e0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
-000176f0: 2053 6574 2074 6f20 7472 7565 2069 6620   Set to true if 
-00017700: 7769 7265 6c65 7373 2849 4150 2c20 4761  wireless(IAP, Ga
-00017710: 7465 7761 7973 2920 636f 6e66 6967 7572  teways) configur
-00017720: 6174 696f 6e20 696e 2061 0a20 2020 2020  ation in a.     
-00017730: 2020 2020 2020 2020 2020 2067 726f 7570             group
-00017740: 2069 7320 6d61 6e61 6765 6420 7573 696e   is managed usin
-00017750: 6720 7465 6d70 6c61 7465 732e 0a20 2020  g templates..   
-00017760: 2020 2020 2020 2020 2061 6f73 3130 3a20           aos10: 
-00017770: 2862 6f6f 6c29 3a20 6966 2054 7275 6520  (bool): if True 
-00017780: 7573 6520 414f 5331 3020 6172 6368 6974  use AOS10 archit
-00017790: 6563 7475 7265 2066 6f72 2074 6865 2061  ecture for the a
-000177a0: 6363 6573 7320 706f 696e 7473 2061 6e64  ccess points and
-000177b0: 2067 6174 6577 6179 7320 696e 2074 6865   gateways in the
-000177c0: 2067 726f 7570 2e0a 2020 2020 2020 2020   group..        
-000177d0: 2020 2020 2020 2020 6465 6661 756c 7420          default 
-000177e0: 4661 6c73 6520 2849 6e73 7461 6e74 290a  False (Instant).
-000177f0: 2020 2020 2020 2020 2020 2020 6d69 6372              micr
-00017800: 6f62 7261 6e63 6820 2862 6f6f 6c29 3a20  obranch (bool): 
-00017810: 5472 7565 2074 6f20 656e 6162 6c65 204d  True to enable M
-00017820: 6963 726f 6272 616e 6368 206e 6574 776f  icrobranch netwo
-00017830: 726b 2072 6f6c 6520 666f 7220 4150 7320  rk role for APs 
-00017840: 6973 2061 7070 6c69 6361 626c 6520 6f6e  is applicable on
-00017850: 6c79 2066 6f72 2041 4f53 3130 2061 7263  ly for AOS10 arc
-00017860: 6869 7465 6374 7572 652e 0a20 2020 2020  hitecture..     
-00017870: 2020 2020 2020 2067 775f 726f 6c65 2028         gw_role (
-00017880: 4761 7465 7761 7952 6f6c 6529 3a20 4761  GatewayRole): Ga
-00017890: 7465 7761 7920 726f 6c65 2076 616c 6964  teway role valid
-000178a0: 2076 616c 7565 7320 2262 7261 6e63 6822   values "branch"
-000178b0: 2c20 2276 706e 6322 2c20 2277 6c61 6e22  , "vpnc", "wlan"
-000178c0: 2028 2277 6c61 6e22 206f 6e6c 7920 7661   ("wlan" only va
-000178d0: 6c69 6420 6f6e 2041 4f53 3130 2067 726f  lid on AOS10 gro
-000178e0: 7570 290a 2020 2020 2020 2020 2020 2020  up).            
-000178f0: 2020 2020 4465 6661 756c 743a 2022 6272      Default: "br
-00017900: 616e 6368 220a 2020 2020 2020 2020 2020  anch".          
-00017910: 2020 6d6f 6e69 746f 725f 6f6e 6c79 5f73    monitor_only_s
-00017920: 773a 204d 6f6e 6974 6f72 206f 6e6c 7920  w: Monitor only 
-00017930: 4172 7562 614f 532d 5357 2073 7769 7463  ArubaOS-SW switc
-00017940: 6865 732c 2061 7070 6c69 6573 2074 6f20  hes, applies to 
-00017950: 5549 2067 726f 7570 206f 6e6c 790a 2020  UI group only.  
-00017960: 2020 2020 2020 2020 2020 6d6f 6e69 746f            monito
-00017970: 725f 6f6e 6c79 5f63 783a 204d 6f6e 6974  r_only_cx: Monit
-00017980: 6f72 206f 6e6c 7920 4172 7562 614f 532d  or only ArubaOS-
-00017990: 4358 2073 7769 7463 6865 732c 2061 7070  CX switches, app
-000179a0: 6c69 6573 2074 6f20 5549 2067 726f 7570  lies to UI group
-000179b0: 206f 6e6c 7920 2846 7574 7572 6520 6361   only (Future ca
-000179c0: 7061 6269 6c69 7479 290a 0a20 2020 2020  pability)..     
-000179d0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-000179e0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-000179f0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-00017a00: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-00017a10: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00017a20: 2075 726c 203d 2022 2f63 6f6e 6669 6775   url = "/configu
-00017a30: 7261 7469 6f6e 2f76 332f 6772 6f75 7073  ration/v3/groups
-00017a40: 220a 0a20 2020 2020 2020 2067 775f 726f  "..        gw_ro
-00017a50: 6c65 5f64 6963 7420 3d20 7b0a 2020 2020  le_dict = {.    
-00017a60: 2020 2020 2020 2020 2262 7261 6e63 6822          "branch"
-00017a70: 3a20 2242 7261 6e63 6847 6174 6577 6179  : "BranchGateway
-00017a80: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-00017a90: 7670 6e63 223a 2022 5650 4e43 6f6e 6365  vpnc": "VPNConce
-00017aa0: 6e74 7261 746f 7222 2c0a 2020 2020 2020  ntrator",.      
-00017ab0: 2020 2020 2020 2277 6c61 6e22 3a20 2257        "wlan": "W
-00017ac0: 4c41 4e47 6174 6577 6179 222c 0a20 2020  LANGateway",.   
-00017ad0: 2020 2020 207d 0a20 2020 2020 2020 2064       }.        d
-00017ae0: 6576 5f74 7970 655f 6469 6374 203d 207b  ev_type_dict = {
-00017af0: 0a20 2020 2020 2020 2020 2020 2022 6170  .            "ap
-00017b00: 223a 2022 4163 6365 7373 506f 696e 7473  ": "AccessPoints
-00017b10: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-00017b20: 6777 223a 2022 4761 7465 7761 7973 222c  gw": "Gateways",
-00017b30: 0a20 2020 2020 2020 2020 2020 2022 7377  .            "sw
-00017b40: 6974 6368 223a 2022 5377 6974 6368 6573  itch": "Switches
-00017b50: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
-00017b60: 6378 223a 2022 5377 6974 6368 6573 222c  cx": "Switches",
-00017b70: 0a20 2020 2020 2020 2020 2020 2022 7377  .            "sw
-00017b80: 223a 2022 5377 6974 6368 6573 222c 0a20  ": "Switches",. 
-00017b90: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-00017ba0: 2020 6777 5f72 6f6c 6520 3d20 6777 5f72    gw_role = gw_r
-00017bb0: 6f6c 655f 6469 6374 2e67 6574 2867 775f  ole_dict.get(gw_
-00017bc0: 726f 6c65 2c20 2242 7261 6e63 6847 6174  role, "BranchGat
-00017bd0: 6577 6179 2229 0a0a 2020 2020 2020 2020  eway")..        
-00017be0: 616c 6c6f 7765 645f 7479 7065 7320 3d20  allowed_types = 
-00017bf0: 7574 696c 732e 6c69 7374 6966 7928 616c  utils.listify(al
-00017c00: 6c6f 7765 645f 7479 7065 7329 0a20 2020  lowed_types).   
-00017c10: 2020 2020 2061 6c6c 6f77 6564 5f73 7769       allowed_swi
-00017c20: 7463 685f 7479 7065 7320 3d20 5b5d 0a20  tch_types = []. 
-00017c30: 2020 2020 2020 2069 6620 2273 7769 7463         if "switc
-00017c40: 6822 2069 6e20 616c 6c6f 7765 645f 7479  h" in allowed_ty
-00017c50: 7065 7320 6f72 2028 2263 7822 2069 6e20  pes or ("cx" in 
-00017c60: 616c 6c6f 7765 645f 7479 7065 7320 616e  allowed_types an
-00017c70: 6420 2273 7722 2069 6e20 616c 6c6f 7765  d "sw" in allowe
-00017c80: 645f 7479 7065 7329 3a0a 2020 2020 2020  d_types):.      
-00017c90: 2020 2020 2020 616c 6c6f 7765 645f 7377        allowed_sw
-00017ca0: 6974 6368 5f74 7970 6573 202b 3d20 5b22  itch_types += ["
-00017cb0: 414f 535f 4358 222c 2022 414f 535f 5322  AOS_CX", "AOS_S"
-00017cc0: 5d0a 2020 2020 2020 2020 656c 6966 2022  ].        elif "
-00017cd0: 7377 2220 696e 2061 6c6c 6f77 6564 5f74  sw" in allowed_t
-00017ce0: 7970 6573 3a0a 2020 2020 2020 2020 2020  ypes:.          
-00017cf0: 2020 616c 6c6f 7765 645f 7377 6974 6368    allowed_switch
-00017d00: 5f74 7970 6573 202b 3d20 5b22 414f 535f  _types += ["AOS_
-00017d10: 5322 5d0a 2020 2020 2020 2020 656c 6966  S"].        elif
-00017d20: 2022 6378 2220 696e 2061 6c6c 6f77 6564   "cx" in allowed
-00017d30: 5f74 7970 6573 3a0a 2020 2020 2020 2020  _types:.        
-00017d40: 2020 2020 616c 6c6f 7765 645f 7377 6974      allowed_swit
-00017d50: 6368 5f74 7970 6573 202b 3d20 5b22 414f  ch_types += ["AO
-00017d60: 535f 4358 222c 2022 414f 535f 5322 5d0a  S_CX", "AOS_S"].
-00017d70: 0a20 2020 2020 2020 206d 6f6e 5f6f 6e6c  .        mon_onl
-00017d80: 795f 7377 6974 6368 6573 203d 205b 5d0a  y_switches = [].
-00017d90: 2020 2020 2020 2020 6966 206d 6f6e 6974          if monit
-00017da0: 6f72 5f6f 6e6c 795f 7377 3a0a 2020 2020  or_only_sw:.    
-00017db0: 2020 2020 2020 2020 6d6f 6e5f 6f6e 6c79          mon_only
-00017dc0: 5f73 7769 7463 6865 7320 2b3d 205b 2241  _switches += ["A
-00017dd0: 4f53 5f53 225d 0a20 2020 2020 2020 2069  OS_S"].        i
-00017de0: 6620 6d6f 6e69 746f 725f 6f6e 6c79 5f63  f monitor_only_c
-00017df0: 783a 0a20 2020 2020 2020 2020 2020 206c  x:.            l
-00017e00: 6f67 2e77 6172 6e69 6e67 2822 6d6f 6e69  og.warning("moni
-00017e10: 746f 725f 6f6e 6c79 5f63 7820 6e6f 7420  tor_only_cx not 
-00017e20: 7965 7420 7375 7070 6f72 7465 6420 6279  yet supported by
-00017e30: 2041 7275 6261 2043 656e 7472 616c 222c   Aruba Central",
-00017e40: 2073 686f 773d 5472 7565 290a 2020 2020   show=True).    
-00017e50: 2020 2020 2020 2020 2320 6d6f 6e5f 6f6e          # mon_on
-00017e60: 6c79 5f73 7769 7463 6865 7320 2b3d 205b  ly_switches += [
-00017e70: 2241 4f53 5f43 5822 5d0a 0a20 2020 2020  "AOS_CX"]..     
-00017e80: 2020 2061 6c6c 6f77 6564 5f74 7970 6573     allowed_types
-00017e90: 203d 206c 6973 7428 7365 7428 5b64 6576   = list(set([dev
-00017ea0: 5f74 7970 655f 6469 6374 2e67 6574 2874  _type_dict.get(t
-00017eb0: 2920 666f 7220 7420 696e 2061 6c6c 6f77  ) for t in allow
-00017ec0: 6564 5f74 7970 6573 5d29 290a 0a20 2020  ed_types]))..   
-00017ed0: 2020 2020 2069 6620 6d6f 6e5f 6f6e 6c79       if mon_only
-00017ee0: 5f73 7769 7463 6865 7320 616e 6420 2253  _switches and "S
-00017ef0: 7769 7463 6865 7322 206e 6f74 2069 6e20  witches" not in 
-00017f00: 616c 6c6f 7765 645f 7479 7065 733a 0a20  allowed_types:. 
-00017f10: 2020 2020 2020 2020 2020 206c 6f67 2e77             log.w
-00017f20: 6172 6e69 6e67 2822 6967 6e6f 7269 6e67  arning("ignoring
-00017f30: 206d 6f6e 6974 6f72 206f 6e6c 7920 7377   monitor only sw
-00017f40: 6974 6368 2073 6574 7469 6e67 2061 7320  itch setting as 
-00017f50: 6e6f 2073 7769 7463 6865 7320 7765 7265  no switches were
-00017f60: 2073 7065 6369 6669 6564 2061 7320 6265   specified as be
-00017f70: 696e 6720 616c 6c6f 7765 6420 696e 2067  ing allowed in g
-00017f80: 726f 7570 222c 2073 686f 773d 5472 7565  roup", show=True
-00017f90: 290a 0a20 2020 2020 2020 2069 6620 4e6f  )..        if No
-00017fa0: 6e65 2069 6e20 616c 6c6f 7765 645f 7479  ne in allowed_ty
-00017fb0: 7065 733a 0a20 2020 2020 2020 2020 2020  pes:.           
-00017fc0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-00017fd0: 7228 2749 6e76 616c 6964 2064 6576 6963  r('Invalid devic
-00017fe0: 6520 7479 7065 2066 6f72 2061 6c6c 6f77  e type for allow
-00017ff0: 6564 5f74 7970 6573 2076 616c 6964 2076  ed_types valid v
-00018000: 616c 7565 733a 2022 6170 222c 2022 6777  alues: "ap", "gw
-00018010: 222c 2022 7377 222c 2022 6378 222c 2022  ", "sw", "cx", "
-00018020: 7377 6974 6368 2227 290a 2020 2020 2020  switch"').      
-00018030: 2020 6966 206d 6963 726f 6272 616e 6368    if microbranch
-00018040: 2061 6e64 206e 6f74 2061 6f73 3130 3a0a   and not aos10:.
-00018050: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00018060: 6520 5661 6c75 6545 7272 6f72 2822 496e  e ValueError("In
-00018070: 7661 6c69 6420 636f 6d62 696e 6174 696f  valid combinatio
-00018080: 6e2c 2047 726f 7570 206d 7573 7420 6265  n, Group must be
-00018090: 2063 6f6e 6669 6775 7265 6420 6173 2041   configured as A
-000180a0: 4f53 3130 2067 726f 7570 2074 6f20 7375  OS10 group to su
-000180b0: 7070 6f72 7420 4d69 6372 6f62 7261 6e63  pport Microbranc
-000180c0: 6822 290a 2020 2020 2020 2020 2320 6966  h").        # if
-000180d0: 2077 6972 6564 5f74 6720 616e 6420 6d6f   wired_tg and mo
-000180e0: 6e69 746f 725f 6f6e 6c79 5f73 7720 6f72  nitor_only_sw or
-000180f0: 206d 6f6e 6974 6f72 5f6f 6e6c 795f 6378   monitor_only_cx
-00018100: 3a0a 2020 2020 2020 2020 6966 2077 6972  :.        if wir
-00018110: 6564 5f74 6720 616e 6420 6d6f 6e69 746f  ed_tg and monito
-00018120: 725f 6f6e 6c79 5f73 773a 0a20 2020 2020  r_only_sw:.     
-00018130: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
-00018140: 7565 4572 726f 7228 2249 6e76 616c 6964  ueError("Invalid
-00018150: 2063 6f6d 6269 6e61 7469 6f6e 2c20 4d6f   combination, Mo
-00018160: 6e69 746f 7220 4f6e 6c79 2069 7320 6e6f  nitor Only is no
-00018170: 7420 7661 6c69 6420 666f 7220 5465 6d70  t valid for Temp
-00018180: 6c61 7465 2047 726f 7570 2229 0a0a 2020  late Group")..  
-00018190: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-000181a0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-000181b0: 2267 726f 7570 223a 2067 726f 7570 2c0a  "group": group,.
-000181c0: 2020 2020 2020 2020 2020 2020 2267 726f              "gro
-000181d0: 7570 5f61 7474 7269 6275 7465 7322 3a20  up_attributes": 
-000181e0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-000181f0: 2020 2274 656d 706c 6174 655f 696e 666f    "template_info
-00018200: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
-00018210: 2020 2020 2020 2020 2022 5769 7265 6422           "Wired"
-00018220: 3a20 7769 7265 645f 7467 2c0a 2020 2020  : wired_tg,.    
-00018230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018240: 2257 6972 656c 6573 7322 3a20 776c 616e  "Wireless": wlan
-00018250: 5f74 670a 2020 2020 2020 2020 2020 2020  _tg.            
-00018260: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
-00018270: 2020 2020 2020 2022 6772 6f75 705f 7072         "group_pr
-00018280: 6f70 6572 7469 6573 223a 207b 0a20 2020  operties": {.   
-00018290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000182a0: 2022 416c 6c6f 7765 6444 6576 5479 7065   "AllowedDevType
-000182b0: 7322 3a20 616c 6c6f 7765 645f 7479 7065  s": allowed_type
-000182c0: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
-000182d0: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
-000182e0: 207d 0a20 2020 2020 2020 207d 0a20 2020   }.        }.   
-000182f0: 2020 2020 2069 6620 6777 5f72 6f6c 6520       if gw_role 
-00018300: 616e 6420 2247 6174 6577 6179 7322 2069  and "Gateways" i
-00018310: 6e20 616c 6c6f 7765 645f 7479 7065 733a  n allowed_types:
-00018320: 0a20 2020 2020 2020 2020 2020 206a 736f  .            jso
-00018330: 6e5f 6461 7461 5b22 6772 6f75 705f 6174  n_data["group_at
-00018340: 7472 6962 7574 6573 225d 5b22 6772 6f75  tributes"]["grou
-00018350: 705f 7072 6f70 6572 7469 6573 225d 5b22  p_properties"]["
-00018360: 4777 4e65 7477 6f72 6b52 6f6c 6522 5d20  GwNetworkRole"] 
-00018370: 3d20 6777 5f72 6f6c 650a 2020 2020 2020  = gw_role.      
-00018380: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
-00018390: 2267 726f 7570 5f61 7474 7269 6275 7465  "group_attribute
-000183a0: 7322 5d5b 2267 726f 7570 5f70 726f 7065  s"]["group_prope
-000183b0: 7274 6965 7322 5d5b 2241 7263 6869 7465  rties"]["Archite
-000183c0: 6374 7572 6522 5d20 3d20 5c0a 2020 2020  cture"] = \.    
-000183d0: 2020 2020 2020 2020 2020 2020 2249 6e73              "Ins
-000183e0: 7461 6e74 2220 6966 206e 6f74 2061 6f73  tant" if not aos
-000183f0: 3130 2065 6c73 6520 2241 4f53 3130 220a  10 else "AOS10".
-00018400: 2020 2020 2020 2020 6966 2022 4163 6365          if "Acce
-00018410: 7373 506f 696e 7473 2220 696e 2061 6c6c  ssPoints" in all
-00018420: 6f77 6564 5f74 7970 6573 3a0a 2020 2020  owed_types:.    
-00018430: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-00018440: 615b 2267 726f 7570 5f61 7474 7269 6275  a["group_attribu
-00018450: 7465 7322 5d5b 2267 726f 7570 5f70 726f  tes"]["group_pro
-00018460: 7065 7274 6965 7322 5d5b 2241 704e 6574  perties"]["ApNet
-00018470: 776f 726b 526f 6c65 225d 203d 205c 0a20  workRole"] = \. 
-00018480: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00018490: 5374 616e 6461 7264 2220 6966 206e 6f74  Standard" if not
-000184a0: 206d 6963 726f 6272 616e 6368 2065 6c73   microbranch els
-000184b0: 6520 224d 6963 726f 6272 616e 6368 220a  e "Microbranch".
-000184c0: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
-000184d0: 5f64 6174 615b 2267 726f 7570 5f61 7474  _data["group_att
-000184e0: 7269 6275 7465 7322 5d5b 2267 726f 7570  ributes"]["group
-000184f0: 5f70 726f 7065 7274 6965 7322 5d5b 2241  _properties"]["A
-00018500: 7263 6869 7465 6374 7572 6522 5d20 3d20  rchitecture"] = 
-00018510: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
-00018520: 2020 2249 6e73 7461 6e74 2220 6966 206e    "Instant" if n
-00018530: 6f74 2061 6f73 3130 2065 6c73 6520 2241  ot aos10 else "A
-00018540: 4f53 3130 220a 2020 2020 2020 2020 6966  OS10".        if
-00018550: 2022 5377 6974 6368 6573 2220 696e 2061   "Switches" in a
-00018560: 6c6c 6f77 6564 5f74 7970 6573 3a0a 2020  llowed_types:.  
-00018570: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
-00018580: 6174 615b 2267 726f 7570 5f61 7474 7269  ata["group_attri
-00018590: 6275 7465 7322 5d5b 2267 726f 7570 5f70  butes"]["group_p
-000185a0: 726f 7065 7274 6965 7322 5d5b 2241 6c6c  roperties"]["All
-000185b0: 6f77 6564 5377 6974 6368 5479 7065 7322  owedSwitchTypes"
-000185c0: 5d20 3d20 5c0a 2020 2020 2020 2020 2020  ] = \.          
-000185d0: 2020 2020 2020 616c 6c6f 7765 645f 7377        allowed_sw
-000185e0: 6974 6368 5f74 7970 6573 0a20 2020 2020  itch_types.     
-000185f0: 2020 2020 2020 2069 6620 6d6f 6e5f 6f6e         if mon_on
-00018600: 6c79 5f73 7769 7463 6865 733a 0a20 2020  ly_switches:.   
-00018610: 2020 2020 2020 2020 2020 2020 206a 736f               jso
-00018620: 6e5f 6461 7461 5b22 6772 6f75 705f 6174  n_data["group_at
-00018630: 7472 6962 7574 6573 225d 5b22 6772 6f75  tributes"]["grou
-00018640: 705f 7072 6f70 6572 7469 6573 225d 5b22  p_properties"]["
-00018650: 4d6f 6e69 746f 724f 6e6c 7922 5d20 3d20  MonitorOnly"] = 
-00018660: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
-00018670: 2020 2020 2020 6d6f 6e5f 6f6e 6c79 5f73        mon_only_s
-00018680: 7769 7463 6865 730a 0a20 2020 2020 2020  witches..       
-00018690: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-000186a0: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-000186b0: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-000186c0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-000186d0: 2063 6c6f 6e65 5f67 726f 7570 280a 2020   clone_group(.  
-000186e0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-000186f0: 2020 2020 636c 6f6e 655f 6772 6f75 703a      clone_group:
-00018700: 2073 7472 2c0a 2020 2020 2020 2020 6e65   str,.        ne
-00018710: 775f 6772 6f75 703a 2073 7472 2c0a 2020  w_group: str,.  
-00018720: 2020 2020 2020 7570 6772 6164 655f 616f        upgrade_ao
-00018730: 7331 303a 2062 6f6f 6c20 3d20 4661 6c73  s10: bool = Fals
-00018740: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
-00018750: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00018760: 2243 6c6f 6e65 2061 6e64 2063 7265 6174  "Clone and creat
-00018770: 6520 6e65 7720 6772 6f75 702e 0a0a 2020  e new group...  
-00018780: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00018790: 2020 2020 2020 2020 636c 6f6e 655f 6772          clone_gr
-000187a0: 6f75 7020 2873 7472 293a 2047 726f 7570  oup (str): Group
-000187b0: 2074 6f20 6265 2063 6c6f 6e65 642e 0a20   to be cloned.. 
-000187c0: 2020 2020 2020 2020 2020 206e 6577 5f67             new_g
-000187d0: 726f 7570 2028 7374 7229 3a20 4e61 6d65  roup (str): Name
-000187e0: 206f 6620 6772 6f75 7020 746f 2062 6520   of group to be 
-000187f0: 6372 6561 7465 6420 6261 7365 6420 6f6e  created based on
-00018800: 2063 6c6f 6e65 2e0a 2020 2020 2020 2020   clone..        
-00018810: 2020 2020 7570 6772 6164 655f 616f 7331      upgrade_aos1
-00018820: 3020 2862 6f6f 6c29 3a20 5365 7420 5472  0 (bool): Set Tr
-00018830: 7565 2074 6f20 5570 6461 7465 2074 6865  ue to Update the
-00018840: 206e 6577 2063 6c6f 6e65 6420 6772 6f75   new cloned grou
-00018850: 7020 746f 2041 4f53 3130 2e0a 0a20 2020  p to AOS10...   
-00018860: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-00018870: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-00018880: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-00018890: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-000188a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000188b0: 2020 2075 726c 203d 2022 2f63 6f6e 6669     url = "/confi
-000188c0: 6775 7261 7469 6f6e 2f76 322f 6772 6f75  guration/v2/grou
-000188d0: 7073 2f63 6c6f 6e65 220a 0a20 2020 2020  ps/clone"..     
-000188e0: 2020 2069 6620 7570 6772 6164 655f 616f     if upgrade_ao
-000188f0: 7331 303a 0a20 2020 2020 2020 2020 2020  s10:.           
-00018900: 206c 6f67 2e77 6172 6e69 6e67 280a 2020   log.warning(.  
-00018910: 2020 2020 2020 2020 2020 2020 2020 2247                "G
-00018920: 726f 7570 206d 6179 206e 6f74 2062 6520  roup may not be 
-00018930: 7570 6772 6164 6564 2074 6f20 414f 5331  upgraded to AOS1
-00018940: 302c 2041 5049 206d 6574 686f 6420 6170  0, API method ap
-00018950: 7065 6172 7320 746f 2068 6176 6520 736f  pears to have so
-00018960: 6d65 2063 6176 6561 7473 2e2e 2e20 446f  me caveats... Do
-00018970: 6573 6e27 7420 616c 7761 7973 2077 6f72  esn't always wor
-00018980: 6b2e 220a 2020 2020 2020 2020 2020 2020  k.".            
-00018990: 290a 0a20 2020 2020 2020 206a 736f 6e5f  )..        json_
-000189a0: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
-000189b0: 2020 2020 2027 6772 6f75 7027 3a20 6e65       'group': ne
-000189c0: 775f 6772 6f75 702c 0a20 2020 2020 2020  w_group,.       
-000189d0: 2020 2020 2027 636c 6f6e 655f 6772 6f75       'clone_grou
-000189e0: 7027 3a20 636c 6f6e 655f 6772 6f75 702c  p': clone_group,
-000189f0: 0a20 2020 2020 2020 2020 2020 2027 7570  .            'up
-00018a00: 6772 6164 655f 6172 6368 6974 6563 7475  grade_architectu
-00018a10: 7265 273a 2075 7067 7261 6465 5f61 6f73  re': upgrade_aos
-00018a20: 3130 2c0a 2020 2020 2020 2020 7d0a 0a20  10,.        }.. 
-00018a30: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00018a40: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
-00018a50: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
-00018a60: 6e5f 6461 7461 290a 0a20 2020 2023 2041  n_data)..    # A
-00018a70: 5049 2d46 4c41 5720 6164 6420 6170 2061  PI-FLAW add ap a
-00018a80: 6e64 2067 7720 746f 2067 726f 7570 2077  nd gw to group w
-00018a90: 6974 6820 6777 2d72 6f6c 6520 6173 2077  ith gw-role as w
-00018aa0: 6c61 6e20 616e 6420 7570 6772 6164 6520  lan and upgrade 
-00018ab0: 746f 2061 6f73 3130 2e20 2052 6574 7572  to aos10.  Retur
-00018ac0: 6e73 2032 3030 2c20 6275 7420 6e6f 2063  ns 200, but no c
-00018ad0: 6861 6e67 6573 206d 6164 650a 2020 2020  hanges made.    
-00018ae0: 6173 796e 6320 6465 6620 7570 6461 7465  async def update
-00018af0: 5f67 726f 7570 5f70 726f 7065 7274 6965  _group_propertie
-00018b00: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-00018b10: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
-00018b20: 7374 722c 0a20 2020 2020 2020 2061 6c6c  str,.        all
-00018b30: 6f77 6564 5f74 7970 6573 3a20 556e 696f  owed_types: Unio
-00018b40: 6e5b 636f 6e73 7461 6e74 732e 416c 6c44  n[constants.AllD
-00018b50: 6576 5479 7065 732c 204c 6973 745b 636f  evTypes, List[co
-00018b60: 6e73 7461 6e74 732e 416c 6c44 6576 5479  nstants.AllDevTy
-00018b70: 7065 735d 5d20 3d20 4e6f 6e65 2c0a 2020  pes]] = None,.  
-00018b80: 2020 2020 2020 7769 7265 645f 7467 3a20        wired_tg: 
-00018b90: 626f 6f6c 203d 204e 6f6e 652c 0a20 2020  bool = None,.   
-00018ba0: 2020 2020 2077 6c61 6e5f 7467 3a20 626f       wlan_tg: bo
-00018bb0: 6f6c 203d 204e 6f6e 652c 0a20 2020 2020  ol = None,.     
-00018bc0: 2020 2061 6f73 3130 3a20 626f 6f6c 203d     aos10: bool =
-00018bd0: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
-00018be0: 6963 726f 6272 616e 6368 3a20 626f 6f6c  icrobranch: bool
-00018bf0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00018c00: 2067 775f 726f 6c65 3a20 636f 6e73 7461   gw_role: consta
-00018c10: 6e74 732e 4761 7465 7761 7952 6f6c 6520  nts.GatewayRole 
-00018c20: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00018c30: 6d6f 6e69 746f 725f 6f6e 6c79 5f73 773a  monitor_only_sw:
-00018c40: 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020   bool = None,.  
-00018c50: 2020 2020 2020 6d6f 6e69 746f 725f 6f6e        monitor_on
-00018c60: 6c79 5f63 783a 2062 6f6f 6c20 3d20 4e6f  ly_cx: bool = No
-00018c70: 6e65 2c20 2023 204e 6f74 2073 7570 706f  ne,  # Not suppo
-00018c80: 7274 6564 2062 7920 6365 6e74 7261 6c20  rted by central 
-00018c90: 7965 740a 2020 2020 2920 2d3e 2052 6573  yet.    ) -> Res
-00018ca0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-00018cb0: 2222 5570 6461 7465 2070 726f 7065 7274  ""Update propert
-00018cc0: 6965 7320 666f 7220 7468 6520 6769 7665  ies for the give
-00018cd0: 6e20 6772 6f75 702e 0a0a 2020 2020 2020  n group...      
-00018ce0: 2020 2f2f 2055 7365 6420 6279 2075 7064    // Used by upd
-00018cf0: 6174 6520 6772 6f75 7020 2f2f 0a0a 2020  ate group //..  
-00018d00: 2020 2020 2020 2d20 5468 6520 7570 6461        - The upda
-00018d10: 7465 206f 6620 7065 7273 6f6e 6120 616e  te of persona an
-00018d20: 6420 636f 6e66 6967 7572 6174 696f 6e20  d configuration 
-00018d30: 6d6f 6465 2073 6574 2066 6f72 2065 7869  mode set for exi
-00018d40: 7374 696e 6720 6465 7669 6365 2074 7970  sting device typ
-00018d50: 6573 2069 7320 6e6f 7420 7065 726d 6974  es is not permit
-00018d60: 7465 642e 0a20 2020 2020 2020 202d 2043  ted..        - C
-00018d70: 616e 2075 7064 6174 6520 6672 6f6d 2073  an update from s
-00018d80: 7461 6e64 6172 6420 4150 2074 6f20 4d69  tandard AP to Mi
-00018d90: 6372 6f42 7261 6e63 682c 2062 7574 2063  croBranch, but c
-00018da0: 616e 2774 2067 6f20 6261 636b 0a20 2020  an't go back.   
-00018db0: 2020 2020 202d 2043 616e 2075 7064 6174       - Can updat
-00018dc0: 6520 746f 2041 4f53 3130 2c20 6275 7420  e to AOS10, but 
-00018dd0: 6361 6e27 7420 676f 2062 6163 6b0a 2020  can't go back.  
-00018de0: 2020 2020 2020 2d20 4361 6e20 4164 6420        - Can Add 
-00018df0: 416c 6c6f 7765 6420 4465 7669 6365 2054  Allowed Device T
-00018e00: 7970 6573 2c20 6275 7420 6361 6e27 7420  ypes, but can't 
-00018e10: 7265 6d6f 7665 2e0a 2020 2020 2020 2020  remove..        
-00018e20: 2d20 4361 6e20 4164 6420 416c 6c6f 7765  - Can Add Allowe
-00018e30: 6420 5377 6974 6368 2054 7970 6573 2c20  d Switch Types, 
-00018e40: 6275 7420 6361 6e27 7420 7265 6d6f 7665  but can't remove
-00018e50: 2e0a 2020 2020 2020 2020 2d20 4361 6e20  ..        - Can 
-00018e60: 6f6e 6c79 2063 6861 6e67 6520 6d6f 6e5f  only change mon_
-00018e70: 6f6e 6c79 5f73 7720 616e 6420 7769 7265  only_sw and wire
-00018e80: 645f 7467 2077 6865 6e20 6164 6469 6e67  d_tg when adding
-00018e90: 2073 7769 7463 6865 7320 2863 782c 2073   switches (cx, s
-00018ea0: 7729 2074 6f20 616c 6c6f 7765 645f 6465  w) to allowed_de
-00018eb0: 7669 6365 5f74 7970 6573 0a0a 0a20 2020  vice_types...   
-00018ec0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00018ed0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-00018ee0: 7229 3a20 4772 6f75 7020 4e61 6d65 0a20  r): Group Name. 
-00018ef0: 2020 2020 2020 2020 2020 2061 6c6c 6f77             allow
-00018f00: 6564 5f74 7970 6573 2028 7374 722c 204c  ed_types (str, L
-00018f10: 6973 745b 7374 725d 293a 2041 6c6c 6f77  ist[str]): Allow
-00018f20: 6564 2044 6576 6963 6520 5479 7065 7320  ed Device Types 
-00018f30: 696e 2074 6865 2067 726f 7570 2e20 5461  in the group. Ta
-00018f40: 6273 2066 6f72 2064 6576 6963 6573 206e  bs for devices n
-00018f50: 6f74 2061 6c6c 6f77 6564 0a20 2020 2020  ot allowed.     
-00018f60: 2020 2020 2020 2020 2020 2077 6f6e 2774             won't
-00018f70: 2064 6973 706c 6179 2069 6e20 5549 2e20   display in UI. 
-00018f80: 2076 616c 6964 2076 616c 7565 7320 2261   valid values "a
-00018f90: 7022 2c20 2267 7722 2c20 2263 7822 2c20  p", "gw", "cx", 
-00018fa0: 2273 7722 2c20 2273 7769 7463 6822 0a20  "sw", "switch". 
-00018fb0: 2020 2020 2020 2020 2020 2020 2020 2028                 (
-00018fc0: 2273 7769 7463 6822 2069 7320 6765 6e65  "switch" is gene
-00018fd0: 7269 632c 2077 696c 6c20 656e 6162 6c65  ric, will enable
-00018fe0: 2062 6f74 6820 6378 2061 6e64 2073 7729   both cx and sw)
-00018ff0: 0a20 2020 2020 2020 2020 2020 2077 6972  .            wir
-00019000: 6564 5f74 6720 2862 6f6f 6c2c 206f 7074  ed_tg (bool, opt
-00019010: 696f 6e61 6c29 3a20 5365 7420 746f 2074  ional): Set to t
-00019020: 7275 6520 6966 2077 6972 6564 2853 7769  rue if wired(Swi
-00019030: 7463 6829 2063 6f6e 6669 6775 7261 7469  tch) configurati
-00019040: 6f6e 2069 6e20 6120 6772 6f75 7020 6973  on in a group is
-00019050: 206d 616e 6167 6564 0a20 2020 2020 2020   managed.       
-00019060: 2020 2020 2020 2020 2075 7369 6e67 2074           using t
-00019070: 656d 706c 6174 6573 2e0a 2020 2020 2020  emplates..      
-00019080: 2020 2020 2020 776c 616e 5f74 6720 2862        wlan_tg (b
-00019090: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-000190a0: 5365 7420 746f 2074 7275 6520 6966 2077  Set to true if w
-000190b0: 6972 656c 6573 7328 4941 502c 2047 6174  ireless(IAP, Gat
-000190c0: 6577 6179 7329 2063 6f6e 6669 6775 7261  eways) configura
-000190d0: 7469 6f6e 2069 6e20 610a 2020 2020 2020  tion in a.      
-000190e0: 2020 2020 2020 2020 2020 6772 6f75 7020            group 
-000190f0: 6973 206d 616e 6167 6564 2075 7369 6e67  is managed using
-00019100: 2074 656d 706c 6174 6573 2e0a 2020 2020   templates..    
-00019110: 2020 2020 2020 2020 616f 7331 303a 2028          aos10: (
-00019120: 626f 6f6c 293a 2069 6620 5472 7565 2075  bool): if True u
-00019130: 7365 2041 4f53 3130 2061 7263 6869 7465  se AOS10 archite
-00019140: 6374 7572 6520 666f 7220 7468 6520 6163  cture for the ac
-00019150: 6365 7373 2070 6f69 6e74 7320 616e 6420  cess points and 
-00019160: 6761 7465 7761 7973 2069 6e20 7468 6520  gateways in the 
-00019170: 6772 6f75 702e 0a20 2020 2020 2020 2020  group..         
-00019180: 2020 2020 2020 2064 6566 6175 6c74 2046         default F
-00019190: 616c 7365 2028 496e 7374 616e 7429 0a20  alse (Instant). 
-000191a0: 2020 2020 2020 2020 2020 206d 6963 726f             micro
-000191b0: 6272 616e 6368 2028 626f 6f6c 293a 2054  branch (bool): T
-000191c0: 7275 6520 746f 2065 6e61 626c 6520 4d69  rue to enable Mi
-000191d0: 6372 6f62 7261 6e63 6820 6e65 7477 6f72  crobranch networ
-000191e0: 6b20 726f 6c65 2066 6f72 2041 5073 2069  k role for APs i
-000191f0: 7320 6170 706c 6963 6162 6c65 206f 6e6c  s applicable onl
-00019200: 7920 666f 7220 414f 5331 3020 6172 6368  y for AOS10 arch
-00019210: 6974 6563 7475 7265 2e0a 2020 2020 2020  itecture..      
-00019220: 2020 2020 2020 6777 5f72 6f6c 6520 2847        gw_role (G
-00019230: 6174 6577 6179 526f 6c65 293a 2047 6174  atewayRole): Gat
-00019240: 6577 6179 2072 6f6c 6520 7661 6c69 6420  eway role valid 
-00019250: 7661 6c75 6573 2022 6272 616e 6368 222c  values "branch",
-00019260: 2022 7670 6e63 222c 2022 776c 616e 2220   "vpnc", "wlan" 
-00019270: 2822 776c 616e 2220 6f6e 6c79 2076 616c  ("wlan" only val
-00019280: 6964 206f 6e20 414f 5331 3020 6772 6f75  id on AOS10 grou
-00019290: 7029 0a20 2020 2020 2020 2020 2020 206d  p).            m
-000192a0: 6f6e 6974 6f72 5f6f 6e6c 795f 7377 3a20  onitor_only_sw: 
-000192b0: 4d6f 6e69 746f 7220 6f6e 6c79 2041 7275  Monitor only Aru
-000192c0: 6261 4f53 2d53 5720 7377 6974 6368 6573  baOS-SW switches
-000192d0: 2c20 6170 706c 6965 7320 746f 2055 4920  , applies to UI 
-000192e0: 6772 6f75 7020 6f6e 6c79 0a20 2020 2020  group only.     
-000192f0: 2020 2020 2020 206d 6f6e 6974 6f72 5f6f         monitor_o
-00019300: 6e6c 795f 6378 3a20 4d6f 6e69 746f 7220  nly_cx: Monitor 
-00019310: 6f6e 6c79 2041 7275 6261 4f53 2d43 5820  only ArubaOS-CX 
-00019320: 7377 6974 6368 6573 2c20 6170 706c 6965  switches, applie
-00019330: 7320 746f 2055 4920 6772 6f75 7020 6f6e  s to UI group on
-00019340: 6c79 2028 4675 7475 7265 2063 6170 6162  ly (Future capab
-00019350: 696c 6974 7929 0a0a 2020 2020 2020 2020  ility)..        
-00019360: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00019370: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00019380: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00019390: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-000193a0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-000193b0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-000193c0: 7469 6f6e 2f76 322f 6772 6f75 7073 2f7b  tion/v2/groups/{
-000193d0: 6772 6f75 707d 2f70 726f 7065 7274 6965  group}/propertie
-000193e0: 7322 0a0a 2020 2020 2020 2020 7265 7370  s"..        resp
-000193f0: 203d 2061 7761 6974 2073 656c 662e 6765   = await self.ge
-00019400: 745f 6772 6f75 7073 5f70 726f 7065 7274  t_groups_propert
-00019410: 6965 7328 6772 6f75 7029 0a20 2020 2020  ies(group).     
-00019420: 2020 2069 6620 7265 7370 3a0a 2020 2020     if resp:.    
-00019430: 2020 2020 2020 2020 6966 206e 6f74 2069          if not i
-00019440: 7369 6e73 7461 6e63 6528 7265 7370 2e6f  sinstance(resp.o
-00019450: 7574 7075 742c 206c 6973 7429 3a0a 2020  utput, list):.  
-00019460: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00019470: 6973 6520 5661 6c75 6545 7272 6f72 2866  ise ValueError(f
-00019480: 2245 7870 6563 7465 6420 6c69 7374 206f  "Expected list o
-00019490: 6620 6469 6374 7320 6672 6f6d 2067 6574  f dicts from get
-000194a0: 5f67 726f 7570 735f 7072 6f70 6572 7469  _groups_properti
-000194b0: 6573 2067 6f74 207b 7479 7065 2872 6573  es got {type(res
-000194c0: 702e 6f75 7470 7574 297d 2229 0a20 2020  p.output)}").   
-000194d0: 2020 2020 2020 2020 2063 7572 5f67 726f           cur_gro
-000194e0: 7570 5f70 726f 7073 203d 2072 6573 702e  up_props = resp.
-000194f0: 6f75 7470 7574 5b2d 315d 5b22 7072 6f70  output[-1]["prop
-00019500: 6572 7469 6573 225d 0a20 2020 2020 2020  erties"].       
-00019510: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00019520: 2020 206c 6f67 2e65 7272 6f72 2866 2255     log.error(f"U
-00019530: 6e61 626c 6520 746f 2070 6572 666f 726d  nable to perform
-00019540: 2063 616c 6c20 746f 2075 7064 6174 6520   call to update 
-00019550: 6772 6f75 7020 7b67 726f 7570 7d20 7072  group {group} pr
-00019560: 6f70 6572 7469 6573 2e20 2043 616c 6c20  operties.  Call 
-00019570: 746f 2067 6574 2063 7572 7265 6e74 2070  to get current p
-00019580: 726f 7065 7274 6965 7320 6661 696c 6564  roperties failed
-00019590: 2e22 290a 2020 2020 2020 2020 2020 2020  .").            
-000195a0: 7265 7475 726e 2072 6573 700a 0a20 2020  return resp..   
-000195b0: 2020 2020 2069 6620 6375 725f 6772 6f75       if cur_grou
-000195c0: 705f 7072 6f70 735b 2241 4f53 5665 7273  p_props["AOSVers
-000195d0: 696f 6e22 5d20 3d3d 2022 414f 535f 3130  ion"] == "AOS_10
-000195e0: 5822 2061 6e64 2061 6f73 3130 2069 7320  X" and aos10 is 
-000195f0: 4661 6c73 653a 0a20 2020 2020 2020 2020  False:.         
-00019600: 2020 2072 6574 7572 6e20 5265 7370 6f6e     return Respon
-00019610: 7365 280a 2020 2020 2020 2020 2020 2020  se(.            
-00019620: 2020 2020 6572 726f 723d 6622 7b67 726f      error=f"{gro
-00019630: 7570 7d20 6973 2063 7572 7265 6e74 6c79  up} is currently
-00019640: 2061 6e20 414f 5331 3020 6772 6f75 702e   an AOS10 group.
-00019650: 2020 5570 6772 6164 696e 6720 746f 2041    Upgrading to A
-00019660: 4f53 3130 2069 7320 7375 7070 6f72 7465  OS10 is supporte
-00019670: 642c 2072 6576 6572 7469 6e67 2062 6163  d, reverting bac
-00019680: 6b20 6973 206e 6f74 2e22 2c0a 2020 2020  k is not.",.    
-00019690: 2020 2020 2020 2020 2020 2020 726c 5f73              rl_s
-000196a0: 7472 3d72 6573 702e 726c 2c0a 2020 2020  tr=resp.rl,.    
-000196b0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-000196c0: 2020 6966 2061 6f73 3130 2069 7320 5472    if aos10 is Tr
-000196d0: 7565 3a0a 2020 2020 2020 2020 2020 2020  ue:.            
-000196e0: 6966 2022 4163 6365 7373 506f 696e 7473  if "AccessPoints
-000196f0: 2220 696e 2063 7572 5f67 726f 7570 5f70  " in cur_group_p
-00019700: 726f 7073 5b22 416c 6c6f 7765 6444 6576  rops["AllowedDev
-00019710: 5479 7065 7322 5d20 6f72 205c 0a20 2020  Types"] or \.   
-00019720: 2020 2020 2020 2020 2020 2020 2022 4761               "Ga
-00019730: 7465 7761 7973 2220 696e 2063 7572 5f67  teways" in cur_g
-00019740: 726f 7570 5f70 726f 7073 5b22 416c 6c6f  roup_props["Allo
-00019750: 7765 6444 6576 5479 7065 7322 5d3a 0a20  wedDevTypes"]:. 
-00019760: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00019770: 6574 7572 6e20 5265 7370 6f6e 7365 280a  eturn Response(.
-00019780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019790: 2020 2020 6572 726f 723d 6622 7b63 6f6c      error=f"{col
-000197a0: 6f72 2827 414f 5331 3027 297d 2063 616e  or('AOS10')} can
-000197b0: 206f 6e6c 7920 6265 2073 6574 2077 6865   only be set whe
-000197c0: 6e20 4150 7320 6f72 2047 5773 2061 7265  n APs or GWs are
-000197d0: 2069 6e69 7469 616c 6c79 2061 6464 6564   initially added
-000197e0: 2074 6f20 616c 6c6f 7765 645f 7479 7065   to allowed_type
-000197f0: 7320 6f66 2067 726f 7570 220a 2020 2020  s of group".    
-00019800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019810: 2020 2020 2020 6622 5c6e 7b63 6f6c 6f72        f"\n{color
-00019820: 2867 726f 7570 297d 2063 616e 2062 6520  (group)} can be 
-00019830: 636c 6f6e 6564 2077 6974 6820 6f70 7469  cloned with opti
-00019840: 6f6e 2074 6f20 7570 6772 6164 6520 6475  on to upgrade du
-00019850: 7269 6e67 2063 6c6f 6e65 2e22 2c0a 2020  ring clone.",.  
-00019860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019870: 2020 726c 5f73 7472 3d72 6573 702e 726c    rl_str=resp.rl
-00019880: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00019890: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
-000198a0: 2241 6363 6573 7350 6f69 6e74 7322 2069  "AccessPoints" i
-000198b0: 6e20 6375 725f 6772 6f75 705f 7072 6f70  n cur_group_prop
-000198c0: 735b 2241 6c6c 6f77 6564 4465 7654 7970  s["AllowedDevTyp
-000198d0: 6573 225d 3a0a 2020 2020 2020 2020 2020  es"]:.          
-000198e0: 2020 6966 206d 6963 726f 6272 616e 6368    if microbranch
-000198f0: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-00019900: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00019910: 7475 726e 2052 6573 706f 6e73 6528 0a20  turn Response(. 
-00019920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019930: 2020 2065 7272 6f72 3d66 227b 6772 6f75     error=f"{grou
-00019940: 707d 2061 6c72 6561 6479 2061 6c6c 6f77  p} already allow
-00019950: 7320 4150 732e 2020 4d69 6372 6f62 7261  s APs.  Microbra
-00019960: 6e63 682f 5374 616e 6461 7264 2041 5020  nch/Standard AP 
-00019970: 6361 6e20 6f6e 6c79 2062 6520 7365 7420  can only be set 
-00019980: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00019990: 2020 2020 2020 2020 2020 2020 2277 6865              "whe
-000199a0: 6e20 696e 6974 6961 6c6c 7920 6164 6469  n initially addi
-000199b0: 6e67 2041 5073 2074 6f20 616c 6c6f 7765  ng APs to allowe
-000199c0: 645f 7479 7065 7320 6f66 2067 726f 7570  d_types of group
-000199d0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-000199e0: 2020 2020 2020 2072 6c5f 7374 723d 7265         rl_str=re
-000199f0: 7370 2e72 6c2c 0a20 2020 2020 2020 2020  sp.rl,.         
-00019a00: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00019a10: 2069 6620 6d6f 6e69 746f 725f 6f6e 6c79   if monitor_only
-00019a20: 5f73 7720 6973 2046 616c 7365 2061 6e64  _sw is False and
-00019a30: 2022 414f 535f 5322 2069 6e20 6375 725f   "AOS_S" in cur_
-00019a40: 6772 6f75 705f 7072 6f70 735b 2241 6c6c  group_props["All
-00019a50: 6f77 6564 5377 6974 6368 5479 7065 7322  owedSwitchTypes"
-00019a60: 5d3a 0a20 2020 2020 2020 2020 2020 2072  ]:.            r
-00019a70: 6574 7572 6e20 5265 7370 6f6e 7365 280a  eturn Response(.
-00019a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019a90: 6572 726f 723d 6622 7b67 726f 7570 7d20  error=f"{group} 
-00019aa0: 616c 7265 6164 7920 616c 6c6f 7773 2041  already allows A
-00019ab0: 4f53 2d53 572e 2020 4d6f 6e69 746f 7220  OS-SW.  Monitor 
-00019ac0: 4f6e 6c79 2063 616e 206f 6e6c 7920 6265  Only can only be
-00019ad0: 2073 6574 2022 0a20 2020 2020 2020 2020   set ".         
-00019ae0: 2020 2020 2020 2020 2020 2020 2022 7768               "wh
-00019af0: 656e 2069 6e69 7469 616c 6c79 2061 6464  en initially add
-00019b00: 696e 6720 414f 532d 5357 2074 6f20 616c  ing AOS-SW to al
-00019b10: 6c6f 7765 645f 7479 7065 7320 6f66 2067  lowed_types of g
-00019b20: 726f 7570 222c 0a20 2020 2020 2020 2020  roup",.         
-00019b30: 2020 2020 2020 2072 6c5f 7374 723d 7265         rl_str=re
-00019b40: 7370 2e72 6c2c 0a20 2020 2020 2020 2020  sp.rl,.         
-00019b50: 2020 2029 0a20 2020 2020 2020 2069 6620     ).        if 
-00019b60: 6d6f 6e69 746f 725f 6f6e 6c79 5f63 7820  monitor_only_cx 
-00019b70: 6973 2046 616c 7365 2061 6e64 2022 414f  is False and "AO
-00019b80: 535f 4358 2220 696e 2063 7572 5f67 726f  S_CX" in cur_gro
-00019b90: 7570 5f70 726f 7073 5b22 416c 6c6f 7765  up_props["Allowe
-00019ba0: 6453 7769 7463 6854 7970 6573 225d 3a0a  dSwitchTypes"]:.
-00019bb0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
-00019bc0: 726e 2052 6573 706f 6e73 6528 0a20 2020  rn Response(.   
-00019bd0: 2020 2020 2020 2020 2020 2020 2065 7272               err
-00019be0: 6f72 3d66 227b 6772 6f75 707d 2061 6c72  or=f"{group} alr
-00019bf0: 6561 6479 2061 6c6c 6f77 7320 414f 532d  eady allows AOS-
-00019c00: 4358 2e20 204d 6f6e 6974 6f72 204f 6e6c  CX.  Monitor Onl
-00019c10: 7920 6361 6e20 6f6e 6c79 2062 6520 7365  y can only be se
-00019c20: 7420 220a 2020 2020 2020 2020 2020 2020  t ".            
-00019c30: 2020 2020 2020 2020 2020 2277 6865 6e20            "when 
-00019c40: 696e 6974 6961 6c6c 7920 6164 6469 6e67  initially adding
-00019c50: 2041 4f53 2d43 5820 746f 2061 6c6c 6f77   AOS-CX to allow
-00019c60: 6564 5f74 7970 6573 206f 6620 6772 6f75  ed_types of grou
-00019c70: 7022 2c0a 2020 2020 2020 2020 2020 2020  p",.            
-00019c80: 2020 2020 726c 5f73 7472 3d72 6573 702e      rl_str=resp.
-00019c90: 726c 2c0a 2020 2020 2020 2020 2020 2020  rl,.            
-00019ca0: 290a 0a20 2020 2020 2020 2061 6c6c 6f77  )..        allow
-00019cb0: 6564 5f74 7970 6573 203d 2061 6c6c 6f77  ed_types = allow
-00019cc0: 6564 5f74 7970 6573 206f 7220 5b5d 0a20  ed_types or []. 
-00019cd0: 2020 2020 2020 2061 6c6c 6f77 6564 5f73         allowed_s
-00019ce0: 7769 7463 685f 7479 7065 7320 3d20 5b5d  witch_types = []
-00019cf0: 0a20 2020 2020 2020 2069 6620 616c 6c6f  .        if allo
-00019d00: 7765 645f 7479 7065 733a 0a20 2020 2020  wed_types:.     
-00019d10: 2020 2020 2020 2061 6c6c 6f77 6564 5f74         allowed_t
-00019d20: 7970 6573 203d 2075 7469 6c73 2e6c 6973  ypes = utils.lis
-00019d30: 7469 6679 2861 6c6c 6f77 6564 5f74 7970  tify(allowed_typ
-00019d40: 6573 290a 2020 2020 2020 2020 2020 2020  es).            
-00019d50: 6966 2022 7377 6974 6368 2220 696e 2061  if "switch" in a
-00019d60: 6c6c 6f77 6564 5f74 7970 6573 206f 7220  llowed_types or 
-00019d70: 2822 6378 2220 696e 2061 6c6c 6f77 6564  ("cx" in allowed
-00019d80: 5f74 7970 6573 2061 6e64 2022 7377 2220  _types and "sw" 
-00019d90: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
-00019da0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00019db0: 2020 2061 6c6c 6f77 6564 5f73 7769 7463     allowed_switc
-00019dc0: 685f 7479 7065 7320 2b3d 205b 2241 4f53  h_types += ["AOS
-00019dd0: 5f43 5822 2c20 2241 4f53 5f53 225d 0a20  _CX", "AOS_S"]. 
-00019de0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00019df0: 2273 7722 2069 6e20 616c 6c6f 7765 645f  "sw" in allowed_
-00019e00: 7479 7065 733a 0a20 2020 2020 2020 2020  types:.         
-00019e10: 2020 2020 2020 2061 6c6c 6f77 6564 5f73         allowed_s
-00019e20: 7769 7463 685f 7479 7065 7320 2b3d 205b  witch_types += [
-00019e30: 2241 4f53 5f53 225d 0a20 2020 2020 2020  "AOS_S"].       
-00019e40: 2020 2020 2065 6c69 6620 2263 7822 2069       elif "cx" i
-00019e50: 6e20 616c 6c6f 7765 645f 7479 7065 733a  n allowed_types:
-00019e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019e70: 2061 6c6c 6f77 6564 5f73 7769 7463 685f   allowed_switch_
-00019e80: 7479 7065 7320 2b3d 205b 2241 4f53 5f43  types += ["AOS_C
-00019e90: 5822 5d0a 0a20 2020 2020 2020 2023 2070  X"]..        # p
-00019ea0: 7269 6e74 2822 5b44 4542 5547 5d20 2d2d  rint("[DEBUG] --
-00019eb0: 2d2d 2043 7572 7265 6e74 2050 726f 7065  -- Current Prope
-00019ec0: 7274 6965 7320 6f66 2067 726f 7570 2229  rties of group")
-00019ed0: 0a20 2020 2020 2020 2023 2075 7469 6c73  .        # utils
-00019ee0: 2e6a 736f 6e5f 7072 696e 7428 6375 725f  .json_print(cur_
-00019ef0: 6772 6f75 705f 7072 6f70 7329 0a20 2020  group_props).   
-00019f00: 2020 2020 2023 2070 7269 6e74 2822 5b44       # print("[D
-00019f10: 4542 5547 5d20 2d2d 2d2d 2229 0a20 2020  EBUG] ----").   
-00019f20: 2020 2020 2023 2054 4f44 4f20 636f 7079       # TODO copy
-00019f30: 2070 6173 7465 2066 726f 6d20 6372 6561   paste from crea
-00019f40: 7465 2067 726f 7570 202e 2e2e 2063 6f6d  te group ... com
-00019f50: 6d6f 6e20 6675 6e63 2074 6f20 6275 696c  mon func to buil
-00019f60: 6420 7061 796c 6f61 640a 2020 2020 2020  d payload.      
-00019f70: 2020 6777 5f72 6f6c 655f 6469 6374 203d    gw_role_dict =
-00019f80: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-00019f90: 6272 616e 6368 223a 2022 4272 616e 6368  branch": "Branch
-00019fa0: 4761 7465 7761 7922 2c0a 2020 2020 2020  Gateway",.      
-00019fb0: 2020 2020 2020 2276 706e 6322 3a20 2256        "vpnc": "V
-00019fc0: 504e 436f 6e63 656e 7472 6174 6f72 222c  PNConcentrator",
-00019fd0: 0a20 2020 2020 2020 2020 2020 2022 776c  .            "wl
-00019fe0: 616e 223a 2022 574c 414e 4761 7465 7761  an": "WLANGatewa
-00019ff0: 7922 2c0a 2020 2020 2020 2020 7d0a 2020  y",.        }.  
-0001a000: 2020 2020 2020 6465 765f 7479 7065 5f64        dev_type_d
-0001a010: 6963 7420 3d20 7b0a 2020 2020 2020 2020  ict = {.        
-0001a020: 2020 2020 2261 7022 3a20 2241 6363 6573      "ap": "Acces
-0001a030: 7350 6f69 6e74 7322 2c0a 2020 2020 2020  sPoints",.      
-0001a040: 2020 2020 2020 2267 7722 3a20 2247 6174        "gw": "Gat
-0001a050: 6577 6179 7322 2c0a 2020 2020 2020 2020  eways",.        
-0001a060: 2020 2020 2273 7769 7463 6822 3a20 2253      "switch": "S
-0001a070: 7769 7463 6865 7322 2c0a 2020 2020 2020  witches",.      
-0001a080: 2020 2020 2020 2263 7822 3a20 2253 7769        "cx": "Swi
-0001a090: 7463 6865 7322 2c0a 2020 2020 2020 2020  tches",.        
-0001a0a0: 2020 2020 2273 7722 3a20 2253 7769 7463      "sw": "Switc
-0001a0b0: 6865 7322 2c0a 2020 2020 2020 2020 7d0a  hes",.        }.
-0001a0c0: 2020 2020 2020 2020 6777 5f72 6f6c 6520          gw_role 
-0001a0d0: 3d20 6777 5f72 6f6c 655f 6469 6374 2e67  = gw_role_dict.g
-0001a0e0: 6574 2867 775f 726f 6c65 290a 0a20 2020  et(gw_role)..   
-0001a0f0: 2020 2020 206d 6f6e 5f6f 6e6c 795f 7377       mon_only_sw
-0001a100: 6974 6368 6573 203d 205b 5d0a 2020 2020  itches = [].    
-0001a110: 2020 2020 6966 206d 6f6e 6974 6f72 5f6f      if monitor_o
-0001a120: 6e6c 795f 7377 3a0a 2020 2020 2020 2020  nly_sw:.        
-0001a130: 2020 2020 6d6f 6e5f 6f6e 6c79 5f73 7769      mon_only_swi
-0001a140: 7463 6865 7320 2b3d 205b 2241 4f53 5f53  tches += ["AOS_S
-0001a150: 225d 0a20 2020 2020 2020 2069 6620 6d6f  "].        if mo
-0001a160: 6e69 746f 725f 6f6e 6c79 5f63 783a 0a20  nitor_only_cx:. 
-0001a170: 2020 2020 2020 2020 2020 206d 6f6e 5f6f             mon_o
-0001a180: 6e6c 795f 7377 6974 6368 6573 202b 3d20  nly_switches += 
-0001a190: 5b22 414f 535f 4358 225d 0a20 2020 2020  ["AOS_CX"].     
-0001a1a0: 2020 2020 2020 2072 6169 7365 204e 6f74         raise Not
-0001a1b0: 496d 706c 656d 656e 7465 6445 7272 6f72  ImplementedError
-0001a1c0: 2822 414f 535f 4358 204d 6f6e 6974 6f72  ("AOS_CX Monitor
-0001a1d0: 204f 6e6c 7920 6e6f 7420 7375 7070 6f72   Only not suppor
-0001a1e0: 7465 6420 696e 2043 656e 7472 616c 2079  ted in Central y
-0001a1f0: 6574 2e22 290a 0a20 2020 2020 2020 2061  et.")..        a
-0001a200: 7263 6820 3d20 4e6f 6e65 0a20 2020 2020  rch = None.     
-0001a210: 2020 2069 6620 6d69 6372 6f62 7261 6e63     if microbranc
-0001a220: 6820 6973 206e 6f74 204e 6f6e 653a 0a20  h is not None:. 
-0001a230: 2020 2020 2020 2020 2020 2069 6620 616f             if ao
-0001a240: 7331 3020 6973 206e 6f74 204e 6f6e 653a  s10 is not None:
-0001a250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001a260: 2061 7263 6820 3d20 2249 6e73 7461 6e74   arch = "Instant
-0001a270: 2220 6966 206e 6f74 2061 6f73 3130 2065  " if not aos10 e
-0001a280: 6c73 6520 2241 4f53 3130 220a 0a20 2020  lse "AOS10"..   
-0001a290: 2020 2020 2061 6c6c 6f77 6564 5f74 7970       allowed_typ
-0001a2a0: 6573 203d 206c 6973 7428 7365 7428 5b64  es = list(set([d
-0001a2b0: 6576 5f74 7970 655f 6469 6374 2e67 6574  ev_type_dict.get
-0001a2c0: 2874 2920 666f 7220 7420 696e 2061 6c6c  (t) for t in all
-0001a2d0: 6f77 6564 5f74 7970 6573 5d29 290a 2020  owed_types])).  
-0001a2e0: 2020 2020 2020 636f 6d62 696e 6564 5f61        combined_a
-0001a2f0: 6c6c 6f77 6564 203d 205b 2a61 6c6c 6f77  llowed = [*allow
-0001a300: 6564 5f74 7970 6573 2c20 2a63 7572 5f67  ed_types, *cur_g
-0001a310: 726f 7570 5f70 726f 7073 5b22 416c 6c6f  roup_props["Allo
-0001a320: 7765 6444 6576 5479 7065 7322 5d5d 0a0a  wedDevTypes"]]..
-0001a330: 2020 2020 2020 2020 6966 204e 6f6e 6520          if None 
-0001a340: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
-0001a350: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0001a360: 7475 726e 2052 6573 706f 6e73 6528 0a20  turn Response(. 
-0001a370: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0001a380: 7272 6f72 3d27 496e 7661 6c69 6420 6465  rror='Invalid de
-0001a390: 7669 6365 2074 7970 6520 666f 7220 616c  vice type for al
-0001a3a0: 6c6f 7765 645f 7479 7065 7320 7661 6c69  lowed_types vali
-0001a3b0: 6420 7661 6c75 6573 3a20 2261 7022 2c20  d values: "ap", 
-0001a3c0: 2267 7722 2c20 2273 7722 2c20 2263 7822  "gw", "sw", "cx"
-0001a3d0: 2c20 2273 7769 7463 6822 272c 0a20 2020  , "switch"',.   
-0001a3e0: 2020 2020 2020 2020 2020 2020 2072 6c5f               rl_
-0001a3f0: 7374 723d 7265 7370 2e72 6c2c 0a20 2020  str=resp.rl,.   
-0001a400: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0001a410: 2020 2069 6620 6d69 6372 6f62 7261 6e63     if microbranc
-0001a420: 6820 616e 6420 6e6f 7420 616f 7331 303a  h and not aos10:
-0001a430: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-0001a440: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
-0001a450: 2020 2020 2020 2020 2020 2020 2020 6572                er
-0001a460: 726f 723d 2249 6e76 616c 6964 2063 6f6d  ror="Invalid com
-0001a470: 6269 6e61 7469 6f6e 2c20 4772 6f75 7020  bination, Group 
-0001a480: 6d75 7374 2062 6520 636f 6e66 6967 7572  must be configur
-0001a490: 6564 2061 7320 414f 5331 3020 6772 6f75  ed as AOS10 grou
-0001a4a0: 7020 746f 2073 7570 706f 7274 204d 6963  p to support Mic
-0001a4b0: 726f 6272 616e 6368 222c 0a20 2020 2020  robranch",.     
-0001a4c0: 2020 2020 2020 2020 2020 2072 6c5f 7374             rl_st
-0001a4d0: 723d 7265 7370 2e72 6c2c 0a20 2020 2020  r=resp.rl,.     
-0001a4e0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0001a4f0: 2069 6620 6d69 6372 6f62 7261 6e63 6820   if microbranch 
-0001a500: 616e 6420 2241 6363 6573 7350 6f69 6e74  and "AccessPoint
-0001a510: 7322 206e 6f74 2069 6e20 636f 6d62 696e  s" not in combin
-0001a520: 6564 5f61 6c6c 6f77 6564 3a0a 2020 2020  ed_allowed:.    
-0001a530: 2020 2020 2020 2020 7265 7475 726e 2052          return R
-0001a540: 6573 706f 6e73 6528 0a20 2020 2020 2020  esponse(.       
-0001a550: 2020 2020 2020 2020 2065 7272 6f72 3d66           error=f
-0001a560: 2249 6e76 616c 6964 2063 6f6d 6269 6e61  "Invalid combina
-0001a570: 7469 6f6e 2c20 7b63 6f6c 6f72 2827 4d69  tion, {color('Mi
-0001a580: 6372 6f62 7261 6e63 6827 297d 2022 0a20  crobranch')} ". 
-0001a590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5a0: 2020 2020 2066 2263 616e 206e 6f74 2062       f"can not b
-0001a5b0: 6520 656e 6162 6c65 6420 696e 2067 726f  e enabled in gro
-0001a5c0: 7570 207b 636f 6c6f 7228 6772 6f75 7029  up {color(group)
-0001a5d0: 7d2e 2020 220a 2020 2020 2020 2020 2020  }.  ".          
-0001a5e0: 2020 2020 2020 2020 2020 2020 2241 5073              "APs
-0001a5f0: 206d 7573 7420 6265 2061 6464 6564 2074   must be added t
-0001a600: 6f20 616c 6c6f 7765 6420 6465 7669 6365  o allowed device
-0001a610: 732e 5c6e 220a 2020 2020 2020 2020 2020  s.\n".          
-0001a620: 2020 2020 2020 2020 2020 2020 6622 5b72              f"[r
-0001a630: 6573 6574 5d43 7572 7265 6e74 2041 6c6c  eset]Current All
-0001a640: 6f77 6564 2044 6576 6963 6573 3a20 7b63  owed Devices: {c
-0001a650: 6f6c 6f72 2863 6f6d 6269 6e65 645f 616c  olor(combined_al
-0001a660: 6c6f 7765 6429 7d22 2c0a 2020 2020 2020  lowed)}",.      
-0001a670: 2020 2020 2020 2020 2020 726c 5f73 7472            rl_str
-0001a680: 3d72 6573 702e 726c 2c0a 2020 2020 2020  =resp.rl,.      
-0001a690: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0001a6a0: 2320 6966 2022 4761 7465 7761 7973 2220  # if "Gateways" 
-0001a6b0: 696e 2063 6f6d 6269 6e65 645f 616c 6c6f  in combined_allo
-0001a6c0: 7765 6420 6f72 2022 4163 6365 7373 506f  wed or "AccessPo
-0001a6d0: 696e 7473 2220 696e 2063 6f6d 6269 6e65  ints" in combine
-0001a6e0: 645f 616c 6c6f 7765 643a 0a20 2020 2020  d_allowed:.     
-0001a6f0: 2020 2023 2020 2020 2069 6620 616f 7331     #     if aos1
-0001a700: 3020 6973 206e 6f74 204e 6f6e 653a 0a20  0 is not None:. 
-0001a710: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0001a720: 2072 6574 7572 6e20 5265 7370 6f6e 7365   return Response
-0001a730: 280a 2020 2020 2020 2020 2320 2020 2020  (.        #     
-0001a740: 2020 2020 2020 2020 6572 726f 723d 6622          error=f"
-0001a750: 7b63 6f6c 6f72 2827 414f 5331 3027 297d  {color('AOS10')}
-0001a760: 2063 616e 206f 6e6c 7920 6265 2073 6574   can only be set
-0001a770: 2077 6865 6e20 4150 7320 6f72 2047 5773   when APs or GWs
-0001a780: 2061 7265 2069 6e69 7469 616c 6c79 2061   are initially a
-0001a790: 6464 6564 2074 6f20 616c 6c6f 7765 645f  dded to allowed_
-0001a7a0: 7479 7065 7320 6f66 2067 726f 7570 220a  types of group".
-0001a7b0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0001a7c0: 2020 2020 2020 2020 2020 2020 6622 5c6e              f"\n
-0001a7d0: 7b63 6f6c 6f72 2867 726f 7570 297d 2063  {color(group)} c
-0001a7e0: 616e 2062 6520 636c 6f6e 6564 2077 6974  an be cloned wit
-0001a7f0: 6820 6f70 7469 6f6e 2074 6f20 7570 6772  h option to upgr
-0001a800: 6164 6520 6475 7269 6e67 2063 6c6f 6e65  ade during clone
-0001a810: 2e22 2c0a 2020 2020 2020 2020 2320 2020  .",.        #   
-0001a820: 2020 2020 2020 2020 2020 726c 5f73 7472            rl_str
-0001a830: 3d72 6573 702e 726c 2c0a 2020 2020 2020  =resp.rl,.      
-0001a840: 2020 2320 2020 2020 2020 2020 290a 2020    #         ).  
-0001a850: 2020 2020 2020 2320 6966 2077 6972 6564        # if wired
-0001a860: 5f74 6720 616e 6420 6d6f 6e69 746f 725f  _tg and monitor_
-0001a870: 6f6e 6c79 5f73 7720 6f72 206d 6f6e 6974  only_sw or monit
-0001a880: 6f72 5f6f 6e6c 795f 6378 3a0a 2020 2020  or_only_cx:.    
-0001a890: 2020 2020 6966 2077 6972 6564 5f74 6720      if wired_tg 
-0001a8a0: 616e 6420 6d6f 6e69 746f 725f 6f6e 6c79  and monitor_only
-0001a8b0: 5f73 773a 0a20 2020 2020 2020 2020 2020  _sw:.           
-0001a8c0: 2072 6574 7572 6e20 5265 7370 6f6e 7365   return Response
-0001a8d0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0001a8e0: 2020 6572 726f 723d 2249 6e76 616c 6964    error="Invalid
-0001a8f0: 2063 6f6d 6269 6e61 7469 6f6e 2c20 4d6f   combination, Mo
-0001a900: 6e69 746f 7220 4f6e 6c79 2069 7320 6e6f  nitor Only is no
-0001a910: 7420 7661 6c69 6420 666f 7220 5465 6d70  t valid for Temp
-0001a920: 6c61 7465 2047 726f 7570 222c 0a20 2020  late Group",.   
-0001a930: 2020 2020 2020 2020 2020 2020 2072 6c5f               rl_
-0001a940: 7374 723d 7265 7370 2e72 6c2c 0a20 2020  str=resp.rl,.   
-0001a950: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-0001a960: 2020 2020 6772 705f 7072 6f70 7320 3d20      grp_props = 
-0001a970: 7b0a 2020 2020 2020 2020 2020 2020 2241  {.            "A
-0001a980: 6c6c 6f77 6564 4465 7654 7970 6573 223a  llowedDevTypes":
-0001a990: 2063 6f6d 6269 6e65 645f 616c 6c6f 7765   combined_allowe
-0001a9a0: 642c 0a20 2020 2020 2020 2020 2020 2022  d,.            "
-0001a9b0: 4172 6368 6974 6563 7475 7265 223a 2061  Architecture": a
-0001a9c0: 7263 6820 6f72 2063 7572 5f67 726f 7570  rch or cur_group
-0001a9d0: 5f70 726f 7073 2e67 6574 2822 4172 6368  _props.get("Arch
-0001a9e0: 6974 6563 7475 7265 2229 2c0a 2020 2020  itecture"),.    
-0001a9f0: 2020 2020 2020 2020 2241 6c6c 6f77 6564          "Allowed
-0001aa00: 5377 6974 6368 5479 7065 7322 3a20 616c  SwitchTypes": al
-0001aa10: 6c6f 7765 645f 7377 6974 6368 5f74 7970  lowed_switch_typ
-0001aa20: 6573 206f 7220 6375 725f 6772 6f75 705f  es or cur_group_
-0001aa30: 7072 6f70 732e 6765 7428 2241 6c6c 6f77  props.get("Allow
-0001aa40: 6564 5377 6974 6368 5479 7065 7322 2c20  edSwitchTypes", 
-0001aa50: 5b5d 292c 0a20 2020 2020 2020 2020 2020  []),.           
-0001aa60: 2022 4d6f 6e69 746f 724f 6e6c 7922 3a20   "MonitorOnly": 
-0001aa70: 6d6f 6e5f 6f6e 6c79 5f73 7769 7463 6865  mon_only_switche
-0001aa80: 7320 6f72 2063 7572 5f67 726f 7570 5f70  s or cur_group_p
-0001aa90: 726f 7073 2e67 6574 2822 4d6f 6e69 746f  rops.get("Monito
-0001aaa0: 724f 6e6c 7953 7769 7463 6822 290a 2020  rOnlySwitch").  
-0001aab0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-0001aac0: 6772 705f 7072 6f70 7320 3d20 7b6b 3a20  grp_props = {k: 
-0001aad0: 7620 666f 7220 6b2c 2076 2069 6e20 6772  v for k, v in gr
-0001aae0: 705f 7072 6f70 732e 6974 656d 7328 2920  p_props.items() 
-0001aaf0: 6966 2076 7d0a 0a20 2020 2020 2020 2069  if v}..        i
-0001ab00: 6620 6777 5f72 6f6c 6520 616e 6420 2247  f gw_role and "G
-0001ab10: 6174 6577 6179 7322 2069 6e20 616c 6c6f  ateways" in allo
-0001ab20: 7765 645f 7479 7065 733a 0a20 2020 2020  wed_types:.     
-0001ab30: 2020 2020 2020 2067 7270 5f70 726f 7073         grp_props
-0001ab40: 5b22 4777 4e65 7477 6f72 6b52 6f6c 6522  ["GwNetworkRole"
-0001ab50: 5d20 3d20 6777 5f72 6f6c 650a 2020 2020  ] = gw_role.    
-0001ab60: 2020 2020 6966 2022 4163 6365 7373 506f      if "AccessPo
-0001ab70: 696e 7473 2220 696e 2061 6c6c 6f77 6564  ints" in allowed
-0001ab80: 5f74 7970 6573 206f 7220 2241 6363 6573  _types or "Acces
-0001ab90: 7350 6f69 6e74 7322 2069 6e20 6375 725f  sPoints" in cur_
-0001aba0: 6772 6f75 705f 7072 6f70 735b 2241 6c6c  group_props["All
-0001abb0: 6f77 6564 4465 7654 7970 6573 225d 3a0a  owedDevTypes"]:.
-0001abc0: 2020 2020 2020 2020 2020 2020 6966 206d              if m
-0001abd0: 6963 726f 6272 616e 6368 2069 7320 6e6f  icrobranch is no
-0001abe0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-0001abf0: 2020 2020 2020 2020 6772 705f 7072 6f70          grp_prop
-0001ac00: 735b 2241 704e 6574 776f 726b 526f 6c65  s["ApNetworkRole
-0001ac10: 225d 203d 205c 0a20 2020 2020 2020 2020  "] = \.         
-0001ac20: 2020 2020 2020 2020 2020 2022 5374 616e             "Stan
-0001ac30: 6461 7264 2220 6966 206e 6f74 206d 6963  dard" if not mic
-0001ac40: 726f 6272 616e 6368 2065 6c73 6520 224d  robranch else "M
-0001ac50: 6963 726f 6272 616e 6368 220a 0a20 2020  icrobranch"..   
-0001ac60: 2020 2020 2074 6d70 6c74 5f69 6e66 6f20       tmplt_info 
-0001ac70: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0001ac80: 2257 6972 6564 223a 2077 6972 6564 5f74  "Wired": wired_t
-0001ac90: 672c 0a20 2020 2020 2020 2020 2020 2022  g,.            "
-0001aca0: 5769 7265 6c65 7373 223a 2077 6c61 6e5f  Wireless": wlan_
-0001acb0: 7467 0a20 2020 2020 2020 207d 0a20 2020  tg.        }.   
-0001acc0: 2020 2020 2074 6d70 6c74 5f69 6e66 6f20       tmplt_info 
-0001acd0: 3d20 7574 696c 732e 7374 7269 705f 6e6f  = utils.strip_no
-0001ace0: 6e65 2874 6d70 6c74 5f69 6e66 6f29 0a0a  ne(tmplt_info)..
-0001acf0: 2020 2020 2020 2020 6772 705f 6174 7472          grp_attr
-0001ad00: 7320 3d20 7b7d 0a20 2020 2020 2020 2069  s = {}.        i
-0001ad10: 6620 746d 706c 745f 696e 666f 3a0a 2020  f tmplt_info:.  
-0001ad20: 2020 2020 2020 2020 2020 6772 705f 6174            grp_at
-0001ad30: 7472 735b 2274 656d 706c 6174 655f 696e  trs["template_in
-0001ad40: 666f 225d 203d 2074 6d70 6c74 5f69 6e66  fo"] = tmplt_inf
-0001ad50: 6f0a 2020 2020 2020 2020 6966 2067 7270  o.        if grp
-0001ad60: 5f70 726f 7073 3a0a 2020 2020 2020 2020  _props:.        
-0001ad70: 2020 2020 6772 705f 6174 7472 735b 2267      grp_attrs["g
-0001ad80: 726f 7570 5f70 726f 7065 7274 6965 7322  roup_properties"
-0001ad90: 5d20 3d20 7b0a 2020 2020 2020 2020 2020  ] = {.          
-0001ada0: 2020 2020 2020 2a2a 7b6b 3a20 7620 666f        **{k: v fo
-0001adb0: 7220 6b2c 2076 2069 6e20 6375 725f 6772  r k, v in cur_gr
-0001adc0: 6f75 705f 7072 6f70 732e 6974 656d 7328  oup_props.items(
-0001add0: 2920 6966 206b 206e 6f74 2069 6e20 5b22  ) if k not in ["
-0001ade0: 414f 5356 6572 7369 6f6e 222c 2022 4d6f  AOSVersion", "Mo
-0001adf0: 6e69 746f 724f 6e6c 7922 5d7d 2c0a 2020  nitorOnly"]},.  
-0001ae00: 2020 2020 2020 2020 2020 2020 2020 2a2a                **
-0001ae10: 6772 705f 7072 6f70 730a 2020 2020 2020  grp_props.      
-0001ae20: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-0001ae30: 6a73 6f6e 5f64 6174 6120 3d20 6772 705f  json_data = grp_
-0001ae40: 6174 7472 730a 0a20 2020 2020 2020 2023  attrs..        #
-0001ae50: 206a 736f 6e5f 6461 7461 203d 207b 2267   json_data = {"g
-0001ae60: 726f 7570 223a 2067 726f 7570 7d0a 2020  roup": group}.  
-0001ae70: 2020 2020 2020 2320 6966 2067 7270 5f61        # if grp_a
-0001ae80: 7474 7273 3a0a 2020 2020 2020 2020 2320  ttrs:.        # 
-0001ae90: 2020 2020 6a73 6f6e 5f64 6174 615b 2267      json_data["g
-0001aea0: 726f 7570 5f61 7474 7269 6275 7465 7322  roup_attributes"
-0001aeb0: 5d20 3d20 6772 705f 6174 7472 730a 0a0a  ] = grp_attrs...
-0001aec0: 0a20 2020 2020 2020 2023 2069 6620 6c65  .        # if le
-0001aed0: 6e28 6a73 6f6e 5f64 6174 6129 203d 3d20  n(json_data) == 
-0001aee0: 313a 0a20 2020 2020 2020 2023 2020 2020  1:.        #    
-0001aef0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-0001af00: 7228 224e 6f20 4368 616e 6765 7320 4465  r("No Changes De
-0001af10: 7465 6374 6564 2229 0a20 2020 2020 2020  tected").       
-0001af20: 2023 2065 6c73 653a 0a20 2020 2020 2020   # else:.       
-0001af30: 2069 6620 636f 6e66 6967 2e64 6562 7567   if config.debug
-0001af40: 763a 0a20 2020 2020 2020 2020 2020 2070  v:.            p
-0001af50: 7269 6e74 2866 225b 4445 4255 475d 202d  rint(f"[DEBUG] -
-0001af60: 2d2d 2d20 5365 6e64 696e 6720 7468 6520  --- Sending the 
-0001af70: 666f 6c6c 6f77 696e 6720 746f 207b 7572  following to {ur
-0001af80: 6c7d 2229 0a20 2020 2020 2020 2020 2020  l}").           
-0001af90: 2075 7469 6c73 2e6a 736f 6e5f 7072 696e   utils.json_prin
-0001afa0: 7428 6a73 6f6e 5f64 6174 6129 0a20 2020  t(json_data).   
-0001afb0: 2020 2020 2020 2020 2070 7269 6e74 2822           print("
-0001afc0: 5b44 4542 5547 5d20 2d2d 2d2d 2229 0a0a  [DEBUG] ----")..
-0001afd0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0001afe0: 7761 6974 2073 656c 662e 7061 7463 6828  wait self.patch(
-0001aff0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-0001b000: 736f 6e5f 6461 7461 290a 2020 2020 2020  son_data).      
-0001b010: 2020 2320 2320 4649 584d 4520 7265 6d6f    # # FIXME remo
-0001b020: 7665 2064 6562 7567 2070 7269 6e74 730a  ve debug prints.
-0001b030: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
-0001b040: 7572 6c29 0a20 2020 2020 2020 2023 2066  url).        # f
-0001b050: 726f 6d20 7269 6368 2069 6d70 6f72 7420  rom rich import 
-0001b060: 7072 696e 745f 6a73 6f6e 0a20 2020 2020  print_json.     
-0001b070: 2020 2023 2070 7269 6e74 5f6a 736f 6e28     # print_json(
-0001b080: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-0001b090: 0a20 2020 2061 7379 6e63 2064 6566 2075  .    async def u
-0001b0a0: 7064 6174 655f 6772 6f75 705f 6e61 6d65  pdate_group_name
-0001b0b0: 2873 656c 662c 2067 726f 7570 3a20 7374  (self, group: st
-0001b0c0: 722c 206e 6577 5f67 726f 7570 3a20 7374  r, new_group: st
-0001b0d0: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
-0001b0e0: 2020 2020 2020 2020 2222 2255 7064 6174          """Updat
-0001b0f0: 6520 6772 6f75 7020 6e61 6d65 2066 6f72  e group name for
-0001b100: 2074 6865 2067 6976 656e 2067 726f 7570   the given group
-0001b110: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
-0001b120: 0a20 2020 2020 2020 2020 2020 2067 726f  .            gro
-0001b130: 7570 2028 7374 7229 3a20 4772 6f75 7020  up (str): Group 
-0001b140: 666f 7220 7768 6963 6820 6e61 6d65 206e  for which name n
-0001b150: 6565 6420 746f 2062 6520 7570 6461 7465  eed to be update
-0001b160: 642e 0a20 2020 2020 2020 2020 2020 206e  d..            n
-0001b170: 6577 5f67 726f 7570 2028 7374 7229 3a20  ew_group (str): 
-0001b180: 5468 6520 6e65 7720 6e61 6d65 206f 6620  The new name of 
-0001b190: 7468 6520 6772 6f75 702e 0a0a 2020 2020  the group...    
-0001b1a0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0001b1b0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0001b1c0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0001b1d0: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0001b1e0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001b1f0: 2020 2320 544f 444f 2072 6570 6f72 7420    # TODO report 
-0001b200: 666c 6177 6564 2041 5049 206d 6574 686f  flawed API metho
-0001b210: 640a 2020 2020 2020 2020 2320 5468 6973  d.        # This
-0001b220: 2077 6f72 6b73 2066 6f72 2072 656e 616d   works for renam
-0001b230: 696e 6720 3878 2067 726f 7570 730a 2020  ing 8x groups.  
-0001b240: 2020 2020 2020 2320 6966 2079 6f75 2074        # if you t
-0001b250: 7279 2074 6f20 7265 6e61 6d65 2061 2031  ry to rename a 1
-0001b260: 3078 2067 726f 7570 2069 6e61 7070 726f  0x group inappro
-0001b270: 7072 6961 7465 2065 7272 6f72 3a0a 2020  priate error:.  
-0001b280: 2020 2020 2020 2320 5b0a 2020 2020 2020        # [.      
-0001b290: 2020 2320 2020 2020 7b0a 2020 2020 2020    #     {.      
-0001b2a0: 2020 2320 2020 2020 2020 2020 2264 6573    #         "des
-0001b2b0: 6372 6970 7469 6f6e 223a 2022 6772 6f75  cription": "grou
-0001b2c0: 7020 616c 7265 6164 7920 6861 7320 414f  p already has AO
-0001b2d0: 535f 3130 5820 7665 7273 696f 6e20 7365  S_10X version se
-0001b2e0: 7422 2c0a 2020 2020 2020 2020 2320 2020  t",.        #   
-0001b2f0: 2020 2020 2020 2265 7272 6f72 5f63 6f64        "error_cod
-0001b300: 6522 3a20 2230 3030 3122 2c0a 2020 2020  e": "0001",.    
-0001b310: 2020 2020 2320 2020 2020 2020 2020 2273      #         "s
-0001b320: 6572 7669 6365 5f6e 616d 6522 3a20 2243  ervice_name": "C
-0001b330: 6f6e 6669 6775 7261 7469 6f6e 220a 2020  onfiguration".  
-0001b340: 2020 2020 2020 2320 2020 2020 7d0a 2020        #     }.  
-0001b350: 2020 2020 2020 2320 5d0a 2020 2020 2020        # ].      
-0001b360: 2020 2320 4920 6469 6420 7472 7920 772f    # I did try w/
-0001b370: 2066 756c 6c20 7061 796c 6f61 6420 7369   full payload si
-0001b380: 6d69 6c61 7220 746f 2067 6574 5f67 726f  milar to get_gro
-0001b390: 7570 2070 726f 7073 2072 6573 700a 2020  up props resp.  
-0001b3a0: 2020 2020 2020 2320 692e 652e 0a20 2020        # i.e..   
-0001b3b0: 2020 2020 2023 207b 0a20 2020 2020 2020       # {.       
-0001b3c0: 2023 2020 2020 2022 6772 6f75 7022 3a20   #     "group": 
-0001b3d0: 226e 6577 5f6e 616d 6522 2c0a 2020 2020  "new_name",.    
-0001b3e0: 2020 2020 2320 2020 2020 2270 726f 7065      #     "prope
-0001b3f0: 7274 6965 7322 3a20 7b0a 2020 2020 2020  rties": {.      
-0001b400: 2020 2320 2020 2020 2020 2020 2241 4f53    #         "AOS
-0001b410: 5665 7273 696f 6e22 3a20 2241 4f53 5f31  Version": "AOS_1
-0001b420: 3058 222c 2020 3c2d 2074 7269 6564 2073  0X",  <- tried s
-0001b430: 7065 6369 6679 696e 6720 6772 6f75 7020  pecifying group 
-0001b440: 6973 2061 6c72 6561 6479 2031 3078 0a20  is already 10x. 
-0001b450: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-0001b460: 2022 4d6f 6e69 746f 724f 6e6c 7953 7769   "MonitorOnlySwi
-0001b470: 7463 6822 3a20 4661 6c73 650a 2020 2020  tch": False.    
-0001b480: 2020 2020 2320 2020 2020 7d0a 2020 2020      #     }.    
-0001b490: 2020 2020 2320 7d0a 2020 2020 2020 2020      # }.        
-0001b4a0: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
-0001b4b0: 7261 7469 6f6e 2f76 312f 6772 6f75 7073  ration/v1/groups
-0001b4c0: 2f7b 6772 6f75 707d 2f6e 616d 6522 0a0a  /{group}/name"..
-0001b4d0: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-0001b4e0: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
-0001b4f0: 2020 2767 726f 7570 273a 206e 6577 5f67    'group': new_g
-0001b500: 726f 7570 0a20 2020 2020 2020 207d 0a0a  roup.        }..
-0001b510: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0001b520: 7761 6974 2073 656c 662e 7061 7463 6828  wait self.patch(
-0001b530: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-0001b540: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-0001b550: 7379 6e63 2064 6566 2067 6574 5f61 705f  sync def get_ap_
-0001b560: 7365 7474 696e 6773 2873 656c 662c 2073  settings(self, s
-0001b570: 6572 6961 6c5f 6e75 6d62 6572 3a20 7374  erial_number: st
-0001b580: 7229 202d 3e20 5265 7370 6f6e 7365 3a0a  r) -> Response:.
-0001b590: 2020 2020 2020 2020 2222 2247 6574 2061          """Get a
-0001b5a0: 6e20 6578 6973 7469 6e67 2061 7020 7365  n existing ap se
-0001b5b0: 7474 696e 6773 2e0a 0a20 2020 2020 2020  ttings...       
-0001b5c0: 202f 2f20 5573 6564 2069 6e64 6972 6563   // Used indirec
-0001b5d0: 746c 7920 2875 7064 6174 655f 6170 5f73  tly (update_ap_s
-0001b5e0: 6574 7469 6e67 7329 2062 7920 6261 7463  ettings) by batc
-0001b5f0: 6820 7265 6e61 6d65 2041 5020 2f2f 0a0a  h rename AP //..
-0001b600: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-0001b610: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-0001b620: 5f6e 756d 6265 7220 2873 7472 293a 2041  _number (str): A
-0001b630: 5020 7365 7269 616c 206e 756d 6265 722e  P serial number.
-0001b640: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0001b650: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0001b660: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0001b670: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0001b680: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0001b690: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0001b6a0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0001b6b0: 322f 6170 5f73 6574 7469 6e67 732f 7b73  2/ap_settings/{s
-0001b6c0: 6572 6961 6c5f 6e75 6d62 6572 7d22 0a0a  erial_number}"..
-0001b6d0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-0001b6e0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-0001b6f0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
-0001b700: 6620 7570 6461 7465 5f61 705f 7365 7474  f update_ap_sett
-0001b710: 696e 6773 280a 2020 2020 2020 2020 7365  ings(.        se
-0001b720: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-0001b730: 616c 5f6e 756d 6265 723a 2073 7472 2c0a  al_number: str,.
-0001b740: 2020 2020 2020 2020 686f 7374 6e61 6d65          hostname
-0001b750: 3a20 7374 722c 0a20 2020 2020 2020 2069  : str,.        i
-0001b760: 705f 6164 6472 6573 733a 2073 7472 203d  p_address: str =
-0001b770: 204e 6f6e 652c 0a20 2020 2020 2020 207a   None,.        z
-0001b780: 6f6e 656e 616d 653a 2073 7472 203d 204e  onename: str = N
-0001b790: 6f6e 652c 0a20 2020 2020 2020 2061 6368  one,.        ach
-0001b7a0: 616e 6e65 6c3a 2073 7472 203d 204e 6f6e  annel: str = Non
-0001b7b0: 652c 0a20 2020 2020 2020 2061 7478 706f  e,.        atxpo
-0001b7c0: 7765 723a 2073 7472 203d 204e 6f6e 652c  wer: str = None,
-0001b7d0: 0a20 2020 2020 2020 2067 6368 616e 6e65  .        gchanne
-0001b7e0: 6c3a 2073 7472 203d 204e 6f6e 652c 0a20  l: str = None,. 
-0001b7f0: 2020 2020 2020 2067 7478 706f 7765 723a         gtxpower:
-0001b800: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0001b810: 2020 2020 2064 6f74 3131 615f 7261 6469       dot11a_radi
-0001b820: 6f5f 6469 7361 626c 653a 2062 6f6f 6c20  o_disable: bool 
-0001b830: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0001b840: 646f 7431 3167 5f72 6164 696f 5f64 6973  dot11g_radio_dis
-0001b850: 6162 6c65 3a20 626f 6f6c 203d 204e 6f6e  able: bool = Non
-0001b860: 652c 0a20 2020 2020 2020 2075 7362 5f70  e,.        usb_p
-0001b870: 6f72 745f 6469 7361 626c 653a 2062 6f6f  ort_disable: boo
-0001b880: 6c20 3d20 4e6f 6e65 2c0a 2020 2020 2920  l = None,.    ) 
-0001b890: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0001b8a0: 2020 2020 2022 2222 5570 6461 7465 2061       """Update a
-0001b8b0: 6e20 6578 6973 7469 6e67 2061 7020 7365  n existing ap se
-0001b8c0: 7474 696e 6773 2e0a 0a20 2020 2020 2020  ttings...       
-0001b8d0: 202f 2f20 5573 6564 2062 7920 6261 7463   // Used by batc
-0001b8e0: 6820 7265 6e61 6d65 2061 7073 2061 6e64  h rename aps and
-0001b8f0: 2072 656e 616d 6520 6170 202f 2f0a 0a20   rename ap //.. 
-0001b900: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0001b910: 2020 2020 2020 2020 2073 6572 6961 6c5f           serial_
-0001b920: 6e75 6d62 6572 2028 7374 722c 206f 7074  number (str, opt
-0001b930: 696f 6e61 6c29 3a20 4150 2053 6572 6961  ional): AP Seria
-0001b940: 6c20 4e75 6d62 6572 0a20 2020 2020 2020  l Number.       
-0001b950: 2020 2020 2068 6f73 746e 616d 6520 2873       hostname (s
-0001b960: 7472 293a 2068 6f73 746e 616d 650a 2020  tr): hostname.  
-0001b970: 2020 2020 2020 2020 2020 6970 5f61 6464            ip_add
-0001b980: 7265 7373 2028 7374 722c 206f 7074 696f  ress (str, optio
-0001b990: 6e61 6c29 3a20 6970 5f61 6464 7265 7373  nal): ip_address
-0001b9a0: 2044 6566 6175 6c74 2028 4448 4350 290a   Default (DHCP).
-0001b9b0: 2020 2020 2020 2020 2020 2020 7a6f 6e65              zone
-0001b9c0: 6e61 6d65 2028 7374 722c 206f 7074 696f  name (str, optio
-0001b9d0: 6e61 6c29 3a20 7a6f 6e65 6e61 6d65 2e20  nal): zonename. 
-0001b9e0: 4465 6661 756c 7420 2222 2028 4e6f 205a  Default "" (No Z
-0001b9f0: 6f6e 6529 0a20 2020 2020 2020 2020 2020  one).           
-0001ba00: 2061 6368 616e 6e65 6c20 2873 7472 2c20   achannel (str, 
-0001ba10: 6f70 7469 6f6e 616c 293a 2061 6368 616e  optional): achan
-0001ba20: 6e65 6c0a 2020 2020 2020 2020 2020 2020  nel.            
-0001ba30: 6174 7870 6f77 6572 2028 7374 722c 206f  atxpower (str, o
-0001ba40: 7074 696f 6e61 6c29 3a20 6174 7870 6f77  ptional): atxpow
-0001ba50: 6572 0a20 2020 2020 2020 2020 2020 2067  er.            g
-0001ba60: 6368 616e 6e65 6c20 2873 7472 2c20 6f70  channel (str, op
-0001ba70: 7469 6f6e 616c 293a 2067 6368 616e 6e65  tional): gchanne
-0001ba80: 6c0a 2020 2020 2020 2020 2020 2020 6774  l.            gt
-0001ba90: 7870 6f77 6572 2028 7374 722c 206f 7074  xpower (str, opt
-0001baa0: 696f 6e61 6c29 3a20 6774 7870 6f77 6572  ional): gtxpower
-0001bab0: 0a20 2020 2020 2020 2020 2020 2064 6f74  .            dot
-0001bac0: 3131 615f 7261 6469 6f5f 6469 7361 626c  11a_radio_disabl
-0001bad0: 6520 2862 6f6f 6c2c 206f 7074 696f 6e61  e (bool, optiona
-0001bae0: 6c29 3a20 646f 7431 3161 5f72 6164 696f  l): dot11a_radio
-0001baf0: 5f64 6973 6162 6c65 0a20 2020 2020 2020  _disable.       
-0001bb00: 2020 2020 2064 6f74 3131 675f 7261 6469       dot11g_radi
-0001bb10: 6f5f 6469 7361 626c 6520 2862 6f6f 6c2c  o_disable (bool,
-0001bb20: 206f 7074 696f 6e61 6c29 3a20 646f 7431   optional): dot1
-0001bb30: 3167 5f72 6164 696f 5f64 6973 6162 6c65  1g_radio_disable
-0001bb40: 0a20 2020 2020 2020 2020 2020 2075 7362  .            usb
-0001bb50: 5f70 6f72 745f 6469 7361 626c 6520 2862  _port_disable (b
-0001bb60: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-0001bb70: 7573 625f 706f 7274 5f64 6973 6162 6c65  usb_port_disable
-0001bb80: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0001bb90: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0001bba0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0001bbb0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0001bbc0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0001bbd0: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
-0001bbe0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
-0001bbf0: 322f 6170 5f73 6574 7469 6e67 732f 7b73  2/ap_settings/{s
-0001bc00: 6572 6961 6c5f 6e75 6d62 6572 7d22 0a0a  erial_number}"..
-0001bc10: 2020 2020 2020 2020 5f6a 736f 6e5f 6461          _json_da
-0001bc20: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
-0001bc30: 2020 2027 686f 7374 6e61 6d65 273a 2068     'hostname': h
-0001bc40: 6f73 746e 616d 652c 0a20 2020 2020 2020  ostname,.       
-0001bc50: 2020 2020 2027 6970 5f61 6464 7265 7373       'ip_address
-0001bc60: 273a 2069 705f 6164 6472 6573 732c 0a20  ': ip_address,. 
-0001bc70: 2020 2020 2020 2020 2020 2027 7a6f 6e65             'zone
-0001bc80: 6e61 6d65 273a 207a 6f6e 656e 616d 652c  name': zonename,
-0001bc90: 0a20 2020 2020 2020 2020 2020 2027 6163  .            'ac
-0001bca0: 6861 6e6e 656c 273a 2061 6368 616e 6e65  hannel': achanne
-0001bcb0: 6c2c 0a20 2020 2020 2020 2020 2020 2027  l,.            '
-0001bcc0: 6174 7870 6f77 6572 273a 2061 7478 706f  atxpower': atxpo
-0001bcd0: 7765 722c 0a20 2020 2020 2020 2020 2020  wer,.           
-0001bce0: 2027 6763 6861 6e6e 656c 273a 2067 6368   'gchannel': gch
-0001bcf0: 616e 6e65 6c2c 0a20 2020 2020 2020 2020  annel,.         
-0001bd00: 2020 2027 6774 7870 6f77 6572 273a 2067     'gtxpower': g
-0001bd10: 7478 706f 7765 722c 0a20 2020 2020 2020  txpower,.       
-0001bd20: 2020 2020 2027 646f 7431 3161 5f72 6164       'dot11a_rad
-0001bd30: 696f 5f64 6973 6162 6c65 273a 2064 6f74  io_disable': dot
-0001bd40: 3131 615f 7261 6469 6f5f 6469 7361 626c  11a_radio_disabl
-0001bd50: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-0001bd60: 646f 7431 3167 5f72 6164 696f 5f64 6973  dot11g_radio_dis
-0001bd70: 6162 6c65 273a 2064 6f74 3131 675f 7261  able': dot11g_ra
-0001bd80: 6469 6f5f 6469 7361 626c 652c 0a20 2020  dio_disable,.   
-0001bd90: 2020 2020 2020 2020 2027 7573 625f 706f           'usb_po
-0001bda0: 7274 5f64 6973 6162 6c65 273a 2075 7362  rt_disable': usb
-0001bdb0: 5f70 6f72 745f 6469 7361 626c 650a 2020  _port_disable.  
-0001bdc0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-0001bdd0: 6966 204e 6f6e 6520 696e 205f 6a73 6f6e  if None in _json
-0001bde0: 5f64 6174 612e 7661 6c75 6573 2829 3a0a  _data.values():.
-0001bdf0: 2020 2020 2020 2020 2020 2020 7265 7370              resp
-0001be00: 203d 2061 7761 6974 2073 656c 662e 5f72   = await self._r
-0001be10: 6571 7565 7374 2873 656c 662e 6765 745f  equest(self.get_
-0001be20: 6170 5f73 6574 7469 6e67 732c 2073 6572  ap_settings, ser
-0001be30: 6961 6c5f 6e75 6d62 6572 290a 2020 2020  ial_number).    
-0001be40: 2020 2020 2020 2020 6966 206e 6f74 2072          if not r
-0001be50: 6573 703a 0a20 2020 2020 2020 2020 2020  esp:.           
-0001be60: 2020 2020 2072 6574 7572 6e20 7265 7370       return resp
-0001be70: 0a0a 2020 2020 2020 2020 2020 2020 6a73  ..            js
-0001be80: 6f6e 5f64 6174 6120 3d20 7365 6c66 2e73  on_data = self.s
-0001be90: 7472 6970 5f6e 6f6e 6528 5f6a 736f 6e5f  trip_none(_json_
-0001bea0: 6461 7461 290a 2020 2020 2020 2020 2020  data).          
-0001beb0: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b2a    json_data = {*
-0001bec0: 2a72 6573 702e 6f75 7470 7574 2c20 2a2a  *resp.output, **
-0001bed0: 6a73 6f6e 5f64 6174 617d 0a20 2020 2020  json_data}.     
-0001bee0: 2020 2020 2020 2069 6620 6e6f 7420 736f         if not so
-0001bef0: 7274 6564 285f 6a73 6f6e 5f64 6174 612e  rted(_json_data.
-0001bf00: 6b65 7973 2829 2920 3d3d 2073 6f72 7465  keys()) == sorte
-0001bf10: 6428 6a73 6f6e 5f64 6174 612e 6b65 7973  d(json_data.keys
-0001bf20: 2829 293a 0a20 2020 2020 2020 2020 2020  ()):.           
-0001bf30: 2020 2020 206d 6973 7369 6e67 203d 2022       missing = "
-0001bf40: 2c20 222e 6a6f 696e 285b 6622 277b 6b7d  , ".join([f"'{k}
-0001bf50: 2722 2066 6f72 206b 2069 6e20 6a73 6f6e  '" for k in json
-0001bf60: 5f64 6174 612e 6b65 7973 2829 2069 6620  _data.keys() if 
-0001bf70: 6b20 6e6f 7420 696e 205f 6a73 6f6e 5f64  k not in _json_d
-0001bf80: 6174 612e 6b65 7973 2829 5d29 0a20 2020  ata.keys()]).   
-0001bf90: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-0001bfa0: 7572 6e20 5265 7370 6f6e 7365 280a 2020  urn Response(.  
-0001bfb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bfc0: 2020 6f6b 3d46 616c 7365 2c0a 2020 2020    ok=False,.    
-0001bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001bfe0: 6572 726f 723d 6622 5570 6461 7465 2070  error=f"Update p
-0001bff0: 6179 6c6f 6164 2069 7320 6d69 7373 696e  ayload is missin
-0001c000: 6720 7265 7175 6972 6564 2061 7474 7269  g required attri
-0001c010: 6275 7465 733a 207b 6d69 7373 696e 677d  butes: {missing}
-0001c020: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0001c030: 2020 2020 2020 2072 6561 736f 6e3d 2249         reason="I
-0001c040: 4e56 414c 4944 220a 2020 2020 2020 2020  NVALID".        
-0001c050: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-0001c060: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-0001c070: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
-0001c080: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-0001c090: 7461 290a 0a20 2020 2023 2054 4f44 4f20  ta)..    # TODO 
-0001c0a0: 4e6f 7455 7365 6420 5965 742e 2020 5368  NotUsed Yet.  Sh
-0001c0b0: 6f77 7320 616e 7920 7570 6461 7465 7320  ows any updates 
-0001c0c0: 6e6f 7420 7965 7420 7075 7368 6564 2074  not yet pushed t
-0001c0d0: 6f20 7468 6520 6465 7669 6365 2028 6465  o the device (de
-0001c0e0: 7669 6365 206f 6666 6c69 6e65 2c20 6574  vice offline, et
-0001c0f0: 6329 0a20 2020 2023 204d 6179 206f 6e6c  c).    # May onl
-0001c100: 7920 6265 2076 616c 6964 2066 6f72 2041  y be valid for A
-0001c110: 5073 206e 6f74 2073 7572 652e 0a20 2020  Ps not sure..   
-0001c120: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
-0001c130: 6972 7479 5f64 6966 6628 0a20 2020 2020  irty_diff(.     
-0001c140: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0001c150: 2067 726f 7570 3a20 7374 722c 0a20 2020   group: str,.   
-0001c160: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-0001c170: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
-0001c180: 6d69 743a 2069 6e74 203d 2032 300a 2020  mit: int = 20.  
-0001c190: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0001c1a0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-0001c1b0: 6469 7274 7920 6469 6666 2e0a 0a20 2020  dirty diff...   
-0001c1c0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0001c1d0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
-0001c1e0: 7229 3a20 4772 6f75 7020 6e61 6d65 206f  r): Group name o
-0001c1f0: 6620 7468 6520 6772 6f75 7020 6f72 2067  f the group or g
-0001c200: 7569 6420 6f66 2074 6865 2073 7761 726d  uid of the swarm
-0001c210: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001c220: 2020 4578 616d 706c 653a 4772 6f75 705f    Example:Group_
-0001c230: 3120 6f72 2036 6135 6431 3233 6230 3166  1 or 6a5d123b01f
-0001c240: 3934 3431 3830 3632 3434 6561 3665 3032  9441806244ea6e02
-0001c250: 3366 6162 3538 3431 6237 3763 3832 3861  3fab5841b77c828a
-0001c260: 3038 3566 3034 662e 0a20 2020 2020 2020  085f04f..       
-0001c270: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-0001c280: 2c20 6f70 7469 6f6e 616c 293a 204e 756d  , optional): Num
-0001c290: 6265 7220 6f66 2069 7465 6d73 2074 6f20  ber of items to 
-0001c2a0: 6265 2073 6b69 7070 6564 2062 6566 6f72  be skipped befor
-0001c2b0: 6520 7265 7475 726e 696e 6720 7468 6520  e returning the 
-0001c2c0: 6461 7461 2c20 7573 6566 756c 0a20 2020  data, useful.   
-0001c2d0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-0001c2e0: 2070 6167 696e 6174 696f 6e2e 2044 6566   pagination. Def
-0001c2f0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-0001c300: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-0001c310: 6e74 2c20 6f70 7469 6f6e 616c 293a 204d  nt, optional): M
-0001c320: 6178 696d 756d 206e 756d 6265 7220 6f66  aximum number of
-0001c330: 2067 726f 7570 2063 6f6e 6669 675f 6d6f   group config_mo
-0001c340: 6465 2072 6563 6f72 6473 2074 6f20 6265  de records to be
-0001c350: 2072 6574 7572 6e65 642e 0a20 2020 2020   returned..     
-0001c360: 2020 2020 2020 2020 2020 204d 6178 3a20             Max: 
-0001c370: 3230 2c20 4465 6661 756c 7473 2074 6f20  20, Defaults to 
-0001c380: 3230 2e0a 0a20 2020 2020 2020 2052 6574  20...        Ret
-0001c390: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0001c3a0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0001c3b0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0001c3c0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0001c3d0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-0001c3e0: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
-0001c3f0: 6e2f 7631 2f64 6972 7479 5f64 6966 662f  n/v1/dirty_diff/
-0001c400: 7b67 726f 7570 7d22 0a0a 2020 2020 2020  {group}"..      
-0001c410: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-0001c420: 2020 2020 2020 2020 2027 6f66 6673 6574           'offset
-0001c430: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
-0001c440: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-0001c450: 6c69 6d69 7420 6966 206c 696d 6974 203c  limit if limit <
-0001c460: 3d20 3230 2065 6c73 6520 3230 0a20 2020  = 20 else 20.   
-0001c470: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0001c480: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0001c490: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-0001c4a0: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-0001c4b0: 7379 6e63 2064 6566 2067 6574 5f67 726f  sync def get_gro
-0001c4c0: 7570 735f 7072 6f70 6572 7469 6573 2873  ups_properties(s
-0001c4d0: 656c 662c 2067 726f 7570 733a 2055 6e69  elf, groups: Uni
-0001c4e0: 6f6e 5b73 7472 2c20 4c69 7374 5b73 7472  on[str, List[str
-0001c4f0: 5d5d 203d 204e 6f6e 6529 202d 3e20 5265  ]] = None) -> Re
-0001c500: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-0001c510: 2222 2247 6574 2070 726f 7065 7274 6965  """Get propertie
-0001c520: 7320 7365 7420 666f 7220 6772 6f75 7073  s set for groups
-0001c530: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
-0001c540: 6564 2062 7920 7368 6f77 2067 726f 7570  ed by show group
-0001c550: 7320 7768 656e 202d 7620 666c 6167 2069  s when -v flag i
-0001c560: 7320 7072 6f76 6964 6564 202f 2f0a 0a20  s provided //.. 
-0001c570: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0001c580: 2020 2020 2020 2020 2067 726f 7570 7320           groups 
-0001c590: 284c 6973 745b 7374 725d 2c20 6f70 7469  (List[str], opti
-0001c5a0: 6f6e 616c 293a 2047 726f 7570 206c 6973  onal): Group lis
-0001c5b0: 7420 746f 2066 6574 6368 2070 726f 7065  t to fetch prope
-0001c5c0: 7274 6965 732e 0a20 2020 2020 2020 2020  rties..         
-0001c5d0: 2020 2020 2020 2057 696c 6c20 6665 7463         Will fetc
-0001c5e0: 6820 616c 6c20 6966 206e 6f20 6772 6f75  h all if no grou
-0001c5f0: 7073 2070 726f 7669 6465 642e 0a20 2020  ps provided..   
-0001c600: 2020 2020 2020 2020 2020 2020 204d 6178               Max
-0001c610: 696d 756d 2032 3020 636f 6d6d 6120 7365  imum 20 comma se
-0001c620: 7061 7261 7465 6420 6772 6f75 7020 6e61  parated group na
-0001c630: 6d65 7320 616c 6c6f 7765 642e 0a0a 2020  mes allowed...  
-0001c640: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0001c650: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0001c660: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0001c670: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0001c680: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0001c690: 2020 2020 7572 6c20 3d20 222f 636f 6e66      url = "/conf
-0001c6a0: 6967 7572 6174 696f 6e2f 7631 2f67 726f  iguration/v1/gro
-0001c6b0: 7570 732f 7072 6f70 6572 7469 6573 220a  ups/properties".
-0001c6c0: 0a20 2020 2020 2020 2023 2043 656e 7472  .        # Centr
-0001c6d0: 616c 2041 5049 206d 6574 686f 6420 646f  al API method do
-0001c6e0: 6573 6e27 7420 6163 7475 616c 6c79 2074  esn't actually t
-0001c6f0: 616b 6520 6120 6c69 7374 2069 7420 7461  ake a list it ta
-0001c700: 6b65 7320 6120 7374 7269 6e67 2077 6974  kes a string wit
-0001c710: 680a 2020 2020 2020 2020 2320 6772 6f75  h.        # grou
-0001c720: 7020 6e61 6d65 7320 7365 7061 7261 7465  p names separate
-0001c730: 6420 6279 2063 6f6d 6d61 2028 4e4f 2053  d by comma (NO S
-0001c740: 5041 4345 5329 0a20 2020 2020 2020 2069  PACES).        i
-0001c750: 6620 6772 6f75 7073 2069 7320 4e6f 6e65  f groups is None
-0001c760: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
-0001c770: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
-0001c780: 5f67 6574 5f67 726f 7570 5f6e 616d 6573  _get_group_names
-0001c790: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
-0001c7a0: 6620 6e6f 7420 7265 7370 2e6f 6b3a 0a20  f not resp.ok:. 
-0001c7b0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0001c7c0: 6574 7572 6e20 7265 7370 0a20 2020 2020  eturn resp.     
-0001c7d0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001c7e0: 2020 2020 2020 2020 2020 2020 2067 726f               gro
-0001c7f0: 7570 7320 3d20 7265 7370 2e6f 7574 7075  ups = resp.outpu
-0001c800: 740a 2020 2020 2020 2020 6261 7463 685f  t.        batch_
-0001c810: 7265 7173 203d 205b 5d0a 2020 2020 2020  reqs = [].      
-0001c820: 2020 666f 7220 5f67 726f 7570 7320 696e    for _groups in
-0001c830: 2075 7469 6c73 2e63 6875 6e6b 6572 2875   utils.chunker(u
-0001c840: 7469 6c73 2e6c 6973 7469 6679 2867 726f  tils.listify(gro
-0001c850: 7570 7329 2c20 3230 293a 2020 2320 5468  ups), 20):  # Th
-0001c860: 6973 2063 616c 6c20 616c 6c6f 7773 2061  is call allows a
-0001c870: 206d 6178 206f 6620 3230 0a20 2020 2020   max of 20.     
-0001c880: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0001c890: 7b22 6772 6f75 7073 223a 2022 2c22 2e6a  {"groups": ",".j
-0001c8a0: 6f69 6e28 5f67 726f 7570 7329 7d0a 2020  oin(_groups)}.  
-0001c8b0: 2020 2020 2020 2020 2020 6261 7463 685f            batch_
-0001c8c0: 7265 7173 202b 3d20 5b73 656c 662e 4261  reqs += [self.Ba
-0001c8d0: 7463 6852 6571 7565 7374 2873 656c 662e  tchRequest(self.
-0001c8e0: 6765 742c 2075 726c 2c20 7061 7261 6d73  get, url, params
-0001c8f0: 3d70 6172 616d 7329 5d0a 2020 2020 2020  =params)].      
-0001c900: 2020 6261 7463 685f 7265 7370 203d 2061    batch_resp = a
-0001c910: 7761 6974 2073 656c 662e 5f62 6174 6368  wait self._batch
-0001c920: 5f72 6571 7565 7374 2862 6174 6368 5f72  _request(batch_r
-0001c930: 6571 7329 0a20 2020 2020 2020 2023 2054  eqs).        # T
-0001c940: 4f44 4f20 6d65 7468 6f64 2074 6f20 636f  ODO method to co
-0001c950: 6d62 696e 6520 7261 7720 616e 6420 6f75  mbine raw and ou
-0001c960: 7470 7574 2061 7474 7273 206f 6620 616c  tput attrs of al
-0001c970: 6c20 7265 7370 6f6e 7365 7320 696e 746f  l responses into
-0001c980: 206c 6173 7420 7265 7370 0a20 2020 2020   last resp.     
-0001c990: 2020 206f 7574 7075 7420 3d20 5b72 2066     output = [r f
-0001c9a0: 6f72 2072 6573 2069 6e20 6261 7463 685f  or res in batch_
-0001c9b0: 7265 7370 2066 6f72 2072 2069 6e20 7265  resp for r in re
-0001c9c0: 732e 6f75 7470 7574 5d0a 2020 2020 2020  s.output].      
-0001c9d0: 2020 7265 7370 203d 2062 6174 6368 5f72    resp = batch_r
-0001c9e0: 6573 705b 2d31 5d0a 2020 2020 2020 2020  esp[-1].        
-0001c9f0: 7265 7370 2e6f 7574 7075 7420 3d20 6f75  resp.output = ou
-0001ca00: 7470 7574 0a20 2020 2020 2020 2069 6620  tput.        if 
-0001ca10: 2264 6174 6122 2069 6e20 7265 7370 2e72  "data" in resp.r
-0001ca20: 6177 3a0a 2020 2020 2020 2020 2020 2020  aw:.            
-0001ca30: 7265 7370 2e72 6177 5b22 6461 7461 225d  resp.raw["data"]
-0001ca40: 203d 206f 7574 7075 740a 2020 2020 2020   = output.      
-0001ca50: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0001ca60: 2020 2020 6c6f 672e 7761 726e 696e 6728      log.warning(
-0001ca70: 2272 6177 2061 7474 7220 696e 2072 6573  "raw attr in res
-0001ca80: 7020 6672 6f6d 2067 6574 5f67 726f 7570  p from get_group
-0001ca90: 735f 7072 6f70 6572 7469 6573 206c 6163  s_properties lac
-0001caa0: 6b73 2065 7870 6563 7465 6420 6f75 7465  ks expected oute
-0001cab0: 7220 6b65 7920 2764 6174 6127 2229 0a20  r key 'data'"). 
-0001cac0: 2020 2020 2020 2067 726f 7570 7320 3d20         groups = 
-0001cad0: 222c 222e 6a6f 696e 2875 7469 6c73 2e6c  ",".join(utils.l
-0001cae0: 6973 7469 6679 2867 726f 7570 7329 290a  istify(groups)).
-0001caf0: 0a20 2020 2020 2020 2023 2070 6172 616d  .        # param
-0001cb00: 7320 3d20 7b0a 2020 2020 2020 2020 2320  s = {.        # 
-0001cb10: 2020 2020 2767 726f 7570 7327 3a20 6772      'groups': gr
-0001cb20: 6f75 7073 0a20 2020 2020 2020 2023 207d  oups.        # }
-0001cb30: 0a0a 2020 2020 2020 2020 2320 7265 7475  ..        # retu
-0001cb40: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0001cb50: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-0001cb60: 7261 6d73 290a 2020 2020 2020 2020 7265  rams).        re
-0001cb70: 7475 726e 2072 6573 700a 0a20 2020 2061  turn resp..    a
-0001cb80: 7379 6e63 2064 6566 2067 6574 5f76 635f  sync def get_vc_
-0001cb90: 6669 726d 7761 7265 280a 2020 2020 2020  firmware(.      
-0001cba0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-0001cbb0: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
-0001cbc0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6772  None,.        gr
-0001cbd0: 6f75 703a 2073 7472 203d 204e 6f6e 652c  oup: str = None,
-0001cbe0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-0001cbf0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-0001cc00: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-0001cc10: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
-0001cc20: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
-0001cc30: 2222 4c69 7374 2046 6972 6d77 6172 6520  ""List Firmware 
-0001cc40: 4465 7461 696c 7320 6f66 2053 7761 726d  Details of Swarm
-0001cc50: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
-0001cc60: 3a0a 2020 2020 2020 2020 2020 2020 7377  :.            sw
-0001cc70: 6172 6d5f 6964 3a20 2873 7472 2c20 6f70  arm_id: (str, op
-0001cc80: 7469 6f6e 616c 293a 2050 726f 7669 6469  tional): Providi
-0001cc90: 6e67 2073 7761 726d 5f69 6420 7265 7375  ng swarm_id resu
-0001cca0: 6c74 7320 696e 2064 6574 6169 6c73 2066  lts in details f
-0001ccb0: 6f72 2074 6861 7420 7377 6172 6d2e 0a20  or that swarm.. 
-0001ccc0: 2020 2020 2020 2020 2020 2067 726f 7570             group
-0001ccd0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0001cce0: 3a20 4772 6f75 7020 6e61 6d65 0a20 2020  : Group name.   
-0001ccf0: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
-0001cd00: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0001cd10: 2050 6167 696e 6174 696f 6e20 6f66 6673   Pagination offs
-0001cd20: 6574 2044 6566 6175 6c74 7320 746f 2030  et Defaults to 0
-0001cd30: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
-0001cd40: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
-0001cd50: 616c 293a 2050 6167 696e 6174 696f 6e20  al): Pagination 
-0001cd60: 6c69 6d69 742e 204d 6178 2069 7320 3130  limit. Max is 10
-0001cd70: 3030 2044 6566 6175 6c74 7320 746f 2031  00 Defaults to 1
-0001cd80: 3030 2e0a 0a20 2020 2020 2020 2020 2020  00...           
-0001cd90: 2050 726f 7669 6469 6e67 2073 7761 726d   Providing swarm
-0001cda0: 5f69 6420 6973 2065 6666 6563 7469 7665  _id is effective
-0001cdb0: 6c79 2061 2066 696c 7465 722c 2069 7420  ly a filter, it 
-0001cdc0: 7072 6f76 6964 6573 206e 6f20 6164 6469  provides no addi
-0001cdd0: 7469 6f6e 616c 2064 6574 6169 6c2e 0a0a  tional detail...
-0001cde0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0001cdf0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0001ce00: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0001ce10: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0001ce20: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0001ce30: 2020 2020 2020 7572 6c20 3d20 222f 6669        url = "/fi
-0001ce40: 726d 7761 7265 2f76 312f 7377 6172 6d73  rmware/v1/swarms
-0001ce50: 220a 2020 2020 2020 2020 6966 2073 7761  ".        if swa
-0001ce60: 726d 5f69 643a 0a20 2020 2020 2020 2020  rm_id:.         
-0001ce70: 2020 2075 726c 203d 2066 227b 7572 6c7d     url = f"{url}
-0001ce80: 2f7b 7377 6172 6d5f 6964 7d22 0a20 2020  /{swarm_id}".   
-0001ce90: 2020 2020 2020 2020 2070 6172 616d 7320           params 
-0001cea0: 3d20 7b7d 0a20 2020 2020 2020 2065 6c73  = {}.        els
-0001ceb0: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
-0001cec0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-0001ced0: 2020 2020 2020 2020 2020 2767 726f 7570            'group
-0001cee0: 273a 2067 726f 7570 2c0a 2020 2020 2020  ': group,.      
-0001cef0: 2020 2020 2020 2020 2020 276f 6666 7365            'offse
-0001cf00: 7427 3a20 6f66 6673 6574 2c0a 2020 2020  t': offset,.    
-0001cf10: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
-0001cf20: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
-0001cf30: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-0001cf40: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0001cf50: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-0001cf60: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-0001cf70: 2061 7379 6e63 2064 6566 2067 6574 5f66   async def get_f
-0001cf80: 775f 7665 7273 696f 6e5f 6c69 7374 280a  w_version_list(.
-0001cf90: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0001cfa0: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-0001cfb0: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
-0001cfc0: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
-0001cfd0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-0001cfe0: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
-0001cff0: 203d 204e 6f6e 652c 0a20 2020 2029 202d   = None,.    ) -
-0001d000: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0001d010: 2020 2020 2222 224c 6973 7420 4669 726d      """List Firm
-0001d020: 7761 7265 2056 6572 7369 6f6e 2e0a 0a20  ware Version... 
-0001d030: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0001d040: 2020 2020 2020 2020 2064 6576 6963 655f           device_
-0001d050: 7479 7065 2028 7374 722c 206f 7074 696f  type (str, optio
-0001d060: 6e61 6c29 3a20 5370 6563 6966 7920 6f6e  nal): Specify on
-0001d070: 6520 6f66 2022 4941 502f 4d41 532f 4850  e of "IAP/MAS/HP
-0001d080: 2f43 4f4e 5452 4f4c 4c45 522f 4358 220a  /CONTROLLER/CX".
-0001d090: 2020 2020 2020 2020 2020 2020 7377 6172              swar
-0001d0a0: 6d5f 6964 2028 7374 722c 206f 7074 696f  m_id (str, optio
-0001d0b0: 6e61 6c29 3a20 5377 6172 6d20 4944 0a20  nal): Swarm ID. 
-0001d0c0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0001d0d0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-0001d0e0: 293a 2053 6572 6961 6c20 6f66 2064 6576  ): Serial of dev
-0001d0f0: 6963 650a 0a20 2020 2020 2020 2052 6574  ice..        Ret
-0001d100: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0001d110: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0001d120: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0001d130: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0001d140: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-0001d150: 2022 2f66 6972 6d77 6172 652f 7631 2f76   "/firmware/v1/v
-0001d160: 6572 7369 6f6e 7322 0a0a 2020 2020 2020  ersions"..      
-0001d170: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
-0001d180: 2020 2020 2020 2020 2027 6465 7669 6365           'device
-0001d190: 5f74 7970 6527 3a20 6465 7669 6365 5f74  _type': device_t
-0001d1a0: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
-0001d1b0: 2027 7377 6172 6d5f 6964 273a 2073 7761   'swarm_id': swa
-0001d1c0: 726d 5f69 642c 0a20 2020 2020 2020 2020  rm_id,.         
-0001d1d0: 2020 2027 7365 7269 616c 273a 2073 6572     'serial': ser
-0001d1e0: 6961 6c0a 2020 2020 2020 2020 7d0a 0a20  ial.        }.. 
-0001d1f0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0001d200: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-0001d210: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
-0001d220: 0a0a 2020 2020 2320 4e6f 7420 7573 6564  ..    # Not used
-0001d230: 2069 6e20 6120 636f 6d6d 616e 6420 7965   in a command ye
-0001d240: 740a 2020 2020 6173 796e 6320 6465 6620  t.    async def 
-0001d250: 6368 6563 6b5f 696d 6167 655f 6176 6169  check_image_avai
-0001d260: 6c61 626c 6528 0a20 2020 2020 2020 2073  lable(.        s
-0001d270: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
-0001d280: 6963 655f 7479 7065 3a20 7374 722c 0a20  ice_type: str,. 
-0001d290: 2020 2020 2020 2066 6972 6d77 6172 655f         firmware_
-0001d2a0: 7665 7273 696f 6e3a 2073 7472 2c0a 2020  version: str,.  
-0001d2b0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-0001d2c0: 0a20 2020 2020 2020 2022 2222 4669 726d  .        """Firm
-0001d2d0: 7761 7265 2056 6572 7369 6f6e 2e0a 0a20  ware Version... 
-0001d2e0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-0001d2f0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
-0001d300: 7479 7065 2028 7374 7229 3a20 5370 6563  type (str): Spec
-0001d310: 6966 7920 6f6e 6520 6f66 2022 4941 502f  ify one of "IAP/
-0001d320: 4d41 532f 4850 2f43 4f4e 5452 4f4c 4c45  MAS/HP/CONTROLLE
-0001d330: 5222 0a20 2020 2020 2020 2020 2020 2066  R".            f
-0001d340: 6972 6d77 6172 655f 7665 7273 696f 6e20  irmware_version 
-0001d350: 2873 7472 293a 2066 6972 6d77 6172 6520  (str): firmware 
-0001d360: 7665 7273 696f 6e0a 0a20 2020 2020 2020  version..       
-0001d370: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0001d380: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0001d390: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0001d3a0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0001d3b0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0001d3c0: 726c 203d 2066 222f 6669 726d 7761 7265  rl = f"/firmware
-0001d3d0: 2f76 312f 7665 7273 696f 6e73 2f7b 6669  /v1/versions/{fi
-0001d3e0: 726d 7761 7265 5f76 6572 7369 6f6e 7d22  rmware_version}"
-0001d3f0: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-0001d400: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0001d410: 2027 6465 7669 6365 5f74 7970 6527 3a20   'device_type': 
-0001d420: 6465 7669 6365 5f74 7970 650a 2020 2020  device_type.    
-0001d430: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-0001d440: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0001d450: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
-0001d460: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
-0001d470: 796e 6320 6465 6620 7365 6e64 5f63 6f6d  ync def send_com
-0001d480: 6d61 6e64 5f74 6f5f 7377 6172 6d28 0a20  mand_to_swarm(. 
-0001d490: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0001d4a0: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
-0001d4b0: 7472 2c0a 2020 2020 2020 2020 636f 6d6d  tr,.        comm
-0001d4c0: 616e 643a 204c 6974 6572 616c 5b0a 2020  and: Literal[.  
-0001d4d0: 2020 2020 2020 2020 2020 2272 6562 6f6f            "reboo
-0001d4e0: 745f 7377 6172 6d22 2c0a 2020 2020 2020  t_swarm",.      
-0001d4f0: 2020 2020 2020 2265 7261 7365 5f63 6f6e        "erase_con
-0001d500: 6669 6775 7261 7469 6f6e 222c 0a20 2020  figuration",.   
-0001d510: 2020 2020 205d 0a20 2020 2029 202d 3e20       ].    ) -> 
-0001d520: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-0001d530: 2020 2222 2247 656e 6572 6963 2063 6f6d    """Generic com
-0001d540: 6d61 6e64 7320 666f 7220 7377 6172 6d2e  mands for swarm.
-0001d550: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-0001d560: 2020 2020 2020 2020 2020 2020 7377 6172              swar
-0001d570: 6d5f 6964 2028 7374 7229 3a20 5377 6172  m_id (str): Swar
-0001d580: 6d20 4944 206f 6620 6465 7669 6365 0a20  m ID of device. 
-0001d590: 2020 2020 2020 2020 2020 2063 6f6d 6d61             comma
-0001d5a0: 6e64 2028 7374 7229 3a20 436f 6d6d 616e  nd (str): Comman
-0001d5b0: 6420 6d65 6e74 696f 6e65 6420 696e 2074  d mentioned in t
-0001d5c0: 6865 2064 6573 6372 6970 7469 6f6e 2074  he description t
-0001d5d0: 6861 7420 6973 2074 6f20 6265 2065 7865  hat is to be exe
-0001d5e0: 6375 7465 640a 2020 2020 2020 2020 2020  cuted.          
-0001d5f0: 2020 2020 2020 7661 6c69 643a 2027 7265        valid: 're
-0001d600: 626f 6f74 5f73 7761 726d 272c 2027 6572  boot_swarm', 'er
-0001d610: 6173 655f 636f 6e66 6967 7572 6174 696f  ase_configuratio
-0001d620: 6e27 0a0a 2020 2020 2020 2020 5265 7475  n'..        Retu
-0001d630: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0001d640: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0001d650: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0001d660: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0001d670: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0001d680: 6622 2f64 6576 6963 655f 6d61 6e61 6765  f"/device_manage
-0001d690: 6d65 6e74 2f76 312f 7377 6172 6d2f 7b73  ment/v1/swarm/{s
-0001d6a0: 7761 726d 5f69 647d 2f61 6374 696f 6e2f  warm_id}/action/
-0001d6b0: 7b63 6f6d 6d61 6e64 7d22 0a0a 2020 2020  {command}"..    
-0001d6c0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0001d6d0: 2073 656c 662e 706f 7374 2875 726c 290a   self.post(url).
-0001d6e0: 0a20 2020 2061 7379 6e63 2064 6566 2073  .    async def s
-0001d6f0: 656e 645f 7370 6565 645f 7465 7374 280a  end_speed_test(.
-0001d700: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0001d710: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
-0001d720: 722c 0a20 2020 2020 2020 2068 6f73 743a  r,.        host:
-0001d730: 2073 7472 203d 2022 6e64 742d 6975 7075   str = "ndt-iupu
-0001d740: 692d 6d6c 6162 312d 6465 6e30 342e 6d6c  i-mlab1-den04.ml
-0001d750: 6162 2d6f 7469 2e6d 6561 7375 7265 6d65  ab-oti.measureme
-0001d760: 6e74 2d6c 6162 2e6f 7267 222c 0a20 2020  nt-lab.org",.   
-0001d770: 2020 2020 206f 7074 696f 6e73 3a20 7374       options: st
-0001d780: 7220 3d20 4e6f 6e65 0a20 2020 2029 202d  r = None.    ) -
-0001d790: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-0001d7a0: 2020 2020 2222 2253 7065 6564 2054 6573      """Speed Tes
-0001d7b0: 742e 0a0a 2020 2020 2020 2020 4172 6773  t...        Args
-0001d7c0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0001d7d0: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
-0001d7e0: 616c 206f 6620 6465 7669 6365 0a20 2020  al of device.   
-0001d7f0: 2020 2020 2020 2020 2068 6f73 7420 2873           host (s
-0001d800: 7472 2c20 4f70 7469 6f6e 616c 293a 2053  tr, Optional): S
-0001d810: 7065 6564 2d54 6573 7420 7365 7276 6572  peed-Test server
-0001d820: 2049 5020 6164 6472 6573 732c 2044 6566   IP address, Def
-0001d830: 6175 6c74 7320 746f 2073 6572 7665 7220  aults to server 
-0001d840: 696e 2043 656e 7472 616c 2049 6e64 6961  in Central India
-0001d850: 6e61 2e0a 2020 2020 2020 2020 2020 2020  na..            
-0001d860: 6f70 7469 6f6e 7320 2873 7472 293a 2046  options (str): F
-0001d870: 6f72 6d61 7474 6564 2073 7472 696e 6720  ormatted string 
-0001d880: 6f66 206f 7074 696f 6e61 6c20 6172 6775  of optional argu
-0001d890: 6d65 6e74 730a 0a20 2020 2020 2020 2052  ments..        R
-0001d8a0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-0001d8b0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-0001d8c0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-0001d8d0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-0001d8e0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-0001d8f0: 203d 2066 222f 6465 7669 6365 5f6d 616e   = f"/device_man
-0001d900: 6167 656d 656e 742f 7631 2f64 6576 6963  agement/v1/devic
-0001d910: 652f 7b73 6572 6961 6c7d 2f61 6374 696f  e/{serial}/actio
-0001d920: 6e2f 7370 6565 6474 6573 7422 0a0a 2020  n/speedtest"..  
-0001d930: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-0001d940: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0001d950: 2768 6f73 7427 3a20 686f 7374 2c0a 2020  'host': host,.  
-0001d960: 2020 2020 2020 2020 2020 276f 7074 696f            'optio
-0001d970: 6e73 273a 206f 7074 696f 6e73 206f 7220  ns': options or 
-0001d980: 2222 0a20 2020 2020 2020 207d 0a0a 2020  "".        }..  
-0001d990: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0001d9a0: 6974 2073 656c 662e 706f 7374 2875 726c  it self.post(url
-0001d9b0: 2c20 6a73 6f6e 5f64 6174 613d 6a73 6f6e  , json_data=json
-0001d9c0: 5f64 6174 6129 0a0a 2020 2020 6173 796e  _data)..    asyn
-0001d9d0: 6320 6465 6620 6465 6c65 7465 5f63 6572  c def delete_cer
-0001d9e0: 7469 6669 6361 7465 2873 656c 662c 2063  tificate(self, c
-0001d9f0: 6572 7469 6669 6361 7465 3a20 7374 7229  ertificate: str)
-0001da00: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0001da10: 2020 2020 2020 2222 2244 656c 6574 6520        """Delete 
-0001da20: 6578 6973 7469 6e67 2063 6572 7469 6669  existing certifi
-0001da30: 6361 7465 2e0a 0a20 2020 2020 2020 2041  cate...        A
-0001da40: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-0001da50: 2063 6572 7469 6669 6361 7465 2028 7374   certificate (st
-0001da60: 7229 3a20 4e61 6d65 206f 6620 7468 6520  r): Name of the 
-0001da70: 6365 7274 6966 6963 6174 6520 746f 2064  certificate to d
-0001da80: 656c 6574 652e 0a0a 2020 2020 2020 2020  elete...        
-0001da90: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-0001daa0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-0001dab0: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-0001dac0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-0001dad0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-0001dae0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
-0001daf0: 7469 6f6e 2f76 312f 6365 7274 6966 6963  tion/v1/certific
-0001db00: 6174 6573 2f7b 6365 7274 6966 6963 6174  ates/{certificat
-0001db10: 657d 220a 0a20 2020 2020 2020 2072 6574  e}"..        ret
-0001db20: 7572 6e20 6177 6169 7420 7365 6c66 2e64  urn await self.d
-0001db30: 656c 6574 6528 7572 6c29 0a0a 2020 2020  elete(url)..    
-0001db40: 2320 544f 444f 2061 6363 6570 7420 4c69  # TODO accept Li
-0001db50: 7374 206f 6620 7374 7220 616e 6420 6261  st of str and ba
-0001db60: 7463 6820 6465 6c65 7465 0a20 2020 2061  tch delete.    a
-0001db70: 7379 6e63 2064 6566 2064 656c 6574 655f  sync def delete_
-0001db80: 6772 6f75 7028 7365 6c66 2c20 6772 6f75  group(self, grou
-0001db90: 703a 2073 7472 2920 2d3e 2052 6573 706f  p: str) -> Respo
-0001dba0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0001dbb0: 4465 6c65 7465 2065 7869 7374 696e 6720  Delete existing 
-0001dbc0: 6772 6f75 702e 0a0a 2020 2020 2020 2020  group...        
-0001dbd0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0001dbe0: 2020 6772 6f75 7020 2873 7472 293a 204e    group (str): N
-0001dbf0: 616d 6520 6f66 2074 6865 2067 726f 7570  ame of the group
-0001dc00: 2074 6861 7420 6e65 6564 7320 746f 2062   that needs to b
-0001dc10: 6520 6465 6c65 7465 642e 0a0a 2020 2020  e deleted...    
-0001dc20: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0001dc30: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0001dc40: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
-0001dc50: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
-0001dc60: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001dc70: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
-0001dc80: 6775 7261 7469 6f6e 2f76 312f 6772 6f75  guration/v1/grou
-0001dc90: 7073 2f7b 6772 6f75 707d 220a 0a20 2020  ps/{group}"..   
-0001dca0: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-0001dcb0: 7420 7365 6c66 2e64 656c 6574 6528 7572  t self.delete(ur
-0001dcc0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
-0001dcd0: 6620 6465 6c65 7465 5f73 6974 6528 7365  f delete_site(se
-0001dce0: 6c66 2c20 7369 7465 5f69 643a 2055 6e69  lf, site_id: Uni
-0001dcf0: 6f6e 5b69 6e74 2c20 4c69 7374 5b69 6e74  on[int, List[int
-0001dd00: 5d5d 2920 2d3e 2052 6573 706f 6e73 653a  ]]) -> Response:
-0001dd10: 0a20 2020 2020 2020 2022 2222 4465 6c65  .        """Dele
-0001dd20: 7465 2053 6974 652e 0a0a 2020 2020 2020  te Site...      
-0001dd30: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-0001dd40: 2020 2020 7369 7465 5f69 6420 2869 6e74      site_id (int
-0001dd50: 7c4c 6973 745b 696e 745d 293a 2045 6974  |List[int]): Eit
-0001dd60: 6865 7220 7468 6520 7369 7465 5f69 6420  her the site_id 
-0001dd70: 6f72 2061 206c 6973 7420 6f66 2073 6974  or a list of sit
-0001dd80: 655f 6964 7320 746f 2062 6520 6465 6c65  e_ids to be dele
-0001dd90: 7465 642e 0a0a 2020 2020 2020 2020 5265  ted...        Re
-0001dda0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0001ddb0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0001ddc0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0001ddd0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0001dde0: 2222 220a 2020 2020 2020 2020 625f 7572  """.        b_ur
-0001ddf0: 6c20 3d20 222f 6365 6e74 7261 6c2f 7632  l = "/central/v2
-0001de00: 2f73 6974 6573 220a 2020 2020 2020 2020  /sites".        
-0001de10: 6966 2069 7369 6e73 7461 6e63 6528 7369  if isinstance(si
-0001de20: 7465 5f69 642c 206c 6973 7429 3a0a 2020  te_id, list):.  
-0001de30: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0001de40: 2061 7761 6974 2073 656c 662e 5f62 6174   await self._bat
-0001de50: 6368 5f72 6571 7565 7374 280a 2020 2020  ch_request(.    
-0001de60: 2020 2020 2020 2020 2020 2020 5b0a 2020              [.  
-0001de70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001de80: 2020 7365 6c66 2e42 6174 6368 5265 7175    self.BatchRequ
-0001de90: 6573 7428 7365 6c66 2e64 656c 6574 652c  est(self.delete,
-0001dea0: 2028 6622 7b62 5f75 726c 7d2f 7b5f 6964   (f"{b_url}/{_id
-0001deb0: 7d22 2c29 290a 2020 2020 2020 2020 2020  }",)).          
-0001dec0: 2020 2020 2020 2020 2020 666f 7220 5f69            for _i
-0001ded0: 6420 696e 2073 6974 655f 6964 0a20 2020  d in site_id.   
-0001dee0: 2020 2020 2020 2020 2020 2020 205d 0a20               ]. 
-0001def0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-0001df00: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001df10: 2020 2020 2020 2075 726c 203d 2066 227b         url = f"{
-0001df20: 625f 7572 6c7d 2f7b 7369 7465 5f69 647d  b_url}/{site_id}
-0001df30: 220a 2020 2020 2020 2020 2020 2020 7265  ".            re
-0001df40: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-0001df50: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
-0001df60: 2061 7379 6e63 2064 6566 2064 656c 6574   async def delet
-0001df70: 655f 776c 616e 2873 656c 662c 2067 726f  e_wlan(self, gro
-0001df80: 7570 3a20 7374 722c 2077 6c61 6e5f 6e61  up: str, wlan_na
-0001df90: 6d65 3a20 7374 7229 202d 3e20 5265 7370  me: str) -> Resp
-0001dfa0: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0001dfb0: 2244 656c 6574 6520 616e 2065 7869 7374  "Delete an exist
-0001dfc0: 696e 6720 574c 414e 2e0a 0a20 2020 2020  ing WLAN...     
-0001dfd0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0001dfe0: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
-0001dff0: 3a20 4772 6f75 7020 6e61 6d65 206f 6620  : Group name of 
-0001e000: 7468 6520 6772 6f75 7020 6f72 2067 7569  the group or gui
-0001e010: 6420 6f66 2074 6865 2073 7761 726d 2e0a  d of the swarm..
-0001e020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e030: 4578 616d 706c 653a 4772 6f75 705f 3120  Example:Group_1 
-0001e040: 6f72 2036 6135 6431 3233 6230 3166 3934  or 6a5d123b01f94
-0001e050: 3431 3830 3632 3434 6561 3665 3032 3366  41806244ea6e023f
-0001e060: 6162 3538 3431 6237 3763 3832 3861 3038  ab5841b77c828a08
-0001e070: 3566 3034 662e 0a20 2020 2020 2020 2020  5f04f..         
-0001e080: 2020 2077 6c61 6e5f 6e61 6d65 2028 7374     wlan_name (st
-0001e090: 7229 3a20 4e61 6d65 206f 6620 574c 414e  r): Name of WLAN
-0001e0a0: 2074 6f20 6265 2064 656c 6574 6564 2e0a   to be deleted..
-0001e0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e0c0: 4578 616d 706c 653a 776c 616e 5f31 2e0a  Example:wlan_1..
-0001e0d0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0001e0e0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0001e0f0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0001e100: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0001e110: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0001e120: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-0001e130: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
-0001e140: 2f77 6c61 6e2f 7b67 726f 7570 7d2f 7b77  /wlan/{group}/{w
-0001e150: 6c61 6e5f 6e61 6d65 7d22 0a0a 2020 2020  lan_name}"..    
-0001e160: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0001e170: 2073 656c 662e 6465 6c65 7465 2875 726c   self.delete(url
-0001e180: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0001e190: 2067 6574 5f77 6c61 6e28 7365 6c66 2c20   get_wlan(self, 
-0001e1a0: 6772 6f75 703a 2073 7472 2c20 776c 616e  group: str, wlan
-0001e1b0: 5f6e 616d 653a 2073 7472 2920 2d3e 2052  _name: str) -> R
-0001e1c0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0001e1d0: 2022 2222 4765 7420 7468 6520 696e 666f   """Get the info
-0001e1e0: 726d 6174 696f 6e20 6f66 2061 6e20 6578  rmation of an ex
-0001e1f0: 6973 7469 6e67 2057 4c41 4e2e 0a0a 2020  isting WLAN...  
-0001e200: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0001e210: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-0001e220: 7472 293a 2047 726f 7570 206e 616d 6520  tr): Group name 
-0001e230: 6f66 2074 6865 2067 726f 7570 206f 7220  of the group or 
-0001e240: 6775 6964 206f 6620 7468 6520 7377 6172  guid of the swar
-0001e250: 6d2e 0a20 2020 2020 2020 2020 2020 2020  m..             
-0001e260: 2020 2045 7861 6d70 6c65 3a47 726f 7570     Example:Group
-0001e270: 5f31 206f 7220 3661 3564 3132 3362 3031  _1 or 6a5d123b01
-0001e280: 6639 3434 3138 3036 3234 3465 6136 6530  f9441806244ea6e0
-0001e290: 3233 6661 6235 3834 3162 3737 6338 3238  23fab5841b77c828
-0001e2a0: 6130 3835 6630 3466 2e0a 2020 2020 2020  a085f04f..      
-0001e2b0: 2020 2020 2020 776c 616e 5f6e 616d 6520        wlan_name 
-0001e2c0: 2873 7472 293a 204e 616d 6520 6f66 2057  (str): Name of W
-0001e2d0: 4c41 4e20 7365 6c65 6374 6564 2e0a 2020  LAN selected..  
-0001e2e0: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
-0001e2f0: 616d 706c 653a 776c 616e 5f31 2e0a 0a20  ample:wlan_1... 
-0001e300: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0001e310: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0001e320: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0001e330: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0001e340: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001e350: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
-0001e360: 6e66 6967 7572 6174 696f 6e2f 7632 2f77  nfiguration/v2/w
-0001e370: 6c61 6e2f 7b67 726f 7570 7d2f 7b77 6c61  lan/{group}/{wla
-0001e380: 6e5f 6e61 6d65 7d22 0a0a 2020 2020 2020  n_name}"..      
-0001e390: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-0001e3a0: 656c 662e 6765 7428 7572 6c29 0a0a 2020  elf.get(url)..  
-0001e3b0: 2020 6173 796e 6320 6465 6620 6372 6561    async def crea
-0001e3c0: 7465 5f77 6c61 6e28 0a20 2020 2020 2020  te_wlan(.       
-0001e3d0: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
-0001e3e0: 726f 7570 3a20 7374 722c 0a20 2020 2020  roup: str,.     
-0001e3f0: 2020 2077 6c61 6e5f 6e61 6d65 3a20 7374     wlan_name: st
-0001e400: 722c 0a20 2020 2020 2020 2077 7061 5f70  r,.        wpa_p
-0001e410: 6173 7370 6872 6173 653a 2073 7472 2c0a  assphrase: str,.
-0001e420: 2020 2020 2020 2020 2320 7770 615f 7061          # wpa_pa
-0001e430: 7373 7068 7261 7365 5f63 6861 6e67 6564  ssphrase_changed
-0001e440: 3a20 626f 6f6c 203d 2054 7275 652c 0a20  : bool = True,. 
-0001e450: 2020 2020 2020 2076 6c61 6e3a 2073 7472         vlan: str
-0001e460: 203d 2022 222c 0a20 2020 2020 2020 2074   = "",.        t
-0001e470: 7970 653a 2057 6c61 6e54 7970 6520 3d20  ype: WlanType = 
-0001e480: 2265 6d70 6c6f 7965 6522 2c0a 2020 2020  "employee",.    
-0001e490: 2020 2020 6573 7369 643a 2073 7472 203d      essid: str =
-0001e4a0: 204e 6f6e 652c 0a20 2020 2020 2020 207a   None,.        z
-0001e4b0: 6f6e 653a 2073 7472 203d 2022 222c 0a20  one: str = "",. 
-0001e4c0: 2020 2020 2020 2063 6170 7469 7665 5f70         captive_p
-0001e4d0: 726f 6669 6c65 5f6e 616d 653a 2073 7472  rofile_name: str
-0001e4e0: 203d 2022 222c 0a20 2020 2020 2020 2062   = "",.        b
-0001e4f0: 616e 6477 6964 7468 5f6c 696d 6974 5f75  andwidth_limit_u
-0001e500: 703a 2073 7472 203d 2022 222c 0a20 2020  p: str = "",.   
-0001e510: 2020 2020 2062 616e 6477 6964 7468 5f6c       bandwidth_l
-0001e520: 696d 6974 5f64 6f77 6e3a 2073 7472 203d  imit_down: str =
-0001e530: 2022 222c 0a20 2020 2020 2020 2062 616e   "",.        ban
-0001e540: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001e550: 7573 6572 5f75 703a 2073 7472 203d 2022  user_up: str = "
-0001e560: 222c 0a20 2020 2020 2020 2062 616e 6477  ",.        bandw
-0001e570: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
-0001e580: 6572 5f64 6f77 6e3a 2073 7472 203d 2022  er_down: str = "
-0001e590: 222c 0a20 2020 2020 2020 2061 6363 6573  ",.        acces
-0001e5a0: 735f 7275 6c65 733a 206c 6973 7420 3d20  s_rules: list = 
-0001e5b0: 4445 4641 554c 545f 4143 4345 5353 5f52  DEFAULT_ACCESS_R
-0001e5c0: 554c 4553 5b22 414c 4c4f 575f 414c 4c22  ULES["ALLOW_ALL"
-0001e5d0: 5d2c 0a20 2020 2020 2020 2069 735f 6c6f  ],.        is_lo
-0001e5e0: 636b 6564 3a20 626f 6f6c 203d 2046 616c  cked: bool = Fal
-0001e5f0: 7365 2c0a 2020 2020 2020 2020 6869 6465  se,.        hide
-0001e600: 5f73 7369 643a 2062 6f6f 6c20 3d20 4661  _ssid: bool = Fa
-0001e610: 6c73 652c 0a20 2020 2029 202d 3e20 5265  lse,.    ) -> Re
-0001e620: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-0001e630: 2222 2243 7265 6174 6520 6120 6e65 7720  """Create a new 
-0001e640: 574c 414e 2028 5353 4944 292e 0a0a 2020  WLAN (SSID)...  
-0001e650: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0001e660: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
-0001e670: 7472 293a 2041 7275 6261 2043 656e 7472  tr): Aruba Centr
-0001e680: 616c 2047 726f 7570 206e 616d 6520 6f72  al Group name or
-0001e690: 2073 7761 726d 2067 7569 640a 2020 2020   swarm guid.    
-0001e6a0: 2020 2020 2020 2020 776c 616e 5f6e 616d          wlan_nam
-0001e6b0: 6520 2873 7472 293a 204e 616d 6520 6f66  e (str): Name of
-0001e6c0: 2074 6865 2057 4c41 4e2f 4e65 7477 6f72   the WLAN/Networ
-0001e6d0: 6b0a 2020 2020 2020 2020 2020 2020 7770  k.            wp
-0001e6e0: 615f 7061 7373 7068 7261 7365 2028 7374  a_passphrase (st
-0001e6f0: 7229 3a20 5750 4120 7061 7373 7068 7261  r): WPA passphra
-0001e700: 7365 0a20 2020 2020 2020 2020 2020 2076  se.            v
-0001e710: 6c61 6e20 2873 7472 293a 2043 6c69 656e  lan (str): Clien
-0001e720: 7420 564c 414e 206e 616d 6520 6f72 2069  t VLAN name or i
-0001e730: 642e 2044 6566 6175 6c74 7320 746f 2022  d. Defaults to "
-0001e740: 2220 284e 6174 6976 6520 4150 2056 4c41  " (Native AP VLA
-0001e750: 4e29 2e0a 2020 2020 2020 2020 2020 2020  N)..            
-0001e760: 7479 7065 2028 576c 616e 5479 7065 2c20  type (WlanType, 
-0001e770: 6f70 7469 6f6e 616c 293a 2056 616c 6964  optional): Valid
-0001e780: 3a20 5b27 656d 706c 6f79 6565 272c 2027  : ['employee', '
-0001e790: 6775 6573 7427 5d2e 2044 6566 6175 6c74  guest']. Default
-0001e7a0: 7320 746f 2022 656d 706c 6f79 6565 222e  s to "employee".
-0001e7b0: 0a20 2020 2020 2020 2020 2020 2065 7373  .            ess
-0001e7c0: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
-0001e7d0: 6c29 3a20 5353 4944 2e20 4465 6661 756c  l): SSID. Defaul
-0001e7e0: 7473 2074 6f20 4e6f 6e65 2028 6573 7369  ts to None (essi
-0001e7f0: 6420 3d20 776c 616e 5f6e 616d 6529 2e0a  d = wlan_name)..
-0001e800: 2020 2020 2020 2020 2020 2020 7a6f 6e65              zone
-0001e810: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0001e820: 3a20 4150 205a 6f6e 6520 5353 4944 2077  : AP Zone SSID w
-0001e830: 696c 6c20 6272 6f61 6463 6173 7420 6f6e  ill broadcast on
-0001e840: 2e20 4465 6661 756c 7473 2074 6f20 2222  . Defaults to ""
-0001e850: 2028 4272 6f61 6463 6173 7420 6f6e 2061   (Broadcast on a
-0001e860: 6c6c 2041 5073 292e 0a20 2020 2020 2020  ll APs)..       
-0001e870: 2020 2020 2063 6170 7469 7665 5f70 726f       captive_pro
-0001e880: 6669 6c65 5f6e 616d 6520 2873 7472 2c20  file_name (str, 
-0001e890: 6f70 7469 6f6e 616c 293a 2043 6170 7469  optional): Capti
-0001e8a0: 7665 2050 6f72 7461 6c20 5072 6f66 696c  ve Portal Profil
-0001e8b0: 652e 2044 6566 6175 6c74 7320 746f 2022  e. Defaults to "
-0001e8c0: 2220 284e 6f20 4350 2050 726f 6669 6c65  " (No CP Profile
-0001e8d0: 292e 0a20 2020 2020 2020 2020 2020 2062  )..            b
-0001e8e0: 616e 6477 6964 7468 5f6c 696d 6974 5f75  andwidth_limit_u
-0001e8f0: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
-0001e900: 293a 205b 6465 7363 7269 7074 696f 6e5d  ): [description]
-0001e910: 2e20 4465 6661 756c 7473 2074 6f20 2222  . Defaults to ""
-0001e920: 2028 4e6f 2042 5720 4c69 6d69 7420 5570   (No BW Limit Up
-0001e930: 292e 0a20 2020 2020 2020 2020 2020 2062  )..            b
-0001e940: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
-0001e950: 6f77 6e20 2873 7472 2c20 6f70 7469 6f6e  own (str, option
-0001e960: 616c 293a 205b 6465 7363 7269 7074 696f  al): [descriptio
-0001e970: 6e5d 2e20 4465 6661 756c 7473 2074 6f20  n]. Defaults to 
-0001e980: 2222 2028 4e6f 2042 5720 4c69 6d69 7420  "" (No BW Limit 
-0001e990: 446f 776e 292e 0a20 2020 2020 2020 2020  Down)..         
-0001e9a0: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
-0001e9b0: 6974 5f70 6572 7573 6572 5f75 7020 2873  it_peruser_up (s
-0001e9c0: 7472 2c20 6f70 7469 6f6e 616c 293a 205b  tr, optional): [
-0001e9d0: 6465 7363 7269 7074 696f 6e5d 2e20 4465  description]. De
-0001e9e0: 6661 756c 7473 2074 6f20 2222 2028 4e6f  faults to "" (No
-0001e9f0: 2070 6572 2075 7365 7220 4257 204c 696d   per user BW Lim
-0001ea00: 6974 2055 7029 2e0a 2020 2020 2020 2020  it Up)..        
-0001ea10: 2020 2020 6261 6e64 7769 6474 685f 6c69      bandwidth_li
-0001ea20: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
-0001ea30: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0001ea40: 3a20 5b64 6573 6372 6970 7469 6f6e 5d2e  : [description].
-0001ea50: 2044 6566 6175 6c74 7320 746f 2022 2220   Defaults to "" 
-0001ea60: 284e 6f20 7065 7220 7573 6572 2042 5720  (No per user BW 
-0001ea70: 4c69 6d69 7420 446f 776e 292e 0a20 2020  Limit Down)..   
-0001ea80: 2020 2020 2020 2020 2061 6363 6573 735f           access_
-0001ea90: 7275 6c65 7320 286c 6973 742c 206f 7074  rules (list, opt
-0001eaa0: 696f 6e61 6c29 3a20 5b64 6573 6372 6970  ional): [descrip
-0001eab0: 7469 6f6e 5d2e 2044 6566 6175 6c74 3a20  tion]. Default: 
-0001eac0: 756e 7265 7374 7269 6374 6564 2e0a 2020  unrestricted..  
-0001ead0: 2020 2020 2020 2020 2020 6973 5f6c 6f63            is_loc
-0001eae0: 6b65 6420 2862 6f6f 6c2c 206f 7074 696f  ked (bool, optio
-0001eaf0: 6e61 6c29 3a20 5b64 6573 6372 6970 7469  nal): [descripti
-0001eb00: 6f6e 5d2e 2044 6566 6175 6c74 7320 746f  on]. Defaults to
-0001eb10: 2046 616c 7365 2e0a 2020 2020 2020 2020   False..        
-0001eb20: 2020 2020 6869 6465 5f73 7369 6420 2862      hide_ssid (b
-0001eb30: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-0001eb40: 5b64 6573 6372 6970 7469 6f6e 5d2e 2044  [description]. D
-0001eb50: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
-0001eb60: 2e0a 2020 2020 2020 2020 2020 2020 7770  ..            wp
-0001eb70: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
-0001eb80: 6e67 6564 2028 626f 6f6c 2c20 6f70 7469  nged (bool, opti
-0001eb90: 6f6e 616c 293a 2069 6e64 6963 6174 6573  onal): indicates
-0001eba0: 2070 6173 7370 6872 6173 6520 6861 7320   passphrase has 
-0001ebb0: 6368 616e 6765 642e 2044 6566 6175 6c74  changed. Default
-0001ebc0: 7320 746f 2054 7275 652e 0a0a 2020 2020  s to True...    
-0001ebd0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
-0001ebe0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
-0001ebf0: 653a 205b 6465 7363 7269 7074 696f 6e5d  e: [description]
-0001ec00: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001ec10: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
-0001ec20: 6e66 6967 7572 6174 696f 6e2f 7632 2f77  nfiguration/v2/w
-0001ec30: 6c61 6e2f 7b67 726f 7570 7d2f 7b77 6c61  lan/{group}/{wla
-0001ec40: 6e5f 6e61 6d65 7d22 0a0a 2020 2020 2020  n_name}"..      
-0001ec50: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
-0001ec60: 2020 2020 2020 2020 2020 2020 2277 6c61              "wla
-0001ec70: 6e22 3a20 7b0a 2020 2020 2020 2020 2020  n": {.          
-0001ec80: 2020 2020 2020 2765 7373 6964 273a 2065        'essid': e
-0001ec90: 7373 6964 206f 7220 776c 616e 5f6e 616d  ssid or wlan_nam
-0001eca0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0001ecb0: 2020 2027 7479 7065 273a 2074 7970 652c     'type': type,
-0001ecc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ecd0: 2027 6869 6465 5f73 7369 6427 3a20 6869   'hide_ssid': hi
-0001ece0: 6465 5f73 7369 642c 0a20 2020 2020 2020  de_ssid,.       
-0001ecf0: 2020 2020 2020 2020 2027 766c 616e 273a           'vlan':
-0001ed00: 2076 6c61 6e2c 0a20 2020 2020 2020 2020   vlan,.         
-0001ed10: 2020 2020 2020 2027 7a6f 6e65 273a 207a         'zone': z
-0001ed20: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-0001ed30: 2020 2020 2027 7770 615f 7061 7373 7068       'wpa_passph
-0001ed40: 7261 7365 273a 2077 7061 5f70 6173 7370  rase': wpa_passp
-0001ed50: 6872 6173 652c 0a20 2020 2020 2020 2020  hrase,.         
-0001ed60: 2020 2020 2020 2023 2027 7770 615f 7061         # 'wpa_pa
-0001ed70: 7373 7068 7261 7365 5f63 6861 6e67 6564  ssphrase_changed
-0001ed80: 273a 2077 7061 5f70 6173 7370 6872 6173  ': wpa_passphras
-0001ed90: 655f 6368 616e 6765 642c 0a20 2020 2020  e_changed,.     
-0001eda0: 2020 2020 2020 2020 2020 2027 6973 5f6c             'is_l
-0001edb0: 6f63 6b65 6427 3a20 6973 5f6c 6f63 6b65  ocked': is_locke
-0001edc0: 642c 0a20 2020 2020 2020 2020 2020 2020  d,.             
-0001edd0: 2020 2027 6361 7074 6976 655f 7072 6f66     'captive_prof
-0001ede0: 696c 655f 6e61 6d65 273a 2063 6170 7469  ile_name': capti
-0001edf0: 7665 5f70 726f 6669 6c65 5f6e 616d 652c  ve_profile_name,
-0001ee00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ee10: 2027 6261 6e64 7769 6474 685f 6c69 6d69   'bandwidth_limi
-0001ee20: 745f 7570 273a 2062 616e 6477 6964 7468  t_up': bandwidth
-0001ee30: 5f6c 696d 6974 5f75 702c 0a20 2020 2020  _limit_up,.     
-0001ee40: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
-0001ee50: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
-0001ee60: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
-0001ee70: 6974 5f64 6f77 6e2c 0a20 2020 2020 2020  it_down,.       
-0001ee80: 2020 2020 2020 2020 2027 6261 6e64 7769           'bandwi
-0001ee90: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
-0001eea0: 725f 7570 273a 2062 616e 6477 6964 7468  r_up': bandwidth
-0001eeb0: 5f6c 696d 6974 5f70 6572 7573 6572 5f75  _limit_peruser_u
-0001eec0: 702c 0a20 2020 2020 2020 2020 2020 2020  p,.             
-0001eed0: 2020 2027 6261 6e64 7769 6474 685f 6c69     'bandwidth_li
-0001eee0: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
-0001eef0: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
-0001ef00: 6974 5f70 6572 7573 6572 5f64 6f77 6e2c  it_peruser_down,
-0001ef10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001ef20: 2027 6163 6365 7373 5f72 756c 6573 273a   'access_rules':
-0001ef30: 2061 6363 6573 735f 7275 6c65 730a 2020   access_rules.  
-0001ef40: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
-0001ef50: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-0001ef60: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0001ef70: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-0001ef80: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-0001ef90: 0a20 2020 2061 7379 6e63 2064 6566 2063  .    async def c
-0001efa0: 6f6e 6669 6775 7261 7469 6f6e 5f63 6c65  onfiguration_cle
-0001efb0: 616e 5f75 705f 616e 645f 7570 6461 7465  an_up_and_update
-0001efc0: 5f77 6c61 6e5f 7632 2873 656c 662c 2067  _wlan_v2(self, g
-0001efd0: 726f 7570 5f6e 616d 655f 6f72 5f67 7569  roup_name_or_gui
-0001efe0: 643a 2073 7472 2c0a 2020 2020 2020 2020  d: str,.        
-0001eff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f020: 776c 616e 5f6e 616d 653a 2073 7472 2c20  wlan_name: str, 
-0001f030: 6573 7369 643a 2073 7472 2c20 7479 7065  essid: str, type
-0001f040: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
-0001f050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f070: 2020 2020 2020 2020 2020 2020 2020 2068                 h
-0001f080: 6964 655f 7373 6964 3a20 626f 6f6c 2c20  ide_ssid: bool, 
-0001f090: 766c 616e 3a20 7374 722c 207a 6f6e 653a  vlan: str, zone:
-0001f0a0: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
-0001f0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0d0: 2020 2020 2020 2020 2020 2020 2020 7770                wp
-0001f0e0: 615f 7061 7373 7068 7261 7365 3a20 7374  a_passphrase: st
-0001f0f0: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
-0001f100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f120: 2020 2020 2020 2020 2020 2077 7061 5f70             wpa_p
-0001f130: 6173 7370 6872 6173 655f 6368 616e 6765  assphrase_change
-0001f140: 643a 2062 6f6f 6c2c 0a20 2020 2020 2020  d: bool,.       
-0001f150: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f180: 2069 735f 6c6f 636b 6564 3a20 626f 6f6c   is_locked: bool
-0001f190: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001f1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1c0: 2020 2020 2020 2020 2020 6361 7074 6976            captiv
-0001f1d0: 655f 7072 6f66 696c 655f 6e61 6d65 3a20  e_profile_name: 
-0001f1e0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
-0001f1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f210: 2020 2020 2020 2020 2020 2020 2062 616e               ban
-0001f220: 6477 6964 7468 5f6c 696d 6974 5f75 703a  dwidth_limit_up:
-0001f230: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
+00014ec0: 2054 6865 2069 6420 6f66 2074 6865 206c   The id of the l
+00014ed0: 6f67 2074 6f20 7265 7475 726e 2064 6574  og to return det
+00014ee0: 6169 6c73 2066 6f72 2e20 4465 6661 756c  ails for. Defaul
+00014ef0: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+00014f00: 2020 2020 2020 2020 7573 6572 6e61 6d65          username
+00014f10: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00014f20: 3a20 4669 6c74 6572 2061 7564 6974 206c  : Filter audit l
+00014f30: 6f67 7320 6279 2055 7365 7220 4e61 6d65  ogs by User Name
+00014f40: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+00014f50: 7274 5f74 696d 6520 2869 6e74 2c20 6f70  rt_time (int, op
+00014f60: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
+00014f70: 6175 6469 7420 6c6f 6773 2062 7920 5469  audit logs by Ti
+00014f80: 6d65 2052 616e 6765 2e20 5374 6172 7420  me Range. Start 
+00014f90: 7469 6d65 206f 6620 7468 6520 6175 6469  time of the audi
+00014fa0: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
+00014fb0: 2020 6c6f 6773 2073 686f 756c 6420 6265    logs should be
+00014fc0: 2070 726f 7669 6465 6420 696e 2065 706f   provided in epo
+00014fd0: 6368 2073 6563 6f6e 6473 0a20 2020 2020  ch seconds.     
+00014fe0: 2020 2020 2020 2065 6e64 5f74 696d 6520         end_time 
+00014ff0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00015000: 2046 696c 7465 7220 6175 6469 7420 6c6f   Filter audit lo
+00015010: 6773 2062 7920 5469 6d65 2052 616e 6765  gs by Time Range
+00015020: 2e20 456e 6420 7469 6d65 206f 6620 7468  . End time of th
+00015030: 6520 6175 6469 7420 6c6f 6773 0a20 2020  e audit logs.   
+00015040: 2020 2020 2020 2020 2020 2020 2073 686f               sho
+00015050: 756c 6420 6265 2070 726f 7669 6465 6420  uld be provided 
+00015060: 696e 2065 706f 6368 2073 6563 6f6e 6473  in epoch seconds
+00015070: 0a20 2020 2020 2020 2020 2020 2064 6573  .            des
+00015080: 6372 6970 7469 6f6e 2028 7374 722c 206f  cription (str, o
+00015090: 7074 696f 6e61 6c29 3a20 4669 6c74 6572  ptional): Filter
+000150a0: 2061 7564 6974 206c 6f67 7320 6279 2044   audit logs by D
+000150b0: 6573 6372 6970 7469 6f6e 0a20 2020 2020  escription.     
+000150c0: 2020 2020 2020 2074 6172 6765 7420 2873         target (s
+000150d0: 7472 2c20 6f70 7469 6f6e 616c 293a 2046  tr, optional): F
+000150e0: 696c 7465 7220 6175 6469 7420 6c6f 6773  ilter audit logs
+000150f0: 2062 7920 7461 7267 6574 2028 7365 7269   by target (seri
+00015100: 616c 206e 756d 6265 7229 2e0a 2020 2020  al number)..    
+00015110: 2020 2020 2020 2020 636c 6173 7369 6669          classifi
+00015120: 6361 7469 6f6e 2028 7374 722c 206f 7074  cation (str, opt
+00015130: 696f 6e61 6c29 3a20 4669 6c74 6572 2061  ional): Filter a
+00015140: 7564 6974 206c 6f67 7320 6279 2043 6c61  udit logs by Cla
+00015150: 7373 6966 6963 6174 696f 6e0a 2020 2020  ssification.    
+00015160: 2020 2020 2020 2020 6375 7374 6f6d 6572          customer
+00015170: 5f6e 616d 6520 2873 7472 2c20 6f70 7469  _name (str, opti
+00015180: 6f6e 616c 293a 2046 696c 7465 7220 6175  onal): Filter au
+00015190: 6469 7420 6c6f 6773 2062 7920 4375 7374  dit logs by Cust
+000151a0: 6f6d 6572 204e 616d 650a 2020 2020 2020  omer Name.      
+000151b0: 2020 2020 2020 6970 5f61 6464 7265 7373        ip_address
+000151c0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+000151d0: 3a20 4669 6c74 6572 2061 7564 6974 206c  : Filter audit l
+000151e0: 6f67 7320 6279 2049 5020 4164 6472 6573  ogs by IP Addres
+000151f0: 730a 2020 2020 2020 2020 2020 2020 6170  s.            ap
+00015200: 705f 6964 2028 7374 722c 206f 7074 696f  p_id (str, optio
+00015210: 6e61 6c29 3a20 4669 6c74 6572 2061 7564  nal): Filter aud
+00015220: 6974 206c 6f67 7320 6279 2061 7070 5f69  it logs by app_i
+00015230: 640a 2020 2020 2020 2020 2020 2020 6f66  d.            of
+00015240: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+00015250: 6e61 6c29 3a20 4e75 6d62 6572 206f 6620  nal): Number of 
+00015260: 6974 656d 7320 746f 2062 6520 736b 6970  items to be skip
+00015270: 7065 6420 6265 666f 7265 2072 6574 7572  ped before retur
+00015280: 6e69 6e67 2074 6865 2064 6174 612e 0a20  ning the data.. 
+00015290: 2020 2020 2020 2020 2020 2020 2020 2044                 D
+000152a0: 6566 6175 6c74 2074 6f20 302e 0a20 2020  efault to 0..   
+000152b0: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
+000152c0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+000152d0: 4d61 7869 6d75 6d20 6e75 6d62 6572 206f  Maximum number o
+000152e0: 6620 6175 6469 7420 6576 656e 7473 2074  f audit events t
+000152f0: 6f20 6265 2072 6574 7572 6e65 6420 6d61  o be returned ma
+00015300: 783a 2031 3030 0a20 2020 2020 2020 2020  x: 100.         
+00015310: 2020 2020 2020 2044 6566 6175 6c74 7320         Defaults 
+00015320: 746f 2031 3030 2e0a 2020 2020 2020 2020  to 100..        
+00015330: 2020 2020 636f 756e 743a 204f 6e6c 7920      count: Only 
+00015340: 7265 7475 726e 203c 636f 756e 743e 2072  return <count> r
+00015350: 6573 756c 7473 2e0a 0a20 2020 2020 2020  esults...       
+00015360: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00015370: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00015380: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00015390: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+000153a0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+000153b0: 726c 203d 2022 2f70 6c61 7466 6f72 6d2f  rl = "/platform/
+000153c0: 6175 6469 746c 6f67 732f 7631 2f6c 6f67  auditlogs/v1/log
+000153d0: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
+000153e0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
+000153f0: 2020 2022 7573 6572 6e61 6d65 223a 2075     "username": u
+00015400: 7365 726e 616d 652c 0a20 2020 2020 2020  sername,.       
+00015410: 2020 2020 2022 7374 6172 745f 7469 6d65       "start_time
+00015420: 223a 2073 7461 7274 5f74 696d 652c 0a20  ": start_time,. 
+00015430: 2020 2020 2020 2020 2020 2022 656e 645f             "end_
+00015440: 7469 6d65 223a 2065 6e64 5f74 696d 652c  time": end_time,
+00015450: 0a20 2020 2020 2020 2020 2020 2022 6465  .            "de
+00015460: 7363 7269 7074 696f 6e22 3a20 6465 7363  scription": desc
+00015470: 7269 7074 696f 6e2c 0a20 2020 2020 2020  ription,.       
+00015480: 2020 2020 2022 7461 7267 6574 223a 2074       "target": t
+00015490: 6172 6765 742c 0a20 2020 2020 2020 2020  arget,.         
+000154a0: 2020 2022 636c 6173 7369 6669 6361 7469     "classificati
+000154b0: 6f6e 223a 2063 6c61 7373 6966 6963 6174  on": classificat
+000154c0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
+000154d0: 2022 6375 7374 6f6d 6572 5f6e 616d 6522   "customer_name"
+000154e0: 3a20 6375 7374 6f6d 6572 5f6e 616d 652c  : customer_name,
+000154f0: 0a20 2020 2020 2020 2020 2020 2022 6970  .            "ip
+00015500: 5f61 6464 7265 7373 223a 2069 705f 6164  _address": ip_ad
+00015510: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
+00015520: 2020 2022 6170 705f 6964 223a 2061 7070     "app_id": app
+00015530: 5f69 6420 6966 206e 6f74 2068 6173 6174  _id if not hasat
+00015540: 7472 2861 7070 5f69 642c 2022 7661 6c75  tr(app_id, "valu
+00015550: 6522 2920 656c 7365 2061 7070 5f69 642e  e") else app_id.
+00015560: 7661 6c75 652c 0a20 2020 2020 2020 2020  value,.         
+00015570: 2020 2022 6f66 6673 6574 223a 206f 6666     "offset": off
+00015580: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
+00015590: 2022 6c69 6d69 7422 3a20 6c69 6d69 7420   "limit": limit 
+000155a0: 6966 206e 6f74 2063 6f75 6e74 206f 7220  if not count or 
+000155b0: 6c69 6d69 7420 3c20 636f 756e 7420 656c  limit < count el
+000155c0: 7365 2063 6f75 6e74 2c0a 2020 2020 2020  se count,.      
+000155d0: 2020 7d0a 0a20 2020 2020 2020 2069 6620    }..        if 
+000155e0: 6c6f 675f 6964 3a0a 2020 2020 2020 2020  log_id:.        
+000155f0: 2020 2020 7572 6c20 3d20 6622 7b75 726c      url = f"{url
+00015600: 7d2f 7b6c 6f67 5f69 647d 220a 2020 2020  }/{log_id}".    
+00015610: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00015620: 207b 7d0a 0a20 2020 2020 2020 2072 6574   {}..        ret
+00015630: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00015640: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00015650: 6172 616d 732c 2063 6f75 6e74 3d63 6f75  arams, count=cou
+00015660: 6e74 290a 0a20 2020 2061 7379 6e63 2064  nt)..    async d
+00015670: 6566 2067 6574 5f61 7564 6974 5f6c 6f67  ef get_audit_log
+00015680: 735f 6576 656e 7473 280a 2020 2020 2020  s_events(.      
+00015690: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+000156a0: 6772 6f75 705f 6e61 6d65 3a20 7374 7220  group_name: str 
+000156b0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000156c0: 6465 7669 6365 5f69 643a 2073 7472 203d  device_id: str =
+000156d0: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
+000156e0: 6c61 7373 6966 6963 6174 696f 6e3a 2073  lassification: s
+000156f0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00015700: 2020 2073 7461 7274 5f74 696d 653a 2069     start_time: i
+00015710: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+00015720: 2020 2065 6e64 5f74 696d 653a 2069 6e74     end_time: int
+00015730: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00015740: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
+00015750: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
+00015760: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
+00015770: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00015780: 2020 2020 2020 2022 2222 4765 7420 616c         """Get al
+00015790: 6c20 6175 6469 7420 6576 656e 7473 2066  l audit events f
+000157a0: 6f72 2061 6c6c 2067 726f 7570 732e 0a0a  or all groups...
+000157b0: 2020 2020 2020 2020 4375 7272 656e 746c          Currentl
+000157c0: 7920 6e6f 7420 7573 6564 2066 6f72 2061  y not used for a
+000157d0: 6e79 2063 6f6d 6d61 6e64 7320 6164 6465  ny commands adde
+000157e0: 6420 746f 2063 6f6d 7061 7265 206f 7574  d to compare out
+000157f0: 7075 7420 746f 202e 2e2e 2f70 6c61 7466  put to .../platf
+00015800: 6f72 6d2f 2e2e 2e20 7061 7468 2028 6765  orm/... path (ge
+00015810: 745f 6175 6469 745f 6c6f 6773 290a 0a20  t_audit_logs).. 
+00015820: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00015830: 2020 2020 2020 2020 2067 726f 7570 5f6e           group_n
+00015840: 616d 6520 2873 7472 2c20 6f70 7469 6f6e  ame (str, option
+00015850: 616c 293a 2046 696c 7465 7220 6175 6469  al): Filter audi
+00015860: 7420 6576 656e 7473 2062 7920 4772 6f75  t events by Grou
+00015870: 7020 4e61 6d65 0a20 2020 2020 2020 2020  p Name.         
+00015880: 2020 2064 6576 6963 655f 6964 2028 7374     device_id (st
+00015890: 722c 206f 7074 696f 6e61 6c29 3a20 4669  r, optional): Fi
+000158a0: 6c74 6572 2061 7564 6974 2065 7665 6e74  lter audit event
+000158b0: 7320 6279 2054 6172 6765 7420 2f20 4465  s by Target / De
+000158c0: 7669 6365 2049 442e 2044 6576 6963 6520  vice ID. Device 
+000158d0: 4944 2066 6f72 2041 500a 2020 2020 2020  ID for AP.      
+000158e0: 2020 2020 2020 2020 2020 6973 2056 4320            is VC 
+000158f0: 4e61 6d65 2061 6e64 2053 6572 6961 6c20  Name and Serial 
+00015900: 4e75 6d62 6572 2066 6f72 2053 7769 7463  Number for Switc
+00015910: 6865 730a 2020 2020 2020 2020 2020 2020  hes.            
+00015920: 636c 6173 7369 6669 6361 7469 6f6e 2028  classification (
+00015930: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00015940: 4669 6c74 6572 2061 7564 6974 2065 7665  Filter audit eve
+00015950: 6e74 7320 6279 2063 6c61 7373 6966 6963  nts by classific
+00015960: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
+00015970: 2020 7374 6172 745f 7469 6d65 2028 696e    start_time (in
+00015980: 742c 206f 7074 696f 6e61 6c29 3a20 4669  t, optional): Fi
+00015990: 6c74 6572 2061 7564 6974 206c 6f67 7320  lter audit logs 
+000159a0: 6279 2054 696d 6520 5261 6e67 652e 2053  by Time Range. S
+000159b0: 7461 7274 2074 696d 6520 6f66 2074 6865  tart time of the
+000159c0: 2061 7564 6974 0a20 2020 2020 2020 2020   audit.         
+000159d0: 2020 2020 2020 206c 6f67 7320 7368 6f75         logs shou
+000159e0: 6c64 2062 6520 7072 6f76 6964 6564 2069  ld be provided i
+000159f0: 6e20 6570 6f63 6820 7365 636f 6e64 730a  n epoch seconds.
+00015a00: 2020 2020 2020 2020 2020 2020 656e 645f              end_
+00015a10: 7469 6d65 2028 696e 742c 206f 7074 696f  time (int, optio
+00015a20: 6e61 6c29 3a20 4669 6c74 6572 2061 7564  nal): Filter aud
+00015a30: 6974 206c 6f67 7320 6279 2054 696d 6520  it logs by Time 
+00015a40: 5261 6e67 652e 2045 6e64 2074 696d 6520  Range. End time 
+00015a50: 6f66 2074 6865 2061 7564 6974 206c 6f67  of the audit log
+00015a60: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00015a70: 2020 7368 6f75 6c64 2062 6520 7072 6f76    should be prov
+00015a80: 6964 6564 2069 6e20 6570 6f63 6820 7365  ided in epoch se
+00015a90: 636f 6e64 730a 2020 2020 2020 2020 2020  conds.          
+00015aa0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+00015ab0: 7074 696f 6e61 6c29 3a20 4e75 6d62 6572  ptional): Number
+00015ac0: 206f 6620 6974 656d 7320 746f 2062 6520   of items to be 
+00015ad0: 736b 6970 7065 6420 6265 666f 7265 2072  skipped before r
+00015ae0: 6574 7572 6e69 6e67 2074 6865 2064 6174  eturning the dat
+00015af0: 612c 2075 7365 6675 6c0a 2020 2020 2020  a, useful.      
+00015b00: 2020 2020 2020 2020 2020 666f 7220 7061            for pa
+00015b10: 6769 6e61 7469 6f6e 2044 6566 6175 6c74  gination Default
+00015b20: 7320 746f 2030 2e0a 2020 2020 2020 2020  s to 0..        
+00015b30: 2020 2020 6c69 6d69 7420 2869 6e74 2c20      limit (int, 
+00015b40: 6f70 7469 6f6e 616c 293a 204d 6178 696d  optional): Maxim
+00015b50: 756d 206e 756d 6265 7220 6f66 2061 7564  um number of aud
+00015b60: 6974 2065 7665 6e74 7320 746f 2062 6520  it events to be 
+00015b70: 7265 7475 726e 6564 2044 6566 6175 6c74  returned Default
+00015b80: 7320 746f 2031 3030 2e0a 0a20 2020 2020  s to 100...     
+00015b90: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00015ba0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00015bb0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00015bc0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00015bd0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00015be0: 2075 726c 203d 2022 2f61 7564 6974 6c6f   url = "/auditlo
+00015bf0: 6773 2f76 312f 6576 656e 7473 220a 0a20  gs/v1/events".. 
+00015c00: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00015c10: 7b0a 2020 2020 2020 2020 2020 2020 2767  {.            'g
+00015c20: 726f 7570 5f6e 616d 6527 3a20 6772 6f75  roup_name': grou
+00015c30: 705f 6e61 6d65 2c0a 2020 2020 2020 2020  p_name,.        
+00015c40: 2020 2020 2764 6576 6963 655f 6964 273a      'device_id':
+00015c50: 2064 6576 6963 655f 6964 2c0a 2020 2020   device_id,.    
+00015c60: 2020 2020 2020 2020 2763 6c61 7373 6966          'classif
+00015c70: 6963 6174 696f 6e27 3a20 636c 6173 7369  ication': classi
+00015c80: 6669 6361 7469 6f6e 2c0a 2020 2020 2020  fication,.      
+00015c90: 2020 2020 2020 2773 7461 7274 5f74 696d        'start_tim
+00015ca0: 6527 3a20 7374 6172 745f 7469 6d65 2c0a  e': start_time,.
+00015cb0: 2020 2020 2020 2020 2020 2020 2765 6e64              'end
+00015cc0: 5f74 696d 6527 3a20 656e 645f 7469 6d65  _time': end_time
+00015cd0: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
+00015ce0: 6666 7365 7427 3a20 6f66 6673 6574 2c0a  ffset': offset,.
+00015cf0: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
+00015d00: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
+00015d10: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+00015d20: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00015d30: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
+00015d40: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
+00015d50: 6e63 2064 6566 2063 7265 6174 655f 7369  nc def create_si
+00015d60: 7465 280a 2020 2020 2020 2020 7365 6c66  te(.        self
+00015d70: 2c0a 2020 2020 2020 2020 7369 7465 5f6e  ,.        site_n
+00015d80: 616d 653a 2073 7472 203d 204e 6f6e 652c  ame: str = None,
+00015d90: 0a20 2020 2020 2020 2061 6464 7265 7373  .        address
+00015da0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00015db0: 2020 2020 2020 6369 7479 3a20 7374 7220        city: str 
+00015dc0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00015dd0: 7374 6174 653a 2073 7472 203d 204e 6f6e  state: str = Non
+00015de0: 652c 0a20 2020 2020 2020 2063 6f75 6e74  e,.        count
+00015df0: 7279 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ry: str = None,.
+00015e00: 2020 2020 2020 2020 7a69 7063 6f64 653a          zipcode:
+00015e10: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00015e20: 2020 2020 206c 6174 6974 7564 653a 2069       latitude: i
+00015e30: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+00015e40: 2020 206c 6f6e 6769 7475 6465 3a20 696e     longitude: in
+00015e50: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
+00015e60: 2020 7369 7465 5f6c 6973 743a 204c 6973    site_list: Lis
+00015e70: 745b 4469 6374 5b73 7472 2c20 556e 696f  t[Dict[str, Unio
+00015e80: 6e5b 7374 722c 2064 6963 745d 5d5d 203d  n[str, dict]]] =
+00015e90: 204e 6f6e 652c 0a20 2020 2029 202d 3e20   None,.    ) -> 
+00015ea0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00015eb0: 2020 2222 2243 7265 6174 6520 5369 7465    """Create Site
+00015ec0: 0a0a 2020 2020 2020 2020 4569 7468 6572  ..        Either
+00015ed0: 2061 6464 7265 7373 2069 6e66 6f72 6d61   address informa
+00015ee0: 7469 6f6e 206f 7220 4765 6f4c 6f63 6174  tion or GeoLocat
+00015ef0: 696f 6e20 696e 666f 726d 6174 696f 6e20  ion information 
+00015f00: 6973 2072 6571 7569 7265 642e 2020 466f  is required.  Fo
+00015f10: 7220 4765 6f6c 6f63 6174 696f 6e20 6174  r Geolocation at
+00015f20: 7472 6962 7574 6573 0a20 2020 2020 2020  tributes.       
+00015f30: 2061 6c6c 2061 7474 7269 6275 7465 7320   all attributes 
+00015f40: 6172 6520 7265 7175 6972 6564 2e20 204f  are required.  O
+00015f50: 7220 6120 4c69 7374 5b64 6963 745d 2077  r a List[dict] w
+00015f60: 6974 6820 6d75 6c74 6970 6c65 2073 6974  ith multiple sit
+00015f70: 6573 2074 6f20 6265 2061 6464 6564 2063  es to be added c
+00015f80: 6f6e 7461 696e 696e 6720 6569 7468 6572  ontaining either
+00015f90: 0a20 2020 2020 2020 2027 7369 7465 5f61  .        'site_a
+00015fa0: 6464 7265 7373 2720 6f72 2027 6765 6f6c  ddress' or 'geol
+00015fb0: 6f63 6174 696f 6e27 2061 7474 7269 6275  ocation' attribu
+00015fc0: 7465 7320 666f 7220 6561 6368 2073 6974  tes for each sit
+00015fd0: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
+00015fe0: 3a0a 2020 2020 2020 2020 2020 2020 7369  :.            si
+00015ff0: 7465 5f6e 616d 6520 2873 7472 2c20 6f70  te_name (str, op
+00016000: 7469 6f6e 616c 293a 2053 6974 6520 4e61  tional): Site Na
+00016010: 6d65 2e20 4465 6661 756c 7473 2074 6f20  me. Defaults to 
+00016020: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+00016030: 2020 6164 6472 6573 7320 2873 7472 2c20    address (str, 
+00016040: 6f70 7469 6f6e 616c 293a 2041 6464 7265  optional): Addre
+00016050: 7373 2e20 4465 6661 756c 7473 2074 6f20  ss. Defaults to 
+00016060: 4e6f 6e65 2e0a 2020 2020 2020 2020 2020  None..          
+00016070: 2020 6369 7479 2028 7374 722c 206f 7074    city (str, opt
+00016080: 696f 6e61 6c29 3a20 4369 7479 2e20 4465  ional): City. De
+00016090: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+000160a0: 2020 2020 2020 2020 2020 2020 7374 6174              stat
+000160b0: 6520 2873 7472 2c20 6f70 7469 6f6e 616c  e (str, optional
+000160c0: 293a 2053 7461 7465 2e20 4465 6661 756c  ): State. Defaul
+000160d0: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
+000160e0: 2020 2020 2020 2020 636f 756e 7472 7920          country 
+000160f0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+00016100: 2043 6f75 6e74 7279 204e 616d 652e 2044   Country Name. D
+00016110: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+00016120: 0a20 2020 2020 2020 2020 2020 207a 6970  .            zip
+00016130: 636f 6465 2028 7374 722c 206f 7074 696f  code (str, optio
+00016140: 6e61 6c29 3a20 5a69 7063 6f64 652e 2044  nal): Zipcode. D
+00016150: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+00016160: 0a20 2020 2020 2020 2020 2020 206c 6174  .            lat
+00016170: 6974 7564 6520 2869 6e74 2c20 6f70 7469  itude (int, opti
+00016180: 6f6e 616c 293a 204c 6174 6974 7564 6520  onal): Latitude 
+00016190: 2869 6e20 7468 6520 7261 6e67 6520 6f66  (in the range of
+000161a0: 202d 3930 2061 6e64 2039 3029 2e20 4465   -90 and 90). De
+000161b0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+000161c0: 2020 2020 2020 2020 2020 2020 6c6f 6e67              long
+000161d0: 6974 7564 6520 2869 6e74 2c20 6f70 7469  itude (int, opti
+000161e0: 6f6e 616c 293a 204c 6f6e 6769 7475 6465  onal): Longitude
+000161f0: 2028 696e 2074 6865 2072 616e 6765 206f   (in the range o
+00016200: 6620 2d31 3030 2061 6e64 2031 3830 292e  f -100 and 180).
+00016210: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
+00016220: 652e 0a20 2020 2020 2020 2020 2020 2073  e..            s
+00016230: 6974 655f 6c69 7374 2028 4c69 7374 5b44  ite_list (List[D
+00016240: 6963 745b 7374 722c 2055 6e69 6f6e 5b73  ict[str, Union[s
+00016250: 7472 2c20 6469 6374 5d5d 5d2c 206f 7074  tr, dict]]], opt
+00016260: 696f 6e61 6c29 3a20 4120 6c69 7374 206f  ional): A list o
+00016270: 6620 7369 7465 7320 746f 2062 6520 6372  f sites to be cr
+00016280: 6561 7465 642e 2044 6566 6175 6c74 7320  eated. Defaults 
+00016290: 746f 204e 6f6e 652e 0a0a 2020 2020 2020  to None...      
+000162a0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+000162b0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+000162c0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+000162d0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+000162e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000162f0: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
+00016300: 7632 2f73 6974 6573 220a 0a20 2020 2020  v2/sites"..     
+00016310: 2020 2061 6464 7265 7373 5f64 6963 7420     address_dict 
+00016320: 3d20 7574 696c 732e 7374 7269 705f 6e6f  = utils.strip_no
+00016330: 6e65 287b 2261 6464 7265 7373 223a 2061  ne({"address": a
+00016340: 6464 7265 7373 2c20 2263 6974 7922 3a20  ddress, "city": 
+00016350: 6369 7479 2c20 2273 7461 7465 223a 2073  city, "state": s
+00016360: 7461 7465 2c20 2263 6f75 6e74 7279 223a  tate, "country":
+00016370: 2063 6f75 6e74 7279 2c20 227a 6970 636f   country, "zipco
+00016380: 6465 223a 207a 6970 636f 6465 7d29 0a20  de": zipcode}). 
+00016390: 2020 2020 2020 2067 656f 5f64 6963 7420         geo_dict 
+000163a0: 3d20 7574 696c 732e 7374 7269 705f 6e6f  = utils.strip_no
+000163b0: 6e65 287b 226c 6174 6974 7564 6522 3a20  ne({"latitude": 
+000163c0: 6c61 7469 7475 6465 2c20 226c 6f6e 6769  latitude, "longi
+000163d0: 7475 6465 223a 206c 6f6e 6769 7475 6465  tude": longitude
+000163e0: 7d29 0a20 2020 2020 2020 206a 736f 6e5f  }).        json_
+000163f0: 6461 7461 203d 207b 2273 6974 655f 6e61  data = {"site_na
+00016400: 6d65 223a 2073 6974 655f 6e61 6d65 7d0a  me": site_name}.
+00016410: 2020 2020 2020 2020 6966 2061 6464 7265          if addre
+00016420: 7373 5f64 6963 743a 0a20 2020 2020 2020  ss_dict:.       
+00016430: 2020 2020 206a 736f 6e5f 6461 7461 5b22       json_data["
+00016440: 7369 7465 5f61 6464 7265 7373 225d 203d  site_address"] =
+00016450: 2061 6464 7265 7373 5f64 6963 740a 2020   address_dict.  
+00016460: 2020 2020 2020 6966 2067 656f 5f64 6963        if geo_dic
+00016470: 743a 0a20 2020 2020 2020 2020 2020 206a  t:.            j
+00016480: 736f 6e5f 6461 7461 5b22 6765 6f6c 6f63  son_data["geoloc
+00016490: 6174 696f 6e22 5d20 3d20 6765 6f5f 6469  ation"] = geo_di
+000164a0: 6374 0a0a 2020 2020 2020 2020 2320 544f  ct..        # TO
+000164b0: 444f 2072 6576 6572 7420 7468 6973 2074  DO revert this t
+000164c0: 6f20 7369 6e67 6c65 2073 6974 6520 6164  o single site ad
+000164d0: 6420 616e 6420 7573 6520 6261 7463 685f  d and use batch_
+000164e0: 6164 645f 7369 7465 206d 6574 686f 6420  add_site method 
+000164f0: 666f 7220 6d75 6c74 692d 6164 640a 2020  for multi-add.  
+00016500: 2020 2020 2020 6966 2073 6974 655f 6c69        if site_li
+00016510: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+00016520: 7265 7370 203d 2061 7761 6974 2073 656c  resp = await sel
+00016530: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
+00016540: 5f64 6174 613d 7369 7465 5f6c 6973 745b  _data=site_list[
+00016550: 305d 290a 2020 2020 2020 2020 2020 2020  0]).            
+00016560: 6966 206e 6f74 2072 6573 703a 0a20 2020  if not resp:.   
+00016570: 2020 2020 2020 2020 2020 2020 2072 6574               ret
+00016580: 7572 6e20 7265 7370 0a20 2020 2020 2020  urn resp.       
+00016590: 2020 2020 2069 6620 6c65 6e28 7369 7465       if len(site
+000165a0: 5f6c 6973 7429 203e 2031 3a0a 2020 2020  _list) > 1:.    
+000165b0: 2020 2020 2020 2020 2020 2020 7265 7420              ret 
+000165c0: 3d20 6177 6169 7420 7365 6c66 2e5f 6261  = await self._ba
+000165d0: 7463 685f 7265 7175 6573 7428 0a20 2020  tch_request(.   
+000165e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000165f0: 205b 0a20 2020 2020 2020 2020 2020 2020   [.             
+00016600: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00016610: 4261 7463 6852 6571 7565 7374 2873 656c  BatchRequest(sel
+00016620: 662e 706f 7374 2c20 2875 726c 2c29 2c20  f.post, (url,), 
+00016630: 6a73 6f6e 5f64 6174 613d 5f6a 736f 6e2c  json_data=_json,
+00016640: 2063 616c 6c62 6163 6b3d 636c 6561 6e65   callback=cleane
+00016650: 722e 5f75 6e6c 6973 7429 0a20 2020 2020  r._unlist).     
+00016660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016670: 2020 2066 6f72 205f 6a73 6f6e 2069 6e20     for _json in 
+00016680: 7369 7465 5f6c 6973 745b 313a 5d0a 2020  site_list[1:].  
+00016690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000166a0: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
+000166b0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+000166c0: 2020 2020 2020 7265 7475 726e 205b 7265        return [re
+000166d0: 7370 2c20 2a72 6574 5d0a 2020 2020 2020  sp, *ret].      
+000166e0: 2020 2020 2020 2020 2020 2320 7265 7370            # resp
+000166f0: 5f6c 6973 7420 3d20 636c 6561 6e65 722e  _list = cleaner.
+00016700: 5f75 6e6c 6973 7428 0a20 2020 2020 2020  _unlist(.       
+00016710: 2020 2020 2020 2020 2023 2020 2020 205b           #     [
+00016720: 6177 6169 7420 6173 796e 6369 6f2e 6761  await asyncio.ga
+00016730: 7468 6572 2873 656c 662e 706f 7374 2875  ther(self.post(u
+00016740: 726c 2c20 6a73 6f6e 5f64 6174 613d 5f6a  rl, json_data=_j
+00016750: 736f 6e2c 2063 616c 6c62 6163 6b3d 636c  son, callback=cl
+00016760: 6561 6e65 722e 5f75 6e6c 6973 7429 2920  eaner._unlist)) 
+00016770: 666f 7220 5f6a 736f 6e20 696e 2073 6974  for _json in sit
+00016780: 655f 6c69 7374 5b31 3a5d 5d0a 2020 2020  e_list[1:]].    
+00016790: 2020 2020 2020 2020 2020 2020 2320 290a              # ).
+000167a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000167b0: 2320 2320 544f 444f 206d 616b 6520 6d75  # # TODO make mu
+000167c0: 6c74 6920 7265 7370 6f6e 7365 2070 6163  lti response pac
+000167d0: 6b69 6e67 2066 756e 6374 696f 6e0a 2020  king function.  
+000167e0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+000167f0: 7265 7370 2e6f 7574 7075 7420 3d20 7574  resp.output = ut
+00016800: 696c 732e 6c69 7374 6966 7928 7265 7370  ils.listify(resp
+00016810: 2e6f 7574 7075 7429 0a20 2020 2020 2020  .output).       
+00016820: 2020 2020 2020 2020 2023 2072 6573 702e           # resp.
+00016830: 6f75 7470 7574 202b 3d20 5b72 2e6f 7574  output += [r.out
+00016840: 7075 7420 666f 7220 7220 696e 2072 6573  put for r in res
+00016850: 705f 6c69 7374 5d0a 2020 2020 2020 2020  p_list].        
+00016860: 2020 2020 2020 2020 2320 7265 7475 726e          # return
+00016870: 2072 6573 700a 2020 2020 2020 2020 656c   resp.        el
+00016880: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00016890: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+000168a0: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
+000168b0: 5f64 6174 613d 6a73 6f6e 5f64 6174 612c  _data=json_data,
+000168c0: 2063 616c 6c62 6163 6b3d 636c 6561 6e65   callback=cleane
+000168d0: 722e 5f75 6e6c 6973 7429 0a0a 2020 2020  r._unlist)..    
+000168e0: 2320 544f 444f 2061 6464 2063 6c69 0a20  # TODO add cli. 
+000168f0: 2020 2061 7379 6e63 2064 6566 2075 7064     async def upd
+00016900: 6174 655f 7369 7465 280a 2020 2020 2020  ate_site(.      
+00016910: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00016920: 7369 7465 5f69 643a 2069 6e74 2c0a 2020  site_id: int,.  
+00016930: 2020 2020 2020 7369 7465 5f6e 616d 653a        site_name:
+00016940: 2073 7472 2c0a 2020 2020 2020 2020 6164   str,.        ad
+00016950: 6472 6573 733a 2073 7472 203d 204e 6f6e  dress: str = Non
+00016960: 652c 0a20 2020 2020 2020 2063 6974 793a  e,.        city:
+00016970: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00016980: 2020 2020 2073 7461 7465 3a20 7374 7220       state: str 
+00016990: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+000169a0: 7a69 7063 6f64 653a 2073 7472 203d 204e  zipcode: str = N
+000169b0: 6f6e 652c 0a20 2020 2020 2020 2063 6f75  one,.        cou
+000169c0: 6e74 7279 3a20 7374 7220 3d20 4e6f 6e65  ntry: str = None
+000169d0: 2c0a 2020 2020 2020 2020 6c61 7469 7475  ,.        latitu
+000169e0: 6465 3a20 7374 7220 3d20 4e6f 6e65 2c0a  de: str = None,.
+000169f0: 2020 2020 2020 2020 6c6f 6e67 6974 7564          longitud
+00016a00: 653a 2073 7472 203d 204e 6f6e 652c 0a20  e: str = None,. 
+00016a10: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+00016a20: 3a0a 2020 2020 2020 2020 2222 2255 7064  :.        """Upd
+00016a30: 6174 6520 5369 7465 2e0a 0a20 2020 2020  ate Site...     
+00016a40: 2020 2050 726f 7669 6465 2067 656f 2d6c     Provide geo-l
+00016a50: 6f63 206f 7220 6164 6472 6573 7320 6465  oc or address de
+00016a60: 7461 696c 732c 206e 6f74 2062 6f74 682e  tails, not both.
+00016a70: 0a20 2020 2020 2020 2043 616e 2070 726f  .        Can pro
+00016a80: 7669 6465 2062 6f74 6820 696e 2073 7562  vide both in sub
+00016a90: 7365 7175 656e 7420 6361 6c6c 732c 2062  sequent calls, b
+00016aa0: 7574 2061 7069 6777 2064 6f65 7320 6e6f  ut apigw does no
+00016ab0: 740a 2020 2020 2020 2020 616c 6c6f 7720  t.        allow 
+00016ac0: 626f 7468 2069 6e20 7361 6d65 2063 616c  both in same cal
+00016ad0: 6c2e 0a0a 2020 2020 2020 2020 2f2f 2055  l...        // U
+00016ae0: 7365 6420 6279 2063 656e 636c 6920 7570  sed by cencli up
+00016af0: 6461 7465 2073 6974 6520 5b6e 616d 657c  date site [name|
+00016b00: 6964 7c61 6464 7265 7373 5d20 4f52 202d  id|address] OR -
+00016b10: 2d6c 6174 203c 6c61 743e 202d 2d6c 6f6e  -lat <lat> --lon
+00016b20: 203c 6c6f 6e3e 202f 2f0a 0a20 2020 2020   <lon> //..     
+00016b30: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00016b40: 2020 2020 2073 6974 655f 6964 2028 696e       site_id (in
+00016b50: 7429 3a20 5369 7465 2049 440a 2020 2020  t): Site ID.    
+00016b60: 2020 2020 2020 2020 7369 7465 5f6e 616d          site_nam
+00016b70: 6520 2873 7472 293a 2053 6974 6520 4e61  e (str): Site Na
+00016b80: 6d65 0a20 2020 2020 2020 2020 2020 2061  me.            a
+00016b90: 6464 7265 7373 2028 7374 7229 3a20 4164  ddress (str): Ad
+00016ba0: 6472 6573 730a 2020 2020 2020 2020 2020  dress.          
+00016bb0: 2020 6369 7479 2028 7374 7229 3a20 4369    city (str): Ci
+00016bc0: 7479 204e 616d 650a 2020 2020 2020 2020  ty Name.        
+00016bd0: 2020 2020 7374 6174 6520 2873 7472 293a      state (str):
+00016be0: 2053 7461 7465 204e 616d 650a 2020 2020   State Name.    
+00016bf0: 2020 2020 2020 2020 7a69 7063 6f64 6520          zipcode 
+00016c00: 2873 7472 293a 205a 6970 636f 6465 0a20  (str): Zipcode. 
+00016c10: 2020 2020 2020 2020 2020 2063 6f75 6e74             count
+00016c20: 7279 2028 7374 7229 3a20 436f 756e 7472  ry (str): Countr
+00016c30: 7920 4e61 6d65 0a20 2020 2020 2020 2020  y Name.         
+00016c40: 2020 206c 6174 6974 7564 6520 2873 7472     latitude (str
+00016c50: 293a 204c 6174 6974 7564 6520 2869 6e20  ): Latitude (in 
+00016c60: 7468 6520 7261 6e67 6520 6f66 202d 3930  the range of -90
+00016c70: 2061 6e64 2039 3029 0a20 2020 2020 2020   and 90).       
+00016c80: 2020 2020 206c 6f6e 6769 7475 6465 2028       longitude (
+00016c90: 7374 7229 3a20 4c6f 6e67 6974 7564 6520  str): Longitude 
+00016ca0: 2869 6e20 7468 6520 7261 6e67 6520 6f66  (in the range of
+00016cb0: 202d 3138 3020 616e 6420 3138 3029 0a0a   -180 and 180)..
+00016cc0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00016cd0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00016ce0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00016cf0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00016d00: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00016d10: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
+00016d20: 656e 7472 616c 2f76 322f 7369 7465 732f  entral/v2/sites/
+00016d30: 7b73 6974 655f 6964 7d22 0a20 2020 2020  {site_id}".     
+00016d40: 2020 2069 6620 7a69 7063 6f64 653a 0a20     if zipcode:. 
+00016d50: 2020 2020 2020 2020 2020 207a 6970 636f             zipco
+00016d60: 6465 203d 2073 7472 287a 6970 636f 6465  de = str(zipcode
+00016d70: 290a 0a0a 2020 2020 2020 2020 7369 7465  )...        site
+00016d80: 5f61 6464 7265 7373 203d 207b 2261 6464  _address = {"add
+00016d90: 7265 7373 223a 2061 6464 7265 7373 2c20  ress": address, 
+00016da0: 2263 6974 7922 3a20 6369 7479 2c20 2273  "city": city, "s
+00016db0: 7461 7465 223a 2073 7461 7465 2c20 2263  tate": state, "c
+00016dc0: 6f75 6e74 7279 223a 2063 6f75 6e74 7279  ountry": country
+00016dd0: 2c20 227a 6970 636f 6465 223a 207a 6970  , "zipcode": zip
+00016de0: 636f 6465 7d0a 2020 2020 2020 2020 6765  code}.        ge
+00016df0: 6f6c 6f63 6174 696f 6e20 3d20 7b22 6c61  olocation = {"la
+00016e00: 7469 7475 6465 223a 206c 6174 6974 7564  titude": latitud
+00016e10: 652c 2022 6c6f 6e67 6974 7564 6522 3a20  e, "longitude": 
+00016e20: 6c6f 6e67 6974 7564 657d 0a0a 2020 2020  longitude}..    
+00016e30: 2020 2020 7369 7465 5f61 6464 7265 7373      site_address
+00016e40: 203d 2075 7469 6c73 2e73 7472 6970 5f6e   = utils.strip_n
+00016e50: 6f6e 6528 7369 7465 5f61 6464 7265 7373  one(site_address
+00016e60: 290a 2020 2020 2020 2020 6765 6f6c 6f63  ).        geoloc
+00016e70: 6174 696f 6e20 3d20 7574 696c 732e 7374  ation = utils.st
+00016e80: 7269 705f 6e6f 6e65 2867 656f 6c6f 6361  rip_none(geoloca
+00016e90: 7469 6f6e 290a 0a20 2020 2020 2020 206a  tion)..        j
+00016ea0: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
+00016eb0: 2020 2020 2020 2020 2022 7369 7465 5f6e           "site_n
+00016ec0: 616d 6522 3a20 7369 7465 5f6e 616d 652c  ame": site_name,
+00016ed0: 0a20 2020 2020 2020 2020 2020 2022 7369  .            "si
+00016ee0: 7465 5f61 6464 7265 7373 223a 2073 6974  te_address": sit
+00016ef0: 655f 6164 6472 6573 732c 0a20 2020 2020  e_address,.     
+00016f00: 2020 2020 2020 2022 6765 6f6c 6f63 6174         "geolocat
+00016f10: 696f 6e22 3a20 6765 6f6c 6f63 6174 696f  ion": geolocatio
+00016f20: 6e0a 2020 2020 2020 2020 7d0a 0a20 2020  n.        }..   
+00016f30: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00016f40: 7420 7365 6c66 2e70 6174 6368 2875 726c  t self.patch(url
+00016f50: 2c20 6a73 6f6e 5f64 6174 613d 6a73 6f6e  , json_data=json
+00016f60: 5f64 6174 6129 0a0a 2020 2020 2320 544f  _data)..    # TO
+00016f70: 444f 2061 6c6c 2070 6172 616d 7320 7265  DO all params re
+00016f80: 7175 6972 6564 2062 7920 4150 4920 4757  quired by API GW
+00016f90: 2c20 6e65 6564 2063 616c 6c20 746f 2067  , need call to g
+00016fa0: 6574 2063 7572 7265 6e74 2070 726f 7065  et current prope
+00016fb0: 7274 6965 730a 2020 2020 2320 6966 206e  rties.    # if n
+00016fc0: 6f74 2061 6c6c 2061 7265 2070 726f 7669  ot all are provi
+00016fd0: 6465 640a 2020 2020 6173 796e 6320 6465  ded.    async de
+00016fe0: 6620 7570 6461 7465 5f61 705f 7379 7374  f update_ap_syst
+00016ff0: 656d 5f63 6f6e 6669 6728 0a20 2020 2020  em_config(.     
+00017000: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00017010: 2067 726f 7570 5f73 7761 726d 6964 3a20   group_swarmid: 
+00017020: 7374 722c 0a20 2020 2020 2020 2064 6e73  str,.        dns
+00017030: 5f73 6572 7665 723a 2073 7472 203d 204e  _server: str = N
+00017040: 6f6e 652c 0a20 2020 2020 2020 206e 7470  one,.        ntp
+00017050: 5f73 6572 7665 723a 204c 6973 745b 7374  _server: List[st
+00017060: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
+00017070: 2020 2075 7365 726e 616d 653a 2073 7472     username: str
+00017080: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+00017090: 2070 6173 7377 6f72 643a 2073 7472 203d   password: str =
+000170a0: 204e 6f6e 652c 0a20 2020 2029 202d 3e20   None,.    ) -> 
+000170b0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+000170c0: 2020 2222 2255 7064 6174 6520 7379 7374    """Update syst
+000170d0: 656d 2063 6f6e 6669 672e 0a0a 2020 2020  em config...    
+000170e0: 2020 2020 416c 6c20 7061 7261 6d73 2061      All params a
+000170f0: 7265 2072 6571 7569 7265 6420 6279 2041  re required by A
+00017100: 7275 6261 2043 656e 7472 616c 0a0a 2020  ruba Central..  
+00017110: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+00017120: 2020 2020 2020 2020 6772 6f75 705f 7377          group_sw
+00017130: 6172 6d69 6420 2873 7472 293a 2047 726f  armid (str): Gro
+00017140: 7570 206e 616d 6520 6f66 2074 6865 2067  up name of the g
+00017150: 726f 7570 206f 7220 6775 6964 206f 6620  roup or guid of 
+00017160: 7468 6520 7377 6172 6d2e 2045 7861 6d70  the swarm. Examp
+00017170: 6c65 3a47 726f 7570 5f31 0a20 2020 2020  le:Group_1.     
+00017180: 2020 2020 2020 2020 2020 206f 7220 3661             or 6a
+00017190: 3564 3132 3362 3031 6639 3434 3138 3036  5d123b01f9441806
+000171a0: 3234 3465 6136 6530 3233 6661 6235 3834  244ea6e023fab584
+000171b0: 3162 3737 6338 3238 6130 3835 6630 3466  1b77c828a085f04f
+000171c0: 2e0a 2020 2020 2020 2020 2020 2020 646e  ..            dn
+000171d0: 735f 7365 7276 6572 2028 7374 7229 3a20  s_server (str): 
+000171e0: 444e 5320 7365 7276 6572 2049 5073 206f  DNS server IPs o
+000171f0: 7220 646f 6d61 696e 206e 616d 650a 2020  r domain name.  
+00017200: 2020 2020 2020 2020 2020 6e74 705f 7365            ntp_se
+00017210: 7276 6572 2028 4c69 7374 5b73 7472 5d29  rver (List[str])
+00017220: 3a20 4c69 7374 206f 6620 6e74 7020 7365  : List of ntp se
+00017230: 7276 6572 2c0a 2020 2020 2020 2020 2020  rver,.          
+00017240: 2020 2020 2020 4578 616d 706c 653a 205b        Example: [
+00017250: 2231 3932 2e31 3638 2e31 2e31 222c 2022  "192.168.1.1", "
+00017260: 3132 372e 302e 302e 3022 2c20 2278 7878  127.0.0.0", "xxx
+00017270: 2e63 6f6d 225d 2e0a 2020 2020 2020 2020  .com"]..        
+00017280: 2020 2020 2020 2020 4950 7320 6f72 2064          IPs or d
+00017290: 6f6d 6169 6e20 6e61 6d65 2e0a 2020 2020  omain name..    
+000172a0: 2020 2020 2020 2020 7573 6572 6e61 6d65          username
+000172b0: 2028 7374 7229 3a20 7573 6572 6e61 6d65   (str): username
+000172c0: 0a20 2020 2020 2020 2020 2020 2070 6173  .            pas
+000172d0: 7377 6f72 6420 2873 7472 293a 2070 6173  sword (str): pas
+000172e0: 7377 6f72 640a 0a20 2020 2020 2020 2052  sword..        R
+000172f0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00017300: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00017310: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00017320: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00017330: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00017340: 203d 2066 222f 636f 6e66 6967 7572 6174   = f"/configurat
+00017350: 696f 6e2f 7631 2f73 7973 7465 6d5f 636f  ion/v1/system_co
+00017360: 6e66 6967 2f7b 6772 6f75 705f 7377 6172  nfig/{group_swar
+00017370: 6d69 647d 220a 0a20 2020 2020 2020 206a  mid}"..        j
+00017380: 736f 6e5f 6461 7461 203d 2075 7469 6c73  son_data = utils
+00017390: 2e73 7472 6970 5f6e 6f6e 6528 0a20 2020  .strip_none(.   
+000173a0: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
+000173b0: 2020 2020 2020 2020 2020 2027 646e 735f             'dns_
+000173c0: 7365 7276 6572 273a 2064 6e73 5f73 6572  server': dns_ser
+000173d0: 7665 722c 0a20 2020 2020 2020 2020 2020  ver,.           
+000173e0: 2020 2020 2027 6e74 705f 7365 7276 6572       'ntp_server
+000173f0: 273a 206e 7470 5f73 6572 7665 722c 0a20  ': ntp_server,. 
+00017400: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+00017410: 7573 6572 6e61 6d65 273a 2075 7365 726e  username': usern
+00017420: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+00017430: 2020 2020 2027 7061 7373 776f 7264 273a       'password':
+00017440: 2070 6173 7377 6f72 640a 2020 2020 2020   password.      
+00017450: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+00017460: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
+00017470: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
+00017480: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
+00017490: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
+000174a0: 2061 7379 6e63 2064 6566 2063 7265 6174   async def creat
+000174b0: 655f 6772 6f75 7028 0a20 2020 2020 2020  e_group(.       
+000174c0: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
+000174d0: 726f 7570 3a20 7374 722c 0a20 2020 2020  roup: str,.     
+000174e0: 2020 2061 6c6c 6f77 6564 5f74 7970 6573     allowed_types
+000174f0: 3a20 556e 696f 6e5b 636f 6e73 7461 6e74  : Union[constant
+00017500: 732e 416c 6c44 6576 5479 7065 732c 204c  s.AllDevTypes, L
+00017510: 6973 745b 636f 6e73 7461 6e74 732e 416c  ist[constants.Al
+00017520: 6c44 6576 5479 7065 735d 5d20 3d20 5b22  lDevTypes]] = ["
+00017530: 6170 222c 2022 6777 222c 2022 6378 222c  ap", "gw", "cx",
+00017540: 2022 7377 225d 2c0a 2020 2020 2020 2020   "sw"],.        
+00017550: 7769 7265 645f 7467 3a20 626f 6f6c 203d  wired_tg: bool =
+00017560: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
+00017570: 776c 616e 5f74 673a 2062 6f6f 6c20 3d20  wlan_tg: bool = 
+00017580: 4661 6c73 652c 0a20 2020 2020 2020 2061  False,.        a
+00017590: 6f73 3130 3a20 626f 6f6c 203d 2046 616c  os10: bool = Fal
+000175a0: 7365 2c0a 2020 2020 2020 2020 6d69 6372  se,.        micr
+000175b0: 6f62 7261 6e63 683a 2062 6f6f 6c20 3d20  obranch: bool = 
+000175c0: 4661 6c73 652c 0a20 2020 2020 2020 2067  False,.        g
+000175d0: 775f 726f 6c65 3a20 636f 6e73 7461 6e74  w_role: constant
+000175e0: 732e 4761 7465 7761 7952 6f6c 6520 3d20  s.GatewayRole = 
+000175f0: 2262 7261 6e63 6822 2c0a 2020 2020 2020  "branch",.      
+00017600: 2020 6d6f 6e69 746f 725f 6f6e 6c79 5f73    monitor_only_s
+00017610: 773a 2062 6f6f 6c20 3d20 4661 6c73 652c  w: bool = False,
+00017620: 0a20 2020 2020 2020 206d 6f6e 6974 6f72  .        monitor
+00017630: 5f6f 6e6c 795f 6378 3a20 626f 6f6c 203d  _only_cx: bool =
+00017640: 2046 616c 7365 2c20 2023 204e 6f74 2073   False,  # Not s
+00017650: 7570 706f 7274 6564 2062 7920 6365 6e74  upported by cent
+00017660: 7261 6c20 7965 740a 2020 2020 2920 2d3e  ral yet.    ) ->
+00017670: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00017680: 2020 2022 2222 4372 6561 7465 206e 6577     """Create new
+00017690: 2067 726f 7570 2077 6974 6820 7370 6563   group with spec
+000176a0: 6966 6965 6420 7072 6f70 6572 7469 6573  ified properties
+000176b0: 2e20 7633 0a0a 2020 2020 2020 2020 2f2f  . v3..        //
+000176c0: 2055 7365 6420 6279 2061 6464 2067 726f   Used by add gro
+000176d0: 7570 2062 6174 6368 2061 6464 2067 726f  up batch add gro
+000176e0: 7570 202f 2f0a 0a20 2020 2020 2020 2041  up //..        A
+000176f0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00017700: 2067 726f 7570 2028 7374 7229 3a20 4772   group (str): Gr
+00017710: 6f75 7020 4e61 6d65 0a20 2020 2020 2020  oup Name.       
+00017720: 2020 2020 2061 6c6c 6f77 6564 5f74 7970       allowed_typ
+00017730: 6573 2028 7374 722c 204c 6973 745b 7374  es (str, List[st
+00017740: 725d 293a 2041 6c6c 6f77 6564 2044 6576  r]): Allowed Dev
+00017750: 6963 6520 5479 7065 7320 696e 2074 6865  ice Types in the
+00017760: 2067 726f 7570 2e20 5461 6273 2066 6f72   group. Tabs for
+00017770: 2064 6576 6963 6573 206e 6f74 2061 6c6c   devices not all
+00017780: 6f77 6564 0a20 2020 2020 2020 2020 2020  owed.           
+00017790: 2020 2020 2077 6f6e 2774 2064 6973 706c       won't displ
+000177a0: 6179 2069 6e20 5549 2e20 2076 616c 6964  ay in UI.  valid
+000177b0: 2076 616c 7565 7320 2261 7022 2c20 2267   values "ap", "g
+000177c0: 7722 2c20 2263 7822 2c20 2273 7722 2c20  w", "cx", "sw", 
+000177d0: 2273 7769 7463 6822 0a20 2020 2020 2020  "switch".       
+000177e0: 2020 2020 2020 2020 2028 2273 7769 7463           ("switc
+000177f0: 6822 2069 7320 6765 6e65 7269 632c 2077  h" is generic, w
+00017800: 696c 6c20 656e 6162 6c65 2062 6f74 6820  ill enable both 
+00017810: 6378 2061 6e64 2073 7729 0a20 2020 2020  cx and sw).     
+00017820: 2020 2020 2020 2077 6972 6564 5f74 6720         wired_tg 
+00017830: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
+00017840: 3a20 5365 7420 746f 2074 7275 6520 6966  : Set to true if
+00017850: 2077 6972 6564 2853 7769 7463 6829 2063   wired(Switch) c
+00017860: 6f6e 6669 6775 7261 7469 6f6e 2069 6e20  onfiguration in 
+00017870: 6120 6772 6f75 7020 6973 206d 616e 6167  a group is manag
+00017880: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
+00017890: 2020 2075 7369 6e67 2074 656d 706c 6174     using templat
+000178a0: 6573 2e0a 2020 2020 2020 2020 2020 2020  es..            
+000178b0: 776c 616e 5f74 6720 2862 6f6f 6c2c 206f  wlan_tg (bool, o
+000178c0: 7074 696f 6e61 6c29 3a20 5365 7420 746f  ptional): Set to
+000178d0: 2074 7275 6520 6966 2077 6972 656c 6573   true if wireles
+000178e0: 7328 4941 502c 2047 6174 6577 6179 7329  s(IAP, Gateways)
+000178f0: 2063 6f6e 6669 6775 7261 7469 6f6e 2069   configuration i
+00017900: 6e20 610a 2020 2020 2020 2020 2020 2020  n a.            
+00017910: 2020 2020 6772 6f75 7020 6973 206d 616e      group is man
+00017920: 6167 6564 2075 7369 6e67 2074 656d 706c  aged using templ
+00017930: 6174 6573 2e0a 2020 2020 2020 2020 2020  ates..          
+00017940: 2020 616f 7331 303a 2028 626f 6f6c 293a    aos10: (bool):
+00017950: 2069 6620 5472 7565 2075 7365 2041 4f53   if True use AOS
+00017960: 3130 2061 7263 6869 7465 6374 7572 6520  10 architecture 
+00017970: 666f 7220 7468 6520 6163 6365 7373 2070  for the access p
+00017980: 6f69 6e74 7320 616e 6420 6761 7465 7761  oints and gatewa
+00017990: 7973 2069 6e20 7468 6520 6772 6f75 702e  ys in the group.
+000179a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000179b0: 2064 6566 6175 6c74 2046 616c 7365 2028   default False (
+000179c0: 496e 7374 616e 7429 0a20 2020 2020 2020  Instant).       
+000179d0: 2020 2020 206d 6963 726f 6272 616e 6368       microbranch
+000179e0: 2028 626f 6f6c 293a 2054 7275 6520 746f   (bool): True to
+000179f0: 2065 6e61 626c 6520 4d69 6372 6f62 7261   enable Microbra
+00017a00: 6e63 6820 6e65 7477 6f72 6b20 726f 6c65  nch network role
+00017a10: 2066 6f72 2041 5073 2069 7320 6170 706c   for APs is appl
+00017a20: 6963 6162 6c65 206f 6e6c 7920 666f 7220  icable only for 
+00017a30: 414f 5331 3020 6172 6368 6974 6563 7475  AOS10 architectu
+00017a40: 7265 2e0a 2020 2020 2020 2020 2020 2020  re..            
+00017a50: 6777 5f72 6f6c 6520 2847 6174 6577 6179  gw_role (Gateway
+00017a60: 526f 6c65 293a 2047 6174 6577 6179 2072  Role): Gateway r
+00017a70: 6f6c 6520 7661 6c69 6420 7661 6c75 6573  ole valid values
+00017a80: 2022 6272 616e 6368 222c 2022 7670 6e63   "branch", "vpnc
+00017a90: 222c 2022 776c 616e 2220 2822 776c 616e  ", "wlan" ("wlan
+00017aa0: 2220 6f6e 6c79 2076 616c 6964 206f 6e20  " only valid on 
+00017ab0: 414f 5331 3020 6772 6f75 7029 0a20 2020  AOS10 group).   
+00017ac0: 2020 2020 2020 2020 2020 2020 2044 6566               Def
+00017ad0: 6175 6c74 3a20 2262 7261 6e63 6822 0a20  ault: "branch". 
+00017ae0: 2020 2020 2020 2020 2020 206d 6f6e 6974             monit
+00017af0: 6f72 5f6f 6e6c 795f 7377 3a20 4d6f 6e69  or_only_sw: Moni
+00017b00: 746f 7220 6f6e 6c79 2041 7275 6261 4f53  tor only ArubaOS
+00017b10: 2d53 5720 7377 6974 6368 6573 2c20 6170  -SW switches, ap
+00017b20: 706c 6965 7320 746f 2055 4920 6772 6f75  plies to UI grou
+00017b30: 7020 6f6e 6c79 0a20 2020 2020 2020 2020  p only.         
+00017b40: 2020 206d 6f6e 6974 6f72 5f6f 6e6c 795f     monitor_only_
+00017b50: 6378 3a20 4d6f 6e69 746f 7220 6f6e 6c79  cx: Monitor only
+00017b60: 2041 7275 6261 4f53 2d43 5820 7377 6974   ArubaOS-CX swit
+00017b70: 6368 6573 2c20 6170 706c 6965 7320 746f  ches, applies to
+00017b80: 2055 4920 6772 6f75 7020 6f6e 6c79 2028   UI group only (
+00017b90: 4675 7475 7265 2063 6170 6162 696c 6974  Future capabilit
+00017ba0: 7929 0a0a 2020 2020 2020 2020 5265 7475  y)..        Retu
+00017bb0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+00017bc0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+00017bd0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+00017be0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+00017bf0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+00017c00: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+00017c10: 7633 2f67 726f 7570 7322 0a0a 2020 2020  v3/groups"..    
+00017c20: 2020 2020 6777 5f72 6f6c 655f 6469 6374      gw_role_dict
+00017c30: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00017c40: 2022 6272 616e 6368 223a 2022 4272 616e   "branch": "Bran
+00017c50: 6368 4761 7465 7761 7922 2c0a 2020 2020  chGateway",.    
+00017c60: 2020 2020 2020 2020 2276 706e 6322 3a20          "vpnc": 
+00017c70: 2256 504e 436f 6e63 656e 7472 6174 6f72  "VPNConcentrator
+00017c80: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00017c90: 776c 616e 223a 2022 574c 414e 4761 7465  wlan": "WLANGate
+00017ca0: 7761 7922 2c0a 2020 2020 2020 2020 7d0a  way",.        }.
+00017cb0: 2020 2020 2020 2020 6465 765f 7479 7065          dev_type
+00017cc0: 5f64 6963 7420 3d20 7b0a 2020 2020 2020  _dict = {.      
+00017cd0: 2020 2020 2020 2261 7022 3a20 2241 6363        "ap": "Acc
+00017ce0: 6573 7350 6f69 6e74 7322 2c0a 2020 2020  essPoints",.    
+00017cf0: 2020 2020 2020 2020 2267 7722 3a20 2247          "gw": "G
+00017d00: 6174 6577 6179 7322 2c0a 2020 2020 2020  ateways",.      
+00017d10: 2020 2020 2020 2273 7769 7463 6822 3a20        "switch": 
+00017d20: 2253 7769 7463 6865 7322 2c0a 2020 2020  "Switches",.    
+00017d30: 2020 2020 2020 2020 2263 7822 3a20 2253          "cx": "S
+00017d40: 7769 7463 6865 7322 2c0a 2020 2020 2020  witches",.      
+00017d50: 2020 2020 2020 2273 7722 3a20 2253 7769        "sw": "Swi
+00017d60: 7463 6865 7322 2c0a 2020 2020 2020 2020  tches",.        
+00017d70: 7d0a 0a20 2020 2020 2020 2067 775f 726f  }..        gw_ro
+00017d80: 6c65 203d 2067 775f 726f 6c65 5f64 6963  le = gw_role_dic
+00017d90: 742e 6765 7428 6777 5f72 6f6c 652c 2022  t.get(gw_role, "
+00017da0: 4272 616e 6368 4761 7465 7761 7922 290a  BranchGateway").
+00017db0: 0a20 2020 2020 2020 2061 6c6c 6f77 6564  .        allowed
+00017dc0: 5f74 7970 6573 203d 2075 7469 6c73 2e6c  _types = utils.l
+00017dd0: 6973 7469 6679 2861 6c6c 6f77 6564 5f74  istify(allowed_t
+00017de0: 7970 6573 290a 2020 2020 2020 2020 616c  ypes).        al
+00017df0: 6c6f 7765 645f 7377 6974 6368 5f74 7970  lowed_switch_typ
+00017e00: 6573 203d 205b 5d0a 2020 2020 2020 2020  es = [].        
+00017e10: 6966 2022 7377 6974 6368 2220 696e 2061  if "switch" in a
+00017e20: 6c6c 6f77 6564 5f74 7970 6573 206f 7220  llowed_types or 
+00017e30: 2822 6378 2220 696e 2061 6c6c 6f77 6564  ("cx" in allowed
+00017e40: 5f74 7970 6573 2061 6e64 2022 7377 2220  _types and "sw" 
+00017e50: 696e 2061 6c6c 6f77 6564 5f74 7970 6573  in allowed_types
+00017e60: 293a 0a20 2020 2020 2020 2020 2020 2061  ):.            a
+00017e70: 6c6c 6f77 6564 5f73 7769 7463 685f 7479  llowed_switch_ty
+00017e80: 7065 7320 2b3d 205b 2241 4f53 5f43 5822  pes += ["AOS_CX"
+00017e90: 2c20 2241 4f53 5f53 225d 0a20 2020 2020  , "AOS_S"].     
+00017ea0: 2020 2065 6c69 6620 2273 7722 2069 6e20     elif "sw" in 
+00017eb0: 616c 6c6f 7765 645f 7479 7065 733a 0a20  allowed_types:. 
+00017ec0: 2020 2020 2020 2020 2020 2061 6c6c 6f77             allow
+00017ed0: 6564 5f73 7769 7463 685f 7479 7065 7320  ed_switch_types 
+00017ee0: 2b3d 205b 2241 4f53 5f53 225d 0a20 2020  += ["AOS_S"].   
+00017ef0: 2020 2020 2065 6c69 6620 2263 7822 2069       elif "cx" i
+00017f00: 6e20 616c 6c6f 7765 645f 7479 7065 733a  n allowed_types:
+00017f10: 0a20 2020 2020 2020 2020 2020 2061 6c6c  .            all
+00017f20: 6f77 6564 5f73 7769 7463 685f 7479 7065  owed_switch_type
+00017f30: 7320 2b3d 205b 2241 4f53 5f43 5822 2c20  s += ["AOS_CX", 
+00017f40: 2241 4f53 5f53 225d 0a0a 2020 2020 2020  "AOS_S"]..      
+00017f50: 2020 6d6f 6e5f 6f6e 6c79 5f73 7769 7463    mon_only_switc
+00017f60: 6865 7320 3d20 5b5d 0a20 2020 2020 2020  hes = [].       
+00017f70: 2069 6620 6d6f 6e69 746f 725f 6f6e 6c79   if monitor_only
+00017f80: 5f73 773a 0a20 2020 2020 2020 2020 2020  _sw:.           
+00017f90: 206d 6f6e 5f6f 6e6c 795f 7377 6974 6368   mon_only_switch
+00017fa0: 6573 202b 3d20 5b22 414f 535f 5322 5d0a  es += ["AOS_S"].
+00017fb0: 2020 2020 2020 2020 6966 206d 6f6e 6974          if monit
+00017fc0: 6f72 5f6f 6e6c 795f 6378 3a0a 2020 2020  or_only_cx:.    
+00017fd0: 2020 2020 2020 2020 6c6f 672e 7761 726e          log.warn
+00017fe0: 696e 6728 226d 6f6e 6974 6f72 5f6f 6e6c  ing("monitor_onl
+00017ff0: 795f 6378 206e 6f74 2079 6574 2073 7570  y_cx not yet sup
+00018000: 706f 7274 6564 2062 7920 4172 7562 6120  ported by Aruba 
+00018010: 4365 6e74 7261 6c22 2c20 7368 6f77 3d54  Central", show=T
+00018020: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
+00018030: 2023 206d 6f6e 5f6f 6e6c 795f 7377 6974   # mon_only_swit
+00018040: 6368 6573 202b 3d20 5b22 414f 535f 4358  ches += ["AOS_CX
+00018050: 225d 0a0a 2020 2020 2020 2020 616c 6c6f  "]..        allo
+00018060: 7765 645f 7479 7065 7320 3d20 6c69 7374  wed_types = list
+00018070: 2873 6574 285b 6465 765f 7479 7065 5f64  (set([dev_type_d
+00018080: 6963 742e 6765 7428 7429 2066 6f72 2074  ict.get(t) for t
+00018090: 2069 6e20 616c 6c6f 7765 645f 7479 7065   in allowed_type
+000180a0: 735d 2929 0a0a 2020 2020 2020 2020 6966  s]))..        if
+000180b0: 206d 6f6e 5f6f 6e6c 795f 7377 6974 6368   mon_only_switch
+000180c0: 6573 2061 6e64 2022 5377 6974 6368 6573  es and "Switches
+000180d0: 2220 6e6f 7420 696e 2061 6c6c 6f77 6564  " not in allowed
+000180e0: 5f74 7970 6573 3a0a 2020 2020 2020 2020  _types:.        
+000180f0: 2020 2020 6c6f 672e 7761 726e 696e 6728      log.warning(
+00018100: 2269 676e 6f72 696e 6720 6d6f 6e69 746f  "ignoring monito
+00018110: 7220 6f6e 6c79 2073 7769 7463 6820 7365  r only switch se
+00018120: 7474 696e 6720 6173 206e 6f20 7377 6974  tting as no swit
+00018130: 6368 6573 2077 6572 6520 7370 6563 6966  ches were specif
+00018140: 6965 6420 6173 2062 6569 6e67 2061 6c6c  ied as being all
+00018150: 6f77 6564 2069 6e20 6772 6f75 7022 2c20  owed in group", 
+00018160: 7368 6f77 3d54 7275 6529 0a0a 2020 2020  show=True)..    
+00018170: 2020 2020 6966 204e 6f6e 6520 696e 2061      if None in a
+00018180: 6c6c 6f77 6564 5f74 7970 6573 3a0a 2020  llowed_types:.  
+00018190: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000181a0: 5661 6c75 6545 7272 6f72 2827 496e 7661  ValueError('Inva
+000181b0: 6c69 6420 6465 7669 6365 2074 7970 6520  lid device type 
+000181c0: 666f 7220 616c 6c6f 7765 645f 7479 7065  for allowed_type
+000181d0: 7320 7661 6c69 6420 7661 6c75 6573 3a20  s valid values: 
+000181e0: 2261 7022 2c20 2267 7722 2c20 2273 7722  "ap", "gw", "sw"
+000181f0: 2c20 2263 7822 2c20 2273 7769 7463 6822  , "cx", "switch"
+00018200: 2729 0a20 2020 2020 2020 2069 6620 6d69  ').        if mi
+00018210: 6372 6f62 7261 6e63 6820 616e 6420 6e6f  crobranch and no
+00018220: 7420 616f 7331 303a 0a20 2020 2020 2020  t aos10:.       
+00018230: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
+00018240: 4572 726f 7228 2249 6e76 616c 6964 2063  Error("Invalid c
+00018250: 6f6d 6269 6e61 7469 6f6e 2c20 4772 6f75  ombination, Grou
+00018260: 7020 6d75 7374 2062 6520 636f 6e66 6967  p must be config
+00018270: 7572 6564 2061 7320 414f 5331 3020 6772  ured as AOS10 gr
+00018280: 6f75 7020 746f 2073 7570 706f 7274 204d  oup to support M
+00018290: 6963 726f 6272 616e 6368 2229 0a20 2020  icrobranch").   
+000182a0: 2020 2020 2023 2069 6620 7769 7265 645f       # if wired_
+000182b0: 7467 2061 6e64 206d 6f6e 6974 6f72 5f6f  tg and monitor_o
+000182c0: 6e6c 795f 7377 206f 7220 6d6f 6e69 746f  nly_sw or monito
+000182d0: 725f 6f6e 6c79 5f63 783a 0a20 2020 2020  r_only_cx:.     
+000182e0: 2020 2069 6620 7769 7265 645f 7467 2061     if wired_tg a
+000182f0: 6e64 206d 6f6e 6974 6f72 5f6f 6e6c 795f  nd monitor_only_
+00018300: 7377 3a0a 2020 2020 2020 2020 2020 2020  sw:.            
+00018310: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+00018320: 2822 496e 7661 6c69 6420 636f 6d62 696e  ("Invalid combin
+00018330: 6174 696f 6e2c 204d 6f6e 6974 6f72 204f  ation, Monitor O
+00018340: 6e6c 7920 6973 206e 6f74 2076 616c 6964  nly is not valid
+00018350: 2066 6f72 2054 656d 706c 6174 6520 4772   for Template Gr
+00018360: 6f75 7022 290a 0a20 2020 2020 2020 206a  oup")..        j
+00018370: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
+00018380: 2020 2020 2020 2020 2022 6772 6f75 7022           "group"
+00018390: 3a20 6772 6f75 702c 0a20 2020 2020 2020  : group,.       
+000183a0: 2020 2020 2022 6772 6f75 705f 6174 7472       "group_attr
+000183b0: 6962 7574 6573 223a 207b 0a20 2020 2020  ibutes": {.     
+000183c0: 2020 2020 2020 2020 2020 2022 7465 6d70             "temp
+000183d0: 6c61 7465 5f69 6e66 6f22 3a20 7b0a 2020  late_info": {.  
+000183e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000183f0: 2020 2257 6972 6564 223a 2077 6972 6564    "Wired": wired
+00018400: 5f74 672c 0a20 2020 2020 2020 2020 2020  _tg,.           
+00018410: 2020 2020 2020 2020 2022 5769 7265 6c65           "Wirele
+00018420: 7373 223a 2077 6c61 6e5f 7467 0a20 2020  ss": wlan_tg.   
+00018430: 2020 2020 2020 2020 2020 2020 207d 2c0a               },.
+00018440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018450: 2267 726f 7570 5f70 726f 7065 7274 6965  "group_propertie
+00018460: 7322 3a20 7b0a 2020 2020 2020 2020 2020  s": {.          
+00018470: 2020 2020 2020 2020 2020 2241 6c6c 6f77            "Allow
+00018480: 6564 4465 7654 7970 6573 223a 2061 6c6c  edDevTypes": all
+00018490: 6f77 6564 5f74 7970 6573 2c0a 2020 2020  owed_types,.    
+000184a0: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
+000184b0: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
+000184c0: 2020 2020 7d0a 2020 2020 2020 2020 6966      }.        if
+000184d0: 2067 775f 726f 6c65 2061 6e64 2022 4761   gw_role and "Ga
+000184e0: 7465 7761 7973 2220 696e 2061 6c6c 6f77  teways" in allow
+000184f0: 6564 5f74 7970 6573 3a0a 2020 2020 2020  ed_types:.      
+00018500: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
+00018510: 2267 726f 7570 5f61 7474 7269 6275 7465  "group_attribute
+00018520: 7322 5d5b 2267 726f 7570 5f70 726f 7065  s"]["group_prope
+00018530: 7274 6965 7322 5d5b 2247 774e 6574 776f  rties"]["GwNetwo
+00018540: 726b 526f 6c65 225d 203d 2067 775f 726f  rkRole"] = gw_ro
+00018550: 6c65 0a20 2020 2020 2020 2020 2020 206a  le.            j
+00018560: 736f 6e5f 6461 7461 5b22 6772 6f75 705f  son_data["group_
+00018570: 6174 7472 6962 7574 6573 225d 5b22 6772  attributes"]["gr
+00018580: 6f75 705f 7072 6f70 6572 7469 6573 225d  oup_properties"]
+00018590: 5b22 4172 6368 6974 6563 7475 7265 225d  ["Architecture"]
+000185a0: 203d 205c 0a20 2020 2020 2020 2020 2020   = \.           
+000185b0: 2020 2020 2022 496e 7374 616e 7422 2069       "Instant" i
+000185c0: 6620 6e6f 7420 616f 7331 3020 656c 7365  f not aos10 else
+000185d0: 2022 414f 5331 3022 0a20 2020 2020 2020   "AOS10".       
+000185e0: 2069 6620 2241 6363 6573 7350 6f69 6e74   if "AccessPoint
+000185f0: 7322 2069 6e20 616c 6c6f 7765 645f 7479  s" in allowed_ty
+00018600: 7065 733a 0a20 2020 2020 2020 2020 2020  pes:.           
+00018610: 206a 736f 6e5f 6461 7461 5b22 6772 6f75   json_data["grou
+00018620: 705f 6174 7472 6962 7574 6573 225d 5b22  p_attributes"]["
+00018630: 6772 6f75 705f 7072 6f70 6572 7469 6573  group_properties
+00018640: 225d 5b22 4170 4e65 7477 6f72 6b52 6f6c  "]["ApNetworkRol
+00018650: 6522 5d20 3d20 5c0a 2020 2020 2020 2020  e"] = \.        
+00018660: 2020 2020 2020 2020 2253 7461 6e64 6172          "Standar
+00018670: 6422 2069 6620 6e6f 7420 6d69 6372 6f62  d" if not microb
+00018680: 7261 6e63 6820 656c 7365 2022 4d69 6372  ranch else "Micr
+00018690: 6f62 7261 6e63 6822 0a20 2020 2020 2020  obranch".       
+000186a0: 2020 2020 206a 736f 6e5f 6461 7461 5b22       json_data["
+000186b0: 6772 6f75 705f 6174 7472 6962 7574 6573  group_attributes
+000186c0: 225d 5b22 6772 6f75 705f 7072 6f70 6572  "]["group_proper
+000186d0: 7469 6573 225d 5b22 4172 6368 6974 6563  ties"]["Architec
+000186e0: 7475 7265 225d 203d 205c 0a20 2020 2020  ture"] = \.     
+000186f0: 2020 2020 2020 2020 2020 2022 496e 7374             "Inst
+00018700: 616e 7422 2069 6620 6e6f 7420 616f 7331  ant" if not aos1
+00018710: 3020 656c 7365 2022 414f 5331 3022 0a20  0 else "AOS10". 
+00018720: 2020 2020 2020 2069 6620 2253 7769 7463         if "Switc
+00018730: 6865 7322 2069 6e20 616c 6c6f 7765 645f  hes" in allowed_
+00018740: 7479 7065 733a 0a20 2020 2020 2020 2020  types:.         
+00018750: 2020 206a 736f 6e5f 6461 7461 5b22 6772     json_data["gr
+00018760: 6f75 705f 6174 7472 6962 7574 6573 225d  oup_attributes"]
+00018770: 5b22 6772 6f75 705f 7072 6f70 6572 7469  ["group_properti
+00018780: 6573 225d 5b22 416c 6c6f 7765 6453 7769  es"]["AllowedSwi
+00018790: 7463 6854 7970 6573 225d 203d 205c 0a20  tchTypes"] = \. 
+000187a0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+000187b0: 6c6c 6f77 6564 5f73 7769 7463 685f 7479  llowed_switch_ty
+000187c0: 7065 730a 2020 2020 2020 2020 2020 2020  pes.            
+000187d0: 6966 206d 6f6e 5f6f 6e6c 795f 7377 6974  if mon_only_swit
+000187e0: 6368 6573 3a0a 2020 2020 2020 2020 2020  ches:.          
+000187f0: 2020 2020 2020 6a73 6f6e 5f64 6174 615b        json_data[
+00018800: 2267 726f 7570 5f61 7474 7269 6275 7465  "group_attribute
+00018810: 7322 5d5b 2267 726f 7570 5f70 726f 7065  s"]["group_prope
+00018820: 7274 6965 7322 5d5b 224d 6f6e 6974 6f72  rties"]["Monitor
+00018830: 4f6e 6c79 225d 203d 205c 0a20 2020 2020  Only"] = \.     
+00018840: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00018850: 6f6e 5f6f 6e6c 795f 7377 6974 6368 6573  on_only_switches
+00018860: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+00018870: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+00018880: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
+00018890: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+000188a0: 6173 796e 6320 6465 6620 636c 6f6e 655f  async def clone_
+000188b0: 6772 6f75 7028 0a20 2020 2020 2020 2073  group(.        s
+000188c0: 656c 662c 0a20 2020 2020 2020 2063 6c6f  elf,.        clo
+000188d0: 6e65 5f67 726f 7570 3a20 7374 722c 0a20  ne_group: str,. 
+000188e0: 2020 2020 2020 206e 6577 5f67 726f 7570         new_group
+000188f0: 3a20 7374 722c 0a20 2020 2020 2020 2075  : str,.        u
+00018900: 7067 7261 6465 5f61 6f73 3130 3a20 626f  pgrade_aos10: bo
+00018910: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
+00018920: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00018930: 2020 2020 2020 2022 2222 436c 6f6e 6520         """Clone 
+00018940: 616e 6420 6372 6561 7465 206e 6577 2067  and create new g
+00018950: 726f 7570 2e0a 0a20 2020 2020 2020 2041  roup...        A
+00018960: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00018970: 2063 6c6f 6e65 5f67 726f 7570 2028 7374   clone_group (st
+00018980: 7229 3a20 4772 6f75 7020 746f 2062 6520  r): Group to be 
+00018990: 636c 6f6e 6564 2e0a 2020 2020 2020 2020  cloned..        
+000189a0: 2020 2020 6e65 775f 6772 6f75 7020 2873      new_group (s
+000189b0: 7472 293a 204e 616d 6520 6f66 2067 726f  tr): Name of gro
+000189c0: 7570 2074 6f20 6265 2063 7265 6174 6564  up to be created
+000189d0: 2062 6173 6564 206f 6e20 636c 6f6e 652e   based on clone.
+000189e0: 0a20 2020 2020 2020 2020 2020 2075 7067  .            upg
+000189f0: 7261 6465 5f61 6f73 3130 2028 626f 6f6c  rade_aos10 (bool
+00018a00: 293a 2053 6574 2054 7275 6520 746f 2055  ): Set True to U
+00018a10: 7064 6174 6520 7468 6520 6e65 7720 636c  pdate the new cl
+00018a20: 6f6e 6564 2067 726f 7570 2074 6f20 414f  oned group to AO
+00018a30: 5331 302e 0a0a 2020 2020 2020 2020 5265  S10...        Re
+00018a40: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00018a50: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00018a60: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00018a70: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00018a80: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00018a90: 3d20 222f 636f 6e66 6967 7572 6174 696f  = "/configuratio
+00018aa0: 6e2f 7632 2f67 726f 7570 732f 636c 6f6e  n/v2/groups/clon
+00018ab0: 6522 0a0a 2020 2020 2020 2020 6966 2075  e"..        if u
+00018ac0: 7067 7261 6465 5f61 6f73 3130 3a0a 2020  pgrade_aos10:.  
+00018ad0: 2020 2020 2020 2020 2020 6c6f 672e 7761            log.wa
+00018ae0: 726e 696e 6728 0a20 2020 2020 2020 2020  rning(.         
+00018af0: 2020 2020 2020 2022 4772 6f75 7020 6d61         "Group ma
+00018b00: 7920 6e6f 7420 6265 2075 7067 7261 6465  y not be upgrade
+00018b10: 6420 746f 2041 4f53 3130 2c20 4150 4920  d to AOS10, API 
+00018b20: 6d65 7468 6f64 2061 7070 6561 7273 2074  method appears t
+00018b30: 6f20 6861 7665 2073 6f6d 6520 6361 7665  o have some cave
+00018b40: 6174 732e 2e2e 2044 6f65 736e 2774 2061  ats... Doesn't a
+00018b50: 6c77 6179 7320 776f 726b 2e22 0a20 2020  lways work.".   
+00018b60: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00018b70: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
+00018b80: 7b0a 2020 2020 2020 2020 2020 2020 2767  {.            'g
+00018b90: 726f 7570 273a 206e 6577 5f67 726f 7570  roup': new_group
+00018ba0: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
+00018bb0: 6c6f 6e65 5f67 726f 7570 273a 2063 6c6f  lone_group': clo
+00018bc0: 6e65 5f67 726f 7570 2c0a 2020 2020 2020  ne_group,.      
+00018bd0: 2020 2020 2020 2775 7067 7261 6465 5f61        'upgrade_a
+00018be0: 7263 6869 7465 6374 7572 6527 3a20 7570  rchitecture': up
+00018bf0: 6772 6164 655f 616f 7331 302c 0a20 2020  grade_aos10,.   
+00018c00: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+00018c10: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00018c20: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
+00018c30: 5f64 6174 613d 6a73 6f6e 5f64 6174 6129  _data=json_data)
+00018c40: 0a0a 2020 2020 2320 4150 492d 464c 4157  ..    # API-FLAW
+00018c50: 2061 6464 2061 7020 616e 6420 6777 2074   add ap and gw t
+00018c60: 6f20 6772 6f75 7020 7769 7468 2067 772d  o group with gw-
+00018c70: 726f 6c65 2061 7320 776c 616e 2061 6e64  role as wlan and
+00018c80: 2075 7067 7261 6465 2074 6f20 616f 7331   upgrade to aos1
+00018c90: 302e 2020 5265 7475 726e 7320 3230 302c  0.  Returns 200,
+00018ca0: 2062 7574 206e 6f20 6368 616e 6765 7320   but no changes 
+00018cb0: 6d61 6465 0a20 2020 2061 7379 6e63 2064  made.    async d
+00018cc0: 6566 2075 7064 6174 655f 6772 6f75 705f  ef update_group_
+00018cd0: 7072 6f70 6572 7469 6573 280a 2020 2020  properties(.    
+00018ce0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00018cf0: 2020 6772 6f75 703a 2073 7472 2c0a 2020    group: str,.  
+00018d00: 2020 2020 2020 616c 6c6f 7765 645f 7479        allowed_ty
+00018d10: 7065 733a 2055 6e69 6f6e 5b63 6f6e 7374  pes: Union[const
+00018d20: 616e 7473 2e41 6c6c 4465 7654 7970 6573  ants.AllDevTypes
+00018d30: 2c20 4c69 7374 5b63 6f6e 7374 616e 7473  , List[constants
+00018d40: 2e41 6c6c 4465 7654 7970 6573 5d5d 203d  .AllDevTypes]] =
+00018d50: 204e 6f6e 652c 0a20 2020 2020 2020 2077   None,.        w
+00018d60: 6972 6564 5f74 673a 2062 6f6f 6c20 3d20  ired_tg: bool = 
+00018d70: 4e6f 6e65 2c0a 2020 2020 2020 2020 776c  None,.        wl
+00018d80: 616e 5f74 673a 2062 6f6f 6c20 3d20 4e6f  an_tg: bool = No
+00018d90: 6e65 2c0a 2020 2020 2020 2020 616f 7331  ne,.        aos1
+00018da0: 303a 2062 6f6f 6c20 3d20 4e6f 6e65 2c0a  0: bool = None,.
+00018db0: 2020 2020 2020 2020 6d69 6372 6f62 7261          microbra
+00018dc0: 6e63 683a 2062 6f6f 6c20 3d20 4e6f 6e65  nch: bool = None
+00018dd0: 2c0a 2020 2020 2020 2020 6777 5f72 6f6c  ,.        gw_rol
+00018de0: 653a 2063 6f6e 7374 616e 7473 2e47 6174  e: constants.Gat
+00018df0: 6577 6179 526f 6c65 203d 204e 6f6e 652c  ewayRole = None,
+00018e00: 0a20 2020 2020 2020 206d 6f6e 6974 6f72  .        monitor
+00018e10: 5f6f 6e6c 795f 7377 3a20 626f 6f6c 203d  _only_sw: bool =
+00018e20: 204e 6f6e 652c 0a20 2020 2020 2020 206d   None,.        m
+00018e30: 6f6e 6974 6f72 5f6f 6e6c 795f 6378 3a20  onitor_only_cx: 
+00018e40: 626f 6f6c 203d 204e 6f6e 652c 2020 2320  bool = None,  # 
+00018e50: 4e6f 7420 7375 7070 6f72 7465 6420 6279  Not supported by
+00018e60: 2063 656e 7472 616c 2079 6574 0a20 2020   central yet.   
+00018e70: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+00018e80: 2020 2020 2020 2020 2222 2255 7064 6174          """Updat
+00018e90: 6520 7072 6f70 6572 7469 6573 2066 6f72  e properties for
+00018ea0: 2074 6865 2067 6976 656e 2067 726f 7570   the given group
+00018eb0: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
+00018ec0: 6564 2062 7920 7570 6461 7465 2067 726f  ed by update gro
+00018ed0: 7570 202f 2f0a 0a20 2020 2020 2020 202d  up //..        -
+00018ee0: 2054 6865 2075 7064 6174 6520 6f66 2070   The update of p
+00018ef0: 6572 736f 6e61 2061 6e64 2063 6f6e 6669  ersona and confi
+00018f00: 6775 7261 7469 6f6e 206d 6f64 6520 7365  guration mode se
+00018f10: 7420 666f 7220 6578 6973 7469 6e67 2064  t for existing d
+00018f20: 6576 6963 6520 7479 7065 7320 6973 206e  evice types is n
+00018f30: 6f74 2070 6572 6d69 7474 6564 2e0a 2020  ot permitted..  
+00018f40: 2020 2020 2020 2d20 4361 6e20 7570 6461        - Can upda
+00018f50: 7465 2066 726f 6d20 7374 616e 6461 7264  te from standard
+00018f60: 2041 5020 746f 204d 6963 726f 4272 616e   AP to MicroBran
+00018f70: 6368 2c20 6275 7420 6361 6e27 7420 676f  ch, but can't go
+00018f80: 2062 6163 6b0a 2020 2020 2020 2020 2d20   back.        - 
+00018f90: 4361 6e20 7570 6461 7465 2074 6f20 414f  Can update to AO
+00018fa0: 5331 302c 2062 7574 2063 616e 2774 2067  S10, but can't g
+00018fb0: 6f20 6261 636b 0a20 2020 2020 2020 202d  o back.        -
+00018fc0: 2043 616e 2041 6464 2041 6c6c 6f77 6564   Can Add Allowed
+00018fd0: 2044 6576 6963 6520 5479 7065 732c 2062   Device Types, b
+00018fe0: 7574 2063 616e 2774 2072 656d 6f76 652e  ut can't remove.
+00018ff0: 0a20 2020 2020 2020 202d 2043 616e 2041  .        - Can A
+00019000: 6464 2041 6c6c 6f77 6564 2053 7769 7463  dd Allowed Switc
+00019010: 6820 5479 7065 732c 2062 7574 2063 616e  h Types, but can
+00019020: 2774 2072 656d 6f76 652e 0a20 2020 2020  't remove..     
+00019030: 2020 202d 2043 616e 206f 6e6c 7920 6368     - Can only ch
+00019040: 616e 6765 206d 6f6e 5f6f 6e6c 795f 7377  ange mon_only_sw
+00019050: 2061 6e64 2077 6972 6564 5f74 6720 7768   and wired_tg wh
+00019060: 656e 2061 6464 696e 6720 7377 6974 6368  en adding switch
+00019070: 6573 2028 6378 2c20 7377 2920 746f 2061  es (cx, sw) to a
+00019080: 6c6c 6f77 6564 5f64 6576 6963 655f 7479  llowed_device_ty
+00019090: 7065 730a 0a0a 2020 2020 2020 2020 4172  pes...        Ar
+000190a0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+000190b0: 6772 6f75 7020 2873 7472 293a 2047 726f  group (str): Gro
+000190c0: 7570 204e 616d 650a 2020 2020 2020 2020  up Name.        
+000190d0: 2020 2020 616c 6c6f 7765 645f 7479 7065      allowed_type
+000190e0: 7320 2873 7472 2c20 4c69 7374 5b73 7472  s (str, List[str
+000190f0: 5d29 3a20 416c 6c6f 7765 6420 4465 7669  ]): Allowed Devi
+00019100: 6365 2054 7970 6573 2069 6e20 7468 6520  ce Types in the 
+00019110: 6772 6f75 702e 2054 6162 7320 666f 7220  group. Tabs for 
+00019120: 6465 7669 6365 7320 6e6f 7420 616c 6c6f  devices not allo
+00019130: 7765 640a 2020 2020 2020 2020 2020 2020  wed.            
+00019140: 2020 2020 776f 6e27 7420 6469 7370 6c61      won't displa
+00019150: 7920 696e 2055 492e 2020 7661 6c69 6420  y in UI.  valid 
+00019160: 7661 6c75 6573 2022 6170 222c 2022 6777  values "ap", "gw
+00019170: 222c 2022 6378 222c 2022 7377 222c 2022  ", "cx", "sw", "
+00019180: 7377 6974 6368 220a 2020 2020 2020 2020  switch".        
+00019190: 2020 2020 2020 2020 2822 7377 6974 6368          ("switch
+000191a0: 2220 6973 2067 656e 6572 6963 2c20 7769  " is generic, wi
+000191b0: 6c6c 2065 6e61 626c 6520 626f 7468 2063  ll enable both c
+000191c0: 7820 616e 6420 7377 290a 2020 2020 2020  x and sw).      
+000191d0: 2020 2020 2020 7769 7265 645f 7467 2028        wired_tg (
+000191e0: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+000191f0: 2053 6574 2074 6f20 7472 7565 2069 6620   Set to true if 
+00019200: 7769 7265 6428 5377 6974 6368 2920 636f  wired(Switch) co
+00019210: 6e66 6967 7572 6174 696f 6e20 696e 2061  nfiguration in a
+00019220: 2067 726f 7570 2069 7320 6d61 6e61 6765   group is manage
+00019230: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+00019240: 2020 7573 696e 6720 7465 6d70 6c61 7465    using template
+00019250: 732e 0a20 2020 2020 2020 2020 2020 2077  s..            w
+00019260: 6c61 6e5f 7467 2028 626f 6f6c 2c20 6f70  lan_tg (bool, op
+00019270: 7469 6f6e 616c 293a 2053 6574 2074 6f20  tional): Set to 
+00019280: 7472 7565 2069 6620 7769 7265 6c65 7373  true if wireless
+00019290: 2849 4150 2c20 4761 7465 7761 7973 2920  (IAP, Gateways) 
+000192a0: 636f 6e66 6967 7572 6174 696f 6e20 696e  configuration in
+000192b0: 2061 0a20 2020 2020 2020 2020 2020 2020   a.             
+000192c0: 2020 2067 726f 7570 2069 7320 6d61 6e61     group is mana
+000192d0: 6765 6420 7573 696e 6720 7465 6d70 6c61  ged using templa
+000192e0: 7465 732e 0a20 2020 2020 2020 2020 2020  tes..           
+000192f0: 2061 6f73 3130 3a20 2862 6f6f 6c29 3a20   aos10: (bool): 
+00019300: 6966 2054 7275 6520 7573 6520 414f 5331  if True use AOS1
+00019310: 3020 6172 6368 6974 6563 7475 7265 2066  0 architecture f
+00019320: 6f72 2074 6865 2061 6363 6573 7320 706f  or the access po
+00019330: 696e 7473 2061 6e64 2067 6174 6577 6179  ints and gateway
+00019340: 7320 696e 2074 6865 2067 726f 7570 2e0a  s in the group..
+00019350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019360: 6465 6661 756c 7420 4661 6c73 6520 2849  default False (I
+00019370: 6e73 7461 6e74 290a 2020 2020 2020 2020  nstant).        
+00019380: 2020 2020 6d69 6372 6f62 7261 6e63 6820      microbranch 
+00019390: 2862 6f6f 6c29 3a20 5472 7565 2074 6f20  (bool): True to 
+000193a0: 656e 6162 6c65 204d 6963 726f 6272 616e  enable Microbran
+000193b0: 6368 206e 6574 776f 726b 2072 6f6c 6520  ch network role 
+000193c0: 666f 7220 4150 7320 6973 2061 7070 6c69  for APs is appli
+000193d0: 6361 626c 6520 6f6e 6c79 2066 6f72 2041  cable only for A
+000193e0: 4f53 3130 2061 7263 6869 7465 6374 7572  OS10 architectur
+000193f0: 652e 0a20 2020 2020 2020 2020 2020 2067  e..            g
+00019400: 775f 726f 6c65 2028 4761 7465 7761 7952  w_role (GatewayR
+00019410: 6f6c 6529 3a20 4761 7465 7761 7920 726f  ole): Gateway ro
+00019420: 6c65 2076 616c 6964 2076 616c 7565 7320  le valid values 
+00019430: 2262 7261 6e63 6822 2c20 2276 706e 6322  "branch", "vpnc"
+00019440: 2c20 2277 6c61 6e22 2028 2277 6c61 6e22  , "wlan" ("wlan"
+00019450: 206f 6e6c 7920 7661 6c69 6420 6f6e 2041   only valid on A
+00019460: 4f53 3130 2067 726f 7570 290a 2020 2020  OS10 group).    
+00019470: 2020 2020 2020 2020 6d6f 6e69 746f 725f          monitor_
+00019480: 6f6e 6c79 5f73 773a 204d 6f6e 6974 6f72  only_sw: Monitor
+00019490: 206f 6e6c 7920 4172 7562 614f 532d 5357   only ArubaOS-SW
+000194a0: 2073 7769 7463 6865 732c 2061 7070 6c69   switches, appli
+000194b0: 6573 2074 6f20 5549 2067 726f 7570 206f  es to UI group o
+000194c0: 6e6c 790a 2020 2020 2020 2020 2020 2020  nly.            
+000194d0: 6d6f 6e69 746f 725f 6f6e 6c79 5f63 783a  monitor_only_cx:
+000194e0: 204d 6f6e 6974 6f72 206f 6e6c 7920 4172   Monitor only Ar
+000194f0: 7562 614f 532d 4358 2073 7769 7463 6865  ubaOS-CX switche
+00019500: 732c 2061 7070 6c69 6573 2074 6f20 5549  s, applies to UI
+00019510: 2067 726f 7570 206f 6e6c 7920 2846 7574   group only (Fut
+00019520: 7572 6520 6361 7061 6269 6c69 7479 290a  ure capability).
+00019530: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00019540: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00019550: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00019560: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00019570: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00019580: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+00019590: 636f 6e66 6967 7572 6174 696f 6e2f 7632  configuration/v2
+000195a0: 2f67 726f 7570 732f 7b67 726f 7570 7d2f  /groups/{group}/
+000195b0: 7072 6f70 6572 7469 6573 220a 0a20 2020  properties"..   
+000195c0: 2020 2020 2072 6573 7020 3d20 6177 6169       resp = awai
+000195d0: 7420 7365 6c66 2e67 6574 5f67 726f 7570  t self.get_group
+000195e0: 735f 7072 6f70 6572 7469 6573 2867 726f  s_properties(gro
+000195f0: 7570 290a 2020 2020 2020 2020 6966 2072  up).        if r
+00019600: 6573 703a 0a20 2020 2020 2020 2020 2020  esp:.           
+00019610: 2069 6620 6e6f 7420 6973 696e 7374 616e   if not isinstan
+00019620: 6365 2872 6573 702e 6f75 7470 7574 2c20  ce(resp.output, 
+00019630: 6c69 7374 293a 0a20 2020 2020 2020 2020  list):.         
+00019640: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+00019650: 7565 4572 726f 7228 6622 4578 7065 6374  ueError(f"Expect
+00019660: 6564 206c 6973 7420 6f66 2064 6963 7473  ed list of dicts
+00019670: 2066 726f 6d20 6765 745f 6772 6f75 7073   from get_groups
+00019680: 5f70 726f 7065 7274 6965 7320 676f 7420  _properties got 
+00019690: 7b74 7970 6528 7265 7370 2e6f 7574 7075  {type(resp.outpu
+000196a0: 7429 7d22 290a 2020 2020 2020 2020 2020  t)}").          
+000196b0: 2020 6375 725f 6772 6f75 705f 7072 6f70    cur_group_prop
+000196c0: 7320 3d20 7265 7370 2e6f 7574 7075 745b  s = resp.output[
+000196d0: 2d31 5d5b 2270 726f 7065 7274 6965 7322  -1]["properties"
+000196e0: 5d0a 2020 2020 2020 2020 656c 7365 3a0a  ].        else:.
+000196f0: 2020 2020 2020 2020 2020 2020 6c6f 672e              log.
+00019700: 6572 726f 7228 6622 556e 6162 6c65 2074  error(f"Unable t
+00019710: 6f20 7065 7266 6f72 6d20 6361 6c6c 2074  o perform call t
+00019720: 6f20 7570 6461 7465 2067 726f 7570 207b  o update group {
+00019730: 6772 6f75 707d 2070 726f 7065 7274 6965  group} propertie
+00019740: 732e 2020 4361 6c6c 2074 6f20 6765 7420  s.  Call to get 
+00019750: 6375 7272 656e 7420 7072 6f70 6572 7469  current properti
+00019760: 6573 2066 6169 6c65 642e 2229 0a20 2020  es failed.").   
+00019770: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+00019780: 7265 7370 0a0a 2020 2020 2020 2020 6966  resp..        if
+00019790: 2063 7572 5f67 726f 7570 5f70 726f 7073   cur_group_props
+000197a0: 5b22 414f 5356 6572 7369 6f6e 225d 203d  ["AOSVersion"] =
+000197b0: 3d20 2241 4f53 5f31 3058 2220 616e 6420  = "AOS_10X" and 
+000197c0: 616f 7331 3020 6973 2046 616c 7365 3a0a  aos10 is False:.
+000197d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000197e0: 726e 2052 6573 706f 6e73 6528 0a20 2020  rn Response(.   
+000197f0: 2020 2020 2020 2020 2020 2020 2065 7272               err
+00019800: 6f72 3d66 227b 6772 6f75 707d 2069 7320  or=f"{group} is 
+00019810: 6375 7272 656e 746c 7920 616e 2041 4f53  currently an AOS
+00019820: 3130 2067 726f 7570 2e20 2055 7067 7261  10 group.  Upgra
+00019830: 6469 6e67 2074 6f20 414f 5331 3020 6973  ding to AOS10 is
+00019840: 2073 7570 706f 7274 6564 2c20 7265 7665   supported, reve
+00019850: 7274 696e 6720 6261 636b 2069 7320 6e6f  rting back is no
+00019860: 742e 222c 0a20 2020 2020 2020 2020 2020  t.",.           
+00019870: 2020 2020 2072 6c5f 7374 723d 7265 7370       rl_str=resp
+00019880: 2e72 6c2c 0a20 2020 2020 2020 2020 2020  .rl,.           
+00019890: 2029 0a20 2020 2020 2020 2069 6620 616f   ).        if ao
+000198a0: 7331 3020 6973 2054 7275 653a 0a20 2020  s10 is True:.   
+000198b0: 2020 2020 2020 2020 2069 6620 2241 6363           if "Acc
+000198c0: 6573 7350 6f69 6e74 7322 2069 6e20 6375  essPoints" in cu
+000198d0: 725f 6772 6f75 705f 7072 6f70 735b 2241  r_group_props["A
+000198e0: 6c6c 6f77 6564 4465 7654 7970 6573 225d  llowedDevTypes"]
+000198f0: 206f 7220 5c0a 2020 2020 2020 2020 2020   or \.          
+00019900: 2020 2020 2020 2247 6174 6577 6179 7322        "Gateways"
+00019910: 2069 6e20 6375 725f 6772 6f75 705f 7072   in cur_group_pr
+00019920: 6f70 735b 2241 6c6c 6f77 6564 4465 7654  ops["AllowedDevT
+00019930: 7970 6573 225d 3a0a 2020 2020 2020 2020  ypes"]:.        
+00019940: 2020 2020 2020 2020 7265 7475 726e 2052          return R
+00019950: 6573 706f 6e73 6528 0a20 2020 2020 2020  esponse(.       
+00019960: 2020 2020 2020 2020 2020 2020 2065 7272               err
+00019970: 6f72 3d66 227b 636f 6c6f 7228 2741 4f53  or=f"{color('AOS
+00019980: 3130 2729 7d20 6361 6e20 6f6e 6c79 2062  10')} can only b
+00019990: 6520 7365 7420 7768 656e 2041 5073 206f  e set when APs o
+000199a0: 7220 4757 7320 6172 6520 696e 6974 6961  r GWs are initia
+000199b0: 6c6c 7920 6164 6465 6420 746f 2061 6c6c  lly added to all
+000199c0: 6f77 6564 5f74 7970 6573 206f 6620 6772  owed_types of gr
+000199d0: 6f75 7022 0a20 2020 2020 2020 2020 2020  oup".           
+000199e0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+000199f0: 225c 6e7b 636f 6c6f 7228 6772 6f75 7029  "\n{color(group)
+00019a00: 7d20 6361 6e20 6265 2063 6c6f 6e65 6420  } can be cloned 
+00019a10: 7769 7468 206f 7074 696f 6e20 746f 2075  with option to u
+00019a20: 7067 7261 6465 2064 7572 696e 6720 636c  pgrade during cl
+00019a30: 6f6e 652e 222c 0a20 2020 2020 2020 2020  one.",.         
+00019a40: 2020 2020 2020 2020 2020 2072 6c5f 7374             rl_st
+00019a50: 723d 7265 7370 2e72 6c2c 0a20 2020 2020  r=resp.rl,.     
+00019a60: 2020 2020 2020 2020 2020 2029 0a0a 2020             )..  
+00019a70: 2020 2020 2020 6966 2022 4163 6365 7373        if "Access
+00019a80: 506f 696e 7473 2220 696e 2063 7572 5f67  Points" in cur_g
+00019a90: 726f 7570 5f70 726f 7073 5b22 416c 6c6f  roup_props["Allo
+00019aa0: 7765 6444 6576 5479 7065 7322 5d3a 0a20  wedDevTypes"]:. 
+00019ab0: 2020 2020 2020 2020 2020 2069 6620 6d69             if mi
+00019ac0: 6372 6f62 7261 6e63 6820 6973 206e 6f74  crobranch is not
+00019ad0: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00019ae0: 2020 2020 2020 2072 6574 7572 6e20 5265         return Re
+00019af0: 7370 6f6e 7365 280a 2020 2020 2020 2020  sponse(.        
+00019b00: 2020 2020 2020 2020 2020 2020 6572 726f              erro
+00019b10: 723d 6622 7b67 726f 7570 7d20 616c 7265  r=f"{group} alre
+00019b20: 6164 7920 616c 6c6f 7773 2041 5073 2e20  ady allows APs. 
+00019b30: 204d 6963 726f 6272 616e 6368 2f53 7461   Microbranch/Sta
+00019b40: 6e64 6172 6420 4150 2063 616e 206f 6e6c  ndard AP can onl
+00019b50: 7920 6265 2073 6574 2022 0a20 2020 2020  y be set ".     
+00019b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019b70: 2020 2020 2022 7768 656e 2069 6e69 7469       "when initi
+00019b80: 616c 6c79 2061 6464 696e 6720 4150 7320  ally adding APs 
+00019b90: 746f 2061 6c6c 6f77 6564 5f74 7970 6573  to allowed_types
+00019ba0: 206f 6620 6772 6f75 7022 2c0a 2020 2020   of group",.    
+00019bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019bc0: 726c 5f73 7472 3d72 6573 702e 726c 2c0a  rl_str=resp.rl,.
+00019bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019be0: 290a 2020 2020 2020 2020 6966 206d 6f6e  ).        if mon
+00019bf0: 6974 6f72 5f6f 6e6c 795f 7377 2069 7320  itor_only_sw is 
+00019c00: 4661 6c73 6520 616e 6420 2241 4f53 5f53  False and "AOS_S
+00019c10: 2220 696e 2063 7572 5f67 726f 7570 5f70  " in cur_group_p
+00019c20: 726f 7073 5b22 416c 6c6f 7765 6453 7769  rops["AllowedSwi
+00019c30: 7463 6854 7970 6573 225d 3a0a 2020 2020  tchTypes"]:.    
+00019c40: 2020 2020 2020 2020 7265 7475 726e 2052          return R
+00019c50: 6573 706f 6e73 6528 0a20 2020 2020 2020  esponse(.       
+00019c60: 2020 2020 2020 2020 2065 7272 6f72 3d66           error=f
+00019c70: 227b 6772 6f75 707d 2061 6c72 6561 6479  "{group} already
+00019c80: 2061 6c6c 6f77 7320 414f 532d 5357 2e20   allows AOS-SW. 
+00019c90: 204d 6f6e 6974 6f72 204f 6e6c 7920 6361   Monitor Only ca
+00019ca0: 6e20 6f6e 6c79 2062 6520 7365 7420 220a  n only be set ".
+00019cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019cc0: 2020 2020 2020 2277 6865 6e20 696e 6974        "when init
+00019cd0: 6961 6c6c 7920 6164 6469 6e67 2041 4f53  ially adding AOS
+00019ce0: 2d53 5720 746f 2061 6c6c 6f77 6564 5f74  -SW to allowed_t
+00019cf0: 7970 6573 206f 6620 6772 6f75 7022 2c0a  ypes of group",.
+00019d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019d10: 726c 5f73 7472 3d72 6573 702e 726c 2c0a  rl_str=resp.rl,.
+00019d20: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00019d30: 2020 2020 2020 6966 206d 6f6e 6974 6f72        if monitor
+00019d40: 5f6f 6e6c 795f 6378 2069 7320 4661 6c73  _only_cx is Fals
+00019d50: 6520 616e 6420 2241 4f53 5f43 5822 2069  e and "AOS_CX" i
+00019d60: 6e20 6375 725f 6772 6f75 705f 7072 6f70  n cur_group_prop
+00019d70: 735b 2241 6c6c 6f77 6564 5377 6974 6368  s["AllowedSwitch
+00019d80: 5479 7065 7322 5d3a 0a20 2020 2020 2020  Types"]:.       
+00019d90: 2020 2020 2072 6574 7572 6e20 5265 7370       return Resp
+00019da0: 6f6e 7365 280a 2020 2020 2020 2020 2020  onse(.          
+00019db0: 2020 2020 2020 6572 726f 723d 6622 7b67        error=f"{g
+00019dc0: 726f 7570 7d20 616c 7265 6164 7920 616c  roup} already al
+00019dd0: 6c6f 7773 2041 4f53 2d43 582e 2020 4d6f  lows AOS-CX.  Mo
+00019de0: 6e69 746f 7220 4f6e 6c79 2063 616e 206f  nitor Only can o
+00019df0: 6e6c 7920 6265 2073 6574 2022 0a20 2020  nly be set ".   
+00019e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019e10: 2020 2022 7768 656e 2069 6e69 7469 616c     "when initial
+00019e20: 6c79 2061 6464 696e 6720 414f 532d 4358  ly adding AOS-CX
+00019e30: 2074 6f20 616c 6c6f 7765 645f 7479 7065   to allowed_type
+00019e40: 7320 6f66 2067 726f 7570 222c 0a20 2020  s of group",.   
+00019e50: 2020 2020 2020 2020 2020 2020 2072 6c5f               rl_
+00019e60: 7374 723d 7265 7370 2e72 6c2c 0a20 2020  str=resp.rl,.   
+00019e70: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00019e80: 2020 2020 616c 6c6f 7765 645f 7479 7065      allowed_type
+00019e90: 7320 3d20 616c 6c6f 7765 645f 7479 7065  s = allowed_type
+00019ea0: 7320 6f72 205b 5d0a 2020 2020 2020 2020  s or [].        
+00019eb0: 616c 6c6f 7765 645f 7377 6974 6368 5f74  allowed_switch_t
+00019ec0: 7970 6573 203d 205b 5d0a 2020 2020 2020  ypes = [].      
+00019ed0: 2020 6966 2061 6c6c 6f77 6564 5f74 7970    if allowed_typ
+00019ee0: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+00019ef0: 616c 6c6f 7765 645f 7479 7065 7320 3d20  allowed_types = 
+00019f00: 7574 696c 732e 6c69 7374 6966 7928 616c  utils.listify(al
+00019f10: 6c6f 7765 645f 7479 7065 7329 0a20 2020  lowed_types).   
+00019f20: 2020 2020 2020 2020 2069 6620 2273 7769           if "swi
+00019f30: 7463 6822 2069 6e20 616c 6c6f 7765 645f  tch" in allowed_
+00019f40: 7479 7065 7320 6f72 2028 2263 7822 2069  types or ("cx" i
+00019f50: 6e20 616c 6c6f 7765 645f 7479 7065 7320  n allowed_types 
+00019f60: 616e 6420 2273 7722 2069 6e20 616c 6c6f  and "sw" in allo
+00019f70: 7765 645f 7479 7065 7329 3a0a 2020 2020  wed_types):.    
+00019f80: 2020 2020 2020 2020 2020 2020 616c 6c6f              allo
+00019f90: 7765 645f 7377 6974 6368 5f74 7970 6573  wed_switch_types
+00019fa0: 202b 3d20 5b22 414f 535f 4358 222c 2022   += ["AOS_CX", "
+00019fb0: 414f 535f 5322 5d0a 2020 2020 2020 2020  AOS_S"].        
+00019fc0: 2020 2020 656c 6966 2022 7377 2220 696e      elif "sw" in
+00019fd0: 2061 6c6c 6f77 6564 5f74 7970 6573 3a0a   allowed_types:.
+00019fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019ff0: 616c 6c6f 7765 645f 7377 6974 6368 5f74  allowed_switch_t
+0001a000: 7970 6573 202b 3d20 5b22 414f 535f 5322  ypes += ["AOS_S"
+0001a010: 5d0a 2020 2020 2020 2020 2020 2020 656c  ].            el
+0001a020: 6966 2022 6378 2220 696e 2061 6c6c 6f77  if "cx" in allow
+0001a030: 6564 5f74 7970 6573 3a0a 2020 2020 2020  ed_types:.      
+0001a040: 2020 2020 2020 2020 2020 616c 6c6f 7765            allowe
+0001a050: 645f 7377 6974 6368 5f74 7970 6573 202b  d_switch_types +
+0001a060: 3d20 5b22 414f 535f 4358 225d 0a0a 2020  = ["AOS_CX"]..  
+0001a070: 2020 2020 2020 2320 7072 696e 7428 225b        # print("[
+0001a080: 4445 4255 475d 202d 2d2d 2d20 4375 7272  DEBUG] ---- Curr
+0001a090: 656e 7420 5072 6f70 6572 7469 6573 206f  ent Properties o
+0001a0a0: 6620 6772 6f75 7022 290a 2020 2020 2020  f group").      
+0001a0b0: 2020 2320 7574 696c 732e 6a73 6f6e 5f70    # utils.json_p
+0001a0c0: 7269 6e74 2863 7572 5f67 726f 7570 5f70  rint(cur_group_p
+0001a0d0: 726f 7073 290a 2020 2020 2020 2020 2320  rops).        # 
+0001a0e0: 7072 696e 7428 225b 4445 4255 475d 202d  print("[DEBUG] -
+0001a0f0: 2d2d 2d22 290a 2020 2020 2020 2020 2320  ---").        # 
+0001a100: 544f 444f 2063 6f70 7920 7061 7374 6520  TODO copy paste 
+0001a110: 6672 6f6d 2063 7265 6174 6520 6772 6f75  from create grou
+0001a120: 7020 2e2e 2e20 636f 6d6d 6f6e 2066 756e  p ... common fun
+0001a130: 6320 746f 2062 7569 6c64 2070 6179 6c6f  c to build paylo
+0001a140: 6164 0a20 2020 2020 2020 2067 775f 726f  ad.        gw_ro
+0001a150: 6c65 5f64 6963 7420 3d20 7b0a 2020 2020  le_dict = {.    
+0001a160: 2020 2020 2020 2020 2262 7261 6e63 6822          "branch"
+0001a170: 3a20 2242 7261 6e63 6847 6174 6577 6179  : "BranchGateway
+0001a180: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+0001a190: 7670 6e63 223a 2022 5650 4e43 6f6e 6365  vpnc": "VPNConce
+0001a1a0: 6e74 7261 746f 7222 2c0a 2020 2020 2020  ntrator",.      
+0001a1b0: 2020 2020 2020 2277 6c61 6e22 3a20 2257        "wlan": "W
+0001a1c0: 4c41 4e47 6174 6577 6179 222c 0a20 2020  LANGateway",.   
+0001a1d0: 2020 2020 207d 0a20 2020 2020 2020 2064       }.        d
+0001a1e0: 6576 5f74 7970 655f 6469 6374 203d 207b  ev_type_dict = {
+0001a1f0: 0a20 2020 2020 2020 2020 2020 2022 6170  .            "ap
+0001a200: 223a 2022 4163 6365 7373 506f 696e 7473  ": "AccessPoints
+0001a210: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+0001a220: 6777 223a 2022 4761 7465 7761 7973 222c  gw": "Gateways",
+0001a230: 0a20 2020 2020 2020 2020 2020 2022 7377  .            "sw
+0001a240: 6974 6368 223a 2022 5377 6974 6368 6573  itch": "Switches
+0001a250: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+0001a260: 6378 223a 2022 5377 6974 6368 6573 222c  cx": "Switches",
+0001a270: 0a20 2020 2020 2020 2020 2020 2022 7377  .            "sw
+0001a280: 223a 2022 5377 6974 6368 6573 222c 0a20  ": "Switches",. 
+0001a290: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0001a2a0: 2067 775f 726f 6c65 203d 2067 775f 726f   gw_role = gw_ro
+0001a2b0: 6c65 5f64 6963 742e 6765 7428 6777 5f72  le_dict.get(gw_r
+0001a2c0: 6f6c 6529 0a0a 2020 2020 2020 2020 6d6f  ole)..        mo
+0001a2d0: 6e5f 6f6e 6c79 5f73 7769 7463 6865 7320  n_only_switches 
+0001a2e0: 3d20 5b5d 0a20 2020 2020 2020 2069 6620  = [].        if 
+0001a2f0: 6d6f 6e69 746f 725f 6f6e 6c79 5f73 773a  monitor_only_sw:
+0001a300: 0a20 2020 2020 2020 2020 2020 206d 6f6e  .            mon
+0001a310: 5f6f 6e6c 795f 7377 6974 6368 6573 202b  _only_switches +
+0001a320: 3d20 5b22 414f 535f 5322 5d0a 2020 2020  = ["AOS_S"].    
+0001a330: 2020 2020 6966 206d 6f6e 6974 6f72 5f6f      if monitor_o
+0001a340: 6e6c 795f 6378 3a0a 2020 2020 2020 2020  nly_cx:.        
+0001a350: 2020 2020 6d6f 6e5f 6f6e 6c79 5f73 7769      mon_only_swi
+0001a360: 7463 6865 7320 2b3d 205b 2241 4f53 5f43  tches += ["AOS_C
+0001a370: 5822 5d0a 2020 2020 2020 2020 2020 2020  X"].            
+0001a380: 7261 6973 6520 4e6f 7449 6d70 6c65 6d65  raise NotImpleme
+0001a390: 6e74 6564 4572 726f 7228 2241 4f53 5f43  ntedError("AOS_C
+0001a3a0: 5820 4d6f 6e69 746f 7220 4f6e 6c79 206e  X Monitor Only n
+0001a3b0: 6f74 2073 7570 706f 7274 6564 2069 6e20  ot supported in 
+0001a3c0: 4365 6e74 7261 6c20 7965 742e 2229 0a0a  Central yet.")..
+0001a3d0: 2020 2020 2020 2020 6172 6368 203d 204e          arch = N
+0001a3e0: 6f6e 650a 2020 2020 2020 2020 6966 206d  one.        if m
+0001a3f0: 6963 726f 6272 616e 6368 2069 7320 6e6f  icrobranch is no
+0001a400: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0001a410: 2020 2020 6966 2061 6f73 3130 2069 7320      if aos10 is 
+0001a420: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+0001a430: 2020 2020 2020 2020 2020 6172 6368 203d            arch =
+0001a440: 2022 496e 7374 616e 7422 2069 6620 6e6f   "Instant" if no
+0001a450: 7420 616f 7331 3020 656c 7365 2022 414f  t aos10 else "AO
+0001a460: 5331 3022 0a0a 2020 2020 2020 2020 616c  S10"..        al
+0001a470: 6c6f 7765 645f 7479 7065 7320 3d20 6c69  lowed_types = li
+0001a480: 7374 2873 6574 285b 6465 765f 7479 7065  st(set([dev_type
+0001a490: 5f64 6963 742e 6765 7428 7429 2066 6f72  _dict.get(t) for
+0001a4a0: 2074 2069 6e20 616c 6c6f 7765 645f 7479   t in allowed_ty
+0001a4b0: 7065 735d 2929 0a20 2020 2020 2020 2063  pes])).        c
+0001a4c0: 6f6d 6269 6e65 645f 616c 6c6f 7765 6420  ombined_allowed 
+0001a4d0: 3d20 5b2a 616c 6c6f 7765 645f 7479 7065  = [*allowed_type
+0001a4e0: 732c 202a 6375 725f 6772 6f75 705f 7072  s, *cur_group_pr
+0001a4f0: 6f70 735b 2241 6c6c 6f77 6564 4465 7654  ops["AllowedDevT
+0001a500: 7970 6573 225d 5d0a 0a20 2020 2020 2020  ypes"]]..       
+0001a510: 2069 6620 4e6f 6e65 2069 6e20 616c 6c6f   if None in allo
+0001a520: 7765 645f 7479 7065 733a 0a20 2020 2020  wed_types:.     
+0001a530: 2020 2020 2020 2072 6574 7572 6e20 5265         return Re
+0001a540: 7370 6f6e 7365 280a 2020 2020 2020 2020  sponse(.        
+0001a550: 2020 2020 2020 2020 6572 726f 723d 2749          error='I
+0001a560: 6e76 616c 6964 2064 6576 6963 6520 7479  nvalid device ty
+0001a570: 7065 2066 6f72 2061 6c6c 6f77 6564 5f74  pe for allowed_t
+0001a580: 7970 6573 2076 616c 6964 2076 616c 7565  ypes valid value
+0001a590: 733a 2022 6170 222c 2022 6777 222c 2022  s: "ap", "gw", "
+0001a5a0: 7377 222c 2022 6378 222c 2022 7377 6974  sw", "cx", "swit
+0001a5b0: 6368 2227 2c0a 2020 2020 2020 2020 2020  ch"',.          
+0001a5c0: 2020 2020 2020 726c 5f73 7472 3d72 6573        rl_str=res
+0001a5d0: 702e 726c 2c0a 2020 2020 2020 2020 2020  p.rl,.          
+0001a5e0: 2020 290a 2020 2020 2020 2020 6966 206d    ).        if m
+0001a5f0: 6963 726f 6272 616e 6368 2061 6e64 206e  icrobranch and n
+0001a600: 6f74 2061 6f73 3130 3a0a 2020 2020 2020  ot aos10:.      
+0001a610: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
+0001a620: 706f 6e73 6528 0a20 2020 2020 2020 2020  ponse(.         
+0001a630: 2020 2020 2020 2065 7272 6f72 3d22 496e         error="In
+0001a640: 7661 6c69 6420 636f 6d62 696e 6174 696f  valid combinatio
+0001a650: 6e2c 2047 726f 7570 206d 7573 7420 6265  n, Group must be
+0001a660: 2063 6f6e 6669 6775 7265 6420 6173 2041   configured as A
+0001a670: 4f53 3130 2067 726f 7570 2074 6f20 7375  OS10 group to su
+0001a680: 7070 6f72 7420 4d69 6372 6f62 7261 6e63  pport Microbranc
+0001a690: 6822 2c0a 2020 2020 2020 2020 2020 2020  h",.            
+0001a6a0: 2020 2020 726c 5f73 7472 3d72 6573 702e      rl_str=resp.
+0001a6b0: 726c 2c0a 2020 2020 2020 2020 2020 2020  rl,.            
+0001a6c0: 290a 2020 2020 2020 2020 6966 206d 6963  ).        if mic
+0001a6d0: 726f 6272 616e 6368 2061 6e64 2022 4163  robranch and "Ac
+0001a6e0: 6365 7373 506f 696e 7473 2220 6e6f 7420  cessPoints" not 
+0001a6f0: 696e 2063 6f6d 6269 6e65 645f 616c 6c6f  in combined_allo
+0001a700: 7765 643a 0a20 2020 2020 2020 2020 2020  wed:.           
+0001a710: 2072 6574 7572 6e20 5265 7370 6f6e 7365   return Response
+0001a720: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0001a730: 2020 6572 726f 723d 6622 496e 7661 6c69    error=f"Invali
+0001a740: 6420 636f 6d62 696e 6174 696f 6e2c 207b  d combination, {
+0001a750: 636f 6c6f 7228 274d 6963 726f 6272 616e  color('Microbran
+0001a760: 6368 2729 7d20 220a 2020 2020 2020 2020  ch')} ".        
+0001a770: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001a780: 6361 6e20 6e6f 7420 6265 2065 6e61 626c  can not be enabl
+0001a790: 6564 2069 6e20 6772 6f75 7020 7b63 6f6c  ed in group {col
+0001a7a0: 6f72 2867 726f 7570 297d 2e20 2022 0a20  or(group)}.  ". 
+0001a7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a7c0: 2020 2020 2022 4150 7320 6d75 7374 2062       "APs must b
+0001a7d0: 6520 6164 6465 6420 746f 2061 6c6c 6f77  e added to allow
+0001a7e0: 6564 2064 6576 6963 6573 2e5c 6e22 0a20  ed devices.\n". 
+0001a7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a800: 2020 2020 2066 225b 7265 7365 745d 4375       f"[reset]Cu
+0001a810: 7272 656e 7420 416c 6c6f 7765 6420 4465  rrent Allowed De
+0001a820: 7669 6365 733a 207b 636f 6c6f 7228 636f  vices: {color(co
+0001a830: 6d62 696e 6564 5f61 6c6c 6f77 6564 297d  mbined_allowed)}
+0001a840: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0001a850: 2020 2072 6c5f 7374 723d 7265 7370 2e72     rl_str=resp.r
+0001a860: 6c2c 0a20 2020 2020 2020 2020 2020 2029  l,.            )
+0001a870: 0a20 2020 2020 2020 2023 2069 6620 2247  .        # if "G
+0001a880: 6174 6577 6179 7322 2069 6e20 636f 6d62  ateways" in comb
+0001a890: 696e 6564 5f61 6c6c 6f77 6564 206f 7220  ined_allowed or 
+0001a8a0: 2241 6363 6573 7350 6f69 6e74 7322 2069  "AccessPoints" i
+0001a8b0: 6e20 636f 6d62 696e 6564 5f61 6c6c 6f77  n combined_allow
+0001a8c0: 6564 3a0a 2020 2020 2020 2020 2320 2020  ed:.        #   
+0001a8d0: 2020 6966 2061 6f73 3130 2069 7320 6e6f    if aos10 is no
+0001a8e0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
+0001a8f0: 2320 2020 2020 2020 2020 7265 7475 726e  #         return
+0001a900: 2052 6573 706f 6e73 6528 0a20 2020 2020   Response(.     
+0001a910: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+0001a920: 2065 7272 6f72 3d66 227b 636f 6c6f 7228   error=f"{color(
+0001a930: 2741 4f53 3130 2729 7d20 6361 6e20 6f6e  'AOS10')} can on
+0001a940: 6c79 2062 6520 7365 7420 7768 656e 2041  ly be set when A
+0001a950: 5073 206f 7220 4757 7320 6172 6520 696e  Ps or GWs are in
+0001a960: 6974 6961 6c6c 7920 6164 6465 6420 746f  itially added to
+0001a970: 2061 6c6c 6f77 6564 5f74 7970 6573 206f   allowed_types o
+0001a980: 6620 6772 6f75 7022 0a20 2020 2020 2020  f group".       
+0001a990: 2023 2020 2020 2020 2020 2020 2020 2020   #              
+0001a9a0: 2020 2020 2066 225c 6e7b 636f 6c6f 7228       f"\n{color(
+0001a9b0: 6772 6f75 7029 7d20 6361 6e20 6265 2063  group)} can be c
+0001a9c0: 6c6f 6e65 6420 7769 7468 206f 7074 696f  loned with optio
+0001a9d0: 6e20 746f 2075 7067 7261 6465 2064 7572  n to upgrade dur
+0001a9e0: 696e 6720 636c 6f6e 652e 222c 0a20 2020  ing clone.",.   
+0001a9f0: 2020 2020 2023 2020 2020 2020 2020 2020       #          
+0001aa00: 2020 2072 6c5f 7374 723d 7265 7370 2e72     rl_str=resp.r
+0001aa10: 6c2c 0a20 2020 2020 2020 2023 2020 2020  l,.        #    
+0001aa20: 2020 2020 2029 0a20 2020 2020 2020 2023       ).        #
+0001aa30: 2069 6620 7769 7265 645f 7467 2061 6e64   if wired_tg and
+0001aa40: 206d 6f6e 6974 6f72 5f6f 6e6c 795f 7377   monitor_only_sw
+0001aa50: 206f 7220 6d6f 6e69 746f 725f 6f6e 6c79   or monitor_only
+0001aa60: 5f63 783a 0a20 2020 2020 2020 2069 6620  _cx:.        if 
+0001aa70: 7769 7265 645f 7467 2061 6e64 206d 6f6e  wired_tg and mon
+0001aa80: 6974 6f72 5f6f 6e6c 795f 7377 3a0a 2020  itor_only_sw:.  
+0001aa90: 2020 2020 2020 2020 2020 7265 7475 726e            return
+0001aaa0: 2052 6573 706f 6e73 6528 0a20 2020 2020   Response(.     
+0001aab0: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+0001aac0: 3d22 496e 7661 6c69 6420 636f 6d62 696e  ="Invalid combin
+0001aad0: 6174 696f 6e2c 204d 6f6e 6974 6f72 204f  ation, Monitor O
+0001aae0: 6e6c 7920 6973 206e 6f74 2076 616c 6964  nly is not valid
+0001aaf0: 2066 6f72 2054 656d 706c 6174 6520 4772   for Template Gr
+0001ab00: 6f75 7022 2c0a 2020 2020 2020 2020 2020  oup",.          
+0001ab10: 2020 2020 2020 726c 5f73 7472 3d72 6573        rl_str=res
+0001ab20: 702e 726c 2c0a 2020 2020 2020 2020 2020  p.rl,.          
+0001ab30: 2020 290a 0a20 2020 2020 2020 2067 7270    )..        grp
+0001ab40: 5f70 726f 7073 203d 207b 0a20 2020 2020  _props = {.     
+0001ab50: 2020 2020 2020 2022 416c 6c6f 7765 6444         "AllowedD
+0001ab60: 6576 5479 7065 7322 3a20 636f 6d62 696e  evTypes": combin
+0001ab70: 6564 5f61 6c6c 6f77 6564 2c0a 2020 2020  ed_allowed,.    
+0001ab80: 2020 2020 2020 2020 2241 7263 6869 7465          "Archite
+0001ab90: 6374 7572 6522 3a20 6172 6368 206f 7220  cture": arch or 
+0001aba0: 6375 725f 6772 6f75 705f 7072 6f70 732e  cur_group_props.
+0001abb0: 6765 7428 2241 7263 6869 7465 6374 7572  get("Architectur
+0001abc0: 6522 292c 0a20 2020 2020 2020 2020 2020  e"),.           
+0001abd0: 2022 416c 6c6f 7765 6453 7769 7463 6854   "AllowedSwitchT
+0001abe0: 7970 6573 223a 2061 6c6c 6f77 6564 5f73  ypes": allowed_s
+0001abf0: 7769 7463 685f 7479 7065 7320 6f72 2063  witch_types or c
+0001ac00: 7572 5f67 726f 7570 5f70 726f 7073 2e67  ur_group_props.g
+0001ac10: 6574 2822 416c 6c6f 7765 6453 7769 7463  et("AllowedSwitc
+0001ac20: 6854 7970 6573 222c 205b 5d29 2c0a 2020  hTypes", []),.  
+0001ac30: 2020 2020 2020 2020 2020 224d 6f6e 6974            "Monit
+0001ac40: 6f72 4f6e 6c79 223a 206d 6f6e 5f6f 6e6c  orOnly": mon_onl
+0001ac50: 795f 7377 6974 6368 6573 206f 7220 6375  y_switches or cu
+0001ac60: 725f 6772 6f75 705f 7072 6f70 732e 6765  r_group_props.ge
+0001ac70: 7428 224d 6f6e 6974 6f72 4f6e 6c79 5377  t("MonitorOnlySw
+0001ac80: 6974 6368 2229 0a20 2020 2020 2020 207d  itch").        }
+0001ac90: 0a20 2020 2020 2020 2067 7270 5f70 726f  .        grp_pro
+0001aca0: 7073 203d 207b 6b3a 2076 2066 6f72 206b  ps = {k: v for k
+0001acb0: 2c20 7620 696e 2067 7270 5f70 726f 7073  , v in grp_props
+0001acc0: 2e69 7465 6d73 2829 2069 6620 767d 0a0a  .items() if v}..
+0001acd0: 2020 2020 2020 2020 6966 2067 775f 726f          if gw_ro
+0001ace0: 6c65 2061 6e64 2022 4761 7465 7761 7973  le and "Gateways
+0001acf0: 2220 696e 2061 6c6c 6f77 6564 5f74 7970  " in allowed_typ
+0001ad00: 6573 3a0a 2020 2020 2020 2020 2020 2020  es:.            
+0001ad10: 6772 705f 7072 6f70 735b 2247 774e 6574  grp_props["GwNet
+0001ad20: 776f 726b 526f 6c65 225d 203d 2067 775f  workRole"] = gw_
+0001ad30: 726f 6c65 0a20 2020 2020 2020 2069 6620  role.        if 
+0001ad40: 2241 6363 6573 7350 6f69 6e74 7322 2069  "AccessPoints" i
+0001ad50: 6e20 616c 6c6f 7765 645f 7479 7065 7320  n allowed_types 
+0001ad60: 6f72 2022 4163 6365 7373 506f 696e 7473  or "AccessPoints
+0001ad70: 2220 696e 2063 7572 5f67 726f 7570 5f70  " in cur_group_p
+0001ad80: 726f 7073 5b22 416c 6c6f 7765 6444 6576  rops["AllowedDev
+0001ad90: 5479 7065 7322 5d3a 0a20 2020 2020 2020  Types"]:.       
+0001ada0: 2020 2020 2069 6620 6d69 6372 6f62 7261       if microbra
+0001adb0: 6e63 6820 6973 206e 6f74 204e 6f6e 653a  nch is not None:
+0001adc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001add0: 2067 7270 5f70 726f 7073 5b22 4170 4e65   grp_props["ApNe
+0001ade0: 7477 6f72 6b52 6f6c 6522 5d20 3d20 5c0a  tworkRole"] = \.
+0001adf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ae00: 2020 2020 2253 7461 6e64 6172 6422 2069      "Standard" i
+0001ae10: 6620 6e6f 7420 6d69 6372 6f62 7261 6e63  f not microbranc
+0001ae20: 6820 656c 7365 2022 4d69 6372 6f62 7261  h else "Microbra
+0001ae30: 6e63 6822 0a0a 2020 2020 2020 2020 746d  nch"..        tm
+0001ae40: 706c 745f 696e 666f 203d 207b 0a20 2020  plt_info = {.   
+0001ae50: 2020 2020 2020 2020 2022 5769 7265 6422           "Wired"
+0001ae60: 3a20 7769 7265 645f 7467 2c0a 2020 2020  : wired_tg,.    
+0001ae70: 2020 2020 2020 2020 2257 6972 656c 6573          "Wireles
+0001ae80: 7322 3a20 776c 616e 5f74 670a 2020 2020  s": wlan_tg.    
+0001ae90: 2020 2020 7d0a 2020 2020 2020 2020 746d      }.        tm
+0001aea0: 706c 745f 696e 666f 203d 2075 7469 6c73  plt_info = utils
+0001aeb0: 2e73 7472 6970 5f6e 6f6e 6528 746d 706c  .strip_none(tmpl
+0001aec0: 745f 696e 666f 290a 0a20 2020 2020 2020  t_info)..       
+0001aed0: 2067 7270 5f61 7474 7273 203d 207b 7d0a   grp_attrs = {}.
+0001aee0: 2020 2020 2020 2020 6966 2074 6d70 6c74          if tmplt
+0001aef0: 5f69 6e66 6f3a 0a20 2020 2020 2020 2020  _info:.         
+0001af00: 2020 2067 7270 5f61 7474 7273 5b22 7465     grp_attrs["te
+0001af10: 6d70 6c61 7465 5f69 6e66 6f22 5d20 3d20  mplate_info"] = 
+0001af20: 746d 706c 745f 696e 666f 0a20 2020 2020  tmplt_info.     
+0001af30: 2020 2069 6620 6772 705f 7072 6f70 733a     if grp_props:
+0001af40: 0a20 2020 2020 2020 2020 2020 2067 7270  .            grp
+0001af50: 5f61 7474 7273 5b22 6772 6f75 705f 7072  _attrs["group_pr
+0001af60: 6f70 6572 7469 6573 225d 203d 207b 0a20  operties"] = {. 
+0001af70: 2020 2020 2020 2020 2020 2020 2020 202a                 *
+0001af80: 2a7b 6b3a 2076 2066 6f72 206b 2c20 7620  *{k: v for k, v 
+0001af90: 696e 2063 7572 5f67 726f 7570 5f70 726f  in cur_group_pro
+0001afa0: 7073 2e69 7465 6d73 2829 2069 6620 6b20  ps.items() if k 
+0001afb0: 6e6f 7420 696e 205b 2241 4f53 5665 7273  not in ["AOSVers
+0001afc0: 696f 6e22 2c20 224d 6f6e 6974 6f72 4f6e  ion", "MonitorOn
+0001afd0: 6c79 225d 7d2c 0a20 2020 2020 2020 2020  ly"]},.         
+0001afe0: 2020 2020 2020 202a 2a67 7270 5f70 726f         **grp_pro
+0001aff0: 7073 0a20 2020 2020 2020 2020 2020 207d  ps.            }
+0001b000: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+0001b010: 7461 203d 2067 7270 5f61 7474 7273 0a0a  ta = grp_attrs..
+0001b020: 2020 2020 2020 2020 2320 6a73 6f6e 5f64          # json_d
+0001b030: 6174 6120 3d20 7b22 6772 6f75 7022 3a20  ata = {"group": 
+0001b040: 6772 6f75 707d 0a20 2020 2020 2020 2023  group}.        #
+0001b050: 2069 6620 6772 705f 6174 7472 733a 0a20   if grp_attrs:. 
+0001b060: 2020 2020 2020 2023 2020 2020 206a 736f         #     jso
+0001b070: 6e5f 6461 7461 5b22 6772 6f75 705f 6174  n_data["group_at
+0001b080: 7472 6962 7574 6573 225d 203d 2067 7270  tributes"] = grp
+0001b090: 5f61 7474 7273 0a0a 0a0a 2020 2020 2020  _attrs....      
+0001b0a0: 2020 2320 6966 206c 656e 286a 736f 6e5f    # if len(json_
+0001b0b0: 6461 7461 2920 3d3d 2031 3a0a 2020 2020  data) == 1:.    
+0001b0c0: 2020 2020 2320 2020 2020 7261 6973 6520      #     raise 
+0001b0d0: 5661 6c75 6545 7272 6f72 2822 4e6f 2043  ValueError("No C
+0001b0e0: 6861 6e67 6573 2044 6574 6563 7465 6422  hanges Detected"
+0001b0f0: 290a 2020 2020 2020 2020 2320 656c 7365  ).        # else
+0001b100: 3a0a 2020 2020 2020 2020 6966 2063 6f6e  :.        if con
+0001b110: 6669 672e 6465 6275 6776 3a0a 2020 2020  fig.debugv:.    
+0001b120: 2020 2020 2020 2020 7072 696e 7428 6622          print(f"
+0001b130: 5b44 4542 5547 5d20 2d2d 2d2d 2053 656e  [DEBUG] ---- Sen
+0001b140: 6469 6e67 2074 6865 2066 6f6c 6c6f 7769  ding the followi
+0001b150: 6e67 2074 6f20 7b75 726c 7d22 290a 2020  ng to {url}").  
+0001b160: 2020 2020 2020 2020 2020 7574 696c 732e            utils.
+0001b170: 6a73 6f6e 5f70 7269 6e74 286a 736f 6e5f  json_print(json_
+0001b180: 6461 7461 290a 2020 2020 2020 2020 2020  data).          
+0001b190: 2020 7072 696e 7428 225b 4445 4255 475d    print("[DEBUG]
+0001b1a0: 202d 2d2d 2d22 290a 0a20 2020 2020 2020   ----")..       
+0001b1b0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0001b1c0: 6c66 2e70 6174 6368 2875 726c 2c20 6a73  lf.patch(url, js
+0001b1d0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
+0001b1e0: 6129 0a20 2020 2020 2020 2023 2023 2046  a).        # # F
+0001b1f0: 4958 4d45 2072 656d 6f76 6520 6465 6275  IXME remove debu
+0001b200: 6720 7072 696e 7473 0a20 2020 2020 2020  g prints.       
+0001b210: 2023 2070 7269 6e74 2875 726c 290a 2020   # print(url).  
+0001b220: 2020 2020 2020 2320 6672 6f6d 2072 6963        # from ric
+0001b230: 6820 696d 706f 7274 2070 7269 6e74 5f6a  h import print_j
+0001b240: 736f 6e0a 2020 2020 2020 2020 2320 7072  son.        # pr
+0001b250: 696e 745f 6a73 6f6e 2864 6174 613d 6a73  int_json(data=js
+0001b260: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+0001b270: 796e 6320 6465 6620 7570 6461 7465 5f67  ync def update_g
+0001b280: 726f 7570 5f6e 616d 6528 7365 6c66 2c20  roup_name(self, 
+0001b290: 6772 6f75 703a 2073 7472 2c20 6e65 775f  group: str, new_
+0001b2a0: 6772 6f75 703a 2073 7472 2920 2d3e 2052  group: str) -> R
+0001b2b0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0001b2c0: 2022 2222 5570 6461 7465 2067 726f 7570   """Update group
+0001b2d0: 206e 616d 6520 666f 7220 7468 6520 6769   name for the gi
+0001b2e0: 7665 6e20 6772 6f75 702e 0a0a 2020 2020  ven group...    
+0001b2f0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0001b300: 2020 2020 2020 6772 6f75 7020 2873 7472        group (str
+0001b310: 293a 2047 726f 7570 2066 6f72 2077 6869  ): Group for whi
+0001b320: 6368 206e 616d 6520 6e65 6564 2074 6f20  ch name need to 
+0001b330: 6265 2075 7064 6174 6564 2e0a 2020 2020  be updated..    
+0001b340: 2020 2020 2020 2020 6e65 775f 6772 6f75          new_grou
+0001b350: 7020 2873 7472 293a 2054 6865 206e 6577  p (str): The new
+0001b360: 206e 616d 6520 6f66 2074 6865 2067 726f   name of the gro
+0001b370: 7570 2e0a 0a20 2020 2020 2020 2052 6574  up...        Ret
+0001b380: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0001b390: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0001b3a0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0001b3b0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0001b3c0: 2222 0a20 2020 2020 2020 2023 2054 4f44  "".        # TOD
+0001b3d0: 4f20 7265 706f 7274 2066 6c61 7765 6420  O report flawed 
+0001b3e0: 4150 4920 6d65 7468 6f64 0a20 2020 2020  API method.     
+0001b3f0: 2020 2023 2054 6869 7320 776f 726b 7320     # This works 
+0001b400: 666f 7220 7265 6e61 6d69 6e67 2038 7820  for renaming 8x 
+0001b410: 6772 6f75 7073 0a20 2020 2020 2020 2023  groups.        #
+0001b420: 2069 6620 796f 7520 7472 7920 746f 2072   if you try to r
+0001b430: 656e 616d 6520 6120 3130 7820 6772 6f75  ename a 10x grou
+0001b440: 7020 696e 6170 7072 6f70 7269 6174 6520  p inappropriate 
+0001b450: 6572 726f 723a 0a20 2020 2020 2020 2023  error:.        #
+0001b460: 205b 0a20 2020 2020 2020 2023 2020 2020   [.        #    
+0001b470: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+0001b480: 2020 2020 2022 6465 7363 7269 7074 696f       "descriptio
+0001b490: 6e22 3a20 2267 726f 7570 2061 6c72 6561  n": "group alrea
+0001b4a0: 6479 2068 6173 2041 4f53 5f31 3058 2076  dy has AOS_10X v
+0001b4b0: 6572 7369 6f6e 2073 6574 222c 0a20 2020  ersion set",.   
+0001b4c0: 2020 2020 2023 2020 2020 2020 2020 2022       #         "
+0001b4d0: 6572 726f 725f 636f 6465 223a 2022 3030  error_code": "00
+0001b4e0: 3031 222c 0a20 2020 2020 2020 2023 2020  01",.        #  
+0001b4f0: 2020 2020 2020 2022 7365 7276 6963 655f         "service_
+0001b500: 6e61 6d65 223a 2022 436f 6e66 6967 7572  name": "Configur
+0001b510: 6174 696f 6e22 0a20 2020 2020 2020 2023  ation".        #
+0001b520: 2020 2020 207d 0a20 2020 2020 2020 2023       }.        #
+0001b530: 205d 0a20 2020 2020 2020 2023 2049 2064   ].        # I d
+0001b540: 6964 2074 7279 2077 2f20 6675 6c6c 2070  id try w/ full p
+0001b550: 6179 6c6f 6164 2073 696d 696c 6172 2074  ayload similar t
+0001b560: 6f20 6765 745f 6772 6f75 7020 7072 6f70  o get_group prop
+0001b570: 7320 7265 7370 0a20 2020 2020 2020 2023  s resp.        #
+0001b580: 2069 2e65 2e0a 2020 2020 2020 2020 2320   i.e..        # 
+0001b590: 7b0a 2020 2020 2020 2020 2320 2020 2020  {.        #     
+0001b5a0: 2267 726f 7570 223a 2022 6e65 775f 6e61  "group": "new_na
+0001b5b0: 6d65 222c 0a20 2020 2020 2020 2023 2020  me",.        #  
+0001b5c0: 2020 2022 7072 6f70 6572 7469 6573 223a     "properties":
+0001b5d0: 207b 0a20 2020 2020 2020 2023 2020 2020   {.        #    
+0001b5e0: 2020 2020 2022 414f 5356 6572 7369 6f6e       "AOSVersion
+0001b5f0: 223a 2022 414f 535f 3130 5822 2c20 203c  ": "AOS_10X",  <
+0001b600: 2d20 7472 6965 6420 7370 6563 6966 7969  - tried specifyi
+0001b610: 6e67 2067 726f 7570 2069 7320 616c 7265  ng group is alre
+0001b620: 6164 7920 3130 780a 2020 2020 2020 2020  ady 10x.        
+0001b630: 2320 2020 2020 2020 2020 224d 6f6e 6974  #         "Monit
+0001b640: 6f72 4f6e 6c79 5377 6974 6368 223a 2046  orOnlySwitch": F
+0001b650: 616c 7365 0a20 2020 2020 2020 2023 2020  alse.        #  
+0001b660: 2020 207d 0a20 2020 2020 2020 2023 207d     }.        # }
+0001b670: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0001b680: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+0001b690: 7631 2f67 726f 7570 732f 7b67 726f 7570  v1/groups/{group
+0001b6a0: 7d2f 6e61 6d65 220a 0a20 2020 2020 2020  }/name"..       
+0001b6b0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
+0001b6c0: 2020 2020 2020 2020 2020 2027 6772 6f75             'grou
+0001b6d0: 7027 3a20 6e65 775f 6772 6f75 700a 2020  p': new_group.  
+0001b6e0: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+0001b6f0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0001b700: 6c66 2e70 6174 6368 2875 726c 2c20 6a73  lf.patch(url, js
+0001b710: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
+0001b720: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
+0001b730: 6620 6765 745f 6170 5f73 6574 7469 6e67  f get_ap_setting
+0001b740: 7328 7365 6c66 2c20 7365 7269 616c 5f6e  s(self, serial_n
+0001b750: 756d 6265 723a 2073 7472 2920 2d3e 2052  umber: str) -> R
+0001b760: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0001b770: 2022 2222 4765 7420 616e 2065 7869 7374   """Get an exist
+0001b780: 696e 6720 6170 2073 6574 7469 6e67 732e  ing ap settings.
+0001b790: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
+0001b7a0: 6420 696e 6469 7265 6374 6c79 2028 7570  d indirectly (up
+0001b7b0: 6461 7465 5f61 705f 7365 7474 696e 6773  date_ap_settings
+0001b7c0: 2920 6279 2062 6174 6368 2072 656e 616d  ) by batch renam
+0001b7d0: 6520 4150 202f 2f0a 0a20 2020 2020 2020  e AP //..       
+0001b7e0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0001b7f0: 2020 2073 6572 6961 6c5f 6e75 6d62 6572     serial_number
+0001b800: 2028 7374 7229 3a20 4150 2073 6572 6961   (str): AP seria
+0001b810: 6c20 6e75 6d62 6572 2e0a 0a20 2020 2020  l number...     
+0001b820: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0001b830: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0001b840: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0001b850: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0001b860: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001b870: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
+0001b880: 7572 6174 696f 6e2f 7632 2f61 705f 7365  uration/v2/ap_se
+0001b890: 7474 696e 6773 2f7b 7365 7269 616c 5f6e  ttings/{serial_n
+0001b8a0: 756d 6265 727d 220a 0a20 2020 2020 2020  umber}"..       
+0001b8b0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+0001b8c0: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
+0001b8d0: 2061 7379 6e63 2064 6566 2075 7064 6174   async def updat
+0001b8e0: 655f 6170 5f73 6574 7469 6e67 7328 0a20  e_ap_settings(. 
+0001b8f0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0001b900: 2020 2020 2073 6572 6961 6c5f 6e75 6d62       serial_numb
+0001b910: 6572 3a20 7374 722c 0a20 2020 2020 2020  er: str,.       
+0001b920: 2068 6f73 746e 616d 653a 2073 7472 2c0a   hostname: str,.
+0001b930: 2020 2020 2020 2020 6970 5f61 6464 7265          ip_addre
+0001b940: 7373 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ss: str = None,.
+0001b950: 2020 2020 2020 2020 7a6f 6e65 6e61 6d65          zonename
+0001b960: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0001b970: 2020 2020 2020 6163 6861 6e6e 656c 3a20        achannel: 
+0001b980: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+0001b990: 2020 2020 6174 7870 6f77 6572 3a20 7374      atxpower: st
+0001b9a0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0001b9b0: 2020 6763 6861 6e6e 656c 3a20 7374 7220    gchannel: str 
+0001b9c0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0001b9d0: 6774 7870 6f77 6572 3a20 7374 7220 3d20  gtxpower: str = 
+0001b9e0: 4e6f 6e65 2c0a 2020 2020 2020 2020 646f  None,.        do
+0001b9f0: 7431 3161 5f72 6164 696f 5f64 6973 6162  t11a_radio_disab
+0001ba00: 6c65 3a20 626f 6f6c 203d 204e 6f6e 652c  le: bool = None,
+0001ba10: 0a20 2020 2020 2020 2064 6f74 3131 675f  .        dot11g_
+0001ba20: 7261 6469 6f5f 6469 7361 626c 653a 2062  radio_disable: b
+0001ba30: 6f6f 6c20 3d20 4e6f 6e65 2c0a 2020 2020  ool = None,.    
+0001ba40: 2020 2020 7573 625f 706f 7274 5f64 6973      usb_port_dis
+0001ba50: 6162 6c65 3a20 626f 6f6c 203d 204e 6f6e  able: bool = Non
+0001ba60: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
+0001ba70: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0001ba80: 2255 7064 6174 6520 616e 2065 7869 7374  "Update an exist
+0001ba90: 696e 6720 6170 2073 6574 7469 6e67 732e  ing ap settings.
+0001baa0: 0a0a 2020 2020 2020 2020 2f2f 2055 7365  ..        // Use
+0001bab0: 6420 6279 2062 6174 6368 2072 656e 616d  d by batch renam
+0001bac0: 6520 6170 7320 616e 6420 7265 6e61 6d65  e aps and rename
+0001bad0: 2061 7020 2f2f 0a0a 2020 2020 2020 2020   ap //..        
+0001bae0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0001baf0: 2020 7365 7269 616c 5f6e 756d 6265 7220    serial_number 
+0001bb00: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0001bb10: 2041 5020 5365 7269 616c 204e 756d 6265   AP Serial Numbe
+0001bb20: 720a 2020 2020 2020 2020 2020 2020 686f  r.            ho
+0001bb30: 7374 6e61 6d65 2028 7374 7229 3a20 686f  stname (str): ho
+0001bb40: 7374 6e61 6d65 0a20 2020 2020 2020 2020  stname.         
+0001bb50: 2020 2069 705f 6164 6472 6573 7320 2873     ip_address (s
+0001bb60: 7472 2c20 6f70 7469 6f6e 616c 293a 2069  tr, optional): i
+0001bb70: 705f 6164 6472 6573 7320 4465 6661 756c  p_address Defaul
+0001bb80: 7420 2844 4843 5029 0a20 2020 2020 2020  t (DHCP).       
+0001bb90: 2020 2020 207a 6f6e 656e 616d 6520 2873       zonename (s
+0001bba0: 7472 2c20 6f70 7469 6f6e 616c 293a 207a  tr, optional): z
+0001bbb0: 6f6e 656e 616d 652e 2044 6566 6175 6c74  onename. Default
+0001bbc0: 2022 2220 284e 6f20 5a6f 6e65 290a 2020   "" (No Zone).  
+0001bbd0: 2020 2020 2020 2020 2020 6163 6861 6e6e            achann
+0001bbe0: 656c 2028 7374 722c 206f 7074 696f 6e61  el (str, optiona
+0001bbf0: 6c29 3a20 6163 6861 6e6e 656c 0a20 2020  l): achannel.   
+0001bc00: 2020 2020 2020 2020 2061 7478 706f 7765           atxpowe
+0001bc10: 7220 2873 7472 2c20 6f70 7469 6f6e 616c  r (str, optional
+0001bc20: 293a 2061 7478 706f 7765 720a 2020 2020  ): atxpower.    
+0001bc30: 2020 2020 2020 2020 6763 6861 6e6e 656c          gchannel
+0001bc40: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0001bc50: 3a20 6763 6861 6e6e 656c 0a20 2020 2020  : gchannel.     
+0001bc60: 2020 2020 2020 2067 7478 706f 7765 7220         gtxpower 
+0001bc70: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0001bc80: 2067 7478 706f 7765 720a 2020 2020 2020   gtxpower.      
+0001bc90: 2020 2020 2020 646f 7431 3161 5f72 6164        dot11a_rad
+0001bca0: 696f 5f64 6973 6162 6c65 2028 626f 6f6c  io_disable (bool
+0001bcb0: 2c20 6f70 7469 6f6e 616c 293a 2064 6f74  , optional): dot
+0001bcc0: 3131 615f 7261 6469 6f5f 6469 7361 626c  11a_radio_disabl
+0001bcd0: 650a 2020 2020 2020 2020 2020 2020 646f  e.            do
+0001bce0: 7431 3167 5f72 6164 696f 5f64 6973 6162  t11g_radio_disab
+0001bcf0: 6c65 2028 626f 6f6c 2c20 6f70 7469 6f6e  le (bool, option
+0001bd00: 616c 293a 2064 6f74 3131 675f 7261 6469  al): dot11g_radi
+0001bd10: 6f5f 6469 7361 626c 650a 2020 2020 2020  o_disable.      
+0001bd20: 2020 2020 2020 7573 625f 706f 7274 5f64        usb_port_d
+0001bd30: 6973 6162 6c65 2028 626f 6f6c 2c20 6f70  isable (bool, op
+0001bd40: 7469 6f6e 616c 293a 2075 7362 5f70 6f72  tional): usb_por
+0001bd50: 745f 6469 7361 626c 650a 0a20 2020 2020  t_disable..     
+0001bd60: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0001bd70: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0001bd80: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0001bd90: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0001bda0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001bdb0: 2075 726c 203d 2066 222f 636f 6e66 6967   url = f"/config
+0001bdc0: 7572 6174 696f 6e2f 7632 2f61 705f 7365  uration/v2/ap_se
+0001bdd0: 7474 696e 6773 2f7b 7365 7269 616c 5f6e  ttings/{serial_n
+0001bde0: 756d 6265 727d 220a 0a20 2020 2020 2020  umber}"..       
+0001bdf0: 205f 6a73 6f6e 5f64 6174 6120 3d20 7b0a   _json_data = {.
+0001be00: 2020 2020 2020 2020 2020 2020 2768 6f73              'hos
+0001be10: 746e 616d 6527 3a20 686f 7374 6e61 6d65  tname': hostname
+0001be20: 2c0a 2020 2020 2020 2020 2020 2020 2769  ,.            'i
+0001be30: 705f 6164 6472 6573 7327 3a20 6970 5f61  p_address': ip_a
+0001be40: 6464 7265 7373 2c0a 2020 2020 2020 2020  ddress,.        
+0001be50: 2020 2020 277a 6f6e 656e 616d 6527 3a20      'zonename': 
+0001be60: 7a6f 6e65 6e61 6d65 2c0a 2020 2020 2020  zonename,.      
+0001be70: 2020 2020 2020 2761 6368 616e 6e65 6c27        'achannel'
+0001be80: 3a20 6163 6861 6e6e 656c 2c0a 2020 2020  : achannel,.    
+0001be90: 2020 2020 2020 2020 2761 7478 706f 7765          'atxpowe
+0001bea0: 7227 3a20 6174 7870 6f77 6572 2c0a 2020  r': atxpower,.  
+0001beb0: 2020 2020 2020 2020 2020 2767 6368 616e            'gchan
+0001bec0: 6e65 6c27 3a20 6763 6861 6e6e 656c 2c0a  nel': gchannel,.
+0001bed0: 2020 2020 2020 2020 2020 2020 2767 7478              'gtx
+0001bee0: 706f 7765 7227 3a20 6774 7870 6f77 6572  power': gtxpower
+0001bef0: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
+0001bf00: 6f74 3131 615f 7261 6469 6f5f 6469 7361  ot11a_radio_disa
+0001bf10: 626c 6527 3a20 646f 7431 3161 5f72 6164  ble': dot11a_rad
+0001bf20: 696f 5f64 6973 6162 6c65 2c0a 2020 2020  io_disable,.    
+0001bf30: 2020 2020 2020 2020 2764 6f74 3131 675f          'dot11g_
+0001bf40: 7261 6469 6f5f 6469 7361 626c 6527 3a20  radio_disable': 
+0001bf50: 646f 7431 3167 5f72 6164 696f 5f64 6973  dot11g_radio_dis
+0001bf60: 6162 6c65 2c0a 2020 2020 2020 2020 2020  able,.          
+0001bf70: 2020 2775 7362 5f70 6f72 745f 6469 7361    'usb_port_disa
+0001bf80: 626c 6527 3a20 7573 625f 706f 7274 5f64  ble': usb_port_d
+0001bf90: 6973 6162 6c65 0a20 2020 2020 2020 207d  isable.        }
+0001bfa0: 0a20 2020 2020 2020 2069 6620 4e6f 6e65  .        if None
+0001bfb0: 2069 6e20 5f6a 736f 6e5f 6461 7461 2e76   in _json_data.v
+0001bfc0: 616c 7565 7328 293a 0a20 2020 2020 2020  alues():.       
+0001bfd0: 2020 2020 2072 6573 7020 3d20 6177 6169       resp = awai
+0001bfe0: 7420 7365 6c66 2e5f 7265 7175 6573 7428  t self._request(
+0001bff0: 7365 6c66 2e67 6574 5f61 705f 7365 7474  self.get_ap_sett
+0001c000: 696e 6773 2c20 7365 7269 616c 5f6e 756d  ings, serial_num
+0001c010: 6265 7229 0a20 2020 2020 2020 2020 2020  ber).           
+0001c020: 2069 6620 6e6f 7420 7265 7370 3a0a 2020   if not resp:.  
+0001c030: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0001c040: 7475 726e 2072 6573 700a 0a20 2020 2020  turn resp..     
+0001c050: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
+0001c060: 203d 2073 656c 662e 7374 7269 705f 6e6f   = self.strip_no
+0001c070: 6e65 285f 6a73 6f6e 5f64 6174 6129 0a20  ne(_json_data). 
+0001c080: 2020 2020 2020 2020 2020 206a 736f 6e5f             json_
+0001c090: 6461 7461 203d 207b 2a2a 7265 7370 2e6f  data = {**resp.o
+0001c0a0: 7574 7075 742c 202a 2a6a 736f 6e5f 6461  utput, **json_da
+0001c0b0: 7461 7d0a 2020 2020 2020 2020 2020 2020  ta}.            
+0001c0c0: 6966 206e 6f74 2073 6f72 7465 6428 5f6a  if not sorted(_j
+0001c0d0: 736f 6e5f 6461 7461 2e6b 6579 7328 2929  son_data.keys())
+0001c0e0: 203d 3d20 736f 7274 6564 286a 736f 6e5f   == sorted(json_
+0001c0f0: 6461 7461 2e6b 6579 7328 2929 3a0a 2020  data.keys()):.  
+0001c100: 2020 2020 2020 2020 2020 2020 2020 6d69                mi
+0001c110: 7373 696e 6720 3d20 222c 2022 2e6a 6f69  ssing = ", ".joi
+0001c120: 6e28 5b66 2227 7b6b 7d27 2220 666f 7220  n([f"'{k}'" for 
+0001c130: 6b20 696e 206a 736f 6e5f 6461 7461 2e6b  k in json_data.k
+0001c140: 6579 7328 2920 6966 206b 206e 6f74 2069  eys() if k not i
+0001c150: 6e20 5f6a 736f 6e5f 6461 7461 2e6b 6579  n _json_data.key
+0001c160: 7328 295d 290a 2020 2020 2020 2020 2020  s()]).          
+0001c170: 2020 2020 2020 7265 7475 726e 2052 6573        return Res
+0001c180: 706f 6e73 6528 0a20 2020 2020 2020 2020  ponse(.         
+0001c190: 2020 2020 2020 2020 2020 206f 6b3d 4661             ok=Fa
+0001c1a0: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
+0001c1b0: 2020 2020 2020 2020 2065 7272 6f72 3d66           error=f
+0001c1c0: 2255 7064 6174 6520 7061 796c 6f61 6420  "Update payload 
+0001c1d0: 6973 206d 6973 7369 6e67 2072 6571 7569  is missing requi
+0001c1e0: 7265 6420 6174 7472 6962 7574 6573 3a20  red attributes: 
+0001c1f0: 7b6d 6973 7369 6e67 7d22 2c0a 2020 2020  {missing}",.    
+0001c200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c210: 7265 6173 6f6e 3d22 494e 5641 4c49 4422  reason="INVALID"
+0001c220: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001c230: 2029 0a0a 2020 2020 2020 2020 7265 7475   )..        retu
+0001c240: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
+0001c250: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
+0001c260: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+0001c270: 2020 2320 544f 444f 204e 6f74 5573 6564    # TODO NotUsed
+0001c280: 2059 6574 2e20 2053 686f 7773 2061 6e79   Yet.  Shows any
+0001c290: 2075 7064 6174 6573 206e 6f74 2079 6574   updates not yet
+0001c2a0: 2070 7573 6865 6420 746f 2074 6865 2064   pushed to the d
+0001c2b0: 6576 6963 6520 2864 6576 6963 6520 6f66  evice (device of
+0001c2c0: 666c 696e 652c 2065 7463 290a 2020 2020  fline, etc).    
+0001c2d0: 2320 4d61 7920 6f6e 6c79 2062 6520 7661  # May only be va
+0001c2e0: 6c69 6420 666f 7220 4150 7320 6e6f 7420  lid for APs not 
+0001c2f0: 7375 7265 2e0a 2020 2020 6173 796e 6320  sure..    async 
+0001c300: 6465 6620 6765 745f 6469 7274 795f 6469  def get_dirty_di
+0001c310: 6666 280a 2020 2020 2020 2020 7365 6c66  ff(.        self
+0001c320: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
+0001c330: 2073 7472 2c0a 2020 2020 2020 2020 6f66   str,.        of
+0001c340: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
+0001c350: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
+0001c360: 7420 3d20 3230 0a20 2020 2029 202d 3e20  t = 20.    ) -> 
+0001c370: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0001c380: 2020 2222 2247 6574 2064 6972 7479 2064    """Get dirty d
+0001c390: 6966 662e 0a0a 2020 2020 2020 2020 4172  iff...        Ar
+0001c3a0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0001c3b0: 6772 6f75 7020 2873 7472 293a 2047 726f  group (str): Gro
+0001c3c0: 7570 206e 616d 6520 6f66 2074 6865 2067  up name of the g
+0001c3d0: 726f 7570 206f 7220 6775 6964 206f 6620  roup or guid of 
+0001c3e0: 7468 6520 7377 6172 6d2e 0a20 2020 2020  the swarm..     
+0001c3f0: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
+0001c400: 6c65 3a47 726f 7570 5f31 206f 7220 3661  le:Group_1 or 6a
+0001c410: 3564 3132 3362 3031 6639 3434 3138 3036  5d123b01f9441806
+0001c420: 3234 3465 6136 6530 3233 6661 6235 3834  244ea6e023fab584
+0001c430: 3162 3737 6338 3238 6130 3835 6630 3466  1b77c828a085f04f
+0001c440: 2e0a 2020 2020 2020 2020 2020 2020 6f66  ..            of
+0001c450: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+0001c460: 6e61 6c29 3a20 4e75 6d62 6572 206f 6620  nal): Number of 
+0001c470: 6974 656d 7320 746f 2062 6520 736b 6970  items to be skip
+0001c480: 7065 6420 6265 666f 7265 2072 6574 7572  ped before retur
+0001c490: 6e69 6e67 2074 6865 2064 6174 612c 2075  ning the data, u
+0001c4a0: 7365 6675 6c0a 2020 2020 2020 2020 2020  seful.          
+0001c4b0: 2020 2020 2020 666f 7220 7061 6769 6e61        for pagina
+0001c4c0: 7469 6f6e 2e20 4465 6661 756c 7473 2074  tion. Defaults t
+0001c4d0: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+0001c4e0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+0001c4f0: 696f 6e61 6c29 3a20 4d61 7869 6d75 6d20  ional): Maximum 
+0001c500: 6e75 6d62 6572 206f 6620 6772 6f75 7020  number of group 
+0001c510: 636f 6e66 6967 5f6d 6f64 6520 7265 636f  config_mode reco
+0001c520: 7264 7320 746f 2062 6520 7265 7475 726e  rds to be return
+0001c530: 6564 2e0a 2020 2020 2020 2020 2020 2020  ed..            
+0001c540: 2020 2020 4d61 783a 2032 302c 2044 6566      Max: 20, Def
+0001c550: 6175 6c74 7320 746f 2032 302e 0a0a 2020  aults to 20...  
+0001c560: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0001c570: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0001c580: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0001c590: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0001c5a0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001c5b0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+0001c5c0: 6669 6775 7261 7469 6f6e 2f76 312f 6469  figuration/v1/di
+0001c5d0: 7274 795f 6469 6666 2f7b 6772 6f75 707d  rty_diff/{group}
+0001c5e0: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+0001c5f0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0001c600: 2020 276f 6666 7365 7427 3a20 6f66 6673    'offset': offs
+0001c610: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
+0001c620: 276c 696d 6974 273a 206c 696d 6974 2069  'limit': limit i
+0001c630: 6620 6c69 6d69 7420 3c3d 2032 3020 656c  f limit <= 20 el
+0001c640: 7365 2032 300a 2020 2020 2020 2020 7d0a  se 20.        }.
+0001c650: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0001c660: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+0001c670: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+0001c680: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+0001c690: 6620 6765 745f 6772 6f75 7073 5f70 726f  f get_groups_pro
+0001c6a0: 7065 7274 6965 7328 7365 6c66 2c20 6772  perties(self, gr
+0001c6b0: 6f75 7073 3a20 556e 696f 6e5b 7374 722c  oups: Union[str,
+0001c6c0: 204c 6973 745b 7374 725d 5d20 3d20 4e6f   List[str]] = No
+0001c6d0: 6e65 2920 2d3e 2052 6573 706f 6e73 653a  ne) -> Response:
+0001c6e0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+0001c6f0: 7072 6f70 6572 7469 6573 2073 6574 2066  properties set f
+0001c700: 6f72 2067 726f 7570 732e 0a0a 2020 2020  or groups...    
+0001c710: 2020 2020 2f2f 2055 7365 6420 6279 2073      // Used by s
+0001c720: 686f 7720 6772 6f75 7073 2077 6865 6e20  how groups when 
+0001c730: 2d76 2066 6c61 6720 6973 2070 726f 7669  -v flag is provi
+0001c740: 6465 6420 2f2f 0a0a 2020 2020 2020 2020  ded //..        
+0001c750: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0001c760: 2020 6772 6f75 7073 2028 4c69 7374 5b73    groups (List[s
+0001c770: 7472 5d2c 206f 7074 696f 6e61 6c29 3a20  tr], optional): 
+0001c780: 4772 6f75 7020 6c69 7374 2074 6f20 6665  Group list to fe
+0001c790: 7463 6820 7072 6f70 6572 7469 6573 2e0a  tch properties..
+0001c7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c7b0: 5769 6c6c 2066 6574 6368 2061 6c6c 2069  Will fetch all i
+0001c7c0: 6620 6e6f 2067 726f 7570 7320 7072 6f76  f no groups prov
+0001c7d0: 6964 6564 2e0a 2020 2020 2020 2020 2020  ided..          
+0001c7e0: 2020 2020 2020 4d61 7869 6d75 6d20 3230        Maximum 20
+0001c7f0: 2063 6f6d 6d61 2073 6570 6172 6174 6564   comma separated
+0001c800: 2067 726f 7570 206e 616d 6573 2061 6c6c   group names all
+0001c810: 6f77 6564 2e0a 0a20 2020 2020 2020 2052  owed...        R
+0001c820: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+0001c830: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+0001c840: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+0001c850: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+0001c860: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+0001c870: 203d 2022 2f63 6f6e 6669 6775 7261 7469   = "/configurati
+0001c880: 6f6e 2f76 312f 6772 6f75 7073 2f70 726f  on/v1/groups/pro
+0001c890: 7065 7274 6965 7322 0a0a 2020 2020 2020  perties"..      
+0001c8a0: 2020 2320 4365 6e74 7261 6c20 4150 4920    # Central API 
+0001c8b0: 6d65 7468 6f64 2064 6f65 736e 2774 2061  method doesn't a
+0001c8c0: 6374 7561 6c6c 7920 7461 6b65 2061 206c  ctually take a l
+0001c8d0: 6973 7420 6974 2074 616b 6573 2061 2073  ist it takes a s
+0001c8e0: 7472 696e 6720 7769 7468 0a20 2020 2020  tring with.     
+0001c8f0: 2020 2023 2067 726f 7570 206e 616d 6573     # group names
+0001c900: 2073 6570 6172 6174 6564 2062 7920 636f   separated by co
+0001c910: 6d6d 6120 284e 4f20 5350 4143 4553 290a  mma (NO SPACES).
+0001c920: 2020 2020 2020 2020 6966 2067 726f 7570          if group
+0001c930: 7320 6973 204e 6f6e 653a 0a20 2020 2020  s is None:.     
+0001c940: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
+0001c950: 6169 7420 7365 6c66 2e5f 6765 745f 6772  ait self._get_gr
+0001c960: 6f75 705f 6e61 6d65 7328 290a 2020 2020  oup_names().    
+0001c970: 2020 2020 2020 2020 6966 206e 6f74 2072          if not r
+0001c980: 6573 702e 6f6b 3a0a 2020 2020 2020 2020  esp.ok:.        
+0001c990: 2020 2020 2020 2020 7265 7475 726e 2072          return r
+0001c9a0: 6573 700a 2020 2020 2020 2020 2020 2020  esp.            
+0001c9b0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001c9c0: 2020 2020 2020 6772 6f75 7073 203d 2072        groups = r
+0001c9d0: 6573 702e 6f75 7470 7574 0a20 2020 2020  esp.output.     
+0001c9e0: 2020 2062 6174 6368 5f72 6571 7320 3d20     batch_reqs = 
+0001c9f0: 5b5d 0a20 2020 2020 2020 2066 6f72 205f  [].        for _
+0001ca00: 6772 6f75 7073 2069 6e20 7574 696c 732e  groups in utils.
+0001ca10: 6368 756e 6b65 7228 7574 696c 732e 6c69  chunker(utils.li
+0001ca20: 7374 6966 7928 6772 6f75 7073 292c 2032  stify(groups), 2
+0001ca30: 3029 3a20 2023 2054 6869 7320 6361 6c6c  0):  # This call
+0001ca40: 2061 6c6c 6f77 7320 6120 6d61 7820 6f66   allows a max of
+0001ca50: 2032 300a 2020 2020 2020 2020 2020 2020   20.            
+0001ca60: 7061 7261 6d73 203d 207b 2267 726f 7570  params = {"group
+0001ca70: 7322 3a20 222c 222e 6a6f 696e 285f 6772  s": ",".join(_gr
+0001ca80: 6f75 7073 297d 0a20 2020 2020 2020 2020  oups)}.         
+0001ca90: 2020 2062 6174 6368 5f72 6571 7320 2b3d     batch_reqs +=
+0001caa0: 205b 7365 6c66 2e42 6174 6368 5265 7175   [self.BatchRequ
+0001cab0: 6573 7428 7365 6c66 2e67 6574 2c20 7572  est(self.get, ur
+0001cac0: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+0001cad0: 295d 0a20 2020 2020 2020 2062 6174 6368  )].        batch
+0001cae0: 5f72 6573 7020 3d20 6177 6169 7420 7365  _resp = await se
+0001caf0: 6c66 2e5f 6261 7463 685f 7265 7175 6573  lf._batch_reques
+0001cb00: 7428 6261 7463 685f 7265 7173 290a 2020  t(batch_reqs).  
+0001cb10: 2020 2020 2020 2320 544f 444f 206d 6574        # TODO met
+0001cb20: 686f 6420 746f 2063 6f6d 6269 6e65 2072  hod to combine r
+0001cb30: 6177 2061 6e64 206f 7574 7075 7420 6174  aw and output at
+0001cb40: 7472 7320 6f66 2061 6c6c 2072 6573 706f  trs of all respo
+0001cb50: 6e73 6573 2069 6e74 6f20 6c61 7374 2072  nses into last r
+0001cb60: 6573 700a 2020 2020 2020 2020 6f75 7470  esp.        outp
+0001cb70: 7574 203d 205b 7220 666f 7220 7265 7320  ut = [r for res 
+0001cb80: 696e 2062 6174 6368 5f72 6573 7020 666f  in batch_resp fo
+0001cb90: 7220 7220 696e 2072 6573 2e6f 7574 7075  r r in res.outpu
+0001cba0: 745d 0a20 2020 2020 2020 2072 6573 7020  t].        resp 
+0001cbb0: 3d20 6261 7463 685f 7265 7370 5b2d 315d  = batch_resp[-1]
+0001cbc0: 0a20 2020 2020 2020 2072 6573 702e 6f75  .        resp.ou
+0001cbd0: 7470 7574 203d 206f 7574 7075 740a 2020  tput = output.  
+0001cbe0: 2020 2020 2020 6966 2022 6461 7461 2220        if "data" 
+0001cbf0: 696e 2072 6573 702e 7261 773a 0a20 2020  in resp.raw:.   
+0001cc00: 2020 2020 2020 2020 2072 6573 702e 7261           resp.ra
+0001cc10: 775b 2264 6174 6122 5d20 3d20 6f75 7470  w["data"] = outp
+0001cc20: 7574 0a20 2020 2020 2020 2065 6c73 653a  ut.        else:
+0001cc30: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
+0001cc40: 2e77 6172 6e69 6e67 2822 7261 7720 6174  .warning("raw at
+0001cc50: 7472 2069 6e20 7265 7370 2066 726f 6d20  tr in resp from 
+0001cc60: 6765 745f 6772 6f75 7073 5f70 726f 7065  get_groups_prope
+0001cc70: 7274 6965 7320 6c61 636b 7320 6578 7065  rties lacks expe
+0001cc80: 6374 6564 206f 7574 6572 206b 6579 2027  cted outer key '
+0001cc90: 6461 7461 2722 290a 2020 2020 2020 2020  data'").        
+0001cca0: 6772 6f75 7073 203d 2022 2c22 2e6a 6f69  groups = ",".joi
+0001ccb0: 6e28 7574 696c 732e 6c69 7374 6966 7928  n(utils.listify(
+0001ccc0: 6772 6f75 7073 2929 0a0a 2020 2020 2020  groups))..      
+0001ccd0: 2020 2320 7061 7261 6d73 203d 207b 0a20    # params = {. 
+0001cce0: 2020 2020 2020 2023 2020 2020 2027 6772         #     'gr
+0001ccf0: 6f75 7073 273a 2067 726f 7570 730a 2020  oups': groups.  
+0001cd00: 2020 2020 2020 2320 7d0a 0a20 2020 2020        # }..     
+0001cd10: 2020 2023 2072 6574 7572 6e20 6177 6169     # return awai
+0001cd20: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+0001cd30: 7061 7261 6d73 3d70 6172 616d 7329 0a20  params=params). 
+0001cd40: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
+0001cd50: 7370 0a0a 2020 2020 6173 796e 6320 6465  sp..    async de
+0001cd60: 6620 6765 745f 7663 5f66 6972 6d77 6172  f get_vc_firmwar
+0001cd70: 6528 0a20 2020 2020 2020 2073 656c 662c  e(.        self,
+0001cd80: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
+0001cd90: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+0001cda0: 2020 2020 2020 2067 726f 7570 3a20 7374         group: st
+0001cdb0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
+0001cdc0: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+0001cdd0: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
+0001cde0: 3a20 696e 7420 3d20 3130 302c 0a20 2020  : int = 100,.   
+0001cdf0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
+0001ce00: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
+0001ce10: 4669 726d 7761 7265 2044 6574 6169 6c73  Firmware Details
+0001ce20: 206f 6620 5377 6172 6d73 2e0a 0a20 2020   of Swarms...   
+0001ce30: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0001ce40: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
+0001ce50: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0001ce60: 3a20 5072 6f76 6964 696e 6720 7377 6172  : Providing swar
+0001ce70: 6d5f 6964 2072 6573 756c 7473 2069 6e20  m_id results in 
+0001ce80: 6465 7461 696c 7320 666f 7220 7468 6174  details for that
+0001ce90: 2073 7761 726d 2e0a 2020 2020 2020 2020   swarm..        
+0001cea0: 2020 2020 6772 6f75 7020 2873 7472 2c20      group (str, 
+0001ceb0: 6f70 7469 6f6e 616c 293a 2047 726f 7570  optional): Group
+0001cec0: 206e 616d 650a 2020 2020 2020 2020 2020   name.          
+0001ced0: 2020 6f66 6673 6574 2028 696e 742c 206f    offset (int, o
+0001cee0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+0001cef0: 7469 6f6e 206f 6666 7365 7420 4465 6661  tion offset Defa
+0001cf00: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
+0001cf10: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
+0001cf20: 742c 206f 7074 696f 6e61 6c29 3a20 5061  t, optional): Pa
+0001cf30: 6769 6e61 7469 6f6e 206c 696d 6974 2e20  gination limit. 
+0001cf40: 4d61 7820 6973 2031 3030 3020 4465 6661  Max is 1000 Defa
+0001cf50: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
+0001cf60: 2020 2020 2020 2020 2020 5072 6f76 6964            Provid
+0001cf70: 696e 6720 7377 6172 6d5f 6964 2069 7320  ing swarm_id is 
+0001cf80: 6566 6665 6374 6976 656c 7920 6120 6669  effectively a fi
+0001cf90: 6c74 6572 2c20 6974 2070 726f 7669 6465  lter, it provide
+0001cfa0: 7320 6e6f 2061 6464 6974 696f 6e61 6c20  s no additional 
+0001cfb0: 6465 7461 696c 2e0a 0a20 2020 2020 2020  detail...       
+0001cfc0: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0001cfd0: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0001cfe0: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0001cff0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0001d000: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0001d010: 726c 203d 2022 2f66 6972 6d77 6172 652f  rl = "/firmware/
+0001d020: 7631 2f73 7761 726d 7322 0a20 2020 2020  v1/swarms".     
+0001d030: 2020 2069 6620 7377 6172 6d5f 6964 3a0a     if swarm_id:.
+0001d040: 2020 2020 2020 2020 2020 2020 7572 6c20              url 
+0001d050: 3d20 6622 7b75 726c 7d2f 7b73 7761 726d  = f"{url}/{swarm
+0001d060: 5f69 647d 220a 2020 2020 2020 2020 2020  _id}".          
+0001d070: 2020 7061 7261 6d73 203d 207b 7d0a 2020    params = {}.  
+0001d080: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0001d090: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+0001d0a0: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+0001d0b0: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
+0001d0c0: 702c 0a20 2020 2020 2020 2020 2020 2020  p,.             
+0001d0d0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
+0001d0e0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
+0001d0f0: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
+0001d100: 6d69 740a 2020 2020 2020 2020 2020 2020  mit.            
+0001d110: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+0001d120: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+0001d130: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+0001d140: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
+0001d150: 6465 6620 6765 745f 6677 5f76 6572 7369  def get_fw_versi
+0001d160: 6f6e 5f6c 6973 7428 0a20 2020 2020 2020  on_list(.       
+0001d170: 2073 656c 662c 0a20 2020 2020 2020 2064   self,.        d
+0001d180: 6576 6963 655f 7479 7065 3a20 7374 7220  evice_type: str 
+0001d190: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+0001d1a0: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
+0001d1b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7365  None,.        se
+0001d1c0: 7269 616c 3a20 7374 7220 3d20 4e6f 6e65  rial: str = None
+0001d1d0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+0001d1e0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+0001d1f0: 4c69 7374 2046 6972 6d77 6172 6520 5665  List Firmware Ve
+0001d200: 7273 696f 6e2e 0a0a 2020 2020 2020 2020  rsion...        
+0001d210: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0001d220: 2020 6465 7669 6365 5f74 7970 6520 2873    device_type (s
+0001d230: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
+0001d240: 7065 6369 6679 206f 6e65 206f 6620 2249  pecify one of "I
+0001d250: 4150 2f4d 4153 2f48 502f 434f 4e54 524f  AP/MAS/HP/CONTRO
+0001d260: 4c4c 4552 2f43 5822 0a20 2020 2020 2020  LLER/CX".       
+0001d270: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
+0001d280: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
+0001d290: 7761 726d 2049 440a 2020 2020 2020 2020  warm ID.        
+0001d2a0: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
+0001d2b0: 206f 7074 696f 6e61 6c29 3a20 5365 7269   optional): Seri
+0001d2c0: 616c 206f 6620 6465 7669 6365 0a0a 2020  al of device..  
+0001d2d0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0001d2e0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0001d2f0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0001d300: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0001d310: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001d320: 2020 2020 7572 6c20 3d20 222f 6669 726d      url = "/firm
+0001d330: 7761 7265 2f76 312f 7665 7273 696f 6e73  ware/v1/versions
+0001d340: 220a 0a20 2020 2020 2020 2070 6172 616d  "..        param
+0001d350: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+0001d360: 2020 2764 6576 6963 655f 7479 7065 273a    'device_type':
+0001d370: 2064 6576 6963 655f 7479 7065 2c0a 2020   device_type,.  
+0001d380: 2020 2020 2020 2020 2020 2773 7761 726d            'swarm
+0001d390: 5f69 6427 3a20 7377 6172 6d5f 6964 2c0a  _id': swarm_id,.
+0001d3a0: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
+0001d3b0: 6961 6c27 3a20 7365 7269 616c 0a20 2020  ial': serial.   
+0001d3c0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+0001d3d0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0001d3e0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
+0001d3f0: 733d 7061 7261 6d73 290a 0a20 2020 2023  s=params)..    #
+0001d400: 204e 6f74 2075 7365 6420 696e 2061 2063   Not used in a c
+0001d410: 6f6d 6d61 6e64 2079 6574 0a20 2020 2061  ommand yet.    a
+0001d420: 7379 6e63 2064 6566 2063 6865 636b 5f69  sync def check_i
+0001d430: 6d61 6765 5f61 7661 696c 6162 6c65 280a  mage_available(.
+0001d440: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+0001d450: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
+0001d460: 653a 2073 7472 2c0a 2020 2020 2020 2020  e: str,.        
+0001d470: 6669 726d 7761 7265 5f76 6572 7369 6f6e  firmware_version
+0001d480: 3a20 7374 722c 0a20 2020 2029 202d 3e20  : str,.    ) -> 
+0001d490: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0001d4a0: 2020 2222 2246 6972 6d77 6172 6520 5665    """Firmware Ve
+0001d4b0: 7273 696f 6e2e 0a0a 2020 2020 2020 2020  rsion...        
+0001d4c0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+0001d4d0: 2020 6465 7669 6365 5f74 7970 6520 2873    device_type (s
+0001d4e0: 7472 293a 2053 7065 6369 6679 206f 6e65  tr): Specify one
+0001d4f0: 206f 6620 2249 4150 2f4d 4153 2f48 502f   of "IAP/MAS/HP/
+0001d500: 434f 4e54 524f 4c4c 4552 220a 2020 2020  CONTROLLER".    
+0001d510: 2020 2020 2020 2020 6669 726d 7761 7265          firmware
+0001d520: 5f76 6572 7369 6f6e 2028 7374 7229 3a20  _version (str): 
+0001d530: 6669 726d 7761 7265 2076 6572 7369 6f6e  firmware version
+0001d540: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0001d550: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0001d560: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0001d570: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0001d580: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0001d590: 2020 2020 2020 2020 7572 6c20 3d20 6622          url = f"
+0001d5a0: 2f66 6972 6d77 6172 652f 7631 2f76 6572  /firmware/v1/ver
+0001d5b0: 7369 6f6e 732f 7b66 6972 6d77 6172 655f  sions/{firmware_
+0001d5c0: 7665 7273 696f 6e7d 220a 0a20 2020 2020  version}"..     
+0001d5d0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+0001d5e0: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
+0001d5f0: 655f 7479 7065 273a 2064 6576 6963 655f  e_type': device_
+0001d600: 7479 7065 0a20 2020 2020 2020 207d 0a0a  type.        }..
+0001d610: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0001d620: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+0001d630: 6c2c 2070 6172 616d 733d 7061 7261 6d73  l, params=params
+0001d640: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0001d650: 2073 656e 645f 636f 6d6d 616e 645f 746f   send_command_to
+0001d660: 5f73 7761 726d 280a 2020 2020 2020 2020  _swarm(.        
+0001d670: 7365 6c66 2c0a 2020 2020 2020 2020 7377  self,.        sw
+0001d680: 6172 6d5f 6964 3a20 7374 722c 0a20 2020  arm_id: str,.   
+0001d690: 2020 2020 2063 6f6d 6d61 6e64 3a20 4c69       command: Li
+0001d6a0: 7465 7261 6c5b 0a20 2020 2020 2020 2020  teral[.         
+0001d6b0: 2020 2022 7265 626f 6f74 5f73 7761 726d     "reboot_swarm
+0001d6c0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+0001d6d0: 6572 6173 655f 636f 6e66 6967 7572 6174  erase_configurat
+0001d6e0: 696f 6e22 2c0a 2020 2020 2020 2020 5d0a  ion",.        ].
+0001d6f0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+0001d700: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
+0001d710: 6e65 7269 6320 636f 6d6d 616e 6473 2066  neric commands f
+0001d720: 6f72 2073 7761 726d 2e0a 0a20 2020 2020  or swarm...     
+0001d730: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0001d740: 2020 2020 2073 7761 726d 5f69 6420 2873       swarm_id (s
+0001d750: 7472 293a 2053 7761 726d 2049 4420 6f66  tr): Swarm ID of
+0001d760: 2064 6576 6963 650a 2020 2020 2020 2020   device.        
+0001d770: 2020 2020 636f 6d6d 616e 6420 2873 7472      command (str
+0001d780: 293a 2043 6f6d 6d61 6e64 206d 656e 7469  ): Command menti
+0001d790: 6f6e 6564 2069 6e20 7468 6520 6465 7363  oned in the desc
+0001d7a0: 7269 7074 696f 6e20 7468 6174 2069 7320  ription that is 
+0001d7b0: 746f 2062 6520 6578 6563 7574 6564 0a20  to be executed. 
+0001d7c0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
+0001d7d0: 616c 6964 3a20 2772 6562 6f6f 745f 7377  alid: 'reboot_sw
+0001d7e0: 6172 6d27 2c20 2765 7261 7365 5f63 6f6e  arm', 'erase_con
+0001d7f0: 6669 6775 7261 7469 6f6e 270a 0a20 2020  figuration'..   
+0001d800: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+0001d810: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+0001d820: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+0001d830: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+0001d840: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001d850: 2020 2075 726c 203d 2066 222f 6465 7669     url = f"/devi
+0001d860: 6365 5f6d 616e 6167 656d 656e 742f 7631  ce_management/v1
+0001d870: 2f73 7761 726d 2f7b 7377 6172 6d5f 6964  /swarm/{swarm_id
+0001d880: 7d2f 6163 7469 6f6e 2f7b 636f 6d6d 616e  }/action/{comman
+0001d890: 647d 220a 0a20 2020 2020 2020 2072 6574  d}"..        ret
+0001d8a0: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+0001d8b0: 6f73 7428 7572 6c29 0a0a 2020 2020 6173  ost(url)..    as
+0001d8c0: 796e 6320 6465 6620 7365 6e64 5f73 7065  ync def send_spe
+0001d8d0: 6564 5f74 6573 7428 0a20 2020 2020 2020  ed_test(.       
+0001d8e0: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
+0001d8f0: 6572 6961 6c3a 2073 7472 2c0a 2020 2020  erial: str,.    
+0001d900: 2020 2020 686f 7374 3a20 7374 7220 3d20      host: str = 
+0001d910: 226e 6474 2d69 7570 7569 2d6d 6c61 6231  "ndt-iupui-mlab1
+0001d920: 2d64 656e 3034 2e6d 6c61 622d 6f74 692e  -den04.mlab-oti.
+0001d930: 6d65 6173 7572 656d 656e 742d 6c61 622e  measurement-lab.
+0001d940: 6f72 6722 2c0a 2020 2020 2020 2020 6f70  org",.        op
+0001d950: 7469 6f6e 733a 2073 7472 203d 204e 6f6e  tions: str = Non
+0001d960: 650a 2020 2020 2920 2d3e 2052 6573 706f  e.    ) -> Respo
+0001d970: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+0001d980: 5370 6565 6420 5465 7374 2e0a 0a20 2020  Speed Test...   
+0001d990: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0001d9a0: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
+0001d9b0: 7472 293a 2053 6572 6961 6c20 6f66 2064  tr): Serial of d
+0001d9c0: 6576 6963 650a 2020 2020 2020 2020 2020  evice.          
+0001d9d0: 2020 686f 7374 2028 7374 722c 204f 7074    host (str, Opt
+0001d9e0: 696f 6e61 6c29 3a20 5370 6565 642d 5465  ional): Speed-Te
+0001d9f0: 7374 2073 6572 7665 7220 4950 2061 6464  st server IP add
+0001da00: 7265 7373 2c20 4465 6661 756c 7473 2074  ress, Defaults t
+0001da10: 6f20 7365 7276 6572 2069 6e20 4365 6e74  o server in Cent
+0001da20: 7261 6c20 496e 6469 616e 612e 0a20 2020  ral Indiana..   
+0001da30: 2020 2020 2020 2020 206f 7074 696f 6e73           options
+0001da40: 2028 7374 7229 3a20 466f 726d 6174 7465   (str): Formatte
+0001da50: 6420 7374 7269 6e67 206f 6620 6f70 7469  d string of opti
+0001da60: 6f6e 616c 2061 7267 756d 656e 7473 0a0a  onal arguments..
+0001da70: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+0001da80: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+0001da90: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+0001daa0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+0001dab0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+0001dac0: 2020 2020 2020 7572 6c20 3d20 6622 2f64        url = f"/d
+0001dad0: 6576 6963 655f 6d61 6e61 6765 6d65 6e74  evice_management
+0001dae0: 2f76 312f 6465 7669 6365 2f7b 7365 7269  /v1/device/{seri
+0001daf0: 616c 7d2f 6163 7469 6f6e 2f73 7065 6564  al}/action/speed
+0001db00: 7465 7374 220a 0a20 2020 2020 2020 206a  test"..        j
+0001db10: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
+0001db20: 2020 2020 2020 2020 2027 686f 7374 273a           'host':
+0001db30: 2068 6f73 742c 0a20 2020 2020 2020 2020   host,.         
+0001db40: 2020 2027 6f70 7469 6f6e 7327 3a20 6f70     'options': op
+0001db50: 7469 6f6e 7320 6f72 2022 220a 2020 2020  tions or "".    
+0001db60: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+0001db70: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0001db80: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
+0001db90: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
+0001dba0: 0a20 2020 2061 7379 6e63 2064 6566 2064  .    async def d
+0001dbb0: 656c 6574 655f 6365 7274 6966 6963 6174  elete_certificat
+0001dbc0: 6528 7365 6c66 2c20 6365 7274 6966 6963  e(self, certific
+0001dbd0: 6174 653a 2073 7472 2920 2d3e 2052 6573  ate: str) -> Res
+0001dbe0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0001dbf0: 2222 4465 6c65 7465 2065 7869 7374 696e  ""Delete existin
+0001dc00: 6720 6365 7274 6966 6963 6174 652e 0a0a  g certificate...
+0001dc10: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+0001dc20: 2020 2020 2020 2020 2020 6365 7274 6966            certif
+0001dc30: 6963 6174 6520 2873 7472 293a 204e 616d  icate (str): Nam
+0001dc40: 6520 6f66 2074 6865 2063 6572 7469 6669  e of the certifi
+0001dc50: 6361 7465 2074 6f20 6465 6c65 7465 2e0a  cate to delete..
+0001dc60: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+0001dc70: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+0001dc80: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+0001dc90: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+0001dca0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+0001dcb0: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+0001dcc0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+0001dcd0: 2f63 6572 7469 6669 6361 7465 732f 7b63  /certificates/{c
+0001dce0: 6572 7469 6669 6361 7465 7d22 0a0a 2020  ertificate}"..  
+0001dcf0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0001dd00: 6974 2073 656c 662e 6465 6c65 7465 2875  it self.delete(u
+0001dd10: 726c 290a 0a20 2020 2023 2054 4f44 4f20  rl)..    # TODO 
+0001dd20: 6163 6365 7074 204c 6973 7420 6f66 2073  accept List of s
+0001dd30: 7472 2061 6e64 2062 6174 6368 2064 656c  tr and batch del
+0001dd40: 6574 650a 2020 2020 6173 796e 6320 6465  ete.    async de
+0001dd50: 6620 6465 6c65 7465 5f67 726f 7570 2873  f delete_group(s
+0001dd60: 656c 662c 2067 726f 7570 3a20 7374 7229  elf, group: str)
+0001dd70: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0001dd80: 2020 2020 2020 2222 2244 656c 6574 6520        """Delete 
+0001dd90: 6578 6973 7469 6e67 2067 726f 7570 2e0a  existing group..
+0001dda0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0001ddb0: 2020 2020 2020 2020 2020 2067 726f 7570             group
+0001ddc0: 2028 7374 7229 3a20 4e61 6d65 206f 6620   (str): Name of 
+0001ddd0: 7468 6520 6772 6f75 7020 7468 6174 206e  the group that n
+0001dde0: 6565 6473 2074 6f20 6265 2064 656c 6574  eeds to be delet
+0001ddf0: 6564 2e0a 0a20 2020 2020 2020 2052 6574  ed...        Ret
+0001de00: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0001de10: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
+0001de20: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
+0001de30: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
+0001de40: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
+0001de50: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
+0001de60: 6e2f 7631 2f67 726f 7570 732f 7b67 726f  n/v1/groups/{gro
+0001de70: 7570 7d22 0a0a 2020 2020 2020 2020 7265  up}"..        re
+0001de80: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0001de90: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
+0001dea0: 2061 7379 6e63 2064 6566 2064 656c 6574   async def delet
+0001deb0: 655f 7369 7465 2873 656c 662c 2073 6974  e_site(self, sit
+0001dec0: 655f 6964 3a20 556e 696f 6e5b 696e 742c  e_id: Union[int,
+0001ded0: 204c 6973 745b 696e 745d 5d29 202d 3e20   List[int]]) -> 
+0001dee0: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+0001def0: 2020 2222 2244 656c 6574 6520 5369 7465    """Delete Site
+0001df00: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0001df10: 0a20 2020 2020 2020 2020 2020 2073 6974  .            sit
+0001df20: 655f 6964 2028 696e 747c 4c69 7374 5b69  e_id (int|List[i
+0001df30: 6e74 5d29 3a20 4569 7468 6572 2074 6865  nt]): Either the
+0001df40: 2073 6974 655f 6964 206f 7220 6120 6c69   site_id or a li
+0001df50: 7374 206f 6620 7369 7465 5f69 6473 2074  st of site_ids t
+0001df60: 6f20 6265 2064 656c 6574 6564 2e0a 0a20  o be deleted... 
+0001df70: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0001df80: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0001df90: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0001dfa0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0001dfb0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001dfc0: 2020 2020 2062 5f75 726c 203d 2022 2f63       b_url = "/c
+0001dfd0: 656e 7472 616c 2f76 322f 7369 7465 7322  entral/v2/sites"
+0001dfe0: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+0001dff0: 7374 616e 6365 2873 6974 655f 6964 2c20  stance(site_id, 
+0001e000: 6c69 7374 293a 0a20 2020 2020 2020 2020  list):.         
+0001e010: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0001e020: 7365 6c66 2e5f 6261 7463 685f 7265 7175  self._batch_requ
+0001e030: 6573 7428 0a20 2020 2020 2020 2020 2020  est(.           
+0001e040: 2020 2020 205b 0a20 2020 2020 2020 2020       [.         
+0001e050: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001e060: 4261 7463 6852 6571 7565 7374 2873 656c  BatchRequest(sel
+0001e070: 662e 6465 6c65 7465 2c20 2866 227b 625f  f.delete, (f"{b_
+0001e080: 7572 6c7d 2f7b 5f69 647d 222c 2929 0a20  url}/{_id}",)). 
+0001e090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e0a0: 2020 2066 6f72 205f 6964 2069 6e20 7369     for _id in si
+0001e0b0: 7465 5f69 640a 2020 2020 2020 2020 2020  te_id.          
+0001e0c0: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
+0001e0d0: 2020 2020 290a 2020 2020 2020 2020 656c      ).        el
+0001e0e0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001e0f0: 7572 6c20 3d20 6622 7b62 5f75 726c 7d2f  url = f"{b_url}/
+0001e100: 7b73 6974 655f 6964 7d22 0a20 2020 2020  {site_id}".     
+0001e110: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+0001e120: 6169 7420 7365 6c66 2e64 656c 6574 6528  ait self.delete(
+0001e130: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
+0001e140: 6465 6620 6465 6c65 7465 5f77 6c61 6e28  def delete_wlan(
+0001e150: 7365 6c66 2c20 6772 6f75 703a 2073 7472  self, group: str
+0001e160: 2c20 776c 616e 5f6e 616d 653a 2073 7472  , wlan_name: str
+0001e170: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0001e180: 2020 2020 2020 2022 2222 4465 6c65 7465         """Delete
+0001e190: 2061 6e20 6578 6973 7469 6e67 2057 4c41   an existing WLA
+0001e1a0: 4e2e 0a0a 2020 2020 2020 2020 4172 6773  N...        Args
+0001e1b0: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
+0001e1c0: 6f75 7020 2873 7472 293a 2047 726f 7570  oup (str): Group
+0001e1d0: 206e 616d 6520 6f66 2074 6865 2067 726f   name of the gro
+0001e1e0: 7570 206f 7220 6775 6964 206f 6620 7468  up or guid of th
+0001e1f0: 6520 7377 6172 6d2e 0a20 2020 2020 2020  e swarm..       
+0001e200: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
+0001e210: 3a47 726f 7570 5f31 206f 7220 3661 3564  :Group_1 or 6a5d
+0001e220: 3132 3362 3031 6639 3434 3138 3036 3234  123b01f944180624
+0001e230: 3465 6136 6530 3233 6661 6235 3834 3162  4ea6e023fab5841b
+0001e240: 3737 6338 3238 6130 3835 6630 3466 2e0a  77c828a085f04f..
+0001e250: 2020 2020 2020 2020 2020 2020 776c 616e              wlan
+0001e260: 5f6e 616d 6520 2873 7472 293a 204e 616d  _name (str): Nam
+0001e270: 6520 6f66 2057 4c41 4e20 746f 2062 6520  e of WLAN to be 
+0001e280: 6465 6c65 7465 642e 0a20 2020 2020 2020  deleted..       
+0001e290: 2020 2020 2020 2020 2045 7861 6d70 6c65           Example
+0001e2a0: 3a77 6c61 6e5f 312e 0a0a 2020 2020 2020  :wlan_1...      
+0001e2b0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0001e2c0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0001e2d0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0001e2e0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0001e2f0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001e300: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
+0001e310: 7261 7469 6f6e 2f76 312f 776c 616e 2f7b  ration/v1/wlan/{
+0001e320: 6772 6f75 707d 2f7b 776c 616e 5f6e 616d  group}/{wlan_nam
+0001e330: 657d 220a 0a20 2020 2020 2020 2072 6574  e}"..        ret
+0001e340: 7572 6e20 6177 6169 7420 7365 6c66 2e64  urn await self.d
+0001e350: 656c 6574 6528 7572 6c29 0a0a 2020 2020  elete(url)..    
+0001e360: 6173 796e 6320 6465 6620 6765 745f 776c  async def get_wl
+0001e370: 616e 2873 656c 662c 2067 726f 7570 3a20  an(self, group: 
+0001e380: 7374 722c 2077 6c61 6e5f 6e61 6d65 3a20  str, wlan_name: 
+0001e390: 7374 7229 202d 3e20 5265 7370 6f6e 7365  str) -> Response
+0001e3a0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+0001e3b0: 2074 6865 2069 6e66 6f72 6d61 7469 6f6e   the information
+0001e3c0: 206f 6620 616e 2065 7869 7374 696e 6720   of an existing 
+0001e3d0: 574c 414e 2e0a 0a20 2020 2020 2020 2041  WLAN...        A
+0001e3e0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+0001e3f0: 2067 726f 7570 2028 7374 7229 3a20 4772   group (str): Gr
+0001e400: 6f75 7020 6e61 6d65 206f 6620 7468 6520  oup name of the 
+0001e410: 6772 6f75 7020 6f72 2067 7569 6420 6f66  group or guid of
+0001e420: 2074 6865 2073 7761 726d 2e0a 2020 2020   the swarm..    
+0001e430: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
+0001e440: 706c 653a 4772 6f75 705f 3120 6f72 2036  ple:Group_1 or 6
+0001e450: 6135 6431 3233 6230 3166 3934 3431 3830  a5d123b01f944180
+0001e460: 3632 3434 6561 3665 3032 3366 6162 3538  6244ea6e023fab58
+0001e470: 3431 6237 3763 3832 3861 3038 3566 3034  41b77c828a085f04
+0001e480: 662e 0a20 2020 2020 2020 2020 2020 2077  f..            w
+0001e490: 6c61 6e5f 6e61 6d65 2028 7374 7229 3a20  lan_name (str): 
+0001e4a0: 4e61 6d65 206f 6620 574c 414e 2073 656c  Name of WLAN sel
+0001e4b0: 6563 7465 642e 0a20 2020 2020 2020 2020  ected..         
+0001e4c0: 2020 2020 2020 2045 7861 6d70 6c65 3a77         Example:w
+0001e4d0: 6c61 6e5f 312e 0a0a 2020 2020 2020 2020  lan_1...        
+0001e4e0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0001e4f0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0001e500: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0001e510: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0001e520: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0001e530: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0001e540: 7469 6f6e 2f76 322f 776c 616e 2f7b 6772  tion/v2/wlan/{gr
+0001e550: 6f75 707d 2f7b 776c 616e 5f6e 616d 657d  oup}/{wlan_name}
+0001e560: 220a 0a20 2020 2020 2020 2072 6574 7572  "..        retur
+0001e570: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+0001e580: 2875 726c 290a 0a20 2020 2061 7379 6e63  (url)..    async
+0001e590: 2064 6566 2063 7265 6174 655f 776c 616e   def create_wlan
+0001e5a0: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+0001e5b0: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+0001e5c0: 7472 2c0a 2020 2020 2020 2020 776c 616e  tr,.        wlan
+0001e5d0: 5f6e 616d 653a 2073 7472 2c0a 2020 2020  _name: str,.    
+0001e5e0: 2020 2020 7770 615f 7061 7373 7068 7261      wpa_passphra
+0001e5f0: 7365 3a20 7374 722c 0a20 2020 2020 2020  se: str,.       
+0001e600: 2023 2077 7061 5f70 6173 7370 6872 6173   # wpa_passphras
+0001e610: 655f 6368 616e 6765 643a 2062 6f6f 6c20  e_changed: bool 
+0001e620: 3d20 5472 7565 2c0a 2020 2020 2020 2020  = True,.        
+0001e630: 766c 616e 3a20 7374 7220 3d20 2222 2c0a  vlan: str = "",.
+0001e640: 2020 2020 2020 2020 7479 7065 3a20 576c          type: Wl
+0001e650: 616e 5479 7065 203d 2022 656d 706c 6f79  anType = "employ
+0001e660: 6565 222c 0a20 2020 2020 2020 2065 7373  ee",.        ess
+0001e670: 6964 3a20 7374 7220 3d20 4e6f 6e65 2c0a  id: str = None,.
+0001e680: 2020 2020 2020 2020 7a6f 6e65 3a20 7374          zone: st
+0001e690: 7220 3d20 2222 2c0a 2020 2020 2020 2020  r = "",.        
+0001e6a0: 6361 7074 6976 655f 7072 6f66 696c 655f  captive_profile_
+0001e6b0: 6e61 6d65 3a20 7374 7220 3d20 2222 2c0a  name: str = "",.
+0001e6c0: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
+0001e6d0: 685f 6c69 6d69 745f 7570 3a20 7374 7220  h_limit_up: str 
+0001e6e0: 3d20 2222 2c0a 2020 2020 2020 2020 6261  = "",.        ba
+0001e6f0: 6e64 7769 6474 685f 6c69 6d69 745f 646f  ndwidth_limit_do
+0001e700: 776e 3a20 7374 7220 3d20 2222 2c0a 2020  wn: str = "",.  
+0001e710: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
+0001e720: 6c69 6d69 745f 7065 7275 7365 725f 7570  limit_peruser_up
+0001e730: 3a20 7374 7220 3d20 2222 2c0a 2020 2020  : str = "",.    
+0001e740: 2020 2020 6261 6e64 7769 6474 685f 6c69      bandwidth_li
+0001e750: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
+0001e760: 3a20 7374 7220 3d20 2222 2c0a 2020 2020  : str = "",.    
+0001e770: 2020 2020 6163 6365 7373 5f72 756c 6573      access_rules
+0001e780: 3a20 6c69 7374 203d 2044 4546 4155 4c54  : list = DEFAULT
+0001e790: 5f41 4343 4553 535f 5255 4c45 535b 2241  _ACCESS_RULES["A
+0001e7a0: 4c4c 4f57 5f41 4c4c 225d 2c0a 2020 2020  LLOW_ALL"],.    
+0001e7b0: 2020 2020 6973 5f6c 6f63 6b65 643a 2062      is_locked: b
+0001e7c0: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+0001e7d0: 2020 2020 2068 6964 655f 7373 6964 3a20       hide_ssid: 
+0001e7e0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+0001e7f0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0001e800: 0a20 2020 2020 2020 2022 2222 4372 6561  .        """Crea
+0001e810: 7465 2061 206e 6577 2057 4c41 4e20 2853  te a new WLAN (S
+0001e820: 5349 4429 2e0a 0a20 2020 2020 2020 2041  SID)...        A
+0001e830: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+0001e840: 2067 726f 7570 2028 7374 7229 3a20 4172   group (str): Ar
+0001e850: 7562 6120 4365 6e74 7261 6c20 4772 6f75  uba Central Grou
+0001e860: 7020 6e61 6d65 206f 7220 7377 6172 6d20  p name or swarm 
+0001e870: 6775 6964 0a20 2020 2020 2020 2020 2020  guid.           
+0001e880: 2077 6c61 6e5f 6e61 6d65 2028 7374 7229   wlan_name (str)
+0001e890: 3a20 4e61 6d65 206f 6620 7468 6520 574c  : Name of the WL
+0001e8a0: 414e 2f4e 6574 776f 726b 0a20 2020 2020  AN/Network.     
+0001e8b0: 2020 2020 2020 2077 7061 5f70 6173 7370         wpa_passp
+0001e8c0: 6872 6173 6520 2873 7472 293a 2057 5041  hrase (str): WPA
+0001e8d0: 2070 6173 7370 6872 6173 650a 2020 2020   passphrase.    
+0001e8e0: 2020 2020 2020 2020 766c 616e 2028 7374          vlan (st
+0001e8f0: 7229 3a20 436c 6965 6e74 2056 4c41 4e20  r): Client VLAN 
+0001e900: 6e61 6d65 206f 7220 6964 2e20 4465 6661  name or id. Defa
+0001e910: 756c 7473 2074 6f20 2222 2028 4e61 7469  ults to "" (Nati
+0001e920: 7665 2041 5020 564c 414e 292e 0a20 2020  ve AP VLAN)..   
+0001e930: 2020 2020 2020 2020 2074 7970 6520 2857           type (W
+0001e940: 6c61 6e54 7970 652c 206f 7074 696f 6e61  lanType, optiona
+0001e950: 6c29 3a20 5661 6c69 643a 205b 2765 6d70  l): Valid: ['emp
+0001e960: 6c6f 7965 6527 2c20 2767 7565 7374 275d  loyee', 'guest']
+0001e970: 2e20 4465 6661 756c 7473 2074 6f20 2265  . Defaults to "e
+0001e980: 6d70 6c6f 7965 6522 2e0a 2020 2020 2020  mployee"..      
+0001e990: 2020 2020 2020 6573 7369 6420 2873 7472        essid (str
+0001e9a0: 2c20 6f70 7469 6f6e 616c 293a 2053 5349  , optional): SSI
+0001e9b0: 442e 2044 6566 6175 6c74 7320 746f 204e  D. Defaults to N
+0001e9c0: 6f6e 6520 2865 7373 6964 203d 2077 6c61  one (essid = wla
+0001e9d0: 6e5f 6e61 6d65 292e 0a20 2020 2020 2020  n_name)..       
+0001e9e0: 2020 2020 207a 6f6e 6520 2873 7472 2c20       zone (str, 
+0001e9f0: 6f70 7469 6f6e 616c 293a 2041 5020 5a6f  optional): AP Zo
+0001ea00: 6e65 2053 5349 4420 7769 6c6c 2062 726f  ne SSID will bro
+0001ea10: 6164 6361 7374 206f 6e2e 2044 6566 6175  adcast on. Defau
+0001ea20: 6c74 7320 746f 2022 2220 2842 726f 6164  lts to "" (Broad
+0001ea30: 6361 7374 206f 6e20 616c 6c20 4150 7329  cast on all APs)
+0001ea40: 2e0a 2020 2020 2020 2020 2020 2020 6361  ..            ca
+0001ea50: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
+0001ea60: 6d65 2028 7374 722c 206f 7074 696f 6e61  me (str, optiona
+0001ea70: 6c29 3a20 4361 7074 6976 6520 506f 7274  l): Captive Port
+0001ea80: 616c 2050 726f 6669 6c65 2e20 4465 6661  al Profile. Defa
+0001ea90: 756c 7473 2074 6f20 2222 2028 4e6f 2043  ults to "" (No C
+0001eaa0: 5020 5072 6f66 696c 6529 2e0a 2020 2020  P Profile)..    
+0001eab0: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
+0001eac0: 685f 6c69 6d69 745f 7570 2028 7374 722c  h_limit_up (str,
+0001ead0: 206f 7074 696f 6e61 6c29 3a20 5b64 6573   optional): [des
+0001eae0: 6372 6970 7469 6f6e 5d2e 2044 6566 6175  cription]. Defau
+0001eaf0: 6c74 7320 746f 2022 2220 284e 6f20 4257  lts to "" (No BW
+0001eb00: 204c 696d 6974 2055 7029 2e0a 2020 2020   Limit Up)..    
+0001eb10: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
+0001eb20: 685f 6c69 6d69 745f 646f 776e 2028 7374  h_limit_down (st
+0001eb30: 722c 206f 7074 696f 6e61 6c29 3a20 5b64  r, optional): [d
+0001eb40: 6573 6372 6970 7469 6f6e 5d2e 2044 6566  escription]. Def
+0001eb50: 6175 6c74 7320 746f 2022 2220 284e 6f20  aults to "" (No 
+0001eb60: 4257 204c 696d 6974 2044 6f77 6e29 2e0a  BW Limit Down)..
+0001eb70: 2020 2020 2020 2020 2020 2020 6261 6e64              band
+0001eb80: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+0001eb90: 7365 725f 7570 2028 7374 722c 206f 7074  ser_up (str, opt
+0001eba0: 696f 6e61 6c29 3a20 5b64 6573 6372 6970  ional): [descrip
+0001ebb0: 7469 6f6e 5d2e 2044 6566 6175 6c74 7320  tion]. Defaults 
+0001ebc0: 746f 2022 2220 284e 6f20 7065 7220 7573  to "" (No per us
+0001ebd0: 6572 2042 5720 4c69 6d69 7420 5570 292e  er BW Limit Up).
+0001ebe0: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
+0001ebf0: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
+0001ec00: 7573 6572 5f64 6f77 6e20 2873 7472 2c20  user_down (str, 
+0001ec10: 6f70 7469 6f6e 616c 293a 205b 6465 7363  optional): [desc
+0001ec20: 7269 7074 696f 6e5d 2e20 4465 6661 756c  ription]. Defaul
+0001ec30: 7473 2074 6f20 2222 2028 4e6f 2070 6572  ts to "" (No per
+0001ec40: 2075 7365 7220 4257 204c 696d 6974 2044   user BW Limit D
+0001ec50: 6f77 6e29 2e0a 2020 2020 2020 2020 2020  own)..          
+0001ec60: 2020 6163 6365 7373 5f72 756c 6573 2028    access_rules (
+0001ec70: 6c69 7374 2c20 6f70 7469 6f6e 616c 293a  list, optional):
+0001ec80: 205b 6465 7363 7269 7074 696f 6e5d 2e20   [description]. 
+0001ec90: 4465 6661 756c 743a 2075 6e72 6573 7472  Default: unrestr
+0001eca0: 6963 7465 642e 0a20 2020 2020 2020 2020  icted..         
+0001ecb0: 2020 2069 735f 6c6f 636b 6564 2028 626f     is_locked (bo
+0001ecc0: 6f6c 2c20 6f70 7469 6f6e 616c 293a 205b  ol, optional): [
+0001ecd0: 6465 7363 7269 7074 696f 6e5d 2e20 4465  description]. De
+0001ece0: 6661 756c 7473 2074 6f20 4661 6c73 652e  faults to False.
+0001ecf0: 0a20 2020 2020 2020 2020 2020 2068 6964  .            hid
+0001ed00: 655f 7373 6964 2028 626f 6f6c 2c20 6f70  e_ssid (bool, op
+0001ed10: 7469 6f6e 616c 293a 205b 6465 7363 7269  tional): [descri
+0001ed20: 7074 696f 6e5d 2e20 4465 6661 756c 7473  ption]. Defaults
+0001ed30: 2074 6f20 4661 6c73 652e 0a20 2020 2020   to False..     
+0001ed40: 2020 2020 2020 2077 7061 5f70 6173 7370         wpa_passp
+0001ed50: 6872 6173 655f 6368 616e 6765 6420 2862  hrase_changed (b
+0001ed60: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+0001ed70: 696e 6469 6361 7465 7320 7061 7373 7068  indicates passph
+0001ed80: 7261 7365 2068 6173 2063 6861 6e67 6564  rase has changed
+0001ed90: 2e20 4465 6661 756c 7473 2074 6f20 5472  . Defaults to Tr
+0001eda0: 7565 2e0a 0a20 2020 2020 2020 2052 6574  ue...        Ret
+0001edb0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
+0001edc0: 2020 5265 7370 6f6e 7365 3a20 5b64 6573    Response: [des
+0001edd0: 6372 6970 7469 6f6e 5d0a 2020 2020 2020  cription].      
+0001ede0: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
+0001edf0: 6c20 3d20 6622 2f63 6f6e 6669 6775 7261  l = f"/configura
+0001ee00: 7469 6f6e 2f76 322f 776c 616e 2f7b 6772  tion/v2/wlan/{gr
+0001ee10: 6f75 707d 2f7b 776c 616e 5f6e 616d 657d  oup}/{wlan_name}
+0001ee20: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
+0001ee30: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+0001ee40: 2020 2020 2022 776c 616e 223a 207b 0a20       "wlan": {. 
+0001ee50: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0001ee60: 6573 7369 6427 3a20 6573 7369 6420 6f72  essid': essid or
+0001ee70: 2077 6c61 6e5f 6e61 6d65 2c0a 2020 2020   wlan_name,.    
+0001ee80: 2020 2020 2020 2020 2020 2020 2774 7970              'typ
+0001ee90: 6527 3a20 7479 7065 2c0a 2020 2020 2020  e': type,.      
+0001eea0: 2020 2020 2020 2020 2020 2768 6964 655f            'hide_
+0001eeb0: 7373 6964 273a 2068 6964 655f 7373 6964  ssid': hide_ssid
+0001eec0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001eed0: 2020 2776 6c61 6e27 3a20 766c 616e 2c0a    'vlan': vlan,.
+0001eee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001eef0: 277a 6f6e 6527 3a20 7a6f 6e65 2c0a 2020  'zone': zone,.  
+0001ef00: 2020 2020 2020 2020 2020 2020 2020 2777                'w
+0001ef10: 7061 5f70 6173 7370 6872 6173 6527 3a20  pa_passphrase': 
+0001ef20: 7770 615f 7061 7373 7068 7261 7365 2c0a  wpa_passphrase,.
+0001ef30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ef40: 2320 2777 7061 5f70 6173 7370 6872 6173  # 'wpa_passphras
+0001ef50: 655f 6368 616e 6765 6427 3a20 7770 615f  e_changed': wpa_
+0001ef60: 7061 7373 7068 7261 7365 5f63 6861 6e67  passphrase_chang
+0001ef70: 6564 2c0a 2020 2020 2020 2020 2020 2020  ed,.            
+0001ef80: 2020 2020 2769 735f 6c6f 636b 6564 273a      'is_locked':
+0001ef90: 2069 735f 6c6f 636b 6564 2c0a 2020 2020   is_locked,.    
+0001efa0: 2020 2020 2020 2020 2020 2020 2763 6170              'cap
+0001efb0: 7469 7665 5f70 726f 6669 6c65 5f6e 616d  tive_profile_nam
+0001efc0: 6527 3a20 6361 7074 6976 655f 7072 6f66  e': captive_prof
+0001efd0: 696c 655f 6e61 6d65 2c0a 2020 2020 2020  ile_name,.      
+0001efe0: 2020 2020 2020 2020 2020 2762 616e 6477            'bandw
+0001eff0: 6964 7468 5f6c 696d 6974 5f75 7027 3a20  idth_limit_up': 
+0001f000: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+0001f010: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
+0001f020: 2020 2020 2762 616e 6477 6964 7468 5f6c      'bandwidth_l
+0001f030: 696d 6974 5f64 6f77 6e27 3a20 6261 6e64  imit_down': band
+0001f040: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
+0001f050: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001f060: 2020 2762 616e 6477 6964 7468 5f6c 696d    'bandwidth_lim
+0001f070: 6974 5f70 6572 7573 6572 5f75 7027 3a20  it_peruser_up': 
+0001f080: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+0001f090: 7065 7275 7365 725f 7570 2c0a 2020 2020  peruser_up,.    
+0001f0a0: 2020 2020 2020 2020 2020 2020 2762 616e              'ban
+0001f0b0: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
+0001f0c0: 7573 6572 5f64 6f77 6e27 3a20 6261 6e64  user_down': band
+0001f0d0: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+0001f0e0: 7365 725f 646f 776e 2c0a 2020 2020 2020  ser_down,.      
+0001f0f0: 2020 2020 2020 2020 2020 2761 6363 6573            'acces
+0001f100: 735f 7275 6c65 7327 3a20 6163 6365 7373  s_rules': access
+0001f110: 5f72 756c 6573 0a20 2020 2020 2020 2020  _rules.         
+0001f120: 2020 207d 0a20 2020 2020 2020 207d 0a0a     }.        }..
+0001f130: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0001f140: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+0001f150: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+0001f160: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+0001f170: 796e 6320 6465 6620 636f 6e66 6967 7572  ync def configur
+0001f180: 6174 696f 6e5f 636c 6561 6e5f 7570 5f61  ation_clean_up_a
+0001f190: 6e64 5f75 7064 6174 655f 776c 616e 5f76  nd_update_wlan_v
+0001f1a0: 3228 7365 6c66 2c20 6772 6f75 705f 6e61  2(self, group_na
+0001f1b0: 6d65 5f6f 725f 6775 6964 3a20 7374 722c  me_or_guid: str,
+0001f1c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f1f0: 2020 2020 2020 2020 2077 6c61 6e5f 6e61           wlan_na
+0001f200: 6d65 3a20 7374 722c 2065 7373 6964 3a20  me: str, essid: 
+0001f210: 7374 722c 2074 7970 653a 2073 7472 2c0a  str, type: str,.
+0001f220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f230: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f260: 2020 2020 2020 2020 2020 2020 2020 6261                ba
-0001f270: 6e64 7769 6474 685f 6c69 6d69 745f 646f  ndwidth_limit_do
-0001f280: 776e 3a20 7374 722c 0a20 2020 2020 2020  wn: str,.       
+0001f250: 2020 2020 2020 2020 6869 6465 5f73 7369          hide_ssi
+0001f260: 643a 2062 6f6f 6c2c 2076 6c61 6e3a 2073  d: bool, vlan: s
+0001f270: 7472 2c20 7a6f 6e65 3a20 7374 722c 0a20  tr, zone: str,. 
+0001f280: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f290: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2c0: 2062 616e 6477 6964 7468 5f6c 696d 6974   bandwidth_limit
-0001f2d0: 5f70 6572 7573 6572 5f75 703a 2073 7472  _peruser_up: str
-0001f2e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001f2b0: 2020 2020 2020 2077 7061 5f70 6173 7370         wpa_passp
+0001f2c0: 6872 6173 653a 2073 7472 2c0a 2020 2020  hrase: str,.    
+0001f2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f310: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
-0001f320: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
-0001f330: 725f 646f 776e 3a20 7374 722c 0a20 2020  r_down: str,.   
+0001f300: 2020 2020 7770 615f 7061 7373 7068 7261      wpa_passphra
+0001f310: 7365 5f63 6861 6e67 6564 3a20 626f 6f6c  se_changed: bool
+0001f320: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001f330: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f370: 2020 2020 2061 6363 6573 735f 7275 6c65       access_rule
-0001f380: 733a 206c 6973 7429 202d 3e20 5265 7370  s: list) -> Resp
-0001f390: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0001f3a0: 2255 7064 6174 6520 616e 2065 7869 7374  "Update an exist
-0001f3b0: 696e 6720 574c 414e 2061 6e64 2063 6c65  ing WLAN and cle
-0001f3c0: 616e 2075 7020 756e 7375 7070 6f72 7465  an up unsupporte
-0001f3d0: 6420 6669 656c 6473 2e0a 0a20 2020 2020  d fields...     
-0001f3e0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0001f3f0: 2020 2020 2067 726f 7570 5f6e 616d 655f       group_name_
-0001f400: 6f72 5f67 7569 6420 2873 7472 293a 2047  or_guid (str): G
-0001f410: 726f 7570 206e 616d 6520 6f66 2074 6865  roup name of the
-0001f420: 2067 726f 7570 206f 7220 6775 6964 206f   group or guid o
-0001f430: 6620 7468 6520 7377 6172 6d2e 0a20 2020  f the swarm..   
-0001f440: 2020 2020 2020 2020 2020 2020 2045 7861               Exa
-0001f450: 6d70 6c65 3a47 726f 7570 5f31 206f 7220  mple:Group_1 or 
-0001f460: 3661 3564 3132 3362 3031 6639 3434 3138  6a5d123b01f94418
-0001f470: 3036 3234 3465 6136 6530 3233 6661 6235  06244ea6e023fab5
-0001f480: 3834 3162 3737 6338 3238 6130 3835 6630  841b77c828a085f0
-0001f490: 3466 2e0a 2020 2020 2020 2020 2020 2020  4f..            
-0001f4a0: 776c 616e 5f6e 616d 6520 2873 7472 293a  wlan_name (str):
-0001f4b0: 204e 616d 6520 6f66 2057 4c41 4e20 7365   Name of WLAN se
-0001f4c0: 6c65 6374 6564 2e20 2020 2020 2020 2020  lected.         
+0001f350: 2020 2020 2020 2020 2020 6973 5f6c 6f63            is_loc
+0001f360: 6b65 643a 2062 6f6f 6c2c 0a20 2020 2020  ked: bool,.     
+0001f370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f3a0: 2020 2063 6170 7469 7665 5f70 726f 6669     captive_profi
+0001f3b0: 6c65 5f6e 616d 653a 2073 7472 2c0a 2020  le_name: str,.  
+0001f3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f3f0: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
+0001f400: 6c69 6d69 745f 7570 3a20 7374 722c 0a20  limit_up: str,. 
+0001f410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f440: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
+0001f450: 5f6c 696d 6974 5f64 6f77 6e3a 2073 7472  _limit_down: str
+0001f460: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001f470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f490: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
+0001f4a0: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
+0001f4b0: 725f 7570 3a20 7374 722c 0a20 2020 2020  r_up: str,.     
+0001f4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0001f4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f4e0: 2020 2020 2045 7861 6d70 6c65 3a77 6c61       Example:wla
-0001f4f0: 6e5f 312e 0a20 2020 2020 2020 2020 2020  n_1..           
-0001f500: 2065 7373 6964 2028 7374 7229 3a20 6573   essid (str): es
-0001f510: 7369 640a 2020 2020 2020 2020 2020 2020  sid.            
-0001f520: 7479 7065 2028 7374 7229 3a20 7479 7065  type (str): type
-0001f530: 2020 5661 6c69 6420 5661 6c75 6573 3a20    Valid Values: 
-0001f540: 656d 706c 6f79 6565 2c20 6775 6573 740a  employee, guest.
-0001f550: 2020 2020 2020 2020 2020 2020 6869 6465              hide
-0001f560: 5f73 7369 6420 2862 6f6f 6c29 3a20 6869  _ssid (bool): hi
-0001f570: 6465 5f73 7369 640a 2020 2020 2020 2020  de_ssid.        
-0001f580: 2020 2020 766c 616e 2028 7374 7229 3a20      vlan (str): 
-0001f590: 766c 616e 0a20 2020 2020 2020 2020 2020  vlan.           
-0001f5a0: 207a 6f6e 6520 2873 7472 293a 207a 6f6e   zone (str): zon
-0001f5b0: 650a 2020 2020 2020 2020 2020 2020 7770  e.            wp
-0001f5c0: 615f 7061 7373 7068 7261 7365 2028 7374  a_passphrase (st
-0001f5d0: 7229 3a20 7770 615f 7061 7373 7068 7261  r): wpa_passphra
-0001f5e0: 7365 0a20 2020 2020 2020 2020 2020 2077  se.            w
-0001f5f0: 7061 5f70 6173 7370 6872 6173 655f 6368  pa_passphrase_ch
-0001f600: 616e 6765 6420 2862 6f6f 6c29 3a20 7770  anged (bool): wp
-0001f610: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
-0001f620: 6e67 6564 0a20 2020 2020 2020 2020 2020  nged.           
-0001f630: 2069 735f 6c6f 636b 6564 2028 626f 6f6c   is_locked (bool
-0001f640: 293a 2069 735f 6c6f 636b 6564 0a20 2020  ): is_locked.   
-0001f650: 2020 2020 2020 2020 2063 6170 7469 7665           captive
-0001f660: 5f70 726f 6669 6c65 5f6e 616d 6520 2873  _profile_name (s
-0001f670: 7472 293a 2063 6170 7469 7665 5f70 726f  tr): captive_pro
-0001f680: 6669 6c65 5f6e 616d 650a 2020 2020 2020  file_name.      
-0001f690: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
-0001f6a0: 6c69 6d69 745f 7570 2028 7374 7229 3a20  limit_up (str): 
-0001f6b0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
-0001f6c0: 7570 0a20 2020 2020 2020 2020 2020 2062  up.            b
-0001f6d0: 616e 6477 6964 7468 5f6c 696d 6974 5f64  andwidth_limit_d
-0001f6e0: 6f77 6e20 2873 7472 293a 2062 616e 6477  own (str): bandw
-0001f6f0: 6964 7468 5f6c 696d 6974 5f64 6f77 6e0a  idth_limit_down.
-0001f700: 2020 2020 2020 2020 2020 2020 6261 6e64              band
-0001f710: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
-0001f720: 7365 725f 7570 2028 7374 7229 3a20 6261  ser_up (str): ba
-0001f730: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
-0001f740: 7275 7365 725f 7570 0a20 2020 2020 2020  ruser_up.       
-0001f750: 2020 2020 2062 616e 6477 6964 7468 5f6c       bandwidth_l
-0001f760: 696d 6974 5f70 6572 7573 6572 5f64 6f77  imit_peruser_dow
-0001f770: 6e20 2873 7472 293a 2062 616e 6477 6964  n (str): bandwid
-0001f780: 7468 5f6c 696d 6974 5f70 6572 7573 6572  th_limit_peruser
-0001f790: 5f64 6f77 6e0a 2020 2020 2020 2020 2020  _down.          
-0001f7a0: 2020 6163 6365 7373 5f72 756c 6573 2028    access_rules (
-0001f7b0: 6c69 7374 293a 2061 6363 6573 735f 7275  list): access_ru
-0001f7c0: 6c65 730a 0a20 2020 2020 2020 2052 6574  les..        Ret
-0001f7d0: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0001f7e0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0001f7f0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0001f800: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0001f810: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-0001f820: 2066 222f 636f 6e66 6967 7572 6174 696f   f"/configuratio
-0001f830: 6e2f 7632 2f77 6c61 6e2f 7b67 726f 7570  n/v2/wlan/{group
-0001f840: 5f6e 616d 655f 6f72 5f67 7569 647d 2f7b  _name_or_guid}/{
-0001f850: 776c 616e 5f6e 616d 657d 220a 0a20 2020  wlan_name}"..   
-0001f860: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
-0001f870: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-0001f880: 6573 7369 6427 3a20 6573 7369 642c 0a20  essid': essid,. 
-0001f890: 2020 2020 2020 2020 2020 2027 7479 7065             'type
-0001f8a0: 273a 2074 7970 652c 0a20 2020 2020 2020  ': type,.       
-0001f8b0: 2020 2020 2027 6869 6465 5f73 7369 6427       'hide_ssid'
-0001f8c0: 3a20 6869 6465 5f73 7369 642c 0a20 2020  : hide_ssid,.   
-0001f8d0: 2020 2020 2020 2020 2027 766c 616e 273a           'vlan':
-0001f8e0: 2076 6c61 6e2c 0a20 2020 2020 2020 2020   vlan,.         
-0001f8f0: 2020 2027 7a6f 6e65 273a 207a 6f6e 652c     'zone': zone,
-0001f900: 0a20 2020 2020 2020 2020 2020 2027 7770  .            'wp
-0001f910: 615f 7061 7373 7068 7261 7365 273a 2077  a_passphrase': w
-0001f920: 7061 5f70 6173 7370 6872 6173 652c 0a20  pa_passphrase,. 
-0001f930: 2020 2020 2020 2020 2020 2027 7770 615f             'wpa_
-0001f940: 7061 7373 7068 7261 7365 5f63 6861 6e67  passphrase_chang
-0001f950: 6564 273a 2077 7061 5f70 6173 7370 6872  ed': wpa_passphr
-0001f960: 6173 655f 6368 616e 6765 642c 0a20 2020  ase_changed,.   
-0001f970: 2020 2020 2020 2020 2027 6973 5f6c 6f63           'is_loc
-0001f980: 6b65 6427 3a20 6973 5f6c 6f63 6b65 642c  ked': is_locked,
-0001f990: 0a20 2020 2020 2020 2020 2020 2027 6361  .            'ca
-0001f9a0: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
-0001f9b0: 6d65 273a 2063 6170 7469 7665 5f70 726f  me': captive_pro
-0001f9c0: 6669 6c65 5f6e 616d 652c 0a20 2020 2020  file_name,.     
-0001f9d0: 2020 2020 2020 2027 6261 6e64 7769 6474         'bandwidt
-0001f9e0: 685f 6c69 6d69 745f 7570 273a 2062 616e  h_limit_up': ban
-0001f9f0: 6477 6964 7468 5f6c 696d 6974 5f75 702c  dwidth_limit_up,
-0001fa00: 0a20 2020 2020 2020 2020 2020 2027 6261  .            'ba
-0001fa10: 6e64 7769 6474 685f 6c69 6d69 745f 646f  ndwidth_limit_do
-0001fa20: 776e 273a 2062 616e 6477 6964 7468 5f6c  wn': bandwidth_l
-0001fa30: 696d 6974 5f64 6f77 6e2c 0a20 2020 2020  imit_down,.     
-0001fa40: 2020 2020 2020 2027 6261 6e64 7769 6474         'bandwidt
-0001fa50: 685f 6c69 6d69 745f 7065 7275 7365 725f  h_limit_peruser_
-0001fa60: 7570 273a 2062 616e 6477 6964 7468 5f6c  up': bandwidth_l
-0001fa70: 696d 6974 5f70 6572 7573 6572 5f75 702c  imit_peruser_up,
-0001fa80: 0a20 2020 2020 2020 2020 2020 2027 6261  .            'ba
-0001fa90: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
-0001faa0: 7275 7365 725f 646f 776e 273a 2062 616e  ruser_down': ban
-0001fab0: 6477 6964 7468 5f6c 696d 6974 5f70 6572  dwidth_limit_per
-0001fac0: 7573 6572 5f64 6f77 6e2c 0a20 2020 2020  user_down,.     
-0001fad0: 2020 2020 2020 2027 6163 6365 7373 5f72         'access_r
-0001fae0: 756c 6573 273a 2061 6363 6573 735f 7275  ules': access_ru
-0001faf0: 6c65 730a 2020 2020 2020 2020 7d0a 0a20  les.        }.. 
-0001fb00: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-0001fb10: 6169 7420 7365 6c66 2e70 6174 6368 2875  ait self.patch(u
-0001fb20: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
-0001fb30: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
-0001fb40: 796e 6320 6465 6620 636f 6e66 6967 7572  ync def configur
-0001fb50: 6174 696f 6e5f 7570 6461 7465 5f77 6c61  ation_update_wla
-0001fb60: 6e5f 7632 280a 2020 2020 2020 2020 2020  n_v2(.          
-0001fb70: 2020 7365 6c66 2c20 6772 6f75 705f 6e61    self, group_na
-0001fb80: 6d65 5f6f 725f 6775 6964 3a20 7374 722c  me_or_guid: str,
-0001fb90: 2077 6c61 6e5f 6e61 6d65 3a20 7374 722c   wlan_name: str,
-0001fba0: 0a20 2020 2020 2020 2020 2020 2065 7373  .            ess
-0001fbb0: 6964 3a20 7374 722c 2074 7970 653a 2073  id: str, type: s
-0001fbc0: 7472 2c20 6869 6465 5f73 7369 643a 2062  tr, hide_ssid: b
-0001fbd0: 6f6f 6c2c 2076 6c61 6e3a 2073 7472 2c0a  ool, vlan: str,.
-0001fbe0: 2020 2020 2020 2020 2020 2020 7a6f 6e65              zone
-0001fbf0: 3a20 7374 722c 2077 7061 5f70 6173 7370  : str, wpa_passp
-0001fc00: 6872 6173 653a 2073 7472 2c0a 2020 2020  hrase: str,.    
-0001fc10: 2020 2020 2020 2020 7770 615f 7061 7373          wpa_pass
-0001fc20: 7068 7261 7365 5f63 6861 6e67 6564 3a20  phrase_changed: 
-0001fc30: 626f 6f6c 2c20 6973 5f6c 6f63 6b65 643a  bool, is_locked:
-0001fc40: 2062 6f6f 6c2c 0a20 2020 2020 2020 2020   bool,.         
-0001fc50: 2020 2063 6170 7469 7665 5f70 726f 6669     captive_profi
-0001fc60: 6c65 5f6e 616d 653a 2073 7472 2c20 6261  le_name: str, ba
-0001fc70: 6e64 7769 6474 685f 6c69 6d69 745f 7570  ndwidth_limit_up
-0001fc80: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
-0001fc90: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
-0001fca0: 6974 5f64 6f77 6e3a 2073 7472 2c0a 2020  it_down: str,.  
-0001fcb0: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
-0001fcc0: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
-0001fcd0: 725f 7570 3a20 7374 722c 0a20 2020 2020  r_up: str,.     
-0001fce0: 2020 2020 2020 2062 616e 6477 6964 7468         bandwidth
-0001fcf0: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
-0001fd00: 6f77 6e3a 2073 7472 2c20 6163 6365 7373  own: str, access
-0001fd10: 5f72 756c 6573 3a20 6c69 7374 0a20 2020  _rules: list.   
-0001fd20: 2020 2020 2029 202d 3e20 5265 7370 6f6e       ) -> Respon
-0001fd30: 7365 3a0a 2020 2020 2020 2020 2222 2255  se:.        """U
-0001fd40: 7064 6174 6520 616e 2065 7869 7374 696e  pdate an existin
-0001fd50: 6720 574c 414e 2e0a 0a20 2020 2020 2020  g WLAN...       
-0001fd60: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-0001fd70: 2020 2067 726f 7570 5f6e 616d 655f 6f72     group_name_or
-0001fd80: 5f67 7569 6420 2873 7472 293a 2047 726f  _guid (str): Gro
-0001fd90: 7570 206e 616d 6520 6f66 2074 6865 2067  up name of the g
-0001fda0: 726f 7570 206f 7220 6775 6964 206f 6620  roup or guid of 
-0001fdb0: 7468 6520 7377 6172 6d2e 0a20 2020 2020  the swarm..     
-0001fdc0: 2020 2020 2020 2020 2020 2045 7861 6d70             Examp
-0001fdd0: 6c65 3a47 726f 7570 5f31 206f 7220 3661  le:Group_1 or 6a
-0001fde0: 3564 3132 3362 3031 6639 3434 3138 3036  5d123b01f9441806
-0001fdf0: 3234 3465 6136 6530 3233 6661 6235 3834  244ea6e023fab584
-0001fe00: 3162 3737 6338 3238 6130 3835 6630 3466  1b77c828a085f04f
-0001fe10: 2e0a 2020 2020 2020 2020 2020 2020 776c  ..            wl
-0001fe20: 616e 5f6e 616d 6520 2873 7472 293a 204e  an_name (str): N
-0001fe30: 616d 6520 6f66 2057 4c41 4e20 7365 6c65  ame of WLAN sele
-0001fe40: 6374 6564 2e20 2020 2020 2020 2020 2020  cted.           
-0001fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fe60: 2020 2045 7861 6d70 6c65 3a77 6c61 6e5f     Example:wlan_
-0001fe70: 312e 0a20 2020 2020 2020 2020 2020 2065  1..            e
-0001fe80: 7373 6964 2028 7374 7229 3a20 6573 7369  ssid (str): essi
-0001fe90: 640a 2020 2020 2020 2020 2020 2020 7479  d.            ty
-0001fea0: 7065 2028 7374 7229 3a20 7479 7065 2020  pe (str): type  
-0001feb0: 5661 6c69 6420 5661 6c75 6573 3a20 656d  Valid Values: em
-0001fec0: 706c 6f79 6565 2c20 6775 6573 740a 2020  ployee, guest.  
-0001fed0: 2020 2020 2020 2020 2020 6869 6465 5f73            hide_s
-0001fee0: 7369 6420 2862 6f6f 6c29 3a20 6869 6465  sid (bool): hide
-0001fef0: 5f73 7369 640a 2020 2020 2020 2020 2020  _ssid.          
-0001ff00: 2020 766c 616e 2028 7374 7229 3a20 766c    vlan (str): vl
-0001ff10: 616e 0a20 2020 2020 2020 2020 2020 207a  an.            z
-0001ff20: 6f6e 6520 2873 7472 293a 207a 6f6e 650a  one (str): zone.
-0001ff30: 2020 2020 2020 2020 2020 2020 7770 615f              wpa_
-0001ff40: 7061 7373 7068 7261 7365 2028 7374 7229  passphrase (str)
-0001ff50: 3a20 7770 615f 7061 7373 7068 7261 7365  : wpa_passphrase
-0001ff60: 0a20 2020 2020 2020 2020 2020 2077 7061  .            wpa
-0001ff70: 5f70 6173 7370 6872 6173 655f 6368 616e  _passphrase_chan
-0001ff80: 6765 6420 2862 6f6f 6c29 3a20 7770 615f  ged (bool): wpa_
-0001ff90: 7061 7373 7068 7261 7365 5f63 6861 6e67  passphrase_chang
-0001ffa0: 6564 0a20 2020 2020 2020 2020 2020 2069  ed.            i
-0001ffb0: 735f 6c6f 636b 6564 2028 626f 6f6c 293a  s_locked (bool):
-0001ffc0: 2069 735f 6c6f 636b 6564 0a20 2020 2020   is_locked.     
-0001ffd0: 2020 2020 2020 2063 6170 7469 7665 5f70         captive_p
-0001ffe0: 726f 6669 6c65 5f6e 616d 6520 2873 7472  rofile_name (str
-0001fff0: 293a 2063 6170 7469 7665 5f70 726f 6669  ): captive_profi
-00020000: 6c65 5f6e 616d 650a 2020 2020 2020 2020  le_name.        
-00020010: 2020 2020 6261 6e64 7769 6474 685f 6c69      bandwidth_li
-00020020: 6d69 745f 7570 2028 7374 7229 3a20 6261  mit_up (str): ba
-00020030: 6e64 7769 6474 685f 6c69 6d69 745f 7570  ndwidth_limit_up
-00020040: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
-00020050: 6477 6964 7468 5f6c 696d 6974 5f64 6f77  dwidth_limit_dow
-00020060: 6e20 2873 7472 293a 2062 616e 6477 6964  n (str): bandwid
-00020070: 7468 5f6c 696d 6974 5f64 6f77 6e0a 2020  th_limit_down.  
-00020080: 2020 2020 2020 2020 2020 6261 6e64 7769            bandwi
-00020090: 6474 685f 6c69 6d69 745f 7065 7275 7365  dth_limit_peruse
-000200a0: 725f 7570 2028 7374 7229 3a20 6261 6e64  r_up (str): band
-000200b0: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
-000200c0: 7365 725f 7570 0a20 2020 2020 2020 2020  ser_up.         
-000200d0: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
-000200e0: 6974 5f70 6572 7573 6572 5f64 6f77 6e20  it_peruser_down 
-000200f0: 2873 7472 293a 2062 616e 6477 6964 7468  (str): bandwidth
-00020100: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
-00020110: 6f77 6e0a 2020 2020 2020 2020 2020 2020  own.            
-00020120: 6163 6365 7373 5f72 756c 6573 2028 6c69  access_rules (li
-00020130: 7374 293a 2061 6363 6573 735f 7275 6c65  st): access_rule
-00020140: 730a 0a20 2020 2020 2020 2052 6574 7572  s..        Retur
-00020150: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00020160: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00020170: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00020180: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00020190: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
-000201a0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
-000201b0: 7632 2f77 6c61 6e2f 7b67 726f 7570 5f6e  v2/wlan/{group_n
-000201c0: 616d 655f 6f72 5f67 7569 647d 2f7b 776c  ame_or_guid}/{wl
-000201d0: 616e 5f6e 616d 657d 220a 0a20 2020 2020  an_name}"..     
-000201e0: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
-000201f0: 0a20 2020 2020 2020 2020 2020 2027 6573  .            'es
-00020200: 7369 6427 3a20 6573 7369 642c 0a20 2020  sid': essid,.   
-00020210: 2020 2020 2020 2020 2027 7479 7065 273a           'type':
-00020220: 2074 7970 652c 0a20 2020 2020 2020 2020   type,.         
-00020230: 2020 2027 6869 6465 5f73 7369 6427 3a20     'hide_ssid': 
-00020240: 6869 6465 5f73 7369 642c 0a20 2020 2020  hide_ssid,.     
-00020250: 2020 2020 2020 2027 766c 616e 273a 2076         'vlan': v
-00020260: 6c61 6e2c 0a20 2020 2020 2020 2020 2020  lan,.           
-00020270: 2027 7a6f 6e65 273a 207a 6f6e 652c 0a20   'zone': zone,. 
-00020280: 2020 2020 2020 2020 2020 2027 7770 615f             'wpa_
-00020290: 7061 7373 7068 7261 7365 273a 2077 7061  passphrase': wpa
-000202a0: 5f70 6173 7370 6872 6173 652c 0a20 2020  _passphrase,.   
-000202b0: 2020 2020 2020 2020 2027 7770 615f 7061           'wpa_pa
-000202c0: 7373 7068 7261 7365 5f63 6861 6e67 6564  ssphrase_changed
-000202d0: 273a 2077 7061 5f70 6173 7370 6872 6173  ': wpa_passphras
-000202e0: 655f 6368 616e 6765 642c 0a20 2020 2020  e_changed,.     
-000202f0: 2020 2020 2020 2027 6973 5f6c 6f63 6b65         'is_locke
-00020300: 6427 3a20 6973 5f6c 6f63 6b65 642c 0a20  d': is_locked,. 
-00020310: 2020 2020 2020 2020 2020 2027 6361 7074             'capt
-00020320: 6976 655f 7072 6f66 696c 655f 6e61 6d65  ive_profile_name
-00020330: 273a 2063 6170 7469 7665 5f70 726f 6669  ': captive_profi
-00020340: 6c65 5f6e 616d 652c 0a20 2020 2020 2020  le_name,.       
-00020350: 2020 2020 2027 6261 6e64 7769 6474 685f       'bandwidth_
-00020360: 6c69 6d69 745f 7570 273a 2062 616e 6477  limit_up': bandw
-00020370: 6964 7468 5f6c 696d 6974 5f75 702c 0a20  idth_limit_up,. 
-00020380: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
-00020390: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
-000203a0: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
-000203b0: 6974 5f64 6f77 6e2c 0a20 2020 2020 2020  it_down,.       
-000203c0: 2020 2020 2027 6261 6e64 7769 6474 685f       'bandwidth_
-000203d0: 6c69 6d69 745f 7065 7275 7365 725f 7570  limit_peruser_up
-000203e0: 273a 2062 616e 6477 6964 7468 5f6c 696d  ': bandwidth_lim
-000203f0: 6974 5f70 6572 7573 6572 5f75 702c 0a20  it_peruser_up,. 
-00020400: 2020 2020 2020 2020 2020 2027 6261 6e64             'band
-00020410: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
-00020420: 7365 725f 646f 776e 273a 2062 616e 6477  ser_down': bandw
-00020430: 6964 7468 5f6c 696d 6974 5f70 6572 7573  idth_limit_perus
-00020440: 6572 5f64 6f77 6e2c 0a20 2020 2020 2020  er_down,.       
-00020450: 2020 2020 2027 6163 6365 7373 5f72 756c       'access_rul
-00020460: 6573 273a 2061 6363 6573 735f 7275 6c65  es': access_rule
-00020470: 730a 2020 2020 2020 2020 7d0a 0a20 2020  s.        }..   
-00020480: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00020490: 7420 7365 6c66 2e70 7574 2875 726c 2c20  t self.put(url, 
-000204a0: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-000204b0: 6174 6129 0a0a 2020 2020 2320 544f 444f  ata)..    # TODO
-000204c0: 2063 6861 6e67 7465 2074 6f20 7573 6520   changte to use 
-000204d0: 636f 6e73 6973 7465 6e74 2064 6576 2074  consistent dev t
-000204e0: 7065 2061 7020 6777 2063 7820 7377 0a20  pe ap gw cx sw. 
-000204f0: 2020 2023 2063 6f6e 7665 7274 2074 6f20     # convert to 
-00020500: 7468 6520 7374 7566 6620 6170 6967 7720  the stuff apigw 
-00020510: 7761 6e74 7320 696e 7369 6465 206d 6574  wants inside met
-00020520: 686f 640a 2020 2020 2320 4150 492d 464c  hod.    # API-FL
-00020530: 4157 206e 6f20 4150 4920 746f 2075 7067  AW no API to upg
-00020540: 7261 6465 2063 6c75 7374 6572 0a20 2020  rade cluster.   
-00020550: 2023 2068 7474 7073 3a2f 2f69 6e74 6572   # https://inter
-00020560: 6e61 6c2d 7569 2e63 656e 7472 616c 2e61  nal-ui.central.a
-00020570: 7275 6261 6e65 7477 6f72 6b73 2e63 6f6d  rubanetworks.com
-00020580: 2f66 6972 6d77 6172 652f 636f 6e74 726f  /firmware/contro
-00020590: 6c6c 6572 2f63 6c75 7374 6572 732f 7570  ller/clusters/up
-000205a0: 6772 6164 6520 6973 2077 6861 7420 7468  grade is what th
-000205b0: 6520 5549 2063 616c 6c73 2077 6865 6e20  e UI calls when 
-000205c0: 796f 7520 7570 6772 6164 6520 7669 6120  you upgrade via 
-000205d0: 5549 0a20 2020 2023 2070 6179 6c6f 6164  UI.    # payload
-000205e0: 3a20 7b22 7265 626f 6f74 223a 7472 7565  : {"reboot":true
-000205f0: 2c22 6669 726d 7761 7265 5f76 6572 7369  ,"firmware_versi
-00020600: 6f6e 223a 2231 302e 352e 302e 302d 6265  on":"10.5.0.0-be
-00020610: 7461 5f38 3730 3436 222c 2264 6576 6963  ta_87046","devic
-00020620: 6573 223a 5b5d 2c22 636c 7573 7465 7273  es":[],"clusters
-00020630: 223a 5b37 325d 2c22 7768 656e 223a 302c  ":[72],"when":0,
-00020640: 2274 696d 657a 6f6e 6522 3a22 2b30 303a  "timezone":"+00:
-00020650: 3030 222c 2270 6172 7469 7469 6f6e 223a  00","partition":
-00020660: 2270 7269 6d61 7279 227d 0a20 2020 2023  "primary"}.    #
-00020670: 2064 6576 6963 655f 7479 7065 2043 5820   device_type CX 
-00020680: 6973 206e 6f74 2076 616c 6964 0a20 2020  is not valid.   
-00020690: 2061 7379 6e63 2064 6566 2075 7067 7261   async def upgra
-000206a0: 6465 5f66 6972 6d77 6172 6528 0a20 2020  de_firmware(.   
-000206b0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-000206c0: 2020 2073 6368 6564 756c 6564 5f61 743a     scheduled_at:
-000206d0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-000206e0: 2020 2020 2073 7761 726d 5f69 643a 2073       swarm_id: s
-000206f0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-00020700: 2020 2073 6572 6961 6c3a 2073 7472 203d     serial: str =
-00020710: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
-00020720: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
-00020730: 2c0a 2020 2020 2020 2020 6465 7669 6365  ,.        device
-00020740: 5f74 7970 653a 204c 6974 6572 616c 5b22  _type: Literal["
-00020750: 4941 5022 2c20 224d 4153 222c 2022 4850  IAP", "MAS", "HP
-00020760: 222c 2022 434f 4e54 524f 4c4c 4552 225d  ", "CONTROLLER"]
-00020770: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00020780: 2066 6972 6d77 6172 655f 7665 7273 696f   firmware_versio
-00020790: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
-000207a0: 2020 2020 2020 206d 6f64 656c 3a20 7374         model: st
-000207b0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-000207c0: 2020 7265 626f 6f74 3a20 626f 6f6c 203d    reboot: bool =
-000207d0: 2046 616c 7365 2c0a 2020 2020 2920 2d3e   False,.    ) ->
-000207e0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-000207f0: 2020 2022 2222 496e 6974 6961 7465 2066     """Initiate f
-00020800: 6972 6d77 6172 6520 7570 6772 6164 6520  irmware upgrade 
-00020810: 6f6e 2064 6576 6963 6528 7329 2e0a 0a20  on device(s)... 
-00020820: 2020 2020 2020 2059 6f75 2063 616e 206f         You can o
-00020830: 6e6c 7920 7370 6563 6966 7920 6f6e 6520  nly specify one 
-00020840: 6f66 2064 6576 6963 655f 7479 7065 2c20  of device_type, 
-00020850: 7377 6172 6d5f 6964 206f 7220 7365 7269  swarm_id or seri
-00020860: 616c 2070 6172 616d 6574 6572 730a 0a20  al parameters.. 
-00020870: 2020 2020 2020 202f 2f20 5573 6564 2062         // Used b
-00020880: 7920 7570 6772 6164 6520 5b64 6576 6963  y upgrade [devic
-00020890: 657c 6772 6f75 707c 7377 6172 6d5d 202f  e|group|swarm] /
-000208a0: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
-000208b0: 0a20 2020 2020 2020 2020 2020 2073 6368  .            sch
-000208c0: 6564 756c 6564 5f61 7420 2869 6e74 2c20  eduled_at (int, 
-000208d0: 6f70 7469 6f6e 616c 293a 2057 6865 6e20  optional): When 
-000208e0: 746f 2073 6368 6564 756c 6520 7570 6772  to schedule upgr
-000208f0: 6164 6520 2865 706f 6368 2073 6563 6f6e  ade (epoch secon
-00020900: 6473 292e 2044 6566 6175 6c74 7320 746f  ds). Defaults to
-00020910: 204e 6f6e 6520 284e 6f77 292e 0a20 2020   None (Now)..   
-00020920: 2020 2020 2020 2020 2073 7761 726d 5f69           swarm_i
-00020930: 6420 2873 7472 2c20 6f70 7469 6f6e 616c  d (str, optional
-00020940: 293a 2055 7067 7261 6465 2061 2073 7065  ): Upgrade a spe
-00020950: 6369 6669 6320 7377 6172 6d20 6279 2069  cific swarm by i
-00020960: 642e 2044 6566 6175 6c74 7320 746f 204e  d. Defaults to N
-00020970: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
-00020980: 2073 6572 6961 6c20 2873 7472 2c20 6f70   serial (str, op
-00020990: 7469 6f6e 616c 293a 2055 7067 7261 6465  tional): Upgrade
-000209a0: 2061 2073 7065 6369 6669 6320 6465 7669   a specific devi
-000209b0: 6365 2062 7920 7365 7269 616c 2e20 4465  ce by serial. De
-000209c0: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
-000209d0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-000209e0: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
-000209f0: 293a 2055 7067 7261 6465 2064 6576 6963  ): Upgrade devic
-00020a00: 6573 2062 656c 6f6e 6769 6e67 2074 6f20  es belonging to 
-00020a10: 6772 6f75 702e 2044 6566 6175 6c74 7320  group. Defaults 
-00020a20: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
-00020a30: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
-00020a40: 2028 7374 725b 2249 4150 227c 224d 4153   (str["IAP"|"MAS
-00020a50: 227c 2248 5022 7c22 434f 4e54 524f 4c4c  "|"HP"|"CONTROLL
-00020a60: 4552 225d 293a 2054 7970 6520 6f66 2064  ER"]): Type of d
-00020a70: 6576 6963 6520 746f 2075 7067 7261 6465  evice to upgrade
-00020a80: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
-00020a90: 6e65 2e0a 2020 2020 2020 2020 2020 2020  ne..            
-00020aa0: 6669 726d 7761 7265 5f76 6572 7369 6f6e  firmware_version
-00020ab0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-00020ac0: 3a20 5665 7273 696f 6e20 746f 2075 7067  : Version to upg
-00020ad0: 7261 6465 2074 6f2e 2044 6566 6175 6c74  rade to. Default
-00020ae0: 7320 746f 204e 6f6e 6528 7265 636f 6d6d  s to None(recomm
-00020af0: 656e 6465 6420 7665 7273 696f 6e29 2e0a  ended version)..
-00020b00: 2020 2020 2020 2020 2020 2020 6d6f 6465              mode
-00020b10: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-00020b20: 293a 2054 6f20 696e 6974 6961 7465 2075  ): To initiate u
-00020b30: 7067 7261 6465 2061 7420 6772 6f75 7020  pgrade at group 
-00020b40: 6c65 7665 6c20 666f 7220 7370 6563 6966  level for specif
-00020b50: 6963 206d 6f64 656c 2066 616d 696c 792e  ic model family.
-00020b60: 2041 7070 6c69 6361 626c 650a 2020 2020   Applicable.    
-00020b70: 2020 2020 2020 2020 2020 2020 6f6e 6c79              only
-00020b80: 2066 6f72 2041 7275 6261 2073 7769 7463   for Aruba switc
-00020b90: 6865 732e 2044 6566 6175 6c74 7320 746f  hes. Defaults to
-00020ba0: 204e 6f6e 652e 0a20 2020 2020 2020 2020   None..         
-00020bb0: 2020 2072 6562 6f6f 7420 2862 6f6f 6c2c     reboot (bool,
-00020bc0: 206f 7074 696f 6e61 6c29 3a20 4175 746f   optional): Auto
-00020bd0: 6d61 7469 6361 6c6c 7920 7265 626f 6f74  matically reboot
-00020be0: 2064 6576 6963 6520 6166 7465 7220 6669   device after fi
-00020bf0: 726d 7761 7265 2064 6f77 6e6c 6f61 642e  rmware download.
-00020c00: 2044 6566 6175 6c74 7320 746f 2046 616c   Defaults to Fal
-00020c10: 7365 2e0a 0a20 2020 2020 2020 2052 6574  se...        Ret
-00020c20: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-00020c30: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-00020c40: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-00020c50: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-00020c60: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-00020c70: 2022 2f66 6972 6d77 6172 652f 7631 2f75   "/firmware/v1/u
-00020c80: 7067 7261 6465 220a 0a20 2020 2020 2020  pgrade"..       
-00020c90: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
-00020ca0: 2020 2020 2020 2020 2020 2027 6669 726d             'firm
-00020cb0: 7761 7265 5f73 6368 6564 756c 6564 5f61  ware_scheduled_a
-00020cc0: 7427 3a20 7363 6865 6475 6c65 645f 6174  t': scheduled_at
-00020cd0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-00020ce0: 7761 726d 5f69 6427 3a20 7377 6172 6d5f  warm_id': swarm_
-00020cf0: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
-00020d00: 2773 6572 6961 6c27 3a20 7365 7269 616c  'serial': serial
-00020d10: 2c0a 2020 2020 2020 2020 2020 2020 2767  ,.            'g
-00020d20: 726f 7570 273a 2067 726f 7570 2c0a 2020  roup': group,.  
-00020d30: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
-00020d40: 655f 7479 7065 273a 2064 6576 6963 655f  e_type': device_
-00020d50: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
-00020d60: 2020 2766 6972 6d77 6172 655f 7665 7273    'firmware_vers
-00020d70: 696f 6e27 3a20 6669 726d 7761 7265 5f76  ion': firmware_v
-00020d80: 6572 7369 6f6e 2c0a 2020 2020 2020 2020  ersion,.        
-00020d90: 2020 2020 2772 6562 6f6f 7427 3a20 7265      'reboot': re
-00020da0: 626f 6f74 2c0a 2020 2020 2020 2020 2020  boot,.          
-00020db0: 2020 276d 6f64 656c 273a 206d 6f64 656c    'model': model
-00020dc0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00020dd0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00020de0: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-00020df0: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-00020e00: 6174 6129 0a0a 2020 2020 2320 4150 492d  ata)..    # API-
-00020e10: 464c 4157 206f 6e6c 7920 6163 6365 7074  FLAW only accept
-00020e20: 7320 7377 6172 6d20 6964 2066 6f72 2049  s swarm id for I
-00020e30: 4150 2c20 414f 5331 3020 7368 6f77 2061  AP, AOS10 show a
-00020e40: 7320 4941 5020 6275 7420 6e6f 2073 7761  s IAP but no swa
-00020e50: 726d 2069 642e 2020 7365 7269 616c 2069  rm id.  serial i
-00020e60: 7320 7265 6a65 6374 6564 2e0a 2020 2020  s rejected..    
-00020e70: 2320 4358 2077 696c 6c20 7265 7475 726e  # CX will return
-00020e80: 2072 6573 7020 6c69 6b65 2069 7420 776f   resp like it wo
-00020e90: 726b 732c 2062 7574 206e 6f74 6869 6e67  rks, but nothing
-00020ea0: 2065 7665 7220 6861 7070 656e 730a 2020   ever happens.  
-00020eb0: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
-00020ec0: 7570 6772 6164 655f 7374 6174 7573 2873  upgrade_status(s
-00020ed0: 656c 662c 2073 7761 726d 5f69 643a 2073  elf, swarm_id: s
-00020ee0: 7472 203d 204e 6f6e 652c 2073 6572 6961  tr = None, seria
-00020ef0: 6c3a 2073 7472 203d 204e 6f6e 6529 202d  l: str = None) -
-00020f00: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00020f10: 2020 2020 2222 2247 6574 2066 6972 6d77      """Get firmw
-00020f20: 6172 6520 7570 6772 6164 6520 7374 6174  are upgrade stat
-00020f30: 7573 2e0a 0a20 2020 2020 2020 202f 2f20  us...        // 
-00020f40: 5573 6564 2062 7920 7368 6f77 2075 7067  Used by show upg
-00020f50: 7261 6465 205b 6465 7669 6365 2d69 6465  rade [device-ide
-00020f60: 6e5d 202f 2f0a 0a20 2020 2020 2020 2041  n] //..        A
-00020f70: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00020f80: 2073 7761 726d 5f69 6420 2873 7472 2c20   swarm_id (str, 
-00020f90: 6f70 7469 6f6e 616c 293a 2053 7761 726d  optional): Swarm
-00020fa0: 2049 440a 2020 2020 2020 2020 2020 2020   ID.            
-00020fb0: 7365 7269 616c 2028 7374 722c 206f 7074  serial (str, opt
-00020fc0: 696f 6e61 6c29 3a20 5365 7269 616c 206f  ional): Serial o
-00020fd0: 6620 6465 7669 6365 0a0a 2020 2020 2020  f device..      
-00020fe0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00020ff0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00021000: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00021010: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00021020: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00021030: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
-00021040: 2f76 312f 7374 6174 7573 220a 0a20 2020  /v1/status"..   
-00021050: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-00021060: 2020 2020 2020 2020 2020 2020 2273 7761              "swa
-00021070: 726d 5f69 6422 3a20 7377 6172 6d5f 6964  rm_id": swarm_id
-00021080: 2c0a 2020 2020 2020 2020 2020 2020 2273  ,.            "s
-00021090: 6572 6961 6c22 3a20 7365 7269 616c 0a20  erial": serial. 
-000210a0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
-000210b0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
-000210c0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
-000210d0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
-000210e0: 2044 6576 5479 7065 203d 204c 6974 6572   DevType = Liter
-000210f0: 616c 5b22 4941 5022 2c20 2248 5022 2c20  al["IAP", "HP", 
-00021100: 2243 4f4e 5452 4f4c 4c45 5222 5d0a 0a20  "CONTROLLER"].. 
-00021110: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-00021120: 5f66 6972 6d77 6172 655f 636f 6d70 6c69  _firmware_compli
-00021130: 616e 6365 2873 656c 662c 2064 6576 6963  ance(self, devic
-00021140: 655f 7479 7065 3a20 4465 7654 7970 652c  e_type: DevType,
-00021150: 2067 726f 7570 3a20 7374 7220 3d20 4e6f   group: str = No
-00021160: 6e65 2920 2d3e 2052 6573 706f 6e73 653a  ne) -> Response:
-00021170: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-00021180: 4669 726d 7761 7265 2043 6f6d 706c 6961  Firmware Complia
-00021190: 6e63 6520 5665 7273 696f 6e2e 0a0a 2020  nce Version...  
-000211a0: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
-000211b0: 2073 686f 7720 6669 726d 7761 7265 2063   show firmware c
-000211c0: 6f6d 706c 6961 6e63 6520 5b61 707c 6777  ompliance [ap|gw
-000211d0: 7c73 775d 205b 6772 6f75 702d 6e61 6d65  |sw] [group-name
-000211e0: 5d20 2f2f 0a0a 2020 2020 2020 2020 4172  ] //..        Ar
-000211f0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00021200: 6465 7669 6365 5f74 7970 6520 2873 7472  device_type (str
-00021210: 293a 2053 7065 6369 6679 206f 6e65 206f  ): Specify one o
-00021220: 6620 2249 4150 2f4d 4153 2f48 502f 434f  f "IAP/MAS/HP/CO
-00021230: 4e54 524f 4c4c 4552 220a 2020 2020 2020  NTROLLER".      
-00021240: 2020 2020 2020 6772 6f75 7020 2873 7472        group (str
-00021250: 2c20 6f70 7469 6f6e 616c 293a 2047 726f  , optional): Gro
-00021260: 7570 206e 616d 652e 2044 6566 6175 6c74  up name. Default
-00021270: 7320 746f 204e 6f6e 6520 2847 6c6f 6261  s to None (Globa
-00021280: 6c20 436f 6d70 6c69 616e 6365 290a 0a20  l Compliance).. 
-00021290: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-000212a0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-000212b0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-000212c0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-000212d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000212e0: 2020 2020 2023 2041 5049 206d 6574 686f       # API metho
-000212f0: 6420 7265 7475 726e 7320 3430 3420 6966  d returns 404 if
-00021300: 2063 6f6d 706c 6961 6e63 6520 6973 206e   compliance is n
-00021310: 6f74 2073 6574 210a 2020 2020 2020 2020  ot set!.        
-00021320: 7572 6c20 3d20 222f 6669 726d 7761 7265  url = "/firmware
-00021330: 2f76 312f 7570 6772 6164 652f 636f 6d70  /v1/upgrade/comp
-00021340: 6c69 616e 6365 5f76 6572 7369 6f6e 220a  liance_version".
-00021350: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00021360: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00021370: 2764 6576 6963 655f 7479 7065 273a 2064  'device_type': d
-00021380: 6576 6963 655f 7479 7065 2c0a 2020 2020  evice_type,.    
-00021390: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
-000213a0: 2067 726f 7570 0a20 2020 2020 2020 207d   group.        }
-000213b0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-000213c0: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-000213d0: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-000213e0: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-000213f0: 6566 2064 656c 6574 655f 6669 726d 7761  ef delete_firmwa
-00021400: 7265 5f63 6f6d 706c 6961 6e63 6528 7365  re_compliance(se
-00021410: 6c66 2c20 6465 7669 6365 5f74 7970 653a  lf, device_type:
-00021420: 2073 7472 2c20 6772 6f75 703a 2073 7472   str, group: str
-00021430: 203d 204e 6f6e 6529 202d 3e20 5265 7370   = None) -> Resp
-00021440: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00021450: 2243 6c65 6172 2046 6972 6d77 6172 6520  "Clear Firmware 
-00021460: 436f 6d70 6c69 616e 6365 2056 6572 7369  Compliance Versi
-00021470: 6f6e 2e0a 0a20 2020 2020 2020 202f 2f20  on...        // 
-00021480: 5573 6564 2062 7920 6465 6c65 7465 2066  Used by delete f
-00021490: 6972 6d77 6172 6520 636f 6d70 6c69 616e  irmware complian
-000214a0: 6365 205b 6170 7c67 777c 7377 6974 6368  ce [ap|gw|switch
-000214b0: 5d20 5b67 726f 7570 5d20 2f2f 0a0a 2020  ] [group] //..  
-000214c0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-000214d0: 2020 2020 2020 2020 6465 7669 6365 5f74          device_t
-000214e0: 7970 6520 2873 7472 293a 2053 7065 6369  ype (str): Speci
-000214f0: 6679 206f 6e65 206f 6620 2249 4150 2f4d  fy one of "IAP/M
-00021500: 4153 2f48 502f 434f 4e54 524f 4c4c 4552  AS/HP/CONTROLLER
-00021510: 220a 2020 2020 2020 2020 2020 2020 6772  ".            gr
-00021520: 6f75 7020 2873 7472 2c20 6f70 7469 6f6e  oup (str, option
-00021530: 616c 293a 2047 726f 7570 206e 616d 652e  al): Group name.
-00021540: 2044 6566 6175 6c74 7320 746f 204e 6f6e   Defaults to Non
-00021550: 6520 2847 6c6f 6261 6c20 436f 6d70 6c69  e (Global Compli
-00021560: 616e 6365 290a 0a20 2020 2020 2020 2052  ance)..        R
-00021570: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00021580: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00021590: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-000215a0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-000215b0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-000215c0: 203d 2022 2f66 6972 6d77 6172 652f 7631   = "/firmware/v1
-000215d0: 2f75 7067 7261 6465 2f63 6f6d 706c 6961  /upgrade/complia
-000215e0: 6e63 655f 7665 7273 696f 6e22 0a0a 2020  nce_version"..  
-000215f0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-00021600: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
-00021610: 7669 6365 5f74 7970 6527 3a20 6465 7669  vice_type': devi
-00021620: 6365 5f74 7970 652c 0a20 2020 2020 2020  ce_type,.       
-00021630: 2020 2020 2027 6772 6f75 7027 3a20 6772       'group': gr
-00021640: 6f75 700a 2020 2020 2020 2020 7d0a 0a20  oup.        }.. 
-00021650: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00021660: 6169 7420 7365 6c66 2e64 656c 6574 6528  ait self.delete(
-00021670: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-00021680: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-00021690: 6566 206d 6f76 655f 6465 7669 6365 735f  ef move_devices_
-000216a0: 746f 5f67 726f 7570 280a 2020 2020 2020  to_group(.      
-000216b0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-000216c0: 6772 6f75 703a 2073 7472 2c0a 2020 2020  group: str,.    
-000216d0: 2020 2020 7365 7269 616c 5f6e 756d 733a      serial_nums:
-000216e0: 2055 6e69 6f6e 5b73 7472 2c20 4c69 7374   Union[str, List
-000216f0: 5b73 7472 5d5d 2c0a 2020 2020 2020 2020  [str]],.        
-00021700: 2a2c 0a20 2020 2020 2020 2063 785f 7265  *,.        cx_re
-00021710: 7461 696e 5f63 6f6e 6669 673a 2062 6f6f  tain_config: boo
-00021720: 6c20 3d20 5472 7565 2c20 2023 2054 4f44  l = True,  # TOD
-00021730: 4f20 6361 6e20 7765 2073 656e 6420 7468  O can we send th
-00021740: 6973 2061 7474 7269 6275 7465 2065 7665  is attribute eve
-00021750: 6e20 6966 2069 7427 7320 6e6f 7420 4358  n if it's not CX
-00021760: 2c20 7769 6c6c 2069 7420 6967 6e6f 7265  , will it ignore
-00021770: 206f 7220 6572 726f 720a 2020 2020 2920   or error.    ) 
-00021780: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00021790: 2020 2020 2022 2222 4d6f 7665 2064 6576       """Move dev
-000217a0: 6963 6573 2074 6f20 6120 6772 6f75 702e  ices to a group.
-000217b0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-000217c0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-000217d0: 7020 2873 7472 293a 2047 726f 7570 204e  p (str): Group N
-000217e0: 616d 6520 746f 206d 6f76 6520 6465 7669  ame to move devi
-000217f0: 6365 2074 6f2e 0a20 2020 2020 2020 2020  ce to..         
-00021800: 2020 2073 6572 6961 6c73 2028 4c69 7374     serials (List
-00021810: 5b73 7472 5d29 3a20 5365 7269 616c 206e  [str]): Serial n
-00021820: 756d 6265 7273 206f 6620 6465 7669 6365  umbers of device
-00021830: 7320 746f 2062 6520 6164 6465 6420 746f  s to be added to
-00021840: 2067 726f 7570 2e0a 0a20 2020 2020 2020   group...       
-00021850: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-00021860: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-00021870: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-00021880: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-00021890: 2020 2022 2222 0a20 2020 2020 2020 2023     """.        #
-000218a0: 2041 5049 2d46 4c41 5720 7265 706f 7274   API-FLAW report
-000218b0: 2066 6c61 7765 6420 4150 4920 6d65 7468   flawed API meth
-000218c0: 6f64 0a20 2020 2020 2020 2023 2052 6574  od.        # Ret
-000218d0: 7572 6e73 2035 3030 2073 7461 7475 7320  urns 500 status 
-000218e0: 636f 6465 2077 6865 6e20 7265 7375 6c74  code when result
-000218f0: 2069 7320 6573 7365 6e74 6961 6c6c 7920   is essentially 
-00021900: 7375 6363 6573 730a 2020 2020 2020 2020  success.        
-00021910: 2320 506c 6561 7365 2043 6f6e 6669 726d  # Please Confirm
-00021920: 3a20 6d6f 7665 2041 7275 6261 3930 3034  : move Aruba9004
-00021930: 5f38 315f 4538 5f46 4120 2620 506f 6d6d  _81_E8_FA & Pomm
-00021940: 6f72 6547 5731 2074 6f20 6772 6f75 7020  oreGW1 to group 
-00021950: 574c 4e45 543f 205b 792f 4e5d 3a20 790a  WLNET? [y/N]: y.
-00021960: 2020 2020 2020 2020 2320 e29c 9620 5365          # ... Se
-00021970: 6e64 696e 6720 4461 7461 205b 636f 6e66  nding Data [conf
-00021980: 6967 7572 6174 696f 6e2f 7631 2f64 6576  iguration/v1/dev
-00021990: 6963 6573 2f6d 6f76 655d 0a20 2020 2020  ices/move].     
-000219a0: 2020 2023 2073 7461 7475 7320 636f 6465     # status code
-000219b0: 3a20 3530 3020 3c2d 2d20 3530 3020 6f6e  : 500 <-- 500 on
-000219c0: 2073 7563 6365 7373 2e20 2041 7420 6c65   success.  At le
-000219d0: 6173 7420 666f 7220 6777 2077 6f75 6c64  ast for gw would
-000219e0: 206e 6565 6420 746f 2064 6f75 626c 6520   need to double 
-000219f0: 6368 6563 6b20 6f74 6865 7273 2e0a 2020  check others..  
-00021a00: 2020 2020 2020 2320 6465 7363 7269 7074        # descript
-00021a10: 696f 6e3a 0a20 2020 2020 2020 2023 2043  ion:.        # C
-00021a20: 6f6e 7472 6f6c 6c65 722f 4761 7465 7761  ontroller/Gatewa
-00021a30: 7920 6772 6f75 7020 6d6f 7665 2068 6173  y group move has
-00021a40: 2062 6565 6e20 696e 6974 6961 7465 642c   been initiated,
-00021a50: 2070 6c65 6173 6520 6368 6563 6b20 6175   please check au
-00021a60: 6469 7420 7472 6169 6c20 666f 7220 6465  dit trail for de
-00021a70: 7461 696c 730a 2020 2020 2020 2020 2320  tails.        # 
-00021a80: 6572 726f 725f 636f 6465 3a20 3030 3031  error_code: 0001
-00021a90: 0a20 2020 2020 2020 2023 2073 6572 7669  .        # servi
-00021aa0: 6365 5f6e 616d 653a 2043 6f6e 6669 6775  ce_name: Configu
-00021ab0: 7261 7469 6f6e 0a20 2020 2020 2020 2075  ration.        u
-00021ac0: 726c 203d 2022 2f63 6f6e 6669 6775 7261  rl = "/configura
-00021ad0: 7469 6f6e 2f76 312f 6465 7669 6365 732f  tion/v1/devices/
-00021ae0: 6d6f 7665 220a 2020 2020 2020 2020 7365  move".        se
-00021af0: 7269 616c 5f6e 756d 7320 3d20 7574 696c  rial_nums = util
-00021b00: 732e 6c69 7374 6966 7928 7365 7269 616c  s.listify(serial
-00021b10: 5f6e 756d 7329 0a0a 2020 2020 2020 2020  _nums)..        
-00021b20: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-00021b30: 2020 2020 2020 2020 2020 2767 726f 7570            'group
-00021b40: 273a 2067 726f 7570 2c0a 2020 2020 2020  ': group,.      
-00021b50: 2020 2020 2020 2773 6572 6961 6c73 273a        'serials':
-00021b60: 2073 6572 6961 6c5f 6e75 6d73 0a20 2020   serial_nums.   
-00021b70: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00021b80: 6966 2063 785f 7265 7461 696e 5f63 6f6e  if cx_retain_con
-00021b90: 6669 673a 0a20 2020 2020 2020 2020 2020  fig:.           
-00021ba0: 206a 736f 6e5f 6461 7461 5b22 7072 6573   json_data["pres
-00021bb0: 6572 7665 5f63 6f6e 6669 675f 6f76 6572  erve_config_over
-00021bc0: 7269 6465 7322 5d20 3d20 5b22 414f 535f  rides"] = ["AOS_
-00021bd0: 4358 225d 0a0a 2020 2020 2020 2020 7265  CX"]..        re
-00021be0: 7370 203d 2061 7761 6974 2073 656c 662e  sp = await self.
-00021bf0: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
-00021c00: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
-00021c10: 2020 2020 2020 2020 2320 5468 6973 206d          # This m
-00021c20: 6574 686f 6420 7265 7475 726e 7320 7374  ethod returns st
-00021c30: 6174 7573 2035 3030 2077 6974 6820 6d73  atus 500 with ms
-00021c40: 6720 7468 6174 206d 6f76 6520 6973 2069  g that move is i
-00021c50: 6e69 7469 6174 6564 206f 6e20 7375 6363  nitiated on succ
-00021c60: 6573 732e 0a20 2020 2020 2020 2069 6620  ess..        if 
-00021c70: 6e6f 7420 7265 7370 2061 6e64 2072 6573  not resp and res
-00021c80: 702e 7374 6174 7573 203d 3d20 3530 303a  p.status == 500:
-00021c90: 0a20 2020 2020 2020 2020 2020 206d 6174  .            mat
-00021ca0: 6368 5f73 7472 203d 2022 6772 6f75 7020  ch_str = "group 
-00021cb0: 6d6f 7665 2068 6173 2062 6565 6e20 696e  move has been in
-00021cc0: 6974 6961 7465 642c 2070 6c65 6173 6520  itiated, please 
-00021cd0: 6368 6563 6b20 6175 6469 7420 7472 6169  check audit trai
-00021ce0: 6c20 666f 7220 6465 7461 696c 7322 0a20  l for details". 
-00021cf0: 2020 2020 2020 2020 2020 2069 6620 6d61             if ma
-00021d00: 7463 685f 7374 7220 696e 2072 6573 702e  tch_str in resp.
-00021d10: 6f75 7470 7574 2e67 6574 2822 6465 7363  output.get("desc
-00021d20: 7269 7074 696f 6e22 2c20 2222 293a 0a20  ription", ""):. 
-00021d30: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00021d40: 6573 702e 6f6b 203d 2054 7275 650a 0a20  esp.ok = True.. 
-00021d50: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
-00021d60: 7370 0a0a 2020 2020 6173 796e 6320 6465  sp..    async de
-00021d70: 6620 6765 745f 6465 6661 756c 745f 6772  f get_default_gr
-00021d80: 6f75 7028 7365 6c66 2c29 202d 3e20 5265  oup(self,) -> Re
-00021d90: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00021da0: 2222 2247 6574 2064 6566 6175 6c74 2067  """Get default g
-00021db0: 726f 7570 2e0a 0a20 2020 2020 2020 2052  roup...        R
-00021dc0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00021dd0: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00021de0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00021df0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00021e00: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
-00021e10: 203d 2022 2f63 6f6e 6669 6775 7261 7469   = "/configurati
-00021e20: 6f6e 2f76 312f 6772 6f75 7073 2f64 6566  on/v1/groups/def
-00021e30: 6175 6c74 5f67 726f 7570 220a 0a20 2020  ault_group"..   
-00021e40: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00021e50: 7420 7365 6c66 2e67 6574 2875 726c 290a  t self.get(url).
-00021e60: 0a20 2020 2061 7379 6e63 2064 6566 206d  .    async def m
-00021e70: 6f76 655f 6465 7669 6365 735f 746f 5f73  ove_devices_to_s
-00021e80: 6974 6528 0a20 2020 2020 2020 2073 656c  ite(.        sel
-00021e90: 662c 0a20 2020 2020 2020 2073 6974 655f  f,.        site_
-00021ea0: 6964 3a20 696e 742c 0a20 2020 2020 2020  id: int,.       
-00021eb0: 2073 6572 6961 6c5f 6e75 6d73 3a20 556e   serial_nums: Un
-00021ec0: 696f 6e5b 7374 722c 204c 6973 745b 7374  ion[str, List[st
-00021ed0: 725d 5d2c 0a20 2020 2020 2020 2064 6576  r]],.        dev
-00021ee0: 6963 655f 7479 7065 3a20 4c69 7465 7261  ice_type: Litera
-00021ef0: 6c5b 2261 7022 2c20 2263 7822 2c20 2273  l["ap", "cx", "s
-00021f00: 7722 2c20 2273 7769 7463 6822 2c20 2267  w", "switch", "g
-00021f10: 7722 5d2c 0a20 2020 2029 202d 3e20 5265  w"],.    ) -> Re
-00021f20: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00021f30: 2222 2241 7373 6f63 6961 7465 206c 6973  """Associate lis
-00021f40: 7420 6f66 2064 6576 6963 6573 2074 6f20  t of devices to 
-00021f50: 6120 7369 7465 2e0a 0a20 2020 2020 2020  a site...       
-00021f60: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00021f70: 2020 2073 6974 655f 6964 2028 696e 7429     site_id (int)
-00021f80: 3a20 5369 7465 2049 440a 2020 2020 2020  : Site ID.      
-00021f90: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
-00021fa0: 6520 2873 7472 293a 2044 6576 6963 6520  e (str): Device 
-00021fb0: 7479 7065 2e20 5661 6c69 6420 5661 6c75  type. Valid Valu
-00021fc0: 6573 3a20 6170 2c20 6378 2c20 7377 2c20  es: ap, cx, sw, 
-00021fd0: 7377 6974 6368 2c20 6777 0a20 2020 2020  switch, gw.     
-00021fe0: 2020 2020 2020 2020 2020 2063 7820 616e             cx an
-00021ff0: 6420 7377 2061 7265 2074 6865 2073 616d  d sw are the sam
-00022000: 6520 6173 2074 6865 206d 6f72 6520 6765  e as the more ge
-00022010: 6e65 7269 6320 7377 6974 6368 2e0a 2020  neric switch..  
-00022020: 2020 2020 2020 2020 2020 7365 7269 616c            serial
-00022030: 5f6e 756d 7320 284c 6973 745b 7374 725d  _nums (List[str]
-00022040: 293a 204c 6973 7420 6f66 2064 6576 6963  ): List of devic
-00022050: 6520 7365 7269 616c 206e 756d 6265 7273  e serial numbers
-00022060: 206f 6620 7468 6520 6465 7669 6365 7320   of the devices 
-00022070: 746f 2077 6869 6368 2074 6865 2073 6974  to which the sit
-00022080: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00022090: 2020 6861 7320 746f 2062 6520 756e 2f61    has to be un/a
-000220a0: 7373 6f63 6961 7465 6420 7769 7468 2e20  ssociated with. 
-000220b0: 4120 6d61 7869 6d75 6d20 6f66 2035 3030  A maximum of 500
-000220c0: 3020 6465 7669 6365 2073 6572 6961 6c73  0 device serials
-000220d0: 2061 7265 2061 6c6c 6f77 6564 2061 7420   are allowed at 
-000220e0: 6f6e 6365 2e0a 0a20 2020 2020 2020 2052  once...        R
-000220f0: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
-00022100: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
-00022110: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
-00022120: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
-00022130: 2022 2222 0a20 2020 2020 2020 2023 2054   """.        # T
-00022140: 4f44 4f20 6d61 6b65 2064 6576 6963 655f  ODO make device_
-00022150: 7479 7065 7320 636f 6e73 6973 7465 6e74  types consistent
-00022160: 2074 6872 6f75 6768 6f75 740a 2020 2020   throughout.    
-00022170: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
-00022180: 3d20 636f 6e73 7461 6e74 732e 6c69 625f  = constants.lib_
-00022190: 746f 5f61 7069 2822 7369 7465 222c 2064  to_api("site", d
-000221a0: 6576 6963 655f 7479 7065 290a 2020 2020  evice_type).    
-000221b0: 2020 2020 6966 206e 6f74 2064 6576 6963      if not devic
-000221c0: 655f 7479 7065 3a0a 2020 2020 2020 2020  e_type:.        
-000221d0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-000221e0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
-000221f0: 2020 2020 2020 6622 496e 7661 6c69 6420        f"Invalid 
-00022200: 5661 6c75 6520 666f 7220 6465 7669 6365  Value for device
-00022210: 5f74 7970 652e 2020 5375 7070 6f72 7465  _type.  Supporte
-00022220: 6420 5661 6c75 6573 3a20 7b63 6f6e 7374  d Values: {const
-00022230: 616e 7473 2e6c 6962 5f74 6f5f 6170 692e  ants.lib_to_api.
-00022240: 7661 6c69 645f 7374 727d 220a 2020 2020  valid_str}".    
-00022250: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-00022260: 2020 2075 726c 203d 2022 2f63 656e 7472     url = "/centr
-00022270: 616c 2f76 322f 7369 7465 732f 6173 736f  al/v2/sites/asso
-00022280: 6369 6174 696f 6e73 220a 2020 2020 2020  ciations".      
-00022290: 2020 7365 7269 616c 5f6e 756d 7320 3d20    serial_nums = 
-000222a0: 7574 696c 732e 6c69 7374 6966 7928 7365  utils.listify(se
-000222b0: 7269 616c 5f6e 756d 7329 0a0a 2020 2020  rial_nums)..    
-000222c0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
-000222d0: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
-000222e0: 6974 655f 6964 273a 2073 6974 655f 6964  ite_id': site_id
-000222f0: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
-00022300: 6576 6963 655f 6964 7327 3a20 7365 7269  evice_ids': seri
-00022310: 616c 5f6e 756d 732c 0a20 2020 2020 2020  al_nums,.       
-00022320: 2020 2020 2027 6465 7669 6365 5f74 7970       'device_typ
-00022330: 6527 3a20 6465 7669 6365 5f74 7970 650a  e': device_type.
-00022340: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-00022350: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00022360: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
-00022370: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
-00022380: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
-00022390: 6566 2072 656d 6f76 655f 6465 7669 6365  ef remove_device
-000223a0: 735f 6672 6f6d 5f73 6974 6528 0a20 2020  s_from_site(.   
-000223b0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-000223c0: 2020 2073 6974 655f 6964 3a20 696e 742c     site_id: int,
-000223d0: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
-000223e0: 6e75 6d73 3a20 4c69 7374 5b73 7472 5d2c  nums: List[str],
-000223f0: 0a20 2020 2020 2020 2064 6576 6963 655f  .        device_
-00022400: 7479 7065 3a20 4c69 7465 7261 6c5b 2261  type: Literal["a
-00022410: 7022 2c20 2263 7822 2c20 2273 7722 2c20  p", "cx", "sw", 
-00022420: 2273 7769 7463 6822 2c20 2267 7722 5d2c  "switch", "gw"],
-00022430: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00022440: 7365 3a0a 2020 2020 2020 2020 2222 2252  se:.        """R
-00022450: 656d 6f76 6520 6120 6c69 7374 206f 6620  emove a list of 
-00022460: 6465 7669 6365 7320 6672 6f6d 2061 2073  devices from a s
-00022470: 6974 652e 0a0a 2020 2020 2020 2020 4172  ite...        Ar
-00022480: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00022490: 7369 7465 5f69 6420 2869 6e74 293a 2053  site_id (int): S
-000224a0: 6974 6520 4944 0a20 2020 2020 2020 2020  ite ID.         
-000224b0: 2020 2064 6576 6963 655f 7479 7065 2028     device_type (
-000224c0: 7374 7229 3a20 4465 7669 6365 2074 7970  str): Device typ
-000224d0: 652e 2056 616c 6964 2056 616c 7565 733a  e. Valid Values:
-000224e0: 2061 702c 2063 782c 2073 772c 2073 7769   ap, cx, sw, swi
-000224f0: 7463 682c 2067 770a 2020 2020 2020 2020  tch, gw.        
-00022500: 2020 2020 2020 2020 6378 2061 6e64 2073          cx and s
-00022510: 7720 6172 6520 7468 6520 7361 6d65 2061  w are the same a
-00022520: 7320 7468 6520 6d6f 7265 2067 656e 6572  s the more gener
-00022530: 6963 2073 7769 7463 682e 0a20 2020 2020  ic switch..     
-00022540: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
-00022550: 6d73 2028 4c69 7374 5b73 7472 5d29 3a20  ms (List[str]): 
-00022560: 4c69 7374 206f 6620 6465 7669 6365 2073  List of device s
-00022570: 6572 6961 6c20 6e75 6d62 6572 7320 6f66  erial numbers of
-00022580: 2074 6865 2064 6576 6963 6573 2074 6f20   the devices to 
-00022590: 7768 6963 6820 7468 6520 7369 7465 0a20  which the site. 
-000225a0: 2020 2020 2020 2020 2020 2020 2020 2068                 h
-000225b0: 6173 2074 6f20 6265 2075 6e2f 6173 736f  as to be un/asso
-000225c0: 6369 6174 6564 2077 6974 682e 2041 206d  ciated with. A m
-000225d0: 6178 696d 756d 206f 6620 3530 3030 2064  aximum of 5000 d
-000225e0: 6576 6963 6520 7365 7269 616c 7320 6172  evice serials ar
-000225f0: 6520 616c 6c6f 7765 6420 6174 206f 6e63  e allowed at onc
-00022600: 652e 0a0a 2020 2020 2020 2020 5265 7475  e...        Retu
-00022610: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00022620: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00022630: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00022640: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00022650: 220a 2020 2020 2020 2020 6465 7669 6365  ".        device
-00022660: 5f74 7970 6520 3d20 636f 6e73 7461 6e74  _type = constant
-00022670: 732e 6c69 625f 746f 5f61 7069 2822 7369  s.lib_to_api("si
-00022680: 7465 222c 2064 6576 6963 655f 7479 7065  te", device_type
-00022690: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
-000226a0: 2064 6576 6963 655f 7479 7065 3a0a 2020   device_type:.  
-000226b0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-000226c0: 5661 6c75 6545 7272 6f72 280a 2020 2020  ValueError(.    
-000226d0: 2020 2020 2020 2020 2020 2020 6622 496e              f"In
-000226e0: 7661 6c69 6420 5661 6c75 6520 666f 7220  valid Value for 
-000226f0: 6465 7669 6365 5f74 7970 652e 2020 5375  device_type.  Su
-00022700: 7070 6f72 7465 6420 5661 6c75 6573 3a20  pported Values: 
-00022710: 7b63 6f6e 7374 616e 7473 2e6c 6962 5f74  {constants.lib_t
-00022720: 6f5f 6170 692e 7661 6c69 645f 7374 727d  o_api.valid_str}
-00022730: 220a 2020 2020 2020 2020 2020 2020 290a  ".            ).
-00022740: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00022750: 2f63 656e 7472 616c 2f76 322f 7369 7465  /central/v2/site
-00022760: 732f 6173 736f 6369 6174 696f 6e73 220a  s/associations".
-00022770: 2020 2020 2020 2020 7365 7269 616c 5f6e          serial_n
-00022780: 756d 7320 3d20 7574 696c 732e 6c69 7374  ums = utils.list
-00022790: 6966 7928 7365 7269 616c 5f6e 756d 7329  ify(serial_nums)
-000227a0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
-000227b0: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
-000227c0: 2020 2020 2773 6974 655f 6964 273a 2073      'site_id': s
-000227d0: 6974 655f 6964 2c0a 2020 2020 2020 2020  ite_id,.        
-000227e0: 2020 2020 2764 6576 6963 655f 6964 7327      'device_ids'
-000227f0: 3a20 7365 7269 616c 5f6e 756d 732c 0a20  : serial_nums,. 
-00022800: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-00022810: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
-00022820: 5f74 7970 650a 2020 2020 2020 2020 7d0a  _type.        }.
-00022830: 0a20 2020 2020 2020 2023 2041 5049 2d46  .        # API-F
-00022840: 4c41 573a 2054 6869 7320 6d65 7468 6f64  LAW: This method
-00022850: 2072 6574 7572 6e73 2032 3030 2077 6865   returns 200 whe
-00022860: 6e20 6661 696c 7572 6573 206f 6363 7572  n failures occur
-00022870: 2e0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00022880: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
-00022890: 7465 2875 726c 2c20 6a73 6f6e 5f64 6174  te(url, json_dat
-000228a0: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
-000228b0: 2020 6173 796e 6320 6465 6620 6372 6561    async def crea
-000228c0: 7465 5f6c 6162 656c 280a 2020 2020 2020  te_label(.      
-000228d0: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
-000228e0: 6c61 6265 6c5f 6e61 6d65 3a20 7374 722c  label_name: str,
-000228f0: 0a20 2020 2020 2020 2063 6174 6567 6f72  .        categor
-00022900: 795f 6964 3a20 696e 7420 3d20 312c 0a20  y_id: int = 1,. 
-00022910: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-00022920: 3a0a 2020 2020 2020 2020 2222 2243 7265  :.        """Cre
-00022930: 6174 6520 4c61 6265 6c2e 0a0a 2020 2020  ate Label...    
-00022940: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00022950: 2020 2020 2020 6c61 6265 6c5f 6e61 6d65        label_name
-00022960: 2028 7374 7229 3a20 4c61 6265 6c20 6e61   (str): Label na
-00022970: 6d65 0a20 2020 2020 2020 2020 2020 2063  me.            c
-00022980: 6174 6567 6f72 795f 6964 2028 696e 742c  ategory_id (int,
-00022990: 206f 7074 696f 6e61 6c29 3a20 4c61 6265   optional): Labe
-000229a0: 6c20 6361 7465 676f 7279 2049 4420 6465  l category ID de
-000229b0: 6661 756c 7473 2074 6f20 310a 2020 2020  faults to 1.    
-000229c0: 2020 2020 2020 2020 2020 2020 3120 3d20              1 = 
-000229d0: 6465 6661 756c 7420 6c61 6265 6c20 6361  default label ca
-000229e0: 7465 676f 7279 2c20 3220 3d20 7369 7465  tegory, 2 = site
-000229f0: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00022a00: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00022a10: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00022a20: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00022a30: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00022a40: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-00022a50: 6365 6e74 7261 6c2f 7631 2f6c 6162 656c  central/v1/label
-00022a60: 7322 0a0a 2020 2020 2020 2020 6a73 6f6e  s"..        json
-00022a70: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
-00022a80: 2020 2020 2020 2763 6174 6567 6f72 795f        'category_
-00022a90: 6964 273a 2063 6174 6567 6f72 795f 6964  id': category_id
-00022aa0: 2c0a 2020 2020 2020 2020 2020 2020 276c  ,.            'l
-00022ab0: 6162 656c 5f6e 616d 6527 3a20 6c61 6265  abel_name': labe
-00022ac0: 6c5f 6e61 6d65 0a20 2020 2020 2020 207d  l_name.        }
-00022ad0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00022ae0: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
-00022af0: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
-00022b00: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
-00022b10: 6173 796e 6320 6465 6620 6765 745f 6c61  async def get_la
-00022b20: 6265 6c73 280a 2020 2020 2020 2020 7365  bels(.        se
-00022b30: 6c66 2c0a 2020 2020 2020 2020 6361 6c63  lf,.        calc
-00022b40: 756c 6174 655f 746f 7461 6c3a 2062 6f6f  ulate_total: boo
-00022b50: 6c20 3d20 4e6f 6e65 2c0a 2020 2020 2020  l = None,.      
-00022b60: 2020 7265 7665 7273 653a 2062 6f6f 6c20    reverse: bool 
-00022b70: 3d20 4661 6c73 652c 0a20 2020 2020 2020  = False,.       
-00022b80: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
-00022b90: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
-00022ba0: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
-00022bb0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00022bc0: 2020 2020 2020 2022 2222 4c69 7374 204c         """List L
-00022bd0: 6162 656c 732e 0a0a 2020 2020 2020 2020  abels...        
-00022be0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00022bf0: 2020 6361 6c63 756c 6174 655f 746f 7461    calculate_tota
-00022c00: 6c20 2862 6f6f 6c2c 206f 7074 696f 6e61  l (bool, optiona
-00022c10: 6c29 3a20 5768 6574 6865 7220 746f 2063  l): Whether to c
-00022c20: 616c 6375 6c61 7465 2074 6f74 616c 204c  alculate total L
-00022c30: 6162 656c 730a 2020 2020 2020 2020 2020  abels.          
-00022c40: 2020 7265 7665 7273 6520 2862 6f6f 6c2c    reverse (bool,
-00022c50: 206f 7074 696f 6e61 6c29 3a20 4c69 7374   optional): List
-00022c60: 206c 6162 656c 7320 696e 2072 6576 6572   labels in rever
-00022c70: 7365 2061 6c70 6861 6265 7469 6361 6c20  se alphabetical 
-00022c80: 6f72 6465 722e 2044 6566 6175 6c74 7320  order. Defaults 
-00022c90: 746f 2046 616c 7365 0a20 2020 2020 2020  to False.       
-00022ca0: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-00022cb0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-00022cc0: 696e 6174 696f 6e20 6f66 6673 6574 2044  ination offset D
-00022cd0: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
-00022ce0: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
-00022cf0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-00022d00: 2050 6167 696e 6174 696f 6e20 6c69 6d69   Pagination limi
-00022d10: 742e 2044 6566 6175 6c74 2069 7320 3130  t. Default is 10
-00022d20: 3020 616e 6420 6d61 7820 6973 2031 3030  0 and max is 100
-00022d30: 3020 4465 6661 756c 7473 2074 6f20 3130  0 Defaults to 10
-00022d40: 302e 0a0a 2020 2020 2020 2020 5265 7475  0...        Retu
-00022d50: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00022d60: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00022d70: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00022d80: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00022d90: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00022da0: 222f 6365 6e74 7261 6c2f 7632 2f6c 6162  "/central/v2/lab
-00022db0: 656c 7322 0a0a 2020 2020 2020 2020 7061  els"..        pa
-00022dc0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
-00022dd0: 2020 2020 2022 6361 6c63 756c 6174 655f       "calculate_
-00022de0: 746f 7461 6c22 3a20 6361 6c63 756c 6174  total": calculat
-00022df0: 655f 746f 7461 6c2c 0a20 2020 2020 2020  e_total,.       
-00022e00: 2020 2020 2022 6f66 6673 6574 223a 206f       "offset": o
-00022e10: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
-00022e20: 2020 2022 6c69 6d69 7422 3a20 6c69 6d69     "limit": limi
-00022e30: 740a 2020 2020 2020 2020 7d0a 2020 2020  t.        }.    
-00022e40: 2020 2020 6966 2072 6576 6572 7365 3a0a      if reverse:.
-00022e50: 2020 2020 2020 2020 2020 2020 7061 7261              para
-00022e60: 6d73 5b22 736f 7274 225d 203d 2022 2d6c  ms["sort"] = "-l
-00022e70: 6162 656c 5f6e 616d 6522 0a0a 2020 2020  abel_name"..    
-00022e80: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00022e90: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-00022ea0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-00022eb0: 2020 2061 7379 6e63 2064 6566 2061 7373     async def ass
-00022ec0: 6967 6e5f 6c61 6265 6c5f 746f 5f64 6576  ign_label_to_dev
-00022ed0: 6963 6573 280a 2020 2020 2020 2020 7365  ices(.        se
-00022ee0: 6c66 2c0a 2020 2020 2020 2020 6c61 6265  lf,.        labe
-00022ef0: 6c5f 6964 3a20 696e 742c 0a20 2020 2020  l_id: int,.     
-00022f00: 2020 2064 6576 6963 655f 7479 7065 3a20     device_type: 
-00022f10: 636f 6e73 7461 6e74 732e 4765 6e65 7269  constants.Generi
-00022f20: 6344 6576 5479 7065 732c 0a20 2020 2020  cDevTypes,.     
-00022f30: 2020 2073 6572 6961 6c5f 6e75 6d73 3a20     serial_nums: 
-00022f40: 556e 696f 6e5b 7374 722c 204c 6973 745b  Union[str, List[
-00022f50: 7374 725d 5d2c 0a20 2020 2029 202d 3e20  str]],.    ) -> 
-00022f60: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00022f70: 2020 2222 2241 7373 6f63 6961 7465 204c    """Associate L
-00022f80: 6162 656c 2074 6f20 6120 6c69 7374 206f  abel to a list o
-00022f90: 6620 6465 7669 6365 732e 0a0a 2020 2020  f devices...    
-00022fa0: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
-00022fb0: 2020 2020 2020 6c61 6265 6c5f 6964 2028        label_id (
-00022fc0: 696e 7429 3a20 4c61 6265 6c20 4944 0a20  int): Label ID. 
-00022fd0: 2020 2020 2020 2020 2020 2064 6576 6963             devic
-00022fe0: 655f 7479 7065 2028 7374 7229 3a20 4465  e_type (str): De
-00022ff0: 7669 6365 2074 7970 652e 2049 7420 6973  vice type. It is
-00023000: 2065 6974 6865 7220 4941 502c 2053 5749   either IAP, SWI
-00023010: 5443 4820 6f72 2043 4f4e 5452 4f4c 4c45  TCH or CONTROLLE
-00023020: 5220 2056 616c 6964 2056 616c 7565 733a  R  Valid Values:
-00023030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023040: 2061 702c 2067 772c 2073 7769 7463 680a   ap, gw, switch.
-00023050: 2020 2020 2020 2020 2020 2020 7365 7269              seri
-00023060: 616c 5f6e 756d 7320 2873 7472 207c 204c  al_nums (str | L
-00023070: 6973 745b 7374 725d 293a 204c 6973 7420  ist[str]): List 
-00023080: 6f66 2064 6576 6963 6520 7365 7269 616c  of device serial
-00023090: 206e 756d 6265 7273 206f 6620 7468 6520   numbers of the 
-000230a0: 6465 7669 6365 7320 746f 2077 6869 6368  devices to which
-000230b0: 2074 6865 206c 6162 656c 0a20 2020 2020   the label.     
-000230c0: 2020 2020 2020 2020 2020 2068 6173 2074             has t
-000230d0: 6f20 6265 2075 6e2f 6173 736f 6369 6174  o be un/associat
-000230e0: 6564 2077 6974 682e 2041 206d 6178 696d  ed with. A maxim
-000230f0: 756d 206f 6620 3530 3030 2064 6576 6963  um of 5000 devic
-00023100: 6520 7365 7269 616c 7320 6172 6520 616c  e serials are al
-00023110: 6c6f 7765 6420 6174 206f 6e63 652e 0a0a  lowed at once...
-00023120: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00023130: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00023140: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00023150: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00023160: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00023170: 2020 2020 2020 7572 6c20 3d20 222f 6365        url = "/ce
-00023180: 6e74 7261 6c2f 7632 2f6c 6162 656c 732f  ntral/v2/labels/
-00023190: 6173 736f 6369 6174 696f 6e73 220a 2020  associations".  
-000231a0: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-000231b0: 7320 3d20 7574 696c 732e 6c69 7374 6966  s = utils.listif
-000231c0: 7928 7365 7269 616c 5f6e 756d 7329 0a20  y(serial_nums). 
-000231d0: 2020 2020 2020 2064 6576 6963 655f 7479         device_ty
-000231e0: 7065 203d 2063 6f6e 7374 616e 7473 2e6c  pe = constants.l
-000231f0: 6962 5f74 6f5f 6170 6928 2273 6974 6522  ib_to_api("site"
-00023200: 2c20 6465 7669 6365 5f74 7970 6529 0a0a  , device_type)..
-00023210: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-00023220: 6120 3d20 7b0a 2020 2020 2020 2020 2020  a = {.          
-00023230: 2020 276c 6162 656c 5f69 6427 3a20 6c61    'label_id': la
-00023240: 6265 6c5f 6964 2c0a 2020 2020 2020 2020  bel_id,.        
-00023250: 2020 2020 2764 6576 6963 655f 7479 7065      'device_type
-00023260: 273a 2064 6576 6963 655f 7479 7065 2c0a  ': device_type,.
-00023270: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
-00023280: 6963 655f 6964 7327 3a20 7365 7269 616c  ice_ids': serial
-00023290: 5f6e 756d 730a 2020 2020 2020 2020 7d0a  _nums.        }.
-000232a0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000232b0: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-000232c0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-000232d0: 736f 6e5f 6461 7461 290a 0a20 2020 2023  son_data)..    #
-000232e0: 2054 4f44 4f20 6d61 6b65 2066 6f72 6d61   TODO make forma
-000232f0: 7420 6f66 2074 6869 7320 616e 6420 6f74  t of this and ot
-00023300: 6865 7220 6c61 6265 6c20 6d65 7468 6f64  her label method
-00023310: 7320 6d61 7463 6820 7369 7465 206d 6574  s match site met
-00023320: 686f 6473 0a20 2020 2061 7379 6e63 2064  hods.    async d
-00023330: 6566 2072 656d 6f76 655f 6c61 6265 6c5f  ef remove_label_
-00023340: 6672 6f6d 5f64 6576 6963 6573 280a 2020  from_devices(.  
-00023350: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00023360: 2020 2020 6c61 6265 6c5f 6964 3a20 696e      label_id: in
-00023370: 742c 0a20 2020 2020 2020 2064 6576 6963  t,.        devic
-00023380: 655f 7479 7065 3a20 7374 722c 0a20 2020  e_type: str,.   
-00023390: 2020 2020 2073 6572 6961 6c5f 6e75 6d73       serial_nums
-000233a0: 3a20 4c69 7374 5b73 7472 5d2c 0a20 2020  : List[str],.   
-000233b0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-000233c0: 2020 2020 2020 2020 2222 2275 6e61 7373          """unass
-000233d0: 6967 6e20 6120 6c61 6265 6c20 6672 6f6d  ign a label from
-000233e0: 2061 206c 6973 7420 6f66 2064 6576 6963   a list of devic
-000233f0: 6573 2e0a 0a20 2020 2020 2020 2041 7267  es...        Arg
-00023400: 733a 0a20 2020 2020 2020 2020 2020 206c  s:.            l
-00023410: 6162 656c 5f69 6420 2869 6e74 293a 204c  abel_id (int): L
-00023420: 6162 656c 2049 440a 2020 2020 2020 2020  abel ID.        
-00023430: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
-00023440: 2873 7472 293a 2044 6576 6963 6520 7479  (str): Device ty
-00023450: 7065 2e20 4f6e 6520 6f66 2061 702c 2067  pe. One of ap, g
-00023460: 772c 2073 7769 7463 680a 2020 2020 2020  w, switch.      
-00023470: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-00023480: 7320 2873 7472 207c 204c 6973 745b 7374  s (str | List[st
-00023490: 725d 293a 204c 6973 7420 6f66 2064 6576  r]): List of dev
-000234a0: 6963 6520 7365 7269 616c 206e 756d 6265  ice serial numbe
-000234b0: 7273 206f 6620 7468 6520 6465 7669 6365  rs of the device
-000234c0: 7320 746f 2077 6869 6368 2074 6865 206c  s to which the l
-000234d0: 6162 656c 0a20 2020 2020 2020 2020 2020  abel.           
-000234e0: 2020 2020 2068 6173 2074 6f20 6265 2075       has to be u
-000234f0: 6e2f 6173 736f 6369 6174 6564 2077 6974  n/associated wit
-00023500: 682e 2041 206d 6178 696d 756d 206f 6620  h. A maximum of 
-00023510: 3530 3030 2064 6576 6963 6520 7365 7269  5000 device seri
-00023520: 616c 7320 6172 6520 616c 6c6f 7765 6420  als are allowed 
-00023530: 6174 206f 6e63 652e 0a0a 2020 2020 2020  at once...      
-00023540: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00023550: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00023560: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00023570: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00023580: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00023590: 7572 6c20 3d20 222f 6365 6e74 7261 6c2f  url = "/central/
-000235a0: 7632 2f6c 6162 656c 732f 6173 736f 6369  v2/labels/associ
-000235b0: 6174 696f 6e73 220a 2020 2020 2020 2020  ations".        
-000235c0: 7365 7269 616c 5f6e 756d 7320 3d20 7574  serial_nums = ut
-000235d0: 696c 732e 6c69 7374 6966 7928 7365 7269  ils.listify(seri
-000235e0: 616c 5f6e 756d 7329 0a20 2020 2020 2020  al_nums).       
-000235f0: 2064 6576 6963 655f 7479 7065 203d 2063   device_type = c
-00023600: 6f6e 7374 616e 7473 2e6c 6962 5f74 6f5f  onstants.lib_to_
-00023610: 6170 6928 2273 6974 6522 2c20 6465 7669  api("site", devi
-00023620: 6365 5f74 7970 6529 0a0a 2020 2020 2020  ce_type)..      
-00023630: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
-00023640: 2020 2020 2020 2020 2020 2020 276c 6162              'lab
-00023650: 656c 5f69 6427 3a20 6c61 6265 6c5f 6964  el_id': label_id
-00023660: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
-00023670: 6576 6963 655f 7479 7065 273a 2064 6576  evice_type': dev
-00023680: 6963 655f 7479 7065 2c0a 2020 2020 2020  ice_type,.      
-00023690: 2020 2020 2020 2764 6576 6963 655f 6964        'device_id
-000236a0: 7327 3a20 7365 7269 616c 5f6e 756d 730a  s': serial_nums.
-000236b0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-000236c0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-000236d0: 7365 6c66 2e64 656c 6574 6528 7572 6c2c  self.delete(url,
-000236e0: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
-000236f0: 6461 7461 290a 0a20 2020 2023 2041 5049  data)..    # API
-00023700: 2d46 4c41 5720 7265 7475 726e 7320 656d  -FLAW returns em
-00023710: 7074 7920 7061 796c 6f61 6420 2f20 7265  pty payload / re
-00023720: 7370 6f6e 7365 206f 6e20 7375 6363 6573  sponse on succes
-00023730: 7320 3230 300a 2020 2020 6173 796e 6320  s 200.    async 
-00023740: 6465 6620 6465 6c65 7465 5f6c 6162 656c  def delete_label
-00023750: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00023760: 2020 2020 2020 2020 6c61 6265 6c5f 6964          label_id
-00023770: 3a20 696e 742c 0a20 2020 2029 202d 3e20  : int,.    ) -> 
-00023780: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00023790: 2020 2222 2244 656c 6574 6520 4c61 6265    """Delete Labe
-000237a0: 6c2e 0a0a 2020 2020 2020 2020 4172 6773  l...        Args
-000237b0: 3a0a 2020 2020 2020 2020 2020 2020 6c61  :.            la
-000237c0: 6265 6c5f 6964 2028 696e 7429 3a20 4c61  bel_id (int): La
-000237d0: 6265 6c20 4944 0a0a 2020 2020 2020 2020  bel ID..        
-000237e0: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-000237f0: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00023800: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00023810: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00023820: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00023830: 6c20 3d20 6622 2f63 656e 7472 616c 2f76  l = f"/central/v
-00023840: 312f 6c61 6265 6c73 2f7b 6c61 6265 6c5f  1/labels/{label_
-00023850: 6964 7d22 0a0a 2020 2020 2020 2020 7265  id}"..        re
-00023860: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00023870: 6465 6c65 7465 2875 726c 290a 0a20 2020  delete(url)..   
-00023880: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
-00023890: 6576 6963 655f 6970 5f72 6f75 7465 7328  evice_ip_routes(
-000238a0: 0a20 2020 2020 2020 2073 656c 662c 0a20  .        self,. 
-000238b0: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
-000238c0: 6d3a 2073 7472 2c0a 2020 2020 2020 2020  m: str,.        
-000238d0: 6170 693a 2073 7472 203d 2022 5631 222c  api: str = "V1",
-000238e0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
-000238f0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
-00023900: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
-00023910: 3030 0a20 2020 2029 202d 3e20 5265 7370  00.    ) -> Resp
-00023920: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00023930: 2247 6574 2072 6f75 7465 7320 666f 7220  "Get routes for 
-00023940: 6120 6465 7669 6365 2e0a 0a20 2020 2020  a device...     
-00023950: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00023960: 2020 2020 2073 6572 6961 6c5f 6e75 6d20       serial_num 
-00023970: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
-00023980: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
-00023990: 2020 2020 2020 2020 6170 6920 2873 7472          api (str
-000239a0: 2c20 6f70 7469 6f6e 616c 293a 2041 5049  , optional): API
-000239b0: 2076 6572 7369 6f6e 2028 5630 7c56 3129   version (V0|V1)
-000239c0: 2c20 4465 6661 756c 7473 2074 6f20 5631  , Defaults to V1
-000239d0: 2e0a 2020 2020 2020 2020 2020 2020 6f66  ..            of
-000239e0: 6673 6574 2028 7374 722c 206f 7074 696f  fset (str, optio
-000239f0: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-00023a00: 206f 6666 7365 742e 0a20 2020 2020 2020   offset..       
-00023a10: 2020 2020 206c 696d 6974 2028 696e 742c       limit (int,
-00023a20: 206f 7074 696f 6e61 6c29 3a20 7061 6765   optional): page
-00023a30: 2073 697a 6520 4465 6661 756c 7473 2074   size Defaults t
-00023a40: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
-00023a50: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00023a60: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00023a70: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00023a80: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00023a90: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-00023aa0: 6c20 3d20 222f 6170 692f 726f 7574 696e  l = "/api/routin
-00023ab0: 672f 7631 2f72 6f75 7465 220a 0a20 2020  g/v1/route"..   
-00023ac0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-00023ad0: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
-00023ae0: 6963 6527 3a20 7365 7269 616c 5f6e 756d  ice': serial_num
-00023af0: 2c0a 2020 2020 2020 2020 2020 2020 2761  ,.            'a
-00023b00: 7069 273a 2061 7069 2c0a 2020 2020 2020  pi': api,.      
-00023b10: 2020 2020 2020 276d 6172 6b65 7227 3a20        'marker': 
-00023b20: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
-00023b30: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
-00023b40: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
-00023b50: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00023b60: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-00023b70: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-00023b80: 0a20 2020 2023 2054 4f44 4f20 6d61 6b65  .    # TODO make
-00023b90: 2061 6464 5f64 6576 6963 6520 6163 7475   add_device actu
-00023ba0: 616c 2066 756e 6320 7365 7020 616e 6420  al func sep and 
-00023bb0: 6d61 6b65 2074 6869 7320 616e 2061 6767  make this an agg
-00023bc0: 7265 6761 746f 7220 7468 6174 2063 616c  regator that cal
-00023bd0: 6c73 2069 7420 616e 6420 616e 7974 6869  ls it and anythi
-00023be0: 6e67 2065 6c73 6520 6261 7365 6420 6f6e  ng else based on
-00023bf0: 2070 6172 616d 730a 2020 2020 6173 796e   params.    asyn
-00023c00: 6320 6465 6620 6164 645f 6465 7669 6365  c def add_device
-00023c10: 7328 0a20 2020 2020 2020 2073 656c 662c  s(.        self,
-00023c20: 0a20 2020 2020 2020 206d 6163 5f61 6464  .        mac_add
-00023c30: 7265 7373 3a20 7374 7220 3d20 4e6f 6e65  ress: str = None
-00023c40: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
-00023c50: 5f6e 756d 3a20 7374 7220 3d20 4e6f 6e65  _num: str = None
-00023c60: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
-00023c70: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00023c80: 2020 2020 2023 2073 6974 653a 2069 6e74       # site: int
-00023c90: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00023ca0: 2070 6172 745f 6e75 6d3a 2073 7472 203d   part_num: str =
-00023cb0: 204e 6f6e 652c 0a20 2020 2020 2020 206c   None,.        l
-00023cc0: 6963 656e 7365 3a20 556e 696f 6e5b 7374  icense: Union[st
-00023cd0: 722c 204c 6973 745b 7374 725d 5d20 3d20  r, List[str]] = 
-00023ce0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6465  None,.        de
-00023cf0: 7669 6365 5f6c 6973 743a 204c 6973 745b  vice_list: List[
-00023d00: 4469 6374 5b73 7472 2c20 7374 725d 5d20  Dict[str, str]] 
-00023d10: 3d20 4e6f 6e65 0a20 2020 2029 202d 3e20  = None.    ) -> 
-00023d20: 556e 696f 6e5b 5265 7370 6f6e 7365 2c20  Union[Response, 
-00023d30: 4c69 7374 5b52 6573 706f 6e73 655d 5d3a  List[Response]]:
-00023d40: 0a20 2020 2020 2020 2022 2222 4164 6420  .        """Add 
-00023d50: 6465 7669 6365 2873 2920 7573 696e 6720  device(s) using 
-00023d60: 4d61 6320 616e 6420 5365 7269 616c 206e  Mac and Serial n
-00023d70: 756d 6265 7220 2870 6172 745f 6e75 6d20  umber (part_num 
-00023d80: 616c 736f 2072 6571 7569 7265 6420 666f  also required fo
-00023d90: 7220 436f 5029 0a20 2020 2020 2020 2057  r CoP).        W
-00023da0: 696c 6c20 616c 736f 2070 7265 2d61 7373  ill also pre-ass
-00023db0: 6967 6e20 6465 7669 6365 2074 6f20 6772  ign device to gr
-00023dc0: 6f75 7020 6966 2070 726f 7669 6465 640a  oup if provided.
-00023dd0: 0a20 2020 2020 2020 2045 6974 6865 7220  .        Either 
-00023de0: 6d61 635f 6164 6472 6573 7320 616e 6420  mac_address and 
-00023df0: 7365 7269 616c 5f6e 756d 206f 7220 6465  serial_num or de
-00023e00: 7669 6365 5f6c 6973 7420 2877 6869 6368  vice_list (which
-00023e10: 2073 686f 756c 6420 636f 6e74 6169 6e20   should contain 
-00023e20: 6120 6469 6374 2077 6974 6820 6d61 6320  a dict with mac 
-00023e30: 7365 7269 616c 2920 6172 6520 7265 7175  serial) are requ
-00023e40: 6972 6564 2e0a 2020 2020 2020 2020 2f2f  ired..        //
-00023e50: 2055 7365 6420 6279 2061 6464 2064 6576   Used by add dev
-00023e60: 6963 6520 616e 6420 6261 7463 6820 6164  ice and batch ad
-00023e70: 6420 6465 7669 6365 7320 2f2f 0a0a 2020  d devices //..  
-00023e80: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00023e90: 2020 2020 2020 2020 6d61 635f 6164 6472          mac_addr
-00023ea0: 6573 7320 2873 7472 2c20 6f70 7469 6f6e  ess (str, option
-00023eb0: 616c 293a 204d 4143 2061 6464 7265 7373  al): MAC address
-00023ec0: 206f 6620 6465 7669 6365 2074 6f20 6265   of device to be
-00023ed0: 2061 6464 6564 0a20 2020 2020 2020 2020   added.         
-00023ee0: 2020 2073 6572 6961 6c5f 6e75 6d20 2873     serial_num (s
-00023ef0: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
-00023f00: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
-00023f10: 6465 7669 6365 2074 6f20 6265 2061 6464  device to be add
-00023f20: 6564 0a20 2020 2020 2020 2020 2020 2067  ed.            g
-00023f30: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
-00023f40: 6e61 6c29 3a20 4164 6420 6465 7669 6365  nal): Add device
-00023f50: 2074 6f20 7072 652d 7072 6f76 6973 696f   to pre-provisio
-00023f60: 6e65 6420 6772 6f75 7020 2861 6464 6974  ned group (addit
-00023f70: 696f 6e61 6c20 4150 4920 6361 6c6c 2069  ional API call i
-00023f80: 7320 6d61 6465 290a 2020 2020 2020 2020  s made).        
-00023f90: 2020 2020 7369 7465 2028 696e 742c 206f      site (int, o
-00023fa0: 7074 696f 6e61 6c29 3a20 2d2d 204e 6f74  ptional): -- Not
-00023fb0: 2069 6d70 6c65 6d65 6e74 6564 202d 2d20   implemented -- 
-00023fc0: 5369 7465 2049 440a 2020 2020 2020 2020  Site ID.        
-00023fd0: 2020 2020 7061 7274 5f6e 756d 2028 7374      part_num (st
-00023fe0: 722c 206f 7074 696f 6e61 6c29 3a20 5061  r, optional): Pa
-00023ff0: 7274 204e 756d 6265 7220 6973 2072 6571  rt Number is req
-00024000: 7569 7265 6420 666f 7220 4365 6e74 7261  uired for Centra
-00024010: 6c20 4f6e 2050 7265 6d2e 0a20 2020 2020  l On Prem..     
-00024020: 2020 2020 2020 206c 6963 656e 7365 2028         license (
-00024030: 7374 727c 4c69 7374 2873 7472 292c 206f  str|List(str), o
-00024040: 7074 696f 6e61 6c29 3a20 5468 6520 7375  ptional): The su
-00024050: 6273 6372 6970 7469 6f6e 206c 6963 656e  bscription licen
-00024060: 7365 2873 2920 746f 2061 7373 6967 6e2e  se(s) to assign.
-00024070: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
-00024080: 6963 655f 6c69 7374 2028 4c69 7374 5b44  ice_list (List[D
-00024090: 6963 745b 7374 722c 2073 7472 5d5d 2c20  ict[str, str]], 
-000240a0: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
-000240b0: 6f66 2064 6963 7473 2077 6974 6820 6d61  of dicts with ma
-000240c0: 632c 2073 6572 6961 6c20 666f 7220 6561  c, serial for ea
-000240d0: 6368 2064 6576 6963 650a 2020 2020 2020  ch device.      
-000240e0: 2020 2020 2020 2020 2020 616e 6420 6f70            and op
-000240f0: 7469 6f6e 616c 6c79 2067 726f 7570 2c20  tionally group, 
-00024100: 7061 7274 5f6e 756d 2c20 6c69 6365 6e73  part_num, licens
-00024110: 652c 0a0a 2020 2020 2020 2020 5265 7475  e,..        Retu
-00024120: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00024130: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00024140: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00024150: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00024160: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00024170: 222f 706c 6174 666f 726d 2f64 6576 6963  "/platform/devic
-00024180: 655f 696e 7665 6e74 6f72 792f 7631 2f64  e_inventory/v1/d
-00024190: 6576 6963 6573 220a 2020 2020 2020 2020  evices".        
-000241a0: 6c69 6365 6e73 655f 6b77 6172 6773 203d  license_kwargs =
-000241b0: 205b 5d0a 0a20 2020 2020 2020 2069 6620   []..        if 
-000241c0: 6c69 6365 6e73 653a 0a20 2020 2020 2020  license:.       
-000241d0: 2020 2020 206c 6963 656e 7365 5f6b 7761       license_kwa
-000241e0: 7267 7320 3d20 5b7b 2273 6572 6961 6c73  rgs = [{"serials
-000241f0: 223a 205b 7365 7269 616c 5f6e 756d 5d2c  ": [serial_num],
-00024200: 2022 7365 7276 6963 6573 223a 2075 7469   "services": uti
-00024210: 6c73 2e6c 6973 7469 6679 286c 6963 656e  ls.listify(licen
-00024220: 7365 297d 5d0a 2020 2020 2020 2020 6966  se)}].        if
-00024230: 2073 6572 6961 6c5f 6e75 6d20 616e 6420   serial_num and 
-00024240: 6d61 635f 6164 6472 6573 733a 0a20 2020  mac_address:.   
-00024250: 2020 2020 2020 2020 2069 6620 6465 7669           if devi
-00024260: 6365 5f6c 6973 743a 0a20 2020 2020 2020  ce_list:.       
-00024270: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
-00024280: 616c 7565 4572 726f 7228 2273 6572 6961  alueError("seria
-00024290: 6c5f 6e75 6d20 616e 6420 6d61 635f 6164  l_num and mac_ad
-000242a0: 6472 6573 7320 6172 6520 6e6f 7420 6578  dress are not ex
-000242b0: 7065 6374 6564 2077 6865 6e20 6465 7669  pected when devi
-000242c0: 6365 5f6c 6973 7420 6973 2062 6569 6e67  ce_list is being
-000242d0: 2070 726f 7669 6465 642e 2229 0a0a 2020   provided.")..  
-000242e0: 2020 2020 2020 2020 2020 746f 5f67 726f            to_gro
-000242f0: 7570 203d 204e 6f6e 6520 6966 206e 6f74  up = None if not
-00024300: 2067 726f 7570 2065 6c73 6520 7b67 726f   group else {gro
-00024310: 7570 3a20 5b73 6572 6961 6c5f 6e75 6d5d  up: [serial_num]
-00024320: 7d0a 2020 2020 2020 2020 2020 2020 2320  }.            # 
-00024330: 746f 5f73 6974 6520 3d20 4e6f 6e65 2069  to_site = None i
-00024340: 6620 6e6f 7420 7369 7465 2065 6c73 6520  f not site else 
-00024350: 7b73 6974 653a 205b 7365 7269 616c 5f6e  {site: [serial_n
-00024360: 756d 5d7d 0a0a 2020 2020 2020 2020 2020  um]}..          
-00024370: 2020 6d61 6320 3d20 7574 696c 732e 4d61    mac = utils.Ma
-00024380: 6328 6d61 635f 6164 6472 6573 7329 0a20  c(mac_address). 
-00024390: 2020 2020 2020 2020 2020 2069 6620 6e6f             if no
-000243a0: 7420 6d61 633a 0a20 2020 2020 2020 2020  t mac:.         
-000243b0: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
-000243c0: 7565 4572 726f 7228 6622 6d61 635f 6164  ueError(f"mac_ad
-000243d0: 6472 6573 7320 7b6d 6163 5f61 6464 7265  dress {mac_addre
-000243e0: 7373 7d20 6170 7065 6172 7320 746f 2062  ss} appears to b
-000243f0: 6520 696e 7661 6c69 642e 2229 0a0a 2020  e invalid.")..  
-00024400: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
-00024410: 6174 6120 3d20 5b0a 2020 2020 2020 2020  ata = [.        
-00024420: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
-00024430: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00024440: 6163 223a 206d 6163 2e63 6f6c 732c 0a20  ac": mac.cols,. 
-00024450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024460: 2020 2022 7365 7269 616c 223a 2073 6572     "serial": ser
-00024470: 6961 6c5f 6e75 6d0a 2020 2020 2020 2020  ial_num.        
-00024480: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-00024490: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
-000244a0: 2020 2020 6966 2070 6172 745f 6e75 6d3a      if part_num:
-000244b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000244c0: 206a 736f 6e5f 6461 7461 5b30 5d5b 2270   json_data[0]["p
-000244d0: 6172 744e 756d 6265 7222 5d20 3d20 7061  artNumber"] = pa
-000244e0: 7274 5f6e 756d 0a0a 2020 2020 2020 2020  rt_num..        
-000244f0: 656c 6966 2064 6576 6963 655f 6c69 7374  elif device_list
-00024500: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00024510: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
-00024520: 6465 7669 6365 5f6c 6973 742c 206c 6973  device_list, lis
-00024530: 7429 2061 6e64 206e 6f74 2061 6c6c 2869  t) and not all(i
-00024540: 7369 6e73 7461 6e63 6528 642c 2064 6963  sinstance(d, dic
-00024550: 7429 2066 6f72 2064 2069 6e20 6465 7669  t) for d in devi
-00024560: 6365 5f6c 6973 7429 3a0a 2020 2020 2020  ce_list):.      
-00024570: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00024580: 5661 6c75 6545 7272 6f72 2822 5768 656e  ValueError("When
-00024590: 2075 7369 6e67 2064 6576 6963 655f 6c69   using device_li
-000245a0: 7374 2074 6f20 6261 7463 6820 6164 6420  st to batch add 
-000245b0: 6465 7669 6365 732c 2074 6865 7920 7368  devices, they sh
-000245c0: 6f75 6c64 2062 6520 7072 6f76 6964 6564  ould be provided
-000245d0: 2061 7320 6120 6c69 7374 206f 6620 6469   as a list of di
-000245e0: 6374 7322 290a 0a20 2020 2020 2020 2020  cts")..         
-000245f0: 2020 205f 6b65 7973 203d 207b 0a20 2020     _keys = {.   
-00024600: 2020 2020 2020 2020 2020 2020 2022 6d61               "ma
-00024610: 635f 6164 6472 6573 7322 3a20 226d 6163  c_address": "mac
-00024620: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00024630: 2020 2022 7365 7269 616c 5f6e 756d 223a     "serial_num":
-00024640: 2022 7365 7269 616c 222c 0a20 2020 2020   "serial",.     
-00024650: 2020 2020 2020 2020 2020 2022 7061 7274             "part
-00024660: 5f6e 756d 223a 2022 7061 7274 4e75 6d62  _num": "partNumb
-00024670: 6572 220a 2020 2020 2020 2020 2020 2020  er".            
-00024680: 7d0a 0a20 2020 2020 2020 2020 2020 206a  }..            j
-00024690: 736f 6e5f 6461 7461 203d 205b 5d0a 2020  son_data = [].  
-000246a0: 2020 2020 2020 2020 2020 666f 7220 6420            for d 
-000246b0: 696e 2064 6576 6963 655f 6c69 7374 3a0a  in device_list:.
-000246c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000246d0: 6d61 6320 3d20 642e 6765 7428 226d 6163  mac = d.get("mac
-000246e0: 222c 2064 2e67 6574 2822 6d61 635f 6164  ", d.get("mac_ad
-000246f0: 6472 6573 7322 2929 0a20 2020 2020 2020  dress")).       
-00024700: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00024710: 6d61 633a 0a20 2020 2020 2020 2020 2020  mac:.           
-00024720: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
-00024730: 616c 7565 4572 726f 7228 6622 4e6f 204d  alueError(f"No M
-00024740: 6163 2041 6464 7265 7373 2066 6f75 6e64  ac Address found
-00024750: 2066 6f72 2065 6e74 7279 207b 647d 2229   for entry {d}")
-00024760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024770: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00024780: 2020 2020 2020 2020 2020 206d 6163 203d             mac =
-00024790: 2075 7469 6c73 2e4d 6163 286d 6163 290a   utils.Mac(mac).
-000247a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000247b0: 2020 2020 6966 206e 6f74 206d 6163 3a0a      if not mac:.
-000247c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000247d0: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-000247e0: 6c75 6545 7272 6f72 2866 224d 6163 2041  lueError(f"Mac A
-000247f0: 6464 7265 7373 207b 6d61 637d 2061 7070  ddress {mac} app
-00024800: 6561 7273 2074 6f20 6265 2069 6e76 616c  ears to be inval
-00024810: 6964 2e22 290a 2020 2020 2020 2020 2020  id.").          
-00024820: 2020 2020 2020 7365 7269 616c 203d 2064        serial = d
-00024830: 2e67 6574 2822 7365 7269 616c 222c 2064  .get("serial", d
-00024840: 2e67 6574 2822 7365 7269 616c 5f6e 756d  .get("serial_num
-00024850: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
-00024860: 2020 2020 5f74 6869 735f 6469 6374 203d      _this_dict =
-00024870: 207b 226d 6163 223a 206d 6163 2e63 6f6c   {"mac": mac.col
-00024880: 732c 2022 7365 7269 616c 223a 2073 6572  s, "serial": ser
-00024890: 6961 6c7d 0a20 2020 2020 2020 2020 2020  ial}.           
-000248a0: 2020 2020 2070 6172 745f 6e75 6d20 3d20       part_num = 
-000248b0: 642e 6765 7428 2270 6172 745f 6e75 6d22  d.get("part_num"
-000248c0: 2c20 642e 6765 7428 2270 6172 744e 756d  , d.get("partNum
-000248d0: 6265 7222 2929 0a20 2020 2020 2020 2020  ber")).         
-000248e0: 2020 2020 2020 2069 6620 7061 7274 5f6e         if part_n
-000248f0: 756d 3a0a 2020 2020 2020 2020 2020 2020  um:.            
-00024900: 2020 2020 2020 2020 5f74 6869 735f 6469          _this_di
-00024910: 6374 5b22 7061 7274 4e75 6d62 6572 225d  ct["partNumber"]
-00024920: 203d 2070 6172 745f 6e75 6d0a 0a20 2020   = part_num..   
-00024930: 2020 2020 2020 2020 2020 2020 206a 736f               jso
-00024940: 6e5f 6461 7461 202b 3d20 5b5f 7468 6973  n_data += [_this
-00024950: 5f64 6963 745d 0a0a 2020 2020 2020 2020  _dict]..        
-00024960: 2020 2020 746f 5f67 726f 7570 203d 207b      to_group = {
-00024970: 642e 6765 7428 2267 726f 7570 2229 3a20  d.get("group"): 
-00024980: 5b5d 2066 6f72 2064 2069 6e20 6465 7669  [] for d in devi
-00024990: 6365 5f6c 6973 7420 6966 2022 6772 6f75  ce_list if "grou
-000249a0: 7022 2069 6e20 647d 0a20 2020 2020 2020  p" in d}.       
-000249b0: 2020 2020 2066 6f72 2064 2069 6e20 6465       for d in de
-000249c0: 7669 6365 5f6c 6973 743a 0a20 2020 2020  vice_list:.     
-000249d0: 2020 2020 2020 2020 2020 2069 6620 2267             if "g
-000249e0: 726f 7570 2220 696e 2064 3a0a 2020 2020  roup" in d:.    
-000249f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024a00: 746f 5f67 726f 7570 5b64 5b22 6772 6f75  to_group[d["grou
-00024a10: 7022 5d5d 2e61 7070 656e 6428 642e 6765  p"]].append(d.ge
-00024a20: 7428 2273 6572 6961 6c5f 6e75 6d22 2c20  t("serial_num", 
-00024a30: 642e 6765 7428 2273 6572 6961 6c22 2929  d.get("serial"))
-00024a40: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-00024a50: 2074 6f5f 7369 7465 203d 207b 642e 6765   to_site = {d.ge
-00024a60: 7428 2273 6974 6522 293a 205b 5d20 666f  t("site"): [] fo
-00024a70: 7220 6420 696e 2064 6576 6963 655f 6c69  r d in device_li
-00024a80: 7374 2069 6620 2273 6974 6522 2069 6e20  st if "site" in 
-00024a90: 647d 0a20 2020 2020 2020 2020 2020 2023  d}.            #
-00024aa0: 2066 6f72 2064 2069 6e20 6465 7669 6365   for d in device
-00024ab0: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
-00024ac0: 2020 2023 2020 2020 2069 6620 2273 6974     #     if "sit
-00024ad0: 6522 2069 6e20 643a 0a20 2020 2020 2020  e" in d:.       
-00024ae0: 2020 2020 2023 2020 2020 2020 2020 2074       #         t
-00024af0: 6f5f 7369 7465 5b64 5b22 7369 7465 225d  o_site[d["site"]
-00024b00: 5d2e 6170 7065 6e64 2864 2e67 6574 2822  ].append(d.get("
-00024b10: 7365 7269 616c 5f6e 756d 222c 2064 2e67  serial_num", d.g
-00024b20: 6574 2822 7365 7269 616c 2229 2929 0a0a  et("serial")))..
-00024b30: 2020 2020 2020 2020 2020 2020 2320 4761              # Ga
-00024b40: 7468 6572 2061 6c6c 2073 6572 6961 6c73  ther all serials
-00024b50: 2066 6f72 2065 6163 6820 6c69 6365 6e73   for each licens
-00024b60: 6520 636f 6d62 696e 6174 696f 6e20 6672  e combination fr
-00024b70: 6f6d 2064 6576 6963 655f 6c69 7374 0a20  om device_list. 
-00024b80: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
-00024b90: 4f20 7468 6973 206e 6565 6473 2074 6f20  O this needs to 
-00024ba0: 6265 2074 6573 7465 640a 2020 2020 2020  be tested.      
-00024bb0: 2020 2020 2020 5f6c 6963 5f6b 7761 7267        _lic_kwarg
-00024bc0: 7320 3d20 7b7d 0a20 2020 2020 2020 2020  s = {}.         
-00024bd0: 2020 2066 6f72 2064 2069 6e20 6465 7669     for d in devi
-00024be0: 6365 5f6c 6973 743a 0a20 2020 2020 2020  ce_list:.       
-00024bf0: 2020 2020 2020 2020 2069 6620 226c 6963           if "lic
-00024c00: 656e 7365 2220 6e6f 7420 696e 2064 3a0a  ense" not in d:.
-00024c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024c20: 2020 2020 636f 6e74 696e 7565 0a0a 2020      continue..  
-00024c30: 2020 2020 2020 2020 2020 2020 2020 645b                d[
-00024c40: 226c 6963 656e 7365 225d 203d 2075 7469  "license"] = uti
-00024c50: 6c73 2e6c 6973 7469 6679 2864 5b22 6c69  ls.listify(d["li
-00024c60: 6365 6e73 6522 5d29 0a20 2020 2020 2020  cense"]).       
-00024c70: 2020 2020 2020 2020 205f 6b65 7920 3d20           _key = 
-00024c80: 6622 7b64 5b27 6c69 6365 6e73 6527 5d20  f"{d['license'] 
-00024c90: 6966 206c 656e 2864 5b27 6c69 6365 6e73  if len(d['licens
-00024ca0: 6527 5d29 203d 3d20 3120 656c 7365 2027  e']) == 1 else '
-00024cb0: 7c27 2e6a 6f69 6e28 736f 7274 6564 2864  |'.join(sorted(d
-00024cc0: 5b27 6c69 6365 6e73 6527 5d29 297d 220a  ['license']))}".
-00024cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024ce0: 5f73 6572 6961 6c20 3d20 642e 6765 7428  _serial = d.get(
-00024cf0: 2273 6572 6961 6c5f 6e75 6d22 2c20 642e  "serial_num", d.
-00024d00: 6765 7428 2273 6572 6961 6c22 2929 0a20  get("serial")). 
-00024d10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00024d20: 6620 6e6f 7420 5f73 6572 6961 6c3a 0a20  f not _serial:. 
-00024d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024d40: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-00024d50: 726f 7228 6622 4e6f 2073 6572 6961 6c20  ror(f"No serial 
-00024d60: 666f 756e 6420 666f 7220 6465 7669 6365  found for device
-00024d70: 3a20 7b64 7d22 290a 0a20 2020 2020 2020  : {d}")..       
-00024d80: 2020 2020 2020 2020 2069 6620 5f6b 6579           if _key
-00024d90: 2069 6e20 5f6c 6963 5f6b 7761 7267 733a   in _lic_kwargs:
-00024da0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024db0: 2020 2020 205f 6c69 635f 6b77 6172 6773       _lic_kwargs
-00024dc0: 5b5f 6b65 795d 5b22 7365 7269 616c 7322  [_key]["serials"
-00024dd0: 5d20 2b3d 2075 7469 6c73 2e6c 6973 7469  ] += utils.listi
-00024de0: 6679 285f 7365 7269 616c 290a 2020 2020  fy(_serial).    
-00024df0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00024e00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00024e10: 2020 2020 2020 5f6c 6963 5f6b 7761 7267        _lic_kwarg
-00024e20: 735b 5f6b 6579 5d20 3d20 7b0a 2020 2020  s[_key] = {.    
-00024e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024e40: 2020 2020 2273 6572 7669 6365 7322 3a20      "services": 
-00024e50: 7574 696c 732e 6c69 7374 6966 7928 645b  utils.listify(d[
-00024e60: 226c 6963 656e 7365 225d 292c 0a20 2020  "license"]),.   
-00024e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024e80: 2020 2020 2022 7365 7269 616c 7322 3a20       "serials": 
-00024e90: 7574 696c 732e 6c69 7374 6966 7928 5f73  utils.listify(_s
-00024ea0: 6572 6961 6c29 0a20 2020 2020 2020 2020  erial).         
-00024eb0: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
-00024ec0: 2020 2020 2020 2020 206c 6963 656e 7365           license
-00024ed0: 5f6b 7761 7267 7320 3d20 6c69 7374 285f  _kwargs = list(_
-00024ee0: 6c69 635f 6b77 6172 6773 2e76 616c 7565  lic_kwargs.value
-00024ef0: 7328 2929 0a0a 2020 2020 2020 2020 2020  s())..          
-00024f00: 2020 2320 6c69 6365 6e73 655f 6172 6773    # license_args
-00024f10: 203d 205b 5b5d 2c20 5b5d 5d0a 2020 2020   = [[], []].    
-00024f20: 2020 2020 2020 2020 2320 6279 5f73 6572          # by_ser
-00024f30: 203d 207b 645b 2273 6572 6961 6c5f 6e75   = {d["serial_nu
-00024f40: 6d22 5d3a 2075 7469 6c73 2e6c 6973 7469  m"]: utils.listi
-00024f50: 6679 2864 2e67 6574 2822 6c69 6365 6e73  fy(d.get("licens
-00024f60: 6522 2929 2066 6f72 2064 2069 6e20 6465  e")) for d in de
-00024f70: 7669 6365 5f6c 6973 7420 6966 2064 2e67  vice_list if d.g
-00024f80: 6574 2822 6c69 6365 6e73 6522 297d 0a20  et("license")}. 
-00024f90: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
-00024fa0: 4f20 6d6f 7374 2065 6666 6963 6965 6e74  O most efficient
-00024fb0: 2070 6169 7269 6e67 206f 6620 706f 7373   pairing of poss
-00024fc0: 6962 6c65 206c 6963 2f64 6576 2066 6f72  ible lic/dev for
-00024fd0: 2066 6577 6573 7420 6361 6c6c 0a20 2020   fewest call.   
-00024fe0: 2020 2020 2020 2020 2023 2054 4f44 4f20           # TODO 
-00024ff0: 6c69 6365 6e73 6520 7669 6120 6c69 7374  license via list
-00025000: 206e 6f74 2069 6d70 6c65 6d65 6e74 6564   not implemented
-00025010: 2079 6574 2e0a 0a20 2020 2020 2020 2065   yet...        e
-00025020: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00025030: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-00025040: 7228 226d 6163 5f61 6464 7265 7373 2061  r("mac_address a
-00025050: 6e64 2073 6572 6961 6c5f 6e75 6d20 6f72  nd serial_num or
-00025060: 2064 6576 6963 655f 6c69 7374 2069 7320   device_list is 
-00025070: 7265 7175 6972 6564 2229 0a0a 2020 2020  required")..    
-00025080: 2020 2020 2320 5065 7266 6f72 6d20 4150      # Perform AP
-00025090: 4920 6361 6c6c 2873 2920 746f 2043 656e  I call(s) to Cen
-000250a0: 7472 616c 2041 5049 2047 570a 2020 2020  tral API GW.    
-000250b0: 2020 2020 2320 544f 444f 2062 7265 616b      # TODO break
-000250c0: 206f 7574 2074 6865 2061 6464 2064 6576   out the add dev
-000250d0: 6963 6520 6361 6c6c 2069 6e74 6f20 6974  ice call into it
-000250e0: 2773 206f 776e 206d 6574 686f 642e 0a20  's own method.. 
-000250f0: 2020 2020 2020 2069 6620 746f 5f67 726f         if to_gro
-00025100: 7570 206f 7220 6c69 6365 6e73 655f 6b77  up or license_kw
-00025110: 6172 6773 3a0a 2020 2020 2020 2020 2020  args:.          
-00025120: 2020 2320 4164 6420 6465 7669 6365 7320    # Add devices 
-00025130: 746f 2063 656e 7472 616c 2e20 2031 2041  to central.  1 A
-00025140: 5049 2063 616c 6c20 666f 7220 3120 6f72  PI call for 1 or
-00025150: 206d 616e 7920 6465 7669 6365 732e 0a20   many devices.. 
-00025160: 2020 2020 2020 2020 2020 2062 7220 3d20             br = 
-00025170: 7365 6c66 2e42 6174 6368 5265 7175 6573  self.BatchReques
-00025180: 740a 2020 2020 2020 2020 2020 2020 7265  t.            re
-00025190: 7173 203d 205b 0a20 2020 2020 2020 2020  qs = [.         
-000251a0: 2020 2020 2020 2062 7228 7365 6c66 2e70         br(self.p
-000251b0: 6f73 742c 2075 726c 2c20 6a73 6f6e 5f64  ost, url, json_d
-000251c0: 6174 613d 6a73 6f6e 5f64 6174 6129 2c0a  ata=json_data),.
-000251d0: 2020 2020 2020 2020 2020 2020 5d0a 2020              ].  
-000251e0: 2020 2020 2020 2020 2020 2320 4173 7369            # Assi
-000251f0: 676e 2064 6576 6963 6573 2074 6f20 7072  gn devices to pr
-00025200: 652d 7072 6f76 6973 696f 6e65 6420 6772  e-provisioned gr
-00025210: 6f75 702e 2020 3120 4150 4920 6361 6c6c  oup.  1 API call
-00025220: 2070 6572 2067 726f 7570 0a20 2020 2020   per group.     
-00025230: 2020 2020 2020 2023 2054 4f44 4f20 7465         # TODO te
-00025240: 7374 2074 6861 7420 7468 6973 2069 7320  st that this is 
-00025250: 3120 4150 4920 6361 6c6c 2070 6572 2067  1 API call per g
-00025260: 726f 7570 2e0a 2020 2020 2020 2020 2020  roup..          
-00025270: 2020 6966 2074 6f5f 6772 6f75 703a 0a20    if to_group:. 
-00025280: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-00025290: 726f 7570 5f72 6571 7320 3d20 5b62 7228  roup_reqs = [br(
-000252a0: 7365 6c66 2e70 7265 7072 6f76 6973 696f  self.preprovisio
-000252b0: 6e5f 6465 7669 6365 5f74 6f5f 6772 6f75  n_device_to_grou
-000252c0: 702c 2028 672c 2064 6576 7329 2920 666f  p, (g, devs)) fo
-000252d0: 7220 672c 2064 6576 7320 696e 2074 6f5f  r g, devs in to_
-000252e0: 6772 6f75 702e 6974 656d 7328 295d 0a20  group.items()]. 
-000252f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00025300: 6571 7320 3d20 5b2a 7265 7173 2c20 2a67  eqs = [*reqs, *g
-00025310: 726f 7570 5f72 6571 735d 0a0a 2020 2020  roup_reqs]..    
-00025320: 2020 2020 2020 2020 2320 544f 444f 2059          # TODO Y
-00025330: 6f75 2063 616e 2061 6464 2074 6865 2064  ou can add the d
-00025340: 6576 6963 6520 746f 2061 2073 6974 6520  evice to a site 
-00025350: 6166 7465 7220 6974 2773 2062 6565 6e20  after it's been 
-00025360: 7072 652d 6173 7369 676e 6564 0a20 2020  pre-assigned.   
-00025370: 2020 2020 2020 2020 2023 2069 6620 746f           # if to
-00025380: 5f73 6974 653a 0a20 2020 2020 2020 2020  _site:.         
-00025390: 2020 2023 2020 2020 2073 6974 655f 7265     #     site_re
-000253a0: 7173 203d 205b 6272 2873 656c 662e 6d6f  qs = [br(self.mo
-000253b0: 7665 5f64 6576 6963 6573 5f74 6f5f 7369  ve_devices_to_si
-000253c0: 7465 2c20 2873 2c20 6465 7673 2c20 2267  te, (s, devs, "g
-000253d0: 7722 2929 2066 6f72 2073 2c20 6465 7673  w")) for s, devs
-000253e0: 2069 6e20 746f 5f73 6974 652e 6974 656d   in to_site.item
-000253f0: 7328 295d 0a20 2020 2020 2020 2020 2020  s()].           
-00025400: 2023 2020 2020 2072 6571 7320 3d20 5b2a   #     reqs = [*
-00025410: 7265 7173 2c20 2a73 6974 655f 7265 7173  reqs, *site_reqs
-00025420: 5d0a 0a20 2020 2020 2020 2020 2020 2023  ]..            #
-00025430: 2041 7373 6967 6e20 6c69 6365 6e73 6520   Assign license 
-00025440: 746f 2064 6576 6963 6573 2e20 2031 2041  to devices.  1 A
-00025450: 5049 2063 616c 6c20 666f 7220 616c 6c20  PI call for all 
-00025460: 6465 7669 6365 7320 7769 7468 2073 616d  devices with sam
-00025470: 6520 636f 6d62 696e 6174 696f 6e20 6f66  e combination of
-00025480: 206c 6963 656e 7365 730a 2020 2020 2020   licenses.      
-00025490: 2020 2020 2020 6966 206c 6963 656e 7365        if license
-000254a0: 5f6b 7761 7267 733a 0a20 2020 2020 2020  _kwargs:.       
-000254b0: 2020 2020 2020 2020 206c 6963 5f72 6571           lic_req
-000254c0: 7320 3d20 5b62 7228 7365 6c66 2e61 7373  s = [br(self.ass
-000254d0: 6967 6e5f 6c69 6365 6e73 6573 2c20 2a2a  ign_licenses, **
-000254e0: 6b77 6172 6773 2920 666f 7220 6b77 6172  kwargs) for kwar
-000254f0: 6773 2069 6e20 6c69 6365 6e73 655f 6b77  gs in license_kw
-00025500: 6172 6773 5d0a 2020 2020 2020 2020 2020  args].          
-00025510: 2020 2020 2020 7265 7173 203d 205b 2a72        reqs = [*r
-00025520: 6571 732c 202a 6c69 635f 7265 7173 5d0a  eqs, *lic_reqs].
-00025530: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00025540: 7572 6e20 6177 6169 7420 7365 6c66 2e5f  urn await self._
-00025550: 6261 7463 685f 7265 7175 6573 7428 7265  batch_request(re
-00025560: 7173 2c20 636f 6e74 696e 7565 5f6f 6e5f  qs, continue_on_
-00025570: 6661 696c 3d54 7275 6529 0a20 2020 2020  fail=True).     
-00025580: 2020 2023 2065 6c69 6620 746f 5f73 6974     # elif to_sit
-00025590: 653a 0a20 2020 2020 2020 2023 2020 2020  e:.        #    
-000255a0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-000255b0: 7228 2253 6974 6520 6361 6e20 6f6e 6c79  r("Site can only
-000255c0: 2062 6520 7072 652d 6173 7369 676e 6564   be pre-assigned
-000255d0: 2069 6620 6465 7669 6365 2069 7320 7072   if device is pr
-000255e0: 652d 7072 6f76 6973 696f 6e65 6420 746f  e-provisioned to
-000255f0: 2061 2067 726f 7570 2229 0a20 2020 2020   a group").     
-00025600: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00025610: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-00025620: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
-00025630: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
-00025640: 6461 7461 290a 0a20 2020 2023 2054 4f44  data)..    # TOD
-00025650: 4f20 6d61 7962 6520 6865 6c70 6572 206d  O maybe helper m
-00025660: 6574 686f 6420 746f 2064 656c 6574 655f  ethod to delete_
-00025670: 6465 7669 6365 2074 6861 7420 6361 6c6c  device that call
-00025680: 7320 7468 6573 650a 2020 2020 6173 796e  s these.    asyn
-00025690: 6320 6465 6620 6465 6c65 7465 5f67 6174  c def delete_gat
-000256a0: 6577 6179 280a 2020 2020 2020 2020 7365  eway(.        se
-000256b0: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
-000256c0: 616c 3a20 7374 722c 0a20 2020 2029 202d  al: str,.    ) -
-000256d0: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-000256e0: 2020 2020 2222 2244 656c 6574 6520 4761      """Delete Ga
-000256f0: 7465 7761 792e 0a0a 2020 2020 2020 2020  teway...        
-00025700: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-00025710: 2020 7365 7269 616c 2028 7374 7229 3a20    serial (str): 
-00025720: 5365 7269 616c 204e 756d 6265 7220 6f66  Serial Number of
-00025730: 2047 6174 6577 6179 2074 6f20 6265 2064   Gateway to be d
-00025740: 656c 6574 6564 0a0a 2020 2020 2020 2020  eleted..        
-00025750: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
-00025760: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
-00025770: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
-00025780: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
-00025790: 2020 2222 220a 2020 2020 2020 2020 7572    """.        ur
-000257a0: 6c20 3d20 6622 2f6d 6f6e 6974 6f72 696e  l = f"/monitorin
-000257b0: 672f 7631 2f67 6174 6577 6179 732f 7b73  g/v1/gateways/{s
-000257c0: 6572 6961 6c7d 220a 0a20 2020 2020 2020  erial}"..       
-000257d0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-000257e0: 6c66 2e64 656c 6574 6528 7572 6c29 0a0a  lf.delete(url)..
-000257f0: 2020 2020 6173 796e 6320 6465 6620 6465      async def de
-00025800: 6c65 7465 5f73 7769 7463 6828 0a20 2020  lete_switch(.   
-00025810: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-00025820: 2020 2073 6572 6961 6c3a 2073 7472 2c0a     serial: str,.
-00025830: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00025840: 653a 0a20 2020 2020 2020 2022 2222 4465  e:.        """De
-00025850: 6c65 7465 2053 7769 7463 682e 0a0a 2020  lete Switch...  
-00025860: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00025870: 2020 2020 2020 2020 7365 7269 616c 2028          serial (
-00025880: 7374 7229 3a20 5365 7269 616c 206e 756d  str): Serial num
-00025890: 6265 7220 6f66 2073 7769 7463 6820 746f  ber of switch to
-000258a0: 2062 6520 6465 6c65 7465 640a 0a20 2020   be deleted..   
-000258b0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
-000258c0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
-000258d0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
-000258e0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
-000258f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00025900: 2020 2075 726c 203d 2066 222f 6d6f 6e69     url = f"/moni
-00025910: 746f 7269 6e67 2f76 312f 7377 6974 6368  toring/v1/switch
-00025920: 6573 2f7b 7365 7269 616c 7d22 0a0a 2020  es/{serial}"..  
-00025930: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-00025940: 6974 2073 656c 662e 6465 6c65 7465 2875  it self.delete(u
-00025950: 726c 290a 0a20 2020 2061 7379 6e63 2064  rl)..    async d
-00025960: 6566 2064 656c 6574 655f 6170 280a 2020  ef delete_ap(.  
-00025970: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-00025980: 2020 2020 7365 7269 616c 3a20 7374 722c      serial: str,
-00025990: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-000259a0: 7365 3a0a 2020 2020 2020 2020 2222 2244  se:.        """D
-000259b0: 656c 6574 6520 4150 2e0a 0a20 2020 2020  elete AP...     
-000259c0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-000259d0: 2020 2020 2073 6572 6961 6c20 2873 7472       serial (str
-000259e0: 293a 2053 6572 6961 6c20 4e75 6d62 6572  ): Serial Number
-000259f0: 206f 6620 4150 2074 6f20 6265 2064 656c   of AP to be del
-00025a00: 6574 6564 0a0a 2020 2020 2020 2020 5265  eted..        Re
-00025a10: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-00025a20: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00025a30: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00025a40: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00025a50: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00025a60: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
-00025a70: 7631 2f61 7073 2f7b 7365 7269 616c 7d22  v1/aps/{serial}"
-00025a80: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00025a90: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
-00025aa0: 7465 2875 726c 290a 0a20 2020 2023 2054  te(url)..    # T
-00025ab0: 4f44 4f20 6d61 7920 7265 6d6f 7665 2074  ODO may remove t
-00025ac0: 6869 7320 776f 756c 6420 7368 6f77 2074  his would show t
-00025ad0: 6865 2064 6576 6963 6520 696e 2074 6865  he device in the
-00025ae0: 2067 726f 7570 2c20 6275 7420 6469 646e   group, but didn
-00025af0: 2774 2062 6568 6176 6520 6173 2065 7870  't behave as exp
-00025b00: 6563 7465 6420 2864 6576 6963 6520 7761  ected (device wa
-00025b10: 7320 6e6f 7420 696e 2064 6576 6963 6520  s not in device 
-00025b20: 6c69 7374 290a 2020 2020 6173 796e 6320  list).    async 
-00025b30: 6465 6620 6173 7369 676e 5f64 6576 6963  def assign_devic
-00025b40: 6573 5f74 6f5f 6772 6f75 7028 7365 6c66  es_to_group(self
-00025b50: 2c20 2067 726f 7570 3a20 7374 722c 2073  ,  group: str, s
-00025b60: 6572 6961 6c5f 6e75 6d73 3a20 556e 696f  erial_nums: Unio
-00025b70: 6e5b 4c69 7374 5b73 7472 5d2c 2073 7472  n[List[str], str
-00025b80: 5d29 202d 3e20 5265 7370 6f6e 7365 3a0a  ]) -> Response:.
-00025b90: 2020 2020 2020 2020 2222 2241 7373 6967          """Assig
-00025ba0: 6e20 6465 7669 6365 7320 746f 2070 7265  n devices to pre
-00025bb0: 2d70 726f 7669 7369 6f6e 6564 2067 726f  -provisioned gro
-00025bc0: 7570 2e0a 0a20 2020 2020 2020 202f 2f20  up...        // 
-00025bd0: 5573 6564 2069 6e64 6972 6563 746c 7920  Used indirectly 
-00025be0: 6279 2061 6464 2064 6576 6963 6520 2877  by add device (w
-00025bf0: 6865 6e20 6772 6f75 7020 6f70 7469 6f6e  hen group option
-00025c00: 2070 726f 7669 6465 6429 202f 2f0a 0a20   provided) //.. 
-00025c10: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00025c20: 2020 2020 2020 2020 2067 726f 7570 2028           group (
-00025c30: 7374 7229 3a20 4772 6f75 7020 6e61 6d65  str): Group name
-00025c40: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-00025c50: 6961 6c73 2028 4c69 7374 5b73 7472 5d7c  ials (List[str]|
-00025c60: 7374 7229 3a20 4465 7669 6365 2073 6572  str): Device ser
-00025c70: 6961 6c20 6e75 6d62 6572 206f 7220 6c69  ial number or li
-00025c80: 7374 206f 6620 6465 7669 6365 2073 6572  st of device ser
-00025c90: 6961 6c20 6e75 6d62 6572 732e 0a0a 2020  ial numbers...  
-00025ca0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-00025cb0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-00025cc0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-00025cd0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-00025ce0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00025cf0: 2020 2020 7572 6c20 3d20 222f 6465 7669      url = "/devi
-00025d00: 6365 5f6d 616e 6167 656d 656e 742f 7631  ce_management/v1
-00025d10: 2f67 726f 7570 2f61 7373 6967 6e22 0a20  /group/assign". 
-00025d20: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
-00025d30: 6d73 203d 2075 7469 6c73 2e6c 6973 7469  ms = utils.listi
-00025d40: 6679 2873 6572 6961 6c5f 6e75 6d73 290a  fy(serial_nums).
-00025d50: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
-00025d60: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
-00025d70: 2020 2027 7365 7269 616c 7327 3a20 7365     'serials': se
-00025d80: 7269 616c 5f6e 756d 732c 0a20 2020 2020  rial_nums,.     
-00025d90: 2020 2020 2020 2027 6772 6f75 7027 3a20         'group': 
-00025da0: 6772 6f75 700a 2020 2020 2020 2020 7d0a  group.        }.
-00025db0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00025dc0: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-00025dd0: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-00025de0: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-00025df0: 7379 6e63 2064 6566 2070 7265 7072 6f76  sync def preprov
-00025e00: 6973 696f 6e5f 6465 7669 6365 5f74 6f5f  ision_device_to_
-00025e10: 6772 6f75 7028 0a20 2020 2020 2020 2073  group(.        s
-00025e20: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
-00025e30: 7570 5f6e 616d 653a 2073 7472 2c0a 2020  up_name: str,.  
-00025e40: 2020 2020 2020 7365 7269 616c 5f6e 756d        serial_num
-00025e50: 733a 204c 6973 745b 7374 725d 207c 2073  s: List[str] | s
-00025e60: 7472 2c0a 2020 2020 2020 2020 7465 6e61  tr,.        tena
-00025e70: 6e74 5f69 643a 2073 7472 203d 204e 6f6e  nt_id: str = Non
-00025e80: 652c 0a20 2020 2029 202d 3e20 5265 7370  e,.    ) -> Resp
-00025e90: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-00025ea0: 2250 7265 2050 726f 7669 7369 6f6e 2061  "Pre Provision a
-00025eb0: 2067 726f 7570 2074 6f20 7468 6520 6465   group to the de
-00025ec0: 7669 6365 2e0a 0a20 2020 2020 2020 2041  vice...        A
-00025ed0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00025ee0: 2064 6576 6963 655f 6964 2028 4c69 7374   device_id (List
-00025ef0: 5b73 7472 5d29 3a20 6465 7669 6365 5f69  [str]): device_i
-00025f00: 640a 2020 2020 2020 2020 2020 2020 6772  d.            gr
-00025f10: 6f75 705f 6e61 6d65 2028 7374 7229 3a20  oup_name (str): 
-00025f20: 4772 6f75 7020 6e61 6d65 0a20 2020 2020  Group name.     
-00025f30: 2020 2020 2020 2074 656e 616e 745f 6964         tenant_id
-00025f40: 2028 7374 7229 3a20 5465 6e61 6e74 2069   (str): Tenant i
-00025f50: 642c 2028 6f6e 6c79 2061 7070 6c69 6361  d, (only applica
-00025f60: 626c 6520 7769 7468 204d 5350 206d 6f64  ble with MSP mod
-00025f70: 6529 0a0a 2020 2020 2020 2020 5265 7475  e)..        Retu
-00025f80: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00025f90: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00025fa0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00025fb0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00025fc0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00025fd0: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
-00025fe0: 7631 2f70 7265 6173 7369 676e 220a 0a20  v1/preassign".. 
-00025ff0: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
-00026000: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-00026010: 2027 6465 7669 6365 5f69 6427 3a20 7365   'device_id': se
-00026020: 7269 616c 5f6e 756d 732c 0a20 2020 2020  rial_nums,.     
-00026030: 2020 2020 2020 2027 6772 6f75 705f 6e61         'group_na
-00026040: 6d65 273a 2067 726f 7570 5f6e 616d 652c  me': group_name,
-00026050: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00026060: 2020 2020 6966 2074 656e 616e 745f 6964      if tenant_id
-00026070: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
-00026080: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
-00026090: 6174 615b 2274 656e 616e 745f 6964 225d  ata["tenant_id"]
-000260a0: 203d 2073 7472 2874 656e 616e 745f 6964   = str(tenant_id
-000260b0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
-000260c0: 6e20 6177 6169 7420 7365 6c66 2e70 6f73  n await self.pos
-000260d0: 7428 7572 6c2c 206a 736f 6e5f 6461 7461  t(url, json_data
-000260e0: 3d6a 736f 6e5f 6461 7461 290a 0a20 2020  =json_data)..   
-000260f0: 2023 2054 4f44 4f20 7665 7269 6679 2074   # TODO verify t
-00026100: 7970 652d 6869 6e74 2066 6f72 2064 6576  ype-hint for dev
-00026110: 6963 655f 6c69 7374 2069 7320 7468 6520  ice_list is the 
-00026120: 7269 6768 7420 7761 7920 746f 2064 6f20  right way to do 
-00026130: 7468 6174 2e0a 2020 2020 6173 796e 6320  that..    async 
-00026140: 6465 6620 7665 7269 6679 5f64 6576 6963  def verify_devic
-00026150: 655f 6164 6469 7469 6f6e 280a 2020 2020  e_addition(.    
-00026160: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00026170: 2020 7365 7269 616c 5f6e 756d 3a20 7374    serial_num: st
-00026180: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-00026190: 2020 6d61 635f 6164 6472 6573 733a 2073    mac_address: s
-000261a0: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-000261b0: 2020 2064 6576 6963 655f 6c69 7374 3a20     device_list: 
-000261c0: 4c69 7374 5b44 6963 745b 4c69 7465 7261  List[Dict[Litera
-000261d0: 6c5b 226d 6163 5f61 6464 7265 7373 222c  l["mac_address",
-000261e0: 2022 7365 7269 616c 5f6e 756d 225d 2c20   "serial_num"], 
-000261f0: 7374 725d 5d20 3d20 5b5d 0a20 2020 2029  str]] = [].    )
-00026200: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-00026210: 2020 2020 2020 2222 2256 6572 6966 7920        """Verify 
-00026220: 4465 7669 6365 2041 6464 6974 696f 6e0a  Device Addition.
-00026230: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-00026240: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-00026250: 6c5f 6e75 6d20 2873 7472 2c20 6f70 7469  l_num (str, opti
-00026260: 6f6e 616c 293a 2053 6572 6961 6c20 4e75  onal): Serial Nu
-00026270: 6d62 6572 206f 6620 6465 7669 6365 2074  mber of device t
-00026280: 6f20 7665 7269 6679 2e20 4465 6661 756c  o verify. Defaul
-00026290: 7473 2074 6f20 4e6f 6e65 2e0a 2020 2020  ts to None..    
-000262a0: 2020 2020 2020 2020 6d61 635f 6164 6472          mac_addr
-000262b0: 6573 7320 2873 7472 2c20 6f70 7469 6f6e  ess (str, option
-000262c0: 616c 293a 204d 6163 2041 6464 7265 7373  al): Mac Address
-000262d0: 206f 6620 6465 7669 6365 2074 6f20 7665   of device to ve
-000262e0: 7269 6679 2e20 4465 6661 756c 7473 2074  rify. Defaults t
-000262f0: 6f20 4e6f 6e65 2e0a 2020 2020 2020 2020  o None..        
-00026300: 2020 2020 6465 7669 6365 5f6c 6973 7420      device_list 
-00026310: 284c 6973 745b 4469 6374 5b4c 6974 6572  (List[Dict[Liter
-00026320: 616c 5b2c 206f 7074 696f 6e61 6c29 3a20  al[, optional): 
-00026330: 6465 7669 6365 5f6c 6973 7420 6c69 7374  device_list list
-00026340: 206f 6620 6469 6374 7320 7769 7468 0a20   of dicts with. 
-00026350: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00026360: 7365 7269 616c 5f6e 756d 2220 616e 6420  serial_num" and 
-00026370: 226d 6163 5f61 6464 7265 7373 2220 666f  "mac_address" fo
-00026380: 7220 6561 6368 2064 6576 6963 6520 746f  r each device to
-00026390: 2076 6572 6966 792e 2044 6566 6175 6c74   verify. Default
-000263a0: 7320 746f 204e 6f6e 652e 0a0a 2020 2020  s to None...    
-000263b0: 2020 2020 4d75 7374 2070 726f 7669 6465      Must provide
-000263c0: 2073 6572 6961 6c5f 6e75 6d20 616e 6420   serial_num and 
-000263d0: 6d61 635f 6164 6472 6573 7320 666f 7220  mac_address for 
-000263e0: 6561 6368 2064 6576 6963 6520 6569 7468  each device eith
-000263f0: 6572 2076 6961 206b 6579 776f 7264 2061  er via keyword a
-00026400: 7267 756d 656e 7420 6f72 206c 6973 742e  rgument or list.
-00026410: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-00026420: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-00026430: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-00026440: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-00026450: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-00026460: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-00026470: 706c 6174 666f 726d 2f64 6576 6963 655f  platform/device_
-00026480: 696e 7665 6e74 6f72 792f 7631 2f64 6576  inventory/v1/dev
-00026490: 6963 6573 2f76 6572 6966 7922 0a20 2020  ices/verify".   
-000264a0: 2020 2020 2069 6620 7365 7269 616c 5f6e       if serial_n
-000264b0: 756d 2061 6e64 206d 6163 5f61 6464 7265  um and mac_addre
-000264c0: 7373 3a0a 2020 2020 2020 2020 2020 2020  ss:.            
-000264d0: 6465 7669 6365 5f6c 6973 7420 2b3d 207b  device_list += {
-000264e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000264f0: 2022 7365 7269 616c 5f6e 756d 223a 2073   "serial_num": s
-00026500: 6572 6961 6c5f 6e75 6d2c 0a20 2020 2020  erial_num,.     
-00026510: 2020 2020 2020 2020 2020 2022 6d61 635f             "mac_
-00026520: 6164 6472 6573 7322 3a20 6d61 635f 6164  address": mac_ad
-00026530: 6472 6573 732c 0a20 2020 2020 2020 2020  dress,.         
-00026540: 2020 207d 0a0a 2020 2020 2020 2020 6966     }..        if
-00026550: 206e 6f74 2064 6576 6963 655f 6c69 7374   not device_list
-00026560: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
-00026570: 6973 6520 5661 6c75 6545 7272 6f72 280a  ise ValueError(.
-00026580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026590: 2249 6e76 616c 6964 2070 6172 616d 6574  "Invalid paramet
-000265a0: 6572 7320 6578 7065 6374 696e 6720 7365  ers expecting se
-000265b0: 7269 616c 5f6e 756d 2061 6e64 206d 6163  rial_num and mac
-000265c0: 5f61 6464 7265 7373 2066 6f72 2065 6163  _address for eac
-000265d0: 6820 6465 7669 6365 2022 0a20 2020 2020  h device ".     
-000265e0: 2020 2020 2020 2020 2020 2022 6569 7468             "eith
-000265f0: 6572 2076 6961 206b 6579 776f 7264 2061  er via keyword a
-00026600: 7267 756d 656e 7420 6f72 204c 6973 745b  rgument or List[
-00026610: 6469 6374 5d2e 220a 2020 2020 2020 2020  dict].".        
-00026620: 2020 2020 290a 0a20 2020 2020 2020 2072      )..        r
-00026630: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00026640: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-00026650: 6461 7461 3d64 6576 6963 655f 6c69 7374  data=device_list
-00026660: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00026670: 2075 706c 6f61 645f 6365 7274 6966 6963   upload_certific
-00026680: 6174 6528 0a20 2020 2020 2020 2073 656c  ate(.        sel
-00026690: 662c 0a20 2020 2020 2020 2070 6173 7370  f,.        passp
-000266a0: 6872 6173 653a 2073 7472 203d 2022 222c  hrase: str = "",
-000266b0: 0a20 2020 2020 2020 2063 6572 745f 6669  .        cert_fi
-000266c0: 6c65 3a20 556e 696f 6e5b 7374 722c 2050  le: Union[str, P
-000266d0: 6174 685d 203d 204e 6f6e 652c 0a20 2020  ath] = None,.   
-000266e0: 2020 2020 2063 6572 745f 6e61 6d65 3a20       cert_name: 
-000266f0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-00026700: 2020 2020 6365 7274 5f66 6f72 6d61 743a      cert_format:
-00026710: 204c 6974 6572 616c 5b22 5045 4d22 2c20   Literal["PEM", 
-00026720: 2244 4552 222c 2022 504b 4353 3132 225d  "DER", "PKCS12"]
-00026730: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-00026740: 2063 6572 745f 6461 7461 3a20 7374 7220   cert_data: str 
-00026750: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00026760: 7365 7276 6572 5f63 6572 743a 2062 6f6f  server_cert: boo
-00026770: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
-00026780: 2020 2063 615f 6365 7274 3a20 626f 6f6c     ca_cert: bool
-00026790: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-000267a0: 2020 6372 6c3a 2062 6f6f 6c20 3d20 4661    crl: bool = Fa
-000267b0: 6c73 652c 0a20 2020 2020 2020 2069 6e74  lse,.        int
-000267c0: 5f63 615f 6365 7274 3a20 626f 6f6c 203d  _ca_cert: bool =
-000267d0: 2046 616c 7365 2c0a 2020 2020 2020 2020   False,.        
-000267e0: 6f63 7370 5f72 6573 705f 6365 7274 3a20  ocsp_resp_cert: 
-000267f0: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
-00026800: 2020 2020 2020 6f63 7370 5f73 6967 6e65        ocsp_signe
-00026810: 725f 6365 7274 3a20 626f 6f6c 203d 2046  r_cert: bool = F
-00026820: 616c 7365 2c0a 2020 2020 2020 2020 7373  alse,.        ss
-00026830: 685f 7075 625f 6b65 793a 2062 6f6f 6c20  h_pub_key: bool 
-00026840: 3d20 4661 6c73 652c 0a20 2020 2029 202d  = False,.    ) -
-00026850: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
-00026860: 2020 2020 2222 2255 706c 6f61 6420 6120      """Upload a 
-00026870: 6365 7274 6966 6963 6174 652e 0a0a 2020  certificate...  
-00026880: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-00026890: 2020 2020 2020 2020 7061 7373 7068 7261          passphra
-000268a0: 7365 2028 7374 7229 3a20 7061 7373 7068  se (str): passph
-000268b0: 7261 7365 0a20 2020 2020 2020 2020 2020  rase.           
-000268c0: 2063 6572 745f 6669 6c65 2028 5061 7468   cert_file (Path
-000268d0: 7c73 7472 2c20 6f70 7469 6f6e 616c 293a  |str, optional):
-000268e0: 2043 6572 7420 6669 6c65 2074 6f20 7570   Cert file to up
-000268f0: 6c6f 6164 2c20 6966 2066 696c 6520 6973  load, if file is
-00026900: 2070 726f 7669 6465 6420 6365 7274 5f6e   provided cert_n
-00026910: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-00026920: 2020 2020 616e 6420 6365 7274 5f66 6f72      and cert_for
-00026930: 6d61 7420 7769 6c6c 2062 6520 6465 7269  mat will be deri
-00026940: 7665 6420 6672 6f6d 2066 696c 6520 6e61  ved from file na
-00026950: 6d65 202f 2065 7874 656e 7369 6f6e 2c20  me / extension, 
-00026960: 756e 6c65 7373 2074 686f 7365 2070 6172  unless those par
-00026970: 616d 730a 2020 2020 2020 2020 2020 2020  ams.            
-00026980: 2020 2020 6172 6520 616c 736f 2070 726f      are also pro
-00026990: 7669 6465 642e 0a20 2020 2020 2020 2020  vided..         
-000269a0: 2020 2063 6572 745f 6e61 6d65 2028 7374     cert_name (st
-000269b0: 722c 206f 7074 696f 6e61 6c29 3a20 5468  r, optional): Th
-000269c0: 6520 6e61 6d65 206f 6620 7468 6520 6365  e name of the ce
-000269d0: 7274 6966 6963 6174 652e 0a20 2020 2020  rtificate..     
-000269e0: 2020 2020 2020 2063 6572 745f 666f 726d         cert_form
-000269f0: 6174 2028 4c69 7465 7261 6c5b 2250 454d  at (Literal["PEM
-00026a00: 222c 2022 4445 5222 2c20 2250 4b43 5331  ", "DER", "PKCS1
-00026a10: 3222 5d2c 206f 7074 696f 6e61 6c29 3a20  2"], optional): 
-00026a20: 6365 7274 5f66 6f72 6d61 7420 2056 616c  cert_format  Val
-00026a30: 6964 2056 616c 7565 733a 2050 454d 2c20  id Values: PEM, 
-00026a40: 4445 522c 2050 4b43 5331 320a 2020 2020  DER, PKCS12.    
-00026a50: 2020 2020 2020 2020 6365 7274 5f64 6174          cert_dat
-00026a60: 6120 2873 7472 2c20 6f70 7469 6f6e 616c  a (str, optional
-00026a70: 293a 2043 6572 7469 6669 6361 7465 2063  ): Certificate c
-00026a80: 6f6e 7465 6e74 2065 6e63 6f64 6564 2069  ontent encoded i
-00026a90: 6e20 6261 7365 3634 2066 6f72 2061 6c6c  n base64 for all
-00026aa0: 2066 6f72 6d61 7420 6365 7274 6966 6963   format certific
-00026ab0: 6174 6573 2e0a 2020 2020 2020 2020 2020  ates..          
-00026ac0: 2020 7365 7276 6572 5f63 6572 7420 2862    server_cert (b
-00026ad0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
-00026ae0: 5365 7420 746f 2054 7275 6520 6966 2063  Set to True if c
-00026af0: 6572 7420 6973 2061 2073 6572 7665 7220  ert is a server 
-00026b00: 6365 7274 6966 6963 6174 652e 2044 6566  certificate. Def
-00026b10: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
-00026b20: 2020 2020 2020 2020 2020 2020 6361 5f63              ca_c
-00026b30: 6572 7420 2862 6f6f 6c2c 206f 7074 696f  ert (bool, optio
-00026b40: 6e61 6c29 3a20 5365 7420 746f 2054 7275  nal): Set to Tru
-00026b50: 6520 6966 2063 6572 7420 6973 2061 2043  e if cert is a C
-00026b60: 4120 4365 7274 6966 6963 6174 652e 2044  A Certificate. D
-00026b70: 6566 6175 6c74 7320 746f 2046 616c 7365  efaults to False
-00026b80: 2e0a 2020 2020 2020 2020 2020 2020 6372  ..            cr
-00026b90: 6c20 2862 6f6f 6c2c 206f 7074 696f 6e61  l (bool, optiona
-00026ba0: 6c29 3a20 5365 7420 746f 2054 7275 6520  l): Set to True 
-00026bb0: 6966 2064 6174 6120 6973 2061 2063 6572  if data is a cer
-00026bc0: 7469 6669 6361 7465 2072 6576 6f63 6174  tificate revocat
-00026bd0: 696f 6e20 6c69 7374 2e20 4465 6661 756c  ion list. Defaul
-00026be0: 7473 2074 6f20 4661 6c73 652e 0a20 2020  ts to False..   
-00026bf0: 2020 2020 2020 2020 2069 6e74 5f63 615f           int_ca_
-00026c00: 6365 7274 2028 626f 6f6c 2c20 6f70 7469  cert (bool, opti
-00026c10: 6f6e 616c 293a 2053 6574 2074 6f20 5472  onal): Set to Tr
-00026c20: 7565 2069 6620 6365 7274 6966 6963 6174  ue if certificat
-00026c30: 6520 6973 2061 6e20 696e 7465 726d 6564  e is an intermed
-00026c40: 6961 7465 2043 4120 6365 7274 2e20 4465  iate CA cert. De
-00026c50: 6661 756c 7473 2074 6f20 4661 6c73 652e  faults to False.
-00026c60: 0a20 2020 2020 2020 2020 2020 206f 6373  .            ocs
-00026c70: 705f 7265 7370 5f63 6572 7420 2862 6f6f  p_resp_cert (boo
-00026c80: 6c2c 206f 7074 696f 6e61 6c29 3a20 5365  l, optional): Se
-00026c90: 7420 746f 2054 7275 6520 6966 2063 6572  t to True if cer
-00026ca0: 7469 6669 6361 7465 2069 7320 616e 204f  tificate is an O
-00026cb0: 4353 5020 7265 7370 6f6e 6465 7220 6365  CSP responder ce
-00026cc0: 7274 2e20 4465 6661 756c 7473 2074 6f20  rt. Defaults to 
-00026cd0: 4661 6c73 652e 0a20 2020 2020 2020 2020  False..         
-00026ce0: 2020 206f 6373 705f 7369 676e 6572 5f63     ocsp_signer_c
-00026cf0: 6572 7420 2862 6f6f 6c2c 206f 7074 696f  ert (bool, optio
-00026d00: 6e61 6c29 3a20 5365 7420 746f 2054 7275  nal): Set to Tru
-00026d10: 6520 6966 2063 6572 7469 6669 6361 7465  e if certificate
-00026d20: 2069 7320 616e 204f 4353 5020 7369 676e   is an OCSP sign
-00026d30: 6572 2063 6572 742e 2044 6566 6175 6c74  er cert. Default
-00026d40: 7320 746f 2046 616c 7365 2e0a 2020 2020  s to False..    
-00026d50: 2020 2020 2020 2020 7373 685f 7075 625f          ssh_pub_
-00026d60: 6b65 7920 2862 6f6f 6c2c 206f 7074 696f  key (bool, optio
-00026d70: 6e61 6c29 3a20 5365 7420 746f 2054 7275  nal): Set to Tru
-00026d80: 6520 6966 2063 6572 7469 6669 6361 7465  e if certificate
-00026d90: 2069 7320 616e 2053 5348 2050 7562 206b   is an SSH Pub k
-00026da0: 6579 2e20 4465 6661 756c 7473 2074 6f20  ey. Defaults to 
-00026db0: 4661 6c73 652e 0a20 2020 2020 2020 2020  False..         
-00026dc0: 2020 2020 2020 2073 7368 5f70 7562 5f6b         ssh_pub_k
-00026dd0: 6579 206e 6565 6473 2074 6f20 6265 2069  ey needs to be i
-00026de0: 6e20 5045 4d20 666f 726d 6174 2c20 7373  n PEM format, ss
-00026df0: 682d 7273 6120 6973 206e 6f74 2073 7570  h-rsa is not sup
-00026e00: 706f 7274 6564 2e0a 0a20 2020 2020 2020  ported...       
-00026e10: 2052 6169 7365 733a 0a20 2020 2020 2020   Raises:.       
-00026e20: 2020 2020 2056 616c 7565 4572 726f 723a       ValueError:
-00026e30: 2052 6169 7365 6420 6966 2069 6e76 616c   Raised if inval
-00026e40: 6964 2063 6f6d 6269 6e61 7469 6f6e 206f  id combination o
-00026e50: 6620 6172 6775 6d65 6e74 7320 6973 2070  f arguments is p
-00026e60: 726f 7669 6465 642e 0a0a 2020 2020 2020  rovided...      
-00026e70: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00026e80: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00026e90: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00026ea0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00026eb0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00026ec0: 2320 4150 492d 464c 4157 2041 5049 206d  # API-FLAW API m
-00026ed0: 6574 686f 642c 2050 5542 4c49 435f 4345  ethod, PUBLIC_CE
-00026ee0: 5254 2069 7320 6e6f 7420 6163 6365 7074  RT is not accept
-00026ef0: 6564 0a20 2020 2020 2020 2075 726c 203d  ed.        url =
-00026f00: 2022 2f63 6f6e 6669 6775 7261 7469 6f6e   "/configuration
-00026f10: 2f76 312f 6365 7274 6966 6963 6174 6573  /v1/certificates
-00026f20: 220a 2020 2020 2020 2020 7661 6c69 645f  ".        valid_
-00026f30: 7479 7065 7320 3d20 5b0a 2020 2020 2020  types = [.      
-00026f40: 2020 2020 2020 2253 4552 5645 525f 4345        "SERVER_CE
-00026f50: 5254 222c 0a20 2020 2020 2020 2020 2020  RT",.           
-00026f60: 2022 4341 5f43 4552 5422 2c0a 2020 2020   "CA_CERT",.    
-00026f70: 2020 2020 2020 2020 2243 524c 222c 0a20          "CRL",. 
-00026f80: 2020 2020 2020 2020 2020 2022 494e 5445             "INTE
-00026f90: 524d 4544 4941 5445 5f43 4122 2c0a 2020  RMEDIATE_CA",.  
-00026fa0: 2020 2020 2020 2020 2020 224f 4353 505f            "OCSP_
-00026fb0: 5245 5350 4f4e 4445 525f 4345 5254 222c  RESPONDER_CERT",
-00026fc0: 0a20 2020 2020 2020 2020 2020 2022 4f43  .            "OC
-00026fd0: 5350 5f53 4947 4e45 525f 4345 5254 222c  SP_SIGNER_CERT",
-00026fe0: 0a20 2020 2020 2020 2020 2020 2022 5055  .            "PU
-00026ff0: 424c 4943 5f43 4552 5422 0a20 2020 2020  BLIC_CERT".     
-00027000: 2020 205d 0a20 2020 2020 2020 2074 7970     ].        typ
-00027010: 655f 7661 7273 203d 205b 7365 7276 6572  e_vars = [server
-00027020: 5f63 6572 742c 2063 615f 6365 7274 2c20  _cert, ca_cert, 
-00027030: 6372 6c2c 2069 6e74 5f63 615f 6365 7274  crl, int_ca_cert
-00027040: 2c20 6f63 7370 5f72 6573 705f 6365 7274  , ocsp_resp_cert
-00027050: 2c20 6f63 7370 5f73 6967 6e65 725f 6365  , ocsp_signer_ce
-00027060: 7274 2c20 7373 685f 7075 625f 6b65 795d  rt, ssh_pub_key]
-00027070: 0a20 2020 2020 2020 2069 6620 7479 7065  .        if type
-00027080: 5f76 6172 732e 636f 756e 7428 5472 7565  _vars.count(True
-00027090: 2920 3e20 313a 0a20 2020 2020 2020 2020  ) > 1:.         
-000270a0: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
-000270b0: 726f 7228 2250 726f 7669 6465 6420 636f  ror("Provided co
-000270c0: 6e66 6c69 6374 696e 6720 6365 7274 6966  nflicting certif
-000270d0: 6963 6174 6520 7479 7065 732c 206f 6e6c  icate types, onl
-000270e0: 7920 3120 7368 6f75 6c64 2062 6520 7365  y 1 should be se
-000270f0: 7420 746f 2054 7275 652e 2229 0a20 2020  t to True.").   
-00027100: 2020 2020 2065 6c69 6620 616c 6c28 5b6e       elif all([n
-00027110: 6f74 2062 6f6f 6c28 7661 7229 2066 6f72  ot bool(var) for
-00027120: 2076 6172 2069 6e20 7479 7065 5f76 6172   var in type_var
-00027130: 735d 293a 0a20 2020 2020 2020 2020 2020  s]):.           
-00027140: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-00027150: 7228 224e 6f20 6365 7274 5f74 7970 6520  r("No cert_type 
-00027160: 7072 6f76 6964 6564 2c20 6f6e 6520 6f66  provided, one of
-00027170: 2074 6865 2063 6572 745f 7479 7065 7320   the cert_types 
-00027180: 7368 6f75 6c64 2062 6520 7365 7420 746f  should be set to
-00027190: 2054 7275 6522 290a 0a20 2020 2020 2020   True")..       
-000271a0: 2069 6620 6365 7274 5f66 6f72 6d61 7420   if cert_format 
-000271b0: 616e 6420 6365 7274 5f66 6f72 6d61 742e  and cert_format.
-000271c0: 7570 7065 7228 2920 6e6f 7420 696e 205b  upper() not in [
-000271d0: 2250 454d 222c 2022 4445 5222 2c20 2250  "PEM", "DER", "P
-000271e0: 4b43 5331 3222 5d3a 0a20 2020 2020 2020  KCS12"]:.       
-000271f0: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-00027200: 4572 726f 7228 6622 496e 7661 6c69 6420  Error(f"Invalid 
-00027210: 6365 7274 5f66 6f72 6d61 7420 7b63 6572  cert_format {cer
-00027220: 745f 666f 726d 6174 7d2c 2076 616c 6964  t_format}, valid
-00027230: 2076 616c 7565 7320 6172 6520 2750 454d   values are 'PEM
-00027240: 272c 2027 4445 5227 2c20 2750 4b43 5331  ', 'DER', 'PKCS1
-00027250: 3227 2229 0a20 2020 2020 2020 2065 6c69  2'").        eli
-00027260: 6620 6e6f 7420 6365 7274 5f66 6f72 6d61  f not cert_forma
-00027270: 7420 616e 6420 6e6f 7420 6365 7274 5f66  t and not cert_f
-00027280: 696c 653a 0a20 2020 2020 2020 2020 2020  ile:.           
-00027290: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-000272a0: 7228 2263 6572 745f 666f 726d 6174 2069  r("cert_format i
-000272b0: 7320 7265 7175 6972 6564 2077 6865 6e20  s required when 
-000272c0: 6e6f 7420 7072 6f76 6964 696e 6720 6365  not providing ce
-000272d0: 7274 6966 6963 6174 6520 7669 6120 6669  rtificate via fi
-000272e0: 6c65 2e22 290a 0a20 2020 2020 2020 2069  le.")..        i
-000272f0: 6620 6e6f 7420 6365 7274 5f64 6174 6120  f not cert_data 
-00027300: 616e 6420 6e6f 7420 6365 7274 5f66 696c  and not cert_fil
-00027310: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-00027320: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-00027330: 224f 6e65 206f 6620 6365 7274 5f66 696c  "One of cert_fil
-00027340: 6520 6f72 2063 6572 745f 6461 7461 2073  e or cert_data s
-00027350: 686f 756c 6420 6265 2070 726f 7669 6465  hould be provide
-00027360: 6422 290a 2020 2020 2020 2020 656c 6966  d").        elif
-00027370: 2063 6572 745f 6461 7461 2061 6e64 2063   cert_data and c
-00027380: 6572 745f 6669 6c65 3a0a 2020 2020 2020  ert_file:.      
-00027390: 2020 2020 2020 7261 6973 6520 5661 6c75        raise Valu
-000273a0: 6545 7272 6f72 2822 4f6e 6c79 206f 6e65  eError("Only one
-000273b0: 206f 6620 6365 7274 5f66 696c 6520 616e   of cert_file an
-000273c0: 6420 6365 7274 5f64 6174 6120 7368 6f75  d cert_data shou
-000273d0: 6c64 2062 6520 7072 6f76 6964 6564 2229  ld be provided")
-000273e0: 0a0a 2020 2020 2020 2020 666f 7220 6365  ..        for ce
-000273f0: 7274 5f74 7970 652c 2076 6172 2069 6e20  rt_type, var in 
-00027400: 7a69 7028 7661 6c69 645f 7479 7065 732c  zip(valid_types,
-00027410: 2074 7970 655f 7661 7273 293a 0a20 2020   type_vars):.   
-00027420: 2020 2020 2020 2020 2069 6620 7661 723a           if var:
-00027430: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00027440: 2062 7265 616b 0a0a 2020 2020 2020 2020   break..        
-00027450: 6966 2063 6572 745f 6669 6c65 3a0a 2020  if cert_file:.  
-00027460: 2020 2020 2020 2020 2020 6365 7274 5f66            cert_f
-00027470: 696c 6520 3d20 5061 7468 2863 6572 745f  ile = Path(cert_
-00027480: 6669 6c65 2920 6966 206e 6f74 2069 7369  file) if not isi
-00027490: 6e73 7461 6e63 6528 6365 7274 5f66 696c  nstance(cert_fil
-000274a0: 652c 2050 6174 6829 2065 6c73 6520 6365  e, Path) else ce
-000274b0: 7274 5f66 696c 650a 2020 2020 2020 2020  rt_file.        
-000274c0: 2020 2020 6365 7274 5f6e 616d 6520 3d20      cert_name = 
-000274d0: 6365 7274 5f6e 616d 6520 6f72 2063 6572  cert_name or cer
-000274e0: 745f 6669 6c65 2e73 7465 6d0a 2020 2020  t_file.stem.    
-000274f0: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
-00027500: 6572 745f 666f 726d 6174 3a0a 2020 2020  ert_format:.    
-00027510: 2020 2020 2020 2020 2020 2020 6966 2063              if c
-00027520: 6572 745f 6669 6c65 2e73 7566 6669 782e  ert_file.suffix.
-00027530: 6c6f 7765 7228 2920 696e 205b 222e 7066  lower() in [".pf
-00027540: 7822 2c20 222e 7031 3222 5d3a 0a20 2020  x", ".p12"]:.   
-00027550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027560: 2063 6572 745f 666f 726d 6174 203d 2022   cert_format = "
-00027570: 504b 4353 3132 220a 2020 2020 2020 2020  PKCS12".        
-00027580: 2020 2020 2020 2020 656c 6966 2063 6572          elif cer
-00027590: 745f 6669 6c65 2e73 7566 6669 782e 6c6f  t_file.suffix.lo
-000275a0: 7765 7228 2920 696e 205b 222e 7065 6d22  wer() in [".pem"
-000275b0: 2c20 222e 6365 7222 5d3a 0a20 2020 2020  , ".cer"]:.     
-000275c0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-000275d0: 6572 745f 666f 726d 6174 203d 2022 5045  ert_format = "PE
-000275e0: 4d22 0a20 2020 2020 2020 2020 2020 2020  M".             
-000275f0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-00027600: 2020 2020 2020 2020 2020 2020 2023 2054               # T
-00027610: 4f44 4f20 6465 7465 726d 696e 6520 666f  ODO determine fo
-00027620: 726d 6174 2075 7369 6e67 2063 7279 7074  rmat using crypt
-00027630: 6f67 7261 7068 7920 6c69 620a 2020 2020  ography lib.    
-00027640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027650: 6365 7274 5f66 6f72 6d61 7420 3d20 2244  cert_format = "D
-00027660: 4552 220a 2020 2020 2020 2020 2020 2020  ER".            
-00027670: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00027680: 2020 2020 2020 6365 7274 5f66 6f72 6d61        cert_forma
-00027690: 7420 3d20 6365 7274 5f66 6f72 6d61 742e  t = cert_format.
-000276a0: 7570 7065 7228 290a 0a20 2020 2020 2020  upper()..       
-000276b0: 2020 2020 2063 6572 745f 6461 7461 203d       cert_data =
-000276c0: 2063 6572 745f 6669 6c65 2e72 6561 645f   cert_file.read_
-000276d0: 7465 7874 2829 0a0a 2020 2020 2020 2020  text()..        
-000276e0: 6365 7274 5f62 7974 6573 203d 2063 6572  cert_bytes = cer
-000276f0: 745f 6461 7461 2e65 6e63 6f64 6528 2275  t_data.encode("u
-00027700: 7466 2d38 2229 0a20 2020 2020 2020 2063  tf-8").        c
-00027710: 6572 745f 6236 3420 3d20 6261 7365 3634  ert_b64 = base64
-00027720: 2e62 3634 656e 636f 6465 2863 6572 745f  .b64encode(cert_
-00027730: 6279 7465 7329 2e64 6563 6f64 6528 2275  bytes).decode("u
-00027740: 7466 2d38 2229 0a0a 2020 2020 2020 2020  tf-8")..        
-00027750: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
-00027760: 2020 2020 2020 2020 2020 2763 6572 745f            'cert_
-00027770: 6e61 6d65 273a 2063 6572 745f 6e61 6d65  name': cert_name
-00027780: 2c0a 2020 2020 2020 2020 2020 2020 2763  ,.            'c
-00027790: 6572 745f 7479 7065 273a 2063 6572 745f  ert_type': cert_
-000277a0: 7479 7065 2c0a 2020 2020 2020 2020 2020  type,.          
-000277b0: 2020 2763 6572 745f 666f 726d 6174 273a    'cert_format':
-000277c0: 2063 6572 745f 666f 726d 6174 2c0a 2020   cert_format,.  
-000277d0: 2020 2020 2020 2020 2020 2770 6173 7370            'passp
-000277e0: 6872 6173 6527 3a20 7061 7373 7068 7261  hrase': passphra
-000277f0: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
-00027800: 2763 6572 745f 6461 7461 273a 2063 6572  'cert_data': cer
-00027810: 745f 6236 340a 2020 2020 2020 2020 7d0a  t_b64.        }.
-00027820: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00027830: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
-00027840: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
-00027850: 736f 6e5f 6461 7461 290a 0a20 2020 2061  son_data)..    a
-00027860: 7379 6e63 2064 6566 2067 6574 5f73 7562  sync def get_sub
-00027870: 7363 7269 7074 696f 6e73 280a 2020 2020  scriptions(.    
-00027880: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-00027890: 2020 6c69 6365 6e73 655f 7479 7065 3a20    license_type: 
-000278a0: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
-000278b0: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-000278c0: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-000278d0: 6974 3a20 696e 7420 3d20 3130 3030 2c20  it: int = 1000, 
-000278e0: 2023 2044 6f65 736e 2774 2061 7070 6561   # Doesn't appea
-000278f0: 7220 746f 2068 6176 6520 6d61 782c 2061  r to have max, a
-00027900: 6c6c 6f77 6564 2031 306b 206c 696d 6974  llowed 10k limit
-00027910: 2069 6e20 7377 6167 6765 720a 2020 2020   in swagger.    
-00027920: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00027930: 2020 2020 2020 2022 2222 4765 7420 7573         """Get us
-00027940: 6572 2073 7562 7363 7269 7074 696f 6e20  er subscription 
-00027950: 6b65 7973 2e0a 0a20 2020 2020 2020 2041  keys...        A
-00027960: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
-00027970: 206c 6963 656e 7365 5f74 7970 6520 2873   license_type (s
-00027980: 7472 2c20 6f70 7469 6f6e 616c 293a 2053  tr, optional): S
-00027990: 7570 706f 7274 7320 4261 7369 632c 2053  upports Basic, S
-000279a0: 6572 7669 6365 2054 6f6b 656e 2061 6e64  ervice Token and
-000279b0: 204d 756c 7469 2054 6965 7220 6c69 6365   Multi Tier lice
-000279c0: 6e73 696e 670a 2020 2020 2020 2020 2020  nsing.          
-000279d0: 2020 2020 2020 7479 7065 7320 6173 2077        types as w
-000279e0: 656c 6c0a 2020 2020 2020 2020 2020 2020  ell.            
-000279f0: 6f66 6673 6574 2028 696e 742c 206f 7074  offset (int, opt
-00027a00: 696f 6e61 6c29 3a20 6f66 6673 6574 206f  ional): offset o
-00027a10: 7220 7061 6765 206e 756d 6265 7220 4465  r page number De
-00027a20: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
-00027a30: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
-00027a40: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
-00027a50: 4e75 6d62 6572 206f 6620 7375 6273 6372  Number of subscr
-00027a60: 6970 7469 6f6e 7320 746f 2067 6574 2044  iptions to get D
-00027a70: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-00027a80: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00027a90: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00027aa0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00027ab0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00027ac0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00027ad0: 2020 2020 2020 2075 726c 203d 2022 2f70         url = "/p
-00027ae0: 6c61 7466 6f72 6d2f 6c69 6365 6e73 696e  latform/licensin
-00027af0: 672f 7631 2f73 7562 7363 7269 7074 696f  g/v1/subscriptio
-00027b00: 6e73 220a 0a20 2020 2020 2020 2070 6172  ns"..        par
-00027b10: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-00027b20: 2020 2020 276c 6963 656e 7365 5f74 7970      'license_typ
-00027b30: 6527 3a20 6c69 6365 6e73 655f 7479 7065  e': license_type
-00027b40: 2c0a 2020 2020 2020 2020 2020 2020 276f  ,.            'o
-00027b50: 6666 7365 7427 3a20 6f66 6673 6574 2c0a  ffset': offset,.
-00027b60: 2020 2020 2020 2020 2020 2020 276c 696d              'lim
-00027b70: 6974 273a 206c 696d 6974 0a20 2020 2020  it': limit.     
-00027b80: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
-00027b90: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
-00027ba0: 6765 7428 7572 6c2c 2070 6172 616d 733d  get(url, params=
-00027bb0: 7061 7261 6d73 290a 0a20 2020 2061 7379  params)..    asy
-00027bc0: 6e63 2064 6566 2067 6574 5f73 7562 7363  nc def get_subsc
-00027bd0: 7269 7074 696f 6e5f 7374 6174 7328 0a20  ription_stats(. 
-00027be0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-00027bf0: 2020 2020 206c 6963 656e 7365 5f74 7970       license_typ
-00027c00: 653a 2073 7472 203d 2027 616c 6c27 2c0a  e: str = 'all',.
-00027c10: 2020 2020 2020 2020 7365 7276 6963 653a          service:
-00027c20: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-00027c30: 2020 2020 2061 7070 5f6f 6e6c 795f 7374       app_only_st
-00027c40: 6174 733a 2062 6f6f 6c20 3d20 4e6f 6e65  ats: bool = None
-00027c50: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-00027c60: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-00027c70: 4765 7420 7375 6273 6372 6970 7469 6f6e  Get subscription
-00027c80: 2073 7461 7473 2e0a 0a20 2020 2020 2020   stats...       
-00027c90: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00027ca0: 2020 206c 6963 656e 7365 5f74 7970 6520     license_type 
-00027cb0: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
-00027cc0: 2053 7570 706f 7274 7320 6261 7369 632f   Supports basic/
-00027cd0: 7370 6563 6961 6c2f 616c 6c2e 0a20 2020  special/all..   
-00027ce0: 2020 2020 2020 2020 2020 2020 2073 7065               spe
-00027cf0: 6369 616c 202d 2077 696c 6c20 6665 7463  cial - will fetc
-00027d00: 6820 7468 6520 7374 6174 6973 7469 6373  h the statistics
-00027d10: 206f 6620 7370 6563 6961 6c20 6365 6e74   of special cent
-00027d20: 7261 6c20 7365 7276 6963 6573 206c 696b  ral services lik
-00027d30: 6520 7072 6573 656e 6365 0a20 2020 2020  e presence.     
-00027d40: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00027d50: 6e61 6c79 7469 6373 2870 6129 2c20 7563  nalytics(pa), uc
-00027d60: 632c 2063 6c61 7269 7479 2065 7463 2e0a  c, clarity etc..
-00027d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027d80: 6261 7369 6320 2d20 7769 6c6c 2066 6574  basic - will fet
-00027d90: 6368 2074 6865 2073 7461 7469 7374 6963  ch the statistic
-00027da0: 7320 6f66 2064 6576 6963 6520 6d61 6e61  s of device mana
-00027db0: 6765 6d65 6e74 2073 6572 7669 6365 206c  gement service l
-00027dc0: 6963 656e 7365 732e 0a20 2020 2020 2020  icenses..       
-00027dd0: 2020 2020 2020 2020 2061 6c6c 202d 2077           all - w
-00027de0: 696c 6c20 6665 7463 6820 626f 7468 206f  ill fetch both o
-00027df0: 6620 7468 6573 6520 6c69 6365 6e73 6520  f these license 
-00027e00: 7479 7065 732e 0a0a 2020 2020 2020 2020  types...        
-00027e10: 2020 2020 2020 2020 416c 736f 2073 7570          Also sup
-00027e20: 706f 7274 7320 6d75 6c74 6920 7469 6572  ports multi tier
-00027e30: 206c 6963 656e 7365 2074 7970 6573 2073   license types s
-00027e40: 7563 6820 666f 756e 6461 7469 6f6e 5f61  uch foundation_a
-00027e50: 702c 2061 6476 616e 6365 645f 7377 6974  p, advanced_swit
-00027e60: 6368 5f36 3330 302c 0a20 2020 2020 2020  ch_6300,.       
-00027e70: 2020 2020 2020 2020 2066 6f75 6e64 6174           foundat
-00027e80: 696f 6e5f 3730 5858 2065 7463 2e0a 0a20  ion_70XX etc... 
-00027e90: 2020 2020 2020 2020 2020 2073 6572 7669             servi
-00027ea0: 6365 2028 7374 722c 206f 7074 696f 6e61  ce (str, optiona
-00027eb0: 6c29 3a20 5365 7276 6963 6520 7479 7065  l): Service type
-00027ec0: 3a20 7061 2f70 612c 636c 6172 6974 792c  : pa/pa,clarity,
-00027ed0: 666f 756e 6461 7469 6f6e 5f61 702c 0a20  foundation_ap,. 
-00027ee0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00027ef0: 6476 616e 6365 645f 7377 6974 6368 5f36  dvanced_switch_6
-00027f00: 3330 302c 2066 6f75 6e64 6174 696f 6e5f  300, foundation_
-00027f10: 3730 5858 2020 6574 632e 0a20 2020 2020  70XX  etc..     
-00027f20: 2020 2020 2020 2061 7070 5f6f 6e6c 795f         app_only_
-00027f30: 7374 6174 7320 2862 6f6f 6c2c 206f 7074  stats (bool, opt
-00027f40: 696f 6e61 6c29 3a20 4966 2076 616c 7565  ional): If value
-00027f50: 2069 7320 5472 7565 2c20 7374 6174 7320   is True, stats 
-00027f60: 6f6e 6c79 2066 6f72 2074 6865 2063 7572  only for the cur
-00027f70: 7265 6e74 0a20 2020 2020 2020 2020 2020  rent.           
-00027f80: 2020 2020 2061 7070 6c69 6361 7469 6f6e       application
-00027f90: 2072 6574 7572 6e65 6420 7261 7468 6572   returned rather
-00027fa0: 2074 6861 6e20 676c 6f62 616c 2073 7461   than global sta
-00027fb0: 7473 0a0a 2020 2020 2020 2020 5265 7475  ts..        Retu
-00027fc0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-00027fd0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-00027fe0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-00027ff0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-00028000: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-00028010: 222f 706c 6174 666f 726d 2f6c 6963 656e  "/platform/licen
-00028020: 7369 6e67 2f76 312f 7375 6273 6372 6970  sing/v1/subscrip
-00028030: 7469 6f6e 732f 7374 6174 7322 0a0a 2020  tions/stats"..  
-00028040: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-00028050: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
-00028060: 6365 6e73 655f 7479 7065 273a 206c 6963  cense_type': lic
-00028070: 656e 7365 5f74 7970 652c 0a20 2020 2020  ense_type,.     
-00028080: 2020 2020 2020 2027 7365 7276 6963 6527         'service'
-00028090: 3a20 7365 7276 6963 652c 0a20 2020 2020  : service,.     
-000280a0: 2020 2020 2020 2027 6170 705f 6f6e 6c79         'app_only
-000280b0: 5f73 7461 7473 273a 2061 7070 5f6f 6e6c  _stats': app_onl
-000280c0: 795f 7374 6174 730a 2020 2020 2020 2020  y_stats.        
-000280d0: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-000280e0: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-000280f0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-00028100: 616d 7329 0a0a 2020 2020 2320 4150 492d  ams)..    # API-
-00028110: 4e4f 5445 3a20 6772 6162 7320 416c 6c20  NOTE: grabs All 
-00028120: 7661 6c69 6420 6c69 6365 6e73 6520 7479  valid license ty
-00028130: 7065 732c 2064 6973 706c 6179 206e 616d  pes, display nam
-00028140: 6573 2e2e 2e0a 2020 2020 6173 796e 6320  es....    async 
-00028150: 6465 6620 6765 745f 7365 7276 6963 6573  def get_services
-00028160: 5f63 6f6e 6669 6728 0a20 2020 2020 2020  _config(.       
-00028170: 2073 656c 662c 0a20 2020 2020 2020 2073   self,.        s
-00028180: 6572 7669 6365 5f63 6174 6567 6f72 793a  ervice_category:
-00028190: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000281a0: 2020 2020 2064 6576 6963 655f 7479 7065       device_type
-000281b0: 3a20 7374 7220 3d20 4e6f 6e65 0a20 2020  : str = None.   
-000281c0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-000281d0: 2020 2020 2020 2020 2222 2247 6574 2073          """Get s
-000281e0: 6572 7669 6365 7320 6c69 6365 6e73 696e  ervices licensin
-000281f0: 6720 636f 6e66 6967 2e0a 0a20 2020 2020  g config...     
-00028200: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-00028210: 2020 2020 2073 6572 7669 6365 5f63 6174       service_cat
-00028220: 6567 6f72 7920 2873 7472 2c20 6f70 7469  egory (str, opti
-00028230: 6f6e 616c 293a 2053 6572 7669 6365 2063  onal): Service c
-00028240: 6174 6567 6f72 7920 2d20 646d 2f6e 6574  ategory - dm/net
-00028250: 776f 726b 0a20 2020 2020 2020 2020 2020  work.           
-00028260: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
-00028270: 722c 206f 7074 696f 6e61 6c29 3a20 4465  r, optional): De
-00028280: 7669 6365 2054 7970 6520 2d20 6961 702f  vice Type - iap/
-00028290: 6361 702f 7377 6974 6368 2f62 6f63 2f63  cap/switch/boc/c
-000282a0: 6f6e 7472 6f6c 6c65 720a 0a20 2020 2020  ontroller..     
-000282b0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-000282c0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-000282d0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-000282e0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-000282f0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00028300: 2075 726c 203d 2022 2f70 6c61 7466 6f72   url = "/platfor
-00028310: 6d2f 6c69 6365 6e73 696e 672f 7631 2f73  m/licensing/v1/s
-00028320: 6572 7669 6365 732f 636f 6e66 6967 220a  ervices/config".
-00028330: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-00028340: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-00028350: 2773 6572 7669 6365 5f63 6174 6567 6f72  'service_categor
-00028360: 7927 3a20 7365 7276 6963 655f 6361 7465  y': service_cate
-00028370: 676f 7279 2c0a 2020 2020 2020 2020 2020  gory,.          
-00028380: 2020 2764 6576 6963 655f 7479 7065 273a    'device_type':
-00028390: 2064 6576 6963 655f 7479 7065 0a20 2020   device_type.   
-000283a0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-000283b0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-000283c0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-000283d0: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-000283e0: 7379 6e63 2064 6566 2061 7373 6967 6e5f  sync def assign_
-000283f0: 6c69 6365 6e73 6573 2873 656c 662c 2073  licenses(self, s
-00028400: 6572 6961 6c73 3a20 556e 696f 6e5b 7374  erials: Union[st
-00028410: 722c 204c 6973 745b 7374 725d 5d2c 2073  r, List[str]], s
-00028420: 6572 7669 6365 733a 2055 6e69 6f6e 5b73  ervices: Union[s
-00028430: 7472 2c20 4c69 7374 5b73 7472 5d5d 2920  tr, List[str]]) 
-00028440: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-00028450: 2020 2020 2022 2222 4173 7369 676e 2073       """Assign s
-00028460: 7562 7363 7269 7074 696f 6e20 746f 2061  ubscription to a
-00028470: 2064 6576 6963 652e 0a0a 2020 2020 2020   device...      
-00028480: 2020 2f2f 2055 7365 6420 696e 6469 7265    // Used indire
-00028490: 6374 6c79 2062 7920 6164 6420 6465 7669  ctly by add devi
-000284a0: 6365 2077 6865 6e20 2d2d 6c69 6365 6e73  ce when --licens
-000284b0: 6520 3c6c 6963 656e 7365 3e20 6973 2070  e <license> is p
-000284c0: 726f 7669 6465 6420 616e 6420 6261 7463  rovided and batc
-000284d0: 6820 6164 6420 6465 7669 6365 7320 7769  h add devices wi
-000284e0: 7468 206c 6963 656e 7365 202f 2f0a 0a20  th license //.. 
-000284f0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00028500: 2020 2020 2020 2020 2073 6572 6961 6c73           serials
-00028510: 2028 7374 7220 7c20 4c69 7374 5b73 7472   (str | List[str
-00028520: 5d29 3a20 4c69 7374 206f 6620 7365 7269  ]): List of seri
-00028530: 616c 206e 756d 6265 7220 6f66 2064 6576  al number of dev
-00028540: 6963 652e 0a20 2020 2020 2020 2020 2020  ice..           
-00028550: 2073 6572 7669 6365 7320 2873 7472 207c   services (str |
-00028560: 204c 6973 745b 7374 725d 293a 204c 6973   List[str]): Lis
-00028570: 7420 6f66 2073 6572 7669 6365 206e 616d  t of service nam
-00028580: 6573 2e20 4361 6c6c 2073 6572 7669 6365  es. Call service
-00028590: 732f 636f 6e66 6967 2041 5049 2074 6f20  s/config API to 
-000285a0: 6765 7420 7468 6520 6c69 7374 206f 660a  get the list of.
-000285b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000285c0: 7661 6c69 6420 7365 7276 6963 6520 6e61  valid service na
-000285d0: 6d65 732e 0a0a 2020 2020 2020 2020 5265  mes...        Re
-000285e0: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-000285f0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-00028600: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-00028610: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-00028620: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-00028630: 3d20 222f 706c 6174 666f 726d 2f6c 6963  = "/platform/lic
-00028640: 656e 7369 6e67 2f76 312f 7375 6273 6372  ensing/v1/subscr
-00028650: 6970 7469 6f6e 732f 6173 7369 676e 220a  iptions/assign".
-00028660: 2020 2020 2020 2020 7365 7269 616c 7320          serials 
-00028670: 3d20 7574 696c 732e 6c69 7374 6966 7928  = utils.listify(
-00028680: 7365 7269 616c 7329 0a20 2020 2020 2020  serials).       
-00028690: 2073 6572 7669 6365 7320 3d20 7574 696c   services = util
-000286a0: 732e 6c69 7374 6966 7928 7365 7276 6963  s.listify(servic
-000286b0: 6573 290a 0a20 2020 2020 2020 206a 736f  es)..        jso
-000286c0: 6e5f 6461 7461 203d 207b 0a20 2020 2020  n_data = {.     
-000286d0: 2020 2020 2020 2027 7365 7269 616c 7327         'serials'
-000286e0: 3a20 7365 7269 616c 732c 0a20 2020 2020  : serials,.     
-000286f0: 2020 2020 2020 2027 7365 7276 6963 6573         'services
-00028700: 273a 2073 6572 7669 6365 730a 2020 2020  ': services.    
-00028710: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
-00028720: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00028730: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-00028740: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-00028750: 0a20 2020 2061 7379 6e63 2064 6566 2075  .    async def u
-00028760: 6e61 7373 6967 6e5f 6c69 6365 6e73 6573  nassign_licenses
-00028770: 2873 656c 662c 2073 6572 6961 6c73 3a20  (self, serials: 
-00028780: 556e 696f 6e5b 7374 722c 204c 6973 745b  Union[str, List[
-00028790: 7374 725d 5d2c 2073 6572 7669 6365 733a  str]], services:
-000287a0: 2055 6e69 6f6e 5b73 7472 2c20 4c69 7374   Union[str, List
-000287b0: 5b73 7472 5d5d 2920 2d3e 2052 6573 706f  [str]]) -> Respo
-000287c0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-000287d0: 556e 6173 7369 676e 2073 7562 7363 7269  Unassign subscri
-000287e0: 7074 696f 6e28 7329 2066 726f 6d20 6465  ption(s) from de
-000287f0: 7669 6365 2873 292e 0a0a 2020 2020 2020  vice(s)...      
-00028800: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-00028810: 2020 2020 7365 7269 616c 7320 2873 7472      serials (str
-00028820: 207c 204c 6973 745b 7374 725d 293a 204c   | List[str]): L
-00028830: 6973 7420 6f66 2073 6572 6961 6c20 6e75  ist of serial nu
-00028840: 6d62 6572 206f 6620 6465 7669 6365 2e0a  mber of device..
-00028850: 2020 2020 2020 2020 2020 2020 7365 7276              serv
-00028860: 6963 6573 2028 7374 7220 7c20 4c69 7374  ices (str | List
-00028870: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
-00028880: 7365 7276 6963 6520 6e61 6d65 732e 2043  service names. C
-00028890: 616c 6c20 7365 7276 6963 6573 2f63 6f6e  all services/con
-000288a0: 6669 6720 4150 4920 746f 2067 6574 2074  fig API to get t
-000288b0: 6865 206c 6973 7420 6f66 0a20 2020 2020  he list of.     
-000288c0: 2020 2020 2020 2020 2020 2076 616c 6964             valid
-000288d0: 2073 6572 7669 6365 206e 616d 6573 2e0a   service names..
-000288e0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-000288f0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00028900: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00028910: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00028920: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00028930: 2020 2020 2020 2075 726c 203d 2022 2f70         url = "/p
-00028940: 6c61 7466 6f72 6d2f 6c69 6365 6e73 696e  latform/licensin
-00028950: 672f 7631 2f73 7562 7363 7269 7074 696f  g/v1/subscriptio
-00028960: 6e73 2f75 6e61 7373 6967 6e22 0a20 2020  ns/unassign".   
-00028970: 2020 2020 2073 6572 6961 6c73 203d 2075       serials = u
-00028980: 7469 6c73 2e6c 6973 7469 6679 2873 6572  tils.listify(ser
-00028990: 6961 6c73 290a 2020 2020 2020 2020 7365  ials).        se
-000289a0: 7276 6963 6573 203d 2075 7469 6c73 2e6c  rvices = utils.l
-000289b0: 6973 7469 6679 2873 6572 7669 6365 7329  istify(services)
-000289c0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
-000289d0: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
-000289e0: 2020 2020 2773 6572 6961 6c73 273a 2073      'serials': s
-000289f0: 6572 6961 6c73 2c0a 2020 2020 2020 2020  erials,.        
-00028a00: 2020 2020 2773 6572 7669 6365 7327 3a20      'services': 
-00028a10: 7365 7276 6963 6573 0a20 2020 2020 2020  services.       
-00028a20: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-00028a30: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
-00028a40: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
-00028a50: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
-00028a60: 2020 2320 544f 444f 2062 7569 6c64 2061    # TODO build a
-00028a70: 6767 7265 6761 746f 7220 746f 2072 756e  ggregator to run
-00028a80: 2072 6570 6f72 7420 7368 6f77 696e 6720   report showing 
-00028a90: 726f 6775 6573 2f69 6e74 6572 6665 7269  rogues/interferi
-00028aa0: 6e67 2f6e 6569 6768 626f 7273 0a20 2020  ng/neighbors.   
-00028ab0: 2023 2061 7379 6e63 2064 6566 2077 6964   # async def wid
-00028ac0: 735f 6765 745f 616c 6c28 7365 6c66 293a  s_get_all(self):
-00028ad0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00028ae0: 7769 6473 5f67 6574 5f72 6f67 7565 5f61  wids_get_rogue_a
-00028af0: 7073 280a 2020 2020 2020 2020 7365 6c66  ps(.        self
-00028b00: 2c0a 2020 2020 2020 2020 6772 6f75 703a  ,.        group:
-00028b10: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
-00028b20: 652c 0a20 2020 2020 2020 206c 6162 656c  e,.        label
-00028b30: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-00028b40: 6e65 2c0a 2020 2020 2020 2020 7369 7465  ne,.        site
-00028b50: 3a20 4c69 7374 5b73 7472 5d20 3d20 4e6f  : List[str] = No
-00028b60: 6e65 2c0a 2020 2020 2020 2020 7374 6172  ne,.        star
-00028b70: 743a 2069 6e74 203d 204e 6f6e 652c 0a20  t: int = None,. 
-00028b80: 2020 2020 2020 2065 6e64 3a20 696e 7420         end: int 
-00028b90: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00028ba0: 7377 6172 6d5f 6964 3a20 7374 7220 3d20  swarm_id: str = 
-00028bb0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6672  None,.        fr
-00028bc0: 6f6d 5f74 696d 6573 7461 6d70 3a20 696e  om_timestamp: in
-00028bd0: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-00028be0: 2020 746f 5f74 696d 6573 7461 6d70 3a20    to_timestamp: 
-00028bf0: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-00028c00: 2020 2020 6f66 6673 6574 3a20 696e 7420      offset: int 
-00028c10: 3d20 302c 0a20 2020 2020 2020 206c 696d  = 0,.        lim
-00028c20: 6974 3a20 696e 7420 3d20 3130 300a 2020  it: int = 100.  
-00028c30: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
-00028c40: 0a20 2020 2020 2020 2022 2222 4c69 7374  .        """List
-00028c50: 2052 6f67 7565 2041 5073 2e0a 0a20 2020   Rogue APs...   
-00028c60: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00028c70: 2020 2020 2020 2067 726f 7570 2028 4c69         group (Li
-00028c80: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
-00028c90: 6c29 3a20 4c69 7374 206f 6620 6772 6f75  l): List of grou
-00028ca0: 7020 6e61 6d65 730a 2020 2020 2020 2020  p names.        
-00028cb0: 2020 2020 6c61 6265 6c20 284c 6973 745b      label (List[
-00028cc0: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
-00028cd0: 204c 6973 7420 6f66 206c 6162 656c 206e   List of label n
-00028ce0: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
-00028cf0: 2073 6974 6520 284c 6973 745b 7374 725d   site (List[str]
-00028d00: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
-00028d10: 7420 6f66 2073 6974 6520 6e61 6d65 730a  t of site names.
-00028d20: 2020 2020 2020 2020 2020 2020 7374 6172              star
-00028d30: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-00028d40: 293a 204e 6565 6420 696e 666f 726d 6174  ): Need informat
-00028d50: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
-00028d60: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-00028d70: 6d70 2069 7320 6570 6f63 6820 696e 0a20  mp is epoch in. 
-00028d80: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00028d90: 696c 6c69 7365 636f 6e64 732e 2044 6566  illiseconds. Def
-00028da0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
-00028db0: 7469 6d65 7374 616d 7020 6d69 6e75 7320  timestamp minus 
-00028dc0: 3320 686f 7572 730a 2020 2020 2020 2020  3 hours.        
-00028dd0: 2020 2020 656e 6420 2869 6e74 2c20 6f70      end (int, op
-00028de0: 7469 6f6e 616c 293a 204e 6565 6420 696e  tional): Need in
-00028df0: 666f 726d 6174 696f 6e20 746f 2074 6869  formation to thi
-00028e00: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
-00028e10: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
-00028e20: 696e 0a20 2020 2020 2020 2020 2020 2020  in.             
-00028e30: 2020 206d 696c 6c69 7365 636f 6e64 732e     milliseconds.
-00028e40: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
-00028e50: 656e 7420 7469 6d65 7374 616d 700a 2020  ent timestamp.  
-00028e60: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
-00028e70: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
-00028e80: 6c29 3a20 4669 6c74 6572 2062 7920 5377  l): Filter by Sw
-00028e90: 6172 6d20 4944 0a20 2020 2020 2020 2020  arm ID.         
-00028ea0: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
-00028eb0: 7020 2869 6e74 2c20 6f70 7469 6f6e 616c  p (int, optional
-00028ec0: 293a 2054 6869 7320 7061 7261 6d65 7465  ): This paramete
-00028ed0: 7220 7375 7065 7263 6564 6573 2073 7461  r supercedes sta
-00028ee0: 7274 2070 6172 616d 6574 6572 2e20 4e65  rt parameter. Ne
-00028ef0: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-00028f00: 2020 2069 6e66 6f72 6d61 7469 6f6e 2066     information f
-00028f10: 726f 6d20 7468 6973 2074 696d 6573 7461  rom this timesta
-00028f20: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-00028f30: 2065 706f 6368 2069 6e20 7365 636f 6e64   epoch in second
-00028f40: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-00028f50: 7272 656e 740a 2020 2020 2020 2020 2020  rrent.          
-00028f60: 2020 2020 2020 5554 4320 7469 6d65 7374        UTC timest
-00028f70: 616d 7020 6d69 6e75 7320 3320 686f 7572  amp minus 3 hour
-00028f80: 730a 2020 2020 2020 2020 2020 2020 746f  s.            to
-00028f90: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
-00028fa0: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
-00028fb0: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
-00028fc0: 6365 6465 7320 656e 6420 7061 7261 6d65  cedes end parame
-00028fd0: 7465 722e 204e 6565 6420 696e 666f 726d  ter. Need inform
-00028fe0: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
-00028ff0: 2020 2020 2020 746f 2074 6869 7320 7469        to this ti
-00029000: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-00029010: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
-00029020: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-00029030: 6973 2063 7572 7265 6e74 2055 5443 2074  is current UTC t
-00029040: 696d 6573 7461 6d70 0a20 2020 2020 2020  imestamp.       
-00029050: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-00029060: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-00029070: 696e 6174 696f 6e20 6f66 6673 6574 2028  ination offset (
-00029080: 6465 6661 756c 7420 3d20 3029 2044 6566  default = 0) Def
-00029090: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-000290a0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-000290b0: 6e74 2c20 6f70 7469 6f6e 616c 293a 2070  nt, optional): p
-000290c0: 6167 696e 6174 696f 6e20 7369 7a65 2028  agination size (
-000290d0: 6465 6661 756c 7420 3d20 3130 3029 2044  default = 100) D
-000290e0: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-000290f0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-00029100: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-00029110: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-00029120: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-00029130: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-00029140: 2020 2020 2020 2075 726c 203d 2022 2f72         url = "/r
-00029150: 6170 6964 732f 7631 2f72 6f67 7565 5f61  apids/v1/rogue_a
-00029160: 7073 220a 0a20 2020 2020 2020 2070 6172  ps"..        par
-00029170: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-00029180: 2020 2020 2767 726f 7570 273a 2067 726f      'group': gro
-00029190: 7570 2c0a 2020 2020 2020 2020 2020 2020  up,.            
-000291a0: 276c 6162 656c 273a 206c 6162 656c 2c0a  'label': label,.
-000291b0: 2020 2020 2020 2020 2020 2020 2773 6974              'sit
-000291c0: 6527 3a20 7369 7465 2c0a 2020 2020 2020  e': site,.      
-000291d0: 2020 2020 2020 2773 7461 7274 273a 2073        'start': s
-000291e0: 7461 7274 2c0a 2020 2020 2020 2020 2020  tart,.          
-000291f0: 2020 2765 6e64 273a 2065 6e64 2c0a 2020    'end': end,.  
-00029200: 2020 2020 2020 2020 2020 2773 7761 726d            'swarm
-00029210: 5f69 6427 3a20 7377 6172 6d5f 6964 2c0a  _id': swarm_id,.
-00029220: 2020 2020 2020 2020 2020 2020 2766 726f              'fro
-00029230: 6d5f 7469 6d65 7374 616d 7027 3a20 6672  m_timestamp': fr
-00029240: 6f6d 5f74 696d 6573 7461 6d70 2c0a 2020  om_timestamp,.  
-00029250: 2020 2020 2020 2020 2020 2774 6f5f 7469            'to_ti
-00029260: 6d65 7374 616d 7027 3a20 746f 5f74 696d  mestamp': to_tim
-00029270: 6573 7461 6d70 2c0a 2020 2020 2020 2020  estamp,.        
-00029280: 2020 2020 276f 6666 7365 7427 3a20 6f66      'offset': of
-00029290: 6673 6574 2c0a 2020 2020 2020 2020 2020  fset,.          
-000292a0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
-000292b0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-000292c0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-000292d0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-000292e0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-000292f0: 2020 2061 7379 6e63 2064 6566 2077 6964     async def wid
-00029300: 735f 6765 745f 696e 7465 7266 6572 696e  s_get_interferin
-00029310: 675f 6170 7328 0a20 2020 2020 2020 2073  g_aps(.        s
-00029320: 656c 662c 0a20 2020 2020 2020 2067 726f  elf,.        gro
-00029330: 7570 3a20 4c69 7374 5b73 7472 5d20 3d20  up: List[str] = 
-00029340: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c61  None,.        la
-00029350: 6265 6c3a 204c 6973 745b 7374 725d 203d  bel: List[str] =
-00029360: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-00029370: 6974 653a 204c 6973 745b 7374 725d 203d  ite: List[str] =
-00029380: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-00029390: 7461 7274 3a20 696e 7420 3d20 4e6f 6e65  tart: int = None
-000293a0: 2c0a 2020 2020 2020 2020 656e 643a 2069  ,.        end: i
-000293b0: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
-000293c0: 2020 2073 7761 726d 5f69 643a 2073 7472     swarm_id: str
-000293d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-000293e0: 2066 726f 6d5f 7469 6d65 7374 616d 703a   from_timestamp:
-000293f0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-00029400: 2020 2020 2074 6f5f 7469 6d65 7374 616d       to_timestam
-00029410: 703a 2069 6e74 203d 204e 6f6e 652c 0a20  p: int = None,. 
-00029420: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
-00029430: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-00029440: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
-00029450: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-00029460: 7365 3a0a 2020 2020 2020 2020 2222 224c  se:.        """L
-00029470: 6973 7420 496e 7465 7266 6572 696e 6720  ist Interfering 
-00029480: 4150 732e 0a0a 2020 2020 2020 2020 4172  APs...        Ar
-00029490: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-000294a0: 6772 6f75 7020 284c 6973 745b 7374 725d  group (List[str]
-000294b0: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
-000294c0: 7420 6f66 2067 726f 7570 206e 616d 6573  t of group names
-000294d0: 0a20 2020 2020 2020 2020 2020 206c 6162  .            lab
-000294e0: 656c 2028 4c69 7374 5b73 7472 5d2c 206f  el (List[str], o
-000294f0: 7074 696f 6e61 6c29 3a20 4c69 7374 206f  ptional): List o
-00029500: 6620 6c61 6265 6c20 6e61 6d65 730a 2020  f label names.  
-00029510: 2020 2020 2020 2020 2020 7369 7465 2028            site (
-00029520: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
-00029530: 6e61 6c29 3a20 4c69 7374 206f 6620 7369  nal): List of si
-00029540: 7465 206e 616d 6573 0a20 2020 2020 2020  te names.       
-00029550: 2020 2020 2073 7461 7274 2028 696e 742c       start (int,
-00029560: 206f 7074 696f 6e61 6c29 3a20 4e65 6564   optional): Need
-00029570: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
-00029580: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
-00029590: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-000295a0: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
-000295b0: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
-000295c0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-000295d0: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
-000295e0: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
-000295f0: 0a20 2020 2020 2020 2020 2020 2065 6e64  .            end
-00029600: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-00029610: 3a20 4e65 6564 2069 6e66 6f72 6d61 7469  : Need informati
-00029620: 6f6e 2074 6f20 7468 6973 2074 696d 6573  on to this times
-00029630: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
-00029640: 6973 2065 706f 6368 2069 6e0a 2020 2020  is epoch in.    
-00029650: 2020 2020 2020 2020 2020 2020 6d69 6c6c              mill
-00029660: 6973 6563 6f6e 6473 2e20 4465 6661 756c  iseconds. Defaul
-00029670: 7420 6973 2063 7572 7265 6e74 2074 696d  t is current tim
-00029680: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
-00029690: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
-000296a0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
-000296b0: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
-000296c0: 2020 2020 2020 2020 2020 2020 6672 6f6d              from
-000296d0: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
-000296e0: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
-000296f0: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
-00029700: 6365 6465 7320 7374 6172 7420 7061 7261  cedes start para
-00029710: 6d65 7465 722e 204e 6565 640a 2020 2020  meter. Need.    
-00029720: 2020 2020 2020 2020 2020 2020 696e 666f              info
-00029730: 726d 6174 696f 6e20 6672 6f6d 2074 6869  rmation from thi
-00029740: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
-00029750: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
-00029760: 696e 2073 6563 6f6e 6473 2e20 4465 6661  in seconds. Defa
-00029770: 756c 7420 6973 2063 7572 7265 6e74 0a20  ult is current. 
-00029780: 2020 2020 2020 2020 2020 2020 2020 2055                 U
-00029790: 5443 2074 696d 6573 7461 6d70 206d 696e  TC timestamp min
-000297a0: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
-000297b0: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
-000297c0: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
-000297d0: 616c 293a 2054 6869 7320 7061 7261 6d65  al): This parame
-000297e0: 7465 7220 7375 7065 7263 6564 6573 2065  ter supercedes e
-000297f0: 6e64 2070 6172 616d 6574 6572 2e20 4e65  nd parameter. Ne
-00029800: 6564 2069 6e66 6f72 6d61 7469 6f6e 0a20  ed information. 
-00029810: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00029820: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
-00029830: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-00029840: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
-00029850: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
-00029860: 656e 7420 5554 4320 7469 6d65 7374 616d  ent UTC timestam
-00029870: 700a 2020 2020 2020 2020 2020 2020 6f66  p.            of
-00029880: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
-00029890: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
-000298a0: 206f 6666 7365 7420 2864 6566 6175 6c74   offset (default
-000298b0: 203d 2030 2920 4465 6661 756c 7473 2074   = 0) Defaults t
-000298c0: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
-000298d0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
-000298e0: 696f 6e61 6c29 3a20 7061 6769 6e61 7469  ional): paginati
-000298f0: 6f6e 2073 697a 6520 2864 6566 6175 6c74  on size (default
-00029900: 203d 2031 3030 2920 4465 6661 756c 7473   = 100) Defaults
-00029910: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
-00029920: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-00029930: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00029940: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00029950: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00029960: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00029970: 7572 6c20 3d20 222f 7261 7069 6473 2f76  url = "/rapids/v
-00029980: 312f 696e 7465 7266 6572 696e 675f 6170  1/interfering_ap
-00029990: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
-000299a0: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-000299b0: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
-000299c0: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
-000299d0: 6c61 6265 6c27 3a20 6c61 6265 6c2c 0a20  label': label,. 
-000299e0: 2020 2020 2020 2020 2020 2027 7369 7465             'site
-000299f0: 273a 2073 6974 652c 0a20 2020 2020 2020  ': site,.       
-00029a00: 2020 2020 2027 7374 6172 7427 3a20 7374       'start': st
-00029a10: 6172 742c 0a20 2020 2020 2020 2020 2020  art,.           
-00029a20: 2027 656e 6427 3a20 656e 642c 0a20 2020   'end': end,.   
-00029a30: 2020 2020 2020 2020 2027 7377 6172 6d5f           'swarm_
-00029a40: 6964 273a 2073 7761 726d 5f69 642c 0a20  id': swarm_id,. 
-00029a50: 2020 2020 2020 2020 2020 2027 6672 6f6d             'from
-00029a60: 5f74 696d 6573 7461 6d70 273a 2066 726f  _timestamp': fro
-00029a70: 6d5f 7469 6d65 7374 616d 702c 0a20 2020  m_timestamp,.   
-00029a80: 2020 2020 2020 2020 2027 746f 5f74 696d           'to_tim
-00029a90: 6573 7461 6d70 273a 2074 6f5f 7469 6d65  estamp': to_time
-00029aa0: 7374 616d 702c 0a20 2020 2020 2020 2020  stamp,.         
-00029ab0: 2020 2027 6f66 6673 6574 273a 206f 6666     'offset': off
-00029ac0: 7365 742c 0a20 2020 2020 2020 2020 2020  set,.           
-00029ad0: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
-00029ae0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-00029af0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00029b00: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
-00029b10: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
-00029b20: 2020 6173 796e 6320 6465 6620 7769 6473    async def wids
-00029b30: 5f67 6574 5f73 7573 7065 6374 5f61 7073  _get_suspect_aps
-00029b40: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
-00029b50: 2020 2020 2020 2020 6772 6f75 703a 204c          group: L
-00029b60: 6973 745b 7374 725d 203d 204e 6f6e 652c  ist[str] = None,
-00029b70: 0a20 2020 2020 2020 206c 6162 656c 3a20  .        label: 
-00029b80: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
-00029b90: 2c0a 2020 2020 2020 2020 7369 7465 3a20  ,.        site: 
-00029ba0: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
-00029bb0: 2c0a 2020 2020 2020 2020 7374 6172 743a  ,.        start:
-00029bc0: 2069 6e74 203d 204e 6f6e 652c 0a20 2020   int = None,.   
-00029bd0: 2020 2020 2065 6e64 3a20 696e 7420 3d20       end: int = 
-00029be0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7377  None,.        sw
-00029bf0: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
-00029c00: 6e65 2c0a 2020 2020 2020 2020 6672 6f6d  ne,.        from
-00029c10: 5f74 696d 6573 7461 6d70 3a20 696e 7420  _timestamp: int 
-00029c20: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-00029c30: 746f 5f74 696d 6573 7461 6d70 3a20 696e  to_timestamp: in
-00029c40: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-00029c50: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
-00029c60: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
-00029c70: 3a20 696e 7420 3d20 3130 300a 2020 2020  : int = 100.    
-00029c80: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00029c90: 2020 2020 2020 2022 2222 4c69 7374 2073         """List s
-00029ca0: 7573 7065 6374 2041 5073 2e0a 0a20 2020  uspect APs...   
-00029cb0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-00029cc0: 2020 2020 2020 2067 726f 7570 2028 4c69         group (Li
-00029cd0: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
-00029ce0: 6c29 3a20 4c69 7374 206f 6620 6772 6f75  l): List of grou
-00029cf0: 7020 6e61 6d65 730a 2020 2020 2020 2020  p names.        
-00029d00: 2020 2020 6c61 6265 6c20 284c 6973 745b      label (List[
-00029d10: 7374 725d 2c20 6f70 7469 6f6e 616c 293a  str], optional):
-00029d20: 204c 6973 7420 6f66 206c 6162 656c 206e   List of label n
-00029d30: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
-00029d40: 2073 6974 6520 284c 6973 745b 7374 725d   site (List[str]
-00029d50: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
-00029d60: 7420 6f66 2073 6974 6520 6e61 6d65 730a  t of site names.
-00029d70: 2020 2020 2020 2020 2020 2020 7374 6172              star
-00029d80: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
-00029d90: 293a 204e 6565 6420 696e 666f 726d 6174  ): Need informat
-00029da0: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
-00029db0: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-00029dc0: 6d70 2069 7320 6570 6f63 6820 696e 0a20  mp is epoch in. 
-00029dd0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00029de0: 696c 6c69 7365 636f 6e64 732e 2044 6566  illiseconds. Def
-00029df0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
-00029e00: 7469 6d65 7374 616d 7020 6d69 6e75 7320  timestamp minus 
-00029e10: 3320 686f 7572 730a 2020 2020 2020 2020  3 hours.        
-00029e20: 2020 2020 656e 6420 2869 6e74 2c20 6f70      end (int, op
-00029e30: 7469 6f6e 616c 293a 204e 6565 6420 696e  tional): Need in
-00029e40: 666f 726d 6174 696f 6e20 746f 2074 6869  formation to thi
-00029e50: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
-00029e60: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
-00029e70: 696e 0a20 2020 2020 2020 2020 2020 2020  in.             
-00029e80: 2020 206d 696c 6c69 7365 636f 6e64 732e     milliseconds.
-00029e90: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
-00029ea0: 656e 7420 7469 6d65 7374 616d 700a 2020  ent timestamp.  
-00029eb0: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
-00029ec0: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
-00029ed0: 6c29 3a20 4669 6c74 6572 2062 7920 5377  l): Filter by Sw
-00029ee0: 6172 6d20 4944 0a20 2020 2020 2020 2020  arm ID.         
-00029ef0: 2020 2066 726f 6d5f 7469 6d65 7374 616d     from_timestam
-00029f00: 7020 2869 6e74 2c20 6f70 7469 6f6e 616c  p (int, optional
-00029f10: 293a 2054 6869 7320 7061 7261 6d65 7465  ): This paramete
-00029f20: 7220 7375 7065 7263 6564 6573 2073 7461  r supercedes sta
-00029f30: 7274 2070 6172 616d 6574 6572 2e20 4e65  rt parameter. Ne
-00029f40: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-00029f50: 2020 2069 6e66 6f72 6d61 7469 6f6e 2066     information f
-00029f60: 726f 6d20 7468 6973 2074 696d 6573 7461  rom this timesta
-00029f70: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
-00029f80: 2065 706f 6368 2069 6e20 7365 636f 6e64   epoch in second
-00029f90: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
-00029fa0: 7272 656e 740a 2020 2020 2020 2020 2020  rrent.          
-00029fb0: 2020 2020 2020 5554 4320 7469 6d65 7374        UTC timest
-00029fc0: 616d 7020 6d69 6e75 7320 3320 686f 7572  amp minus 3 hour
-00029fd0: 730a 2020 2020 2020 2020 2020 2020 746f  s.            to
-00029fe0: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
-00029ff0: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
-0002a000: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
-0002a010: 6365 6465 7320 656e 6420 7061 7261 6d65  cedes end parame
-0002a020: 7465 722e 204e 6565 6420 696e 666f 726d  ter. Need inform
-0002a030: 6174 696f 6e0a 2020 2020 2020 2020 2020  ation.          
-0002a040: 2020 2020 2020 746f 2074 6869 7320 7469        to this ti
-0002a050: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-0002a060: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
-0002a070: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-0002a080: 6973 2063 7572 7265 6e74 2055 5443 2074  is current UTC t
-0002a090: 696d 6573 7461 6d70 0a20 2020 2020 2020  imestamp.       
-0002a0a0: 2020 2020 206f 6666 7365 7420 2869 6e74       offset (int
-0002a0b0: 2c20 6f70 7469 6f6e 616c 293a 2050 6167  , optional): Pag
-0002a0c0: 696e 6174 696f 6e20 6f66 6673 6574 2028  ination offset (
-0002a0d0: 6465 6661 756c 7420 3d20 3029 2044 6566  default = 0) Def
-0002a0e0: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-0002a0f0: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-0002a100: 6e74 2c20 6f70 7469 6f6e 616c 293a 2070  nt, optional): p
-0002a110: 6167 696e 6174 696f 6e20 7369 7a65 2028  agination size (
-0002a120: 6465 6661 756c 7420 3d20 3130 3029 2044  default = 100) D
-0002a130: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
-0002a140: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0002a150: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0002a160: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0002a170: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0002a180: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0002a190: 2020 2020 2020 2075 726c 203d 2022 2f72         url = "/r
-0002a1a0: 6170 6964 732f 7631 2f73 7573 7065 6374  apids/v1/suspect
-0002a1b0: 5f61 7073 220a 0a20 2020 2020 2020 2070  _aps"..        p
-0002a1c0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-0002a1d0: 2020 2020 2020 2767 726f 7570 273a 2067        'group': g
-0002a1e0: 726f 7570 2c0a 2020 2020 2020 2020 2020  roup,.          
-0002a1f0: 2020 276c 6162 656c 273a 206c 6162 656c    'label': label
-0002a200: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0002a210: 6974 6527 3a20 7369 7465 2c0a 2020 2020  ite': site,.    
-0002a220: 2020 2020 2020 2020 2773 7461 7274 273a          'start':
-0002a230: 2073 7461 7274 2c0a 2020 2020 2020 2020   start,.        
-0002a240: 2020 2020 2765 6e64 273a 2065 6e64 2c0a      'end': end,.
-0002a250: 2020 2020 2020 2020 2020 2020 2773 7761              'swa
-0002a260: 726d 5f69 6427 3a20 7377 6172 6d5f 6964  rm_id': swarm_id
-0002a270: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
-0002a280: 726f 6d5f 7469 6d65 7374 616d 7027 3a20  rom_timestamp': 
-0002a290: 6672 6f6d 5f74 696d 6573 7461 6d70 2c0a  from_timestamp,.
-0002a2a0: 2020 2020 2020 2020 2020 2020 2774 6f5f              'to_
-0002a2b0: 7469 6d65 7374 616d 7027 3a20 746f 5f74  timestamp': to_t
-0002a2c0: 696d 6573 7461 6d70 2c0a 2020 2020 2020  imestamp,.      
-0002a2d0: 2020 2020 2020 276f 6666 7365 7427 3a20        'offset': 
-0002a2e0: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
-0002a2f0: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
-0002a300: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
-0002a310: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0002a320: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-0002a330: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-0002a340: 0a20 2020 2061 7379 6e63 2064 6566 2077  .    async def w
-0002a350: 6964 735f 6765 745f 6e65 6967 6862 6f72  ids_get_neighbor
-0002a360: 5f61 7073 280a 2020 2020 2020 2020 7365  _aps(.        se
-0002a370: 6c66 2c0a 2020 2020 2020 2020 6772 6f75  lf,.        grou
-0002a380: 703a 204c 6973 745b 7374 725d 203d 204e  p: List[str] = N
-0002a390: 6f6e 652c 0a20 2020 2020 2020 206c 6162  one,.        lab
-0002a3a0: 656c 3a20 4c69 7374 5b73 7472 5d20 3d20  el: List[str] = 
-0002a3b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7369  None,.        si
-0002a3c0: 7465 3a20 4c69 7374 5b73 7472 5d20 3d20  te: List[str] = 
-0002a3d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7374  None,.        st
-0002a3e0: 6172 743a 2069 6e74 203d 204e 6f6e 652c  art: int = None,
-0002a3f0: 0a20 2020 2020 2020 2065 6e64 3a20 696e  .        end: in
-0002a400: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
-0002a410: 2020 7377 6172 6d5f 6964 3a20 7374 7220    swarm_id: str 
-0002a420: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002a430: 6672 6f6d 5f74 696d 6573 7461 6d70 3a20  from_timestamp: 
-0002a440: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
-0002a450: 2020 2020 746f 5f74 696d 6573 7461 6d70      to_timestamp
-0002a460: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-0002a470: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-0002a480: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-0002a490: 696d 6974 3a20 696e 7420 3d20 3130 300a  imit: int = 100.
-0002a4a0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-0002a4b0: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
-0002a4c0: 7374 206e 6569 6768 626f 7220 4150 732e  st neighbor APs.
-0002a4d0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-0002a4e0: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-0002a4f0: 7020 284c 6973 745b 7374 725d 2c20 6f70  p (List[str], op
-0002a500: 7469 6f6e 616c 293a 204c 6973 7420 6f66  tional): List of
-0002a510: 2067 726f 7570 206e 616d 6573 0a20 2020   group names.   
-0002a520: 2020 2020 2020 2020 206c 6162 656c 2028           label (
-0002a530: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
-0002a540: 6e61 6c29 3a20 4c69 7374 206f 6620 6c61  nal): List of la
-0002a550: 6265 6c20 6e61 6d65 730a 2020 2020 2020  bel names.      
-0002a560: 2020 2020 2020 7369 7465 2028 4c69 7374        site (List
-0002a570: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
-0002a580: 3a20 4c69 7374 206f 6620 7369 7465 206e  : List of site n
-0002a590: 616d 6573 0a20 2020 2020 2020 2020 2020  ames.           
-0002a5a0: 2073 7461 7274 2028 696e 742c 206f 7074   start (int, opt
-0002a5b0: 696f 6e61 6c29 3a20 4e65 6564 2069 6e66  ional): Need inf
-0002a5c0: 6f72 6d61 7469 6f6e 2066 726f 6d20 7468  ormation from th
-0002a5d0: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-0002a5e0: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-0002a5f0: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
-0002a600: 2020 2020 6d69 6c6c 6973 6563 6f6e 6473      milliseconds
-0002a610: 2e20 4465 6661 756c 7420 6973 2063 7572  . Default is cur
-0002a620: 7265 6e74 2074 696d 6573 7461 6d70 206d  rent timestamp m
-0002a630: 696e 7573 2033 2068 6f75 7273 0a20 2020  inus 3 hours.   
-0002a640: 2020 2020 2020 2020 2065 6e64 2028 696e           end (in
-0002a650: 742c 206f 7074 696f 6e61 6c29 3a20 4e65  t, optional): Ne
-0002a660: 6564 2069 6e66 6f72 6d61 7469 6f6e 2074  ed information t
-0002a670: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
-0002a680: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-0002a690: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
-0002a6a0: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
-0002a6b0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-0002a6c0: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
-0002a6d0: 6d70 0a20 2020 2020 2020 2020 2020 2073  mp.            s
-0002a6e0: 7761 726d 5f69 6420 2873 7472 2c20 6f70  warm_id (str, op
-0002a6f0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0002a700: 6279 2053 7761 726d 2049 440a 2020 2020  by Swarm ID.    
-0002a710: 2020 2020 2020 2020 6672 6f6d 5f74 696d          from_tim
-0002a720: 6573 7461 6d70 2028 696e 742c 206f 7074  estamp (int, opt
-0002a730: 696f 6e61 6c29 3a20 5468 6973 2070 6172  ional): This par
-0002a740: 616d 6574 6572 2073 7570 6572 6365 6465  ameter supercede
-0002a750: 7320 7374 6172 7420 7061 7261 6d65 7465  s start paramete
-0002a760: 722e 204e 6565 640a 2020 2020 2020 2020  r. Need.        
-0002a770: 2020 2020 2020 2020 696e 666f 726d 6174          informat
-0002a780: 696f 6e20 6672 6f6d 2074 6869 7320 7469  ion from this ti
-0002a790: 6d65 7374 616d 702e 2054 696d 6573 7461  mestamp. Timesta
-0002a7a0: 6d70 2069 7320 6570 6f63 6820 696e 2073  mp is epoch in s
-0002a7b0: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
-0002a7c0: 6973 2063 7572 7265 6e74 0a20 2020 2020  is current.     
-0002a7d0: 2020 2020 2020 2020 2020 2055 5443 2074             UTC t
-0002a7e0: 696d 6573 7461 6d70 206d 696e 7573 2033  imestamp minus 3
-0002a7f0: 2068 6f75 7273 0a20 2020 2020 2020 2020   hours.         
-0002a800: 2020 2074 6f5f 7469 6d65 7374 616d 7020     to_timestamp 
-0002a810: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0002a820: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
-0002a830: 7375 7065 7263 6564 6573 2065 6e64 2070  supercedes end p
-0002a840: 6172 616d 6574 6572 2e20 4e65 6564 2069  arameter. Need i
-0002a850: 6e66 6f72 6d61 7469 6f6e 0a20 2020 2020  nformation.     
-0002a860: 2020 2020 2020 2020 2020 2074 6f20 7468             to th
-0002a870: 6973 2074 696d 6573 7461 6d70 2e20 5469  is timestamp. Ti
-0002a880: 6d65 7374 616d 7020 6973 2065 706f 6368  mestamp is epoch
-0002a890: 2069 6e20 7365 636f 6e64 732e 2044 6566   in seconds. Def
-0002a8a0: 6175 6c74 2069 7320 6375 7272 656e 7420  ault is current 
-0002a8b0: 5554 4320 7469 6d65 7374 616d 700a 2020  UTC timestamp.  
-0002a8c0: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-0002a8d0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002a8e0: 3a20 5061 6769 6e61 7469 6f6e 206f 6666  : Pagination off
-0002a8f0: 7365 7420 2864 6566 6175 6c74 203d 2030  set (default = 0
-0002a900: 2920 4465 6661 756c 7473 2074 6f20 302e  ) Defaults to 0.
-0002a910: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-0002a920: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-0002a930: 6c29 3a20 7061 6769 6e61 7469 6f6e 2073  l): pagination s
-0002a940: 697a 6520 2864 6566 6175 6c74 203d 2031  ize (default = 1
-0002a950: 3030 2920 4465 6661 756c 7473 2074 6f20  00) Defaults to 
-0002a960: 3130 302e 0a0a 2020 2020 2020 2020 5265  100...        Re
-0002a970: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0002a980: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0002a990: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0002a9a0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0002a9b0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-0002a9c0: 3d20 222f 7261 7069 6473 2f76 312f 6e65  = "/rapids/v1/ne
-0002a9d0: 6967 6862 6f72 5f61 7073 220a 0a20 2020  ighbor_aps"..   
-0002a9e0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-0002a9f0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
-0002aa00: 7570 273a 2067 726f 7570 2c0a 2020 2020  up': group,.    
-0002aa10: 2020 2020 2020 2020 276c 6162 656c 273a          'label':
-0002aa20: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
-0002aa30: 2020 2020 2773 6974 6527 3a20 7369 7465      'site': site
-0002aa40: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0002aa50: 7461 7274 273a 2073 7461 7274 2c0a 2020  tart': start,.  
-0002aa60: 2020 2020 2020 2020 2020 2765 6e64 273a            'end':
-0002aa70: 2065 6e64 2c0a 2020 2020 2020 2020 2020   end,.          
-0002aa80: 2020 2773 7761 726d 5f69 6427 3a20 7377    'swarm_id': sw
-0002aa90: 6172 6d5f 6964 2c0a 2020 2020 2020 2020  arm_id,.        
-0002aaa0: 2020 2020 2766 726f 6d5f 7469 6d65 7374      'from_timest
-0002aab0: 616d 7027 3a20 6672 6f6d 5f74 696d 6573  amp': from_times
-0002aac0: 7461 6d70 2c0a 2020 2020 2020 2020 2020  tamp,.          
-0002aad0: 2020 2774 6f5f 7469 6d65 7374 616d 7027    'to_timestamp'
-0002aae0: 3a20 746f 5f74 696d 6573 7461 6d70 2c0a  : to_timestamp,.
-0002aaf0: 2020 2020 2020 2020 2020 2020 276f 6666              'off
-0002ab00: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
-0002ab10: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
-0002ab20: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
-0002ab30: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
-0002ab40: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
-0002ab50: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
-0002ab60: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
-0002ab70: 2064 6566 2077 6964 735f 6765 745f 616c   def wids_get_al
-0002ab80: 6c28 0a20 2020 2020 2020 2073 656c 662c  l(.        self,
-0002ab90: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
-0002aba0: 4c69 7374 5b73 7472 5d20 3d20 4e6f 6e65  List[str] = None
-0002abb0: 2c0a 2020 2020 2020 2020 6c61 6265 6c3a  ,.        label:
-0002abc0: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
-0002abd0: 652c 0a20 2020 2020 2020 2073 6974 653a  e,.        site:
-0002abe0: 204c 6973 745b 7374 725d 203d 204e 6f6e   List[str] = Non
-0002abf0: 652c 0a20 2020 2020 2020 2073 7461 7274  e,.        start
-0002ac00: 3a20 696e 7420 3d20 4e6f 6e65 2c0a 2020  : int = None,.  
-0002ac10: 2020 2020 2020 656e 643a 2069 6e74 203d        end: int =
-0002ac20: 204e 6f6e 652c 0a20 2020 2020 2020 2073   None,.        s
-0002ac30: 7761 726d 5f69 643a 2073 7472 203d 204e  warm_id: str = N
-0002ac40: 6f6e 652c 0a20 2020 2020 2020 2066 726f  one,.        fro
-0002ac50: 6d5f 7469 6d65 7374 616d 703a 2069 6e74  m_timestamp: int
-0002ac60: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002ac70: 2074 6f5f 7469 6d65 7374 616d 703a 2069   to_timestamp: i
-0002ac80: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
-0002ac90: 2020 206f 6666 7365 743a 2069 6e74 203d     offset: int =
-0002aca0: 2030 2c0a 2020 2020 2020 2020 6c69 6d69   0,.        limi
-0002acb0: 743a 2069 6e74 203d 2031 3030 0a20 2020  t: int = 100.   
-0002acc0: 2029 202d 3e20 5265 7370 6f6e 7365 3a0a   ) -> Response:.
-0002acd0: 2020 2020 2020 2020 2222 224c 6973 7420          """List 
-0002ace0: 616c 6c20 7769 6473 2063 6c61 7373 6966  all wids classif
-0002acf0: 6963 6174 696f 6e73 2e0a 0a20 2020 2020  ications...     
-0002ad00: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
-0002ad10: 2020 2020 2067 726f 7570 2028 4c69 7374       group (List
-0002ad20: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
-0002ad30: 3a20 4c69 7374 206f 6620 6772 6f75 7020  : List of group 
-0002ad40: 6e61 6d65 730a 2020 2020 2020 2020 2020  names.          
-0002ad50: 2020 6c61 6265 6c20 284c 6973 745b 7374    label (List[st
-0002ad60: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
-0002ad70: 6973 7420 6f66 206c 6162 656c 206e 616d  ist of label nam
-0002ad80: 6573 0a20 2020 2020 2020 2020 2020 2073  es.            s
-0002ad90: 6974 6520 284c 6973 745b 7374 725d 2c20  ite (List[str], 
-0002ada0: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
-0002adb0: 6f66 2073 6974 6520 6e61 6d65 730a 2020  of site names.  
-0002adc0: 2020 2020 2020 2020 2020 7374 6172 7420            start 
-0002add0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0002ade0: 204e 6565 6420 696e 666f 726d 6174 696f   Need informatio
-0002adf0: 6e20 6672 6f6d 2074 6869 7320 7469 6d65  n from this time
-0002ae00: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
-0002ae10: 2069 7320 6570 6f63 6820 696e 0a20 2020   is epoch in.   
-0002ae20: 2020 2020 2020 2020 2020 2020 206d 696c               mil
-0002ae30: 6c69 7365 636f 6e64 732e 2044 6566 6175  liseconds. Defau
-0002ae40: 6c74 2069 7320 6375 7272 656e 7420 7469  lt is current ti
-0002ae50: 6d65 7374 616d 7020 6d69 6e75 7320 3320  mestamp minus 3 
-0002ae60: 686f 7572 730a 2020 2020 2020 2020 2020  hours.          
-0002ae70: 2020 656e 6420 2869 6e74 2c20 6f70 7469    end (int, opti
-0002ae80: 6f6e 616c 293a 204e 6565 6420 696e 666f  onal): Need info
-0002ae90: 726d 6174 696f 6e20 746f 2074 6869 7320  rmation to this 
-0002aea0: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
-0002aeb0: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
-0002aec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002aed0: 206d 696c 6c69 7365 636f 6e64 732e 2044   milliseconds. D
-0002aee0: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
-0002aef0: 7420 7469 6d65 7374 616d 700a 2020 2020  t timestamp.    
-0002af00: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
-0002af10: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
-0002af20: 3a20 4669 6c74 6572 2062 7920 5377 6172  : Filter by Swar
-0002af30: 6d20 4944 0a20 2020 2020 2020 2020 2020  m ID.           
-0002af40: 2066 726f 6d5f 7469 6d65 7374 616d 7020   from_timestamp 
-0002af50: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0002af60: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
-0002af70: 7375 7065 7263 6564 6573 2073 7461 7274  supercedes start
-0002af80: 2070 6172 616d 6574 6572 2e20 4e65 6564   parameter. Need
-0002af90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002afa0: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
-0002afb0: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
-0002afc0: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
-0002afd0: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
-0002afe0: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
-0002aff0: 656e 740a 2020 2020 2020 2020 2020 2020  ent.            
-0002b000: 2020 2020 5554 4320 7469 6d65 7374 616d      UTC timestam
-0002b010: 7020 6d69 6e75 7320 3320 686f 7572 730a  p minus 3 hours.
-0002b020: 2020 2020 2020 2020 2020 2020 746f 5f74              to_t
-0002b030: 696d 6573 7461 6d70 2028 696e 742c 206f  imestamp (int, o
-0002b040: 7074 696f 6e61 6c29 3a20 5468 6973 2070  ptional): This p
-0002b050: 6172 616d 6574 6572 2073 7570 6572 6365  arameter superce
-0002b060: 6465 7320 656e 6420 7061 7261 6d65 7465  des end paramete
-0002b070: 722e 204e 6565 6420 696e 666f 726d 6174  r. Need informat
-0002b080: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
-0002b090: 2020 2020 746f 2074 6869 7320 7469 6d65      to this time
-0002b0a0: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
-0002b0b0: 2069 7320 6570 6f63 6820 696e 2073 6563   is epoch in sec
-0002b0c0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
-0002b0d0: 2063 7572 7265 6e74 2055 5443 2074 696d   current UTC tim
-0002b0e0: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
-0002b0f0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-0002b100: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-0002b110: 6174 696f 6e20 6f66 6673 6574 2028 6465  ation offset (de
-0002b120: 6661 756c 7420 3d20 3029 2044 6566 6175  fault = 0) Defau
-0002b130: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
-0002b140: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
-0002b150: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
-0002b160: 696e 6174 696f 6e20 7369 7a65 2028 6465  ination size (de
-0002b170: 6661 756c 7420 3d20 3130 3029 2044 6566  fault = 100) Def
-0002b180: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
-0002b190: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
-0002b1a0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
-0002b1b0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
-0002b1c0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
-0002b1d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0002b1e0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-0002b1f0: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
-0002b200: 7570 273a 2067 726f 7570 2c0a 2020 2020  up': group,.    
-0002b210: 2020 2020 2020 2020 276c 6162 656c 273a          'label':
-0002b220: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
-0002b230: 2020 2020 2773 6974 6527 3a20 7369 7465      'site': site
-0002b240: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0002b250: 7461 7274 273a 2073 7461 7274 2c0a 2020  tart': start,.  
-0002b260: 2020 2020 2020 2020 2020 2765 6e64 273a            'end':
-0002b270: 2065 6e64 2c0a 2020 2020 2020 2020 2020   end,.          
-0002b280: 2020 2773 7761 726d 5f69 6427 3a20 7377    'swarm_id': sw
-0002b290: 6172 6d5f 6964 2c0a 2020 2020 2020 2020  arm_id,.        
-0002b2a0: 2020 2020 2766 726f 6d5f 7469 6d65 7374      'from_timest
-0002b2b0: 616d 7027 3a20 6672 6f6d 5f74 696d 6573  amp': from_times
-0002b2c0: 7461 6d70 2c0a 2020 2020 2020 2020 2020  tamp,.          
-0002b2d0: 2020 2774 6f5f 7469 6d65 7374 616d 7027    'to_timestamp'
-0002b2e0: 3a20 746f 5f74 696d 6573 7461 6d70 2c0a  : to_timestamp,.
-0002b2f0: 2020 2020 2020 2020 2020 2020 276f 6666              'off
-0002b300: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
-0002b310: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
-0002b320: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
-0002b330: 207d 0a0a 2020 2020 2020 2020 6272 203d   }..        br =
-0002b340: 2073 656c 662e 4261 7463 6852 6571 7565   self.BatchReque
-0002b350: 7374 0a20 2020 2020 2020 2066 756e 6373  st.        funcs
-0002b360: 203d 205b 0a20 2020 2020 2020 2020 2020   = [.           
-0002b370: 2073 656c 662e 7769 6473 5f67 6574 5f69   self.wids_get_i
-0002b380: 6e74 6572 6665 7269 6e67 5f61 7073 2c0a  nterfering_aps,.
-0002b390: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0002b3a0: 2e77 6964 735f 6765 745f 6e65 6967 6862  .wids_get_neighb
-0002b3b0: 6f72 5f61 7073 2c0a 2020 2020 2020 2020  or_aps,.        
-0002b3c0: 2020 2020 7365 6c66 2e77 6964 735f 6765      self.wids_ge
-0002b3d0: 745f 7375 7370 6563 745f 6170 732c 0a20  t_suspect_aps,. 
-0002b3e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0002b3f0: 7769 6473 5f67 6574 5f72 6f67 7565 5f61  wids_get_rogue_a
-0002b400: 7073 2c0a 2020 2020 2020 2020 5d0a 0a20  ps,.        ].. 
-0002b410: 2020 2020 2020 2062 6174 6368 5f72 6571         batch_req
-0002b420: 203d 205b 0a20 2020 2020 2020 2020 2020   = [.           
-0002b430: 2062 7228 662c 202a 2a70 6172 616d 7329   br(f, **params)
-0002b440: 2066 6f72 2066 2069 6e20 6675 6e63 730a   for f in funcs.
-0002b450: 2020 2020 2020 2020 5d0a 0a20 2020 2020          ]..     
-0002b460: 2020 2062 6174 6368 5f72 6573 203d 2061     batch_res = a
-0002b470: 7761 6974 2073 656c 662e 5f62 6174 6368  wait self._batch
-0002b480: 5f72 6571 7565 7374 2862 6174 6368 5f72  _request(batch_r
-0002b490: 6571 290a 2020 2020 2020 2020 7265 7370  eq).        resp
-0002b4a0: 203d 2062 6174 6368 5f72 6573 5b2d 315d   = batch_res[-1]
-0002b4b0: 0a20 2020 2020 2020 206f 6b5f 7265 7320  .        ok_res 
-0002b4c0: 3d20 5b69 6478 2066 6f72 2069 6478 2c20  = [idx for idx, 
-0002b4d0: 7265 7320 696e 2065 6e75 6d65 7261 7465  res in enumerate
-0002b4e0: 2862 6174 6368 5f72 6573 2920 6966 2072  (batch_res) if r
-0002b4f0: 6573 2e6f 6b5d 0a20 2020 2020 2020 2069  es.ok].        i
-0002b500: 6620 6e6f 7420 6c65 6e28 6f6b 5f72 6573  f not len(ok_res
-0002b510: 2920 3d3d 206c 656e 2866 756e 6373 293a  ) == len(funcs):
-0002b520: 0a20 2020 2020 2020 2020 2020 2066 6169  .            fai
-0002b530: 6c65 6420 3d20 5b78 2066 6f72 2078 2069  led = [x for x i
-0002b540: 6e20 7261 6e67 6528 302c 206c 656e 2866  n range(0, len(f
-0002b550: 756e 6373 2929 2069 6620 7820 6e6f 7420  uncs)) if x not 
-0002b560: 696e 206f 6b5f 7265 735d 0a20 2020 2020  in ok_res].     
-0002b570: 2020 2020 2020 2066 6f72 2066 2069 6e20         for f in 
-0002b580: 6661 696c 6564 3a0a 2020 2020 2020 2020  failed:.        
-0002b590: 2020 2020 2020 2020 6966 2066 2069 6e20          if f in 
-0002b5a0: 7261 6e67 6528 302c 206c 656e 2862 6174  range(0, len(bat
-0002b5b0: 6368 5f72 6573 2929 3a0a 2020 2020 2020  ch_res)):.      
-0002b5c0: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
-0002b5d0: 672e 6572 726f 7228 6622 7b62 6174 6368  g.error(f"{batch
-0002b5e0: 5f72 6573 5b66 5d2e 6d65 7468 6f64 7d20  _res[f].method} 
-0002b5f0: 7b62 6174 6368 5f72 6573 5b66 5d2e 7572  {batch_res[f].ur
-0002b600: 6c2e 7061 7468 7d20 5265 7475 726e 6564  l.path} Returned
-0002b610: 2045 7272 6f72 2053 7461 7475 7320 7b62   Error Status {b
-0002b620: 6174 6368 5f72 6573 5b66 5d2e 7374 6174  atch_res[f].stat
-0002b630: 7573 7d2e 207b 6261 7463 685f 7265 735b  us}. {batch_res[
-0002b640: 665d 2e6f 7574 7075 7420 6f72 2062 6174  f].output or bat
-0002b650: 6368 5f72 6573 5b66 5d2e 6572 726f 727d  ch_res[f].error}
-0002b660: 222c 2073 686f 773d 5472 7565 290a 2020  ", show=True).  
-0002b670: 2020 2020 2020 7261 775f 6b65 7973 203d        raw_keys =
-0002b680: 205b 2269 6e74 6572 6665 7269 6e67 5f61   ["interfering_a
-0002b690: 7073 222c 2022 6e65 6967 6862 6f72 5f61  ps", "neighbor_a
-0002b6a0: 7073 222c 2022 7375 7370 6563 745f 6170  ps", "suspect_ap
-0002b6b0: 7322 5d0a 2020 2020 2020 2020 7265 7370  s"].        resp
-0002b6c0: 2e72 6177 203d 207b 2272 6f67 7565 5f61  .raw = {"rogue_a
-0002b6d0: 7073 223a 2072 6573 702e 7261 772e 6765  ps": resp.raw.ge
-0002b6e0: 7428 2272 6f67 7565 5f61 7073 222c 205b  t("rogue_aps", [
-0002b6f0: 5d29 2c20 225f 636f 756e 7473 223a 207b  ]), "_counts": {
-0002b700: 2272 6f67 7565 7322 3a20 7265 7370 2e72  "rogues": resp.r
-0002b710: 6177 2e67 6574 2822 746f 7461 6c22 297d  aw.get("total")}
-0002b720: 7d0a 2020 2020 2020 2020 666f 7220 6964  }.        for id
-0002b730: 782c 206b 6579 2069 6e20 656e 756d 6572  x, key in enumer
-0002b740: 6174 6528 7261 775f 6b65 7973 293a 0a20  ate(raw_keys):. 
-0002b750: 2020 2020 2020 2020 2020 2069 6620 6964             if id
-0002b760: 7820 696e 206f 6b5f 7265 733a 0a20 2020  x in ok_res:.   
-0002b770: 2020 2020 2020 2020 2020 2020 2072 6573               res
-0002b780: 702e 7261 7720 3d20 7b2a 2a72 6573 702e  p.raw = {**resp.
-0002b790: 7261 772c 202a 2a7b 6b65 793a 2062 6174  raw, **{key: bat
-0002b7a0: 6368 5f72 6573 5b69 6478 5d2e 7261 772e  ch_res[idx].raw.
-0002b7b0: 6765 7428 6b65 792c 205b 5d29 7d7d 0a20  get(key, [])}}. 
-0002b7c0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0002b7d0: 6573 702e 7261 775b 225f 636f 756e 7473  esp.raw["_counts
-0002b7e0: 225d 5b6b 6579 2e72 7374 7269 7028 225f  "][key.rstrip("_
-0002b7f0: 6170 7322 295d 203d 2062 6174 6368 5f72  aps")] = batch_r
-0002b800: 6573 5b69 6478 5d2e 7261 772e 6765 7428  es[idx].raw.get(
-0002b810: 2274 6f74 616c 2229 0a20 2020 2020 2020  "total").       
-0002b820: 2020 2020 2020 2020 2072 6573 702e 6f75           resp.ou
-0002b830: 7470 7574 203d 205b 2a72 6573 702e 6f75  tput = [*resp.ou
-0002b840: 7470 7574 2c20 2a62 6174 6368 5f72 6573  tput, *batch_res
-0002b850: 5b69 6478 5d2e 6f75 7470 7574 5d0a 2020  [idx].output].  
-0002b860: 2020 2020 2020 2320 7265 7370 2e6f 7574        # resp.out
-0002b870: 7075 7420 3d20 5b2a 7265 7370 2e6f 7574  put = [*resp.out
-0002b880: 7075 742c 202a 6261 7463 685f 7265 735b  put, *batch_res[
-0002b890: 305d 2e6f 7574 7075 742c 202a 6261 7463  0].output, *batc
-0002b8a0: 685f 7265 735b 315d 2e6f 7574 7075 742c  h_res[1].output,
-0002b8b0: 202a 6261 7463 685f 7265 735b 325d 2e6f   *batch_res[2].o
-0002b8c0: 7574 7075 745d 0a20 2020 2020 2020 2074  utput].        t
-0002b8d0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
-0002b8e0: 7265 7370 2e6f 7574 7075 7420 3d20 5b6d  resp.output = [m
-0002b8f0: 6f64 656c 732e 5749 4453 282a 2a64 292e  odels.WIDS(**d).
-0002b900: 6469 6374 2829 2066 6f72 2064 2069 6e20  dict() for d in 
-0002b910: 7265 7370 2e6f 7574 7075 745d 0a20 2020  resp.output].   
-0002b920: 2020 2020 2065 7863 6570 7420 4578 6365       except Exce
-0002b930: 7074 696f 6e20 6173 2065 3a0a 2020 2020  ption as e:.    
-0002b940: 2020 2020 2020 2020 6c6f 672e 7761 726e          log.warn
-0002b950: 696e 6728 6622 6465 7620 6e6f 7465 2e20  ing(f"dev note. 
-0002b960: 7079 6461 6e74 6963 2063 6f6e 7665 7273  pydantic convers
-0002b970: 696f 6e20 6469 6420 6e6f 7420 776f 726b  ion did not work
-0002b980: 222c 2073 686f 773d 5472 7565 290a 0a20  ", show=True).. 
-0002b990: 2020 2020 2020 2072 6574 7572 6e20 7265         return re
-0002b9a0: 7370 0a0a 0a20 2020 2061 7379 6e63 2064  sp...    async d
-0002b9b0: 6566 2067 6574 5f61 6c65 7274 7328 0a20  ef get_alerts(. 
-0002b9c0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0002b9d0: 2020 2020 2063 7573 746f 6d65 725f 6964       customer_id
-0002b9e0: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
-0002b9f0: 2020 2020 2020 6772 6f75 703a 2073 7472        group: str
-0002ba00: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002ba10: 206c 6162 656c 3a20 7374 7220 3d20 4e6f   label: str = No
-0002ba20: 6e65 2c0a 2020 2020 2020 2020 7365 7269  ne,.        seri
-0002ba30: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
-0002ba40: 2020 2020 2020 2020 7369 7465 3a20 7374          site: st
-0002ba50: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0002ba60: 2020 6672 6f6d 5f74 733a 2069 6e74 203d    from_ts: int =
-0002ba70: 204e 6f6e 652c 0a20 2020 2020 2020 2074   None,.        t
-0002ba80: 6f5f 7473 3a20 696e 7420 3d20 4e6f 6e65  o_ts: int = None
-0002ba90: 2c0a 2020 2020 2020 2020 7365 7665 7269  ,.        severi
-0002baa0: 7479 3a20 7374 7220 3d20 4e6f 6e65 2c0a  ty: str = None,.
-0002bab0: 2020 2020 2020 2020 7479 7065 3a20 7374          type: st
-0002bac0: 7220 3d20 4e6f 6e65 2c0a 2020 2020 2020  r = None,.      
-0002bad0: 2020 7365 6172 6368 3a20 7374 7220 3d20    search: str = 
-0002bae0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2320  None,.        # 
-0002baf0: 6361 6c63 756c 6174 655f 746f 7461 6c3a  calculate_total:
-0002bb00: 2062 6f6f 6c20 3d20 4661 6c73 652c 2020   bool = False,  
-0002bb10: 2320 446f 6573 6e27 7420 6170 7065 6172  # Doesn't appear
-0002bb20: 2074 6f20 696d 7061 6374 2061 6c77 6179   to impact alway
-0002bb30: 7320 7265 7475 726e 7320 746f 7461 6c0a  s returns total.
-0002bb40: 2020 2020 2020 2020 6163 6b3a 2062 6f6f          ack: boo
-0002bb50: 6c20 3d20 4e6f 6e65 2c0a 2020 2020 2020  l = None,.      
-0002bb60: 2020 6669 656c 6473 3a20 7374 7220 3d20    fields: str = 
-0002bb70: 4e6f 6e65 2c0a 2020 2020 2020 2020 6f66  None,.        of
-0002bb80: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
-0002bb90: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
-0002bba0: 7420 3d20 3130 3030 2c0a 2020 2020 2920  t = 1000,.    ) 
-0002bbb0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0002bbc0: 2020 2020 2022 2222 5b63 656e 7472 616c       """[central
-0002bbd0: 5d20 4c69 7374 204e 6f74 6966 6963 6174  ] List Notificat
-0002bbe0: 696f 6e73 2f41 6c65 7274 732e 2020 5265  ions/Alerts.  Re
-0002bbf0: 7475 726e 7320 3120 6461 7920 6279 2064  turns 1 day by d
-0002bc00: 6566 6175 6c74 2e0a 0a20 2020 2020 2020  efault...       
-0002bc10: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-0002bc20: 2020 2063 7573 746f 6d65 725f 6964 2028     customer_id (
-0002bc30: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0002bc40: 4d53 5020 7573 6572 2063 616e 2066 696c  MSP user can fil
-0002bc50: 7465 7220 6e6f 7469 6669 6361 7469 6f6e  ter notification
-0002bc60: 7320 6261 7365 6420 6f6e 2063 7573 746f  s based on custo
-0002bc70: 6d65 7220 6964 0a20 2020 2020 2020 2020  mer id.         
-0002bc80: 2020 2067 726f 7570 2028 7374 722c 206f     group (str, o
-0002bc90: 7074 696f 6e61 6c29 3a20 5573 6564 2074  ptional): Used t
-0002bca0: 6f20 6669 6c74 6572 2074 6865 206e 6f74  o filter the not
-0002bcb0: 6966 6963 6174 696f 6e20 7479 7065 7320  ification types 
-0002bcc0: 6261 7365 6420 6f6e 2067 726f 7570 206e  based on group n
-0002bcd0: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
-0002bce0: 6c61 6265 6c20 2873 7472 2c20 6f70 7469  label (str, opti
-0002bcf0: 6f6e 616c 293a 2055 7365 6420 746f 2066  onal): Used to f
-0002bd00: 696c 7465 7220 7468 6520 6e6f 7469 6669  ilter the notifi
-0002bd10: 6361 7469 6f6e 2074 7970 6573 2062 6173  cation types bas
-0002bd20: 6564 206f 6e20 4c61 6265 6c20 6e61 6d65  ed on Label name
-0002bd30: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-0002bd40: 6961 6c20 2873 7472 2c20 6f70 7469 6f6e  ial (str, option
-0002bd50: 616c 293a 2055 7365 6420 746f 2066 696c  al): Used to fil
-0002bd60: 7465 7220 7468 6520 7265 7375 6c74 2062  ter the result b
-0002bd70: 6173 6564 206f 6e20 7365 7269 616c 206e  ased on serial n
-0002bd80: 756d 6265 7220 6f66 2074 6865 2064 6576  umber of the dev
-0002bd90: 6963 650a 2020 2020 2020 2020 2020 2020  ice.            
-0002bda0: 7369 7465 2028 7374 722c 206f 7074 696f  site (str, optio
-0002bdb0: 6e61 6c29 3a20 5573 6564 2074 6f20 6669  nal): Used to fi
-0002bdc0: 6c74 6572 2074 6865 206e 6f74 6966 6963  lter the notific
-0002bdd0: 6174 696f 6e20 7479 7065 7320 6261 7365  ation types base
-0002bde0: 6420 6f6e 2053 6974 6520 6e61 6d65 0a20  d on Site name. 
-0002bdf0: 2020 2020 2020 2020 2020 2066 726f 6d5f             from_
-0002be00: 7473 2028 696e 742c 206f 7074 696f 6e61  ts (int, optiona
-0002be10: 6c29 3a20 3129 7374 6172 7420 6f66 2064  l): 1)start of d
-0002be20: 7572 6174 696f 6e20 7769 7468 696e 2077  uration within w
-0002be30: 6869 6368 2061 6c65 7274 7320 6172 6520  hich alerts are 
-0002be40: 7261 6973 6564 0a20 2020 2020 2020 2020  raised.         
-0002be50: 2020 2020 2020 2032 2964 6573 6372 6962         2)describ
-0002be60: 6564 2075 7369 6e67 2055 6e69 7820 4570  ed using Unix Ep
-0002be70: 6f63 6820 7469 6d65 2069 6e20 7365 636f  och time in seco
-0002be80: 6e64 7320 2044 6566 6175 6c74 2033 3020  nds  Default 30 
-0002be90: 6461 7973 2028 6d61 7820 3930 290a 2020  days (max 90).  
-0002bea0: 2020 2020 2020 2020 2020 746f 5f74 7320            to_ts 
-0002beb0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
-0002bec0: 2031 2965 6e64 206f 6620 6475 7261 7469   1)end of durati
-0002bed0: 6f6e 2077 6974 6869 6e20 7768 6963 6820  on within which 
-0002bee0: 616c 6572 7473 2061 7265 2072 6169 7365  alerts are raise
-0002bef0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
-0002bf00: 2020 3229 6465 7363 7269 6265 6420 7573    2)described us
-0002bf10: 696e 6720 556e 6978 2045 706f 6368 2074  ing Unix Epoch t
-0002bf20: 696d 6520 696e 2073 6563 6f6e 6473 0a20  ime in seconds. 
-0002bf30: 2020 2020 2020 2020 2020 2073 6576 6572             sever
-0002bf40: 6974 7920 2873 7472 2c20 6f70 7469 6f6e  ity (str, option
-0002bf50: 616c 293a 2055 7365 6420 746f 2066 696c  al): Used to fil
-0002bf60: 7465 7220 7468 6520 6e6f 7469 6669 6361  ter the notifica
-0002bf70: 7469 6f6e 2074 7970 6573 2062 6173 6564  tion types based
-0002bf80: 206f 6e20 7365 7665 7269 7479 0a20 2020   on severity.   
-0002bf90: 2020 2020 2020 2020 2074 7970 6520 2873           type (s
-0002bfa0: 7472 2c20 6f70 7469 6f6e 616c 293a 2055  tr, optional): U
-0002bfb0: 7365 6420 746f 2066 696c 7465 7220 7468  sed to filter th
-0002bfc0: 6520 6e6f 7469 6669 6361 7469 6f6e 2074  e notification t
-0002bfd0: 7970 6573 2062 6173 6564 206f 6e20 6e6f  ypes based on no
-0002bfe0: 7469 6669 6361 7469 6f6e 2074 7970 650a  tification type.
-0002bff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c000: 6e61 6d65 0a20 2020 2020 2020 2020 2020  name.           
-0002c010: 2073 6561 7263 6820 2873 7472 2c20 6f70   search (str, op
-0002c020: 7469 6f6e 616c 293a 2074 6572 6d20 7573  tional): term us
-0002c030: 6564 2074 6f20 7365 6172 6368 2069 6e20  ed to search in 
-0002c040: 6e61 6d65 2c20 6361 7465 676f 7279 206f  name, category o
-0002c050: 6620 7468 6520 616c 6572 740a 2020 2020  f the alert.    
-0002c060: 2020 2020 2020 2020 6361 6c63 756c 6174          calculat
-0002c070: 655f 746f 7461 6c20 2862 6f6f 6c2c 206f  e_total (bool, o
-0002c080: 7074 696f 6e61 6c29 3a20 5768 6574 6865  ptional): Whethe
-0002c090: 7220 746f 2063 6f75 6e74 2074 6f74 616c  r to count total
-0002c0a0: 2069 7465 6d73 2069 6e20 7468 6520 7265   items in the re
-0002c0b0: 7370 6f6e 7365 0a20 2020 2020 2020 2020  sponse.         
-0002c0c0: 2020 2061 636b 2028 626f 6f6c 2c20 6f70     ack (bool, op
-0002c0d0: 7469 6f6e 616c 293a 2046 696c 7465 7220  tional): Filter 
-0002c0e0: 6163 6b6e 6f77 6c65 6467 6564 206f 7220  acknowledged or 
-0002c0f0: 756e 6163 6b6e 6f77 6c65 6467 6564 206e  unacknowledged n
-0002c100: 6f74 6966 6963 6174 696f 6e73 2e20 5768  otifications. Wh
-0002c110: 656e 2071 7565 7279 0a20 2020 2020 2020  en query.       
-0002c120: 2020 2020 2020 2020 2070 6172 616d 6574           paramet
-0002c130: 6572 2069 7320 6e6f 7420 7370 6563 6966  er is not specif
-0002c140: 6965 642c 2062 6f74 6820 6163 6b6e 6f77  ied, both acknow
-0002c150: 6c65 6467 6564 2061 6e64 2075 6e61 636b  ledged and unack
-0002c160: 6e6f 776c 6564 6765 6420 6e6f 7469 6669  nowledged notifi
-0002c170: 6361 7469 6f6e 7320 6172 650a 2020 2020  cations are.    
-0002c180: 2020 2020 2020 2020 2020 2020 696e 636c              incl
-0002c190: 7564 6564 0a20 2020 2020 2020 2020 2020  uded.           
-0002c1a0: 2066 6965 6c64 7320 2873 7472 2c20 6f70   fields (str, op
-0002c1b0: 7469 6f6e 616c 293a 2043 6f6d 6d61 2073  tional): Comma s
-0002c1c0: 6570 6172 6174 6564 206c 6973 7420 6f66  eparated list of
-0002c1d0: 2066 6965 6c64 7320 746f 2062 6520 7265   fields to be re
-0002c1e0: 7475 726e 6564 0a20 2020 2020 2020 2020  turned.         
-0002c1f0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
-0002c200: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
-0002c210: 6174 696f 6e20 6f66 6673 6574 2044 6566  ation offset Def
-0002c220: 6175 6c74 7320 746f 2030 2e0a 2020 2020  aults to 0..    
-0002c230: 2020 2020 2020 2020 6c69 6d69 7420 2869          limit (i
-0002c240: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
-0002c250: 6167 696e 6174 696f 6e20 6c69 6d69 742e  agination limit.
-0002c260: 2044 6566 6175 6c74 2069 7320 3130 3020   Default is 100 
-0002c270: 616e 6420 6d61 7820 6973 2031 3030 3020  and max is 1000 
-0002c280: 4465 6661 756c 7473 2074 6f20 3530 302e  Defaults to 500.
-0002c290: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
-0002c2a0: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
-0002c2b0: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
-0002c2c0: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
-0002c2d0: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
-0002c2e0: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
-0002c2f0: 6365 6e74 7261 6c2f 7631 2f6e 6f74 6966  central/v1/notif
-0002c300: 6963 6174 696f 6e73 220a 0a20 2020 2020  ications"..     
-0002c310: 2020 2069 6620 6e6f 7420 6672 6f6d 5f74     if not from_t
-0002c320: 733a 0a20 2020 2020 2020 2020 2020 2066  s:.            f
-0002c330: 726f 6d5f 7473 203d 2069 6e74 2864 6174  rom_ts = int(dat
-0002c340: 6574 696d 652e 7469 6d65 7374 616d 7028  etime.timestamp(
-0002c350: 6461 7465 7469 6d65 2e74 6f64 6179 2829  datetime.today()
-0002c360: 202d 2074 696d 6564 656c 7461 2864 6179   - timedelta(day
-0002c370: 733d 3129 2929 0a20 2020 2020 2020 2069  s=1))).        i
-0002c380: 6620 6163 6b20 696e 205b 5472 7565 2c20  f ack in [True, 
-0002c390: 4661 6c73 655d 3a0a 2020 2020 2020 2020  False]:.        
-0002c3a0: 2020 2020 6163 6b20 3d20 7374 7228 6163      ack = str(ac
-0002c3b0: 6b29 2e6c 6f77 6572 2829 0a0a 2020 2020  k).lower()..    
-0002c3c0: 2020 2020 6966 2074 6f5f 7473 2061 6e64      if to_ts and
-0002c3d0: 2074 6f5f 7473 203c 3d20 6672 6f6d 5f74   to_ts <= from_t
-0002c3e0: 733a 0a20 2020 2020 2020 2020 2020 2072  s:.            r
-0002c3f0: 6574 7572 6e20 5265 7370 6f6e 7365 2865  eturn Response(e
-0002c400: 7272 6f72 3d66 2254 6f20 7469 6d65 7374  rror=f"To timest
-0002c410: 616d 7020 287b 746f 5f74 737d 2920 6361  amp ({to_ts}) ca
-0002c420: 6e20 6e6f 7420 6265 206c 6573 7320 7468  n not be less th
-0002c430: 616e 2066 726f 6d20 7469 6d65 7374 616d  an from timestam
-0002c440: 7020 287b 6672 6f6d 5f74 737d 2922 290a  p ({from_ts})").
-0002c450: 0a20 2020 2020 2020 2070 6172 616d 7320  .        params 
-0002c460: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0002c470: 2763 7573 746f 6d65 725f 6964 273a 2063  'customer_id': c
-0002c480: 7573 746f 6d65 725f 6964 2c0a 2020 2020  ustomer_id,.    
-0002c490: 2020 2020 2020 2020 2767 726f 7570 273a          'group':
-0002c4a0: 2067 726f 7570 2c0a 2020 2020 2020 2020   group,.        
-0002c4b0: 2020 2020 276c 6162 656c 273a 206c 6162      'label': lab
-0002c4c0: 656c 2c0a 2020 2020 2020 2020 2020 2020  el,.            
-0002c4d0: 2773 6572 6961 6c27 3a20 7365 7269 616c  'serial': serial
-0002c4e0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
-0002c4f0: 6974 6527 3a20 7369 7465 2c0a 2020 2020  ite': site,.    
-0002c500: 2020 2020 2020 2020 2766 726f 6d5f 7469          'from_ti
-0002c510: 6d65 7374 616d 7027 3a20 6672 6f6d 5f74  mestamp': from_t
-0002c520: 732c 0a20 2020 2020 2020 2020 2020 2027  s,.            '
-0002c530: 746f 5f74 696d 6573 7461 6d70 273a 2074  to_timestamp': t
-0002c540: 6f5f 7473 2c0a 2020 2020 2020 2020 2020  o_ts,.          
-0002c550: 2020 2773 6576 6572 6974 7927 3a20 7365    'severity': se
-0002c560: 7665 7269 7479 2c0a 2020 2020 2020 2020  verity,.        
-0002c570: 2020 2020 2773 6561 7263 6827 3a20 7365      'search': se
-0002c580: 6172 6368 2c0a 2020 2020 2020 2020 2020  arch,.          
-0002c590: 2020 2320 2763 616c 6375 6c61 7465 5f74    # 'calculate_t
-0002c5a0: 6f74 616c 273a 2073 7472 2863 616c 6375  otal': str(calcu
-0002c5b0: 6c61 7465 5f74 6f74 616c 292c 0a20 2020  late_total),.   
-0002c5c0: 2020 2020 2020 2020 2027 7479 7065 273a           'type':
-0002c5d0: 2074 7970 652c 0a20 2020 2020 2020 2020   type,.         
-0002c5e0: 2020 2027 6163 6b27 3a20 6163 6b2c 0a20     'ack': ack,. 
-0002c5f0: 2020 2020 2020 2020 2020 2027 6669 656c             'fiel
-0002c600: 6473 273a 2066 6965 6c64 732c 0a20 2020  ds': fields,.   
-0002c610: 2020 2020 2020 2020 2027 6f66 6673 6574           'offset
-0002c620: 273a 206f 6666 7365 742c 0a20 2020 2020  ': offset,.     
-0002c630: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-0002c640: 6c69 6d69 742c 0a20 2020 2020 2020 207d  limit,.        }
-0002c650: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0002c660: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-0002c670: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-0002c680: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-0002c690: 6566 2063 656e 7472 616c 5f61 636b 6e6f  ef central_ackno
-0002c6a0: 776c 6564 6765 5f6e 6f74 6966 6963 6174  wledge_notificat
-0002c6b0: 696f 6e73 280a 2020 2020 2020 2020 7365  ions(.        se
-0002c6c0: 6c66 2c0a 2020 2020 2020 2020 4e6f 4e61  lf,.        NoNa
-0002c6d0: 6d65 3a20 4c69 7374 5b73 7472 5d20 3d20  me: List[str] = 
-0002c6e0: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
-0002c6f0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0002c700: 2022 2222 4163 6b6e 6f77 6c65 6467 6520   """Acknowledge 
-0002c710: 4e6f 7469 6669 6361 7469 6f6e 7320 6279  Notifications by
-0002c720: 2049 4420 4c69 7374 202f 2041 6c6c 2e0a   ID List / All..
-0002c730: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0002c740: 2020 2020 2020 2020 2020 204e 6f4e 616d             NoNam
-0002c750: 6520 284c 6973 745b 7374 725d 2c20 6f70  e (List[str], op
-0002c760: 7469 6f6e 616c 293a 2041 636b 6e6f 776c  tional): Acknowl
-0002c770: 6564 6765 206e 6f74 6966 6963 6174 696f  edge notificatio
-0002c780: 6e73 0a0a 2020 2020 2020 2020 5265 7475  ns..        Retu
-0002c790: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0002c7a0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0002c7b0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0002c7c0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0002c7d0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0002c7e0: 222f 6365 6e74 7261 6c2f 7631 2f6e 6f74  "/central/v1/not
-0002c7f0: 6966 6963 6174 696f 6e73 220a 0a20 2020  ifications"..   
-0002c800: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
-0002c810: 7420 7365 6c66 2e70 6f73 7428 7572 6c29  t self.post(url)
-0002c820: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0002c830: 6765 745f 6170 5f63 6f6e 6669 6728 0a20  get_ap_config(. 
-0002c840: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0002c850: 2020 2020 2067 726f 7570 5f73 7761 726d       group_swarm
-0002c860: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
-0002c870: 2076 6572 7369 6f6e 3a20 7374 7220 3d20   version: str = 
-0002c880: 4e6f 6e65 2c0a 2020 2020 2920 2d3e 2052  None,.    ) -> R
-0002c890: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0002c8a0: 2022 2222 4765 7420 4150 2047 726f 7570   """Get AP Group
-0002c8b0: 204c 6576 656c 2063 6f6e 6669 6775 7261   Level configura
-0002c8c0: 7469 6f6e 2066 6f72 2055 4920 6772 6f75  tion for UI grou
-0002c8d0: 702e 0a0a 2020 2020 2020 2020 2f2f 2055  p...        // U
-0002c8e0: 7365 6420 6279 2073 686f 7720 636f 6e66  sed by show conf
-0002c8f0: 6967 203c 4150 204d 4143 2066 6f72 2041  ig <AP MAC for A
-0002c900: 4f53 3130 2041 503e 202f 2f0a 0a20 2020  OS10 AP> //..   
-0002c910: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0002c920: 2020 2020 2020 2067 726f 7570 5f73 7761         group_swa
-0002c930: 726d 6964 2028 7374 7229 3a20 4772 6f75  rmid (str): Grou
-0002c940: 7020 6e61 6d65 206f 6620 7468 6520 6772  p name of the gr
-0002c950: 6f75 7020 6f72 2067 7569 6420 6f66 2074  oup or guid of t
-0002c960: 6865 2073 7761 726d 2e0a 2020 2020 2020  he swarm..      
-0002c970: 2020 2020 2020 2020 2020 4578 616d 706c            Exampl
-0002c980: 653a 4772 6f75 705f 3120 6f72 2036 6135  e:Group_1 or 6a5
-0002c990: 6431 3233 6230 3166 3934 3431 3830 3632  d123b01f94418062
-0002c9a0: 3434 6561 3665 3032 3366 6162 3538 3431  44ea6e023fab5841
-0002c9b0: 6237 3763 3832 3861 3038 3566 3034 662e  b77c828a085f04f.
-0002c9c0: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
-0002c9d0: 7369 6f6e 2028 7374 722c 206f 7074 696f  sion (str, optio
-0002c9e0: 6e61 6c29 3a20 5665 7273 696f 6e20 6f66  nal): Version of
-0002c9f0: 2041 502e 0a0a 2020 2020 2020 2020 5265   AP...        Re
-0002ca00: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0002ca10: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0002ca20: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0002ca30: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0002ca40: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-0002ca50: 3d20 6622 2f63 6f6e 6669 6775 7261 7469  = f"/configurati
-0002ca60: 6f6e 2f76 312f 6170 5f63 6c69 2f7b 6772  on/v1/ap_cli/{gr
-0002ca70: 6f75 705f 7377 6172 6d69 647d 220a 0a20  oup_swarmid}".. 
-0002ca80: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
-0002ca90: 7b0a 2020 2020 2020 2020 2020 2020 2776  {.            'v
-0002caa0: 6572 7369 6f6e 273a 2076 6572 7369 6f6e  ersion': version
-0002cab0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-0002cac0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0002cad0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-0002cae0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-0002caf0: 2020 2061 7379 6e63 2064 6566 2072 6570     async def rep
-0002cb00: 6c61 6365 5f61 705f 636f 6e66 6967 280a  lace_ap_config(.
-0002cb10: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
-0002cb20: 2020 2020 2020 6772 6f75 705f 6e61 6d65        group_name
-0002cb30: 5f6f 725f 6775 6964 3a20 7374 722c 0a20  _or_guid: str,. 
-0002cb40: 2020 2020 2020 2063 6c69 733a 204c 6973         clis: Lis
-0002cb50: 745b 7374 725d 2c0a 2020 2020 2920 2d3e  t[str],.    ) ->
-0002cb60: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
-0002cb70: 2020 2022 2222 5265 706c 6163 6520 4150     """Replace AP
-0002cb80: 2047 726f 7570 204c 6576 656c 2063 6f6e   Group Level con
-0002cb90: 6669 6775 7261 7469 6f6e 2066 6f72 2055  figuration for U
-0002cba0: 4920 6772 6f75 702e 0a0a 2020 2020 2020  I group...      
-0002cbb0: 2020 5365 6e64 2041 5020 636f 6e66 6967    Send AP config
-0002cbc0: 7572 6174 696f 6e20 696e 2043 4c49 2066  uration in CLI f
-0002cbd0: 6f72 6d61 7420 6173 2061 206c 6973 7420  ormat as a list 
-0002cbe0: 6f66 2073 7472 696e 6773 2077 6865 7265  of strings where
-0002cbf0: 2065 6163 6820 6974 656d 2069 6e20 7468   each item in th
-0002cc00: 6520 6c69 7374 2069 730a 2020 2020 2020  e list is.      
-0002cc10: 2020 6120 6c69 6e65 2066 726f 6d20 7468    a line from th
-0002cc20: 6520 636f 6e66 6967 2e20 2052 6571 7569  e config.  Requi
-0002cc30: 7265 7320 616c 6c20 6c69 6e65 7320 6f66  res all lines of
-0002cc40: 2074 6865 2063 6f6e 6669 672c 206e 6f74   the config, not
-0002cc50: 2061 2070 6172 7469 616c 2075 7064 6174   a partial updat
-0002cc60: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
-0002cc70: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
-0002cc80: 6f75 705f 6e61 6d65 5f6f 725f 6775 6964  oup_name_or_guid
-0002cc90: 2028 7374 7229 3a20 4772 6f75 7020 6e61   (str): Group na
-0002cca0: 6d65 206f 6620 7468 6520 6772 6f75 7020  me of the group 
-0002ccb0: 6f72 2067 7569 6420 6f66 2074 6865 2073  or guid of the s
-0002ccc0: 7761 726d 2e0a 2020 2020 2020 2020 2020  warm..          
-0002ccd0: 2020 2020 2020 4578 616d 706c 653a 4772        Example:Gr
-0002cce0: 6f75 705f 3120 6f72 2036 6135 6431 3233  oup_1 or 6a5d123
-0002ccf0: 6230 3166 3934 3431 3830 3632 3434 6561  b01f9441806244ea
-0002cd00: 3665 3032 3366 6162 3538 3431 6237 3763  6e023fab5841b77c
-0002cd10: 3832 3861 3038 3566 3034 662e 0a20 2020  828a085f04f..   
-0002cd20: 2020 2020 2020 2020 2063 6c69 7320 284c           clis (L
-0002cd30: 6973 745b 7374 725d 293a 2057 686f 6c65  ist[str]): Whole
-0002cd40: 2063 6f6e 6669 6775 7261 7469 6f6e 204c   configuration L
-0002cd50: 6973 7420 696e 2043 4c49 2066 6f72 6d61  ist in CLI forma
-0002cd60: 742e 0a0a 2020 2020 2020 2020 5265 7475  t...        Retu
-0002cd70: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
-0002cd80: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
-0002cd90: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
-0002cda0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
-0002cdb0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
-0002cdc0: 6622 2f63 6f6e 6669 6775 7261 7469 6f6e  f"/configuration
-0002cdd0: 2f76 312f 6170 5f63 6c69 2f7b 6772 6f75  /v1/ap_cli/{grou
-0002cde0: 705f 6e61 6d65 5f6f 725f 6775 6964 7d22  p_name_or_guid}"
-0002cdf0: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
-0002ce00: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
-0002ce10: 2020 2020 2763 6c69 7327 3a20 636c 6973      'clis': clis
-0002ce20: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-0002ce30: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-0002ce40: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
-0002ce50: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
-0002ce60: 6174 6129 0a0a 2020 2020 6173 796e 6320  ata)..    async 
-0002ce70: 6465 6620 6765 745f 7065 725f 6170 5f63  def get_per_ap_c
-0002ce80: 6f6e 6669 6728 0a20 2020 2020 2020 2073  onfig(.        s
-0002ce90: 656c 662c 0a20 2020 2020 2020 2073 6572  elf,.        ser
-0002cea0: 6961 6c3a 2073 7472 2c0a 2020 2020 2920  ial: str,.    ) 
-0002ceb0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0002cec0: 2020 2020 2022 2222 4765 7420 7065 7220       """Get per 
-0002ced0: 4150 2073 6574 7469 6e67 2e0a 0a20 2020  AP setting...   
-0002cee0: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
-0002cef0: 2020 2020 2020 2073 6572 6961 6c20 2873         serial (s
-0002cf00: 7472 293a 2053 6572 6961 6c20 4e75 6d62  tr): Serial Numb
-0002cf10: 6572 206f 6620 4150 0a0a 2020 2020 2020  er of AP..      
-0002cf20: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0002cf30: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0002cf40: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0002cf50: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0002cf60: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002cf70: 7572 6c20 3d20 6622 2f63 6f6e 6669 6775  url = f"/configu
-0002cf80: 7261 7469 6f6e 2f76 312f 6170 5f73 6574  ration/v1/ap_set
-0002cf90: 7469 6e67 735f 636c 692f 7b73 6572 6961  tings_cli/{seria
-0002cfa0: 6c7d 220a 0a20 2020 2020 2020 2072 6574  l}"..        ret
-0002cfb0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0002cfc0: 6574 2875 726c 290a 0a20 2020 2061 7379  et(url)..    asy
-0002cfd0: 6e63 2064 6566 2072 6570 6c61 6365 5f70  nc def replace_p
-0002cfe0: 6572 5f61 705f 636f 6e66 6967 280a 2020  er_ap_config(.  
-0002cff0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0002d000: 2020 2020 7365 7269 616c 3a20 7374 722c      serial: str,
-0002d010: 0a20 2020 2020 2020 2063 6c69 733a 204c  .        clis: L
-0002d020: 6973 745b 7374 725d 2c0a 2020 2020 2920  ist[str],.    ) 
-0002d030: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
-0002d040: 2020 2020 2022 2222 5265 706c 6163 6520       """Replace 
-0002d050: 7065 7220 4150 2073 6574 7469 6e67 2e0a  per AP setting..
-0002d060: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0002d070: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0002d080: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
-0002d090: 4e75 6d62 6572 206f 6620 4150 0a20 2020  Number of AP.   
-0002d0a0: 2020 2020 2020 2020 2063 6c69 7320 284c           clis (L
-0002d0b0: 6973 745b 7374 725d 293a 2041 6c6c 2070  ist[str]): All p
-0002d0c0: 6572 2041 5020 7365 7474 696e 6720 4c69  er AP setting Li
-0002d0d0: 7374 2069 6e20 434c 4920 666f 726d 6174  st in CLI format
-0002d0e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d0f0: 204d 7573 7420 7072 6f76 6964 6520 616c   Must provide al
-0002d100: 6c20 7065 7220 4150 2073 6574 7469 6e67  l per AP setting
-0002d110: 732c 206e 6f74 2070 6172 7469 616c 0a0a  s, not partial..
-0002d120: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-0002d130: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-0002d140: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-0002d150: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-0002d160: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0002d170: 2020 2020 2020 7572 6c20 3d20 6622 2f63        url = f"/c
-0002d180: 6f6e 6669 6775 7261 7469 6f6e 2f76 312f  onfiguration/v1/
-0002d190: 6170 5f73 6574 7469 6e67 735f 636c 692f  ap_settings_cli/
-0002d1a0: 7b73 6572 6961 6c7d 220a 0a20 2020 2020  {serial}"..     
-0002d1b0: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
-0002d1c0: 0a20 2020 2020 2020 2020 2020 2027 636c  .            'cl
-0002d1d0: 6973 273a 2063 6c69 730a 2020 2020 2020  is': clis.      
-0002d1e0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
-0002d1f0: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
-0002d200: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
-0002d210: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
-0002d220: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
-0002d230: 5f62 7261 6368 5f68 6561 6c74 6828 0a20  _brach_health(. 
-0002d240: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0002d250: 2020 2020 206e 616d 653a 2073 7472 203d       name: str =
-0002d260: 204e 6f6e 652c 0a20 2020 2020 2020 2063   None,.        c
-0002d270: 6f6c 756d 6e3a 2069 6e74 203d 204e 6f6e  olumn: int = Non
-0002d280: 652c 0a20 2020 2020 2020 2072 6576 6572  e,.        rever
-0002d290: 7365 3a20 626f 6f6c 203d 2046 616c 7365  se: bool = False
-0002d2a0: 2c0a 2020 2020 2020 2020 6669 6c74 6572  ,.        filter
-0002d2b0: 733a 2064 6963 7420 3d20 7b7d 2c0a 2020  s: dict = {},.  
-0002d2c0: 2020 2020 2020 6f66 6673 6574 3a20 696e        offset: in
-0002d2d0: 7420 3d20 302c 0a20 2020 2020 2020 206c  t = 0,.        l
-0002d2e0: 696d 6974 3a20 696e 7420 3d20 3130 302c  imit: int = 100,
-0002d2f0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
-0002d300: 7365 3a0a 2020 2020 2020 2020 2222 2247  se:.        """G
-0002d310: 6574 2064 6174 6120 666f 7220 616c 6c20  et data for all 
-0002d320: 7369 7465 732e 0a0a 2020 2020 2020 2020  sites...        
-0002d330: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
-0002d340: 2020 6e61 6d65 2028 7374 722c 206f 7074    name (str, opt
-0002d350: 696f 6e61 6c29 3a20 7369 7465 202f 206c  ional): site / l
-0002d360: 6162 656c 206e 616d 6520 6f72 2070 6172  abel name or par
-0002d370: 7420 6f66 2069 7473 206e 616d 650a 2020  t of its name.  
-0002d380: 2020 2020 2020 2020 2020 636f 6c75 6d6e            column
-0002d390: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002d3a0: 3a20 436f 6c75 6d6e 2074 6f20 736f 7274  : Column to sort
-0002d3b0: 206f 6e0a 2020 2020 2020 2020 2020 2020   on.            
-0002d3c0: 7265 7665 7273 6520 2862 6f6f 6c2c 206f  reverse (bool, o
-0002d3d0: 7074 696f 6e61 6c29 3a20 536f 7274 2069  ptional): Sort i
-0002d3e0: 6e20 7265 7665 7273 6520 6f72 6465 723a  n reverse order:
-0002d3f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d400: 202a 2061 7363 202d 2041 7363 656e 6469   * asc - Ascendi
-0002d410: 6e67 2c20 6672 6f6d 2041 2074 6f20 5a2e  ng, from A to Z.
-0002d420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d430: 202a 2064 6573 6320 2d20 4465 7363 656e   * desc - Descen
-0002d440: 6469 6e67 2c20 6672 6f6d 205a 2074 6f20  ding, from Z to 
-0002d450: 412e 0a20 2020 2020 2020 2020 2020 2020  A..             
-0002d460: 2020 2056 616c 6964 2056 616c 7565 733a     Valid Values:
-0002d470: 2061 7363 2c20 6465 7363 0a20 2020 2020   asc, desc.     
-0002d480: 2020 2020 2020 2066 696c 7465 7273 2028         filters (
-0002d490: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-0002d4a0: 5369 7465 2074 6872 6573 686f 6c64 730a  Site thresholds.
-0002d4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d4c0: 2a20 416c 6c20 7072 6f70 6572 7469 6573  * All properties
-0002d4d0: 206f 6620 6120 7369 7465 2063 616e 2062   of a site can b
-0002d4e0: 6520 7573 6564 2061 7320 6669 6c74 6572  e used as filter
-0002d4f0: 2070 6172 616d 6574 6572 7320 7769 7468   parameters with
-0002d500: 2061 2074 6872 6573 686f 6c64 0a20 2020   a threshold.   
-0002d510: 2020 2020 2020 2020 2020 2020 202a 2054               * T
-0002d520: 6865 2072 616e 6765 2066 696c 7465 7273  he range filters
-0002d530: 2063 616e 2062 6520 636f 6d62 696e 6564   can be combined
-0002d540: 2077 6974 6820 7468 6520 636f 6c75 6d6e   with the column
-0002d550: 206e 616d 6573 2077 6974 6820 225c 5f5f   names with "\__
-0002d560: 2220 2023 206e 6f71 610a 2020 2020 2020  "  # noqa.      
-0002d570: 2020 2020 2020 2020 2020 2a20 466f 7220            * For 
-0002d580: 6567 2e20 2f73 6974 653f 6465 7669 6365  eg. /site?device
-0002d590: 5f64 6f77 6e5c 5f5f 6774 3d30 202d 204c  _down\__gt=0 - L
-0002d5a0: 6973 7473 2061 6c6c 2073 6974 6573 2074  ists all sites t
-0002d5b0: 6861 7420 6861 7665 206d 6f72 6520 7468  hat have more th
-0002d5c0: 616e 2031 2064 6576 6963 6520 696e 2020  an 1 device in  
-0002d5d0: 2320 6e6f 7161 0a20 2020 2020 2020 2020  # noqa.         
-0002d5e0: 2020 2020 2020 2064 6f77 6e20 7374 6174         down stat
-0002d5f0: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-0002d600: 2020 2a20 466f 7220 6567 2e20 2f73 6974    * For eg. /sit
-0002d610: 653f 7761 6e5f 7570 6c69 6e6b 735f 646f  e?wan_uplinks_do
-0002d620: 776e 5c5f 5f6c 743d 3120 2d20 4c69 7374  wn\__lt=1 - List
-0002d630: 7320 616c 6c20 7369 7465 7320 7468 6174  s all sites that
-0002d640: 2068 6176 6520 6c65 7373 2074 6861 6e20   have less than 
-0002d650: 3120 7761 6e20 2023 206e 6f71 610a 2020  1 wan  # noqa.  
-0002d660: 2020 2020 2020 2020 2020 2020 2020 696e                in
-0002d670: 2064 6f77 6e20 7374 6174 650a 2020 2020   down state.    
-0002d680: 2020 2020 2020 2020 2020 2020 2a20 466f              * Fo
-0002d690: 7220 6567 2e20 2f73 6974 653f 6465 7669  r eg. /site?devi
-0002d6a0: 6365 5f75 705f 5f67 743d 3126 6465 7669  ce_up__gt=1&devi
-0002d6b0: 6365 5f75 705c 5f5f 6c74 3d31 3020 2d20  ce_up\__lt=10 - 
-0002d6c0: 4c69 7374 7320 616c 6c20 7369 7465 7320  Lists all sites 
-0002d6d0: 7468 6174 2068 6176 6520 312d 3130 2020  that have 1-10  
-0002d6e0: 2320 6e6f 7161 0a20 2020 2020 2020 2020  # noqa.         
-0002d6f0: 2020 2020 2020 2064 6576 6963 6573 2069         devices i
-0002d700: 6e20 7570 2073 7461 7465 0a20 2020 2020  n up state.     
-0002d710: 2020 2020 2020 2020 2020 2056 616c 6964             Valid
-0002d720: 2056 616c 7565 733a 2067 7420 2028 4772   Values: gt  (Gr
-0002d730: 6561 7465 7220 7468 616e 292c 206c 7420  eater than), lt 
-0002d740: 2028 4c65 7373 2074 6861 6e29 2c20 6774   (Less than), gt
-0002d750: 6520 2847 7265 6174 6572 2074 6861 6e20  e (Greater than 
-0002d760: 6f72 2065 7175 616c 2074 6f29 2c0a 2020  or equal to),.  
-0002d770: 2020 2020 2020 2020 2020 2020 2020 6c74                lt
-0002d780: 6520 284c 6573 7320 7468 616e 206f 7220  e (Less than or 
-0002d790: 6571 7561 6c20 746f 290a 2020 2020 2020  equal to).      
-0002d7a0: 2020 2020 2020 6f66 6673 6574 2028 696e        offset (in
-0002d7b0: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
-0002d7c0: 6769 6e61 7469 6f6e 2073 7461 7274 2069  gination start i
-0002d7d0: 6e64 6578 2044 6566 6175 6c74 7320 746f  ndex Defaults to
-0002d7e0: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
-0002d7f0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
-0002d800: 6f6e 616c 293a 2070 6167 696e 6174 696f  onal): paginatio
-0002d810: 6e20 7369 7a65 2044 6566 6175 6c74 7320  n size Defaults 
-0002d820: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
-0002d830: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
-0002d840: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
-0002d850: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
-0002d860: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
-0002d870: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
-0002d880: 726c 203d 2022 2f62 7261 6e63 6868 6561  rl = "/branchhea
-0002d890: 6c74 682f 7631 2f73 6974 6522 0a0a 2020  lth/v1/site"..  
-0002d8a0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-0002d8b0: 0a20 2020 2020 2020 2020 2020 2022 6e61  .            "na
-0002d8c0: 6d65 223a 206e 616d 652c 0a20 2020 2020  me": name,.     
-0002d8d0: 2020 2020 2020 2023 2022 636f 6c75 6d6e         # "column
-0002d8e0: 223a 2063 6f6c 756d 6e2c 0a20 2020 2020  ": column,.     
-0002d8f0: 2020 2020 2020 2022 6f72 6465 7222 3a20         "order": 
-0002d900: 2261 7363 2220 6966 206e 6f74 2072 6576  "asc" if not rev
-0002d910: 6572 7365 2065 6c73 6520 2264 6573 6322  erse else "desc"
-0002d920: 2c0a 2020 2020 2020 2020 2020 2020 2320  ,.            # 
-0002d930: 2277 616e 5f74 756e 6e65 6c73 5f64 6f77  "wan_tunnels_dow
-0002d940: 6e5c 5f5f 6774 223a 2022 3022 2c0a 2020  n\__gt": "0",.  
-0002d950: 2020 2020 2020 2020 2020 2320 2277 616e            # "wan
-0002d960: 5f75 706c 696e 6b73 5f64 6f77 6e5c 5f5f  _uplinks_down\__
-0002d970: 6774 223a 2022 3022 2c0a 2020 2020 2020  gt": "0",.      
-0002d980: 2020 2020 2020 2320 2a2a 6669 6c74 6572        # **filter
-0002d990: 732c 0a20 2020 2020 2020 2020 2020 2022  s,.            "
-0002d9a0: 6f66 6673 6574 223a 206f 6666 7365 742c  offset": offset,
-0002d9b0: 0a20 2020 2020 2020 2020 2020 2022 6c69  .            "li
-0002d9c0: 6d69 7422 3a20 6c69 6d69 742c 0a20 2020  mit": limit,.   
-0002d9d0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-0002d9e0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-0002d9f0: 662e 6765 7428 7572 6c2c 2070 6172 616d  f.get(url, param
-0002da00: 733d 7061 7261 6d73 290a 0a20 2020 2061  s=params)..    a
-0002da10: 7379 6e63 2064 6566 2067 6574 5f61 7263  sync def get_arc
-0002da20: 6869 7665 645f 6465 7669 6365 7328 0a20  hived_devices(. 
-0002da30: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
-0002da40: 2020 2020 206f 6666 7365 743a 2069 6e74       offset: int
-0002da50: 203d 2030 2c0a 2020 2020 2020 2020 6c69   = 0,.        li
-0002da60: 6d69 743a 2069 6e74 203d 2031 3030 2c0a  mit: int = 100,.
-0002da70: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-0002da80: 653a 0a20 2020 2020 2020 2022 2222 4765  e:.        """Ge
-0002da90: 7420 4172 6368 6976 6564 2064 6576 6963  t Archived devic
-0002daa0: 6573 2066 726f 6d20 6465 7669 6365 2069  es from device i
-0002dab0: 6e76 656e 746f 7279 2e0a 0a20 2020 2020  nventory...     
-0002dac0: 2020 202f 2f20 5573 6564 2062 7920 7368     // Used by sh
-0002dad0: 6f77 2061 7263 6869 7665 6420 2f2f 0a0a  ow archived //..
-0002dae0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
-0002daf0: 2020 2020 2020 2020 2020 6f66 6673 6574            offset
-0002db00: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
-0002db10: 3a20 6f66 6673 6574 206f 7220 7061 6765  : offset or page
-0002db20: 206e 756d 6265 7220 4465 6661 756c 7473   number Defaults
-0002db30: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
-0002db40: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
-0002db50: 7074 696f 6e61 6c29 3a20 4e75 6d62 6572  ptional): Number
-0002db60: 206f 6620 6465 7669 6365 7320 746f 2067   of devices to g
-0002db70: 6574 2044 6566 6175 6c74 7320 746f 2031  et Defaults to 1
-0002db80: 3030 2e0a 0a20 2020 2020 2020 2052 6574  00...        Ret
-0002db90: 7572 6e73 3a0a 2020 2020 2020 2020 2020  urns:.          
-0002dba0: 2020 5265 7370 6f6e 7365 3a20 4365 6e74    Response: Cent
-0002dbb0: 7261 6c41 5049 2052 6573 706f 6e73 6520  ralAPI Response 
-0002dbc0: 6f62 6a65 6374 0a20 2020 2020 2020 2022  object.        "
-0002dbd0: 2222 0a20 2020 2020 2020 2075 726c 203d  "".        url =
-0002dbe0: 2022 2f70 6c61 7466 6f72 6d2f 6465 7669   "/platform/devi
-0002dbf0: 6365 5f69 6e76 656e 746f 7279 2f76 312f  ce_inventory/v1/
-0002dc00: 6465 7669 6365 732f 6172 6368 6976 6522  devices/archive"
-0002dc10: 0a0a 2020 2020 2020 2020 7061 7261 6d73  ..        params
-0002dc20: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0002dc30: 2027 6f66 6673 6574 273a 206f 6666 7365   'offset': offse
-0002dc40: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-0002dc50: 6c69 6d69 7427 3a20 6c69 6d69 740a 2020  limit': limit.  
-0002dc60: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0002dc70: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0002dc80: 6c66 2e67 6574 2875 726c 2c20 7061 7261  lf.get(url, para
-0002dc90: 6d73 3d70 6172 616d 7329 0a0a 2020 2020  ms=params)..    
-0002dca0: 6173 796e 6320 6465 6620 6172 6368 6976  async def archiv
-0002dcb0: 655f 6465 7669 6365 7328 0a20 2020 2020  e_devices(.     
-0002dcc0: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0002dcd0: 2073 6572 6961 6c73 3a20 4c69 7374 5b73   serials: List[s
-0002dce0: 7472 5d2c 0a20 2020 2029 202d 3e20 5265  tr],.    ) -> Re
-0002dcf0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-0002dd00: 2222 2241 7263 6869 7665 2064 6576 6963  """Archive devic
-0002dd10: 6573 2075 7369 6e67 2053 6572 6961 6c20  es using Serial 
-0002dd20: 6c69 7374 2e0a 0a20 2020 2020 2020 202f  list...        /
-0002dd30: 2f20 5573 6564 2062 7920 6172 6368 6976  / Used by archiv
-0002dd40: 6520 6465 7620 2e2e 2e20 2f2f 0a0a 2020  e dev ... //..  
-0002dd50: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
-0002dd60: 2020 2020 2020 2020 7365 7269 616c 7320          serials 
-0002dd70: 284c 6973 745b 7374 725d 293a 2073 6572  (List[str]): ser
-0002dd80: 6961 6c73 0a0a 2020 2020 2020 2020 5265  ials..        Re
-0002dd90: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
-0002dda0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
-0002ddb0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
-0002ddc0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
-0002ddd0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
-0002dde0: 3d20 222f 706c 6174 666f 726d 2f64 6576  = "/platform/dev
-0002ddf0: 6963 655f 696e 7665 6e74 6f72 792f 7631  ice_inventory/v1
-0002de00: 2f64 6576 6963 6573 2f61 7263 6869 7665  /devices/archive
-0002de10: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
-0002de20: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
-0002de30: 2020 2020 2027 7365 7269 616c 7327 3a20       'serials': 
-0002de40: 7574 696c 732e 6c69 7374 6966 7928 7365  utils.listify(se
-0002de50: 7269 616c 7329 0a20 2020 2020 2020 207d  rials).        }
-0002de60: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0002de70: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
-0002de80: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
-0002de90: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
-0002dea0: 2320 4150 492d 4e4f 5445 2063 656e 636c  # API-NOTE cencl
-0002deb0: 6920 7265 6d6f 7665 2061 7263 6869 7665  i remove archive
-0002dec0: 205b 6465 7669 6365 735d 0a20 2020 2061   [devices].    a
-0002ded0: 7379 6e63 2064 6566 2075 6e61 7263 6869  sync def unarchi
-0002dee0: 7665 5f64 6576 6963 6573 280a 2020 2020  ve_devices(.    
-0002def0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
-0002df00: 2020 7365 7269 616c 733a 204c 6973 745b    serials: List[
-0002df10: 7374 725d 2c0a 2020 2020 2920 2d3e 2052  str],.    ) -> R
-0002df20: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
-0002df30: 2022 2222 556e 6172 6368 6976 6520 6465   """Unarchive de
-0002df40: 7669 6365 7320 7573 696e 6720 5365 7269  vices using Seri
-0002df50: 616c 206c 6973 742e 0a0a 2020 2020 2020  al list...      
-0002df60: 2020 2f2f 2055 7365 6420 6279 2075 6e61    // Used by una
-0002df70: 7263 6869 7665 2064 6576 202e 2e2e 202f  rchive dev ... /
-0002df80: 2f0a 0a20 2020 2020 2020 2041 7267 733a  /..        Args:
-0002df90: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
-0002dfa0: 6961 6c73 2028 4c69 7374 5b73 7472 5d29  ials (List[str])
-0002dfb0: 3a20 7365 7269 616c 730a 0a20 2020 2020  : serials..     
-0002dfc0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
-0002dfd0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
-0002dfe0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
-0002dff0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
-0002e000: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0002e010: 2075 726c 203d 2022 2f70 6c61 7466 6f72   url = "/platfor
-0002e020: 6d2f 6465 7669 6365 5f69 6e76 656e 746f  m/device_invento
-0002e030: 7279 2f76 312f 6465 7669 6365 732f 756e  ry/v1/devices/un
-0002e040: 6172 6368 6976 6522 0a0a 2020 2020 2020  archive"..      
-0002e050: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
-0002e060: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
-0002e070: 6961 6c73 273a 2075 7469 6c73 2e6c 6973  ials': utils.lis
-0002e080: 7469 6679 2873 6572 6961 6c73 290a 2020  tify(serials).  
-0002e090: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-0002e0a0: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-0002e0b0: 6c66 2e70 6f73 7428 7572 6c2c 206a 736f  lf.post(url, jso
-0002e0c0: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
-0002e0d0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0002e0e0: 2067 6574 5f70 6f72 7461 6c73 280a 2020   get_portals(.  
-0002e0f0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-0002e100: 2020 2020 736f 7274 3a20 7374 7220 3d20      sort: str = 
-0002e110: 272b 6e61 6d65 272c 0a20 2020 2020 2020  '+name',.       
-0002e120: 206f 6666 7365 743a 2069 6e74 203d 2030   offset: int = 0
-0002e130: 2c0a 2020 2020 2020 2020 6c69 6d69 743a  ,.        limit:
-0002e140: 2069 6e74 203d 2031 3030 2c0a 2020 2020   int = 100,.    
-0002e150: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-0002e160: 2020 2020 2020 2022 2222 4765 7420 616c         """Get al
-0002e170: 6c20 706f 7274 616c 7320 7769 7468 206c  l portals with l
-0002e180: 696d 6974 6564 2064 6174 612e 0a0a 2020  imited data...  
-0002e190: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
-0002e1a0: 2073 686f 7720 706f 7274 616c 7320 2e2e   show portals ..
-0002e1b0: 2e20 2f2f 0a0a 2020 2020 2020 2020 4172  . //..        Ar
-0002e1c0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-0002e1d0: 736f 7274 2028 7374 722c 206f 7074 696f  sort (str, optio
-0002e1e0: 6e61 6c29 3a20 2b20 6973 2066 6f72 2061  nal): + is for a
-0002e1f0: 7363 656e 6469 6e67 2020 616e 6420 2d20  scending  and - 
-0002e200: 666f 7220 6465 7363 656e 6469 6e67 206f  for descending o
-0002e210: 7264 6572 202c 2073 6f72 7473 2062 7920  rder , sorts by 
-0002e220: 6e61 6d65 2066 6f72 206e 6f77 0a20 2020  name for now.   
-0002e230: 2020 2020 2020 2020 2020 2020 2056 616c               Val
-0002e240: 6964 2056 616c 7565 733a 202b 6e61 6d65  id Values: +name
-0002e250: 2c20 2d6e 616d 650a 2020 2020 2020 2020  , -name.        
-0002e260: 2020 2020 6f66 6673 6574 2028 696e 742c      offset (int,
-0002e270: 206f 7074 696f 6e61 6c29 3a20 5374 6172   optional): Star
-0002e280: 7469 6e67 2069 6e64 6578 206f 6620 656c  ting index of el
-0002e290: 656d 656e 7420 666f 7220 6120 7061 6769  ement for a pagi
-0002e2a0: 6e61 7465 6420 7175 6572 7920 4465 6661  nated query Defa
-0002e2b0: 756c 7473 2074 6f20 302e 0a20 2020 2020  ults to 0..     
-0002e2c0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-0002e2d0: 742c 206f 7074 696f 6e61 6c29 3a20 4e75  t, optional): Nu
-0002e2e0: 6d62 6572 206f 6620 6974 656d 7320 7265  mber of items re
-0002e2f0: 7175 6972 6564 2070 6572 2071 7565 7279  quired per query
-0002e300: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
-0002e310: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-0002e320: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0002e330: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-0002e340: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-0002e350: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-0002e360: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-0002e370: 2f67 7565 7374 2f76 312f 706f 7274 616c  /guest/v1/portal
-0002e380: 7322 0a0a 2020 2020 2020 2020 7061 7261  s"..        para
-0002e390: 6d73 203d 207b 0a20 2020 2020 2020 2020  ms = {.         
-0002e3a0: 2020 2027 736f 7274 273a 2073 6f72 742c     'sort': sort,
-0002e3b0: 0a20 2020 2020 2020 2020 2020 2027 6f66  .            'of
-0002e3c0: 6673 6574 273a 206f 6666 7365 742c 0a20  fset': offset,. 
-0002e3d0: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
-0002e3e0: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
-0002e3f0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
-0002e400: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
-0002e410: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
-0002e420: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
-0002e430: 6320 6465 6620 6765 745f 7669 7369 746f  c def get_visito
-0002e440: 7273 280a 2020 2020 2020 2020 7365 6c66  rs(.        self
-0002e450: 2c0a 2020 2020 2020 2020 706f 7274 616c  ,.        portal
-0002e460: 5f69 643a 2073 7472 2c0a 2020 2020 2020  _id: str,.      
-0002e470: 2020 736f 7274 3a20 7374 7220 3d20 272b    sort: str = '+
-0002e480: 6e61 6d65 272c 0a20 2020 2020 2020 2066  name',.        f
-0002e490: 696c 7465 725f 6279 3a20 7374 7220 3d20  ilter_by: str = 
-0002e4a0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6669  None,.        fi
-0002e4b0: 6c74 6572 5f76 616c 7565 3a20 7374 7220  lter_value: str 
-0002e4c0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002e4d0: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
-0002e4e0: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
-0002e4f0: 696e 7420 3d20 3130 302c 0a20 2020 2029  int = 100,.    )
-0002e500: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
-0002e510: 2020 2020 2020 2222 2247 6574 2061 6c6c        """Get all
-0002e520: 2076 6973 6974 6f72 7320 6372 6561 7465   visitors create
-0002e530: 6420 6167 6169 6e73 7420 6120 706f 7274  d against a port
-0002e540: 616c 2e0a 0a20 2020 2020 2020 2041 7267  al...        Arg
-0002e550: 733a 0a20 2020 2020 2020 2020 2020 2070  s:.            p
-0002e560: 6f72 7461 6c5f 6964 2028 7374 7229 3a20  ortal_id (str): 
-0002e570: 506f 7274 616c 2049 4420 6f66 2074 6865  Portal ID of the
-0002e580: 2073 706c 6173 6820 7061 6765 0a20 2020   splash page.   
-0002e590: 2020 2020 2020 2020 2073 6f72 7420 2873           sort (s
-0002e5a0: 7472 2c20 6f70 7469 6f6e 616c 293a 202b  tr, optional): +
-0002e5b0: 2069 7320 666f 7220 6173 6365 6e64 696e   is for ascendin
-0002e5c0: 6720 2061 6e64 202d 2066 6f72 2064 6573  g  and - for des
-0002e5d0: 6365 6e64 696e 6720 6f72 6465 7220 2c20  cending order , 
-0002e5e0: 736f 7274 7320 6279 206e 616d 6520 666f  sorts by name fo
-0002e5f0: 720a 2020 2020 2020 2020 2020 2020 2020  r.              
-0002e600: 2020 6e6f 7720 2056 616c 6964 2056 616c    now  Valid Val
-0002e610: 7565 733a 202b 6e61 6d65 2c20 2d6e 616d  ues: +name, -nam
-0002e620: 650a 2020 2020 2020 2020 2020 2020 6669  e.            fi
-0002e630: 6c74 6572 5f62 7920 2873 7472 2c20 6f70  lter_by (str, op
-0002e640: 7469 6f6e 616c 293a 2066 696c 7465 7220  tional): filter 
-0002e650: 6279 2065 6d61 696c 206f 7220 6e61 6d65  by email or name
-0002e660: 2020 5661 6c69 6420 5661 6c75 6573 3a20    Valid Values: 
-0002e670: 6e61 6d65 2c20 656d 6169 6c0a 2020 2020  name, email.    
-0002e680: 2020 2020 2020 2020 6669 6c74 6572 5f76          filter_v
-0002e690: 616c 7565 2028 7374 722c 206f 7074 696f  alue (str, optio
-0002e6a0: 6e61 6c29 3a20 6669 6c74 6572 2076 616c  nal): filter val
-0002e6b0: 7565 0a20 2020 2020 2020 2020 2020 206f  ue.            o
-0002e6c0: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
-0002e6d0: 6f6e 616c 293a 2053 7461 7274 696e 6720  onal): Starting 
-0002e6e0: 696e 6465 7820 6f66 2065 6c65 6d65 6e74  index of element
-0002e6f0: 2066 6f72 2061 2070 6167 696e 6174 6564   for a paginated
-0002e700: 2071 7565 7279 2044 6566 6175 6c74 7320   query Defaults 
-0002e710: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
-0002e720: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
-0002e730: 7469 6f6e 616c 293a 204e 756d 6265 7220  tional): Number 
-0002e740: 6f66 2069 7465 6d73 2072 6571 7569 7265  of items require
-0002e750: 6420 7065 7220 7175 6572 7920 4465 6661  d per query Defa
-0002e760: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
-0002e770: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
-0002e780: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
-0002e790: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
-0002e7a0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
-0002e7b0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0002e7c0: 2020 2020 7572 6c20 3d20 6622 2f67 7565      url = f"/gue
-0002e7d0: 7374 2f76 312f 706f 7274 616c 732f 7b70  st/v1/portals/{p
-0002e7e0: 6f72 7461 6c5f 6964 7d2f 7669 7369 746f  ortal_id}/visito
-0002e7f0: 7273 220a 0a20 2020 2020 2020 2070 6172  rs"..        par
-0002e800: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
-0002e810: 2020 2020 2773 6f72 7427 3a20 736f 7274      'sort': sort
-0002e820: 2c0a 2020 2020 2020 2020 2020 2020 2766  ,.            'f
-0002e830: 696c 7465 725f 6279 273a 2066 696c 7465  ilter_by': filte
-0002e840: 725f 6279 2c0a 2020 2020 2020 2020 2020  r_by,.          
-0002e850: 2020 2766 696c 7465 725f 7661 6c75 6527    'filter_value'
-0002e860: 3a20 6669 6c74 6572 5f76 616c 7565 2c0a  : filter_value,.
-0002e870: 2020 2020 2020 2020 2020 2020 276f 6666              'off
-0002e880: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
-0002e890: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
-0002e8a0: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
-0002e8b0: 207d 0a20 2020 2020 2020 2070 6172 616d   }.        param
-0002e8c0: 7320 3d20 7574 696c 732e 7374 7269 705f  s = utils.strip_
-0002e8d0: 6e6f 6e65 2870 6172 616d 7329 0a0a 2020  none(params)..  
-0002e8e0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
-0002e8f0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
-0002e900: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-0002e910: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0002e920: 6164 645f 7669 7369 746f 7228 0a20 2020  add_visitor(.   
-0002e930: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
-0002e940: 2020 2070 6f72 7461 6c5f 6964 3a20 7374     portal_id: st
-0002e950: 722c 0a20 2020 2020 2020 206e 616d 653a  r,.        name:
-0002e960: 2073 7472 2c0a 2020 2020 2020 2020 2320   str,.        # 
-0002e970: 6964 3a20 7374 722c 0a20 2020 2020 2020  id: str,.       
-0002e980: 2070 6173 7377 6f72 643a 2073 7472 203d   password: str =
-0002e990: 204e 6f6e 652c 0a20 2020 2020 2020 202a   None,.        *
-0002e9a0: 2c0a 2020 2020 2020 2020 636f 6d70 616e  ,.        compan
-0002e9b0: 795f 6e61 6d65 3a20 7374 7220 3d20 4e6f  y_name: str = No
-0002e9c0: 6e65 2c0a 2020 2020 2020 2020 7068 6f6e  ne,.        phon
-0002e9d0: 653a 2073 7472 207c 204e 6f6e 6520 3d20  e: str | None = 
-0002e9e0: 4e6f 6e65 2c0a 2020 2020 2020 2020 656d  None,.        em
-0002e9f0: 6169 6c3a 2073 7472 207c 204e 6f6e 6520  ail: str | None 
-0002ea00: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002ea10: 7661 6c69 645f 666f 7265 7665 723a 2062  valid_forever: b
-0002ea20: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
-0002ea30: 2020 2020 2076 616c 6964 5f64 6179 733a       valid_days:
-0002ea40: 2069 6e74 203d 2033 2c0a 2020 2020 2020   int = 3,.      
-0002ea50: 2020 7661 6c69 645f 686f 7572 733a 2069    valid_hours: i
-0002ea60: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-0002ea70: 7661 6c69 645f 6d69 6e75 7465 733a 2069  valid_minutes: i
-0002ea80: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-0002ea90: 6e6f 7469 6679 3a20 626f 6f6c 207c 204e  notify: bool | N
-0002eaa0: 6f6e 6520 3d20 4e6f 6e65 2c0a 2020 2020  one = None,.    
-0002eab0: 2020 2020 6e6f 7469 6679 5f74 6f3a 2063      notify_to: c
-0002eac0: 6f6e 7374 616e 7473 2e4e 6f74 6966 7954  onstants.NotifyT
-0002ead0: 6f41 7267 7320 7c20 4e6f 6e65 203d 204e  oArgs | None = N
-0002eae0: 6f6e 652c 0a20 2020 2020 2020 2069 735f  one,.        is_
-0002eaf0: 656e 6162 6c65 643a 2062 6f6f 6c20 3d20  enabled: bool = 
-0002eb00: 5472 7565 2c0a 2020 2020 2020 2020 2320  True,.        # 
-0002eb10: 7374 6174 7573 3a20 626f 6f6c 2c0a 2020  status: bool,.  
-0002eb20: 2020 2020 2020 2320 6372 6561 7465 645f        # created_
-0002eb30: 6174 3a20 7374 722c 0a20 2020 2020 2020  at: str,.       
-0002eb40: 2023 2065 7870 6972 655f 6174 3a20 7374   # expire_at: st
-0002eb50: 722c 0a20 2020 2029 202d 3e20 5265 7370  r,.    ) -> Resp
-0002eb60: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
-0002eb70: 2243 7265 6174 6520 6120 6e65 7720 6775  "Create a new gu
-0002eb80: 6573 7420 7669 7369 746f 7220 6f66 2061  est visitor of a
-0002eb90: 2070 6f72 7461 6c2e 0a0a 2020 2020 2020   portal...      
-0002eba0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
-0002ebb0: 2020 2020 706f 7274 616c 5f69 6420 2873      portal_id (s
-0002ebc0: 7472 293a 2050 6f72 7461 6c20 4944 206f  tr): Portal ID o
-0002ebd0: 6620 7468 6520 7370 6c61 7368 2070 6167  f the splash pag
-0002ebe0: 650a 2020 2020 2020 2020 2020 2020 6e61  e.            na
-0002ebf0: 6d65 2028 7374 7229 3a20 5669 7369 746f  me (str): Visito
-0002ec00: 7220 6163 636f 756e 7420 6e61 6d65 0a20  r account name. 
-0002ec10: 2020 2020 2020 2020 2020 2070 6173 7377             passw
-0002ec20: 6f72 6420 2873 7472 293a 2050 6173 7377  ord (str): Passw
-0002ec30: 6f72 640a 2020 2020 2020 2020 2020 2020  ord.            
-0002ec40: 636f 6d70 616e 795f 6e61 6d65 2028 7374  company_name (st
-0002ec50: 7229 3a20 436f 6d70 616e 7920 6e61 6d65  r): Company name
-0002ec60: 206f 6620 7468 6520 7669 7369 746f 720a   of the visitor.
-0002ec70: 2020 2020 2020 2020 2020 2020 7068 6f6e              phon
-0002ec80: 6520 2873 7472 293a 2050 686f 6e65 206e  e (str): Phone n
-0002ec90: 756d 6265 7220 6f66 2074 6865 2076 6973  umber of the vis
-0002eca0: 6974 6f72 3b20 466f 726d 6174 205b 2b43  itor; Format [+C
-0002ecb0: 6f75 6e74 7279 436f 6465 5d5b 5068 6f6e  ountryCode][Phon
-0002ecc0: 654e 756d 6265 725d 0a20 2020 2020 2020  eNumber].       
-0002ecd0: 2020 2020 2065 6d61 696c 2028 7374 7229       email (str)
-0002ece0: 3a20 456d 6169 6c20 6164 6472 6573 7320  : Email address 
-0002ecf0: 6f66 2074 6865 2076 6973 6974 6f72 0a20  of the visitor. 
-0002ed00: 2020 2020 2020 2020 2020 2076 616c 6964             valid
-0002ed10: 5f66 6f72 6576 6572 2028 626f 6f6c 293a  _forever (bool):
-0002ed20: 2056 6973 6974 6f72 2061 6363 6f75 6e74   Visitor account
-0002ed30: 2077 696c 6c20 6e6f 7420 6578 7069 7265   will not expire
-0002ed40: 2077 6865 6e20 7468 6973 2069 7320 7365   when this is se
-0002ed50: 7420 746f 2074 7275 650a 2020 2020 2020  t to true.      
-0002ed60: 2020 2020 2020 7661 6c69 645f 6461 7973        valid_days
-0002ed70: 2028 696e 7429 3a20 4163 636f 756e 7420   (int): Account 
-0002ed80: 7661 6c69 6469 7479 2069 6e20 6461 7973  validity in days
-0002ed90: 0a20 2020 2020 2020 2020 2020 2076 616c  .            val
-0002eda0: 6964 5f68 6f75 7273 2028 696e 7429 3a20  id_hours (int): 
-0002edb0: 4163 636f 756e 7420 7661 6c69 6469 7479  Account validity
-0002edc0: 2069 6e20 686f 7572 730a 2020 2020 2020   in hours.      
-0002edd0: 2020 2020 2020 7661 6c69 645f 6d69 6e75        valid_minu
-0002ede0: 7465 7320 2869 6e74 293a 2041 6363 6f75  tes (int): Accou
-0002edf0: 6e74 2076 616c 6964 6974 7920 696e 206d  nt validity in m
-0002ee00: 696e 7574 6573 0a20 2020 2020 2020 2020  inutes.         
-0002ee10: 2020 206e 6f74 6966 7920 2862 6f6f 6c29     notify (bool)
-0002ee20: 3a20 466c 6167 2074 6f20 6e6f 7469 6679  : Flag to notify
-0002ee30: 2074 6865 2070 6173 7377 6f72 6420 7669   the password vi
-0002ee40: 6120 656d 6169 6c20 6f72 206e 756d 6265  a email or numbe
-0002ee50: 720a 2020 2020 2020 2020 2020 2020 6e6f  r.            no
-0002ee60: 7469 6679 5f74 6f20 2873 7472 293a 204e  tify_to (str): N
-0002ee70: 6f74 6966 7920 746f 2065 6d61 696c 206f  otify to email o
-0002ee80: 7220 7068 6f6e 652e 2044 6566 7561 6c74  r phone. Defualt
-0002ee90: 2069 7320 7068 6f6e 6520 7768 656e 2069   is phone when i
-0002eea0: 7420 6973 2070 726f 7669 6465 640a 2020  t is provided.  
-0002eeb0: 2020 2020 2020 2020 2020 2020 2020 6f74                ot
-0002eec0: 6865 7277 6973 6520 656d 6169 6c2e 2020  herwise email.  
-0002eed0: 5661 6c69 6420 5661 6c75 6573 3a20 656d  Valid Values: em
-0002eee0: 6169 6c2c 2070 686f 6e65 0a20 2020 2020  ail, phone.     
-0002eef0: 2020 2020 2020 2069 735f 656e 6162 6c65         is_enable
-0002ef00: 6420 2862 6f6f 6c29 3a20 456e 6162 6c65  d (bool): Enable
-0002ef10: 206f 7220 6469 7361 626c 6520 7468 6520   or disable the 
-0002ef20: 7669 7369 746f 7220 6163 636f 756e 740a  visitor account.
-0002ef30: 2020 2020 2020 2020 2020 2020 2320 6964              # id
-0002ef40: 2028 7374 7229 3a20 4e41 2066 6f72 2076   (str): NA for v
-0002ef50: 6973 6974 6f72 2070 6f73 742f 7075 7420  isitor post/put 
-0002ef60: 6d65 7468 6f64 2e20 4944 206f 6620 7468  method. ID of th
-0002ef70: 6520 7669 7369 746f 720a 2020 2020 2020  e visitor.      
-0002ef80: 2020 2020 2020 2320 7374 6174 7573 2028        # status (
-0002ef90: 626f 6f6c 293a 2054 6869 7320 6669 656c  bool): This fiel
-0002efa0: 6420 7072 6f76 6964 6573 2073 7461 7475  d provides statu
-0002efb0: 7320 6f66 2074 6865 2061 6363 6f75 6e74  s of the account
-0002efc0: 2e20 5265 7475 726e 7320 7472 7565 2077  . Returns true w
-0002efd0: 6865 6e20 656e 6162 6c65 6420 616e 640a  hen enabled and.
-0002efe0: 2020 2020 2020 2020 2020 2020 2320 2020              #   
-0002eff0: 2020 6e6f 7420 6578 7069 7265 642e 204e    not expired. N
-0002f000: 4120 666f 7220 7669 7369 746f 7220 706f  A for visitor po
-0002f010: 7374 2f70 7574 206d 6574 686f 642e 2054  st/put method. T
-0002f020: 6869 7320 6973 206f 7074 696f 6e61 6c20  his is optional 
-0002f030: 6669 656c 6473 2e0a 2020 2020 2020 2020  fields..        
-0002f040: 2020 2020 2320 6372 6561 7465 645f 6174      # created_at
-0002f050: 2028 7374 7229 3a20 5468 6973 2066 6965   (str): This fie
-0002f060: 6c64 2069 6e64 6963 6174 6573 2074 6865  ld indicates the
-0002f070: 2063 7265 6174 6564 2064 6174 6520 7469   created date ti
-0002f080: 6d65 7374 616d 7020 7661 6c75 652e 2049  mestamp value. I
-0002f090: 7420 6973 2067 656e 6572 6174 6564 0a20  t is generated. 
-0002f0a0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-0002f0b0: 2077 6869 6c65 2063 7265 6174 696e 6720   while creating 
-0002f0c0: 7669 7369 746f 722e 204e 4120 666f 7220  visitor. NA for 
-0002f0d0: 7669 7369 746f 7220 706f 7374 2f70 7574  visitor post/put
-0002f0e0: 206d 6574 686f 642e 2054 6869 7320 6973   method. This is
-0002f0f0: 206f 7074 696f 6e61 6c20 6669 656c 642e   optional field.
-0002f100: 0a20 2020 2020 2020 2020 2020 2023 2065  .            # e
-0002f110: 7870 6972 655f 6174 2028 7374 7229 3a20  xpire_at (str): 
-0002f120: 5468 6973 2066 6965 6c64 2069 6e64 6963  This field indic
-0002f130: 6174 6573 2065 7870 6972 7920 7469 6d65  ates expiry time
-0002f140: 2074 696d 6573 7461 6d70 2076 616c 7565   timestamp value
-0002f150: 2e20 4974 2069 7320 6765 6e65 7261 7465  . It is generate
-0002f160: 6420 6261 7365 640a 2020 2020 2020 2020  d based.        
-0002f170: 2020 2020 2320 2020 2020 6f6e 2074 6865      #     on the
-0002f180: 2076 616c 6964 5f74 696c 6c20 7661 6c75   valid_till valu
-0002f190: 6520 616e 6420 6372 6561 7465 645f 6174  e and created_at
-0002f1a0: 2074 696d 652e 204e 4120 666f 7220 7669   time. NA for vi
-0002f1b0: 7369 746f 7220 706f 7374 2f70 7574 206d  sitor post/put m
-0002f1c0: 6574 686f 642e 2054 6869 7320 6973 0a20  ethod. This is. 
-0002f1d0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-0002f1e0: 206f 7074 696f 6e61 6c20 6669 656c 640a   optional field.
-0002f1f0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
-0002f200: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
-0002f210: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
-0002f220: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
-0002f230: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
-0002f240: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-0002f250: 6775 6573 742f 7631 2f70 6f72 7461 6c73  guest/v1/portals
-0002f260: 2f7b 706f 7274 616c 5f69 647d 2f76 6973  /{portal_id}/vis
-0002f270: 6974 6f72 7322 0a0a 2020 2020 2020 2020  itors"..        
-0002f280: 7573 6572 5f64 6174 6120 3d20 7b0a 2020  user_data = {.  
-0002f290: 2020 2020 2020 2020 2020 2770 686f 6e65            'phone
-0002f2a0: 273a 2070 686f 6e65 2c0a 2020 2020 2020  ': phone,.      
-0002f2b0: 2020 2020 2020 2765 6d61 696c 273a 2065        'email': e
-0002f2c0: 6d61 696c 0a20 2020 2020 2020 207d 0a20  mail.        }. 
-0002f2d0: 2020 2020 2020 2023 2041 5049 2072 6571         # API req
-0002f2e0: 7569 7265 7320 7068 6f6e 6520 616e 6420  uires phone and 
-0002f2f0: 656d 6169 6c2c 2062 7574 2061 6c6c 6f77  email, but allow
-0002f300: 7320 4e6f 6e65 2f6e 756c 6c20 6173 2076  s None/null as v
-0002f310: 616c 7565 2064 6570 656e 6469 6e67 206f  alue depending o
-0002f320: 6e20 686f 7720 706f 7274 616c 2069 7320  n how portal is 
-0002f330: 636f 6e66 6967 7572 6564 0a20 2020 2020  configured.     
-0002f340: 2020 2023 2075 7365 725f 6461 7461 203d     # user_data =
-0002f350: 2075 7469 6c73 2e73 7472 6970 5f6e 6f6e   utils.strip_non
-0002f360: 6528 7573 6572 5f64 6174 6129 0a0a 2020  e(user_data)..  
-0002f370: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
-0002f380: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0002f390: 276e 616d 6527 3a20 6e61 6d65 2c0a 2020  'name': name,.  
-0002f3a0: 2020 2020 2020 2020 2020 2763 6f6d 7061            'compa
-0002f3b0: 6e79 5f6e 616d 6527 3a20 636f 6d70 616e  ny_name': compan
-0002f3c0: 795f 6e61 6d65 2c0a 2020 2020 2020 2020  y_name,.        
-0002f3d0: 2020 2020 2769 735f 656e 6162 6c65 6427      'is_enabled'
-0002f3e0: 3a20 6973 5f65 6e61 626c 6564 2c0a 2020  : is_enabled,.  
-0002f3f0: 2020 2020 2020 2020 2020 2776 616c 6964            'valid
-0002f400: 5f74 696c 6c5f 6e6f 5f6c 696d 6974 273a  _till_no_limit':
-0002f410: 2076 616c 6964 5f66 6f72 6576 6572 2c0a   valid_forever,.
-0002f420: 2020 2020 2020 2020 2020 2020 2776 616c              'val
-0002f430: 6964 5f74 696c 6c5f 6461 7973 273a 2076  id_till_days': v
-0002f440: 616c 6964 5f64 6179 732c 0a20 2020 2020  alid_days,.     
-0002f450: 2020 2020 2020 2027 7661 6c69 645f 7469         'valid_ti
-0002f460: 6c6c 5f68 6f75 7273 273a 2076 616c 6964  ll_hours': valid
-0002f470: 5f68 6f75 7273 2c0a 2020 2020 2020 2020  _hours,.        
-0002f480: 2020 2020 2776 616c 6964 5f74 696c 6c5f      'valid_till_
-0002f490: 6d69 6e75 7465 7327 3a20 7661 6c69 645f  minutes': valid_
-0002f4a0: 6d69 6e75 7465 732c 0a20 2020 2020 2020  minutes,.       
-0002f4b0: 2020 2020 2027 6e6f 7469 6679 273a 206e       'notify': n
-0002f4c0: 6f74 6966 792c 0a20 2020 2020 2020 2020  otify,.         
-0002f4d0: 2020 2027 6e6f 7469 6679 5f74 6f27 3a20     'notify_to': 
-0002f4e0: 6e6f 7469 6679 5f74 6f2c 0a20 2020 2020  notify_to,.     
-0002f4f0: 2020 2020 2020 2027 7061 7373 776f 7264         'password
-0002f500: 273a 2070 6173 7377 6f72 640a 2020 2020  ': password.    
-0002f510: 2020 2020 7d0a 2020 2020 2020 2020 6a73      }.        js
-0002f520: 6f6e 5f64 6174 6120 3d20 7574 696c 732e  on_data = utils.
-0002f530: 7374 7269 705f 6e6f 6e65 286a 736f 6e5f  strip_none(json_
-0002f540: 6461 7461 290a 2020 2020 2020 2020 6966  data).        if
-0002f550: 2075 7365 725f 6461 7461 3a0a 2020 2020   user_data:.    
-0002f560: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
-0002f570: 615b 2275 7365 7222 5d20 3d20 7573 6572  a["user"] = user
-0002f580: 5f64 6174 610a 0a20 2020 2020 2020 2072  _data..        r
-0002f590: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-0002f5a0: 2e70 6f73 7428 7572 6c2c 206a 736f 6e5f  .post(url, json_
-0002f5b0: 6461 7461 3d6a 736f 6e5f 6461 7461 290a  data=json_data).
-0002f5c0: 0a20 2020 2023 2054 4f44 4f20 7661 6c69  .    # TODO vali
-0002f5d0: 6461 7465 2049 5020 6164 6472 6573 7320  date IP address 
-0002f5e0: 666f 726d 6174 0a20 2020 2061 7379 6e63  format.    async
-0002f5f0: 2064 6566 2075 7064 6174 655f 6378 5f70   def update_cx_p
-0002f600: 726f 7065 7274 6965 7328 0a20 2020 2020  roperties(.     
-0002f610: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
-0002f620: 202a 2c0a 2020 2020 2020 2020 7365 7269   *,.        seri
-0002f630: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
-0002f640: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
-0002f650: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
-0002f660: 2020 206e 616d 653a 2073 7472 203d 204e     name: str = N
-0002f670: 6f6e 652c 0a20 2020 2020 2020 2063 6f6e  one,.        con
-0002f680: 7461 6374 3a20 7374 7220 3d20 4e6f 6e65  tact: str = None
-0002f690: 2c0a 2020 2020 2020 2020 6c6f 6361 7469  ,.        locati
-0002f6a0: 6f6e 3a20 7374 7220 3d20 4e6f 6e65 2c0a  on: str = None,.
-0002f6b0: 2020 2020 2020 2020 7469 6d65 7a6f 6e65          timezone
-0002f6c0: 3a20 636f 6e73 7461 6e74 732e 545a 4442  : constants.TZDB
-0002f6d0: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0002f6e0: 206d 676d 745f 7672 663a 2062 6f6f 6c20   mgmt_vrf: bool 
-0002f6f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
-0002f700: 646e 735f 7365 7276 6572 733a 204c 6973  dns_servers: Lis
-0002f710: 745b 7374 725d 203d 205b 5d2c 0a20 2020  t[str] = [],.   
-0002f720: 2020 2020 206e 7470 5f73 6572 7665 7273       ntp_servers
-0002f730: 3a20 4c69 7374 5b73 7472 5d20 3d20 5b5d  : List[str] = []
-0002f740: 2c0a 2020 2020 2020 2020 6164 6d69 6e5f  ,.        admin_
-0002f750: 7573 6572 3a20 7374 7220 3d20 4e6f 6e65  user: str = None
-0002f760: 2c0a 2020 2020 2020 2020 6164 6d69 6e5f  ,.        admin_
-0002f770: 7061 7373 3a20 7374 7220 3d20 4e6f 6e65  pass: str = None
-0002f780: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
-0002f790: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
-0002f7a0: 5570 6461 7465 2050 726f 7065 7274 6965  Update Propertie
-0002f7b0: 7320 2841 7275 6261 4f53 2d43 5829 2e0a  s (ArubaOS-CX)..
-0002f7c0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
-0002f7d0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
-0002f7e0: 6c20 2873 7472 2c20 6f70 7469 6f6e 616c  l (str, optional
-0002f7f0: 293a 2044 6576 6963 6520 7365 7269 616c  ): Device serial
-0002f800: 206e 756d 6265 722e 0a20 2020 2020 2020   number..       
-0002f810: 2020 2020 2020 2020 204d 616e 6461 746f           Mandato
-0002f820: 7279 2066 6f72 2064 6576 6963 6520 6c65  ry for device le
-0002f830: 7665 6c20 636f 6e66 6967 7572 6174 696f  vel configuratio
-0002f840: 6e2e 0a20 2020 2020 2020 2020 2020 2020  n..             
-0002f850: 2020 2031 2061 6e64 206f 6e6c 7920 3120     1 and only 1 
-0002f860: 6f66 2073 6572 6961 6c20 6f72 2067 726f  of serial or gro
-0002f870: 7570 2061 7265 2072 6571 7569 7265 640a  up are required.
-0002f880: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
-0002f890: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
-0002f8a0: 293a 2047 726f 7570 206e 616d 652e 0a20  ): Group name.. 
-0002f8b0: 2020 2020 2020 2020 2020 2020 2020 204d                 M
-0002f8c0: 616e 6461 746f 7279 2066 6f72 2067 726f  andatory for gro
-0002f8d0: 7570 206c 6576 656c 2063 6f6e 6669 6775  up level configu
-0002f8e0: 7261 7469 6f6e 2e0a 2020 2020 2020 2020  ration..        
-0002f8f0: 2020 2020 2020 2020 3120 616e 6420 6f6e          1 and on
-0002f900: 6c79 2031 206f 6620 7365 7269 616c 206f  ly 1 of serial o
-0002f910: 7220 6772 6f75 7020 6172 6520 7265 7175  r group are requ
-0002f920: 6972 6564 0a20 2020 2020 2020 2020 2020  ired.           
-0002f930: 206e 616d 6520 2873 7472 293a 204f 6e6c   name (str): Onl
-0002f940: 7920 636f 6e66 6967 7572 6162 6c65 2061  y configurable a
-0002f950: 7420 6465 7669 6365 2d6c 6576 656c 2e0a  t device-level..
-0002f960: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
-0002f970: 6163 7420 2873 7472 293a 2050 6174 7465  act (str): Patte
-0002f980: 726e 3a20 225e 5b5e 223f 5d2a 2422 0a20  rn: "^[^"?]*$". 
-0002f990: 2020 2020 2020 2020 2020 206c 6f63 6174             locat
-0002f9a0: 696f 6e20 2873 7472 293a 2050 6174 7465  ion (str): Patte
-0002f9b0: 726e 3a20 225e 5b5e 223f 5d2a 2422 0a20  rn: "^[^"?]*$". 
-0002f9c0: 2020 2020 2020 2020 2020 2074 696d 657a             timez
-0002f9d0: 6f6e 6520 2873 7472 293a 2074 696d 657a  one (str): timez
-0002f9e0: 6f6e 6520 2056 616c 6964 2056 616c 7565  one  Valid Value
-0002f9f0: 733a 2075 7365 2074 7a20 6461 7461 6261  s: use tz databa
-0002fa00: 7365 2066 6f72 6d61 7420 6c69 6b65 2022  se format like "
-0002fa10: 416d 6572 6963 612f 4368 6963 6167 6f22  America/Chicago"
-0002fa20: 0a20 2020 2020 2020 2020 2020 206d 676d  .            mgm
-0002fa30: 745f 7672 6620 2862 6f6f 6c29 3a20 5573  t_vrf (bool): Us
-0002fa40: 6520 6d67 6d74 2056 5246 2c20 696e 6469  e mgmt VRF, indi
-0002fa50: 6361 7465 7320 5652 4620 666f 7220 646e  cates VRF for dn
-0002fa60: 735f 7365 7276 6572 7320 616e 6420 6e74  s_servers and nt
-0002fa70: 705f 7365 7276 6572 732c 2069 6620 4661  p_servers, if Fa
-0002fa80: 6c73 6520 6f72 206e 6f74 2070 726f 7669  lse or not provi
-0002fa90: 6465 6420 6465 6661 756c 7420 5652 4620  ded default VRF 
-0002faa0: 6973 2075 7365 642e 0a20 2020 2020 2020  is used..       
-0002fab0: 2020 2020 2064 6e73 5f73 6572 7665 7273       dns_servers
-0002fac0: 2028 4c69 7374 5b73 7472 5d29 3a20 6970   (List[str]): ip
-0002fad0: 7634 2f69 7076 3620 6164 6472 6573 730a  v4/ipv6 address.
-0002fae0: 2020 2020 2020 2020 2020 2020 6e74 705f              ntp_
-0002faf0: 7365 7276 6572 7320 284c 6973 745b 7374  servers (List[st
-0002fb00: 725d 293a 2069 7076 342f 6970 7636 2061  r]): ipv4/ipv6 a
-0002fb10: 6464 7265 7373 0a20 2020 2020 2020 2020  ddress.         
-0002fb20: 2020 2061 646d 696e 5f75 7365 7220 2873     admin_user (s
-0002fb30: 7472 293a 206c 6f63 616c 2061 646d 696e  tr): local admin
-0002fb40: 2075 7365 720a 2020 2020 2020 2020 2020   user.          
-0002fb50: 2020 6164 6d69 6e5f 7061 7373 2028 7374    admin_pass (st
-0002fb60: 7229 3a20 6c6f 6361 6c20 6164 6d69 6e20  r): local admin 
-0002fb70: 7061 7373 776f 7264 0a0a 2020 2020 2020  password..      
-0002fb80: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-0002fb90: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-0002fba0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-0002fbb0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-0002fbc0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002fbd0: 7572 6c20 3d20 222f 636f 6e66 6967 7572  url = "/configur
-0002fbe0: 6174 696f 6e2f 7631 2f73 7769 7463 682f  ation/v1/switch/
-0002fbf0: 6378 2f70 726f 7065 7274 6965 7322 0a0a  cx/properties"..
-0002fc00: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
-0002fc10: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
-0002fc20: 6465 7669 6365 5f73 6572 6961 6c27 3a20  device_serial': 
-0002fc30: 7365 7269 616c 2c0a 2020 2020 2020 2020  serial,.        
-0002fc40: 2020 2020 2767 726f 7570 5f6e 616d 6527      'group_name'
-0002fc50: 3a20 6772 6f75 700a 2020 2020 2020 2020  : group.        
-0002fc60: 7d0a 0a20 2020 2020 2020 206a 736f 6e5f  }..        json_
-0002fc70: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
-0002fc80: 2020 2020 2027 6e61 6d65 273a 206e 616d       'name': nam
-0002fc90: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
-0002fca0: 636f 6e74 6163 7427 3a20 636f 6e74 6163  contact': contac
-0002fcb0: 742c 0a20 2020 2020 2020 2020 2020 2027  t,.            '
-0002fcc0: 6c6f 6361 7469 6f6e 273a 206c 6f63 6174  location': locat
-0002fcd0: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-0002fce0: 2027 7469 6d65 7a6f 6e65 273a 2074 696d   'timezone': tim
-0002fcf0: 657a 6f6e 652c 0a20 2020 2020 2020 2020  ezone,.         
-0002fd00: 2020 2027 646e 735f 7365 7276 6572 7327     'dns_servers'
-0002fd10: 3a20 646e 735f 7365 7276 6572 732c 0a20  : dns_servers,. 
-0002fd20: 2020 2020 2020 2020 2020 2027 6e74 705f             'ntp_
-0002fd30: 7365 7276 6572 7327 3a20 6e74 705f 7365  servers': ntp_se
-0002fd40: 7276 6572 732c 0a20 2020 2020 2020 2020  rvers,.         
-0002fd50: 2020 2027 6164 6d69 6e5f 7573 6572 6e61     'admin_userna
-0002fd60: 6d65 273a 2061 646d 696e 5f75 7365 722c  me': admin_user,
-0002fd70: 0a20 2020 2020 2020 2020 2020 2027 6164  .            'ad
-0002fd80: 6d69 6e5f 7061 7373 776f 7264 273a 2061  min_password': a
-0002fd90: 646d 696e 5f70 6173 730a 2020 2020 2020  dmin_pass.      
-0002fda0: 2020 7d0a 2020 2020 2020 2020 6966 206d    }.        if m
-0002fdb0: 676d 745f 7672 6620 6973 206e 6f74 204e  gmt_vrf is not N
-0002fdc0: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-0002fdd0: 206a 736f 6e5f 6461 7461 5b22 7672 6622   json_data["vrf"
-0002fde0: 5d20 3d20 226d 676d 7422 2069 6620 6d67  ] = "mgmt" if mg
-0002fdf0: 6d74 5f76 7266 2065 6c73 6520 2264 6566  mt_vrf else "def
-0002fe00: 6175 6c74 220a 2020 2020 2020 2020 656c  ault".        el
-0002fe10: 6966 2064 6e73 5f73 6572 7665 7273 206f  if dns_servers o
-0002fe20: 7220 6e74 705f 7365 7276 6572 733a 0a20  r ntp_servers:. 
-0002fe30: 2020 2020 2020 2020 2020 206a 736f 6e5f             json_
-0002fe40: 6461 7461 5b22 7672 6622 5d20 3d20 2264  data["vrf"] = "d
-0002fe50: 6566 6175 6c74 220a 0a20 2020 2020 2020  efault"..       
-0002fe60: 2069 6620 6c65 6e28 5b78 2066 6f72 2078   if len([x for x
-0002fe70: 2069 6e20 5b61 646d 696e 5f75 7365 722c   in [admin_user,
-0002fe80: 2061 646d 696e 5f70 6173 735d 2069 6620   admin_pass] if 
-0002fe90: 7820 6973 206e 6f74 204e 6f6e 655d 2920  x is not None]) 
-0002fea0: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
-0002feb0: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
-0002fec0: 6f72 2822 4966 2065 6974 6865 7220 6164  or("If either ad
-0002fed0: 6d69 6e5f 7573 6572 206f 7220 6164 6d69  min_user or admi
-0002fee0: 6e5f 7061 7373 2061 7265 2062 696e 6720  n_pass are bing 
-0002fef0: 7570 6461 7465 642c 202a 626f 7468 2a20  updated, *both* 
-0002ff00: 7368 6f75 6c64 2062 6520 7072 6f76 6964  should be provid
-0002ff10: 6564 2e22 290a 0a20 2020 2020 2020 2069  ed.")..        i
-0002ff20: 6620 6c65 6e28 5b78 2066 6f72 2078 2069  f len([x for x i
-0002ff30: 6e20 5b73 6572 6961 6c2c 2067 726f 7570  n [serial, group
-0002ff40: 5d20 6966 2078 2069 7320 6e6f 7420 4e6f  ] if x is not No
-0002ff50: 6e65 5d29 203d 3d20 323a 0a20 2020 2020  ne]) == 2:.     
-0002ff60: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
-0002ff70: 7565 4572 726f 7228 2270 726f 7669 6465  ueError("provide
-0002ff80: 2073 6572 6961 6c20 746f 2075 7064 6174   serial to updat
-0002ff90: 6520 6465 7669 6365 206c 6576 656c 2070  e device level p
-0002ffa0: 726f 7065 7274 6965 732c 206f 7220 6772  roperties, or gr
-0002ffb0: 6f75 7020 746f 2075 7064 6174 6520 6174  oup to update at
-0002ffc0: 2074 6865 2067 726f 7570 206c 6576 656c   the group level
-0002ffd0: 2e20 2050 726f 7669 6469 6e67 2062 6f74  .  Providing bot
-0002ffe0: 6820 6973 2069 6e76 616c 6964 2e22 290a  h is invalid.").
-0002fff0: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
-00030000: 7461 203d 2075 7469 6c73 2e73 7472 6970  ta = utils.strip
-00030010: 5f6e 6f6e 6528 6a73 6f6e 5f64 6174 612c  _none(json_data,
-00030020: 2073 7472 6970 5f65 6d70 7479 5f6f 626a   strip_empty_obj
-00030030: 3d54 7275 6529 0a0a 2020 2020 2020 2020  =True)..        
-00030040: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
-00030050: 662e 706f 7374 2875 726c 2c20 6a73 6f6e  f.post(url, json
-00030060: 5f64 6174 613d 6a73 6f6e 5f64 6174 612c  _data=json_data,
-00030070: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
-00030080: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
-00030090: 6574 5f6f 7370 665f 6172 6561 280a 2020  et_ospf_area(.  
-000300a0: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
-000300b0: 2020 2020 6465 7669 6365 3a20 7374 722c      device: str,
-000300c0: 0a20 2020 2020 2020 206d 6172 6b65 723a  .        marker:
-000300d0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
-000300e0: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
-000300f0: 3d20 3130 302c 0a20 2020 2029 202d 3e20  = 100,.    ) -> 
-00030100: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00030110: 2020 2222 224c 6973 7420 4f53 5046 2041    """List OSPF A
-00030120: 7265 6120 496e 666f 726d 6174 696f 6e2e  rea Information.
-00030130: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
-00030140: 2020 2020 2020 2020 2020 2020 6465 7669              devi
-00030150: 6365 2028 7374 7229 3a20 4465 7669 6365  ce (str): Device
-00030160: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
-00030170: 2020 2020 2020 2020 2020 206d 6172 6b65             marke
-00030180: 7220 2873 7472 2c20 6f70 7469 6f6e 616c  r (str, optional
-00030190: 293a 204f 7061 7175 6520 6861 6e64 6c65  ): Opaque handle
-000301a0: 2074 6f20 6665 7463 6820 6e65 7874 2070   to fetch next p
-000301b0: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
-000301c0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
-000301d0: 6f6e 616c 293a 2070 6167 6520 7369 7a65  onal): page size
-000301e0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
-000301f0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
-00030200: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-00030210: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
-00030220: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
-00030230: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
-00030240: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
-00030250: 2f61 7069 2f72 6f75 7469 6e67 2f76 312f  /api/routing/v1/
-00030260: 6f73 7066 2f61 7265 6122 0a0a 2020 2020  ospf/area"..    
-00030270: 2020 2020 7061 7261 6d73 203d 207b 0a20      params = {. 
-00030280: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
-00030290: 6365 273a 2064 6576 6963 652c 0a20 2020  ce': device,.   
-000302a0: 2020 2020 2020 2020 2027 6d61 726b 6572           'marker
-000302b0: 273a 206d 6172 6b65 722c 0a20 2020 2020  ': marker,.     
-000302c0: 2020 2020 2020 2027 6c69 6d69 7427 3a20         'limit': 
-000302d0: 6c69 6d69 740a 2020 2020 2020 2020 7d0a  limit.        }.
-000302e0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-000302f0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
-00030300: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
-00030310: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
-00030320: 6620 6765 745f 6f73 7066 5f69 6e74 6572  f get_ospf_inter
-00030330: 6661 6365 280a 2020 2020 2020 2020 7365  face(.        se
-00030340: 6c66 2c0a 2020 2020 2020 2020 6465 7669  lf,.        devi
-00030350: 6365 3a20 7374 722c 0a20 2020 2020 2020  ce: str,.       
-00030360: 206d 6172 6b65 723a 2073 7472 203d 204e   marker: str = N
-00030370: 6f6e 652c 0a20 2020 2020 2020 206c 696d  one,.        lim
-00030380: 6974 3a20 696e 7420 3d20 3130 302c 0a20  it: int = 100,. 
-00030390: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-000303a0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
-000303b0: 7420 4f53 5046 2049 6e74 6572 6661 6365  t OSPF Interface
-000303c0: 2049 6e66 6f72 6d61 7469 6f6e 2e0a 0a20   Information... 
-000303d0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-000303e0: 2020 2020 2020 2020 2064 6576 6963 6520           device 
-000303f0: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
-00030400: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
-00030410: 2020 2020 2020 2020 6d61 726b 6572 2028          marker (
-00030420: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-00030430: 4f70 6171 7565 2068 616e 646c 6520 746f  Opaque handle to
-00030440: 2066 6574 6368 206e 6578 7420 7061 6765   fetch next page
-00030450: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-00030460: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-00030470: 6c29 3a20 7061 6765 2073 697a 6520 4465  l): page size De
-00030480: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
-00030490: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-000304a0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-000304b0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-000304c0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-000304d0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-000304e0: 2020 2020 2020 7572 6c20 3d20 222f 6170        url = "/ap
-000304f0: 692f 726f 7574 696e 672f 7631 2f6f 7370  i/routing/v1/osp
-00030500: 662f 696e 7465 7266 6163 6522 0a0a 2020  f/interface"..  
-00030510: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
-00030520: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
-00030530: 7669 6365 273a 2064 6576 6963 652c 0a20  vice': device,. 
-00030540: 2020 2020 2020 2020 2020 2027 6d61 726b             'mark
-00030550: 6572 273a 206d 6172 6b65 722c 0a20 2020  er': marker,.   
-00030560: 2020 2020 2020 2020 2027 6c69 6d69 7427           'limit'
-00030570: 3a20 6c69 6d69 740a 2020 2020 2020 2020  : limit.        
-00030580: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
-00030590: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
-000305a0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
-000305b0: 616d 7329 0a0a 2020 2020 6173 796e 6320  ams)..    async 
-000305c0: 6465 6620 6765 745f 6f73 7066 5f6e 6569  def get_ospf_nei
-000305d0: 6768 626f 7228 0a20 2020 2020 2020 2073  ghbor(.        s
-000305e0: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
-000305f0: 6963 653a 2073 7472 2c0a 2020 2020 2020  ice: str,.      
-00030600: 2020 6d61 726b 6572 3a20 7374 7220 3d20    marker: str = 
-00030610: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c69  None,.        li
-00030620: 6d69 743a 2069 6e74 203d 2031 3030 2c0a  mit: int = 100,.
-00030630: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
-00030640: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
-00030650: 7374 204f 5350 4620 6e65 6967 6862 6f72  st OSPF neighbor
-00030660: 2049 6e66 6f72 6d61 7469 6f6e 2e0a 0a20   Information... 
-00030670: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
-00030680: 2020 2020 2020 2020 2064 6576 6963 6520           device 
-00030690: 2873 7472 293a 2044 6576 6963 6520 7365  (str): Device se
-000306a0: 7269 616c 206e 756d 6265 720a 2020 2020  rial number.    
-000306b0: 2020 2020 2020 2020 6d61 726b 6572 2028          marker (
-000306c0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
-000306d0: 4f70 6171 7565 2068 616e 646c 6520 746f  Opaque handle to
-000306e0: 2066 6574 6368 206e 6578 7420 7061 6765   fetch next page
-000306f0: 0a20 2020 2020 2020 2020 2020 206c 696d  .            lim
-00030700: 6974 2028 696e 742c 206f 7074 696f 6e61  it (int, optiona
-00030710: 6c29 3a20 7061 6765 2073 697a 6520 4465  l): page size De
-00030720: 6661 756c 7473 2074 6f20 3130 302e 0a0a  faults to 100...
-00030730: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
-00030740: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
-00030750: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
-00030760: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
-00030770: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00030780: 2020 2020 2020 7572 6c20 3d20 222f 6170        url = "/ap
-00030790: 692f 726f 7574 696e 672f 7631 2f6f 7370  i/routing/v1/osp
-000307a0: 662f 6e65 6967 6862 6f72 220a 0a20 2020  f/neighbor"..   
-000307b0: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
-000307c0: 2020 2020 2020 2020 2020 2020 2764 6576              'dev
-000307d0: 6963 6527 3a20 6465 7669 6365 2c0a 2020  ice': device,.  
-000307e0: 2020 2020 2020 2020 2020 276d 6172 6b65            'marke
-000307f0: 7227 3a20 6d61 726b 6572 2c0a 2020 2020  r': marker,.    
-00030800: 2020 2020 2020 2020 276c 696d 6974 273a          'limit':
-00030810: 206c 696d 6974 0a20 2020 2020 2020 207d   limit.        }
-00030820: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-00030830: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
-00030840: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
-00030850: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
-00030860: 6566 2067 6574 5f6f 7370 665f 6461 7461  ef get_ospf_data
-00030870: 6261 7365 280a 2020 2020 2020 2020 7365  base(.        se
-00030880: 6c66 2c0a 2020 2020 2020 2020 6465 7669  lf,.        devi
-00030890: 6365 3a20 7374 722c 0a20 2020 2020 2020  ce: str,.       
-000308a0: 206d 6172 6b65 723a 2073 7472 203d 204e   marker: str = N
-000308b0: 6f6e 652c 0a20 2020 2020 2020 206c 696d  one,.        lim
-000308c0: 6974 3a20 696e 7420 3d20 3130 302c 0a20  it: int = 100,. 
-000308d0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
-000308e0: 3a0a 2020 2020 2020 2020 2222 224c 6973  :.        """Lis
-000308f0: 7420 4f53 5046 204c 696e 6b20 5374 6174  t OSPF Link Stat
-00030900: 6520 4461 7461 6261 7365 2049 6e66 6f72  e Database Infor
-00030910: 6d61 7469 6f6e 2e0a 0a20 2020 2020 2020  mation...       
-00030920: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
-00030930: 2020 2064 6576 6963 6520 2873 7472 293a     device (str):
-00030940: 2044 6576 6963 6520 7365 7269 616c 206e   Device serial n
-00030950: 756d 6265 720a 2020 2020 2020 2020 2020  umber.          
-00030960: 2020 6d61 726b 6572 2028 7374 722c 206f    marker (str, o
-00030970: 7074 696f 6e61 6c29 3a20 4f70 6171 7565  ptional): Opaque
-00030980: 2068 616e 646c 6520 746f 2066 6574 6368   handle to fetch
-00030990: 206e 6578 7420 7061 6765 0a20 2020 2020   next page.     
-000309a0: 2020 2020 2020 206c 696d 6974 2028 696e         limit (in
-000309b0: 742c 206f 7074 696f 6e61 6c29 3a20 7061  t, optional): pa
-000309c0: 6765 2073 697a 6520 4465 6661 756c 7473  ge size Defaults
-000309d0: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
-000309e0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
-000309f0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
-00030a00: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
-00030a10: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
-00030a20: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00030a30: 7572 6c20 3d20 222f 6170 692f 726f 7574  url = "/api/rout
-00030a40: 696e 672f 7631 2f6f 7370 662f 6461 7461  ing/v1/ospf/data
-00030a50: 6261 7365 220a 0a20 2020 2020 2020 2070  base"..        p
-00030a60: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
-00030a70: 2020 2020 2020 2764 6576 6963 6527 3a20        'device': 
-00030a80: 6465 7669 6365 2c0a 2020 2020 2020 2020  device,.        
-00030a90: 2020 2020 276d 6172 6b65 7227 3a20 6d61      'marker': ma
-00030aa0: 726b 6572 2c0a 2020 2020 2020 2020 2020  rker,.          
-00030ab0: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
-00030ac0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00030ad0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
-00030ae0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
-00030af0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
-00030b00: 2020 2023 202f 2f20 2d2d 204e 6f74 2075     # // -- Not u
-00030b10: 7365 6420 6279 2063 6f6d 6d61 6e64 7320  sed by commands 
-00030b20: 7965 742e 2020 756e 646f 6375 6d65 6e74  yet.  undocument
-00030b30: 6564 206b 6d73 2061 7069 202d 2d20 2f2f  ed kms api -- //
-00030b40: 0a20 2020 2061 7379 6e63 2064 6566 206b  .    async def k
-00030b50: 6d73 5f67 6574 5f73 796e 6365 645f 6170  ms_get_synced_ap
-00030b60: 7328 7365 6c66 2c20 6d61 633a 2073 7472  s(self, mac: str
-00030b70: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
-00030b80: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
-00030b90: 6b65 796d 676d 742f 7631 2f73 796e 6365  keymgmt/v1/synce
-00030ba0: 6461 706c 6973 742f 7b6d 6163 7d22 0a20  daplist/{mac}". 
-00030bb0: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
-00030bc0: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
-00030bd0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-00030be0: 206b 6d73 5f67 6574 5f63 6c69 656e 745f   kms_get_client_
-00030bf0: 7265 636f 7264 2873 656c 662c 206d 6163  record(self, mac
-00030c00: 3a20 7374 7229 202d 3e20 5265 7370 6f6e  : str) -> Respon
-00030c10: 7365 3a0a 2020 2020 2020 2020 7572 6c20  se:.        url 
-00030c20: 3d20 6622 2f6b 6579 6d67 6d74 2f76 312f  = f"/keymgmt/v1/
-00030c30: 6b65 7963 6163 6865 2f7b 6d61 637d 220a  keycache/{mac}".
-00030c40: 2020 2020 2020 2020 7265 7475 726e 2061          return a
-00030c50: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
-00030c60: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
-00030c70: 6620 6b6d 735f 6765 745f 6861 7368 2873  f kms_get_hash(s
-00030c80: 656c 6629 202d 3e20 5265 7370 6f6e 7365  elf) -> Response
-00030c90: 3a0a 2020 2020 2020 2020 7572 6c20 3d20  :.        url = 
-00030ca0: 6622 2f6b 6579 6d67 6d74 2f76 312f 6b65  f"/keymgmt/v1/ke
-00030cb0: 7968 6173 6822 0a20 2020 2020 2020 2072  yhash".        r
-00030cc0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
-00030cd0: 2e67 6574 2875 726c 290a 0a20 2020 2061  .get(url)..    a
-00030ce0: 7379 6e63 2064 6566 206b 6d73 5f67 6574  sync def kms_get
-00030cf0: 5f61 705f 7374 6174 6528 7365 6c66 2c20  _ap_state(self, 
-00030d00: 7365 7269 616c 3a20 7374 7229 202d 3e20  serial: str) -> 
-00030d10: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
-00030d20: 2020 7572 6c20 3d20 6622 2f6b 6579 6d67    url = f"/keymg
-00030d30: 6d74 2f76 312f 5374 6174 732f 6170 2f7b  mt/v1/Stats/ap/{
-00030d40: 7365 7269 616c 7d22 0a20 2020 2020 2020  serial}".       
-00030d50: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
-00030d60: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
-00030d70: 2023 2042 6164 2065 6e64 706f 696e 7420   # Bad endpoint 
-00030d80: 5552 4c20 3430 340a 2020 2020 6173 796e  URL 404.    asyn
-00030d90: 6320 6465 6620 6b6d 735f 6765 745f 6865  c def kms_get_he
-00030da0: 616c 7468 2873 656c 6629 202d 3e20 5265  alth(self) -> Re
-00030db0: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
-00030dc0: 7572 6c20 3d20 222f 6b65 796d 676d 742f  url = "/keymgmt/
-00030dd0: 7631 2f68 6561 6c74 6822 0a20 2020 2020  v1/health".     
-00030de0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
-00030df0: 7365 6c66 2e67 6574 2875 726c 290a 0a69  self.get(url)..i
-00030e00: 6620 5f5f 6e61 6d65 5f5f 203d 3d20 225f  f __name__ == "_
-00030e10: 5f6d 6169 6e5f 5f22 3a0a 2020 2020 7061  _main__":.    pa
-00030e20: 7373 0a                                  ss.
+0001f4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f4f0: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+0001f500: 6974 5f70 6572 7573 6572 5f64 6f77 6e3a  it_peruser_down:
+0001f510: 2073 7472 2c0a 2020 2020 2020 2020 2020   str,.          
+0001f520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f540: 2020 2020 2020 2020 2020 2020 2020 6163                ac
+0001f550: 6365 7373 5f72 756c 6573 3a20 6c69 7374  cess_rules: list
+0001f560: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0001f570: 2020 2020 2020 2022 2222 5570 6461 7465         """Update
+0001f580: 2061 6e20 6578 6973 7469 6e67 2057 4c41   an existing WLA
+0001f590: 4e20 616e 6420 636c 6561 6e20 7570 2075  N and clean up u
+0001f5a0: 6e73 7570 706f 7274 6564 2066 6965 6c64  nsupported field
+0001f5b0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
+0001f5c0: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
+0001f5d0: 6f75 705f 6e61 6d65 5f6f 725f 6775 6964  oup_name_or_guid
+0001f5e0: 2028 7374 7229 3a20 4772 6f75 7020 6e61   (str): Group na
+0001f5f0: 6d65 206f 6620 7468 6520 6772 6f75 7020  me of the group 
+0001f600: 6f72 2067 7569 6420 6f66 2074 6865 2073  or guid of the s
+0001f610: 7761 726d 2e0a 2020 2020 2020 2020 2020  warm..          
+0001f620: 2020 2020 2020 4578 616d 706c 653a 4772        Example:Gr
+0001f630: 6f75 705f 3120 6f72 2036 6135 6431 3233  oup_1 or 6a5d123
+0001f640: 6230 3166 3934 3431 3830 3632 3434 6561  b01f9441806244ea
+0001f650: 3665 3032 3366 6162 3538 3431 6237 3763  6e023fab5841b77c
+0001f660: 3832 3861 3038 3566 3034 662e 0a20 2020  828a085f04f..   
+0001f670: 2020 2020 2020 2020 2077 6c61 6e5f 6e61           wlan_na
+0001f680: 6d65 2028 7374 7229 3a20 4e61 6d65 206f  me (str): Name o
+0001f690: 6620 574c 414e 2073 656c 6563 7465 642e  f WLAN selected.
+0001f6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f6b0: 2020 2020 2020 2020 2020 2020 2020 4578                Ex
+0001f6c0: 616d 706c 653a 776c 616e 5f31 2e0a 2020  ample:wlan_1..  
+0001f6d0: 2020 2020 2020 2020 2020 6573 7369 6420            essid 
+0001f6e0: 2873 7472 293a 2065 7373 6964 0a20 2020  (str): essid.   
+0001f6f0: 2020 2020 2020 2020 2074 7970 6520 2873           type (s
+0001f700: 7472 293a 2074 7970 6520 2056 616c 6964  tr): type  Valid
+0001f710: 2056 616c 7565 733a 2065 6d70 6c6f 7965   Values: employe
+0001f720: 652c 2067 7565 7374 0a20 2020 2020 2020  e, guest.       
+0001f730: 2020 2020 2068 6964 655f 7373 6964 2028       hide_ssid (
+0001f740: 626f 6f6c 293a 2068 6964 655f 7373 6964  bool): hide_ssid
+0001f750: 0a20 2020 2020 2020 2020 2020 2076 6c61  .            vla
+0001f760: 6e20 2873 7472 293a 2076 6c61 6e0a 2020  n (str): vlan.  
+0001f770: 2020 2020 2020 2020 2020 7a6f 6e65 2028            zone (
+0001f780: 7374 7229 3a20 7a6f 6e65 0a20 2020 2020  str): zone.     
+0001f790: 2020 2020 2020 2077 7061 5f70 6173 7370         wpa_passp
+0001f7a0: 6872 6173 6520 2873 7472 293a 2077 7061  hrase (str): wpa
+0001f7b0: 5f70 6173 7370 6872 6173 650a 2020 2020  _passphrase.    
+0001f7c0: 2020 2020 2020 2020 7770 615f 7061 7373          wpa_pass
+0001f7d0: 7068 7261 7365 5f63 6861 6e67 6564 2028  phrase_changed (
+0001f7e0: 626f 6f6c 293a 2077 7061 5f70 6173 7370  bool): wpa_passp
+0001f7f0: 6872 6173 655f 6368 616e 6765 640a 2020  hrase_changed.  
+0001f800: 2020 2020 2020 2020 2020 6973 5f6c 6f63            is_loc
+0001f810: 6b65 6420 2862 6f6f 6c29 3a20 6973 5f6c  ked (bool): is_l
+0001f820: 6f63 6b65 640a 2020 2020 2020 2020 2020  ocked.          
+0001f830: 2020 6361 7074 6976 655f 7072 6f66 696c    captive_profil
+0001f840: 655f 6e61 6d65 2028 7374 7229 3a20 6361  e_name (str): ca
+0001f850: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
+0001f860: 6d65 0a20 2020 2020 2020 2020 2020 2062  me.            b
+0001f870: 616e 6477 6964 7468 5f6c 696d 6974 5f75  andwidth_limit_u
+0001f880: 7020 2873 7472 293a 2062 616e 6477 6964  p (str): bandwid
+0001f890: 7468 5f6c 696d 6974 5f75 700a 2020 2020  th_limit_up.    
+0001f8a0: 2020 2020 2020 2020 6261 6e64 7769 6474          bandwidt
+0001f8b0: 685f 6c69 6d69 745f 646f 776e 2028 7374  h_limit_down (st
+0001f8c0: 7229 3a20 6261 6e64 7769 6474 685f 6c69  r): bandwidth_li
+0001f8d0: 6d69 745f 646f 776e 0a20 2020 2020 2020  mit_down.       
+0001f8e0: 2020 2020 2062 616e 6477 6964 7468 5f6c       bandwidth_l
+0001f8f0: 696d 6974 5f70 6572 7573 6572 5f75 7020  imit_peruser_up 
+0001f900: 2873 7472 293a 2062 616e 6477 6964 7468  (str): bandwidth
+0001f910: 5f6c 696d 6974 5f70 6572 7573 6572 5f75  _limit_peruser_u
+0001f920: 700a 2020 2020 2020 2020 2020 2020 6261  p.            ba
+0001f930: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+0001f940: 7275 7365 725f 646f 776e 2028 7374 7229  ruser_down (str)
+0001f950: 3a20 6261 6e64 7769 6474 685f 6c69 6d69  : bandwidth_limi
+0001f960: 745f 7065 7275 7365 725f 646f 776e 0a20  t_peruser_down. 
+0001f970: 2020 2020 2020 2020 2020 2061 6363 6573             acces
+0001f980: 735f 7275 6c65 7320 286c 6973 7429 3a20  s_rules (list): 
+0001f990: 6163 6365 7373 5f72 756c 6573 0a0a 2020  access_rules..  
+0001f9a0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0001f9b0: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0001f9c0: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0001f9d0: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0001f9e0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001f9f0: 2020 2020 7572 6c20 3d20 6622 2f63 6f6e      url = f"/con
+0001fa00: 6669 6775 7261 7469 6f6e 2f76 322f 776c  figuration/v2/wl
+0001fa10: 616e 2f7b 6772 6f75 705f 6e61 6d65 5f6f  an/{group_name_o
+0001fa20: 725f 6775 6964 7d2f 7b77 6c61 6e5f 6e61  r_guid}/{wlan_na
+0001fa30: 6d65 7d22 0a0a 2020 2020 2020 2020 6a73  me}"..        js
+0001fa40: 6f6e 5f64 6174 6120 3d20 7b0a 2020 2020  on_data = {.    
+0001fa50: 2020 2020 2020 2020 2765 7373 6964 273a          'essid':
+0001fa60: 2065 7373 6964 2c0a 2020 2020 2020 2020   essid,.        
+0001fa70: 2020 2020 2774 7970 6527 3a20 7479 7065      'type': type
+0001fa80: 2c0a 2020 2020 2020 2020 2020 2020 2768  ,.            'h
+0001fa90: 6964 655f 7373 6964 273a 2068 6964 655f  ide_ssid': hide_
+0001faa0: 7373 6964 2c0a 2020 2020 2020 2020 2020  ssid,.          
+0001fab0: 2020 2776 6c61 6e27 3a20 766c 616e 2c0a    'vlan': vlan,.
+0001fac0: 2020 2020 2020 2020 2020 2020 277a 6f6e              'zon
+0001fad0: 6527 3a20 7a6f 6e65 2c0a 2020 2020 2020  e': zone,.      
+0001fae0: 2020 2020 2020 2777 7061 5f70 6173 7370        'wpa_passp
+0001faf0: 6872 6173 6527 3a20 7770 615f 7061 7373  hrase': wpa_pass
+0001fb00: 7068 7261 7365 2c0a 2020 2020 2020 2020  phrase,.        
+0001fb10: 2020 2020 2777 7061 5f70 6173 7370 6872      'wpa_passphr
+0001fb20: 6173 655f 6368 616e 6765 6427 3a20 7770  ase_changed': wp
+0001fb30: 615f 7061 7373 7068 7261 7365 5f63 6861  a_passphrase_cha
+0001fb40: 6e67 6564 2c0a 2020 2020 2020 2020 2020  nged,.          
+0001fb50: 2020 2769 735f 6c6f 636b 6564 273a 2069    'is_locked': i
+0001fb60: 735f 6c6f 636b 6564 2c0a 2020 2020 2020  s_locked,.      
+0001fb70: 2020 2020 2020 2763 6170 7469 7665 5f70        'captive_p
+0001fb80: 726f 6669 6c65 5f6e 616d 6527 3a20 6361  rofile_name': ca
+0001fb90: 7074 6976 655f 7072 6f66 696c 655f 6e61  ptive_profile_na
+0001fba0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+0001fbb0: 2762 616e 6477 6964 7468 5f6c 696d 6974  'bandwidth_limit
+0001fbc0: 5f75 7027 3a20 6261 6e64 7769 6474 685f  _up': bandwidth_
+0001fbd0: 6c69 6d69 745f 7570 2c0a 2020 2020 2020  limit_up,.      
+0001fbe0: 2020 2020 2020 2762 616e 6477 6964 7468        'bandwidth
+0001fbf0: 5f6c 696d 6974 5f64 6f77 6e27 3a20 6261  _limit_down': ba
+0001fc00: 6e64 7769 6474 685f 6c69 6d69 745f 646f  ndwidth_limit_do
+0001fc10: 776e 2c0a 2020 2020 2020 2020 2020 2020  wn,.            
+0001fc20: 2762 616e 6477 6964 7468 5f6c 696d 6974  'bandwidth_limit
+0001fc30: 5f70 6572 7573 6572 5f75 7027 3a20 6261  _peruser_up': ba
+0001fc40: 6e64 7769 6474 685f 6c69 6d69 745f 7065  ndwidth_limit_pe
+0001fc50: 7275 7365 725f 7570 2c0a 2020 2020 2020  ruser_up,.      
+0001fc60: 2020 2020 2020 2762 616e 6477 6964 7468        'bandwidth
+0001fc70: 5f6c 696d 6974 5f70 6572 7573 6572 5f64  _limit_peruser_d
+0001fc80: 6f77 6e27 3a20 6261 6e64 7769 6474 685f  own': bandwidth_
+0001fc90: 6c69 6d69 745f 7065 7275 7365 725f 646f  limit_peruser_do
+0001fca0: 776e 2c0a 2020 2020 2020 2020 2020 2020  wn,.            
+0001fcb0: 2761 6363 6573 735f 7275 6c65 7327 3a20  'access_rules': 
+0001fcc0: 6163 6365 7373 5f72 756c 6573 0a20 2020  access_rules.   
+0001fcd0: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+0001fce0: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+0001fcf0: 662e 7061 7463 6828 7572 6c2c 206a 736f  f.patch(url, jso
+0001fd00: 6e5f 6461 7461 3d6a 736f 6e5f 6461 7461  n_data=json_data
+0001fd10: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+0001fd20: 2063 6f6e 6669 6775 7261 7469 6f6e 5f75   configuration_u
+0001fd30: 7064 6174 655f 776c 616e 5f76 3228 0a20  pdate_wlan_v2(. 
+0001fd40: 2020 2020 2020 2020 2020 2073 656c 662c             self,
+0001fd50: 2067 726f 7570 5f6e 616d 655f 6f72 5f67   group_name_or_g
+0001fd60: 7569 643a 2073 7472 2c20 776c 616e 5f6e  uid: str, wlan_n
+0001fd70: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
+0001fd80: 2020 2020 2020 6573 7369 643a 2073 7472        essid: str
+0001fd90: 2c20 7479 7065 3a20 7374 722c 2068 6964  , type: str, hid
+0001fda0: 655f 7373 6964 3a20 626f 6f6c 2c20 766c  e_ssid: bool, vl
+0001fdb0: 616e 3a20 7374 722c 0a20 2020 2020 2020  an: str,.       
+0001fdc0: 2020 2020 207a 6f6e 653a 2073 7472 2c20       zone: str, 
+0001fdd0: 7770 615f 7061 7373 7068 7261 7365 3a20  wpa_passphrase: 
+0001fde0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+0001fdf0: 2077 7061 5f70 6173 7370 6872 6173 655f   wpa_passphrase_
+0001fe00: 6368 616e 6765 643a 2062 6f6f 6c2c 2069  changed: bool, i
+0001fe10: 735f 6c6f 636b 6564 3a20 626f 6f6c 2c0a  s_locked: bool,.
+0001fe20: 2020 2020 2020 2020 2020 2020 6361 7074              capt
+0001fe30: 6976 655f 7072 6f66 696c 655f 6e61 6d65  ive_profile_name
+0001fe40: 3a20 7374 722c 2062 616e 6477 6964 7468  : str, bandwidth
+0001fe50: 5f6c 696d 6974 5f75 703a 2073 7472 2c0a  _limit_up: str,.
+0001fe60: 2020 2020 2020 2020 2020 2020 6261 6e64              band
+0001fe70: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
+0001fe80: 3a20 7374 722c 0a20 2020 2020 2020 2020  : str,.         
+0001fe90: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+0001fea0: 6974 5f70 6572 7573 6572 5f75 703a 2073  it_peruser_up: s
+0001feb0: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
+0001fec0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+0001fed0: 7065 7275 7365 725f 646f 776e 3a20 7374  peruser_down: st
+0001fee0: 722c 2061 6363 6573 735f 7275 6c65 733a  r, access_rules:
+0001fef0: 206c 6973 740a 2020 2020 2020 2020 2920   list.        ) 
+0001ff00: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0001ff10: 2020 2020 2022 2222 5570 6461 7465 2061       """Update a
+0001ff20: 6e20 6578 6973 7469 6e67 2057 4c41 4e2e  n existing WLAN.
+0001ff30: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0001ff40: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0001ff50: 705f 6e61 6d65 5f6f 725f 6775 6964 2028  p_name_or_guid (
+0001ff60: 7374 7229 3a20 4772 6f75 7020 6e61 6d65  str): Group name
+0001ff70: 206f 6620 7468 6520 6772 6f75 7020 6f72   of the group or
+0001ff80: 2067 7569 6420 6f66 2074 6865 2073 7761   guid of the swa
+0001ff90: 726d 2e0a 2020 2020 2020 2020 2020 2020  rm..            
+0001ffa0: 2020 2020 4578 616d 706c 653a 4772 6f75      Example:Grou
+0001ffb0: 705f 3120 6f72 2036 6135 6431 3233 6230  p_1 or 6a5d123b0
+0001ffc0: 3166 3934 3431 3830 3632 3434 6561 3665  1f9441806244ea6e
+0001ffd0: 3032 3366 6162 3538 3431 6237 3763 3832  023fab5841b77c82
+0001ffe0: 3861 3038 3566 3034 662e 0a20 2020 2020  8a085f04f..     
+0001fff0: 2020 2020 2020 2077 6c61 6e5f 6e61 6d65         wlan_name
+00020000: 2028 7374 7229 3a20 4e61 6d65 206f 6620   (str): Name of 
+00020010: 574c 414e 2073 656c 6563 7465 642e 2020  WLAN selected.  
+00020020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020030: 2020 2020 2020 2020 2020 2020 4578 616d              Exam
+00020040: 706c 653a 776c 616e 5f31 2e0a 2020 2020  ple:wlan_1..    
+00020050: 2020 2020 2020 2020 6573 7369 6420 2873          essid (s
+00020060: 7472 293a 2065 7373 6964 0a20 2020 2020  tr): essid.     
+00020070: 2020 2020 2020 2074 7970 6520 2873 7472         type (str
+00020080: 293a 2074 7970 6520 2056 616c 6964 2056  ): type  Valid V
+00020090: 616c 7565 733a 2065 6d70 6c6f 7965 652c  alues: employee,
+000200a0: 2067 7565 7374 0a20 2020 2020 2020 2020   guest.         
+000200b0: 2020 2068 6964 655f 7373 6964 2028 626f     hide_ssid (bo
+000200c0: 6f6c 293a 2068 6964 655f 7373 6964 0a20  ol): hide_ssid. 
+000200d0: 2020 2020 2020 2020 2020 2076 6c61 6e20             vlan 
+000200e0: 2873 7472 293a 2076 6c61 6e0a 2020 2020  (str): vlan.    
+000200f0: 2020 2020 2020 2020 7a6f 6e65 2028 7374          zone (st
+00020100: 7229 3a20 7a6f 6e65 0a20 2020 2020 2020  r): zone.       
+00020110: 2020 2020 2077 7061 5f70 6173 7370 6872       wpa_passphr
+00020120: 6173 6520 2873 7472 293a 2077 7061 5f70  ase (str): wpa_p
+00020130: 6173 7370 6872 6173 650a 2020 2020 2020  assphrase.      
+00020140: 2020 2020 2020 7770 615f 7061 7373 7068        wpa_passph
+00020150: 7261 7365 5f63 6861 6e67 6564 2028 626f  rase_changed (bo
+00020160: 6f6c 293a 2077 7061 5f70 6173 7370 6872  ol): wpa_passphr
+00020170: 6173 655f 6368 616e 6765 640a 2020 2020  ase_changed.    
+00020180: 2020 2020 2020 2020 6973 5f6c 6f63 6b65          is_locke
+00020190: 6420 2862 6f6f 6c29 3a20 6973 5f6c 6f63  d (bool): is_loc
+000201a0: 6b65 640a 2020 2020 2020 2020 2020 2020  ked.            
+000201b0: 6361 7074 6976 655f 7072 6f66 696c 655f  captive_profile_
+000201c0: 6e61 6d65 2028 7374 7229 3a20 6361 7074  name (str): capt
+000201d0: 6976 655f 7072 6f66 696c 655f 6e61 6d65  ive_profile_name
+000201e0: 0a20 2020 2020 2020 2020 2020 2062 616e  .            ban
+000201f0: 6477 6964 7468 5f6c 696d 6974 5f75 7020  dwidth_limit_up 
+00020200: 2873 7472 293a 2062 616e 6477 6964 7468  (str): bandwidth
+00020210: 5f6c 696d 6974 5f75 700a 2020 2020 2020  _limit_up.      
+00020220: 2020 2020 2020 6261 6e64 7769 6474 685f        bandwidth_
+00020230: 6c69 6d69 745f 646f 776e 2028 7374 7229  limit_down (str)
+00020240: 3a20 6261 6e64 7769 6474 685f 6c69 6d69  : bandwidth_limi
+00020250: 745f 646f 776e 0a20 2020 2020 2020 2020  t_down.         
+00020260: 2020 2062 616e 6477 6964 7468 5f6c 696d     bandwidth_lim
+00020270: 6974 5f70 6572 7573 6572 5f75 7020 2873  it_peruser_up (s
+00020280: 7472 293a 2062 616e 6477 6964 7468 5f6c  tr): bandwidth_l
+00020290: 696d 6974 5f70 6572 7573 6572 5f75 700a  imit_peruser_up.
+000202a0: 2020 2020 2020 2020 2020 2020 6261 6e64              band
+000202b0: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+000202c0: 7365 725f 646f 776e 2028 7374 7229 3a20  ser_down (str): 
+000202d0: 6261 6e64 7769 6474 685f 6c69 6d69 745f  bandwidth_limit_
+000202e0: 7065 7275 7365 725f 646f 776e 0a20 2020  peruser_down.   
+000202f0: 2020 2020 2020 2020 2061 6363 6573 735f           access_
+00020300: 7275 6c65 7320 286c 6973 7429 3a20 6163  rules (list): ac
+00020310: 6365 7373 5f72 756c 6573 0a0a 2020 2020  cess_rules..    
+00020320: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+00020330: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+00020340: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00020350: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00020360: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00020370: 2020 7572 6c20 3d20 6622 2f63 6f6e 6669    url = f"/confi
+00020380: 6775 7261 7469 6f6e 2f76 322f 776c 616e  guration/v2/wlan
+00020390: 2f7b 6772 6f75 705f 6e61 6d65 5f6f 725f  /{group_name_or_
+000203a0: 6775 6964 7d2f 7b77 6c61 6e5f 6e61 6d65  guid}/{wlan_name
+000203b0: 7d22 0a0a 2020 2020 2020 2020 6a73 6f6e  }"..        json
+000203c0: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
+000203d0: 2020 2020 2020 2765 7373 6964 273a 2065        'essid': e
+000203e0: 7373 6964 2c0a 2020 2020 2020 2020 2020  ssid,.          
+000203f0: 2020 2774 7970 6527 3a20 7479 7065 2c0a    'type': type,.
+00020400: 2020 2020 2020 2020 2020 2020 2768 6964              'hid
+00020410: 655f 7373 6964 273a 2068 6964 655f 7373  e_ssid': hide_ss
+00020420: 6964 2c0a 2020 2020 2020 2020 2020 2020  id,.            
+00020430: 2776 6c61 6e27 3a20 766c 616e 2c0a 2020  'vlan': vlan,.  
+00020440: 2020 2020 2020 2020 2020 277a 6f6e 6527            'zone'
+00020450: 3a20 7a6f 6e65 2c0a 2020 2020 2020 2020  : zone,.        
+00020460: 2020 2020 2777 7061 5f70 6173 7370 6872      'wpa_passphr
+00020470: 6173 6527 3a20 7770 615f 7061 7373 7068  ase': wpa_passph
+00020480: 7261 7365 2c0a 2020 2020 2020 2020 2020  rase,.          
+00020490: 2020 2777 7061 5f70 6173 7370 6872 6173    'wpa_passphras
+000204a0: 655f 6368 616e 6765 6427 3a20 7770 615f  e_changed': wpa_
+000204b0: 7061 7373 7068 7261 7365 5f63 6861 6e67  passphrase_chang
+000204c0: 6564 2c0a 2020 2020 2020 2020 2020 2020  ed,.            
+000204d0: 2769 735f 6c6f 636b 6564 273a 2069 735f  'is_locked': is_
+000204e0: 6c6f 636b 6564 2c0a 2020 2020 2020 2020  locked,.        
+000204f0: 2020 2020 2763 6170 7469 7665 5f70 726f      'captive_pro
+00020500: 6669 6c65 5f6e 616d 6527 3a20 6361 7074  file_name': capt
+00020510: 6976 655f 7072 6f66 696c 655f 6e61 6d65  ive_profile_name
+00020520: 2c0a 2020 2020 2020 2020 2020 2020 2762  ,.            'b
+00020530: 616e 6477 6964 7468 5f6c 696d 6974 5f75  andwidth_limit_u
+00020540: 7027 3a20 6261 6e64 7769 6474 685f 6c69  p': bandwidth_li
+00020550: 6d69 745f 7570 2c0a 2020 2020 2020 2020  mit_up,.        
+00020560: 2020 2020 2762 616e 6477 6964 7468 5f6c      'bandwidth_l
+00020570: 696d 6974 5f64 6f77 6e27 3a20 6261 6e64  imit_down': band
+00020580: 7769 6474 685f 6c69 6d69 745f 646f 776e  width_limit_down
+00020590: 2c0a 2020 2020 2020 2020 2020 2020 2762  ,.            'b
+000205a0: 616e 6477 6964 7468 5f6c 696d 6974 5f70  andwidth_limit_p
+000205b0: 6572 7573 6572 5f75 7027 3a20 6261 6e64  eruser_up': band
+000205c0: 7769 6474 685f 6c69 6d69 745f 7065 7275  width_limit_peru
+000205d0: 7365 725f 7570 2c0a 2020 2020 2020 2020  ser_up,.        
+000205e0: 2020 2020 2762 616e 6477 6964 7468 5f6c      'bandwidth_l
+000205f0: 696d 6974 5f70 6572 7573 6572 5f64 6f77  imit_peruser_dow
+00020600: 6e27 3a20 6261 6e64 7769 6474 685f 6c69  n': bandwidth_li
+00020610: 6d69 745f 7065 7275 7365 725f 646f 776e  mit_peruser_down
+00020620: 2c0a 2020 2020 2020 2020 2020 2020 2761  ,.            'a
+00020630: 6363 6573 735f 7275 6c65 7327 3a20 6163  ccess_rules': ac
+00020640: 6365 7373 5f72 756c 6573 0a20 2020 2020  cess_rules.     
+00020650: 2020 207d 0a0a 2020 2020 2020 2020 7265     }..        re
+00020660: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00020670: 7075 7428 7572 6c2c 206a 736f 6e5f 6461  put(url, json_da
+00020680: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+00020690: 2020 2023 2054 4f44 4f20 6368 616e 6774     # TODO changt
+000206a0: 6520 746f 2075 7365 2063 6f6e 7369 7374  e to use consist
+000206b0: 656e 7420 6465 7620 7470 6520 6170 2067  ent dev tpe ap g
+000206c0: 7720 6378 2073 770a 2020 2020 2320 636f  w cx sw.    # co
+000206d0: 6e76 6572 7420 746f 2074 6865 2073 7475  nvert to the stu
+000206e0: 6666 2061 7069 6777 2077 616e 7473 2069  ff apigw wants i
+000206f0: 6e73 6964 6520 6d65 7468 6f64 0a20 2020  nside method.   
+00020700: 2023 2041 5049 2d46 4c41 5720 6e6f 2041   # API-FLAW no A
+00020710: 5049 2074 6f20 7570 6772 6164 6520 636c  PI to upgrade cl
+00020720: 7573 7465 720a 2020 2020 2320 6874 7470  uster.    # http
+00020730: 733a 2f2f 696e 7465 726e 616c 2d75 692e  s://internal-ui.
+00020740: 6365 6e74 7261 6c2e 6172 7562 616e 6574  central.arubanet
+00020750: 776f 726b 732e 636f 6d2f 6669 726d 7761  works.com/firmwa
+00020760: 7265 2f63 6f6e 7472 6f6c 6c65 722f 636c  re/controller/cl
+00020770: 7573 7465 7273 2f75 7067 7261 6465 2069  usters/upgrade i
+00020780: 7320 7768 6174 2074 6865 2055 4920 6361  s what the UI ca
+00020790: 6c6c 7320 7768 656e 2079 6f75 2075 7067  lls when you upg
+000207a0: 7261 6465 2076 6961 2055 490a 2020 2020  rade via UI.    
+000207b0: 2320 7061 796c 6f61 643a 207b 2272 6562  # payload: {"reb
+000207c0: 6f6f 7422 3a74 7275 652c 2266 6972 6d77  oot":true,"firmw
+000207d0: 6172 655f 7665 7273 696f 6e22 3a22 3130  are_version":"10
+000207e0: 2e35 2e30 2e30 2d62 6574 615f 3837 3034  .5.0.0-beta_8704
+000207f0: 3622 2c22 6465 7669 6365 7322 3a5b 5d2c  6","devices":[],
+00020800: 2263 6c75 7374 6572 7322 3a5b 3732 5d2c  "clusters":[72],
+00020810: 2277 6865 6e22 3a30 2c22 7469 6d65 7a6f  "when":0,"timezo
+00020820: 6e65 223a 222b 3030 3a30 3022 2c22 7061  ne":"+00:00","pa
+00020830: 7274 6974 696f 6e22 3a22 7072 696d 6172  rtition":"primar
+00020840: 7922 7d0a 2020 2020 2320 6465 7669 6365  y"}.    # device
+00020850: 5f74 7970 6520 4358 2069 7320 6e6f 7420  _type CX is not 
+00020860: 7661 6c69 640a 2020 2020 6173 796e 6320  valid.    async 
+00020870: 6465 6620 7570 6772 6164 655f 6669 726d  def upgrade_firm
+00020880: 7761 7265 280a 2020 2020 2020 2020 7365  ware(.        se
+00020890: 6c66 2c0a 2020 2020 2020 2020 7363 6865  lf,.        sche
+000208a0: 6475 6c65 645f 6174 3a20 696e 7420 3d20  duled_at: int = 
+000208b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 7377  None,.        sw
+000208c0: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
+000208d0: 6e65 2c0a 2020 2020 2020 2020 7365 7269  ne,.        seri
+000208e0: 616c 3a20 7374 7220 3d20 4e6f 6e65 2c0a  al: str = None,.
+000208f0: 2020 2020 2020 2020 6772 6f75 703a 2073          group: s
+00020900: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00020910: 2020 2064 6576 6963 655f 7479 7065 3a20     device_type: 
+00020920: 4c69 7465 7261 6c5b 2249 4150 222c 2022  Literal["IAP", "
+00020930: 4d41 5322 2c20 2248 5022 2c20 2243 4f4e  MAS", "HP", "CON
+00020940: 5452 4f4c 4c45 5222 5d20 3d20 4e6f 6e65  TROLLER"] = None
+00020950: 2c0a 2020 2020 2020 2020 6669 726d 7761  ,.        firmwa
+00020960: 7265 5f76 6572 7369 6f6e 3a20 7374 7220  re_version: str 
+00020970: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00020980: 6d6f 6465 6c3a 2073 7472 203d 204e 6f6e  model: str = Non
+00020990: 652c 0a20 2020 2020 2020 2072 6562 6f6f  e,.        reboo
+000209a0: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
+000209b0: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+000209c0: 7365 3a0a 2020 2020 2020 2020 2222 2249  se:.        """I
+000209d0: 6e69 7469 6174 6520 6669 726d 7761 7265  nitiate firmware
+000209e0: 2075 7067 7261 6465 206f 6e20 6465 7669   upgrade on devi
+000209f0: 6365 2873 292e 0a0a 2020 2020 2020 2020  ce(s)...        
+00020a00: 596f 7520 6361 6e20 6f6e 6c79 2073 7065  You can only spe
+00020a10: 6369 6679 206f 6e65 206f 6620 6465 7669  cify one of devi
+00020a20: 6365 5f74 7970 652c 2073 7761 726d 5f69  ce_type, swarm_i
+00020a30: 6420 6f72 2073 6572 6961 6c20 7061 7261  d or serial para
+00020a40: 6d65 7465 7273 0a0a 2020 2020 2020 2020  meters..        
+00020a50: 2f2f 2055 7365 6420 6279 2075 7067 7261  // Used by upgra
+00020a60: 6465 205b 6465 7669 6365 7c67 726f 7570  de [device|group
+00020a70: 7c73 7761 726d 5d20 2f2f 0a0a 2020 2020  |swarm] //..    
+00020a80: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+00020a90: 2020 2020 2020 7363 6865 6475 6c65 645f        scheduled_
+00020aa0: 6174 2028 696e 742c 206f 7074 696f 6e61  at (int, optiona
+00020ab0: 6c29 3a20 5768 656e 2074 6f20 7363 6865  l): When to sche
+00020ac0: 6475 6c65 2075 7067 7261 6465 2028 6570  dule upgrade (ep
+00020ad0: 6f63 6820 7365 636f 6e64 7329 2e20 4465  och seconds). De
+00020ae0: 6661 756c 7473 2074 6f20 4e6f 6e65 2028  faults to None (
+00020af0: 4e6f 7729 2e0a 2020 2020 2020 2020 2020  Now)..          
+00020b00: 2020 7377 6172 6d5f 6964 2028 7374 722c    swarm_id (str,
+00020b10: 206f 7074 696f 6e61 6c29 3a20 5570 6772   optional): Upgr
+00020b20: 6164 6520 6120 7370 6563 6966 6963 2073  ade a specific s
+00020b30: 7761 726d 2062 7920 6964 2e20 4465 6661  warm by id. Defa
+00020b40: 756c 7473 2074 6f20 4e6f 6e65 2e0a 2020  ults to None..  
+00020b50: 2020 2020 2020 2020 2020 7365 7269 616c            serial
+00020b60: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+00020b70: 3a20 5570 6772 6164 6520 6120 7370 6563  : Upgrade a spec
+00020b80: 6966 6963 2064 6576 6963 6520 6279 2073  ific device by s
+00020b90: 6572 6961 6c2e 2044 6566 6175 6c74 7320  erial. Defaults 
+00020ba0: 746f 204e 6f6e 652e 0a20 2020 2020 2020  to None..       
+00020bb0: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
+00020bc0: 206f 7074 696f 6e61 6c29 3a20 5570 6772   optional): Upgr
+00020bd0: 6164 6520 6465 7669 6365 7320 6265 6c6f  ade devices belo
+00020be0: 6e67 696e 6720 746f 2067 726f 7570 2e20  nging to group. 
+00020bf0: 4465 6661 756c 7473 2074 6f20 4e6f 6e65  Defaults to None
+00020c00: 2e0a 2020 2020 2020 2020 2020 2020 6465  ..            de
+00020c10: 7669 6365 5f74 7970 6520 2873 7472 5b22  vice_type (str["
+00020c20: 4941 5022 7c22 4d41 5322 7c22 4850 227c  IAP"|"MAS"|"HP"|
+00020c30: 2243 4f4e 5452 4f4c 4c45 5222 5d29 3a20  "CONTROLLER"]): 
+00020c40: 5479 7065 206f 6620 6465 7669 6365 2074  Type of device t
+00020c50: 6f20 7570 6772 6164 652e 2044 6566 6175  o upgrade. Defau
+00020c60: 6c74 7320 746f 204e 6f6e 652e 0a20 2020  lts to None..   
+00020c70: 2020 2020 2020 2020 2066 6972 6d77 6172           firmwar
+00020c80: 655f 7665 7273 696f 6e20 2873 7472 2c20  e_version (str, 
+00020c90: 6f70 7469 6f6e 616c 293a 2056 6572 7369  optional): Versi
+00020ca0: 6f6e 2074 6f20 7570 6772 6164 6520 746f  on to upgrade to
+00020cb0: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00020cc0: 6e65 2872 6563 6f6d 6d65 6e64 6564 2076  ne(recommended v
+00020cd0: 6572 7369 6f6e 292e 0a20 2020 2020 2020  ersion)..       
+00020ce0: 2020 2020 206d 6f64 656c 2028 7374 722c       model (str,
+00020cf0: 206f 7074 696f 6e61 6c29 3a20 546f 2069   optional): To i
+00020d00: 6e69 7469 6174 6520 7570 6772 6164 6520  nitiate upgrade 
+00020d10: 6174 2067 726f 7570 206c 6576 656c 2066  at group level f
+00020d20: 6f72 2073 7065 6369 6669 6320 6d6f 6465  or specific mode
+00020d30: 6c20 6661 6d69 6c79 2e20 4170 706c 6963  l family. Applic
+00020d40: 6162 6c65 0a20 2020 2020 2020 2020 2020  able.           
+00020d50: 2020 2020 206f 6e6c 7920 666f 7220 4172       only for Ar
+00020d60: 7562 6120 7377 6974 6368 6573 2e20 4465  uba switches. De
+00020d70: 6661 756c 7473 2074 6f20 4e6f 6e65 2e0a  faults to None..
+00020d80: 2020 2020 2020 2020 2020 2020 7265 626f              rebo
+00020d90: 6f74 2028 626f 6f6c 2c20 6f70 7469 6f6e  ot (bool, option
+00020da0: 616c 293a 2041 7574 6f6d 6174 6963 616c  al): Automatical
+00020db0: 6c79 2072 6562 6f6f 7420 6465 7669 6365  ly reboot device
+00020dc0: 2061 6674 6572 2066 6972 6d77 6172 6520   after firmware 
+00020dd0: 646f 776e 6c6f 6164 2e20 4465 6661 756c  download. Defaul
+00020de0: 7473 2074 6f20 4661 6c73 652e 0a0a 2020  ts to False...  
+00020df0: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+00020e00: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+00020e10: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+00020e20: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+00020e30: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00020e40: 2020 2020 7572 6c20 3d20 222f 6669 726d      url = "/firm
+00020e50: 7761 7265 2f76 312f 7570 6772 6164 6522  ware/v1/upgrade"
+00020e60: 0a0a 2020 2020 2020 2020 6a73 6f6e 5f64  ..        json_d
+00020e70: 6174 6120 3d20 7b0a 2020 2020 2020 2020  ata = {.        
+00020e80: 2020 2020 2766 6972 6d77 6172 655f 7363      'firmware_sc
+00020e90: 6865 6475 6c65 645f 6174 273a 2073 6368  heduled_at': sch
+00020ea0: 6564 756c 6564 5f61 742c 0a20 2020 2020  eduled_at,.     
+00020eb0: 2020 2020 2020 2027 7377 6172 6d5f 6964         'swarm_id
+00020ec0: 273a 2073 7761 726d 5f69 642c 0a20 2020  ': swarm_id,.   
+00020ed0: 2020 2020 2020 2020 2027 7365 7269 616c           'serial
+00020ee0: 273a 2073 6572 6961 6c2c 0a20 2020 2020  ': serial,.     
+00020ef0: 2020 2020 2020 2027 6772 6f75 7027 3a20         'group': 
+00020f00: 6772 6f75 702c 0a20 2020 2020 2020 2020  group,.         
+00020f10: 2020 2027 6465 7669 6365 5f74 7970 6527     'device_type'
+00020f20: 3a20 6465 7669 6365 5f74 7970 652c 0a20  : device_type,. 
+00020f30: 2020 2020 2020 2020 2020 2027 6669 726d             'firm
+00020f40: 7761 7265 5f76 6572 7369 6f6e 273a 2066  ware_version': f
+00020f50: 6972 6d77 6172 655f 7665 7273 696f 6e2c  irmware_version,
+00020f60: 0a20 2020 2020 2020 2020 2020 2027 7265  .            're
+00020f70: 626f 6f74 273a 2072 6562 6f6f 742c 0a20  boot': reboot,. 
+00020f80: 2020 2020 2020 2020 2020 2027 6d6f 6465             'mode
+00020f90: 6c27 3a20 6d6f 6465 6c0a 2020 2020 2020  l': model.      
+00020fa0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00020fb0: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+00020fc0: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+00020fd0: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+00020fe0: 2020 2023 2041 5049 2d46 4c41 5720 6f6e     # API-FLAW on
+00020ff0: 6c79 2061 6363 6570 7473 2073 7761 726d  ly accepts swarm
+00021000: 2069 6420 666f 7220 4941 502c 2041 4f53   id for IAP, AOS
+00021010: 3130 2073 686f 7720 6173 2049 4150 2062  10 show as IAP b
+00021020: 7574 206e 6f20 7377 6172 6d20 6964 2e20  ut no swarm id. 
+00021030: 2073 6572 6961 6c20 6973 2072 656a 6563   serial is rejec
+00021040: 7465 642e 0a20 2020 2023 2043 5820 7769  ted..    # CX wi
+00021050: 6c6c 2072 6574 7572 6e20 7265 7370 206c  ll return resp l
+00021060: 696b 6520 6974 2077 6f72 6b73 2c20 6275  ike it works, bu
+00021070: 7420 6e6f 7468 696e 6720 6576 6572 2068  t nothing ever h
+00021080: 6170 7065 6e73 0a20 2020 2061 7379 6e63  appens.    async
+00021090: 2064 6566 2067 6574 5f75 7067 7261 6465   def get_upgrade
+000210a0: 5f73 7461 7475 7328 7365 6c66 2c20 7377  _status(self, sw
+000210b0: 6172 6d5f 6964 3a20 7374 7220 3d20 4e6f  arm_id: str = No
+000210c0: 6e65 2c20 7365 7269 616c 3a20 7374 7220  ne, serial: str 
+000210d0: 3d20 4e6f 6e65 2920 2d3e 2052 6573 706f  = None) -> Respo
+000210e0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000210f0: 4765 7420 6669 726d 7761 7265 2075 7067  Get firmware upg
+00021100: 7261 6465 2073 7461 7475 732e 0a0a 2020  rade status...  
+00021110: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
+00021120: 2073 686f 7720 7570 6772 6164 6520 5b64   show upgrade [d
+00021130: 6576 6963 652d 6964 656e 5d20 2f2f 0a0a  evice-iden] //..
+00021140: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00021150: 2020 2020 2020 2020 2020 7377 6172 6d5f            swarm_
+00021160: 6964 2028 7374 722c 206f 7074 696f 6e61  id (str, optiona
+00021170: 6c29 3a20 5377 6172 6d20 4944 0a20 2020  l): Swarm ID.   
+00021180: 2020 2020 2020 2020 2073 6572 6961 6c20           serial 
+00021190: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+000211a0: 2053 6572 6961 6c20 6f66 2064 6576 6963   Serial of devic
+000211b0: 650a 0a20 2020 2020 2020 2052 6574 7572  e..        Retur
+000211c0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+000211d0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+000211e0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+000211f0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00021200: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00021210: 2f66 6972 6d77 6172 652f 7631 2f73 7461  /firmware/v1/sta
+00021220: 7475 7322 0a0a 2020 2020 2020 2020 7061  tus"..        pa
+00021230: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00021240: 2020 2020 2022 7377 6172 6d5f 6964 223a       "swarm_id":
+00021250: 2073 7761 726d 5f69 642c 0a20 2020 2020   swarm_id,.     
+00021260: 2020 2020 2020 2022 7365 7269 616c 223a         "serial":
+00021270: 2073 6572 6961 6c0a 2020 2020 2020 2020   serial.        
+00021280: 7d0a 0a20 2020 2020 2020 2072 6574 7572  }..        retur
+00021290: 6e20 6177 6169 7420 7365 6c66 2e67 6574  n await self.get
+000212a0: 2875 726c 2c20 7061 7261 6d73 3d70 6172  (url, params=par
+000212b0: 616d 7329 0a0a 2020 2020 4465 7654 7970  ams)..    DevTyp
+000212c0: 6520 3d20 4c69 7465 7261 6c5b 2249 4150  e = Literal["IAP
+000212d0: 222c 2022 4850 222c 2022 434f 4e54 524f  ", "HP", "CONTRO
+000212e0: 4c4c 4552 225d 0a0a 2020 2020 6173 796e  LLER"]..    asyn
+000212f0: 6320 6465 6620 6765 745f 6669 726d 7761  c def get_firmwa
+00021300: 7265 5f63 6f6d 706c 6961 6e63 6528 7365  re_compliance(se
+00021310: 6c66 2c20 6465 7669 6365 5f74 7970 653a  lf, device_type:
+00021320: 2044 6576 5479 7065 2c20 6772 6f75 703a   DevType, group:
+00021330: 2073 7472 203d 204e 6f6e 6529 202d 3e20   str = None) -> 
+00021340: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00021350: 2020 2222 2247 6574 2046 6972 6d77 6172    """Get Firmwar
+00021360: 6520 436f 6d70 6c69 616e 6365 2056 6572  e Compliance Ver
+00021370: 7369 6f6e 2e0a 0a20 2020 2020 2020 202f  sion...        /
+00021380: 2f20 5573 6564 2062 7920 7368 6f77 2066  / Used by show f
+00021390: 6972 6d77 6172 6520 636f 6d70 6c69 616e  irmware complian
+000213a0: 6365 205b 6170 7c67 777c 7377 5d20 5b67  ce [ap|gw|sw] [g
+000213b0: 726f 7570 2d6e 616d 655d 202f 2f0a 0a20  roup-name] //.. 
+000213c0: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+000213d0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
+000213e0: 7479 7065 2028 7374 7229 3a20 5370 6563  type (str): Spec
+000213f0: 6966 7920 6f6e 6520 6f66 2022 4941 502f  ify one of "IAP/
+00021400: 4d41 532f 4850 2f43 4f4e 5452 4f4c 4c45  MAS/HP/CONTROLLE
+00021410: 5222 0a20 2020 2020 2020 2020 2020 2067  R".            g
+00021420: 726f 7570 2028 7374 722c 206f 7074 696f  roup (str, optio
+00021430: 6e61 6c29 3a20 4772 6f75 7020 6e61 6d65  nal): Group name
+00021440: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00021450: 6e65 2028 476c 6f62 616c 2043 6f6d 706c  ne (Global Compl
+00021460: 6961 6e63 6529 0a0a 2020 2020 2020 2020  iance)..        
+00021470: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+00021480: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+00021490: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+000214a0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+000214b0: 2020 2222 220a 2020 2020 2020 2020 2320    """.        # 
+000214c0: 4150 4920 6d65 7468 6f64 2072 6574 7572  API method retur
+000214d0: 6e73 2034 3034 2069 6620 636f 6d70 6c69  ns 404 if compli
+000214e0: 616e 6365 2069 7320 6e6f 7420 7365 7421  ance is not set!
+000214f0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00021500: 2f66 6972 6d77 6172 652f 7631 2f75 7067  /firmware/v1/upg
+00021510: 7261 6465 2f63 6f6d 706c 6961 6e63 655f  rade/compliance_
+00021520: 7665 7273 696f 6e22 0a0a 2020 2020 2020  version"..      
+00021530: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+00021540: 2020 2020 2020 2020 2027 6465 7669 6365           'device
+00021550: 5f74 7970 6527 3a20 6465 7669 6365 5f74  _type': device_t
+00021560: 7970 652c 0a20 2020 2020 2020 2020 2020  ype,.           
+00021570: 2027 6772 6f75 7027 3a20 6772 6f75 700a   'group': group.
+00021580: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00021590: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+000215a0: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+000215b0: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+000215c0: 2020 6173 796e 6320 6465 6620 6465 6c65    async def dele
+000215d0: 7465 5f66 6972 6d77 6172 655f 636f 6d70  te_firmware_comp
+000215e0: 6c69 616e 6365 2873 656c 662c 2064 6576  liance(self, dev
+000215f0: 6963 655f 7479 7065 3a20 7374 722c 2067  ice_type: str, g
+00021600: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
+00021610: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00021620: 2020 2020 2020 2022 2222 436c 6561 7220         """Clear 
+00021630: 4669 726d 7761 7265 2043 6f6d 706c 6961  Firmware Complia
+00021640: 6e63 6520 5665 7273 696f 6e2e 0a0a 2020  nce Version...  
+00021650: 2020 2020 2020 2f2f 2055 7365 6420 6279        // Used by
+00021660: 2064 656c 6574 6520 6669 726d 7761 7265   delete firmware
+00021670: 2063 6f6d 706c 6961 6e63 6520 5b61 707c   compliance [ap|
+00021680: 6777 7c73 7769 7463 685d 205b 6772 6f75  gw|switch] [grou
+00021690: 705d 202f 2f0a 0a20 2020 2020 2020 2041  p] //..        A
+000216a0: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+000216b0: 2064 6576 6963 655f 7479 7065 2028 7374   device_type (st
+000216c0: 7229 3a20 5370 6563 6966 7920 6f6e 6520  r): Specify one 
+000216d0: 6f66 2022 4941 502f 4d41 532f 4850 2f43  of "IAP/MAS/HP/C
+000216e0: 4f4e 5452 4f4c 4c45 5222 0a20 2020 2020  ONTROLLER".     
+000216f0: 2020 2020 2020 2067 726f 7570 2028 7374         group (st
+00021700: 722c 206f 7074 696f 6e61 6c29 3a20 4772  r, optional): Gr
+00021710: 6f75 7020 6e61 6d65 2e20 4465 6661 756c  oup name. Defaul
+00021720: 7473 2074 6f20 4e6f 6e65 2028 476c 6f62  ts to None (Glob
+00021730: 616c 2043 6f6d 706c 6961 6e63 6529 0a0a  al Compliance)..
+00021740: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00021750: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00021760: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00021770: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00021780: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00021790: 2020 2020 2020 7572 6c20 3d20 222f 6669        url = "/fi
+000217a0: 726d 7761 7265 2f76 312f 7570 6772 6164  rmware/v1/upgrad
+000217b0: 652f 636f 6d70 6c69 616e 6365 5f76 6572  e/compliance_ver
+000217c0: 7369 6f6e 220a 0a20 2020 2020 2020 2070  sion"..        p
+000217d0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+000217e0: 2020 2020 2020 2764 6576 6963 655f 7479        'device_ty
+000217f0: 7065 273a 2064 6576 6963 655f 7479 7065  pe': device_type
+00021800: 2c0a 2020 2020 2020 2020 2020 2020 2767  ,.            'g
+00021810: 726f 7570 273a 2067 726f 7570 0a20 2020  roup': group.   
+00021820: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+00021830: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00021840: 662e 6465 6c65 7465 2875 726c 2c20 7061  f.delete(url, pa
+00021850: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00021860: 2020 6173 796e 6320 6465 6620 6d6f 7665    async def move
+00021870: 5f64 6576 6963 6573 5f74 6f5f 6772 6f75  _devices_to_grou
+00021880: 7028 0a20 2020 2020 2020 2073 656c 662c  p(.        self,
+00021890: 0a20 2020 2020 2020 2067 726f 7570 3a20  .        group: 
+000218a0: 7374 722c 0a20 2020 2020 2020 2073 6572  str,.        ser
+000218b0: 6961 6c5f 6e75 6d73 3a20 556e 696f 6e5b  ial_nums: Union[
+000218c0: 7374 722c 204c 6973 745b 7374 725d 5d2c  str, List[str]],
+000218d0: 0a20 2020 2020 2020 202a 2c0a 2020 2020  .        *,.    
+000218e0: 2020 2020 6378 5f72 6574 6169 6e5f 636f      cx_retain_co
+000218f0: 6e66 6967 3a20 626f 6f6c 203d 2054 7275  nfig: bool = Tru
+00021900: 652c 2020 2320 544f 444f 2063 616e 2077  e,  # TODO can w
+00021910: 6520 7365 6e64 2074 6869 7320 6174 7472  e send this attr
+00021920: 6962 7574 6520 6576 656e 2069 6620 6974  ibute even if it
+00021930: 2773 206e 6f74 2043 582c 2077 696c 6c20  's not CX, will 
+00021940: 6974 2069 676e 6f72 6520 6f72 2065 7272  it ignore or err
+00021950: 6f72 0a20 2020 2029 202d 3e20 5265 7370  or.    ) -> Resp
+00021960: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00021970: 224d 6f76 6520 6465 7669 6365 7320 746f  "Move devices to
+00021980: 2061 2067 726f 7570 2e0a 0a20 2020 2020   a group...     
+00021990: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+000219a0: 2020 2020 2067 726f 7570 2028 7374 7229       group (str)
+000219b0: 3a20 4772 6f75 7020 4e61 6d65 2074 6f20  : Group Name to 
+000219c0: 6d6f 7665 2064 6576 6963 6520 746f 2e0a  move device to..
+000219d0: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+000219e0: 616c 7320 284c 6973 745b 7374 725d 293a  als (List[str]):
+000219f0: 2053 6572 6961 6c20 6e75 6d62 6572 7320   Serial numbers 
+00021a00: 6f66 2064 6576 6963 6573 2074 6f20 6265  of devices to be
+00021a10: 2061 6464 6564 2074 6f20 6772 6f75 702e   added to group.
+00021a20: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+00021a30: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+00021a40: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+00021a50: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+00021a60: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+00021a70: 2020 2020 2020 2020 2320 4150 492d 464c          # API-FL
+00021a80: 4157 2072 6570 6f72 7420 666c 6177 6564  AW report flawed
+00021a90: 2041 5049 206d 6574 686f 640a 2020 2020   API method.    
+00021aa0: 2020 2020 2320 5265 7475 726e 7320 3530      # Returns 50
+00021ab0: 3020 7374 6174 7573 2063 6f64 6520 7768  0 status code wh
+00021ac0: 656e 2072 6573 756c 7420 6973 2065 7373  en result is ess
+00021ad0: 656e 7469 616c 6c79 2073 7563 6365 7373  entially success
+00021ae0: 0a20 2020 2020 2020 2023 2050 6c65 6173  .        # Pleas
+00021af0: 6520 436f 6e66 6972 6d3a 206d 6f76 6520  e Confirm: move 
+00021b00: 4172 7562 6139 3030 345f 3831 5f45 385f  Aruba9004_81_E8_
+00021b10: 4641 2026 2050 6f6d 6d6f 7265 4757 3120  FA & PommoreGW1 
+00021b20: 746f 2067 726f 7570 2057 4c4e 4554 3f20  to group WLNET? 
+00021b30: 5b79 2f4e 5d3a 2079 0a20 2020 2020 2020  [y/N]: y.       
+00021b40: 2023 20e2 9c96 2053 656e 6469 6e67 2044   # ... Sending D
+00021b50: 6174 6120 5b63 6f6e 6669 6775 7261 7469  ata [configurati
+00021b60: 6f6e 2f76 312f 6465 7669 6365 732f 6d6f  on/v1/devices/mo
+00021b70: 7665 5d0a 2020 2020 2020 2020 2320 7374  ve].        # st
+00021b80: 6174 7573 2063 6f64 653a 2035 3030 203c  atus code: 500 <
+00021b90: 2d2d 2035 3030 206f 6e20 7375 6363 6573  -- 500 on succes
+00021ba0: 732e 2020 4174 206c 6561 7374 2066 6f72  s.  At least for
+00021bb0: 2067 7720 776f 756c 6420 6e65 6564 2074   gw would need t
+00021bc0: 6f20 646f 7562 6c65 2063 6865 636b 206f  o double check o
+00021bd0: 7468 6572 732e 0a20 2020 2020 2020 2023  thers..        #
+00021be0: 2064 6573 6372 6970 7469 6f6e 3a0a 2020   description:.  
+00021bf0: 2020 2020 2020 2320 436f 6e74 726f 6c6c        # Controll
+00021c00: 6572 2f47 6174 6577 6179 2067 726f 7570  er/Gateway group
+00021c10: 206d 6f76 6520 6861 7320 6265 656e 2069   move has been i
+00021c20: 6e69 7469 6174 6564 2c20 706c 6561 7365  nitiated, please
+00021c30: 2063 6865 636b 2061 7564 6974 2074 7261   check audit tra
+00021c40: 696c 2066 6f72 2064 6574 6169 6c73 0a20  il for details. 
+00021c50: 2020 2020 2020 2023 2065 7272 6f72 5f63         # error_c
+00021c60: 6f64 653a 2030 3030 310a 2020 2020 2020  ode: 0001.      
+00021c70: 2020 2320 7365 7276 6963 655f 6e61 6d65    # service_name
+00021c80: 3a20 436f 6e66 6967 7572 6174 696f 6e0a  : Configuration.
+00021c90: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+00021ca0: 636f 6e66 6967 7572 6174 696f 6e2f 7631  configuration/v1
+00021cb0: 2f64 6576 6963 6573 2f6d 6f76 6522 0a20  /devices/move". 
+00021cc0: 2020 2020 2020 2073 6572 6961 6c5f 6e75         serial_nu
+00021cd0: 6d73 203d 2075 7469 6c73 2e6c 6973 7469  ms = utils.listi
+00021ce0: 6679 2873 6572 6961 6c5f 6e75 6d73 290a  fy(serial_nums).
+00021cf0: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00021d00: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00021d10: 2020 2027 6772 6f75 7027 3a20 6772 6f75     'group': grou
+00021d20: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
+00021d30: 7365 7269 616c 7327 3a20 7365 7269 616c  serials': serial
+00021d40: 5f6e 756d 730a 2020 2020 2020 2020 7d0a  _nums.        }.
+00021d50: 0a20 2020 2020 2020 2069 6620 6378 5f72  .        if cx_r
+00021d60: 6574 6169 6e5f 636f 6e66 6967 3a0a 2020  etain_config:.  
+00021d70: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
+00021d80: 6174 615b 2270 7265 7365 7276 655f 636f  ata["preserve_co
+00021d90: 6e66 6967 5f6f 7665 7272 6964 6573 225d  nfig_overrides"]
+00021da0: 203d 205b 2241 4f53 5f43 5822 5d0a 0a20   = ["AOS_CX"].. 
+00021db0: 2020 2020 2020 2072 6573 7020 3d20 6177         resp = aw
+00021dc0: 6169 7420 7365 6c66 2e70 6f73 7428 7572  ait self.post(ur
+00021dd0: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
+00021de0: 6e5f 6461 7461 290a 0a20 2020 2020 2020  n_data)..       
+00021df0: 2023 2054 6869 7320 6d65 7468 6f64 2072   # This method r
+00021e00: 6574 7572 6e73 2073 7461 7475 7320 3530  eturns status 50
+00021e10: 3020 7769 7468 206d 7367 2074 6861 7420  0 with msg that 
+00021e20: 6d6f 7665 2069 7320 696e 6974 6961 7465  move is initiate
+00021e30: 6420 6f6e 2073 7563 6365 7373 2e0a 2020  d on success..  
+00021e40: 2020 2020 2020 6966 206e 6f74 2072 6573        if not res
+00021e50: 7020 616e 6420 7265 7370 2e73 7461 7475  p and resp.statu
+00021e60: 7320 3d3d 2035 3030 3a0a 2020 2020 2020  s == 500:.      
+00021e70: 2020 2020 2020 6d61 7463 685f 7374 7220        match_str 
+00021e80: 3d20 2267 726f 7570 206d 6f76 6520 6861  = "group move ha
+00021e90: 7320 6265 656e 2069 6e69 7469 6174 6564  s been initiated
+00021ea0: 2c20 706c 6561 7365 2063 6865 636b 2061  , please check a
+00021eb0: 7564 6974 2074 7261 696c 2066 6f72 2064  udit trail for d
+00021ec0: 6574 6169 6c73 220a 2020 2020 2020 2020  etails".        
+00021ed0: 2020 2020 6966 206d 6174 6368 5f73 7472      if match_str
+00021ee0: 2069 6e20 7265 7370 2e6f 7574 7075 742e   in resp.output.
+00021ef0: 6765 7428 2264 6573 6372 6970 7469 6f6e  get("description
+00021f00: 222c 2022 2229 3a0a 2020 2020 2020 2020  ", ""):.        
+00021f10: 2020 2020 2020 2020 7265 7370 2e6f 6b20          resp.ok 
+00021f20: 3d20 5472 7565 0a0a 2020 2020 2020 2020  = True..        
+00021f30: 7265 7475 726e 2072 6573 700a 0a20 2020  return resp..   
+00021f40: 2061 7379 6e63 2064 6566 2067 6574 5f64   async def get_d
+00021f50: 6566 6175 6c74 5f67 726f 7570 2873 656c  efault_group(sel
+00021f60: 662c 2920 2d3e 2052 6573 706f 6e73 653a  f,) -> Response:
+00021f70: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+00021f80: 6465 6661 756c 7420 6772 6f75 702e 0a0a  default group...
+00021f90: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+00021fa0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+00021fb0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+00021fc0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00021fd0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00021fe0: 2020 2020 2020 7572 6c20 3d20 222f 636f        url = "/co
+00021ff0: 6e66 6967 7572 6174 696f 6e2f 7631 2f67  nfiguration/v1/g
+00022000: 726f 7570 732f 6465 6661 756c 745f 6772  roups/default_gr
+00022010: 6f75 7022 0a0a 2020 2020 2020 2020 7265  oup"..        re
+00022020: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00022030: 6765 7428 7572 6c29 0a0a 2020 2020 6173  get(url)..    as
+00022040: 796e 6320 6465 6620 6d6f 7665 5f64 6576  ync def move_dev
+00022050: 6963 6573 5f74 6f5f 7369 7465 280a 2020  ices_to_site(.  
+00022060: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00022070: 2020 2020 7369 7465 5f69 643a 2069 6e74      site_id: int
+00022080: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
+00022090: 5f6e 756d 733a 2055 6e69 6f6e 5b73 7472  _nums: Union[str
+000220a0: 2c20 4c69 7374 5b73 7472 5d5d 2c0a 2020  , List[str]],.  
+000220b0: 2020 2020 2020 6465 7669 6365 5f74 7970        device_typ
+000220c0: 653a 204c 6974 6572 616c 5b22 6170 222c  e: Literal["ap",
+000220d0: 2022 6378 222c 2022 7377 222c 2022 7377   "cx", "sw", "sw
+000220e0: 6974 6368 222c 2022 6777 225d 2c0a 2020  itch", "gw"],.  
+000220f0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+00022100: 0a20 2020 2020 2020 2022 2222 4173 736f  .        """Asso
+00022110: 6369 6174 6520 6c69 7374 206f 6620 6465  ciate list of de
+00022120: 7669 6365 7320 746f 2061 2073 6974 652e  vices to a site.
+00022130: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00022140: 2020 2020 2020 2020 2020 2020 7369 7465              site
+00022150: 5f69 6420 2869 6e74 293a 2053 6974 6520  _id (int): Site 
+00022160: 4944 0a20 2020 2020 2020 2020 2020 2064  ID.            d
+00022170: 6576 6963 655f 7479 7065 2028 7374 7229  evice_type (str)
+00022180: 3a20 4465 7669 6365 2074 7970 652e 2056  : Device type. V
+00022190: 616c 6964 2056 616c 7565 733a 2061 702c  alid Values: ap,
+000221a0: 2063 782c 2073 772c 2073 7769 7463 682c   cx, sw, switch,
+000221b0: 2067 770a 2020 2020 2020 2020 2020 2020   gw.            
+000221c0: 2020 2020 6378 2061 6e64 2073 7720 6172      cx and sw ar
+000221d0: 6520 7468 6520 7361 6d65 2061 7320 7468  e the same as th
+000221e0: 6520 6d6f 7265 2067 656e 6572 6963 2073  e more generic s
+000221f0: 7769 7463 682e 0a20 2020 2020 2020 2020  witch..         
+00022200: 2020 2073 6572 6961 6c5f 6e75 6d73 2028     serial_nums (
+00022210: 4c69 7374 5b73 7472 5d29 3a20 4c69 7374  List[str]): List
+00022220: 206f 6620 6465 7669 6365 2073 6572 6961   of device seria
+00022230: 6c20 6e75 6d62 6572 7320 6f66 2074 6865  l numbers of the
+00022240: 2064 6576 6963 6573 2074 6f20 7768 6963   devices to whic
+00022250: 6820 7468 6520 7369 7465 0a20 2020 2020  h the site.     
+00022260: 2020 2020 2020 2020 2020 2068 6173 2074             has t
+00022270: 6f20 6265 2075 6e2f 6173 736f 6369 6174  o be un/associat
+00022280: 6564 2077 6974 682e 2041 206d 6178 696d  ed with. A maxim
+00022290: 756d 206f 6620 3530 3030 2064 6576 6963  um of 5000 devic
+000222a0: 6520 7365 7269 616c 7320 6172 6520 616c  e serials are al
+000222b0: 6c6f 7765 6420 6174 206f 6e63 652e 0a0a  lowed at once...
+000222c0: 2020 2020 2020 2020 5265 7475 726e 733a          Returns:
+000222d0: 0a20 2020 2020 2020 2020 2020 2052 6573  .            Res
+000222e0: 706f 6e73 653a 2043 656e 7472 616c 4150  ponse: CentralAP
+000222f0: 4920 5265 7370 6f6e 7365 206f 626a 6563  I Response objec
+00022300: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00022310: 2020 2020 2020 2320 544f 444f 206d 616b        # TODO mak
+00022320: 6520 6465 7669 6365 5f74 7970 6573 2063  e device_types c
+00022330: 6f6e 7369 7374 656e 7420 7468 726f 7567  onsistent throug
+00022340: 686f 7574 0a20 2020 2020 2020 2064 6576  hout.        dev
+00022350: 6963 655f 7479 7065 203d 2063 6f6e 7374  ice_type = const
+00022360: 616e 7473 2e6c 6962 5f74 6f5f 6170 6928  ants.lib_to_api(
+00022370: 2273 6974 6522 2c20 6465 7669 6365 5f74  "site", device_t
+00022380: 7970 6529 0a20 2020 2020 2020 2069 6620  ype).        if 
+00022390: 6e6f 7420 6465 7669 6365 5f74 7970 653a  not device_type:
+000223a0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+000223b0: 7365 2056 616c 7565 4572 726f 7228 0a20  se ValueError(. 
+000223c0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+000223d0: 2249 6e76 616c 6964 2056 616c 7565 2066  "Invalid Value f
+000223e0: 6f72 2064 6576 6963 655f 7479 7065 2e20  or device_type. 
+000223f0: 2053 7570 706f 7274 6564 2056 616c 7565   Supported Value
+00022400: 733a 207b 636f 6e73 7461 6e74 732e 6c69  s: {constants.li
+00022410: 625f 746f 5f61 7069 2e76 616c 6964 5f73  b_to_api.valid_s
+00022420: 7472 7d22 0a20 2020 2020 2020 2020 2020  tr}".           
+00022430: 2029 0a0a 2020 2020 2020 2020 7572 6c20   )..        url 
+00022440: 3d20 222f 6365 6e74 7261 6c2f 7632 2f73  = "/central/v2/s
+00022450: 6974 6573 2f61 7373 6f63 6961 7469 6f6e  ites/association
+00022460: 7322 0a20 2020 2020 2020 2073 6572 6961  s".        seria
+00022470: 6c5f 6e75 6d73 203d 2075 7469 6c73 2e6c  l_nums = utils.l
+00022480: 6973 7469 6679 2873 6572 6961 6c5f 6e75  istify(serial_nu
+00022490: 6d73 290a 0a20 2020 2020 2020 206a 736f  ms)..        jso
+000224a0: 6e5f 6461 7461 203d 207b 0a20 2020 2020  n_data = {.     
+000224b0: 2020 2020 2020 2027 7369 7465 5f69 6427         'site_id'
+000224c0: 3a20 7369 7465 5f69 642c 0a20 2020 2020  : site_id,.     
+000224d0: 2020 2020 2020 2027 6465 7669 6365 5f69         'device_i
+000224e0: 6473 273a 2073 6572 6961 6c5f 6e75 6d73  ds': serial_nums
+000224f0: 2c0a 2020 2020 2020 2020 2020 2020 2764  ,.            'd
+00022500: 6576 6963 655f 7479 7065 273a 2064 6576  evice_type': dev
+00022510: 6963 655f 7479 7065 0a20 2020 2020 2020  ice_type.       
+00022520: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+00022530: 726e 2061 7761 6974 2073 656c 662e 706f  rn await self.po
+00022540: 7374 2875 726c 2c20 6a73 6f6e 5f64 6174  st(url, json_dat
+00022550: 613d 6a73 6f6e 5f64 6174 6129 0a0a 2020  a=json_data)..  
+00022560: 2020 6173 796e 6320 6465 6620 7265 6d6f    async def remo
+00022570: 7665 5f64 6576 6963 6573 5f66 726f 6d5f  ve_devices_from_
+00022580: 7369 7465 280a 2020 2020 2020 2020 7365  site(.        se
+00022590: 6c66 2c0a 2020 2020 2020 2020 7369 7465  lf,.        site
+000225a0: 5f69 643a 2069 6e74 2c0a 2020 2020 2020  _id: int,.      
+000225b0: 2020 7365 7269 616c 5f6e 756d 733a 204c    serial_nums: L
+000225c0: 6973 745b 7374 725d 2c0a 2020 2020 2020  ist[str],.      
+000225d0: 2020 6465 7669 6365 5f74 7970 653a 204c    device_type: L
+000225e0: 6974 6572 616c 5b22 6170 222c 2022 6378  iteral["ap", "cx
+000225f0: 222c 2022 7377 222c 2022 7377 6974 6368  ", "sw", "switch
+00022600: 222c 2022 6777 225d 2c0a 2020 2020 2920  ", "gw"],.    ) 
+00022610: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00022620: 2020 2020 2022 2222 5265 6d6f 7665 2061       """Remove a
+00022630: 206c 6973 7420 6f66 2064 6576 6963 6573   list of devices
+00022640: 2066 726f 6d20 6120 7369 7465 2e0a 0a20   from a site... 
+00022650: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00022660: 2020 2020 2020 2020 2073 6974 655f 6964           site_id
+00022670: 2028 696e 7429 3a20 5369 7465 2049 440a   (int): Site ID.
+00022680: 2020 2020 2020 2020 2020 2020 6465 7669              devi
+00022690: 6365 5f74 7970 6520 2873 7472 293a 2044  ce_type (str): D
+000226a0: 6576 6963 6520 7479 7065 2e20 5661 6c69  evice type. Vali
+000226b0: 6420 5661 6c75 6573 3a20 6170 2c20 6378  d Values: ap, cx
+000226c0: 2c20 7377 2c20 7377 6974 6368 2c20 6777  , sw, switch, gw
+000226d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000226e0: 2063 7820 616e 6420 7377 2061 7265 2074   cx and sw are t
+000226f0: 6865 2073 616d 6520 6173 2074 6865 206d  he same as the m
+00022700: 6f72 6520 6765 6e65 7269 6320 7377 6974  ore generic swit
+00022710: 6368 2e0a 2020 2020 2020 2020 2020 2020  ch..            
+00022720: 7365 7269 616c 5f6e 756d 7320 284c 6973  serial_nums (Lis
+00022730: 745b 7374 725d 293a 204c 6973 7420 6f66  t[str]): List of
+00022740: 2064 6576 6963 6520 7365 7269 616c 206e   device serial n
+00022750: 756d 6265 7273 206f 6620 7468 6520 6465  umbers of the de
+00022760: 7669 6365 7320 746f 2077 6869 6368 2074  vices to which t
+00022770: 6865 2073 6974 650a 2020 2020 2020 2020  he site.        
+00022780: 2020 2020 2020 2020 6861 7320 746f 2062          has to b
+00022790: 6520 756e 2f61 7373 6f63 6961 7465 6420  e un/associated 
+000227a0: 7769 7468 2e20 4120 6d61 7869 6d75 6d20  with. A maximum 
+000227b0: 6f66 2035 3030 3020 6465 7669 6365 2073  of 5000 device s
+000227c0: 6572 6961 6c73 2061 7265 2061 6c6c 6f77  erials are allow
+000227d0: 6564 2061 7420 6f6e 6365 2e0a 0a20 2020  ed at once...   
+000227e0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+000227f0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00022800: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00022810: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00022820: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00022830: 2020 2064 6576 6963 655f 7479 7065 203d     device_type =
+00022840: 2063 6f6e 7374 616e 7473 2e6c 6962 5f74   constants.lib_t
+00022850: 6f5f 6170 6928 2273 6974 6522 2c20 6465  o_api("site", de
+00022860: 7669 6365 5f74 7970 6529 0a20 2020 2020  vice_type).     
+00022870: 2020 2069 6620 6e6f 7420 6465 7669 6365     if not device
+00022880: 5f74 7970 653a 0a20 2020 2020 2020 2020  _type:.         
+00022890: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+000228a0: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+000228b0: 2020 2020 2066 2249 6e76 616c 6964 2056       f"Invalid V
+000228c0: 616c 7565 2066 6f72 2064 6576 6963 655f  alue for device_
+000228d0: 7479 7065 2e20 2053 7570 706f 7274 6564  type.  Supported
+000228e0: 2056 616c 7565 733a 207b 636f 6e73 7461   Values: {consta
+000228f0: 6e74 732e 6c69 625f 746f 5f61 7069 2e76  nts.lib_to_api.v
+00022900: 616c 6964 5f73 7472 7d22 0a20 2020 2020  alid_str}".     
+00022910: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00022920: 2020 7572 6c20 3d20 222f 6365 6e74 7261    url = "/centra
+00022930: 6c2f 7632 2f73 6974 6573 2f61 7373 6f63  l/v2/sites/assoc
+00022940: 6961 7469 6f6e 7322 0a20 2020 2020 2020  iations".       
+00022950: 2073 6572 6961 6c5f 6e75 6d73 203d 2075   serial_nums = u
+00022960: 7469 6c73 2e6c 6973 7469 6679 2873 6572  tils.listify(ser
+00022970: 6961 6c5f 6e75 6d73 290a 0a20 2020 2020  ial_nums)..     
+00022980: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
+00022990: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
+000229a0: 7465 5f69 6427 3a20 7369 7465 5f69 642c  te_id': site_id,
+000229b0: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
+000229c0: 7669 6365 5f69 6473 273a 2073 6572 6961  vice_ids': seria
+000229d0: 6c5f 6e75 6d73 2c0a 2020 2020 2020 2020  l_nums,.        
+000229e0: 2020 2020 2764 6576 6963 655f 7479 7065      'device_type
+000229f0: 273a 2064 6576 6963 655f 7479 7065 0a20  ': device_type. 
+00022a00: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00022a10: 2020 2320 4150 492d 464c 4157 3a20 5468    # API-FLAW: Th
+00022a20: 6973 206d 6574 686f 6420 7265 7475 726e  is method return
+00022a30: 7320 3230 3020 7768 656e 2066 6169 6c75  s 200 when failu
+00022a40: 7265 7320 6f63 6375 722e 0a20 2020 2020  res occur..     
+00022a50: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00022a60: 7365 6c66 2e64 656c 6574 6528 7572 6c2c  self.delete(url,
+00022a70: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
+00022a80: 6461 7461 290a 0a20 2020 2061 7379 6e63  data)..    async
+00022a90: 2064 6566 2063 7265 6174 655f 6c61 6265   def create_labe
+00022aa0: 6c28 0a20 2020 2020 2020 2073 656c 662c  l(.        self,
+00022ab0: 0a20 2020 2020 2020 206c 6162 656c 5f6e  .        label_n
+00022ac0: 616d 653a 2073 7472 2c0a 2020 2020 2020  ame: str,.      
+00022ad0: 2020 6361 7465 676f 7279 5f69 643a 2069    category_id: i
+00022ae0: 6e74 203d 2031 2c0a 2020 2020 2920 2d3e  nt = 1,.    ) ->
+00022af0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00022b00: 2020 2022 2222 4372 6561 7465 204c 6162     """Create Lab
+00022b10: 656c 2e0a 0a20 2020 2020 2020 2041 7267  el...        Arg
+00022b20: 733a 0a20 2020 2020 2020 2020 2020 206c  s:.            l
+00022b30: 6162 656c 5f6e 616d 6520 2873 7472 293a  abel_name (str):
+00022b40: 204c 6162 656c 206e 616d 650a 2020 2020   Label name.    
+00022b50: 2020 2020 2020 2020 6361 7465 676f 7279          category
+00022b60: 5f69 6420 2869 6e74 2c20 6f70 7469 6f6e  _id (int, option
+00022b70: 616c 293a 204c 6162 656c 2063 6174 6567  al): Label categ
+00022b80: 6f72 7920 4944 2064 6566 6175 6c74 7320  ory ID defaults 
+00022b90: 746f 2031 0a20 2020 2020 2020 2020 2020  to 1.           
+00022ba0: 2020 2020 2031 203d 2064 6566 6175 6c74       1 = default
+00022bb0: 206c 6162 656c 2063 6174 6567 6f72 792c   label category,
+00022bc0: 2032 203d 2073 6974 650a 0a20 2020 2020   2 = site..     
+00022bd0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00022be0: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00022bf0: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00022c00: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00022c10: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00022c20: 2075 726c 203d 2022 2f63 656e 7472 616c   url = "/central
+00022c30: 2f76 312f 6c61 6265 6c73 220a 0a20 2020  /v1/labels"..   
+00022c40: 2020 2020 206a 736f 6e5f 6461 7461 203d       json_data =
+00022c50: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00022c60: 6361 7465 676f 7279 5f69 6427 3a20 6361  category_id': ca
+00022c70: 7465 676f 7279 5f69 642c 0a20 2020 2020  tegory_id,.     
+00022c80: 2020 2020 2020 2027 6c61 6265 6c5f 6e61         'label_na
+00022c90: 6d65 273a 206c 6162 656c 5f6e 616d 650a  me': label_name.
+00022ca0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00022cb0: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00022cc0: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
+00022cd0: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
+00022ce0: 7461 290a 0a20 2020 2061 7379 6e63 2064  ta)..    async d
+00022cf0: 6566 2067 6574 5f6c 6162 656c 7328 0a20  ef get_labels(. 
+00022d00: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00022d10: 2020 2020 2063 616c 6375 6c61 7465 5f74       calculate_t
+00022d20: 6f74 616c 3a20 626f 6f6c 203d 204e 6f6e  otal: bool = Non
+00022d30: 652c 0a20 2020 2020 2020 2072 6576 6572  e,.        rever
+00022d40: 7365 3a20 626f 6f6c 203d 2046 616c 7365  se: bool = False
+00022d50: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+00022d60: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+00022d70: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+00022d80: 3130 302c 0a20 2020 2029 202d 3e20 5265  100,.    ) -> Re
+00022d90: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00022da0: 2222 224c 6973 7420 4c61 6265 6c73 2e0a  """List Labels..
+00022db0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+00022dc0: 2020 2020 2020 2020 2020 2063 616c 6375             calcu
+00022dd0: 6c61 7465 5f74 6f74 616c 2028 626f 6f6c  late_total (bool
+00022de0: 2c20 6f70 7469 6f6e 616c 293a 2057 6865  , optional): Whe
+00022df0: 7468 6572 2074 6f20 6361 6c63 756c 6174  ther to calculat
+00022e00: 6520 746f 7461 6c20 4c61 6265 6c73 0a20  e total Labels. 
+00022e10: 2020 2020 2020 2020 2020 2072 6576 6572             rever
+00022e20: 7365 2028 626f 6f6c 2c20 6f70 7469 6f6e  se (bool, option
+00022e30: 616c 293a 204c 6973 7420 6c61 6265 6c73  al): List labels
+00022e40: 2069 6e20 7265 7665 7273 6520 616c 7068   in reverse alph
+00022e50: 6162 6574 6963 616c 206f 7264 6572 2e20  abetical order. 
+00022e60: 4465 6661 756c 7473 2074 6f20 4661 6c73  Defaults to Fals
+00022e70: 650a 2020 2020 2020 2020 2020 2020 6f66  e.            of
+00022e80: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+00022e90: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+00022ea0: 206f 6666 7365 7420 4465 6661 756c 7473   offset Defaults
+00022eb0: 2074 6f20 302e 0a20 2020 2020 2020 2020   to 0..         
+00022ec0: 2020 206c 696d 6974 2028 696e 742c 206f     limit (int, o
+00022ed0: 7074 696f 6e61 6c29 3a20 5061 6769 6e61  ptional): Pagina
+00022ee0: 7469 6f6e 206c 696d 6974 2e20 4465 6661  tion limit. Defa
+00022ef0: 756c 7420 6973 2031 3030 2061 6e64 206d  ult is 100 and m
+00022f00: 6178 2069 7320 3130 3030 2044 6566 6175  ax is 1000 Defau
+00022f10: 6c74 7320 746f 2031 3030 2e0a 0a20 2020  lts to 100...   
+00022f20: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00022f30: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00022f40: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00022f50: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00022f60: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00022f70: 2020 2075 726c 203d 2022 2f63 656e 7472     url = "/centr
+00022f80: 616c 2f76 322f 6c61 6265 6c73 220a 0a20  al/v2/labels".. 
+00022f90: 2020 2020 2020 2070 6172 616d 7320 3d20         params = 
+00022fa0: 7b0a 2020 2020 2020 2020 2020 2020 2263  {.            "c
+00022fb0: 616c 6375 6c61 7465 5f74 6f74 616c 223a  alculate_total":
+00022fc0: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
+00022fd0: 2c0a 2020 2020 2020 2020 2020 2020 226f  ,.            "o
+00022fe0: 6666 7365 7422 3a20 6f66 6673 6574 2c0a  ffset": offset,.
+00022ff0: 2020 2020 2020 2020 2020 2020 226c 696d              "lim
+00023000: 6974 223a 206c 696d 6974 0a20 2020 2020  it": limit.     
+00023010: 2020 207d 0a20 2020 2020 2020 2069 6620     }.        if 
+00023020: 7265 7665 7273 653a 0a20 2020 2020 2020  reverse:.       
+00023030: 2020 2020 2070 6172 616d 735b 2273 6f72       params["sor
+00023040: 7422 5d20 3d20 222d 6c61 6265 6c5f 6e61  t"] = "-label_na
+00023050: 6d65 220a 0a20 2020 2020 2020 2072 6574  me"..        ret
+00023060: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00023070: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00023080: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+00023090: 6320 6465 6620 6173 7369 676e 5f6c 6162  c def assign_lab
+000230a0: 656c 5f74 6f5f 6465 7669 6365 7328 0a20  el_to_devices(. 
+000230b0: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+000230c0: 2020 2020 206c 6162 656c 5f69 643a 2069       label_id: i
+000230d0: 6e74 2c0a 2020 2020 2020 2020 6465 7669  nt,.        devi
+000230e0: 6365 5f74 7970 653a 2063 6f6e 7374 616e  ce_type: constan
+000230f0: 7473 2e47 656e 6572 6963 4465 7654 7970  ts.GenericDevTyp
+00023100: 6573 2c0a 2020 2020 2020 2020 7365 7269  es,.        seri
+00023110: 616c 5f6e 756d 733a 2055 6e69 6f6e 5b73  al_nums: Union[s
+00023120: 7472 2c20 4c69 7374 5b73 7472 5d5d 2c0a  tr, List[str]],.
+00023130: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00023140: 653a 0a20 2020 2020 2020 2022 2222 4173  e:.        """As
+00023150: 736f 6369 6174 6520 4c61 6265 6c20 746f  sociate Label to
+00023160: 2061 206c 6973 7420 6f66 2064 6576 6963   a list of devic
+00023170: 6573 2e0a 0a20 2020 2020 2020 2041 7267  es...        Arg
+00023180: 733a 0a20 2020 2020 2020 2020 2020 206c  s:.            l
+00023190: 6162 656c 5f69 6420 2869 6e74 293a 204c  abel_id (int): L
+000231a0: 6162 656c 2049 440a 2020 2020 2020 2020  abel ID.        
+000231b0: 2020 2020 6465 7669 6365 5f74 7970 6520      device_type 
+000231c0: 2873 7472 293a 2044 6576 6963 6520 7479  (str): Device ty
+000231d0: 7065 2e20 4974 2069 7320 6569 7468 6572  pe. It is either
+000231e0: 2049 4150 2c20 5357 4954 4348 206f 7220   IAP, SWITCH or 
+000231f0: 434f 4e54 524f 4c4c 4552 2020 5661 6c69  CONTROLLER  Vali
+00023200: 6420 5661 6c75 6573 3a0a 2020 2020 2020  d Values:.      
+00023210: 2020 2020 2020 2020 2020 6170 2c20 6777            ap, gw
+00023220: 2c20 7377 6974 6368 0a20 2020 2020 2020  , switch.       
+00023230: 2020 2020 2073 6572 6961 6c5f 6e75 6d73       serial_nums
+00023240: 2028 7374 7220 7c20 4c69 7374 5b73 7472   (str | List[str
+00023250: 5d29 3a20 4c69 7374 206f 6620 6465 7669  ]): List of devi
+00023260: 6365 2073 6572 6961 6c20 6e75 6d62 6572  ce serial number
+00023270: 7320 6f66 2074 6865 2064 6576 6963 6573  s of the devices
+00023280: 2074 6f20 7768 6963 6820 7468 6520 6c61   to which the la
+00023290: 6265 6c0a 2020 2020 2020 2020 2020 2020  bel.            
+000232a0: 2020 2020 6861 7320 746f 2062 6520 756e      has to be un
+000232b0: 2f61 7373 6f63 6961 7465 6420 7769 7468  /associated with
+000232c0: 2e20 4120 6d61 7869 6d75 6d20 6f66 2035  . A maximum of 5
+000232d0: 3030 3020 6465 7669 6365 2073 6572 6961  000 device seria
+000232e0: 6c73 2061 7265 2061 6c6c 6f77 6564 2061  ls are allowed a
+000232f0: 7420 6f6e 6365 2e0a 0a20 2020 2020 2020  t once...       
+00023300: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00023310: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00023320: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00023330: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00023340: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00023350: 726c 203d 2022 2f63 656e 7472 616c 2f76  rl = "/central/v
+00023360: 322f 6c61 6265 6c73 2f61 7373 6f63 6961  2/labels/associa
+00023370: 7469 6f6e 7322 0a20 2020 2020 2020 2073  tions".        s
+00023380: 6572 6961 6c5f 6e75 6d73 203d 2075 7469  erial_nums = uti
+00023390: 6c73 2e6c 6973 7469 6679 2873 6572 6961  ls.listify(seria
+000233a0: 6c5f 6e75 6d73 290a 2020 2020 2020 2020  l_nums).        
+000233b0: 6465 7669 6365 5f74 7970 6520 3d20 636f  device_type = co
+000233c0: 6e73 7461 6e74 732e 6c69 625f 746f 5f61  nstants.lib_to_a
+000233d0: 7069 2822 7369 7465 222c 2064 6576 6963  pi("site", devic
+000233e0: 655f 7479 7065 290a 0a20 2020 2020 2020  e_type)..       
+000233f0: 206a 736f 6e5f 6461 7461 203d 207b 0a20   json_data = {. 
+00023400: 2020 2020 2020 2020 2020 2027 6c61 6265             'labe
+00023410: 6c5f 6964 273a 206c 6162 656c 5f69 642c  l_id': label_id,
+00023420: 0a20 2020 2020 2020 2020 2020 2027 6465  .            'de
+00023430: 7669 6365 5f74 7970 6527 3a20 6465 7669  vice_type': devi
+00023440: 6365 5f74 7970 652c 0a20 2020 2020 2020  ce_type,.       
+00023450: 2020 2020 2027 6465 7669 6365 5f69 6473       'device_ids
+00023460: 273a 2073 6572 6961 6c5f 6e75 6d73 0a20  ': serial_nums. 
+00023470: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00023480: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00023490: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
+000234a0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
+000234b0: 6129 0a0a 2020 2020 2320 544f 444f 206d  a)..    # TODO m
+000234c0: 616b 6520 666f 726d 6174 206f 6620 7468  ake format of th
+000234d0: 6973 2061 6e64 206f 7468 6572 206c 6162  is and other lab
+000234e0: 656c 206d 6574 686f 6473 206d 6174 6368  el methods match
+000234f0: 2073 6974 6520 6d65 7468 6f64 730a 2020   site methods.  
+00023500: 2020 6173 796e 6320 6465 6620 7265 6d6f    async def remo
+00023510: 7665 5f6c 6162 656c 5f66 726f 6d5f 6465  ve_label_from_de
+00023520: 7669 6365 7328 0a20 2020 2020 2020 2073  vices(.        s
+00023530: 656c 662c 0a20 2020 2020 2020 206c 6162  elf,.        lab
+00023540: 656c 5f69 643a 2069 6e74 2c0a 2020 2020  el_id: int,.    
+00023550: 2020 2020 6465 7669 6365 5f74 7970 653a      device_type:
+00023560: 2073 7472 2c0a 2020 2020 2020 2020 7365   str,.        se
+00023570: 7269 616c 5f6e 756d 733a 204c 6973 745b  rial_nums: List[
+00023580: 7374 725d 2c0a 2020 2020 2920 2d3e 2052  str],.    ) -> R
+00023590: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+000235a0: 2022 2222 756e 6173 7369 676e 2061 206c   """unassign a l
+000235b0: 6162 656c 2066 726f 6d20 6120 6c69 7374  abel from a list
+000235c0: 206f 6620 6465 7669 6365 732e 0a0a 2020   of devices...  
+000235d0: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+000235e0: 2020 2020 2020 2020 6c61 6265 6c5f 6964          label_id
+000235f0: 2028 696e 7429 3a20 4c61 6265 6c20 4944   (int): Label ID
+00023600: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+00023610: 6963 655f 7479 7065 2028 7374 7229 3a20  ice_type (str): 
+00023620: 4465 7669 6365 2074 7970 652e 204f 6e65  Device type. One
+00023630: 206f 6620 6170 2c20 6777 2c20 7377 6974   of ap, gw, swit
+00023640: 6368 0a20 2020 2020 2020 2020 2020 2073  ch.            s
+00023650: 6572 6961 6c5f 6e75 6d73 2028 7374 7220  erial_nums (str 
+00023660: 7c20 4c69 7374 5b73 7472 5d29 3a20 4c69  | List[str]): Li
+00023670: 7374 206f 6620 6465 7669 6365 2073 6572  st of device ser
+00023680: 6961 6c20 6e75 6d62 6572 7320 6f66 2074  ial numbers of t
+00023690: 6865 2064 6576 6963 6573 2074 6f20 7768  he devices to wh
+000236a0: 6963 6820 7468 6520 6c61 6265 6c0a 2020  ich the label.  
+000236b0: 2020 2020 2020 2020 2020 2020 2020 6861                ha
+000236c0: 7320 746f 2062 6520 756e 2f61 7373 6f63  s to be un/assoc
+000236d0: 6961 7465 6420 7769 7468 2e20 4120 6d61  iated with. A ma
+000236e0: 7869 6d75 6d20 6f66 2035 3030 3020 6465  ximum of 5000 de
+000236f0: 7669 6365 2073 6572 6961 6c73 2061 7265  vice serials are
+00023700: 2061 6c6c 6f77 6564 2061 7420 6f6e 6365   allowed at once
+00023710: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00023720: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00023730: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00023740: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00023750: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00023760: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00023770: 2f63 656e 7472 616c 2f76 322f 6c61 6265  /central/v2/labe
+00023780: 6c73 2f61 7373 6f63 6961 7469 6f6e 7322  ls/associations"
+00023790: 0a20 2020 2020 2020 2073 6572 6961 6c5f  .        serial_
+000237a0: 6e75 6d73 203d 2075 7469 6c73 2e6c 6973  nums = utils.lis
+000237b0: 7469 6679 2873 6572 6961 6c5f 6e75 6d73  tify(serial_nums
+000237c0: 290a 2020 2020 2020 2020 6465 7669 6365  ).        device
+000237d0: 5f74 7970 6520 3d20 636f 6e73 7461 6e74  _type = constant
+000237e0: 732e 6c69 625f 746f 5f61 7069 2822 7369  s.lib_to_api("si
+000237f0: 7465 222c 2064 6576 6963 655f 7479 7065  te", device_type
+00023800: 290a 0a20 2020 2020 2020 206a 736f 6e5f  )..        json_
+00023810: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+00023820: 2020 2020 2027 6c61 6265 6c5f 6964 273a       'label_id':
+00023830: 206c 6162 656c 5f69 642c 0a20 2020 2020   label_id,.     
+00023840: 2020 2020 2020 2027 6465 7669 6365 5f74         'device_t
+00023850: 7970 6527 3a20 6465 7669 6365 5f74 7970  ype': device_typ
+00023860: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+00023870: 6465 7669 6365 5f69 6473 273a 2073 6572  device_ids': ser
+00023880: 6961 6c5f 6e75 6d73 0a20 2020 2020 2020  ial_nums.       
+00023890: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+000238a0: 726e 2061 7761 6974 2073 656c 662e 6465  rn await self.de
+000238b0: 6c65 7465 2875 726c 2c20 6a73 6f6e 5f64  lete(url, json_d
+000238c0: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
+000238d0: 2020 2020 2320 4150 492d 464c 4157 2072      # API-FLAW r
+000238e0: 6574 7572 6e73 2065 6d70 7479 2070 6179  eturns empty pay
+000238f0: 6c6f 6164 202f 2072 6573 706f 6e73 6520  load / response 
+00023900: 6f6e 2073 7563 6365 7373 2032 3030 0a20  on success 200. 
+00023910: 2020 2061 7379 6e63 2064 6566 2064 656c     async def del
+00023920: 6574 655f 6c61 6265 6c28 0a20 2020 2020  ete_label(.     
+00023930: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00023940: 206c 6162 656c 5f69 643a 2069 6e74 2c0a   label_id: int,.
+00023950: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+00023960: 653a 0a20 2020 2020 2020 2022 2222 4465  e:.        """De
+00023970: 6c65 7465 204c 6162 656c 2e0a 0a20 2020  lete Label...   
+00023980: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+00023990: 2020 2020 2020 206c 6162 656c 5f69 6420         label_id 
+000239a0: 2869 6e74 293a 204c 6162 656c 2049 440a  (int): Label ID.
+000239b0: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+000239c0: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+000239d0: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+000239e0: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+000239f0: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00023a00: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+00023a10: 6365 6e74 7261 6c2f 7631 2f6c 6162 656c  central/v1/label
+00023a20: 732f 7b6c 6162 656c 5f69 647d 220a 0a20  s/{label_id}".. 
+00023a30: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00023a40: 6169 7420 7365 6c66 2e64 656c 6574 6528  ait self.delete(
+00023a50: 7572 6c29 0a0a 2020 2020 6173 796e 6320  url)..    async 
+00023a60: 6465 6620 6765 745f 6465 7669 6365 5f69  def get_device_i
+00023a70: 705f 726f 7574 6573 280a 2020 2020 2020  p_routes(.      
+00023a80: 2020 7365 6c66 2c0a 2020 2020 2020 2020    self,.        
+00023a90: 7365 7269 616c 5f6e 756d 3a20 7374 722c  serial_num: str,
+00023aa0: 0a20 2020 2020 2020 2061 7069 3a20 7374  .        api: st
+00023ab0: 7220 3d20 2256 3122 2c0a 2020 2020 2020  r = "V1",.      
+00023ac0: 2020 6f66 6673 6574 3a20 696e 7420 3d20    offset: int = 
+00023ad0: 302c 0a20 2020 2020 2020 206c 696d 6974  0,.        limit
+00023ae0: 3a20 696e 7420 3d20 3130 300a 2020 2020  : int = 100.    
+00023af0: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00023b00: 2020 2020 2020 2022 2222 4765 7420 726f         """Get ro
+00023b10: 7574 6573 2066 6f72 2061 2064 6576 6963  utes for a devic
+00023b20: 652e 0a0a 2020 2020 2020 2020 4172 6773  e...        Args
+00023b30: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00023b40: 7269 616c 5f6e 756d 2028 7374 7229 3a20  rial_num (str): 
+00023b50: 4465 7669 6365 2073 6572 6961 6c20 6e75  Device serial nu
+00023b60: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
+00023b70: 2061 7069 2028 7374 722c 206f 7074 696f   api (str, optio
+00023b80: 6e61 6c29 3a20 4150 4920 7665 7273 696f  nal): API versio
+00023b90: 6e20 2856 307c 5631 292c 2044 6566 6175  n (V0|V1), Defau
+00023ba0: 6c74 7320 746f 2056 312e 0a20 2020 2020  lts to V1..     
+00023bb0: 2020 2020 2020 206f 6666 7365 7420 2873         offset (s
+00023bc0: 7472 2c20 6f70 7469 6f6e 616c 293a 2050  tr, optional): P
+00023bd0: 6167 696e 6174 696f 6e20 6f66 6673 6574  agination offset
+00023be0: 2e0a 2020 2020 2020 2020 2020 2020 6c69  ..            li
+00023bf0: 6d69 7420 2869 6e74 2c20 6f70 7469 6f6e  mit (int, option
+00023c00: 616c 293a 2070 6167 6520 7369 7a65 2044  al): page size D
+00023c10: 6566 6175 6c74 7320 746f 2031 3030 2e0a  efaults to 100..
+00023c20: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00023c30: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00023c40: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00023c50: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00023c60: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00023c70: 2020 2020 2020 2075 726c 203d 2022 2f61         url = "/a
+00023c80: 7069 2f72 6f75 7469 6e67 2f76 312f 726f  pi/routing/v1/ro
+00023c90: 7574 6522 0a0a 2020 2020 2020 2020 7061  ute"..        pa
+00023ca0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+00023cb0: 2020 2020 2027 6465 7669 6365 273a 2073       'device': s
+00023cc0: 6572 6961 6c5f 6e75 6d2c 0a20 2020 2020  erial_num,.     
+00023cd0: 2020 2020 2020 2027 6170 6927 3a20 6170         'api': ap
+00023ce0: 692c 0a20 2020 2020 2020 2020 2020 2027  i,.            '
+00023cf0: 6d61 726b 6572 273a 206f 6666 7365 742c  marker': offset,
+00023d00: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+00023d10: 6d69 7427 3a20 6c69 6d69 740a 2020 2020  mit': limit.    
+00023d20: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+00023d30: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00023d40: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+00023d50: 3d70 6172 616d 7329 0a0a 2020 2020 2320  =params)..    # 
+00023d60: 544f 444f 206d 616b 6520 6164 645f 6465  TODO make add_de
+00023d70: 7669 6365 2061 6374 7561 6c20 6675 6e63  vice actual func
+00023d80: 2073 6570 2061 6e64 206d 616b 6520 7468   sep and make th
+00023d90: 6973 2061 6e20 6167 6772 6567 6174 6f72  is an aggregator
+00023da0: 2074 6861 7420 6361 6c6c 7320 6974 2061   that calls it a
+00023db0: 6e64 2061 6e79 7468 696e 6720 656c 7365  nd anything else
+00023dc0: 2062 6173 6564 206f 6e20 7061 7261 6d73   based on params
+00023dd0: 0a20 2020 2061 7379 6e63 2064 6566 2061  .    async def a
+00023de0: 6464 5f64 6576 6963 6573 280a 2020 2020  dd_devices(.    
+00023df0: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+00023e00: 2020 6d61 635f 6164 6472 6573 733a 2073    mac_address: s
+00023e10: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00023e20: 2020 2073 6572 6961 6c5f 6e75 6d3a 2073     serial_num: s
+00023e30: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+00023e40: 2020 2067 726f 7570 3a20 7374 7220 3d20     group: str = 
+00023e50: 4e6f 6e65 2c0a 2020 2020 2020 2020 2320  None,.        # 
+00023e60: 7369 7465 3a20 696e 7420 3d20 4e6f 6e65  site: int = None
+00023e70: 2c0a 2020 2020 2020 2020 7061 7274 5f6e  ,.        part_n
+00023e80: 756d 3a20 7374 7220 3d20 4e6f 6e65 2c0a  um: str = None,.
+00023e90: 2020 2020 2020 2020 6c69 6365 6e73 653a          license:
+00023ea0: 2055 6e69 6f6e 5b73 7472 2c20 4c69 7374   Union[str, List
+00023eb0: 5b73 7472 5d5d 203d 204e 6f6e 652c 0a20  [str]] = None,. 
+00023ec0: 2020 2020 2020 2064 6576 6963 655f 6c69         device_li
+00023ed0: 7374 3a20 4c69 7374 5b44 6963 745b 7374  st: List[Dict[st
+00023ee0: 722c 2073 7472 5d5d 203d 204e 6f6e 650a  r, str]] = None.
+00023ef0: 2020 2020 2920 2d3e 2055 6e69 6f6e 5b52      ) -> Union[R
+00023f00: 6573 706f 6e73 652c 204c 6973 745b 5265  esponse, List[Re
+00023f10: 7370 6f6e 7365 5d5d 3a0a 2020 2020 2020  sponse]]:.      
+00023f20: 2020 2222 2241 6464 2064 6576 6963 6528    """Add device(
+00023f30: 7329 2075 7369 6e67 204d 6163 2061 6e64  s) using Mac and
+00023f40: 2053 6572 6961 6c20 6e75 6d62 6572 2028   Serial number (
+00023f50: 7061 7274 5f6e 756d 2061 6c73 6f20 7265  part_num also re
+00023f60: 7175 6972 6564 2066 6f72 2043 6f50 290a  quired for CoP).
+00023f70: 2020 2020 2020 2020 5769 6c6c 2061 6c73          Will als
+00023f80: 6f20 7072 652d 6173 7369 676e 2064 6576  o pre-assign dev
+00023f90: 6963 6520 746f 2067 726f 7570 2069 6620  ice to group if 
+00023fa0: 7072 6f76 6964 6564 0a0a 2020 2020 2020  provided..      
+00023fb0: 2020 4569 7468 6572 206d 6163 5f61 6464    Either mac_add
+00023fc0: 7265 7373 2061 6e64 2073 6572 6961 6c5f  ress and serial_
+00023fd0: 6e75 6d20 6f72 2064 6576 6963 655f 6c69  num or device_li
+00023fe0: 7374 2028 7768 6963 6820 7368 6f75 6c64  st (which should
+00023ff0: 2063 6f6e 7461 696e 2061 2064 6963 7420   contain a dict 
+00024000: 7769 7468 206d 6163 2073 6572 6961 6c29  with mac serial)
+00024010: 2061 7265 2072 6571 7569 7265 642e 0a20   are required.. 
+00024020: 2020 2020 2020 202f 2f20 5573 6564 2062         // Used b
+00024030: 7920 6164 6420 6465 7669 6365 2061 6e64  y add device and
+00024040: 2062 6174 6368 2061 6464 2064 6576 6963   batch add devic
+00024050: 6573 202f 2f0a 0a20 2020 2020 2020 2041  es //..        A
+00024060: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00024070: 206d 6163 5f61 6464 7265 7373 2028 7374   mac_address (st
+00024080: 722c 206f 7074 696f 6e61 6c29 3a20 4d41  r, optional): MA
+00024090: 4320 6164 6472 6573 7320 6f66 2064 6576  C address of dev
+000240a0: 6963 6520 746f 2062 6520 6164 6465 640a  ice to be added.
+000240b0: 2020 2020 2020 2020 2020 2020 7365 7269              seri
+000240c0: 616c 5f6e 756d 2028 7374 722c 206f 7074  al_num (str, opt
+000240d0: 696f 6e61 6c29 3a20 5365 7269 616c 206e  ional): Serial n
+000240e0: 756d 6265 7220 6f66 2064 6576 6963 6520  umber of device 
+000240f0: 746f 2062 6520 6164 6465 640a 2020 2020  to be added.    
+00024100: 2020 2020 2020 2020 6772 6f75 7020 2873          group (s
+00024110: 7472 2c20 6f70 7469 6f6e 616c 293a 2041  tr, optional): A
+00024120: 6464 2064 6576 6963 6520 746f 2070 7265  dd device to pre
+00024130: 2d70 726f 7669 7369 6f6e 6564 2067 726f  -provisioned gro
+00024140: 7570 2028 6164 6469 7469 6f6e 616c 2041  up (additional A
+00024150: 5049 2063 616c 6c20 6973 206d 6164 6529  PI call is made)
+00024160: 0a20 2020 2020 2020 2020 2020 2073 6974  .            sit
+00024170: 6520 2869 6e74 2c20 6f70 7469 6f6e 616c  e (int, optional
+00024180: 293a 202d 2d20 4e6f 7420 696d 706c 656d  ): -- Not implem
+00024190: 656e 7465 6420 2d2d 2053 6974 6520 4944  ented -- Site ID
+000241a0: 0a20 2020 2020 2020 2020 2020 2070 6172  .            par
+000241b0: 745f 6e75 6d20 2873 7472 2c20 6f70 7469  t_num (str, opti
+000241c0: 6f6e 616c 293a 2050 6172 7420 4e75 6d62  onal): Part Numb
+000241d0: 6572 2069 7320 7265 7175 6972 6564 2066  er is required f
+000241e0: 6f72 2043 656e 7472 616c 204f 6e20 5072  or Central On Pr
+000241f0: 656d 2e0a 2020 2020 2020 2020 2020 2020  em..            
+00024200: 6c69 6365 6e73 6520 2873 7472 7c4c 6973  license (str|Lis
+00024210: 7428 7374 7229 2c20 6f70 7469 6f6e 616c  t(str), optional
+00024220: 293a 2054 6865 2073 7562 7363 7269 7074  ): The subscript
+00024230: 696f 6e20 6c69 6365 6e73 6528 7329 2074  ion license(s) t
+00024240: 6f20 6173 7369 676e 2e0a 2020 2020 2020  o assign..      
+00024250: 2020 2020 2020 6465 7669 6365 5f6c 6973        device_lis
+00024260: 7420 284c 6973 745b 4469 6374 5b73 7472  t (List[Dict[str
+00024270: 2c20 7374 725d 5d2c 206f 7074 696f 6e61  , str]], optiona
+00024280: 6c29 3a20 4c69 7374 206f 6620 6469 6374  l): List of dict
+00024290: 7320 7769 7468 206d 6163 2c20 7365 7269  s with mac, seri
+000242a0: 616c 2066 6f72 2065 6163 6820 6465 7669  al for each devi
+000242b0: 6365 0a20 2020 2020 2020 2020 2020 2020  ce.             
+000242c0: 2020 2061 6e64 206f 7074 696f 6e61 6c6c     and optionall
+000242d0: 7920 6772 6f75 702c 2070 6172 745f 6e75  y group, part_nu
+000242e0: 6d2c 206c 6963 656e 7365 2c0a 0a20 2020  m, license,..   
+000242f0: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00024300: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00024310: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00024320: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00024330: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00024340: 2020 2075 726c 203d 2022 2f70 6c61 7466     url = "/platf
+00024350: 6f72 6d2f 6465 7669 6365 5f69 6e76 656e  orm/device_inven
+00024360: 746f 7279 2f76 312f 6465 7669 6365 7322  tory/v1/devices"
+00024370: 0a20 2020 2020 2020 206c 6963 656e 7365  .        license
+00024380: 5f6b 7761 7267 7320 3d20 5b5d 0a0a 2020  _kwargs = []..  
+00024390: 2020 2020 2020 6966 206c 6963 656e 7365        if license
+000243a0: 3a0a 2020 2020 2020 2020 2020 2020 6c69  :.            li
+000243b0: 6365 6e73 655f 6b77 6172 6773 203d 205b  cense_kwargs = [
+000243c0: 7b22 7365 7269 616c 7322 3a20 5b73 6572  {"serials": [ser
+000243d0: 6961 6c5f 6e75 6d5d 2c20 2273 6572 7669  ial_num], "servi
+000243e0: 6365 7322 3a20 7574 696c 732e 6c69 7374  ces": utils.list
+000243f0: 6966 7928 6c69 6365 6e73 6529 7d5d 0a20  ify(license)}]. 
+00024400: 2020 2020 2020 2069 6620 7365 7269 616c         if serial
+00024410: 5f6e 756d 2061 6e64 206d 6163 5f61 6464  _num and mac_add
+00024420: 7265 7373 3a0a 2020 2020 2020 2020 2020  ress:.          
+00024430: 2020 6966 2064 6576 6963 655f 6c69 7374    if device_list
+00024440: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024450: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+00024460: 6f72 2822 7365 7269 616c 5f6e 756d 2061  or("serial_num a
+00024470: 6e64 206d 6163 5f61 6464 7265 7373 2061  nd mac_address a
+00024480: 7265 206e 6f74 2065 7870 6563 7465 6420  re not expected 
+00024490: 7768 656e 2064 6576 6963 655f 6c69 7374  when device_list
+000244a0: 2069 7320 6265 696e 6720 7072 6f76 6964   is being provid
+000244b0: 6564 2e22 290a 0a20 2020 2020 2020 2020  ed.")..         
+000244c0: 2020 2074 6f5f 6772 6f75 7020 3d20 4e6f     to_group = No
+000244d0: 6e65 2069 6620 6e6f 7420 6772 6f75 7020  ne if not group 
+000244e0: 656c 7365 207b 6772 6f75 703a 205b 7365  else {group: [se
+000244f0: 7269 616c 5f6e 756d 5d7d 0a20 2020 2020  rial_num]}.     
+00024500: 2020 2020 2020 2023 2074 6f5f 7369 7465         # to_site
+00024510: 203d 204e 6f6e 6520 6966 206e 6f74 2073   = None if not s
+00024520: 6974 6520 656c 7365 207b 7369 7465 3a20  ite else {site: 
+00024530: 5b73 6572 6961 6c5f 6e75 6d5d 7d0a 0a20  [serial_num]}.. 
+00024540: 2020 2020 2020 2020 2020 206d 6163 203d             mac =
+00024550: 2075 7469 6c73 2e4d 6163 286d 6163 5f61   utils.Mac(mac_a
+00024560: 6464 7265 7373 290a 2020 2020 2020 2020  ddress).        
+00024570: 2020 2020 6966 206e 6f74 206d 6163 3a0a      if not mac:.
+00024580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024590: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+000245a0: 2866 226d 6163 5f61 6464 7265 7373 207b  (f"mac_address {
+000245b0: 6d61 635f 6164 6472 6573 737d 2061 7070  mac_address} app
+000245c0: 6561 7273 2074 6f20 6265 2069 6e76 616c  ears to be inval
+000245d0: 6964 2e22 290a 0a20 2020 2020 2020 2020  id.")..         
+000245e0: 2020 206a 736f 6e5f 6461 7461 203d 205b     json_data = [
+000245f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024600: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+00024610: 2020 2020 2020 2022 6d61 6322 3a20 6d61         "mac": ma
+00024620: 632e 636f 6c73 2c0a 2020 2020 2020 2020  c.cols,.        
+00024630: 2020 2020 2020 2020 2020 2020 2273 6572              "ser
+00024640: 6961 6c22 3a20 7365 7269 616c 5f6e 756d  ial": serial_num
+00024650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024660: 207d 0a20 2020 2020 2020 2020 2020 205d   }.            ]
+00024670: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00024680: 7061 7274 5f6e 756d 3a0a 2020 2020 2020  part_num:.      
+00024690: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
+000246a0: 6174 615b 305d 5b22 7061 7274 4e75 6d62  ata[0]["partNumb
+000246b0: 6572 225d 203d 2070 6172 745f 6e75 6d0a  er"] = part_num.
+000246c0: 0a20 2020 2020 2020 2065 6c69 6620 6465  .        elif de
+000246d0: 7669 6365 5f6c 6973 743a 0a20 2020 2020  vice_list:.     
+000246e0: 2020 2020 2020 2069 6620 6e6f 7420 6973         if not is
+000246f0: 696e 7374 616e 6365 2864 6576 6963 655f  instance(device_
+00024700: 6c69 7374 2c20 6c69 7374 2920 616e 6420  list, list) and 
+00024710: 6e6f 7420 616c 6c28 6973 696e 7374 616e  not all(isinstan
+00024720: 6365 2864 2c20 6469 6374 2920 666f 7220  ce(d, dict) for 
+00024730: 6420 696e 2064 6576 6963 655f 6c69 7374  d in device_list
+00024740: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00024750: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+00024760: 726f 7228 2257 6865 6e20 7573 696e 6720  ror("When using 
+00024770: 6465 7669 6365 5f6c 6973 7420 746f 2062  device_list to b
+00024780: 6174 6368 2061 6464 2064 6576 6963 6573  atch add devices
+00024790: 2c20 7468 6579 2073 686f 756c 6420 6265  , they should be
+000247a0: 2070 726f 7669 6465 6420 6173 2061 206c   provided as a l
+000247b0: 6973 7420 6f66 2064 6963 7473 2229 0a0a  ist of dicts")..
+000247c0: 2020 2020 2020 2020 2020 2020 5f6b 6579              _key
+000247d0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
+000247e0: 2020 2020 2020 226d 6163 5f61 6464 7265        "mac_addre
+000247f0: 7373 223a 2022 6d61 6322 2c0a 2020 2020  ss": "mac",.    
+00024800: 2020 2020 2020 2020 2020 2020 2273 6572              "ser
+00024810: 6961 6c5f 6e75 6d22 3a20 2273 6572 6961  ial_num": "seria
+00024820: 6c22 2c0a 2020 2020 2020 2020 2020 2020  l",.            
+00024830: 2020 2020 2270 6172 745f 6e75 6d22 3a20      "part_num": 
+00024840: 2270 6172 744e 756d 6265 7222 0a20 2020  "partNumber".   
+00024850: 2020 2020 2020 2020 207d 0a0a 2020 2020           }..    
+00024860: 2020 2020 2020 2020 6a73 6f6e 5f64 6174          json_dat
+00024870: 6120 3d20 5b5d 0a20 2020 2020 2020 2020  a = [].         
+00024880: 2020 2066 6f72 2064 2069 6e20 6465 7669     for d in devi
+00024890: 6365 5f6c 6973 743a 0a20 2020 2020 2020  ce_list:.       
+000248a0: 2020 2020 2020 2020 206d 6163 203d 2064           mac = d
+000248b0: 2e67 6574 2822 6d61 6322 2c20 642e 6765  .get("mac", d.ge
+000248c0: 7428 226d 6163 5f61 6464 7265 7373 2229  t("mac_address")
+000248d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000248e0: 2020 6966 206e 6f74 206d 6163 3a0a 2020    if not mac:.  
+000248f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024900: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+00024910: 6f72 2866 224e 6f20 4d61 6320 4164 6472  or(f"No Mac Addr
+00024920: 6573 7320 666f 756e 6420 666f 7220 656e  ess found for en
+00024930: 7472 7920 7b64 7d22 290a 2020 2020 2020  try {d}").      
+00024940: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00024950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024960: 2020 2020 6d61 6320 3d20 7574 696c 732e      mac = utils.
+00024970: 4d61 6328 6d61 6329 0a20 2020 2020 2020  Mac(mac).       
+00024980: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00024990: 6e6f 7420 6d61 633a 0a20 2020 2020 2020  not mac:.       
+000249a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000249b0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+000249c0: 7228 6622 4d61 6320 4164 6472 6573 7320  r(f"Mac Address 
+000249d0: 7b6d 6163 7d20 6170 7065 6172 7320 746f  {mac} appears to
+000249e0: 2062 6520 696e 7661 6c69 642e 2229 0a20   be invalid."). 
+000249f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00024a00: 6572 6961 6c20 3d20 642e 6765 7428 2273  erial = d.get("s
+00024a10: 6572 6961 6c22 2c20 642e 6765 7428 2273  erial", d.get("s
+00024a20: 6572 6961 6c5f 6e75 6d22 2929 0a20 2020  erial_num")).   
+00024a30: 2020 2020 2020 2020 2020 2020 205f 7468               _th
+00024a40: 6973 5f64 6963 7420 3d20 7b22 6d61 6322  is_dict = {"mac"
+00024a50: 3a20 6d61 632e 636f 6c73 2c20 2273 6572  : mac.cols, "ser
+00024a60: 6961 6c22 3a20 7365 7269 616c 7d0a 2020  ial": serial}.  
+00024a70: 2020 2020 2020 2020 2020 2020 2020 7061                pa
+00024a80: 7274 5f6e 756d 203d 2064 2e67 6574 2822  rt_num = d.get("
+00024a90: 7061 7274 5f6e 756d 222c 2064 2e67 6574  part_num", d.get
+00024aa0: 2822 7061 7274 4e75 6d62 6572 2229 290a  ("partNumber")).
+00024ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ac0: 6966 2070 6172 745f 6e75 6d3a 0a20 2020  if part_num:.   
+00024ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ae0: 205f 7468 6973 5f64 6963 745b 2270 6172   _this_dict["par
+00024af0: 744e 756d 6265 7222 5d20 3d20 7061 7274  tNumber"] = part
+00024b00: 5f6e 756d 0a0a 2020 2020 2020 2020 2020  _num..          
+00024b10: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+00024b20: 2b3d 205b 5f74 6869 735f 6469 6374 5d0a  += [_this_dict].
+00024b30: 0a20 2020 2020 2020 2020 2020 2074 6f5f  .            to_
+00024b40: 6772 6f75 7020 3d20 7b64 2e67 6574 2822  group = {d.get("
+00024b50: 6772 6f75 7022 293a 205b 5d20 666f 7220  group"): [] for 
+00024b60: 6420 696e 2064 6576 6963 655f 6c69 7374  d in device_list
+00024b70: 2069 6620 2267 726f 7570 2220 696e 2064   if "group" in d
+00024b80: 7d0a 2020 2020 2020 2020 2020 2020 666f  }.            fo
+00024b90: 7220 6420 696e 2064 6576 6963 655f 6c69  r d in device_li
+00024ba0: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+00024bb0: 2020 2020 6966 2022 6772 6f75 7022 2069      if "group" i
+00024bc0: 6e20 643a 0a20 2020 2020 2020 2020 2020  n d:.           
+00024bd0: 2020 2020 2020 2020 2074 6f5f 6772 6f75           to_grou
+00024be0: 705b 645b 2267 726f 7570 225d 5d2e 6170  p[d["group"]].ap
+00024bf0: 7065 6e64 2864 2e67 6574 2822 7365 7269  pend(d.get("seri
+00024c00: 616c 5f6e 756d 222c 2064 2e67 6574 2822  al_num", d.get("
+00024c10: 7365 7269 616c 2229 2929 0a0a 2020 2020  serial")))..    
+00024c20: 2020 2020 2020 2020 2320 746f 5f73 6974          # to_sit
+00024c30: 6520 3d20 7b64 2e67 6574 2822 7369 7465  e = {d.get("site
+00024c40: 2229 3a20 5b5d 2066 6f72 2064 2069 6e20  "): [] for d in 
+00024c50: 6465 7669 6365 5f6c 6973 7420 6966 2022  device_list if "
+00024c60: 7369 7465 2220 696e 2064 7d0a 2020 2020  site" in d}.    
+00024c70: 2020 2020 2020 2020 2320 666f 7220 6420          # for d 
+00024c80: 696e 2064 6576 6963 655f 6c69 7374 3a0a  in device_list:.
+00024c90: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+00024ca0: 2020 6966 2022 7369 7465 2220 696e 2064    if "site" in d
+00024cb0: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
+00024cc0: 2020 2020 2020 2020 746f 5f73 6974 655b          to_site[
+00024cd0: 645b 2273 6974 6522 5d5d 2e61 7070 656e  d["site"]].appen
+00024ce0: 6428 642e 6765 7428 2273 6572 6961 6c5f  d(d.get("serial_
+00024cf0: 6e75 6d22 2c20 642e 6765 7428 2273 6572  num", d.get("ser
+00024d00: 6961 6c22 2929 290a 0a20 2020 2020 2020  ial")))..       
+00024d10: 2020 2020 2023 2047 6174 6865 7220 616c       # Gather al
+00024d20: 6c20 7365 7269 616c 7320 666f 7220 6561  l serials for ea
+00024d30: 6368 206c 6963 656e 7365 2063 6f6d 6269  ch license combi
+00024d40: 6e61 7469 6f6e 2066 726f 6d20 6465 7669  nation from devi
+00024d50: 6365 5f6c 6973 740a 2020 2020 2020 2020  ce_list.        
+00024d60: 2020 2020 2320 544f 444f 2074 6869 7320      # TODO this 
+00024d70: 6e65 6564 7320 746f 2062 6520 7465 7374  needs to be test
+00024d80: 6564 0a20 2020 2020 2020 2020 2020 205f  ed.            _
+00024d90: 6c69 635f 6b77 6172 6773 203d 207b 7d0a  lic_kwargs = {}.
+00024da0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00024db0: 6420 696e 2064 6576 6963 655f 6c69 7374  d in device_list
+00024dc0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024dd0: 2020 6966 2022 6c69 6365 6e73 6522 206e    if "license" n
+00024de0: 6f74 2069 6e20 643a 0a20 2020 2020 2020  ot in d:.       
+00024df0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00024e00: 7469 6e75 650a 0a20 2020 2020 2020 2020  tinue..         
+00024e10: 2020 2020 2020 2064 5b22 6c69 6365 6e73         d["licens
+00024e20: 6522 5d20 3d20 7574 696c 732e 6c69 7374  e"] = utils.list
+00024e30: 6966 7928 645b 226c 6963 656e 7365 225d  ify(d["license"]
+00024e40: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00024e50: 2020 5f6b 6579 203d 2066 227b 645b 276c    _key = f"{d['l
+00024e60: 6963 656e 7365 275d 2069 6620 6c65 6e28  icense'] if len(
+00024e70: 645b 276c 6963 656e 7365 275d 2920 3d3d  d['license']) ==
+00024e80: 2031 2065 6c73 6520 277c 272e 6a6f 696e   1 else '|'.join
+00024e90: 2873 6f72 7465 6428 645b 276c 6963 656e  (sorted(d['licen
+00024ea0: 7365 275d 2929 7d22 0a20 2020 2020 2020  se']))}".       
+00024eb0: 2020 2020 2020 2020 205f 7365 7269 616c           _serial
+00024ec0: 203d 2064 2e67 6574 2822 7365 7269 616c   = d.get("serial
+00024ed0: 5f6e 756d 222c 2064 2e67 6574 2822 7365  _num", d.get("se
+00024ee0: 7269 616c 2229 290a 2020 2020 2020 2020  rial")).        
+00024ef0: 2020 2020 2020 2020 6966 206e 6f74 205f          if not _
+00024f00: 7365 7269 616c 3a0a 2020 2020 2020 2020  serial:.        
+00024f10: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00024f20: 6520 5661 6c75 6545 7272 6f72 2866 224e  e ValueError(f"N
+00024f30: 6f20 7365 7269 616c 2066 6f75 6e64 2066  o serial found f
+00024f40: 6f72 2064 6576 6963 653a 207b 647d 2229  or device: {d}")
+00024f50: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00024f60: 2020 6966 205f 6b65 7920 696e 205f 6c69    if _key in _li
+00024f70: 635f 6b77 6172 6773 3a0a 2020 2020 2020  c_kwargs:.      
+00024f80: 2020 2020 2020 2020 2020 2020 2020 5f6c                _l
+00024f90: 6963 5f6b 7761 7267 735b 5f6b 6579 5d5b  ic_kwargs[_key][
+00024fa0: 2273 6572 6961 6c73 225d 202b 3d20 7574  "serials"] += ut
+00024fb0: 696c 732e 6c69 7374 6966 7928 5f73 6572  ils.listify(_ser
+00024fc0: 6961 6c29 0a20 2020 2020 2020 2020 2020  ial).           
+00024fd0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+00024fe0: 2020 2020 2020 2020 2020 2020 2020 205f                 _
+00024ff0: 6c69 635f 6b77 6172 6773 5b5f 6b65 795d  lic_kwargs[_key]
+00025000: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00025010: 2020 2020 2020 2020 2020 2020 2022 7365               "se
+00025020: 7276 6963 6573 223a 2075 7469 6c73 2e6c  rvices": utils.l
+00025030: 6973 7469 6679 2864 5b22 6c69 6365 6e73  istify(d["licens
+00025040: 6522 5d29 2c0a 2020 2020 2020 2020 2020  e"]),.          
+00025050: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00025060: 6572 6961 6c73 223a 2075 7469 6c73 2e6c  erials": utils.l
+00025070: 6973 7469 6679 285f 7365 7269 616c 290a  istify(_serial).
+00025080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025090: 2020 2020 7d0a 2020 2020 2020 2020 2020      }.          
+000250a0: 2020 6c69 6365 6e73 655f 6b77 6172 6773    license_kwargs
+000250b0: 203d 206c 6973 7428 5f6c 6963 5f6b 7761   = list(_lic_kwa
+000250c0: 7267 732e 7661 6c75 6573 2829 290a 0a20  rgs.values()).. 
+000250d0: 2020 2020 2020 2020 2020 2023 206c 6963             # lic
+000250e0: 656e 7365 5f61 7267 7320 3d20 5b5b 5d2c  ense_args = [[],
+000250f0: 205b 5d5d 0a20 2020 2020 2020 2020 2020   []].           
+00025100: 2023 2062 795f 7365 7220 3d20 7b64 5b22   # by_ser = {d["
+00025110: 7365 7269 616c 5f6e 756d 225d 3a20 7574  serial_num"]: ut
+00025120: 696c 732e 6c69 7374 6966 7928 642e 6765  ils.listify(d.ge
+00025130: 7428 226c 6963 656e 7365 2229 2920 666f  t("license")) fo
+00025140: 7220 6420 696e 2064 6576 6963 655f 6c69  r d in device_li
+00025150: 7374 2069 6620 642e 6765 7428 226c 6963  st if d.get("lic
+00025160: 656e 7365 2229 7d0a 2020 2020 2020 2020  ense")}.        
+00025170: 2020 2020 2320 544f 444f 206d 6f73 7420      # TODO most 
+00025180: 6566 6669 6369 656e 7420 7061 6972 696e  efficient pairin
+00025190: 6720 6f66 2070 6f73 7369 626c 6520 6c69  g of possible li
+000251a0: 632f 6465 7620 666f 7220 6665 7765 7374  c/dev for fewest
+000251b0: 2063 616c 6c0a 2020 2020 2020 2020 2020   call.          
+000251c0: 2020 2320 544f 444f 206c 6963 656e 7365    # TODO license
+000251d0: 2076 6961 206c 6973 7420 6e6f 7420 696d   via list not im
+000251e0: 706c 656d 656e 7465 6420 7965 742e 0a0a  plemented yet...
+000251f0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00025200: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00025210: 5661 6c75 6545 7272 6f72 2822 6d61 635f  ValueError("mac_
+00025220: 6164 6472 6573 7320 616e 6420 7365 7269  address and seri
+00025230: 616c 5f6e 756d 206f 7220 6465 7669 6365  al_num or device
+00025240: 5f6c 6973 7420 6973 2072 6571 7569 7265  _list is require
+00025250: 6422 290a 0a20 2020 2020 2020 2023 2050  d")..        # P
+00025260: 6572 666f 726d 2041 5049 2063 616c 6c28  erform API call(
+00025270: 7329 2074 6f20 4365 6e74 7261 6c20 4150  s) to Central AP
+00025280: 4920 4757 0a20 2020 2020 2020 2023 2054  I GW.        # T
+00025290: 4f44 4f20 6272 6561 6b20 6f75 7420 7468  ODO break out th
+000252a0: 6520 6164 6420 6465 7669 6365 2063 616c  e add device cal
+000252b0: 6c20 696e 746f 2069 7427 7320 6f77 6e20  l into it's own 
+000252c0: 6d65 7468 6f64 2e0a 2020 2020 2020 2020  method..        
+000252d0: 6966 2074 6f5f 6772 6f75 7020 6f72 206c  if to_group or l
+000252e0: 6963 656e 7365 5f6b 7761 7267 733a 0a20  icense_kwargs:. 
+000252f0: 2020 2020 2020 2020 2020 2023 2041 6464             # Add
+00025300: 2064 6576 6963 6573 2074 6f20 6365 6e74   devices to cent
+00025310: 7261 6c2e 2020 3120 4150 4920 6361 6c6c  ral.  1 API call
+00025320: 2066 6f72 2031 206f 7220 6d61 6e79 2064   for 1 or many d
+00025330: 6576 6963 6573 2e0a 2020 2020 2020 2020  evices..        
+00025340: 2020 2020 6272 203d 2073 656c 662e 4261      br = self.Ba
+00025350: 7463 6852 6571 7565 7374 0a20 2020 2020  tchRequest.     
+00025360: 2020 2020 2020 2072 6571 7320 3d20 5b0a         reqs = [.
+00025370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025380: 6272 2873 656c 662e 706f 7374 2c20 7572  br(self.post, ur
+00025390: 6c2c 206a 736f 6e5f 6461 7461 3d6a 736f  l, json_data=jso
+000253a0: 6e5f 6461 7461 292c 0a20 2020 2020 2020  n_data),.       
+000253b0: 2020 2020 205d 0a20 2020 2020 2020 2020       ].         
+000253c0: 2020 2023 2041 7373 6967 6e20 6465 7669     # Assign devi
+000253d0: 6365 7320 746f 2070 7265 2d70 726f 7669  ces to pre-provi
+000253e0: 7369 6f6e 6564 2067 726f 7570 2e20 2031  sioned group.  1
+000253f0: 2041 5049 2063 616c 6c20 7065 7220 6772   API call per gr
+00025400: 6f75 700a 2020 2020 2020 2020 2020 2020  oup.            
+00025410: 2320 544f 444f 2074 6573 7420 7468 6174  # TODO test that
+00025420: 2074 6869 7320 6973 2031 2041 5049 2063   this is 1 API c
+00025430: 616c 6c20 7065 7220 6772 6f75 702e 0a20  all per group.. 
+00025440: 2020 2020 2020 2020 2020 2069 6620 746f             if to
+00025450: 5f67 726f 7570 3a0a 2020 2020 2020 2020  _group:.        
+00025460: 2020 2020 2020 2020 6772 6f75 705f 7265          group_re
+00025470: 7173 203d 205b 6272 2873 656c 662e 7072  qs = [br(self.pr
+00025480: 6570 726f 7669 7369 6f6e 5f64 6576 6963  eprovision_devic
+00025490: 655f 746f 5f67 726f 7570 2c20 2867 2c20  e_to_group, (g, 
+000254a0: 6465 7673 2929 2066 6f72 2067 2c20 6465  devs)) for g, de
+000254b0: 7673 2069 6e20 746f 5f67 726f 7570 2e69  vs in to_group.i
+000254c0: 7465 6d73 2829 5d0a 2020 2020 2020 2020  tems()].        
+000254d0: 2020 2020 2020 2020 7265 7173 203d 205b          reqs = [
+000254e0: 2a72 6571 732c 202a 6772 6f75 705f 7265  *reqs, *group_re
+000254f0: 7173 5d0a 0a20 2020 2020 2020 2020 2020  qs]..           
+00025500: 2023 2054 4f44 4f20 596f 7520 6361 6e20   # TODO You can 
+00025510: 6164 6420 7468 6520 6465 7669 6365 2074  add the device t
+00025520: 6f20 6120 7369 7465 2061 6674 6572 2069  o a site after i
+00025530: 7427 7320 6265 656e 2070 7265 2d61 7373  t's been pre-ass
+00025540: 6967 6e65 640a 2020 2020 2020 2020 2020  igned.          
+00025550: 2020 2320 6966 2074 6f5f 7369 7465 3a0a    # if to_site:.
+00025560: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+00025570: 2020 7369 7465 5f72 6571 7320 3d20 5b62    site_reqs = [b
+00025580: 7228 7365 6c66 2e6d 6f76 655f 6465 7669  r(self.move_devi
+00025590: 6365 735f 746f 5f73 6974 652c 2028 732c  ces_to_site, (s,
+000255a0: 2064 6576 732c 2022 6777 2229 2920 666f   devs, "gw")) fo
+000255b0: 7220 732c 2064 6576 7320 696e 2074 6f5f  r s, devs in to_
+000255c0: 7369 7465 2e69 7465 6d73 2829 5d0a 2020  site.items()].  
+000255d0: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+000255e0: 7265 7173 203d 205b 2a72 6571 732c 202a  reqs = [*reqs, *
+000255f0: 7369 7465 5f72 6571 735d 0a0a 2020 2020  site_reqs]..    
+00025600: 2020 2020 2020 2020 2320 4173 7369 676e          # Assign
+00025610: 206c 6963 656e 7365 2074 6f20 6465 7669   license to devi
+00025620: 6365 732e 2020 3120 4150 4920 6361 6c6c  ces.  1 API call
+00025630: 2066 6f72 2061 6c6c 2064 6576 6963 6573   for all devices
+00025640: 2077 6974 6820 7361 6d65 2063 6f6d 6269   with same combi
+00025650: 6e61 7469 6f6e 206f 6620 6c69 6365 6e73  nation of licens
+00025660: 6573 0a20 2020 2020 2020 2020 2020 2069  es.            i
+00025670: 6620 6c69 6365 6e73 655f 6b77 6172 6773  f license_kwargs
+00025680: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00025690: 2020 6c69 635f 7265 7173 203d 205b 6272    lic_reqs = [br
+000256a0: 2873 656c 662e 6173 7369 676e 5f6c 6963  (self.assign_lic
+000256b0: 656e 7365 732c 202a 2a6b 7761 7267 7329  enses, **kwargs)
+000256c0: 2066 6f72 206b 7761 7267 7320 696e 206c   for kwargs in l
+000256d0: 6963 656e 7365 5f6b 7761 7267 735d 0a20  icense_kwargs]. 
+000256e0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+000256f0: 6571 7320 3d20 5b2a 7265 7173 2c20 2a6c  eqs = [*reqs, *l
+00025700: 6963 5f72 6571 735d 0a0a 2020 2020 2020  ic_reqs]..      
+00025710: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+00025720: 6974 2073 656c 662e 5f62 6174 6368 5f72  it self._batch_r
+00025730: 6571 7565 7374 2872 6571 732c 2063 6f6e  equest(reqs, con
+00025740: 7469 6e75 655f 6f6e 5f66 6169 6c3d 5472  tinue_on_fail=Tr
+00025750: 7565 290a 2020 2020 2020 2020 2320 656c  ue).        # el
+00025760: 6966 2074 6f5f 7369 7465 3a0a 2020 2020  if to_site:.    
+00025770: 2020 2020 2320 2020 2020 7261 6973 6520      #     raise 
+00025780: 5661 6c75 6545 7272 6f72 2822 5369 7465  ValueError("Site
+00025790: 2063 616e 206f 6e6c 7920 6265 2070 7265   can only be pre
+000257a0: 2d61 7373 6967 6e65 6420 6966 2064 6576  -assigned if dev
+000257b0: 6963 6520 6973 2070 7265 2d70 726f 7669  ice is pre-provi
+000257c0: 7369 6f6e 6564 2074 6f20 6120 6772 6f75  sioned to a grou
+000257d0: 7022 290a 2020 2020 2020 2020 656c 7365  p").        else
+000257e0: 3a0a 2020 2020 2020 2020 2020 2020 7265  :.            re
+000257f0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+00025800: 706f 7374 2875 726c 2c20 6a73 6f6e 5f64  post(url, json_d
+00025810: 6174 613d 6a73 6f6e 5f64 6174 6129 0a0a  ata=json_data)..
+00025820: 2020 2020 2320 544f 444f 206d 6179 6265      # TODO maybe
+00025830: 2068 656c 7065 7220 6d65 7468 6f64 2074   helper method t
+00025840: 6f20 6465 6c65 7465 5f64 6576 6963 6520  o delete_device 
+00025850: 7468 6174 2063 616c 6c73 2074 6865 7365  that calls these
+00025860: 0a20 2020 2061 7379 6e63 2064 6566 2064  .    async def d
+00025870: 656c 6574 655f 6761 7465 7761 7928 0a20  elete_gateway(. 
+00025880: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00025890: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
+000258a0: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+000258b0: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+000258c0: 4465 6c65 7465 2047 6174 6577 6179 2e0a  Delete Gateway..
+000258d0: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+000258e0: 2020 2020 2020 2020 2020 2073 6572 6961             seria
+000258f0: 6c20 2873 7472 293a 2053 6572 6961 6c20  l (str): Serial 
+00025900: 4e75 6d62 6572 206f 6620 4761 7465 7761  Number of Gatewa
+00025910: 7920 746f 2062 6520 6465 6c65 7465 640a  y to be deleted.
+00025920: 0a20 2020 2020 2020 2052 6574 7572 6e73  .        Returns
+00025930: 3a0a 2020 2020 2020 2020 2020 2020 5265  :.            Re
+00025940: 7370 6f6e 7365 3a20 4365 6e74 7261 6c41  sponse: CentralA
+00025950: 5049 2052 6573 706f 6e73 6520 6f62 6a65  PI Response obje
+00025960: 6374 0a20 2020 2020 2020 2022 2222 0a20  ct.        """. 
+00025970: 2020 2020 2020 2075 726c 203d 2066 222f         url = f"/
+00025980: 6d6f 6e69 746f 7269 6e67 2f76 312f 6761  monitoring/v1/ga
+00025990: 7465 7761 7973 2f7b 7365 7269 616c 7d22  teways/{serial}"
+000259a0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+000259b0: 2061 7761 6974 2073 656c 662e 6465 6c65   await self.dele
+000259c0: 7465 2875 726c 290a 0a20 2020 2061 7379  te(url)..    asy
+000259d0: 6e63 2064 6566 2064 656c 6574 655f 7377  nc def delete_sw
+000259e0: 6974 6368 280a 2020 2020 2020 2020 7365  itch(.        se
+000259f0: 6c66 2c0a 2020 2020 2020 2020 7365 7269  lf,.        seri
+00025a00: 616c 3a20 7374 722c 0a20 2020 2029 202d  al: str,.    ) -
+00025a10: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00025a20: 2020 2020 2222 2244 656c 6574 6520 5377      """Delete Sw
+00025a30: 6974 6368 2e0a 0a20 2020 2020 2020 2041  itch...        A
+00025a40: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00025a50: 2073 6572 6961 6c20 2873 7472 293a 2053   serial (str): S
+00025a60: 6572 6961 6c20 6e75 6d62 6572 206f 6620  erial number of 
+00025a70: 7377 6974 6368 2074 6f20 6265 2064 656c  switch to be del
+00025a80: 6574 6564 0a0a 2020 2020 2020 2020 5265  eted..        Re
+00025a90: 7475 726e 733a 0a20 2020 2020 2020 2020  turns:.         
+00025aa0: 2020 2052 6573 706f 6e73 653a 2043 656e     Response: Cen
+00025ab0: 7472 616c 4150 4920 5265 7370 6f6e 7365  tralAPI Response
+00025ac0: 206f 626a 6563 740a 2020 2020 2020 2020   object.        
+00025ad0: 2222 220a 2020 2020 2020 2020 7572 6c20  """.        url 
+00025ae0: 3d20 6622 2f6d 6f6e 6974 6f72 696e 672f  = f"/monitoring/
+00025af0: 7631 2f73 7769 7463 6865 732f 7b73 6572  v1/switches/{ser
+00025b00: 6961 6c7d 220a 0a20 2020 2020 2020 2072  ial}"..        r
+00025b10: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+00025b20: 2e64 656c 6574 6528 7572 6c29 0a0a 2020  .delete(url)..  
+00025b30: 2020 6173 796e 6320 6465 6620 6465 6c65    async def dele
+00025b40: 7465 5f61 7028 0a20 2020 2020 2020 2073  te_ap(.        s
+00025b50: 656c 662c 0a20 2020 2020 2020 2073 6572  elf,.        ser
+00025b60: 6961 6c3a 2073 7472 2c0a 2020 2020 2920  ial: str,.    ) 
+00025b70: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00025b80: 2020 2020 2022 2222 4465 6c65 7465 2041       """Delete A
+00025b90: 502e 0a0a 2020 2020 2020 2020 4172 6773  P...        Args
+00025ba0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00025bb0: 7269 616c 2028 7374 7229 3a20 5365 7269  rial (str): Seri
+00025bc0: 616c 204e 756d 6265 7220 6f66 2041 5020  al Number of AP 
+00025bd0: 746f 2062 6520 6465 6c65 7465 640a 0a20  to be deleted.. 
+00025be0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+00025bf0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+00025c00: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+00025c10: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+00025c20: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00025c30: 2020 2020 2075 726c 203d 2066 222f 6d6f       url = f"/mo
+00025c40: 6e69 746f 7269 6e67 2f76 312f 6170 732f  nitoring/v1/aps/
+00025c50: 7b73 6572 6961 6c7d 220a 0a20 2020 2020  {serial}"..     
+00025c60: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00025c70: 7365 6c66 2e64 656c 6574 6528 7572 6c29  self.delete(url)
+00025c80: 0a0a 2020 2020 2320 544f 444f 206d 6179  ..    # TODO may
+00025c90: 2072 656d 6f76 6520 7468 6973 2077 6f75   remove this wou
+00025ca0: 6c64 2073 686f 7720 7468 6520 6465 7669  ld show the devi
+00025cb0: 6365 2069 6e20 7468 6520 6772 6f75 702c  ce in the group,
+00025cc0: 2062 7574 2064 6964 6e27 7420 6265 6861   but didn't beha
+00025cd0: 7665 2061 7320 6578 7065 6374 6564 2028  ve as expected (
+00025ce0: 6465 7669 6365 2077 6173 206e 6f74 2069  device was not i
+00025cf0: 6e20 6465 7669 6365 206c 6973 7429 0a20  n device list). 
+00025d00: 2020 2061 7379 6e63 2064 6566 2061 7373     async def ass
+00025d10: 6967 6e5f 6465 7669 6365 735f 746f 5f67  ign_devices_to_g
+00025d20: 726f 7570 2873 656c 662c 2020 6772 6f75  roup(self,  grou
+00025d30: 703a 2073 7472 2c20 7365 7269 616c 5f6e  p: str, serial_n
+00025d40: 756d 733a 2055 6e69 6f6e 5b4c 6973 745b  ums: Union[List[
+00025d50: 7374 725d 2c20 7374 725d 2920 2d3e 2052  str], str]) -> R
+00025d60: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+00025d70: 2022 2222 4173 7369 676e 2064 6576 6963   """Assign devic
+00025d80: 6573 2074 6f20 7072 652d 7072 6f76 6973  es to pre-provis
+00025d90: 696f 6e65 6420 6772 6f75 702e 0a0a 2020  ioned group...  
+00025da0: 2020 2020 2020 2f2f 2055 7365 6420 696e        // Used in
+00025db0: 6469 7265 6374 6c79 2062 7920 6164 6420  directly by add 
+00025dc0: 6465 7669 6365 2028 7768 656e 2067 726f  device (when gro
+00025dd0: 7570 206f 7074 696f 6e20 7072 6f76 6964  up option provid
+00025de0: 6564 2920 2f2f 0a0a 2020 2020 2020 2020  ed) //..        
+00025df0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00025e00: 2020 6772 6f75 7020 2873 7472 293a 2047    group (str): G
+00025e10: 726f 7570 206e 616d 650a 2020 2020 2020  roup name.      
+00025e20: 2020 2020 2020 7365 7269 616c 7320 284c        serials (L
+00025e30: 6973 745b 7374 725d 7c73 7472 293a 2044  ist[str]|str): D
+00025e40: 6576 6963 6520 7365 7269 616c 206e 756d  evice serial num
+00025e50: 6265 7220 6f72 206c 6973 7420 6f66 2064  ber or list of d
+00025e60: 6576 6963 6520 7365 7269 616c 206e 756d  evice serial num
+00025e70: 6265 7273 2e0a 0a20 2020 2020 2020 2052  bers...        R
+00025e80: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+00025e90: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+00025ea0: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+00025eb0: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+00025ec0: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+00025ed0: 203d 2022 2f64 6576 6963 655f 6d61 6e61   = "/device_mana
+00025ee0: 6765 6d65 6e74 2f76 312f 6772 6f75 702f  gement/v1/group/
+00025ef0: 6173 7369 676e 220a 2020 2020 2020 2020  assign".        
+00025f00: 7365 7269 616c 5f6e 756d 7320 3d20 7574  serial_nums = ut
+00025f10: 696c 732e 6c69 7374 6966 7928 7365 7269  ils.listify(seri
+00025f20: 616c 5f6e 756d 7329 0a0a 2020 2020 2020  al_nums)..      
+00025f30: 2020 6a73 6f6e 5f64 6174 6120 3d20 7b0a    json_data = {.
+00025f40: 2020 2020 2020 2020 2020 2020 2773 6572              'ser
+00025f50: 6961 6c73 273a 2073 6572 6961 6c5f 6e75  ials': serial_nu
+00025f60: 6d73 2c0a 2020 2020 2020 2020 2020 2020  ms,.            
+00025f70: 2767 726f 7570 273a 2067 726f 7570 0a20  'group': group. 
+00025f80: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00025f90: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00025fa0: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
+00025fb0: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
+00025fc0: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
+00025fd0: 6620 7072 6570 726f 7669 7369 6f6e 5f64  f preprovision_d
+00025fe0: 6576 6963 655f 746f 5f67 726f 7570 280a  evice_to_group(.
+00025ff0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00026000: 2020 2020 2020 6772 6f75 705f 6e61 6d65        group_name
+00026010: 3a20 7374 722c 0a20 2020 2020 2020 2073  : str,.        s
+00026020: 6572 6961 6c5f 6e75 6d73 3a20 4c69 7374  erial_nums: List
+00026030: 5b73 7472 5d20 7c20 7374 722c 0a20 2020  [str] | str,.   
+00026040: 2020 2020 2074 656e 616e 745f 6964 3a20       tenant_id: 
+00026050: 7374 7220 3d20 4e6f 6e65 2c0a 2020 2020  str = None,.    
+00026060: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+00026070: 2020 2020 2020 2022 2222 5072 6520 5072         """Pre Pr
+00026080: 6f76 6973 696f 6e20 6120 6772 6f75 7020  ovision a group 
+00026090: 746f 2074 6865 2064 6576 6963 652e 0a0a  to the device...
+000260a0: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+000260b0: 2020 2020 2020 2020 2020 6465 7669 6365            device
+000260c0: 5f69 6420 284c 6973 745b 7374 725d 293a  _id (List[str]):
+000260d0: 2064 6576 6963 655f 6964 0a20 2020 2020   device_id.     
+000260e0: 2020 2020 2020 2067 726f 7570 5f6e 616d         group_nam
+000260f0: 6520 2873 7472 293a 2047 726f 7570 206e  e (str): Group n
+00026100: 616d 650a 2020 2020 2020 2020 2020 2020  ame.            
+00026110: 7465 6e61 6e74 5f69 6420 2873 7472 293a  tenant_id (str):
+00026120: 2054 656e 616e 7420 6964 2c20 286f 6e6c   Tenant id, (onl
+00026130: 7920 6170 706c 6963 6162 6c65 2077 6974  y applicable wit
+00026140: 6820 4d53 5020 6d6f 6465 290a 0a20 2020  h MSP mode)..   
+00026150: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+00026160: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+00026170: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+00026180: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+00026190: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000261a0: 2020 2075 726c 203d 2022 2f63 6f6e 6669     url = "/confi
+000261b0: 6775 7261 7469 6f6e 2f76 312f 7072 6561  guration/v1/prea
+000261c0: 7373 6967 6e22 0a0a 2020 2020 2020 2020  ssign"..        
+000261d0: 6a73 6f6e 5f64 6174 6120 3d20 7b0a 2020  json_data = {.  
+000261e0: 2020 2020 2020 2020 2020 2764 6576 6963            'devic
+000261f0: 655f 6964 273a 2073 6572 6961 6c5f 6e75  e_id': serial_nu
+00026200: 6d73 2c0a 2020 2020 2020 2020 2020 2020  ms,.            
+00026210: 2767 726f 7570 5f6e 616d 6527 3a20 6772  'group_name': gr
+00026220: 6f75 705f 6e61 6d65 2c0a 2020 2020 2020  oup_name,.      
+00026230: 2020 7d0a 0a20 2020 2020 2020 2069 6620    }..        if 
+00026240: 7465 6e61 6e74 5f69 6420 6973 206e 6f74  tenant_id is not
+00026250: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00026260: 2020 206a 736f 6e5f 6461 7461 5b22 7465     json_data["te
+00026270: 6e61 6e74 5f69 6422 5d20 3d20 7374 7228  nant_id"] = str(
+00026280: 7465 6e61 6e74 5f69 6429 0a0a 2020 2020  tenant_id)..    
+00026290: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+000262a0: 2073 656c 662e 706f 7374 2875 726c 2c20   self.post(url, 
+000262b0: 6a73 6f6e 5f64 6174 613d 6a73 6f6e 5f64  json_data=json_d
+000262c0: 6174 6129 0a0a 2020 2020 2320 544f 444f  ata)..    # TODO
+000262d0: 2076 6572 6966 7920 7479 7065 2d68 696e   verify type-hin
+000262e0: 7420 666f 7220 6465 7669 6365 5f6c 6973  t for device_lis
+000262f0: 7420 6973 2074 6865 2072 6967 6874 2077  t is the right w
+00026300: 6179 2074 6f20 646f 2074 6861 742e 0a20  ay to do that.. 
+00026310: 2020 2061 7379 6e63 2064 6566 2076 6572     async def ver
+00026320: 6966 795f 6465 7669 6365 5f61 6464 6974  ify_device_addit
+00026330: 696f 6e28 0a20 2020 2020 2020 2073 656c  ion(.        sel
+00026340: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
+00026350: 6c5f 6e75 6d3a 2073 7472 203d 204e 6f6e  l_num: str = Non
+00026360: 652c 0a20 2020 2020 2020 206d 6163 5f61  e,.        mac_a
+00026370: 6464 7265 7373 3a20 7374 7220 3d20 4e6f  ddress: str = No
+00026380: 6e65 2c0a 2020 2020 2020 2020 6465 7669  ne,.        devi
+00026390: 6365 5f6c 6973 743a 204c 6973 745b 4469  ce_list: List[Di
+000263a0: 6374 5b4c 6974 6572 616c 5b22 6d61 635f  ct[Literal["mac_
+000263b0: 6164 6472 6573 7322 2c20 2273 6572 6961  address", "seria
+000263c0: 6c5f 6e75 6d22 5d2c 2073 7472 5d5d 203d  l_num"], str]] =
+000263d0: 205b 5d0a 2020 2020 2920 2d3e 2052 6573   [].    ) -> Res
+000263e0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+000263f0: 2222 5665 7269 6679 2044 6576 6963 6520  ""Verify Device 
+00026400: 4164 6469 7469 6f6e 0a0a 2020 2020 2020  Addition..      
+00026410: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+00026420: 2020 2020 7365 7269 616c 5f6e 756d 2028      serial_num (
+00026430: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00026440: 5365 7269 616c 204e 756d 6265 7220 6f66  Serial Number of
+00026450: 2064 6576 6963 6520 746f 2076 6572 6966   device to verif
+00026460: 792e 2044 6566 6175 6c74 7320 746f 204e  y. Defaults to N
+00026470: 6f6e 652e 0a20 2020 2020 2020 2020 2020  one..           
+00026480: 206d 6163 5f61 6464 7265 7373 2028 7374   mac_address (st
+00026490: 722c 206f 7074 696f 6e61 6c29 3a20 4d61  r, optional): Ma
+000264a0: 6320 4164 6472 6573 7320 6f66 2064 6576  c Address of dev
+000264b0: 6963 6520 746f 2076 6572 6966 792e 2044  ice to verify. D
+000264c0: 6566 6175 6c74 7320 746f 204e 6f6e 652e  efaults to None.
+000264d0: 0a20 2020 2020 2020 2020 2020 2064 6576  .            dev
+000264e0: 6963 655f 6c69 7374 2028 4c69 7374 5b44  ice_list (List[D
+000264f0: 6963 745b 4c69 7465 7261 6c5b 2c20 6f70  ict[Literal[, op
+00026500: 7469 6f6e 616c 293a 2064 6576 6963 655f  tional): device_
+00026510: 6c69 7374 206c 6973 7420 6f66 2064 6963  list list of dic
+00026520: 7473 2077 6974 680a 2020 2020 2020 2020  ts with.        
+00026530: 2020 2020 2020 2020 2273 6572 6961 6c5f          "serial_
+00026540: 6e75 6d22 2061 6e64 2022 6d61 635f 6164  num" and "mac_ad
+00026550: 6472 6573 7322 2066 6f72 2065 6163 6820  dress" for each 
+00026560: 6465 7669 6365 2074 6f20 7665 7269 6679  device to verify
+00026570: 2e20 4465 6661 756c 7473 2074 6f20 4e6f  . Defaults to No
+00026580: 6e65 2e0a 0a20 2020 2020 2020 204d 7573  ne...        Mus
+00026590: 7420 7072 6f76 6964 6520 7365 7269 616c  t provide serial
+000265a0: 5f6e 756d 2061 6e64 206d 6163 5f61 6464  _num and mac_add
+000265b0: 7265 7373 2066 6f72 2065 6163 6820 6465  ress for each de
+000265c0: 7669 6365 2065 6974 6865 7220 7669 6120  vice either via 
+000265d0: 6b65 7977 6f72 6420 6172 6775 6d65 6e74  keyword argument
+000265e0: 206f 7220 6c69 7374 2e0a 0a20 2020 2020   or list...     
+000265f0: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+00026600: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+00026610: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+00026620: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+00026630: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00026640: 2075 726c 203d 2022 2f70 6c61 7466 6f72   url = "/platfor
+00026650: 6d2f 6465 7669 6365 5f69 6e76 656e 746f  m/device_invento
+00026660: 7279 2f76 312f 6465 7669 6365 732f 7665  ry/v1/devices/ve
+00026670: 7269 6679 220a 2020 2020 2020 2020 6966  rify".        if
+00026680: 2073 6572 6961 6c5f 6e75 6d20 616e 6420   serial_num and 
+00026690: 6d61 635f 6164 6472 6573 733a 0a20 2020  mac_address:.   
+000266a0: 2020 2020 2020 2020 2064 6576 6963 655f           device_
+000266b0: 6c69 7374 202b 3d20 7b0a 2020 2020 2020  list += {.      
+000266c0: 2020 2020 2020 2020 2020 2273 6572 6961            "seria
+000266d0: 6c5f 6e75 6d22 3a20 7365 7269 616c 5f6e  l_num": serial_n
+000266e0: 756d 2c0a 2020 2020 2020 2020 2020 2020  um,.            
+000266f0: 2020 2020 226d 6163 5f61 6464 7265 7373      "mac_address
+00026700: 223a 206d 6163 5f61 6464 7265 7373 2c0a  ": mac_address,.
+00026710: 2020 2020 2020 2020 2020 2020 7d0a 0a20              }.. 
+00026720: 2020 2020 2020 2069 6620 6e6f 7420 6465         if not de
+00026730: 7669 6365 5f6c 6973 743a 0a20 2020 2020  vice_list:.     
+00026740: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+00026750: 7565 4572 726f 7228 0a20 2020 2020 2020  ueError(.       
+00026760: 2020 2020 2020 2020 2022 496e 7661 6c69           "Invali
+00026770: 6420 7061 7261 6d65 7465 7273 2065 7870  d parameters exp
+00026780: 6563 7469 6e67 2073 6572 6961 6c5f 6e75  ecting serial_nu
+00026790: 6d20 616e 6420 6d61 635f 6164 6472 6573  m and mac_addres
+000267a0: 7320 666f 7220 6561 6368 2064 6576 6963  s for each devic
+000267b0: 6520 220a 2020 2020 2020 2020 2020 2020  e ".            
+000267c0: 2020 2020 2265 6974 6865 7220 7669 6120      "either via 
+000267d0: 6b65 7977 6f72 6420 6172 6775 6d65 6e74  keyword argument
+000267e0: 206f 7220 4c69 7374 5b64 6963 745d 2e22   or List[dict]."
+000267f0: 0a20 2020 2020 2020 2020 2020 2029 0a0a  .            )..
+00026800: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00026810: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+00026820: 726c 2c20 6a73 6f6e 5f64 6174 613d 6465  rl, json_data=de
+00026830: 7669 6365 5f6c 6973 7429 0a0a 2020 2020  vice_list)..    
+00026840: 6173 796e 6320 6465 6620 7570 6c6f 6164  async def upload
+00026850: 5f63 6572 7469 6669 6361 7465 280a 2020  _certificate(.  
+00026860: 2020 2020 2020 7365 6c66 2c0a 2020 2020        self,.    
+00026870: 2020 2020 7061 7373 7068 7261 7365 3a20      passphrase: 
+00026880: 7374 7220 3d20 2222 2c0a 2020 2020 2020  str = "",.      
+00026890: 2020 6365 7274 5f66 696c 653a 2055 6e69    cert_file: Uni
+000268a0: 6f6e 5b73 7472 2c20 5061 7468 5d20 3d20  on[str, Path] = 
+000268b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6365  None,.        ce
+000268c0: 7274 5f6e 616d 653a 2073 7472 203d 204e  rt_name: str = N
+000268d0: 6f6e 652c 0a20 2020 2020 2020 2063 6572  one,.        cer
+000268e0: 745f 666f 726d 6174 3a20 4c69 7465 7261  t_format: Litera
+000268f0: 6c5b 2250 454d 222c 2022 4445 5222 2c20  l["PEM", "DER", 
+00026900: 2250 4b43 5331 3222 5d20 3d20 4e6f 6e65  "PKCS12"] = None
+00026910: 2c0a 2020 2020 2020 2020 6365 7274 5f64  ,.        cert_d
+00026920: 6174 613a 2073 7472 203d 204e 6f6e 652c  ata: str = None,
+00026930: 0a20 2020 2020 2020 2073 6572 7665 725f  .        server_
+00026940: 6365 7274 3a20 626f 6f6c 203d 2046 616c  cert: bool = Fal
+00026950: 7365 2c0a 2020 2020 2020 2020 6361 5f63  se,.        ca_c
+00026960: 6572 743a 2062 6f6f 6c20 3d20 4661 6c73  ert: bool = Fals
+00026970: 652c 0a20 2020 2020 2020 2063 726c 3a20  e,.        crl: 
+00026980: 626f 6f6c 203d 2046 616c 7365 2c0a 2020  bool = False,.  
+00026990: 2020 2020 2020 696e 745f 6361 5f63 6572        int_ca_cer
+000269a0: 743a 2062 6f6f 6c20 3d20 4661 6c73 652c  t: bool = False,
+000269b0: 0a20 2020 2020 2020 206f 6373 705f 7265  .        ocsp_re
+000269c0: 7370 5f63 6572 743a 2062 6f6f 6c20 3d20  sp_cert: bool = 
+000269d0: 4661 6c73 652c 0a20 2020 2020 2020 206f  False,.        o
+000269e0: 6373 705f 7369 676e 6572 5f63 6572 743a  csp_signer_cert:
+000269f0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+00026a00: 2020 2020 2020 2073 7368 5f70 7562 5f6b         ssh_pub_k
+00026a10: 6579 3a20 626f 6f6c 203d 2046 616c 7365  ey: bool = False
+00026a20: 2c0a 2020 2020 2920 2d3e 2052 6573 706f  ,.    ) -> Respo
+00026a30: 6e73 653a 0a20 2020 2020 2020 2022 2222  nse:.        """
+00026a40: 5570 6c6f 6164 2061 2063 6572 7469 6669  Upload a certifi
+00026a50: 6361 7465 2e0a 0a20 2020 2020 2020 2041  cate...        A
+00026a60: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+00026a70: 2070 6173 7370 6872 6173 6520 2873 7472   passphrase (str
+00026a80: 293a 2070 6173 7370 6872 6173 650a 2020  ): passphrase.  
+00026a90: 2020 2020 2020 2020 2020 6365 7274 5f66            cert_f
+00026aa0: 696c 6520 2850 6174 687c 7374 722c 206f  ile (Path|str, o
+00026ab0: 7074 696f 6e61 6c29 3a20 4365 7274 2066  ptional): Cert f
+00026ac0: 696c 6520 746f 2075 706c 6f61 642c 2069  ile to upload, i
+00026ad0: 6620 6669 6c65 2069 7320 7072 6f76 6964  f file is provid
+00026ae0: 6564 2063 6572 745f 6e61 6d65 0a20 2020  ed cert_name.   
+00026af0: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+00026b00: 2063 6572 745f 666f 726d 6174 2077 696c   cert_format wil
+00026b10: 6c20 6265 2064 6572 6976 6564 2066 726f  l be derived fro
+00026b20: 6d20 6669 6c65 206e 616d 6520 2f20 6578  m file name / ex
+00026b30: 7465 6e73 696f 6e2c 2075 6e6c 6573 7320  tension, unless 
+00026b40: 7468 6f73 6520 7061 7261 6d73 0a20 2020  those params.   
+00026b50: 2020 2020 2020 2020 2020 2020 2061 7265               are
+00026b60: 2061 6c73 6f20 7072 6f76 6964 6564 2e0a   also provided..
+00026b70: 2020 2020 2020 2020 2020 2020 6365 7274              cert
+00026b80: 5f6e 616d 6520 2873 7472 2c20 6f70 7469  _name (str, opti
+00026b90: 6f6e 616c 293a 2054 6865 206e 616d 6520  onal): The name 
+00026ba0: 6f66 2074 6865 2063 6572 7469 6669 6361  of the certifica
+00026bb0: 7465 2e0a 2020 2020 2020 2020 2020 2020  te..            
+00026bc0: 6365 7274 5f66 6f72 6d61 7420 284c 6974  cert_format (Lit
+00026bd0: 6572 616c 5b22 5045 4d22 2c20 2244 4552  eral["PEM", "DER
+00026be0: 222c 2022 504b 4353 3132 225d 2c20 6f70  ", "PKCS12"], op
+00026bf0: 7469 6f6e 616c 293a 2063 6572 745f 666f  tional): cert_fo
+00026c00: 726d 6174 2020 5661 6c69 6420 5661 6c75  rmat  Valid Valu
+00026c10: 6573 3a20 5045 4d2c 2044 4552 2c20 504b  es: PEM, DER, PK
+00026c20: 4353 3132 0a20 2020 2020 2020 2020 2020  CS12.           
+00026c30: 2063 6572 745f 6461 7461 2028 7374 722c   cert_data (str,
+00026c40: 206f 7074 696f 6e61 6c29 3a20 4365 7274   optional): Cert
+00026c50: 6966 6963 6174 6520 636f 6e74 656e 7420  ificate content 
+00026c60: 656e 636f 6465 6420 696e 2062 6173 6536  encoded in base6
+00026c70: 3420 666f 7220 616c 6c20 666f 726d 6174  4 for all format
+00026c80: 2063 6572 7469 6669 6361 7465 732e 0a20   certificates.. 
+00026c90: 2020 2020 2020 2020 2020 2073 6572 7665             serve
+00026ca0: 725f 6365 7274 2028 626f 6f6c 2c20 6f70  r_cert (bool, op
+00026cb0: 7469 6f6e 616c 293a 2053 6574 2074 6f20  tional): Set to 
+00026cc0: 5472 7565 2069 6620 6365 7274 2069 7320  True if cert is 
+00026cd0: 6120 7365 7276 6572 2063 6572 7469 6669  a server certifi
+00026ce0: 6361 7465 2e20 4465 6661 756c 7473 2074  cate. Defaults t
+00026cf0: 6f20 4661 6c73 652e 0a20 2020 2020 2020  o False..       
+00026d00: 2020 2020 2063 615f 6365 7274 2028 626f       ca_cert (bo
+00026d10: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2053  ol, optional): S
+00026d20: 6574 2074 6f20 5472 7565 2069 6620 6365  et to True if ce
+00026d30: 7274 2069 7320 6120 4341 2043 6572 7469  rt is a CA Certi
+00026d40: 6669 6361 7465 2e20 4465 6661 756c 7473  ficate. Defaults
+00026d50: 2074 6f20 4661 6c73 652e 0a20 2020 2020   to False..     
+00026d60: 2020 2020 2020 2063 726c 2028 626f 6f6c         crl (bool
+00026d70: 2c20 6f70 7469 6f6e 616c 293a 2053 6574  , optional): Set
+00026d80: 2074 6f20 5472 7565 2069 6620 6461 7461   to True if data
+00026d90: 2069 7320 6120 6365 7274 6966 6963 6174   is a certificat
+00026da0: 6520 7265 766f 6361 7469 6f6e 206c 6973  e revocation lis
+00026db0: 742e 2044 6566 6175 6c74 7320 746f 2046  t. Defaults to F
+00026dc0: 616c 7365 2e0a 2020 2020 2020 2020 2020  alse..          
+00026dd0: 2020 696e 745f 6361 5f63 6572 7420 2862    int_ca_cert (b
+00026de0: 6f6f 6c2c 206f 7074 696f 6e61 6c29 3a20  ool, optional): 
+00026df0: 5365 7420 746f 2054 7275 6520 6966 2063  Set to True if c
+00026e00: 6572 7469 6669 6361 7465 2069 7320 616e  ertificate is an
+00026e10: 2069 6e74 6572 6d65 6469 6174 6520 4341   intermediate CA
+00026e20: 2063 6572 742e 2044 6566 6175 6c74 7320   cert. Defaults 
+00026e30: 746f 2046 616c 7365 2e0a 2020 2020 2020  to False..      
+00026e40: 2020 2020 2020 6f63 7370 5f72 6573 705f        ocsp_resp_
+00026e50: 6365 7274 2028 626f 6f6c 2c20 6f70 7469  cert (bool, opti
+00026e60: 6f6e 616c 293a 2053 6574 2074 6f20 5472  onal): Set to Tr
+00026e70: 7565 2069 6620 6365 7274 6966 6963 6174  ue if certificat
+00026e80: 6520 6973 2061 6e20 4f43 5350 2072 6573  e is an OCSP res
+00026e90: 706f 6e64 6572 2063 6572 742e 2044 6566  ponder cert. Def
+00026ea0: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
+00026eb0: 2020 2020 2020 2020 2020 2020 6f63 7370              ocsp
+00026ec0: 5f73 6967 6e65 725f 6365 7274 2028 626f  _signer_cert (bo
+00026ed0: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2053  ol, optional): S
+00026ee0: 6574 2074 6f20 5472 7565 2069 6620 6365  et to True if ce
+00026ef0: 7274 6966 6963 6174 6520 6973 2061 6e20  rtificate is an 
+00026f00: 4f43 5350 2073 6967 6e65 7220 6365 7274  OCSP signer cert
+00026f10: 2e20 4465 6661 756c 7473 2074 6f20 4661  . Defaults to Fa
+00026f20: 6c73 652e 0a20 2020 2020 2020 2020 2020  lse..           
+00026f30: 2073 7368 5f70 7562 5f6b 6579 2028 626f   ssh_pub_key (bo
+00026f40: 6f6c 2c20 6f70 7469 6f6e 616c 293a 2053  ol, optional): S
+00026f50: 6574 2074 6f20 5472 7565 2069 6620 6365  et to True if ce
+00026f60: 7274 6966 6963 6174 6520 6973 2061 6e20  rtificate is an 
+00026f70: 5353 4820 5075 6220 6b65 792e 2044 6566  SSH Pub key. Def
+00026f80: 6175 6c74 7320 746f 2046 616c 7365 2e0a  aults to False..
+00026f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026fa0: 7373 685f 7075 625f 6b65 7920 6e65 6564  ssh_pub_key need
+00026fb0: 7320 746f 2062 6520 696e 2050 454d 2066  s to be in PEM f
+00026fc0: 6f72 6d61 742c 2073 7368 2d72 7361 2069  ormat, ssh-rsa i
+00026fd0: 7320 6e6f 7420 7375 7070 6f72 7465 642e  s not supported.
+00026fe0: 0a0a 2020 2020 2020 2020 5261 6973 6573  ..        Raises
+00026ff0: 3a0a 2020 2020 2020 2020 2020 2020 5661  :.            Va
+00027000: 6c75 6545 7272 6f72 3a20 5261 6973 6564  lueError: Raised
+00027010: 2069 6620 696e 7661 6c69 6420 636f 6d62   if invalid comb
+00027020: 696e 6174 696f 6e20 6f66 2061 7267 756d  ination of argum
+00027030: 656e 7473 2069 7320 7072 6f76 6964 6564  ents is provided
+00027040: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00027050: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00027060: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00027070: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00027080: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00027090: 0a20 2020 2020 2020 2023 2041 5049 2d46  .        # API-F
+000270a0: 4c41 5720 4150 4920 6d65 7468 6f64 2c20  LAW API method, 
+000270b0: 5055 424c 4943 5f43 4552 5420 6973 206e  PUBLIC_CERT is n
+000270c0: 6f74 2061 6363 6570 7465 640a 2020 2020  ot accepted.    
+000270d0: 2020 2020 7572 6c20 3d20 222f 636f 6e66      url = "/conf
+000270e0: 6967 7572 6174 696f 6e2f 7631 2f63 6572  iguration/v1/cer
+000270f0: 7469 6669 6361 7465 7322 0a20 2020 2020  tificates".     
+00027100: 2020 2076 616c 6964 5f74 7970 6573 203d     valid_types =
+00027110: 205b 0a20 2020 2020 2020 2020 2020 2022   [.            "
+00027120: 5345 5256 4552 5f43 4552 5422 2c0a 2020  SERVER_CERT",.  
+00027130: 2020 2020 2020 2020 2020 2243 415f 4345            "CA_CE
+00027140: 5254 222c 0a20 2020 2020 2020 2020 2020  RT",.           
+00027150: 2022 4352 4c22 2c0a 2020 2020 2020 2020   "CRL",.        
+00027160: 2020 2020 2249 4e54 4552 4d45 4449 4154      "INTERMEDIAT
+00027170: 455f 4341 222c 0a20 2020 2020 2020 2020  E_CA",.         
+00027180: 2020 2022 4f43 5350 5f52 4553 504f 4e44     "OCSP_RESPOND
+00027190: 4552 5f43 4552 5422 2c0a 2020 2020 2020  ER_CERT",.      
+000271a0: 2020 2020 2020 224f 4353 505f 5349 474e        "OCSP_SIGN
+000271b0: 4552 5f43 4552 5422 2c0a 2020 2020 2020  ER_CERT",.      
+000271c0: 2020 2020 2020 2250 5542 4c49 435f 4345        "PUBLIC_CE
+000271d0: 5254 220a 2020 2020 2020 2020 5d0a 2020  RT".        ].  
+000271e0: 2020 2020 2020 7479 7065 5f76 6172 7320        type_vars 
+000271f0: 3d20 5b73 6572 7665 725f 6365 7274 2c20  = [server_cert, 
+00027200: 6361 5f63 6572 742c 2063 726c 2c20 696e  ca_cert, crl, in
+00027210: 745f 6361 5f63 6572 742c 206f 6373 705f  t_ca_cert, ocsp_
+00027220: 7265 7370 5f63 6572 742c 206f 6373 705f  resp_cert, ocsp_
+00027230: 7369 676e 6572 5f63 6572 742c 2073 7368  signer_cert, ssh
+00027240: 5f70 7562 5f6b 6579 5d0a 2020 2020 2020  _pub_key].      
+00027250: 2020 6966 2074 7970 655f 7661 7273 2e63    if type_vars.c
+00027260: 6f75 6e74 2854 7275 6529 203e 2031 3a0a  ount(True) > 1:.
+00027270: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00027280: 6520 5661 6c75 6545 7272 6f72 2822 5072  e ValueError("Pr
+00027290: 6f76 6964 6564 2063 6f6e 666c 6963 7469  ovided conflicti
+000272a0: 6e67 2063 6572 7469 6669 6361 7465 2074  ng certificate t
+000272b0: 7970 6573 2c20 6f6e 6c79 2031 2073 686f  ypes, only 1 sho
+000272c0: 756c 6420 6265 2073 6574 2074 6f20 5472  uld be set to Tr
+000272d0: 7565 2e22 290a 2020 2020 2020 2020 656c  ue.").        el
+000272e0: 6966 2061 6c6c 285b 6e6f 7420 626f 6f6c  if all([not bool
+000272f0: 2876 6172 2920 666f 7220 7661 7220 696e  (var) for var in
+00027300: 2074 7970 655f 7661 7273 5d29 3a0a 2020   type_vars]):.  
+00027310: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00027320: 5661 6c75 6545 7272 6f72 2822 4e6f 2063  ValueError("No c
+00027330: 6572 745f 7479 7065 2070 726f 7669 6465  ert_type provide
+00027340: 642c 206f 6e65 206f 6620 7468 6520 6365  d, one of the ce
+00027350: 7274 5f74 7970 6573 2073 686f 756c 6420  rt_types should 
+00027360: 6265 2073 6574 2074 6f20 5472 7565 2229  be set to True")
+00027370: 0a0a 2020 2020 2020 2020 6966 2063 6572  ..        if cer
+00027380: 745f 666f 726d 6174 2061 6e64 2063 6572  t_format and cer
+00027390: 745f 666f 726d 6174 2e75 7070 6572 2829  t_format.upper()
+000273a0: 206e 6f74 2069 6e20 5b22 5045 4d22 2c20   not in ["PEM", 
+000273b0: 2244 4552 222c 2022 504b 4353 3132 225d  "DER", "PKCS12"]
+000273c0: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+000273d0: 6973 6520 5661 6c75 6545 7272 6f72 2866  ise ValueError(f
+000273e0: 2249 6e76 616c 6964 2063 6572 745f 666f  "Invalid cert_fo
+000273f0: 726d 6174 207b 6365 7274 5f66 6f72 6d61  rmat {cert_forma
+00027400: 747d 2c20 7661 6c69 6420 7661 6c75 6573  t}, valid values
+00027410: 2061 7265 2027 5045 4d27 2c20 2744 4552   are 'PEM', 'DER
+00027420: 272c 2027 504b 4353 3132 2722 290a 2020  ', 'PKCS12'").  
+00027430: 2020 2020 2020 656c 6966 206e 6f74 2063        elif not c
+00027440: 6572 745f 666f 726d 6174 2061 6e64 206e  ert_format and n
+00027450: 6f74 2063 6572 745f 6669 6c65 3a0a 2020  ot cert_file:.  
+00027460: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00027470: 5661 6c75 6545 7272 6f72 2822 6365 7274  ValueError("cert
+00027480: 5f66 6f72 6d61 7420 6973 2072 6571 7569  _format is requi
+00027490: 7265 6420 7768 656e 206e 6f74 2070 726f  red when not pro
+000274a0: 7669 6469 6e67 2063 6572 7469 6669 6361  viding certifica
+000274b0: 7465 2076 6961 2066 696c 652e 2229 0a0a  te via file.")..
+000274c0: 2020 2020 2020 2020 6966 206e 6f74 2063          if not c
+000274d0: 6572 745f 6461 7461 2061 6e64 206e 6f74  ert_data and not
+000274e0: 2063 6572 745f 6669 6c65 3a0a 2020 2020   cert_file:.    
+000274f0: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
+00027500: 6c75 6545 7272 6f72 2822 4f6e 6520 6f66  lueError("One of
+00027510: 2063 6572 745f 6669 6c65 206f 7220 6365   cert_file or ce
+00027520: 7274 5f64 6174 6120 7368 6f75 6c64 2062  rt_data should b
+00027530: 6520 7072 6f76 6964 6564 2229 0a20 2020  e provided").   
+00027540: 2020 2020 2065 6c69 6620 6365 7274 5f64       elif cert_d
+00027550: 6174 6120 616e 6420 6365 7274 5f66 696c  ata and cert_fil
+00027560: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+00027570: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
+00027580: 224f 6e6c 7920 6f6e 6520 6f66 2063 6572  "Only one of cer
+00027590: 745f 6669 6c65 2061 6e64 2063 6572 745f  t_file and cert_
+000275a0: 6461 7461 2073 686f 756c 6420 6265 2070  data should be p
+000275b0: 726f 7669 6465 6422 290a 0a20 2020 2020  rovided")..     
+000275c0: 2020 2066 6f72 2063 6572 745f 7479 7065     for cert_type
+000275d0: 2c20 7661 7220 696e 207a 6970 2876 616c  , var in zip(val
+000275e0: 6964 5f74 7970 6573 2c20 7479 7065 5f76  id_types, type_v
+000275f0: 6172 7329 3a0a 2020 2020 2020 2020 2020  ars):.          
+00027600: 2020 6966 2076 6172 3a0a 2020 2020 2020    if var:.      
+00027610: 2020 2020 2020 2020 2020 6272 6561 6b0a            break.
+00027620: 0a20 2020 2020 2020 2069 6620 6365 7274  .        if cert
+00027630: 5f66 696c 653a 0a20 2020 2020 2020 2020  _file:.         
+00027640: 2020 2063 6572 745f 6669 6c65 203d 2050     cert_file = P
+00027650: 6174 6828 6365 7274 5f66 696c 6529 2069  ath(cert_file) i
+00027660: 6620 6e6f 7420 6973 696e 7374 616e 6365  f not isinstance
+00027670: 2863 6572 745f 6669 6c65 2c20 5061 7468  (cert_file, Path
+00027680: 2920 656c 7365 2063 6572 745f 6669 6c65  ) else cert_file
+00027690: 0a20 2020 2020 2020 2020 2020 2063 6572  .            cer
+000276a0: 745f 6e61 6d65 203d 2063 6572 745f 6e61  t_name = cert_na
+000276b0: 6d65 206f 7220 6365 7274 5f66 696c 652e  me or cert_file.
+000276c0: 7374 656d 0a20 2020 2020 2020 2020 2020  stem.           
+000276d0: 2069 6620 6e6f 7420 6365 7274 5f66 6f72   if not cert_for
+000276e0: 6d61 743a 0a20 2020 2020 2020 2020 2020  mat:.           
+000276f0: 2020 2020 2069 6620 6365 7274 5f66 696c       if cert_fil
+00027700: 652e 7375 6666 6978 2e6c 6f77 6572 2829  e.suffix.lower()
+00027710: 2069 6e20 5b22 2e70 6678 222c 2022 2e70   in [".pfx", ".p
+00027720: 3132 225d 3a0a 2020 2020 2020 2020 2020  12"]:.          
+00027730: 2020 2020 2020 2020 2020 6365 7274 5f66            cert_f
+00027740: 6f72 6d61 7420 3d20 2250 4b43 5331 3222  ormat = "PKCS12"
+00027750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027760: 2065 6c69 6620 6365 7274 5f66 696c 652e   elif cert_file.
+00027770: 7375 6666 6978 2e6c 6f77 6572 2829 2069  suffix.lower() i
+00027780: 6e20 5b22 2e70 656d 222c 2022 2e63 6572  n [".pem", ".cer
+00027790: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
+000277a0: 2020 2020 2020 2020 6365 7274 5f66 6f72          cert_for
+000277b0: 6d61 7420 3d20 2250 454d 220a 2020 2020  mat = "PEM".    
+000277c0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+000277d0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000277e0: 2020 2020 2020 2320 544f 444f 2064 6574        # TODO det
+000277f0: 6572 6d69 6e65 2066 6f72 6d61 7420 7573  ermine format us
+00027800: 696e 6720 6372 7970 746f 6772 6170 6879  ing cryptography
+00027810: 206c 6962 0a20 2020 2020 2020 2020 2020   lib.           
+00027820: 2020 2020 2020 2020 2063 6572 745f 666f           cert_fo
+00027830: 726d 6174 203d 2022 4445 5222 0a20 2020  rmat = "DER".   
+00027840: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+00027850: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00027860: 6572 745f 666f 726d 6174 203d 2063 6572  ert_format = cer
+00027870: 745f 666f 726d 6174 2e75 7070 6572 2829  t_format.upper()
+00027880: 0a0a 2020 2020 2020 2020 2020 2020 6365  ..            ce
+00027890: 7274 5f64 6174 6120 3d20 6365 7274 5f66  rt_data = cert_f
+000278a0: 696c 652e 7265 6164 5f74 6578 7428 290a  ile.read_text().
+000278b0: 0a20 2020 2020 2020 2063 6572 745f 6279  .        cert_by
+000278c0: 7465 7320 3d20 6365 7274 5f64 6174 612e  tes = cert_data.
+000278d0: 656e 636f 6465 2822 7574 662d 3822 290a  encode("utf-8").
+000278e0: 2020 2020 2020 2020 6365 7274 5f62 3634          cert_b64
+000278f0: 203d 2062 6173 6536 342e 6236 3465 6e63   = base64.b64enc
+00027900: 6f64 6528 6365 7274 5f62 7974 6573 292e  ode(cert_bytes).
+00027910: 6465 636f 6465 2822 7574 662d 3822 290a  decode("utf-8").
+00027920: 0a20 2020 2020 2020 206a 736f 6e5f 6461  .        json_da
+00027930: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+00027940: 2020 2027 6365 7274 5f6e 616d 6527 3a20     'cert_name': 
+00027950: 6365 7274 5f6e 616d 652c 0a20 2020 2020  cert_name,.     
+00027960: 2020 2020 2020 2027 6365 7274 5f74 7970         'cert_typ
+00027970: 6527 3a20 6365 7274 5f74 7970 652c 0a20  e': cert_type,. 
+00027980: 2020 2020 2020 2020 2020 2027 6365 7274             'cert
+00027990: 5f66 6f72 6d61 7427 3a20 6365 7274 5f66  _format': cert_f
+000279a0: 6f72 6d61 742c 0a20 2020 2020 2020 2020  ormat,.         
+000279b0: 2020 2027 7061 7373 7068 7261 7365 273a     'passphrase':
+000279c0: 2070 6173 7370 6872 6173 652c 0a20 2020   passphrase,.   
+000279d0: 2020 2020 2020 2020 2027 6365 7274 5f64           'cert_d
+000279e0: 6174 6127 3a20 6365 7274 5f62 3634 0a20  ata': cert_b64. 
+000279f0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+00027a00: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+00027a10: 656c 662e 706f 7374 2875 726c 2c20 6a73  elf.post(url, js
+00027a20: 6f6e 5f64 6174 613d 6a73 6f6e 5f64 6174  on_data=json_dat
+00027a30: 6129 0a0a 2020 2020 6173 796e 6320 6465  a)..    async de
+00027a40: 6620 6765 745f 7375 6273 6372 6970 7469  f get_subscripti
+00027a50: 6f6e 7328 0a20 2020 2020 2020 2073 656c  ons(.        sel
+00027a60: 662c 0a20 2020 2020 2020 206c 6963 656e  f,.        licen
+00027a70: 7365 5f74 7970 653a 2073 7472 203d 204e  se_type: str = N
+00027a80: 6f6e 652c 0a20 2020 2020 2020 206f 6666  one,.        off
+00027a90: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
+00027aa0: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00027ab0: 203d 2031 3030 302c 2020 2320 446f 6573   = 1000,  # Does
+00027ac0: 6e27 7420 6170 7065 6172 2074 6f20 6861  n't appear to ha
+00027ad0: 7665 206d 6178 2c20 616c 6c6f 7765 6420  ve max, allowed 
+00027ae0: 3130 6b20 6c69 6d69 7420 696e 2073 7761  10k limit in swa
+00027af0: 6767 6572 0a20 2020 2029 202d 3e20 5265  gger.    ) -> Re
+00027b00: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00027b10: 2222 2247 6574 2075 7365 7220 7375 6273  """Get user subs
+00027b20: 6372 6970 7469 6f6e 206b 6579 732e 0a0a  cription keys...
+00027b30: 2020 2020 2020 2020 4172 6773 3a0a 2020          Args:.  
+00027b40: 2020 2020 2020 2020 2020 6c69 6365 6e73            licens
+00027b50: 655f 7479 7065 2028 7374 722c 206f 7074  e_type (str, opt
+00027b60: 696f 6e61 6c29 3a20 5375 7070 6f72 7473  ional): Supports
+00027b70: 2042 6173 6963 2c20 5365 7276 6963 6520   Basic, Service 
+00027b80: 546f 6b65 6e20 616e 6420 4d75 6c74 6920  Token and Multi 
+00027b90: 5469 6572 206c 6963 656e 7369 6e67 0a20  Tier licensing. 
+00027ba0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00027bb0: 7970 6573 2061 7320 7765 6c6c 0a20 2020  ypes as well.   
+00027bc0: 2020 2020 2020 2020 206f 6666 7365 7420           offset 
+00027bd0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00027be0: 206f 6666 7365 7420 6f72 2070 6167 6520   offset or page 
+00027bf0: 6e75 6d62 6572 2044 6566 6175 6c74 7320  number Defaults 
+00027c00: 746f 2030 2e0a 2020 2020 2020 2020 2020  to 0..          
+00027c10: 2020 6c69 6d69 7420 2869 6e74 2c20 6f70    limit (int, op
+00027c20: 7469 6f6e 616c 293a 204e 756d 6265 7220  tional): Number 
+00027c30: 6f66 2073 7562 7363 7269 7074 696f 6e73  of subscriptions
+00027c40: 2074 6f20 6765 7420 4465 6661 756c 7473   to get Defaults
+00027c50: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
+00027c60: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00027c70: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00027c80: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00027c90: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00027ca0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00027cb0: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
+00027cc0: 2f6c 6963 656e 7369 6e67 2f76 312f 7375  /licensing/v1/su
+00027cd0: 6273 6372 6970 7469 6f6e 7322 0a0a 2020  bscriptions"..  
+00027ce0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00027cf0: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+00027d00: 6365 6e73 655f 7479 7065 273a 206c 6963  cense_type': lic
+00027d10: 656e 7365 5f74 7970 652c 0a20 2020 2020  ense_type,.     
+00027d20: 2020 2020 2020 2027 6f66 6673 6574 273a         'offset':
+00027d30: 206f 6666 7365 742c 0a20 2020 2020 2020   offset,.       
+00027d40: 2020 2020 2027 6c69 6d69 7427 3a20 6c69       'limit': li
+00027d50: 6d69 740a 2020 2020 2020 2020 7d0a 0a20  mit.        }.. 
+00027d60: 2020 2020 2020 2072 6574 7572 6e20 6177         return aw
+00027d70: 6169 7420 7365 6c66 2e67 6574 2875 726c  ait self.get(url
+00027d80: 2c20 7061 7261 6d73 3d70 6172 616d 7329  , params=params)
+00027d90: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+00027da0: 6765 745f 7375 6273 6372 6970 7469 6f6e  get_subscription
+00027db0: 5f73 7461 7473 280a 2020 2020 2020 2020  _stats(.        
+00027dc0: 7365 6c66 2c0a 2020 2020 2020 2020 6c69  self,.        li
+00027dd0: 6365 6e73 655f 7479 7065 3a20 7374 7220  cense_type: str 
+00027de0: 3d20 2761 6c6c 272c 0a20 2020 2020 2020  = 'all',.       
+00027df0: 2073 6572 7669 6365 3a20 7374 7220 3d20   service: str = 
+00027e00: 4e6f 6e65 2c0a 2020 2020 2020 2020 6170  None,.        ap
+00027e10: 705f 6f6e 6c79 5f73 7461 7473 3a20 626f  p_only_stats: bo
+00027e20: 6f6c 203d 204e 6f6e 652c 0a20 2020 2029  ol = None,.    )
+00027e30: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+00027e40: 2020 2020 2020 2222 2247 6574 2073 7562        """Get sub
+00027e50: 7363 7269 7074 696f 6e20 7374 6174 732e  scription stats.
+00027e60: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00027e70: 2020 2020 2020 2020 2020 2020 6c69 6365              lice
+00027e80: 6e73 655f 7479 7065 2028 7374 722c 206f  nse_type (str, o
+00027e90: 7074 696f 6e61 6c29 3a20 5375 7070 6f72  ptional): Suppor
+00027ea0: 7473 2062 6173 6963 2f73 7065 6369 616c  ts basic/special
+00027eb0: 2f61 6c6c 2e0a 2020 2020 2020 2020 2020  /all..          
+00027ec0: 2020 2020 2020 7370 6563 6961 6c20 2d20        special - 
+00027ed0: 7769 6c6c 2066 6574 6368 2074 6865 2073  will fetch the s
+00027ee0: 7461 7469 7374 6963 7320 6f66 2073 7065  tatistics of spe
+00027ef0: 6369 616c 2063 656e 7472 616c 2073 6572  cial central ser
+00027f00: 7669 6365 7320 6c69 6b65 2070 7265 7365  vices like prese
+00027f10: 6e63 650a 2020 2020 2020 2020 2020 2020  nce.            
+00027f20: 2020 2020 2020 2020 616e 616c 7974 6963          analytic
+00027f30: 7328 7061 292c 2075 6363 2c20 636c 6172  s(pa), ucc, clar
+00027f40: 6974 7920 6574 632e 0a20 2020 2020 2020  ity etc..       
+00027f50: 2020 2020 2020 2020 2062 6173 6963 202d           basic -
+00027f60: 2077 696c 6c20 6665 7463 6820 7468 6520   will fetch the 
+00027f70: 7374 6174 6973 7469 6373 206f 6620 6465  statistics of de
+00027f80: 7669 6365 206d 616e 6167 656d 656e 7420  vice management 
+00027f90: 7365 7276 6963 6520 6c69 6365 6e73 6573  service licenses
+00027fa0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00027fb0: 2020 616c 6c20 2d20 7769 6c6c 2066 6574    all - will fet
+00027fc0: 6368 2062 6f74 6820 6f66 2074 6865 7365  ch both of these
+00027fd0: 206c 6963 656e 7365 2074 7970 6573 2e0a   license types..
+00027fe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027ff0: 2041 6c73 6f20 7375 7070 6f72 7473 206d   Also supports m
+00028000: 756c 7469 2074 6965 7220 6c69 6365 6e73  ulti tier licens
+00028010: 6520 7479 7065 7320 7375 6368 2066 6f75  e types such fou
+00028020: 6e64 6174 696f 6e5f 6170 2c20 6164 7661  ndation_ap, adva
+00028030: 6e63 6564 5f73 7769 7463 685f 3633 3030  nced_switch_6300
+00028040: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00028050: 2020 666f 756e 6461 7469 6f6e 5f37 3058    foundation_70X
+00028060: 5820 6574 632e 0a0a 2020 2020 2020 2020  X etc...        
+00028070: 2020 2020 7365 7276 6963 6520 2873 7472      service (str
+00028080: 2c20 6f70 7469 6f6e 616c 293a 2053 6572  , optional): Ser
+00028090: 7669 6365 2074 7970 653a 2070 612f 7061  vice type: pa/pa
+000280a0: 2c63 6c61 7269 7479 2c66 6f75 6e64 6174  ,clarity,foundat
+000280b0: 696f 6e5f 6170 2c0a 2020 2020 2020 2020  ion_ap,.        
+000280c0: 2020 2020 2020 2020 6164 7661 6e63 6564          advanced
+000280d0: 5f73 7769 7463 685f 3633 3030 2c20 666f  _switch_6300, fo
+000280e0: 756e 6461 7469 6f6e 5f37 3058 5820 2065  undation_70XX  e
+000280f0: 7463 2e0a 2020 2020 2020 2020 2020 2020  tc..            
+00028100: 6170 705f 6f6e 6c79 5f73 7461 7473 2028  app_only_stats (
+00028110: 626f 6f6c 2c20 6f70 7469 6f6e 616c 293a  bool, optional):
+00028120: 2049 6620 7661 6c75 6520 6973 2054 7275   If value is Tru
+00028130: 652c 2073 7461 7473 206f 6e6c 7920 666f  e, stats only fo
+00028140: 7220 7468 6520 6375 7272 656e 740a 2020  r the current.  
+00028150: 2020 2020 2020 2020 2020 2020 2020 6170                ap
+00028160: 706c 6963 6174 696f 6e20 7265 7475 726e  plication return
+00028170: 6564 2072 6174 6865 7220 7468 616e 2067  ed rather than g
+00028180: 6c6f 6261 6c20 7374 6174 730a 0a20 2020  lobal stats..   
+00028190: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+000281a0: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+000281b0: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+000281c0: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+000281d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000281e0: 2020 2075 726c 203d 2022 2f70 6c61 7466     url = "/platf
+000281f0: 6f72 6d2f 6c69 6365 6e73 696e 672f 7631  orm/licensing/v1
+00028200: 2f73 7562 7363 7269 7074 696f 6e73 2f73  /subscriptions/s
+00028210: 7461 7473 220a 0a20 2020 2020 2020 2070  tats"..        p
+00028220: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+00028230: 2020 2020 2020 276c 6963 656e 7365 5f74        'license_t
+00028240: 7970 6527 3a20 6c69 6365 6e73 655f 7479  ype': license_ty
+00028250: 7065 2c0a 2020 2020 2020 2020 2020 2020  pe,.            
+00028260: 2773 6572 7669 6365 273a 2073 6572 7669  'service': servi
+00028270: 6365 2c0a 2020 2020 2020 2020 2020 2020  ce,.            
+00028280: 2761 7070 5f6f 6e6c 795f 7374 6174 7327  'app_only_stats'
+00028290: 3a20 6170 705f 6f6e 6c79 5f73 7461 7473  : app_only_stats
+000282a0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+000282b0: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+000282c0: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+000282d0: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+000282e0: 2020 2023 2041 5049 2d4e 4f54 453a 2067     # API-NOTE: g
+000282f0: 7261 6273 2041 6c6c 2076 616c 6964 206c  rabs All valid l
+00028300: 6963 656e 7365 2074 7970 6573 2c20 6469  icense types, di
+00028310: 7370 6c61 7920 6e61 6d65 732e 2e2e 0a20  splay names.... 
+00028320: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+00028330: 5f73 6572 7669 6365 735f 636f 6e66 6967  _services_config
+00028340: 280a 2020 2020 2020 2020 7365 6c66 2c0a  (.        self,.
+00028350: 2020 2020 2020 2020 7365 7276 6963 655f          service_
+00028360: 6361 7465 676f 7279 3a20 7374 7220 3d20  category: str = 
+00028370: 4e6f 6e65 2c0a 2020 2020 2020 2020 6465  None,.        de
+00028380: 7669 6365 5f74 7970 653a 2073 7472 203d  vice_type: str =
+00028390: 204e 6f6e 650a 2020 2020 2920 2d3e 2052   None.    ) -> R
+000283a0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+000283b0: 2022 2222 4765 7420 7365 7276 6963 6573   """Get services
+000283c0: 206c 6963 656e 7369 6e67 2063 6f6e 6669   licensing confi
+000283d0: 672e 0a0a 2020 2020 2020 2020 4172 6773  g...        Args
+000283e0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000283f0: 7276 6963 655f 6361 7465 676f 7279 2028  rvice_category (
+00028400: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+00028410: 5365 7276 6963 6520 6361 7465 676f 7279  Service category
+00028420: 202d 2064 6d2f 6e65 7477 6f72 6b0a 2020   - dm/network.  
+00028430: 2020 2020 2020 2020 2020 6465 7669 6365            device
+00028440: 5f74 7970 6520 2873 7472 2c20 6f70 7469  _type (str, opti
+00028450: 6f6e 616c 293a 2044 6576 6963 6520 5479  onal): Device Ty
+00028460: 7065 202d 2069 6170 2f63 6170 2f73 7769  pe - iap/cap/swi
+00028470: 7463 682f 626f 632f 636f 6e74 726f 6c6c  tch/boc/controll
+00028480: 6572 0a0a 2020 2020 2020 2020 5265 7475  er..        Retu
+00028490: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+000284a0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+000284b0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+000284c0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+000284d0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+000284e0: 222f 706c 6174 666f 726d 2f6c 6963 656e  "/platform/licen
+000284f0: 7369 6e67 2f76 312f 7365 7276 6963 6573  sing/v1/services
+00028500: 2f63 6f6e 6669 6722 0a0a 2020 2020 2020  /config"..      
+00028510: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+00028520: 2020 2020 2020 2020 2027 7365 7276 6963           'servic
+00028530: 655f 6361 7465 676f 7279 273a 2073 6572  e_category': ser
+00028540: 7669 6365 5f63 6174 6567 6f72 792c 0a20  vice_category,. 
+00028550: 2020 2020 2020 2020 2020 2027 6465 7669             'devi
+00028560: 6365 5f74 7970 6527 3a20 6465 7669 6365  ce_type': device
+00028570: 5f74 7970 650a 2020 2020 2020 2020 7d0a  _type.        }.
+00028580: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00028590: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+000285a0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+000285b0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+000285c0: 6620 6173 7369 676e 5f6c 6963 656e 7365  f assign_license
+000285d0: 7328 7365 6c66 2c20 7365 7269 616c 733a  s(self, serials:
+000285e0: 2055 6e69 6f6e 5b73 7472 2c20 4c69 7374   Union[str, List
+000285f0: 5b73 7472 5d5d 2c20 7365 7276 6963 6573  [str]], services
+00028600: 3a20 556e 696f 6e5b 7374 722c 204c 6973  : Union[str, Lis
+00028610: 745b 7374 725d 5d29 202d 3e20 5265 7370  t[str]]) -> Resp
+00028620: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+00028630: 2241 7373 6967 6e20 7375 6273 6372 6970  "Assign subscrip
+00028640: 7469 6f6e 2074 6f20 6120 6465 7669 6365  tion to a device
+00028650: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
+00028660: 6564 2069 6e64 6972 6563 746c 7920 6279  ed indirectly by
+00028670: 2061 6464 2064 6576 6963 6520 7768 656e   add device when
+00028680: 202d 2d6c 6963 656e 7365 203c 6c69 6365   --license <lice
+00028690: 6e73 653e 2069 7320 7072 6f76 6964 6564  nse> is provided
+000286a0: 2061 6e64 2062 6174 6368 2061 6464 2064   and batch add d
+000286b0: 6576 6963 6573 2077 6974 6820 6c69 6365  evices with lice
+000286c0: 6e73 6520 2f2f 0a0a 2020 2020 2020 2020  nse //..        
+000286d0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+000286e0: 2020 7365 7269 616c 7320 2873 7472 207c    serials (str |
+000286f0: 204c 6973 745b 7374 725d 293a 204c 6973   List[str]): Lis
+00028700: 7420 6f66 2073 6572 6961 6c20 6e75 6d62  t of serial numb
+00028710: 6572 206f 6620 6465 7669 6365 2e0a 2020  er of device..  
+00028720: 2020 2020 2020 2020 2020 7365 7276 6963            servic
+00028730: 6573 2028 7374 7220 7c20 4c69 7374 5b73  es (str | List[s
+00028740: 7472 5d29 3a20 4c69 7374 206f 6620 7365  tr]): List of se
+00028750: 7276 6963 6520 6e61 6d65 732e 2043 616c  rvice names. Cal
+00028760: 6c20 7365 7276 6963 6573 2f63 6f6e 6669  l services/confi
+00028770: 6720 4150 4920 746f 2067 6574 2074 6865  g API to get the
+00028780: 206c 6973 7420 6f66 0a20 2020 2020 2020   list of.       
+00028790: 2020 2020 2020 2020 2076 616c 6964 2073           valid s
+000287a0: 6572 7669 6365 206e 616d 6573 2e0a 0a20  ervice names... 
+000287b0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+000287c0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+000287d0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+000287e0: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+000287f0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00028800: 2020 2020 2075 726c 203d 2022 2f70 6c61       url = "/pla
+00028810: 7466 6f72 6d2f 6c69 6365 6e73 696e 672f  tform/licensing/
+00028820: 7631 2f73 7562 7363 7269 7074 696f 6e73  v1/subscriptions
+00028830: 2f61 7373 6967 6e22 0a20 2020 2020 2020  /assign".       
+00028840: 2073 6572 6961 6c73 203d 2075 7469 6c73   serials = utils
+00028850: 2e6c 6973 7469 6679 2873 6572 6961 6c73  .listify(serials
+00028860: 290a 2020 2020 2020 2020 7365 7276 6963  ).        servic
+00028870: 6573 203d 2075 7469 6c73 2e6c 6973 7469  es = utils.listi
+00028880: 6679 2873 6572 7669 6365 7329 0a0a 2020  fy(services)..  
+00028890: 2020 2020 2020 6a73 6f6e 5f64 6174 6120        json_data 
+000288a0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+000288b0: 2773 6572 6961 6c73 273a 2073 6572 6961  'serials': seria
+000288c0: 6c73 2c0a 2020 2020 2020 2020 2020 2020  ls,.            
+000288d0: 2773 6572 7669 6365 7327 3a20 7365 7276  'services': serv
+000288e0: 6963 6573 0a20 2020 2020 2020 207d 0a0a  ices.        }..
+000288f0: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00028900: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+00028910: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+00028920: 6f6e 5f64 6174 6129 0a0a 2020 2020 6173  on_data)..    as
+00028930: 796e 6320 6465 6620 756e 6173 7369 676e  ync def unassign
+00028940: 5f6c 6963 656e 7365 7328 7365 6c66 2c20  _licenses(self, 
+00028950: 7365 7269 616c 733a 2055 6e69 6f6e 5b73  serials: Union[s
+00028960: 7472 2c20 4c69 7374 5b73 7472 5d5d 2c20  tr, List[str]], 
+00028970: 7365 7276 6963 6573 3a20 556e 696f 6e5b  services: Union[
+00028980: 7374 722c 204c 6973 745b 7374 725d 5d29  str, List[str]])
+00028990: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+000289a0: 2020 2020 2020 2222 2255 6e61 7373 6967        """Unassig
+000289b0: 6e20 7375 6273 6372 6970 7469 6f6e 2873  n subscription(s
+000289c0: 2920 6672 6f6d 2064 6576 6963 6528 7329  ) from device(s)
+000289d0: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+000289e0: 0a20 2020 2020 2020 2020 2020 2073 6572  .            ser
+000289f0: 6961 6c73 2028 7374 7220 7c20 4c69 7374  ials (str | List
+00028a00: 5b73 7472 5d29 3a20 4c69 7374 206f 6620  [str]): List of 
+00028a10: 7365 7269 616c 206e 756d 6265 7220 6f66  serial number of
+00028a20: 2064 6576 6963 652e 0a20 2020 2020 2020   device..       
+00028a30: 2020 2020 2073 6572 7669 6365 7320 2873       services (s
+00028a40: 7472 207c 204c 6973 745b 7374 725d 293a  tr | List[str]):
+00028a50: 204c 6973 7420 6f66 2073 6572 7669 6365   List of service
+00028a60: 206e 616d 6573 2e20 4361 6c6c 2073 6572   names. Call ser
+00028a70: 7669 6365 732f 636f 6e66 6967 2041 5049  vices/config API
+00028a80: 2074 6f20 6765 7420 7468 6520 6c69 7374   to get the list
+00028a90: 206f 660a 2020 2020 2020 2020 2020 2020   of.            
+00028aa0: 2020 2020 7661 6c69 6420 7365 7276 6963      valid servic
+00028ab0: 6520 6e61 6d65 732e 0a0a 2020 2020 2020  e names...      
+00028ac0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+00028ad0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+00028ae0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00028af0: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00028b00: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00028b10: 7572 6c20 3d20 222f 706c 6174 666f 726d  url = "/platform
+00028b20: 2f6c 6963 656e 7369 6e67 2f76 312f 7375  /licensing/v1/su
+00028b30: 6273 6372 6970 7469 6f6e 732f 756e 6173  bscriptions/unas
+00028b40: 7369 676e 220a 2020 2020 2020 2020 7365  sign".        se
+00028b50: 7269 616c 7320 3d20 7574 696c 732e 6c69  rials = utils.li
+00028b60: 7374 6966 7928 7365 7269 616c 7329 0a20  stify(serials). 
+00028b70: 2020 2020 2020 2073 6572 7669 6365 7320         services 
+00028b80: 3d20 7574 696c 732e 6c69 7374 6966 7928  = utils.listify(
+00028b90: 7365 7276 6963 6573 290a 0a20 2020 2020  services)..     
+00028ba0: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
+00028bb0: 0a20 2020 2020 2020 2020 2020 2027 7365  .            'se
+00028bc0: 7269 616c 7327 3a20 7365 7269 616c 732c  rials': serials,
+00028bd0: 0a20 2020 2020 2020 2020 2020 2027 7365  .            'se
+00028be0: 7276 6963 6573 273a 2073 6572 7669 6365  rvices': service
+00028bf0: 730a 2020 2020 2020 2020 7d0a 0a20 2020  s.        }..   
+00028c00: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+00028c10: 7420 7365 6c66 2e70 6f73 7428 7572 6c2c  t self.post(url,
+00028c20: 206a 736f 6e5f 6461 7461 3d6a 736f 6e5f   json_data=json_
+00028c30: 6461 7461 290a 0a20 2020 2023 2054 4f44  data)..    # TOD
+00028c40: 4f20 6275 696c 6420 6167 6772 6567 6174  O build aggregat
+00028c50: 6f72 2074 6f20 7275 6e20 7265 706f 7274  or to run report
+00028c60: 2073 686f 7769 6e67 2072 6f67 7565 732f   showing rogues/
+00028c70: 696e 7465 7266 6572 696e 672f 6e65 6967  interfering/neig
+00028c80: 6862 6f72 730a 2020 2020 2320 6173 796e  hbors.    # asyn
+00028c90: 6320 6465 6620 7769 6473 5f67 6574 5f61  c def wids_get_a
+00028ca0: 6c6c 2873 656c 6629 3a0a 0a20 2020 2061  ll(self):..    a
+00028cb0: 7379 6e63 2064 6566 2077 6964 735f 6765  sync def wids_ge
+00028cc0: 745f 726f 6775 655f 6170 7328 0a20 2020  t_rogue_aps(.   
+00028cd0: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+00028ce0: 2020 2067 726f 7570 3a20 4c69 7374 5b73     group: List[s
+00028cf0: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
+00028d00: 2020 2020 6c61 6265 6c3a 204c 6973 745b      label: List[
+00028d10: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
+00028d20: 2020 2020 2073 6974 653a 204c 6973 745b       site: List[
+00028d30: 7374 725d 203d 204e 6f6e 652c 0a20 2020  str] = None,.   
+00028d40: 2020 2020 2073 7461 7274 3a20 696e 7420       start: int 
+00028d50: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00028d60: 656e 643a 2069 6e74 203d 204e 6f6e 652c  end: int = None,
+00028d70: 0a20 2020 2020 2020 2073 7761 726d 5f69  .        swarm_i
+00028d80: 643a 2073 7472 203d 204e 6f6e 652c 0a20  d: str = None,. 
+00028d90: 2020 2020 2020 2066 726f 6d5f 7469 6d65         from_time
+00028da0: 7374 616d 703a 2069 6e74 203d 204e 6f6e  stamp: int = Non
+00028db0: 652c 0a20 2020 2020 2020 2074 6f5f 7469  e,.        to_ti
+00028dc0: 6d65 7374 616d 703a 2069 6e74 203d 204e  mestamp: int = N
+00028dd0: 6f6e 652c 0a20 2020 2020 2020 206f 6666  one,.        off
+00028de0: 7365 743a 2069 6e74 203d 2030 2c0a 2020  set: int = 0,.  
+00028df0: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00028e00: 203d 2031 3030 0a20 2020 2029 202d 3e20   = 100.    ) -> 
+00028e10: 5265 7370 6f6e 7365 3a0a 2020 2020 2020  Response:.      
+00028e20: 2020 2222 224c 6973 7420 526f 6775 6520    """List Rogue 
+00028e30: 4150 732e 0a0a 2020 2020 2020 2020 4172  APs...        Ar
+00028e40: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00028e50: 6772 6f75 7020 284c 6973 745b 7374 725d  group (List[str]
+00028e60: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
+00028e70: 7420 6f66 2067 726f 7570 206e 616d 6573  t of group names
+00028e80: 0a20 2020 2020 2020 2020 2020 206c 6162  .            lab
+00028e90: 656c 2028 4c69 7374 5b73 7472 5d2c 206f  el (List[str], o
+00028ea0: 7074 696f 6e61 6c29 3a20 4c69 7374 206f  ptional): List o
+00028eb0: 6620 6c61 6265 6c20 6e61 6d65 730a 2020  f label names.  
+00028ec0: 2020 2020 2020 2020 2020 7369 7465 2028            site (
+00028ed0: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
+00028ee0: 6e61 6c29 3a20 4c69 7374 206f 6620 7369  nal): List of si
+00028ef0: 7465 206e 616d 6573 0a20 2020 2020 2020  te names.       
+00028f00: 2020 2020 2073 7461 7274 2028 696e 742c       start (int,
+00028f10: 206f 7074 696f 6e61 6c29 3a20 4e65 6564   optional): Need
+00028f20: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
+00028f30: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
+00028f40: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+00028f50: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
+00028f60: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
+00028f70: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
+00028f80: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
+00028f90: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
+00028fa0: 0a20 2020 2020 2020 2020 2020 2065 6e64  .            end
+00028fb0: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+00028fc0: 3a20 4e65 6564 2069 6e66 6f72 6d61 7469  : Need informati
+00028fd0: 6f6e 2074 6f20 7468 6973 2074 696d 6573  on to this times
+00028fe0: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
+00028ff0: 6973 2065 706f 6368 2069 6e0a 2020 2020  is epoch in.    
+00029000: 2020 2020 2020 2020 2020 2020 6d69 6c6c              mill
+00029010: 6973 6563 6f6e 6473 2e20 4465 6661 756c  iseconds. Defaul
+00029020: 7420 6973 2063 7572 7265 6e74 2074 696d  t is current tim
+00029030: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
+00029040: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
+00029050: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+00029060: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
+00029070: 2020 2020 2020 2020 2020 2020 6672 6f6d              from
+00029080: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
+00029090: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
+000290a0: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
+000290b0: 6365 6465 7320 7374 6172 7420 7061 7261  cedes start para
+000290c0: 6d65 7465 722e 204e 6565 640a 2020 2020  meter. Need.    
+000290d0: 2020 2020 2020 2020 2020 2020 696e 666f              info
+000290e0: 726d 6174 696f 6e20 6672 6f6d 2074 6869  rmation from thi
+000290f0: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+00029100: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+00029110: 696e 2073 6563 6f6e 6473 2e20 4465 6661  in seconds. Defa
+00029120: 756c 7420 6973 2063 7572 7265 6e74 0a20  ult is current. 
+00029130: 2020 2020 2020 2020 2020 2020 2020 2055                 U
+00029140: 5443 2074 696d 6573 7461 6d70 206d 696e  TC timestamp min
+00029150: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
+00029160: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
+00029170: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
+00029180: 616c 293a 2054 6869 7320 7061 7261 6d65  al): This parame
+00029190: 7465 7220 7375 7065 7263 6564 6573 2065  ter supercedes e
+000291a0: 6e64 2070 6172 616d 6574 6572 2e20 4e65  nd parameter. Ne
+000291b0: 6564 2069 6e66 6f72 6d61 7469 6f6e 0a20  ed information. 
+000291c0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+000291d0: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
+000291e0: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+000291f0: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
+00029200: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+00029210: 656e 7420 5554 4320 7469 6d65 7374 616d  ent UTC timestam
+00029220: 700a 2020 2020 2020 2020 2020 2020 6f66  p.            of
+00029230: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+00029240: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+00029250: 206f 6666 7365 7420 2864 6566 6175 6c74   offset (default
+00029260: 203d 2030 2920 4465 6661 756c 7473 2074   = 0) Defaults t
+00029270: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+00029280: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+00029290: 696f 6e61 6c29 3a20 7061 6769 6e61 7469  ional): paginati
+000292a0: 6f6e 2073 697a 6520 2864 6566 6175 6c74  on size (default
+000292b0: 203d 2031 3030 2920 4465 6661 756c 7473   = 100) Defaults
+000292c0: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
+000292d0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+000292e0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+000292f0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+00029300: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+00029310: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00029320: 7572 6c20 3d20 222f 7261 7069 6473 2f76  url = "/rapids/v
+00029330: 312f 726f 6775 655f 6170 7322 0a0a 2020  1/rogue_aps"..  
+00029340: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+00029350: 0a20 2020 2020 2020 2020 2020 2027 6772  .            'gr
+00029360: 6f75 7027 3a20 6772 6f75 702c 0a20 2020  oup': group,.   
+00029370: 2020 2020 2020 2020 2027 6c61 6265 6c27           'label'
+00029380: 3a20 6c61 6265 6c2c 0a20 2020 2020 2020  : label,.       
+00029390: 2020 2020 2027 7369 7465 273a 2073 6974       'site': sit
+000293a0: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+000293b0: 7374 6172 7427 3a20 7374 6172 742c 0a20  start': start,. 
+000293c0: 2020 2020 2020 2020 2020 2027 656e 6427             'end'
+000293d0: 3a20 656e 642c 0a20 2020 2020 2020 2020  : end,.         
+000293e0: 2020 2027 7377 6172 6d5f 6964 273a 2073     'swarm_id': s
+000293f0: 7761 726d 5f69 642c 0a20 2020 2020 2020  warm_id,.       
+00029400: 2020 2020 2027 6672 6f6d 5f74 696d 6573       'from_times
+00029410: 7461 6d70 273a 2066 726f 6d5f 7469 6d65  tamp': from_time
+00029420: 7374 616d 702c 0a20 2020 2020 2020 2020  stamp,.         
+00029430: 2020 2027 746f 5f74 696d 6573 7461 6d70     'to_timestamp
+00029440: 273a 2074 6f5f 7469 6d65 7374 616d 702c  ': to_timestamp,
+00029450: 0a20 2020 2020 2020 2020 2020 2027 6f66  .            'of
+00029460: 6673 6574 273a 206f 6666 7365 742c 0a20  fset': offset,. 
+00029470: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
+00029480: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
+00029490: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+000294a0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+000294b0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+000294c0: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+000294d0: 6320 6465 6620 7769 6473 5f67 6574 5f69  c def wids_get_i
+000294e0: 6e74 6572 6665 7269 6e67 5f61 7073 280a  nterfering_aps(.
+000294f0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+00029500: 2020 2020 2020 6772 6f75 703a 204c 6973        group: Lis
+00029510: 745b 7374 725d 203d 204e 6f6e 652c 0a20  t[str] = None,. 
+00029520: 2020 2020 2020 206c 6162 656c 3a20 4c69         label: Li
+00029530: 7374 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  st[str] = None,.
+00029540: 2020 2020 2020 2020 7369 7465 3a20 4c69          site: Li
+00029550: 7374 5b73 7472 5d20 3d20 4e6f 6e65 2c0a  st[str] = None,.
+00029560: 2020 2020 2020 2020 7374 6172 743a 2069          start: i
+00029570: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+00029580: 2020 2065 6e64 3a20 696e 7420 3d20 4e6f     end: int = No
+00029590: 6e65 2c0a 2020 2020 2020 2020 7377 6172  ne,.        swar
+000295a0: 6d5f 6964 3a20 7374 7220 3d20 4e6f 6e65  m_id: str = None
+000295b0: 2c0a 2020 2020 2020 2020 6672 6f6d 5f74  ,.        from_t
+000295c0: 696d 6573 7461 6d70 3a20 696e 7420 3d20  imestamp: int = 
+000295d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 746f  None,.        to
+000295e0: 5f74 696d 6573 7461 6d70 3a20 696e 7420  _timestamp: int 
+000295f0: 3d20 4e6f 6e65 2c0a 2020 2020 2020 2020  = None,.        
+00029600: 6f66 6673 6574 3a20 696e 7420 3d20 302c  offset: int = 0,
+00029610: 0a20 2020 2020 2020 206c 696d 6974 3a20  .        limit: 
+00029620: 696e 7420 3d20 3130 300a 2020 2020 2920  int = 100.    ) 
+00029630: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00029640: 2020 2020 2022 2222 4c69 7374 2049 6e74       """List Int
+00029650: 6572 6665 7269 6e67 2041 5073 2e0a 0a20  erfering APs... 
+00029660: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+00029670: 2020 2020 2020 2020 2067 726f 7570 2028           group (
+00029680: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
+00029690: 6e61 6c29 3a20 4c69 7374 206f 6620 6772  nal): List of gr
+000296a0: 6f75 7020 6e61 6d65 730a 2020 2020 2020  oup names.      
+000296b0: 2020 2020 2020 6c61 6265 6c20 284c 6973        label (Lis
+000296c0: 745b 7374 725d 2c20 6f70 7469 6f6e 616c  t[str], optional
+000296d0: 293a 204c 6973 7420 6f66 206c 6162 656c  ): List of label
+000296e0: 206e 616d 6573 0a20 2020 2020 2020 2020   names.         
+000296f0: 2020 2073 6974 6520 284c 6973 745b 7374     site (List[st
+00029700: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
+00029710: 6973 7420 6f66 2073 6974 6520 6e61 6d65  ist of site name
+00029720: 730a 2020 2020 2020 2020 2020 2020 7374  s.            st
+00029730: 6172 7420 2869 6e74 2c20 6f70 7469 6f6e  art (int, option
+00029740: 616c 293a 204e 6565 6420 696e 666f 726d  al): Need inform
+00029750: 6174 696f 6e20 6672 6f6d 2074 6869 7320  ation from this 
+00029760: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
+00029770: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
+00029780: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029790: 206d 696c 6c69 7365 636f 6e64 732e 2044   milliseconds. D
+000297a0: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
+000297b0: 7420 7469 6d65 7374 616d 7020 6d69 6e75  t timestamp minu
+000297c0: 7320 3320 686f 7572 730a 2020 2020 2020  s 3 hours.      
+000297d0: 2020 2020 2020 656e 6420 2869 6e74 2c20        end (int, 
+000297e0: 6f70 7469 6f6e 616c 293a 204e 6565 6420  optional): Need 
+000297f0: 696e 666f 726d 6174 696f 6e20 746f 2074  information to t
+00029800: 6869 7320 7469 6d65 7374 616d 702e 2054  his timestamp. T
+00029810: 696d 6573 7461 6d70 2069 7320 6570 6f63  imestamp is epoc
+00029820: 6820 696e 0a20 2020 2020 2020 2020 2020  h in.           
+00029830: 2020 2020 206d 696c 6c69 7365 636f 6e64       millisecond
+00029840: 732e 2044 6566 6175 6c74 2069 7320 6375  s. Default is cu
+00029850: 7272 656e 7420 7469 6d65 7374 616d 700a  rrent timestamp.
+00029860: 2020 2020 2020 2020 2020 2020 7377 6172              swar
+00029870: 6d5f 6964 2028 7374 722c 206f 7074 696f  m_id (str, optio
+00029880: 6e61 6c29 3a20 4669 6c74 6572 2062 7920  nal): Filter by 
+00029890: 5377 6172 6d20 4944 0a20 2020 2020 2020  Swarm ID.       
+000298a0: 2020 2020 2066 726f 6d5f 7469 6d65 7374       from_timest
+000298b0: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
+000298c0: 616c 293a 2054 6869 7320 7061 7261 6d65  al): This parame
+000298d0: 7465 7220 7375 7065 7263 6564 6573 2073  ter supercedes s
+000298e0: 7461 7274 2070 6172 616d 6574 6572 2e20  tart parameter. 
+000298f0: 4e65 6564 0a20 2020 2020 2020 2020 2020  Need.           
+00029900: 2020 2020 2069 6e66 6f72 6d61 7469 6f6e       information
+00029910: 2066 726f 6d20 7468 6973 2074 696d 6573   from this times
+00029920: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
+00029930: 6973 2065 706f 6368 2069 6e20 7365 636f  is epoch in seco
+00029940: 6e64 732e 2044 6566 6175 6c74 2069 7320  nds. Default is 
+00029950: 6375 7272 656e 740a 2020 2020 2020 2020  current.        
+00029960: 2020 2020 2020 2020 5554 4320 7469 6d65          UTC time
+00029970: 7374 616d 7020 6d69 6e75 7320 3320 686f  stamp minus 3 ho
+00029980: 7572 730a 2020 2020 2020 2020 2020 2020  urs.            
+00029990: 746f 5f74 696d 6573 7461 6d70 2028 696e  to_timestamp (in
+000299a0: 742c 206f 7074 696f 6e61 6c29 3a20 5468  t, optional): Th
+000299b0: 6973 2070 6172 616d 6574 6572 2073 7570  is parameter sup
+000299c0: 6572 6365 6465 7320 656e 6420 7061 7261  ercedes end para
+000299d0: 6d65 7465 722e 204e 6565 6420 696e 666f  meter. Need info
+000299e0: 726d 6174 696f 6e0a 2020 2020 2020 2020  rmation.        
+000299f0: 2020 2020 2020 2020 746f 2074 6869 7320          to this 
+00029a00: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
+00029a10: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
+00029a20: 2073 6563 6f6e 6473 2e20 4465 6661 756c   seconds. Defaul
+00029a30: 7420 6973 2063 7572 7265 6e74 2055 5443  t is current UTC
+00029a40: 2074 696d 6573 7461 6d70 0a20 2020 2020   timestamp.     
+00029a50: 2020 2020 2020 206f 6666 7365 7420 2869         offset (i
+00029a60: 6e74 2c20 6f70 7469 6f6e 616c 293a 2050  nt, optional): P
+00029a70: 6167 696e 6174 696f 6e20 6f66 6673 6574  agination offset
+00029a80: 2028 6465 6661 756c 7420 3d20 3029 2044   (default = 0) D
+00029a90: 6566 6175 6c74 7320 746f 2030 2e0a 2020  efaults to 0..  
+00029aa0: 2020 2020 2020 2020 2020 6c69 6d69 7420            limit 
+00029ab0: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+00029ac0: 2070 6167 696e 6174 696f 6e20 7369 7a65   pagination size
+00029ad0: 2028 6465 6661 756c 7420 3d20 3130 3029   (default = 100)
+00029ae0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
+00029af0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00029b00: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00029b10: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00029b20: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00029b30: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00029b40: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00029b50: 2f72 6170 6964 732f 7631 2f69 6e74 6572  /rapids/v1/inter
+00029b60: 6665 7269 6e67 5f61 7073 220a 0a20 2020  fering_aps"..   
+00029b70: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+00029b80: 2020 2020 2020 2020 2020 2020 2767 726f              'gro
+00029b90: 7570 273a 2067 726f 7570 2c0a 2020 2020  up': group,.    
+00029ba0: 2020 2020 2020 2020 276c 6162 656c 273a          'label':
+00029bb0: 206c 6162 656c 2c0a 2020 2020 2020 2020   label,.        
+00029bc0: 2020 2020 2773 6974 6527 3a20 7369 7465      'site': site
+00029bd0: 2c0a 2020 2020 2020 2020 2020 2020 2773  ,.            's
+00029be0: 7461 7274 273a 2073 7461 7274 2c0a 2020  tart': start,.  
+00029bf0: 2020 2020 2020 2020 2020 2765 6e64 273a            'end':
+00029c00: 2065 6e64 2c0a 2020 2020 2020 2020 2020   end,.          
+00029c10: 2020 2773 7761 726d 5f69 6427 3a20 7377    'swarm_id': sw
+00029c20: 6172 6d5f 6964 2c0a 2020 2020 2020 2020  arm_id,.        
+00029c30: 2020 2020 2766 726f 6d5f 7469 6d65 7374      'from_timest
+00029c40: 616d 7027 3a20 6672 6f6d 5f74 696d 6573  amp': from_times
+00029c50: 7461 6d70 2c0a 2020 2020 2020 2020 2020  tamp,.          
+00029c60: 2020 2774 6f5f 7469 6d65 7374 616d 7027    'to_timestamp'
+00029c70: 3a20 746f 5f74 696d 6573 7461 6d70 2c0a  : to_timestamp,.
+00029c80: 2020 2020 2020 2020 2020 2020 276f 6666              'off
+00029c90: 7365 7427 3a20 6f66 6673 6574 2c0a 2020  set': offset,.  
+00029ca0: 2020 2020 2020 2020 2020 276c 696d 6974            'limit
+00029cb0: 273a 206c 696d 6974 0a20 2020 2020 2020  ': limit.       
+00029cc0: 207d 0a0a 2020 2020 2020 2020 7265 7475   }..        retu
+00029cd0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+00029ce0: 7428 7572 6c2c 2070 6172 616d 733d 7061  t(url, params=pa
+00029cf0: 7261 6d73 290a 0a20 2020 2061 7379 6e63  rams)..    async
+00029d00: 2064 6566 2077 6964 735f 6765 745f 7375   def wids_get_su
+00029d10: 7370 6563 745f 6170 7328 0a20 2020 2020  spect_aps(.     
+00029d20: 2020 2073 656c 662c 0a20 2020 2020 2020     self,.       
+00029d30: 2067 726f 7570 3a20 4c69 7374 5b73 7472   group: List[str
+00029d40: 5d20 3d20 4e6f 6e65 2c0a 2020 2020 2020  ] = None,.      
+00029d50: 2020 6c61 6265 6c3a 204c 6973 745b 7374    label: List[st
+00029d60: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
+00029d70: 2020 2073 6974 653a 204c 6973 745b 7374     site: List[st
+00029d80: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
+00029d90: 2020 2073 7461 7274 3a20 696e 7420 3d20     start: int = 
+00029da0: 4e6f 6e65 2c0a 2020 2020 2020 2020 656e  None,.        en
+00029db0: 643a 2069 6e74 203d 204e 6f6e 652c 0a20  d: int = None,. 
+00029dc0: 2020 2020 2020 2073 7761 726d 5f69 643a         swarm_id:
+00029dd0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+00029de0: 2020 2020 2066 726f 6d5f 7469 6d65 7374       from_timest
+00029df0: 616d 703a 2069 6e74 203d 204e 6f6e 652c  amp: int = None,
+00029e00: 0a20 2020 2020 2020 2074 6f5f 7469 6d65  .        to_time
+00029e10: 7374 616d 703a 2069 6e74 203d 204e 6f6e  stamp: int = Non
+00029e20: 652c 0a20 2020 2020 2020 206f 6666 7365  e,.        offse
+00029e30: 743a 2069 6e74 203d 2030 2c0a 2020 2020  t: int = 0,.    
+00029e40: 2020 2020 6c69 6d69 743a 2069 6e74 203d      limit: int =
+00029e50: 2031 3030 0a20 2020 2029 202d 3e20 5265   100.    ) -> Re
+00029e60: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00029e70: 2222 224c 6973 7420 7375 7370 6563 7420  """List suspect 
+00029e80: 4150 732e 0a0a 2020 2020 2020 2020 4172  APs...        Ar
+00029e90: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+00029ea0: 6772 6f75 7020 284c 6973 745b 7374 725d  group (List[str]
+00029eb0: 2c20 6f70 7469 6f6e 616c 293a 204c 6973  , optional): Lis
+00029ec0: 7420 6f66 2067 726f 7570 206e 616d 6573  t of group names
+00029ed0: 0a20 2020 2020 2020 2020 2020 206c 6162  .            lab
+00029ee0: 656c 2028 4c69 7374 5b73 7472 5d2c 206f  el (List[str], o
+00029ef0: 7074 696f 6e61 6c29 3a20 4c69 7374 206f  ptional): List o
+00029f00: 6620 6c61 6265 6c20 6e61 6d65 730a 2020  f label names.  
+00029f10: 2020 2020 2020 2020 2020 7369 7465 2028            site (
+00029f20: 4c69 7374 5b73 7472 5d2c 206f 7074 696f  List[str], optio
+00029f30: 6e61 6c29 3a20 4c69 7374 206f 6620 7369  nal): List of si
+00029f40: 7465 206e 616d 6573 0a20 2020 2020 2020  te names.       
+00029f50: 2020 2020 2073 7461 7274 2028 696e 742c       start (int,
+00029f60: 206f 7074 696f 6e61 6c29 3a20 4e65 6564   optional): Need
+00029f70: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
+00029f80: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
+00029f90: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+00029fa0: 706f 6368 2069 6e0a 2020 2020 2020 2020  poch in.        
+00029fb0: 2020 2020 2020 2020 6d69 6c6c 6973 6563          millisec
+00029fc0: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
+00029fd0: 2063 7572 7265 6e74 2074 696d 6573 7461   current timesta
+00029fe0: 6d70 206d 696e 7573 2033 2068 6f75 7273  mp minus 3 hours
+00029ff0: 0a20 2020 2020 2020 2020 2020 2065 6e64  .            end
+0002a000: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002a010: 3a20 4e65 6564 2069 6e66 6f72 6d61 7469  : Need informati
+0002a020: 6f6e 2074 6f20 7468 6973 2074 696d 6573  on to this times
+0002a030: 7461 6d70 2e20 5469 6d65 7374 616d 7020  tamp. Timestamp 
+0002a040: 6973 2065 706f 6368 2069 6e0a 2020 2020  is epoch in.    
+0002a050: 2020 2020 2020 2020 2020 2020 6d69 6c6c              mill
+0002a060: 6973 6563 6f6e 6473 2e20 4465 6661 756c  iseconds. Defaul
+0002a070: 7420 6973 2063 7572 7265 6e74 2074 696d  t is current tim
+0002a080: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
+0002a090: 2020 2073 7761 726d 5f69 6420 2873 7472     swarm_id (str
+0002a0a0: 2c20 6f70 7469 6f6e 616c 293a 2046 696c  , optional): Fil
+0002a0b0: 7465 7220 6279 2053 7761 726d 2049 440a  ter by Swarm ID.
+0002a0c0: 2020 2020 2020 2020 2020 2020 6672 6f6d              from
+0002a0d0: 5f74 696d 6573 7461 6d70 2028 696e 742c  _timestamp (int,
+0002a0e0: 206f 7074 696f 6e61 6c29 3a20 5468 6973   optional): This
+0002a0f0: 2070 6172 616d 6574 6572 2073 7570 6572   parameter super
+0002a100: 6365 6465 7320 7374 6172 7420 7061 7261  cedes start para
+0002a110: 6d65 7465 722e 204e 6565 640a 2020 2020  meter. Need.    
+0002a120: 2020 2020 2020 2020 2020 2020 696e 666f              info
+0002a130: 726d 6174 696f 6e20 6672 6f6d 2074 6869  rmation from thi
+0002a140: 7320 7469 6d65 7374 616d 702e 2054 696d  s timestamp. Tim
+0002a150: 6573 7461 6d70 2069 7320 6570 6f63 6820  estamp is epoch 
+0002a160: 696e 2073 6563 6f6e 6473 2e20 4465 6661  in seconds. Defa
+0002a170: 756c 7420 6973 2063 7572 7265 6e74 0a20  ult is current. 
+0002a180: 2020 2020 2020 2020 2020 2020 2020 2055                 U
+0002a190: 5443 2074 696d 6573 7461 6d70 206d 696e  TC timestamp min
+0002a1a0: 7573 2033 2068 6f75 7273 0a20 2020 2020  us 3 hours.     
+0002a1b0: 2020 2020 2020 2074 6f5f 7469 6d65 7374         to_timest
+0002a1c0: 616d 7020 2869 6e74 2c20 6f70 7469 6f6e  amp (int, option
+0002a1d0: 616c 293a 2054 6869 7320 7061 7261 6d65  al): This parame
+0002a1e0: 7465 7220 7375 7065 7263 6564 6573 2065  ter supercedes e
+0002a1f0: 6e64 2070 6172 616d 6574 6572 2e20 4e65  nd parameter. Ne
+0002a200: 6564 2069 6e66 6f72 6d61 7469 6f6e 0a20  ed information. 
+0002a210: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0002a220: 6f20 7468 6973 2074 696d 6573 7461 6d70  o this timestamp
+0002a230: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+0002a240: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
+0002a250: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+0002a260: 656e 7420 5554 4320 7469 6d65 7374 616d  ent UTC timestam
+0002a270: 700a 2020 2020 2020 2020 2020 2020 6f66  p.            of
+0002a280: 6673 6574 2028 696e 742c 206f 7074 696f  fset (int, optio
+0002a290: 6e61 6c29 3a20 5061 6769 6e61 7469 6f6e  nal): Pagination
+0002a2a0: 206f 6666 7365 7420 2864 6566 6175 6c74   offset (default
+0002a2b0: 203d 2030 2920 4465 6661 756c 7473 2074   = 0) Defaults t
+0002a2c0: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+0002a2d0: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+0002a2e0: 696f 6e61 6c29 3a20 7061 6769 6e61 7469  ional): paginati
+0002a2f0: 6f6e 2073 697a 6520 2864 6566 6175 6c74  on size (default
+0002a300: 203d 2031 3030 2920 4465 6661 756c 7473   = 100) Defaults
+0002a310: 2074 6f20 3130 302e 0a0a 2020 2020 2020   to 100...      
+0002a320: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0002a330: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0002a340: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0002a350: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0002a360: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0002a370: 7572 6c20 3d20 222f 7261 7069 6473 2f76  url = "/rapids/v
+0002a380: 312f 7375 7370 6563 745f 6170 7322 0a0a  1/suspect_aps"..
+0002a390: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+0002a3a0: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+0002a3b0: 6772 6f75 7027 3a20 6772 6f75 702c 0a20  group': group,. 
+0002a3c0: 2020 2020 2020 2020 2020 2027 6c61 6265             'labe
+0002a3d0: 6c27 3a20 6c61 6265 6c2c 0a20 2020 2020  l': label,.     
+0002a3e0: 2020 2020 2020 2027 7369 7465 273a 2073         'site': s
+0002a3f0: 6974 652c 0a20 2020 2020 2020 2020 2020  ite,.           
+0002a400: 2027 7374 6172 7427 3a20 7374 6172 742c   'start': start,
+0002a410: 0a20 2020 2020 2020 2020 2020 2027 656e  .            'en
+0002a420: 6427 3a20 656e 642c 0a20 2020 2020 2020  d': end,.       
+0002a430: 2020 2020 2027 7377 6172 6d5f 6964 273a       'swarm_id':
+0002a440: 2073 7761 726d 5f69 642c 0a20 2020 2020   swarm_id,.     
+0002a450: 2020 2020 2020 2027 6672 6f6d 5f74 696d         'from_tim
+0002a460: 6573 7461 6d70 273a 2066 726f 6d5f 7469  estamp': from_ti
+0002a470: 6d65 7374 616d 702c 0a20 2020 2020 2020  mestamp,.       
+0002a480: 2020 2020 2027 746f 5f74 696d 6573 7461       'to_timesta
+0002a490: 6d70 273a 2074 6f5f 7469 6d65 7374 616d  mp': to_timestam
+0002a4a0: 702c 0a20 2020 2020 2020 2020 2020 2027  p,.            '
+0002a4b0: 6f66 6673 6574 273a 206f 6666 7365 742c  offset': offset,
+0002a4c0: 0a20 2020 2020 2020 2020 2020 2027 6c69  .            'li
+0002a4d0: 6d69 7427 3a20 6c69 6d69 740a 2020 2020  mit': limit.    
+0002a4e0: 2020 2020 7d0a 0a20 2020 2020 2020 2072      }..        r
+0002a4f0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0002a500: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+0002a510: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+0002a520: 796e 6320 6465 6620 7769 6473 5f67 6574  ync def wids_get
+0002a530: 5f6e 6569 6768 626f 725f 6170 7328 0a20  _neighbor_aps(. 
+0002a540: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0002a550: 2020 2020 2067 726f 7570 3a20 4c69 7374       group: List
+0002a560: 5b73 7472 5d20 3d20 4e6f 6e65 2c0a 2020  [str] = None,.  
+0002a570: 2020 2020 2020 6c61 6265 6c3a 204c 6973        label: Lis
+0002a580: 745b 7374 725d 203d 204e 6f6e 652c 0a20  t[str] = None,. 
+0002a590: 2020 2020 2020 2073 6974 653a 204c 6973         site: Lis
+0002a5a0: 745b 7374 725d 203d 204e 6f6e 652c 0a20  t[str] = None,. 
+0002a5b0: 2020 2020 2020 2073 7461 7274 3a20 696e         start: in
+0002a5c0: 7420 3d20 4e6f 6e65 2c0a 2020 2020 2020  t = None,.      
+0002a5d0: 2020 656e 643a 2069 6e74 203d 204e 6f6e    end: int = Non
+0002a5e0: 652c 0a20 2020 2020 2020 2073 7761 726d  e,.        swarm
+0002a5f0: 5f69 643a 2073 7472 203d 204e 6f6e 652c  _id: str = None,
+0002a600: 0a20 2020 2020 2020 2066 726f 6d5f 7469  .        from_ti
+0002a610: 6d65 7374 616d 703a 2069 6e74 203d 204e  mestamp: int = N
+0002a620: 6f6e 652c 0a20 2020 2020 2020 2074 6f5f  one,.        to_
+0002a630: 7469 6d65 7374 616d 703a 2069 6e74 203d  timestamp: int =
+0002a640: 204e 6f6e 652c 0a20 2020 2020 2020 206f   None,.        o
+0002a650: 6666 7365 743a 2069 6e74 203d 2030 2c0a  ffset: int = 0,.
+0002a660: 2020 2020 2020 2020 6c69 6d69 743a 2069          limit: i
+0002a670: 6e74 203d 2031 3030 0a20 2020 2029 202d  nt = 100.    ) -
+0002a680: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0002a690: 2020 2020 2222 224c 6973 7420 6e65 6967      """List neig
+0002a6a0: 6862 6f72 2041 5073 2e0a 0a20 2020 2020  hbor APs...     
+0002a6b0: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+0002a6c0: 2020 2020 2067 726f 7570 2028 4c69 7374       group (List
+0002a6d0: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
+0002a6e0: 3a20 4c69 7374 206f 6620 6772 6f75 7020  : List of group 
+0002a6f0: 6e61 6d65 730a 2020 2020 2020 2020 2020  names.          
+0002a700: 2020 6c61 6265 6c20 284c 6973 745b 7374    label (List[st
+0002a710: 725d 2c20 6f70 7469 6f6e 616c 293a 204c  r], optional): L
+0002a720: 6973 7420 6f66 206c 6162 656c 206e 616d  ist of label nam
+0002a730: 6573 0a20 2020 2020 2020 2020 2020 2073  es.            s
+0002a740: 6974 6520 284c 6973 745b 7374 725d 2c20  ite (List[str], 
+0002a750: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
+0002a760: 6f66 2073 6974 6520 6e61 6d65 730a 2020  of site names.  
+0002a770: 2020 2020 2020 2020 2020 7374 6172 7420            start 
+0002a780: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002a790: 204e 6565 6420 696e 666f 726d 6174 696f   Need informatio
+0002a7a0: 6e20 6672 6f6d 2074 6869 7320 7469 6d65  n from this time
+0002a7b0: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
+0002a7c0: 2069 7320 6570 6f63 6820 696e 0a20 2020   is epoch in.   
+0002a7d0: 2020 2020 2020 2020 2020 2020 206d 696c               mil
+0002a7e0: 6c69 7365 636f 6e64 732e 2044 6566 6175  liseconds. Defau
+0002a7f0: 6c74 2069 7320 6375 7272 656e 7420 7469  lt is current ti
+0002a800: 6d65 7374 616d 7020 6d69 6e75 7320 3320  mestamp minus 3 
+0002a810: 686f 7572 730a 2020 2020 2020 2020 2020  hours.          
+0002a820: 2020 656e 6420 2869 6e74 2c20 6f70 7469    end (int, opti
+0002a830: 6f6e 616c 293a 204e 6565 6420 696e 666f  onal): Need info
+0002a840: 726d 6174 696f 6e20 746f 2074 6869 7320  rmation to this 
+0002a850: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
+0002a860: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
+0002a870: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002a880: 206d 696c 6c69 7365 636f 6e64 732e 2044   milliseconds. D
+0002a890: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
+0002a8a0: 7420 7469 6d65 7374 616d 700a 2020 2020  t timestamp.    
+0002a8b0: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
+0002a8c0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0002a8d0: 3a20 4669 6c74 6572 2062 7920 5377 6172  : Filter by Swar
+0002a8e0: 6d20 4944 0a20 2020 2020 2020 2020 2020  m ID.           
+0002a8f0: 2066 726f 6d5f 7469 6d65 7374 616d 7020   from_timestamp 
+0002a900: 2869 6e74 2c20 6f70 7469 6f6e 616c 293a  (int, optional):
+0002a910: 2054 6869 7320 7061 7261 6d65 7465 7220   This parameter 
+0002a920: 7375 7065 7263 6564 6573 2073 7461 7274  supercedes start
+0002a930: 2070 6172 616d 6574 6572 2e20 4e65 6564   parameter. Need
+0002a940: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002a950: 2069 6e66 6f72 6d61 7469 6f6e 2066 726f   information fro
+0002a960: 6d20 7468 6973 2074 696d 6573 7461 6d70  m this timestamp
+0002a970: 2e20 5469 6d65 7374 616d 7020 6973 2065  . Timestamp is e
+0002a980: 706f 6368 2069 6e20 7365 636f 6e64 732e  poch in seconds.
+0002a990: 2044 6566 6175 6c74 2069 7320 6375 7272   Default is curr
+0002a9a0: 656e 740a 2020 2020 2020 2020 2020 2020  ent.            
+0002a9b0: 2020 2020 5554 4320 7469 6d65 7374 616d      UTC timestam
+0002a9c0: 7020 6d69 6e75 7320 3320 686f 7572 730a  p minus 3 hours.
+0002a9d0: 2020 2020 2020 2020 2020 2020 746f 5f74              to_t
+0002a9e0: 696d 6573 7461 6d70 2028 696e 742c 206f  imestamp (int, o
+0002a9f0: 7074 696f 6e61 6c29 3a20 5468 6973 2070  ptional): This p
+0002aa00: 6172 616d 6574 6572 2073 7570 6572 6365  arameter superce
+0002aa10: 6465 7320 656e 6420 7061 7261 6d65 7465  des end paramete
+0002aa20: 722e 204e 6565 6420 696e 666f 726d 6174  r. Need informat
+0002aa30: 696f 6e0a 2020 2020 2020 2020 2020 2020  ion.            
+0002aa40: 2020 2020 746f 2074 6869 7320 7469 6d65      to this time
+0002aa50: 7374 616d 702e 2054 696d 6573 7461 6d70  stamp. Timestamp
+0002aa60: 2069 7320 6570 6f63 6820 696e 2073 6563   is epoch in sec
+0002aa70: 6f6e 6473 2e20 4465 6661 756c 7420 6973  onds. Default is
+0002aa80: 2063 7572 7265 6e74 2055 5443 2074 696d   current UTC tim
+0002aa90: 6573 7461 6d70 0a20 2020 2020 2020 2020  estamp.         
+0002aaa0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+0002aab0: 6f70 7469 6f6e 616c 293a 2050 6167 696e  optional): Pagin
+0002aac0: 6174 696f 6e20 6f66 6673 6574 2028 6465  ation offset (de
+0002aad0: 6661 756c 7420 3d20 3029 2044 6566 6175  fault = 0) Defau
+0002aae0: 6c74 7320 746f 2030 2e0a 2020 2020 2020  lts to 0..      
+0002aaf0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+0002ab00: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
+0002ab10: 696e 6174 696f 6e20 7369 7a65 2028 6465  ination size (de
+0002ab20: 6661 756c 7420 3d20 3130 3029 2044 6566  fault = 100) Def
+0002ab30: 6175 6c74 7320 746f 2031 3030 2e0a 0a20  aults to 100... 
+0002ab40: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0002ab50: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0002ab60: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0002ab70: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0002ab80: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0002ab90: 2020 2020 2075 726c 203d 2022 2f72 6170       url = "/rap
+0002aba0: 6964 732f 7631 2f6e 6569 6768 626f 725f  ids/v1/neighbor_
+0002abb0: 6170 7322 0a0a 2020 2020 2020 2020 7061  aps"..        pa
+0002abc0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+0002abd0: 2020 2020 2027 6772 6f75 7027 3a20 6772       'group': gr
+0002abe0: 6f75 702c 0a20 2020 2020 2020 2020 2020  oup,.           
+0002abf0: 2027 6c61 6265 6c27 3a20 6c61 6265 6c2c   'label': label,
+0002ac00: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
+0002ac10: 7465 273a 2073 6974 652c 0a20 2020 2020  te': site,.     
+0002ac20: 2020 2020 2020 2027 7374 6172 7427 3a20         'start': 
+0002ac30: 7374 6172 742c 0a20 2020 2020 2020 2020  start,.         
+0002ac40: 2020 2027 656e 6427 3a20 656e 642c 0a20     'end': end,. 
+0002ac50: 2020 2020 2020 2020 2020 2027 7377 6172             'swar
+0002ac60: 6d5f 6964 273a 2073 7761 726d 5f69 642c  m_id': swarm_id,
+0002ac70: 0a20 2020 2020 2020 2020 2020 2027 6672  .            'fr
+0002ac80: 6f6d 5f74 696d 6573 7461 6d70 273a 2066  om_timestamp': f
+0002ac90: 726f 6d5f 7469 6d65 7374 616d 702c 0a20  rom_timestamp,. 
+0002aca0: 2020 2020 2020 2020 2020 2027 746f 5f74             'to_t
+0002acb0: 696d 6573 7461 6d70 273a 2074 6f5f 7469  imestamp': to_ti
+0002acc0: 6d65 7374 616d 702c 0a20 2020 2020 2020  mestamp,.       
+0002acd0: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
+0002ace0: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+0002acf0: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
+0002ad00: 740a 2020 2020 2020 2020 7d0a 0a20 2020  t.        }..   
+0002ad10: 2020 2020 2072 6574 7572 6e20 6177 6169       return awai
+0002ad20: 7420 7365 6c66 2e67 6574 2875 726c 2c20  t self.get(url, 
+0002ad30: 7061 7261 6d73 3d70 6172 616d 7329 0a0a  params=params)..
+0002ad40: 2020 2020 6173 796e 6320 6465 6620 7769      async def wi
+0002ad50: 6473 5f67 6574 5f61 6c6c 280a 2020 2020  ds_get_all(.    
+0002ad60: 2020 2020 7365 6c66 2c0a 2020 2020 2020      self,.      
+0002ad70: 2020 6772 6f75 703a 204c 6973 745b 7374    group: List[st
+0002ad80: 725d 203d 204e 6f6e 652c 0a20 2020 2020  r] = None,.     
+0002ad90: 2020 206c 6162 656c 3a20 4c69 7374 5b73     label: List[s
+0002ada0: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
+0002adb0: 2020 2020 7369 7465 3a20 4c69 7374 5b73      site: List[s
+0002adc0: 7472 5d20 3d20 4e6f 6e65 2c0a 2020 2020  tr] = None,.    
+0002add0: 2020 2020 7374 6172 743a 2069 6e74 203d      start: int =
+0002ade0: 204e 6f6e 652c 0a20 2020 2020 2020 2065   None,.        e
+0002adf0: 6e64 3a20 696e 7420 3d20 4e6f 6e65 2c0a  nd: int = None,.
+0002ae00: 2020 2020 2020 2020 7377 6172 6d5f 6964          swarm_id
+0002ae10: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0002ae20: 2020 2020 2020 6672 6f6d 5f74 696d 6573        from_times
+0002ae30: 7461 6d70 3a20 696e 7420 3d20 4e6f 6e65  tamp: int = None
+0002ae40: 2c0a 2020 2020 2020 2020 746f 5f74 696d  ,.        to_tim
+0002ae50: 6573 7461 6d70 3a20 696e 7420 3d20 4e6f  estamp: int = No
+0002ae60: 6e65 2c0a 2020 2020 2020 2020 6f66 6673  ne,.        offs
+0002ae70: 6574 3a20 696e 7420 3d20 302c 0a20 2020  et: int = 0,.   
+0002ae80: 2020 2020 206c 696d 6974 3a20 696e 7420       limit: int 
+0002ae90: 3d20 3130 300a 2020 2020 2920 2d3e 2052  = 100.    ) -> R
+0002aea0: 6573 706f 6e73 653a 0a20 2020 2020 2020  esponse:.       
+0002aeb0: 2022 2222 4c69 7374 2061 6c6c 2077 6964   """List all wid
+0002aec0: 7320 636c 6173 7369 6669 6361 7469 6f6e  s classification
+0002aed0: 732e 0a0a 2020 2020 2020 2020 4172 6773  s...        Args
+0002aee0: 3a0a 2020 2020 2020 2020 2020 2020 6772  :.            gr
+0002aef0: 6f75 7020 284c 6973 745b 7374 725d 2c20  oup (List[str], 
+0002af00: 6f70 7469 6f6e 616c 293a 204c 6973 7420  optional): List 
+0002af10: 6f66 2067 726f 7570 206e 616d 6573 0a20  of group names. 
+0002af20: 2020 2020 2020 2020 2020 206c 6162 656c             label
+0002af30: 2028 4c69 7374 5b73 7472 5d2c 206f 7074   (List[str], opt
+0002af40: 696f 6e61 6c29 3a20 4c69 7374 206f 6620  ional): List of 
+0002af50: 6c61 6265 6c20 6e61 6d65 730a 2020 2020  label names.    
+0002af60: 2020 2020 2020 2020 7369 7465 2028 4c69          site (Li
+0002af70: 7374 5b73 7472 5d2c 206f 7074 696f 6e61  st[str], optiona
+0002af80: 6c29 3a20 4c69 7374 206f 6620 7369 7465  l): List of site
+0002af90: 206e 616d 6573 0a20 2020 2020 2020 2020   names.         
+0002afa0: 2020 2073 7461 7274 2028 696e 742c 206f     start (int, o
+0002afb0: 7074 696f 6e61 6c29 3a20 4e65 6564 2069  ptional): Need i
+0002afc0: 6e66 6f72 6d61 7469 6f6e 2066 726f 6d20  nformation from 
+0002afd0: 7468 6973 2074 696d 6573 7461 6d70 2e20  this timestamp. 
+0002afe0: 5469 6d65 7374 616d 7020 6973 2065 706f  Timestamp is epo
+0002aff0: 6368 2069 6e0a 2020 2020 2020 2020 2020  ch in.          
+0002b000: 2020 2020 2020 6d69 6c6c 6973 6563 6f6e        millisecon
+0002b010: 6473 2e20 4465 6661 756c 7420 6973 2063  ds. Default is c
+0002b020: 7572 7265 6e74 2074 696d 6573 7461 6d70  urrent timestamp
+0002b030: 206d 696e 7573 2033 2068 6f75 7273 0a20   minus 3 hours. 
+0002b040: 2020 2020 2020 2020 2020 2065 6e64 2028             end (
+0002b050: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0002b060: 4e65 6564 2069 6e66 6f72 6d61 7469 6f6e  Need information
+0002b070: 2074 6f20 7468 6973 2074 696d 6573 7461   to this timesta
+0002b080: 6d70 2e20 5469 6d65 7374 616d 7020 6973  mp. Timestamp is
+0002b090: 2065 706f 6368 2069 6e0a 2020 2020 2020   epoch in.      
+0002b0a0: 2020 2020 2020 2020 2020 6d69 6c6c 6973            millis
+0002b0b0: 6563 6f6e 6473 2e20 4465 6661 756c 7420  econds. Default 
+0002b0c0: 6973 2063 7572 7265 6e74 2074 696d 6573  is current times
+0002b0d0: 7461 6d70 0a20 2020 2020 2020 2020 2020  tamp.           
+0002b0e0: 2073 7761 726d 5f69 6420 2873 7472 2c20   swarm_id (str, 
+0002b0f0: 6f70 7469 6f6e 616c 293a 2046 696c 7465  optional): Filte
+0002b100: 7220 6279 2053 7761 726d 2049 440a 2020  r by Swarm ID.  
+0002b110: 2020 2020 2020 2020 2020 6672 6f6d 5f74            from_t
+0002b120: 696d 6573 7461 6d70 2028 696e 742c 206f  imestamp (int, o
+0002b130: 7074 696f 6e61 6c29 3a20 5468 6973 2070  ptional): This p
+0002b140: 6172 616d 6574 6572 2073 7570 6572 6365  arameter superce
+0002b150: 6465 7320 7374 6172 7420 7061 7261 6d65  des start parame
+0002b160: 7465 722e 204e 6565 640a 2020 2020 2020  ter. Need.      
+0002b170: 2020 2020 2020 2020 2020 696e 666f 726d            inform
+0002b180: 6174 696f 6e20 6672 6f6d 2074 6869 7320  ation from this 
+0002b190: 7469 6d65 7374 616d 702e 2054 696d 6573  timestamp. Times
+0002b1a0: 7461 6d70 2069 7320 6570 6f63 6820 696e  tamp is epoch in
+0002b1b0: 2073 6563 6f6e 6473 2e20 4465 6661 756c   seconds. Defaul
+0002b1c0: 7420 6973 2063 7572 7265 6e74 0a20 2020  t is current.   
+0002b1d0: 2020 2020 2020 2020 2020 2020 2055 5443               UTC
+0002b1e0: 2074 696d 6573 7461 6d70 206d 696e 7573   timestamp minus
+0002b1f0: 2033 2068 6f75 7273 0a20 2020 2020 2020   3 hours.       
+0002b200: 2020 2020 2074 6f5f 7469 6d65 7374 616d       to_timestam
+0002b210: 7020 2869 6e74 2c20 6f70 7469 6f6e 616c  p (int, optional
+0002b220: 293a 2054 6869 7320 7061 7261 6d65 7465  ): This paramete
+0002b230: 7220 7375 7065 7263 6564 6573 2065 6e64  r supercedes end
+0002b240: 2070 6172 616d 6574 6572 2e20 4e65 6564   parameter. Need
+0002b250: 2069 6e66 6f72 6d61 7469 6f6e 0a20 2020   information.   
+0002b260: 2020 2020 2020 2020 2020 2020 2074 6f20               to 
+0002b270: 7468 6973 2074 696d 6573 7461 6d70 2e20  this timestamp. 
+0002b280: 5469 6d65 7374 616d 7020 6973 2065 706f  Timestamp is epo
+0002b290: 6368 2069 6e20 7365 636f 6e64 732e 2044  ch in seconds. D
+0002b2a0: 6566 6175 6c74 2069 7320 6375 7272 656e  efault is curren
+0002b2b0: 7420 5554 4320 7469 6d65 7374 616d 700a  t UTC timestamp.
+0002b2c0: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
+0002b2d0: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
+0002b2e0: 6c29 3a20 5061 6769 6e61 7469 6f6e 206f  l): Pagination o
+0002b2f0: 6666 7365 7420 2864 6566 6175 6c74 203d  ffset (default =
+0002b300: 2030 2920 4465 6661 756c 7473 2074 6f20   0) Defaults to 
+0002b310: 302e 0a20 2020 2020 2020 2020 2020 206c  0..            l
+0002b320: 696d 6974 2028 696e 742c 206f 7074 696f  imit (int, optio
+0002b330: 6e61 6c29 3a20 7061 6769 6e61 7469 6f6e  nal): pagination
+0002b340: 2073 697a 6520 2864 6566 6175 6c74 203d   size (default =
+0002b350: 2031 3030 2920 4465 6661 756c 7473 2074   100) Defaults t
+0002b360: 6f20 3130 302e 0a0a 2020 2020 2020 2020  o 100...        
+0002b370: 5265 7475 726e 733a 0a20 2020 2020 2020  Returns:.       
+0002b380: 2020 2020 2052 6573 706f 6e73 653a 2043       Response: C
+0002b390: 656e 7472 616c 4150 4920 5265 7370 6f6e  entralAPI Respon
+0002b3a0: 7365 206f 626a 6563 740a 2020 2020 2020  se object.      
+0002b3b0: 2020 2222 220a 2020 2020 2020 2020 7061    """.        pa
+0002b3c0: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+0002b3d0: 2020 2020 2027 6772 6f75 7027 3a20 6772       'group': gr
+0002b3e0: 6f75 702c 0a20 2020 2020 2020 2020 2020  oup,.           
+0002b3f0: 2027 6c61 6265 6c27 3a20 6c61 6265 6c2c   'label': label,
+0002b400: 0a20 2020 2020 2020 2020 2020 2027 7369  .            'si
+0002b410: 7465 273a 2073 6974 652c 0a20 2020 2020  te': site,.     
+0002b420: 2020 2020 2020 2027 7374 6172 7427 3a20         'start': 
+0002b430: 7374 6172 742c 0a20 2020 2020 2020 2020  start,.         
+0002b440: 2020 2027 656e 6427 3a20 656e 642c 0a20     'end': end,. 
+0002b450: 2020 2020 2020 2020 2020 2027 7377 6172             'swar
+0002b460: 6d5f 6964 273a 2073 7761 726d 5f69 642c  m_id': swarm_id,
+0002b470: 0a20 2020 2020 2020 2020 2020 2027 6672  .            'fr
+0002b480: 6f6d 5f74 696d 6573 7461 6d70 273a 2066  om_timestamp': f
+0002b490: 726f 6d5f 7469 6d65 7374 616d 702c 0a20  rom_timestamp,. 
+0002b4a0: 2020 2020 2020 2020 2020 2027 746f 5f74             'to_t
+0002b4b0: 696d 6573 7461 6d70 273a 2074 6f5f 7469  imestamp': to_ti
+0002b4c0: 6d65 7374 616d 702c 0a20 2020 2020 2020  mestamp,.       
+0002b4d0: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
+0002b4e0: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+0002b4f0: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
+0002b500: 740a 2020 2020 2020 2020 7d0a 0a20 2020  t.        }..   
+0002b510: 2020 2020 2062 7220 3d20 7365 6c66 2e42       br = self.B
+0002b520: 6174 6368 5265 7175 6573 740a 2020 2020  atchRequest.    
+0002b530: 2020 2020 6675 6e63 7320 3d20 5b0a 2020      funcs = [.  
+0002b540: 2020 2020 2020 2020 2020 7365 6c66 2e77            self.w
+0002b550: 6964 735f 6765 745f 696e 7465 7266 6572  ids_get_interfer
+0002b560: 696e 675f 6170 732c 0a20 2020 2020 2020  ing_aps,.       
+0002b570: 2020 2020 2073 656c 662e 7769 6473 5f67       self.wids_g
+0002b580: 6574 5f6e 6569 6768 626f 725f 6170 732c  et_neighbor_aps,
+0002b590: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0002b5a0: 662e 7769 6473 5f67 6574 5f73 7573 7065  f.wids_get_suspe
+0002b5b0: 6374 5f61 7073 2c0a 2020 2020 2020 2020  ct_aps,.        
+0002b5c0: 2020 2020 7365 6c66 2e77 6964 735f 6765      self.wids_ge
+0002b5d0: 745f 726f 6775 655f 6170 732c 0a20 2020  t_rogue_aps,.   
+0002b5e0: 2020 2020 205d 0a0a 2020 2020 2020 2020       ]..        
+0002b5f0: 6261 7463 685f 7265 7120 3d20 5b0a 2020  batch_req = [.  
+0002b600: 2020 2020 2020 2020 2020 6272 2866 2c20            br(f, 
+0002b610: 2a2a 7061 7261 6d73 2920 666f 7220 6620  **params) for f 
+0002b620: 696e 2066 756e 6373 0a20 2020 2020 2020  in funcs.       
+0002b630: 205d 0a0a 2020 2020 2020 2020 6261 7463   ]..        batc
+0002b640: 685f 7265 7320 3d20 6177 6169 7420 7365  h_res = await se
+0002b650: 6c66 2e5f 6261 7463 685f 7265 7175 6573  lf._batch_reques
+0002b660: 7428 6261 7463 685f 7265 7129 0a20 2020  t(batch_req).   
+0002b670: 2020 2020 2072 6573 7020 3d20 6261 7463       resp = batc
+0002b680: 685f 7265 735b 2d31 5d0a 2020 2020 2020  h_res[-1].      
+0002b690: 2020 6f6b 5f72 6573 203d 205b 6964 7820    ok_res = [idx 
+0002b6a0: 666f 7220 6964 782c 2072 6573 2069 6e20  for idx, res in 
+0002b6b0: 656e 756d 6572 6174 6528 6261 7463 685f  enumerate(batch_
+0002b6c0: 7265 7329 2069 6620 7265 732e 6f6b 5d0a  res) if res.ok].
+0002b6d0: 2020 2020 2020 2020 6966 206e 6f74 206c          if not l
+0002b6e0: 656e 286f 6b5f 7265 7329 203d 3d20 6c65  en(ok_res) == le
+0002b6f0: 6e28 6675 6e63 7329 3a0a 2020 2020 2020  n(funcs):.      
+0002b700: 2020 2020 2020 6661 696c 6564 203d 205b        failed = [
+0002b710: 7820 666f 7220 7820 696e 2072 616e 6765  x for x in range
+0002b720: 2830 2c20 6c65 6e28 6675 6e63 7329 2920  (0, len(funcs)) 
+0002b730: 6966 2078 206e 6f74 2069 6e20 6f6b 5f72  if x not in ok_r
+0002b740: 6573 5d0a 2020 2020 2020 2020 2020 2020  es].            
+0002b750: 666f 7220 6620 696e 2066 6169 6c65 643a  for f in failed:
+0002b760: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002b770: 2069 6620 6620 696e 2072 616e 6765 2830   if f in range(0
+0002b780: 2c20 6c65 6e28 6261 7463 685f 7265 7329  , len(batch_res)
+0002b790: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0002b7a0: 2020 2020 2020 206c 6f67 2e65 7272 6f72         log.error
+0002b7b0: 2866 227b 6261 7463 685f 7265 735b 665d  (f"{batch_res[f]
+0002b7c0: 2e6d 6574 686f 647d 207b 6261 7463 685f  .method} {batch_
+0002b7d0: 7265 735b 665d 2e75 726c 2e70 6174 687d  res[f].url.path}
+0002b7e0: 2052 6574 7572 6e65 6420 4572 726f 7220   Returned Error 
+0002b7f0: 5374 6174 7573 207b 6261 7463 685f 7265  Status {batch_re
+0002b800: 735b 665d 2e73 7461 7475 737d 2e20 7b62  s[f].status}. {b
+0002b810: 6174 6368 5f72 6573 5b66 5d2e 6f75 7470  atch_res[f].outp
+0002b820: 7574 206f 7220 6261 7463 685f 7265 735b  ut or batch_res[
+0002b830: 665d 2e65 7272 6f72 7d22 2c20 7368 6f77  f].error}", show
+0002b840: 3d54 7275 6529 0a20 2020 2020 2020 2072  =True).        r
+0002b850: 6177 5f6b 6579 7320 3d20 5b22 696e 7465  aw_keys = ["inte
+0002b860: 7266 6572 696e 675f 6170 7322 2c20 226e  rfering_aps", "n
+0002b870: 6569 6768 626f 725f 6170 7322 2c20 2273  eighbor_aps", "s
+0002b880: 7573 7065 6374 5f61 7073 225d 0a20 2020  uspect_aps"].   
+0002b890: 2020 2020 2072 6573 702e 7261 7720 3d20       resp.raw = 
+0002b8a0: 7b22 726f 6775 655f 6170 7322 3a20 7265  {"rogue_aps": re
+0002b8b0: 7370 2e72 6177 2e67 6574 2822 726f 6775  sp.raw.get("rogu
+0002b8c0: 655f 6170 7322 2c20 5b5d 292c 2022 5f63  e_aps", []), "_c
+0002b8d0: 6f75 6e74 7322 3a20 7b22 726f 6775 6573  ounts": {"rogues
+0002b8e0: 223a 2072 6573 702e 7261 772e 6765 7428  ": resp.raw.get(
+0002b8f0: 2274 6f74 616c 2229 7d7d 0a20 2020 2020  "total")}}.     
+0002b900: 2020 2066 6f72 2069 6478 2c20 6b65 7920     for idx, key 
+0002b910: 696e 2065 6e75 6d65 7261 7465 2872 6177  in enumerate(raw
+0002b920: 5f6b 6579 7329 3a0a 2020 2020 2020 2020  _keys):.        
+0002b930: 2020 2020 6966 2069 6478 2069 6e20 6f6b      if idx in ok
+0002b940: 5f72 6573 3a0a 2020 2020 2020 2020 2020  _res:.          
+0002b950: 2020 2020 2020 7265 7370 2e72 6177 203d        resp.raw =
+0002b960: 207b 2a2a 7265 7370 2e72 6177 2c20 2a2a   {**resp.raw, **
+0002b970: 7b6b 6579 3a20 6261 7463 685f 7265 735b  {key: batch_res[
+0002b980: 6964 785d 2e72 6177 2e67 6574 286b 6579  idx].raw.get(key
+0002b990: 2c20 5b5d 297d 7d0a 2020 2020 2020 2020  , [])}}.        
+0002b9a0: 2020 2020 2020 2020 7265 7370 2e72 6177          resp.raw
+0002b9b0: 5b22 5f63 6f75 6e74 7322 5d5b 6b65 792e  ["_counts"][key.
+0002b9c0: 7273 7472 6970 2822 5f61 7073 2229 5d20  rstrip("_aps")] 
+0002b9d0: 3d20 6261 7463 685f 7265 735b 6964 785d  = batch_res[idx]
+0002b9e0: 2e72 6177 2e67 6574 2822 746f 7461 6c22  .raw.get("total"
+0002b9f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002ba00: 2020 7265 7370 2e6f 7574 7075 7420 3d20    resp.output = 
+0002ba10: 5b2a 7265 7370 2e6f 7574 7075 742c 202a  [*resp.output, *
+0002ba20: 6261 7463 685f 7265 735b 6964 785d 2e6f  batch_res[idx].o
+0002ba30: 7574 7075 745d 0a20 2020 2020 2020 2023  utput].        #
+0002ba40: 2072 6573 702e 6f75 7470 7574 203d 205b   resp.output = [
+0002ba50: 2a72 6573 702e 6f75 7470 7574 2c20 2a62  *resp.output, *b
+0002ba60: 6174 6368 5f72 6573 5b30 5d2e 6f75 7470  atch_res[0].outp
+0002ba70: 7574 2c20 2a62 6174 6368 5f72 6573 5b31  ut, *batch_res[1
+0002ba80: 5d2e 6f75 7470 7574 2c20 2a62 6174 6368  ].output, *batch
+0002ba90: 5f72 6573 5b32 5d2e 6f75 7470 7574 5d0a  _res[2].output].
+0002baa0: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+0002bab0: 2020 2020 2020 2020 2072 6573 702e 6f75           resp.ou
+0002bac0: 7470 7574 203d 205b 6d6f 6465 6c73 2e57  tput = [models.W
+0002bad0: 4944 5328 2a2a 6429 2e64 6963 7428 2920  IDS(**d).dict() 
+0002bae0: 666f 7220 6420 696e 2072 6573 702e 6f75  for d in resp.ou
+0002baf0: 7470 7574 5d0a 2020 2020 2020 2020 6578  tput].        ex
+0002bb00: 6365 7074 2045 7863 6570 7469 6f6e 2061  cept Exception a
+0002bb10: 7320 653a 0a20 2020 2020 2020 2020 2020  s e:.           
+0002bb20: 206c 6f67 2e77 6172 6e69 6e67 2866 2264   log.warning(f"d
+0002bb30: 6576 206e 6f74 652e 2070 7964 616e 7469  ev note. pydanti
+0002bb40: 6320 636f 6e76 6572 7369 6f6e 2064 6964  c conversion did
+0002bb50: 206e 6f74 2077 6f72 6b22 2c20 7368 6f77   not work", show
+0002bb60: 3d54 7275 6529 0a0a 2020 2020 2020 2020  =True)..        
+0002bb70: 7265 7475 726e 2072 6573 700a 0a0a 2020  return resp...  
+0002bb80: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+0002bb90: 616c 6572 7473 280a 2020 2020 2020 2020  alerts(.        
+0002bba0: 7365 6c66 2c0a 2020 2020 2020 2020 6375  self,.        cu
+0002bbb0: 7374 6f6d 6572 5f69 643a 2073 7472 203d  stomer_id: str =
+0002bbc0: 204e 6f6e 652c 0a20 2020 2020 2020 2067   None,.        g
+0002bbd0: 726f 7570 3a20 7374 7220 3d20 4e6f 6e65  roup: str = None
+0002bbe0: 2c0a 2020 2020 2020 2020 6c61 6265 6c3a  ,.        label:
+0002bbf0: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0002bc00: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
+0002bc10: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002bc20: 2073 6974 653a 2073 7472 203d 204e 6f6e   site: str = Non
+0002bc30: 652c 0a20 2020 2020 2020 2066 726f 6d5f  e,.        from_
+0002bc40: 7473 3a20 696e 7420 3d20 4e6f 6e65 2c0a  ts: int = None,.
+0002bc50: 2020 2020 2020 2020 746f 5f74 733a 2069          to_ts: i
+0002bc60: 6e74 203d 204e 6f6e 652c 0a20 2020 2020  nt = None,.     
+0002bc70: 2020 2073 6576 6572 6974 793a 2073 7472     severity: str
+0002bc80: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002bc90: 2074 7970 653a 2073 7472 203d 204e 6f6e   type: str = Non
+0002bca0: 652c 0a20 2020 2020 2020 2073 6561 7263  e,.        searc
+0002bcb0: 683a 2073 7472 203d 204e 6f6e 652c 0a20  h: str = None,. 
+0002bcc0: 2020 2020 2020 2023 2063 616c 6375 6c61         # calcula
+0002bcd0: 7465 5f74 6f74 616c 3a20 626f 6f6c 203d  te_total: bool =
+0002bce0: 2046 616c 7365 2c20 2023 2044 6f65 736e   False,  # Doesn
+0002bcf0: 2774 2061 7070 6561 7220 746f 2069 6d70  't appear to imp
+0002bd00: 6163 7420 616c 7761 7973 2072 6574 7572  act always retur
+0002bd10: 6e73 2074 6f74 616c 0a20 2020 2020 2020  ns total.       
+0002bd20: 2061 636b 3a20 626f 6f6c 203d 204e 6f6e   ack: bool = Non
+0002bd30: 652c 0a20 2020 2020 2020 2066 6965 6c64  e,.        field
+0002bd40: 733a 2073 7472 203d 204e 6f6e 652c 0a20  s: str = None,. 
+0002bd50: 2020 2020 2020 206f 6666 7365 743a 2069         offset: i
+0002bd60: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
+0002bd70: 6c69 6d69 743a 2069 6e74 203d 2031 3030  limit: int = 100
+0002bd80: 302c 0a20 2020 2029 202d 3e20 5265 7370  0,.    ) -> Resp
+0002bd90: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0002bda0: 225b 6365 6e74 7261 6c5d 204c 6973 7420  "[central] List 
+0002bdb0: 4e6f 7469 6669 6361 7469 6f6e 732f 416c  Notifications/Al
+0002bdc0: 6572 7473 2e20 2052 6574 7572 6e73 2031  erts.  Returns 1
+0002bdd0: 2064 6179 2062 7920 6465 6661 756c 742e   day by default.
+0002bde0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+0002bdf0: 2020 2020 2020 2020 2020 2020 6375 7374              cust
+0002be00: 6f6d 6572 5f69 6420 2873 7472 2c20 6f70  omer_id (str, op
+0002be10: 7469 6f6e 616c 293a 204d 5350 2075 7365  tional): MSP use
+0002be20: 7220 6361 6e20 6669 6c74 6572 206e 6f74  r can filter not
+0002be30: 6966 6963 6174 696f 6e73 2062 6173 6564  ifications based
+0002be40: 206f 6e20 6375 7374 6f6d 6572 2069 640a   on customer id.
+0002be50: 2020 2020 2020 2020 2020 2020 6772 6f75              grou
+0002be60: 7020 2873 7472 2c20 6f70 7469 6f6e 616c  p (str, optional
+0002be70: 293a 2055 7365 6420 746f 2066 696c 7465  ): Used to filte
+0002be80: 7220 7468 6520 6e6f 7469 6669 6361 7469  r the notificati
+0002be90: 6f6e 2074 7970 6573 2062 6173 6564 206f  on types based o
+0002bea0: 6e20 6772 6f75 7020 6e61 6d65 0a20 2020  n group name.   
+0002beb0: 2020 2020 2020 2020 206c 6162 656c 2028           label (
+0002bec0: 7374 722c 206f 7074 696f 6e61 6c29 3a20  str, optional): 
+0002bed0: 5573 6564 2074 6f20 6669 6c74 6572 2074  Used to filter t
+0002bee0: 6865 206e 6f74 6966 6963 6174 696f 6e20  he notification 
+0002bef0: 7479 7065 7320 6261 7365 6420 6f6e 204c  types based on L
+0002bf00: 6162 656c 206e 616d 650a 2020 2020 2020  abel name.      
+0002bf10: 2020 2020 2020 7365 7269 616c 2028 7374        serial (st
+0002bf20: 722c 206f 7074 696f 6e61 6c29 3a20 5573  r, optional): Us
+0002bf30: 6564 2074 6f20 6669 6c74 6572 2074 6865  ed to filter the
+0002bf40: 2072 6573 756c 7420 6261 7365 6420 6f6e   result based on
+0002bf50: 2073 6572 6961 6c20 6e75 6d62 6572 206f   serial number o
+0002bf60: 6620 7468 6520 6465 7669 6365 0a20 2020  f the device.   
+0002bf70: 2020 2020 2020 2020 2073 6974 6520 2873           site (s
+0002bf80: 7472 2c20 6f70 7469 6f6e 616c 293a 2055  tr, optional): U
+0002bf90: 7365 6420 746f 2066 696c 7465 7220 7468  sed to filter th
+0002bfa0: 6520 6e6f 7469 6669 6361 7469 6f6e 2074  e notification t
+0002bfb0: 7970 6573 2062 6173 6564 206f 6e20 5369  ypes based on Si
+0002bfc0: 7465 206e 616d 650a 2020 2020 2020 2020  te name.        
+0002bfd0: 2020 2020 6672 6f6d 5f74 7320 2869 6e74      from_ts (int
+0002bfe0: 2c20 6f70 7469 6f6e 616c 293a 2031 2973  , optional): 1)s
+0002bff0: 7461 7274 206f 6620 6475 7261 7469 6f6e  tart of duration
+0002c000: 2077 6974 6869 6e20 7768 6963 6820 616c   within which al
+0002c010: 6572 7473 2061 7265 2072 6169 7365 640a  erts are raised.
+0002c020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c030: 3229 6465 7363 7269 6265 6420 7573 696e  2)described usin
+0002c040: 6720 556e 6978 2045 706f 6368 2074 696d  g Unix Epoch tim
+0002c050: 6520 696e 2073 6563 6f6e 6473 2020 4465  e in seconds  De
+0002c060: 6661 756c 7420 3330 2064 6179 7320 286d  fault 30 days (m
+0002c070: 6178 2039 3029 0a20 2020 2020 2020 2020  ax 90).         
+0002c080: 2020 2074 6f5f 7473 2028 696e 742c 206f     to_ts (int, o
+0002c090: 7074 696f 6e61 6c29 3a20 3129 656e 6420  ptional): 1)end 
+0002c0a0: 6f66 2064 7572 6174 696f 6e20 7769 7468  of duration with
+0002c0b0: 696e 2077 6869 6368 2061 6c65 7274 7320  in which alerts 
+0002c0c0: 6172 6520 7261 6973 6564 0a20 2020 2020  are raised.     
+0002c0d0: 2020 2020 2020 2020 2020 2032 2964 6573             2)des
+0002c0e0: 6372 6962 6564 2075 7369 6e67 2055 6e69  cribed using Uni
+0002c0f0: 7820 4570 6f63 6820 7469 6d65 2069 6e20  x Epoch time in 
+0002c100: 7365 636f 6e64 730a 2020 2020 2020 2020  seconds.        
+0002c110: 2020 2020 7365 7665 7269 7479 2028 7374      severity (st
+0002c120: 722c 206f 7074 696f 6e61 6c29 3a20 5573  r, optional): Us
+0002c130: 6564 2074 6f20 6669 6c74 6572 2074 6865  ed to filter the
+0002c140: 206e 6f74 6966 6963 6174 696f 6e20 7479   notification ty
+0002c150: 7065 7320 6261 7365 6420 6f6e 2073 6576  pes based on sev
+0002c160: 6572 6974 790a 2020 2020 2020 2020 2020  erity.          
+0002c170: 2020 7479 7065 2028 7374 722c 206f 7074    type (str, opt
+0002c180: 696f 6e61 6c29 3a20 5573 6564 2074 6f20  ional): Used to 
+0002c190: 6669 6c74 6572 2074 6865 206e 6f74 6966  filter the notif
+0002c1a0: 6963 6174 696f 6e20 7479 7065 7320 6261  ication types ba
+0002c1b0: 7365 6420 6f6e 206e 6f74 6966 6963 6174  sed on notificat
+0002c1c0: 696f 6e20 7479 7065 0a20 2020 2020 2020  ion type.       
+0002c1d0: 2020 2020 2020 2020 206e 616d 650a 2020           name.  
+0002c1e0: 2020 2020 2020 2020 2020 7365 6172 6368            search
+0002c1f0: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0002c200: 3a20 7465 726d 2075 7365 6420 746f 2073  : term used to s
+0002c210: 6561 7263 6820 696e 206e 616d 652c 2063  earch in name, c
+0002c220: 6174 6567 6f72 7920 6f66 2074 6865 2061  ategory of the a
+0002c230: 6c65 7274 0a20 2020 2020 2020 2020 2020  lert.           
+0002c240: 2063 616c 6375 6c61 7465 5f74 6f74 616c   calculate_total
+0002c250: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
+0002c260: 293a 2057 6865 7468 6572 2074 6f20 636f  ): Whether to co
+0002c270: 756e 7420 746f 7461 6c20 6974 656d 7320  unt total items 
+0002c280: 696e 2074 6865 2072 6573 706f 6e73 650a  in the response.
+0002c290: 2020 2020 2020 2020 2020 2020 6163 6b20              ack 
+0002c2a0: 2862 6f6f 6c2c 206f 7074 696f 6e61 6c29  (bool, optional)
+0002c2b0: 3a20 4669 6c74 6572 2061 636b 6e6f 776c  : Filter acknowl
+0002c2c0: 6564 6765 6420 6f72 2075 6e61 636b 6e6f  edged or unackno
+0002c2d0: 776c 6564 6765 6420 6e6f 7469 6669 6361  wledged notifica
+0002c2e0: 7469 6f6e 732e 2057 6865 6e20 7175 6572  tions. When quer
+0002c2f0: 790a 2020 2020 2020 2020 2020 2020 2020  y.              
+0002c300: 2020 7061 7261 6d65 7465 7220 6973 206e    parameter is n
+0002c310: 6f74 2073 7065 6369 6669 6564 2c20 626f  ot specified, bo
+0002c320: 7468 2061 636b 6e6f 776c 6564 6765 6420  th acknowledged 
+0002c330: 616e 6420 756e 6163 6b6e 6f77 6c65 6467  and unacknowledg
+0002c340: 6564 206e 6f74 6966 6963 6174 696f 6e73  ed notifications
+0002c350: 2061 7265 0a20 2020 2020 2020 2020 2020   are.           
+0002c360: 2020 2020 2069 6e63 6c75 6465 640a 2020       included.  
+0002c370: 2020 2020 2020 2020 2020 6669 656c 6473            fields
+0002c380: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0002c390: 3a20 436f 6d6d 6120 7365 7061 7261 7465  : Comma separate
+0002c3a0: 6420 6c69 7374 206f 6620 6669 656c 6473  d list of fields
+0002c3b0: 2074 6f20 6265 2072 6574 7572 6e65 640a   to be returned.
+0002c3c0: 2020 2020 2020 2020 2020 2020 6f66 6673              offs
+0002c3d0: 6574 2028 696e 742c 206f 7074 696f 6e61  et (int, optiona
+0002c3e0: 6c29 3a20 5061 6769 6e61 7469 6f6e 206f  l): Pagination o
+0002c3f0: 6666 7365 7420 4465 6661 756c 7473 2074  ffset Defaults t
+0002c400: 6f20 302e 0a20 2020 2020 2020 2020 2020  o 0..           
+0002c410: 206c 696d 6974 2028 696e 742c 206f 7074   limit (int, opt
+0002c420: 696f 6e61 6c29 3a20 5061 6769 6e61 7469  ional): Paginati
+0002c430: 6f6e 206c 696d 6974 2e20 4465 6661 756c  on limit. Defaul
+0002c440: 7420 6973 2031 3030 2061 6e64 206d 6178  t is 100 and max
+0002c450: 2069 7320 3130 3030 2044 6566 6175 6c74   is 1000 Default
+0002c460: 7320 746f 2035 3030 2e0a 0a20 2020 2020  s to 500...     
+0002c470: 2020 2052 6574 7572 6e73 3a0a 2020 2020     Returns:.    
+0002c480: 2020 2020 2020 2020 5265 7370 6f6e 7365          Response
+0002c490: 3a20 4365 6e74 7261 6c41 5049 2052 6573  : CentralAPI Res
+0002c4a0: 706f 6e73 6520 6f62 6a65 6374 0a20 2020  ponse object.   
+0002c4b0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0002c4c0: 2075 726c 203d 2022 2f63 656e 7472 616c   url = "/central
+0002c4d0: 2f76 312f 6e6f 7469 6669 6361 7469 6f6e  /v1/notification
+0002c4e0: 7322 0a0a 2020 2020 2020 2020 6966 206e  s"..        if n
+0002c4f0: 6f74 2066 726f 6d5f 7473 3a0a 2020 2020  ot from_ts:.    
+0002c500: 2020 2020 2020 2020 6672 6f6d 5f74 7320          from_ts 
+0002c510: 3d20 696e 7428 6461 7465 7469 6d65 2e74  = int(datetime.t
+0002c520: 696d 6573 7461 6d70 2864 6174 6574 696d  imestamp(datetim
+0002c530: 652e 746f 6461 7928 2920 2d20 7469 6d65  e.today() - time
+0002c540: 6465 6c74 6128 6461 7973 3d31 2929 290a  delta(days=1))).
+0002c550: 2020 2020 2020 2020 6966 2061 636b 2069          if ack i
+0002c560: 6e20 5b54 7275 652c 2046 616c 7365 5d3a  n [True, False]:
+0002c570: 0a20 2020 2020 2020 2020 2020 2061 636b  .            ack
+0002c580: 203d 2073 7472 2861 636b 292e 6c6f 7765   = str(ack).lowe
+0002c590: 7228 290a 0a20 2020 2020 2020 2069 6620  r()..        if 
+0002c5a0: 746f 5f74 7320 616e 6420 746f 5f74 7320  to_ts and to_ts 
+0002c5b0: 3c3d 2066 726f 6d5f 7473 3a0a 2020 2020  <= from_ts:.    
+0002c5c0: 2020 2020 2020 2020 7265 7475 726e 2052          return R
+0002c5d0: 6573 706f 6e73 6528 6572 726f 723d 6622  esponse(error=f"
+0002c5e0: 546f 2074 696d 6573 7461 6d70 2028 7b74  To timestamp ({t
+0002c5f0: 6f5f 7473 7d29 2063 616e 206e 6f74 2062  o_ts}) can not b
+0002c600: 6520 6c65 7373 2074 6861 6e20 6672 6f6d  e less than from
+0002c610: 2074 696d 6573 7461 6d70 2028 7b66 726f   timestamp ({fro
+0002c620: 6d5f 7473 7d29 2229 0a0a 2020 2020 2020  m_ts})")..      
+0002c630: 2020 7061 7261 6d73 203d 207b 0a20 2020    params = {.   
+0002c640: 2020 2020 2020 2020 2027 6375 7374 6f6d           'custom
+0002c650: 6572 5f69 6427 3a20 6375 7374 6f6d 6572  er_id': customer
+0002c660: 5f69 642c 0a20 2020 2020 2020 2020 2020  _id,.           
+0002c670: 2027 6772 6f75 7027 3a20 6772 6f75 702c   'group': group,
+0002c680: 0a20 2020 2020 2020 2020 2020 2027 6c61  .            'la
+0002c690: 6265 6c27 3a20 6c61 6265 6c2c 0a20 2020  bel': label,.   
+0002c6a0: 2020 2020 2020 2020 2027 7365 7269 616c           'serial
+0002c6b0: 273a 2073 6572 6961 6c2c 0a20 2020 2020  ': serial,.     
+0002c6c0: 2020 2020 2020 2027 7369 7465 273a 2073         'site': s
+0002c6d0: 6974 652c 0a20 2020 2020 2020 2020 2020  ite,.           
+0002c6e0: 2027 6672 6f6d 5f74 696d 6573 7461 6d70   'from_timestamp
+0002c6f0: 273a 2066 726f 6d5f 7473 2c0a 2020 2020  ': from_ts,.    
+0002c700: 2020 2020 2020 2020 2774 6f5f 7469 6d65          'to_time
+0002c710: 7374 616d 7027 3a20 746f 5f74 732c 0a20  stamp': to_ts,. 
+0002c720: 2020 2020 2020 2020 2020 2027 7365 7665             'seve
+0002c730: 7269 7479 273a 2073 6576 6572 6974 792c  rity': severity,
+0002c740: 0a20 2020 2020 2020 2020 2020 2027 7365  .            'se
+0002c750: 6172 6368 273a 2073 6561 7263 682c 0a20  arch': search,. 
+0002c760: 2020 2020 2020 2020 2020 2023 2027 6361             # 'ca
+0002c770: 6c63 756c 6174 655f 746f 7461 6c27 3a20  lculate_total': 
+0002c780: 7374 7228 6361 6c63 756c 6174 655f 746f  str(calculate_to
+0002c790: 7461 6c29 2c0a 2020 2020 2020 2020 2020  tal),.          
+0002c7a0: 2020 2774 7970 6527 3a20 7479 7065 2c0a    'type': type,.
+0002c7b0: 2020 2020 2020 2020 2020 2020 2761 636b              'ack
+0002c7c0: 273a 2061 636b 2c0a 2020 2020 2020 2020  ': ack,.        
+0002c7d0: 2020 2020 2766 6965 6c64 7327 3a20 6669      'fields': fi
+0002c7e0: 656c 6473 2c0a 2020 2020 2020 2020 2020  elds,.          
+0002c7f0: 2020 276f 6666 7365 7427 3a20 6f66 6673    'offset': offs
+0002c800: 6574 2c0a 2020 2020 2020 2020 2020 2020  et,.            
+0002c810: 276c 696d 6974 273a 206c 696d 6974 2c0a  'limit': limit,.
+0002c820: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+0002c830: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0002c840: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+0002c850: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+0002c860: 2020 6173 796e 6320 6465 6620 6365 6e74    async def cent
+0002c870: 7261 6c5f 6163 6b6e 6f77 6c65 6467 655f  ral_acknowledge_
+0002c880: 6e6f 7469 6669 6361 7469 6f6e 7328 0a20  notifications(. 
+0002c890: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+0002c8a0: 2020 2020 204e 6f4e 616d 653a 204c 6973       NoName: Lis
+0002c8b0: 745b 7374 725d 203d 204e 6f6e 652c 0a20  t[str] = None,. 
+0002c8c0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+0002c8d0: 3a0a 2020 2020 2020 2020 2222 2241 636b  :.        """Ack
+0002c8e0: 6e6f 776c 6564 6765 204e 6f74 6966 6963  nowledge Notific
+0002c8f0: 6174 696f 6e73 2062 7920 4944 204c 6973  ations by ID Lis
+0002c900: 7420 2f20 416c 6c2e 0a0a 2020 2020 2020  t / All...      
+0002c910: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+0002c920: 2020 2020 4e6f 4e61 6d65 2028 4c69 7374      NoName (List
+0002c930: 5b73 7472 5d2c 206f 7074 696f 6e61 6c29  [str], optional)
+0002c940: 3a20 4163 6b6e 6f77 6c65 6467 6520 6e6f  : Acknowledge no
+0002c950: 7469 6669 6361 7469 6f6e 730a 0a20 2020  tifications..   
+0002c960: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+0002c970: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+0002c980: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+0002c990: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+0002c9a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0002c9b0: 2020 2075 726c 203d 2022 2f63 656e 7472     url = "/centr
+0002c9c0: 616c 2f76 312f 6e6f 7469 6669 6361 7469  al/v1/notificati
+0002c9d0: 6f6e 7322 0a0a 2020 2020 2020 2020 7265  ons"..        re
+0002c9e0: 7475 726e 2061 7761 6974 2073 656c 662e  turn await self.
+0002c9f0: 706f 7374 2875 726c 290a 0a20 2020 2061  post(url)..    a
+0002ca00: 7379 6e63 2064 6566 2067 6574 5f61 705f  sync def get_ap_
+0002ca10: 636f 6e66 6967 280a 2020 2020 2020 2020  config(.        
+0002ca20: 7365 6c66 2c0a 2020 2020 2020 2020 6772  self,.        gr
+0002ca30: 6f75 705f 7377 6172 6d69 643a 2073 7472  oup_swarmid: str
+0002ca40: 2c0a 2020 2020 2020 2020 7665 7273 696f  ,.        versio
+0002ca50: 6e3a 2073 7472 203d 204e 6f6e 652c 0a20  n: str = None,. 
+0002ca60: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+0002ca70: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+0002ca80: 2041 5020 4772 6f75 7020 4c65 7665 6c20   AP Group Level 
+0002ca90: 636f 6e66 6967 7572 6174 696f 6e20 666f  configuration fo
+0002caa0: 7220 5549 2067 726f 7570 2e0a 0a20 2020  r UI group...   
+0002cab0: 2020 2020 202f 2f20 5573 6564 2062 7920       // Used by 
+0002cac0: 7368 6f77 2063 6f6e 6669 6720 3c41 5020  show config <AP 
+0002cad0: 4d41 4320 666f 7220 414f 5331 3020 4150  MAC for AOS10 AP
+0002cae0: 3e20 2f2f 0a0a 2020 2020 2020 2020 4172  > //..        Ar
+0002caf0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0002cb00: 6772 6f75 705f 7377 6172 6d69 6420 2873  group_swarmid (s
+0002cb10: 7472 293a 2047 726f 7570 206e 616d 6520  tr): Group name 
+0002cb20: 6f66 2074 6865 2067 726f 7570 206f 7220  of the group or 
+0002cb30: 6775 6964 206f 6620 7468 6520 7377 6172  guid of the swar
+0002cb40: 6d2e 0a20 2020 2020 2020 2020 2020 2020  m..             
+0002cb50: 2020 2045 7861 6d70 6c65 3a47 726f 7570     Example:Group
+0002cb60: 5f31 206f 7220 3661 3564 3132 3362 3031  _1 or 6a5d123b01
+0002cb70: 6639 3434 3138 3036 3234 3465 6136 6530  f9441806244ea6e0
+0002cb80: 3233 6661 6235 3834 3162 3737 6338 3238  23fab5841b77c828
+0002cb90: 6130 3835 6630 3466 2e0a 2020 2020 2020  a085f04f..      
+0002cba0: 2020 2020 2020 7665 7273 696f 6e20 2873        version (s
+0002cbb0: 7472 2c20 6f70 7469 6f6e 616c 293a 2056  tr, optional): V
+0002cbc0: 6572 7369 6f6e 206f 6620 4150 2e0a 0a20  ersion of AP... 
+0002cbd0: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0002cbe0: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0002cbf0: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0002cc00: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0002cc10: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0002cc20: 2020 2020 2075 726c 203d 2066 222f 636f       url = f"/co
+0002cc30: 6e66 6967 7572 6174 696f 6e2f 7631 2f61  nfiguration/v1/a
+0002cc40: 705f 636c 692f 7b67 726f 7570 5f73 7761  p_cli/{group_swa
+0002cc50: 726d 6964 7d22 0a0a 2020 2020 2020 2020  rmid}"..        
+0002cc60: 7061 7261 6d73 203d 207b 0a20 2020 2020  params = {.     
+0002cc70: 2020 2020 2020 2027 7665 7273 696f 6e27         'version'
+0002cc80: 3a20 7665 7273 696f 6e0a 2020 2020 2020  : version.      
+0002cc90: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0002cca0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+0002ccb0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+0002ccc0: 6172 616d 7329 0a0a 2020 2020 6173 796e  arams)..    asyn
+0002ccd0: 6320 6465 6620 7265 706c 6163 655f 6170  c def replace_ap
+0002cce0: 5f63 6f6e 6669 6728 0a20 2020 2020 2020  _config(.       
+0002ccf0: 2073 656c 662c 0a20 2020 2020 2020 2067   self,.        g
+0002cd00: 726f 7570 5f6e 616d 655f 6f72 5f67 7569  roup_name_or_gui
+0002cd10: 643a 2073 7472 2c0a 2020 2020 2020 2020  d: str,.        
+0002cd20: 636c 6973 3a20 4c69 7374 5b73 7472 5d2c  clis: List[str],
+0002cd30: 0a20 2020 2029 202d 3e20 5265 7370 6f6e  .    ) -> Respon
+0002cd40: 7365 3a0a 2020 2020 2020 2020 2222 2252  se:.        """R
+0002cd50: 6570 6c61 6365 2041 5020 4772 6f75 7020  eplace AP Group 
+0002cd60: 4c65 7665 6c20 636f 6e66 6967 7572 6174  Level configurat
+0002cd70: 696f 6e20 666f 7220 5549 2067 726f 7570  ion for UI group
+0002cd80: 2e0a 0a20 2020 2020 2020 2053 656e 6420  ...        Send 
+0002cd90: 4150 2063 6f6e 6669 6775 7261 7469 6f6e  AP configuration
+0002cda0: 2069 6e20 434c 4920 666f 726d 6174 2061   in CLI format a
+0002cdb0: 7320 6120 6c69 7374 206f 6620 7374 7269  s a list of stri
+0002cdc0: 6e67 7320 7768 6572 6520 6561 6368 2069  ngs where each i
+0002cdd0: 7465 6d20 696e 2074 6865 206c 6973 7420  tem in the list 
+0002cde0: 6973 0a20 2020 2020 2020 2061 206c 696e  is.        a lin
+0002cdf0: 6520 6672 6f6d 2074 6865 2063 6f6e 6669  e from the confi
+0002ce00: 672e 2020 5265 7175 6972 6573 2061 6c6c  g.  Requires all
+0002ce10: 206c 696e 6573 206f 6620 7468 6520 636f   lines of the co
+0002ce20: 6e66 6967 2c20 6e6f 7420 6120 7061 7274  nfig, not a part
+0002ce30: 6961 6c20 7570 6461 7465 2e0a 0a20 2020  ial update...   
+0002ce40: 2020 2020 2041 7267 733a 0a20 2020 2020       Args:.     
+0002ce50: 2020 2020 2020 2067 726f 7570 5f6e 616d         group_nam
+0002ce60: 655f 6f72 5f67 7569 6420 2873 7472 293a  e_or_guid (str):
+0002ce70: 2047 726f 7570 206e 616d 6520 6f66 2074   Group name of t
+0002ce80: 6865 2067 726f 7570 206f 7220 6775 6964  he group or guid
+0002ce90: 206f 6620 7468 6520 7377 6172 6d2e 0a20   of the swarm.. 
+0002cea0: 2020 2020 2020 2020 2020 2020 2020 2045                 E
+0002ceb0: 7861 6d70 6c65 3a47 726f 7570 5f31 206f  xample:Group_1 o
+0002cec0: 7220 3661 3564 3132 3362 3031 6639 3434  r 6a5d123b01f944
+0002ced0: 3138 3036 3234 3465 6136 6530 3233 6661  1806244ea6e023fa
+0002cee0: 6235 3834 3162 3737 6338 3238 6130 3835  b5841b77c828a085
+0002cef0: 6630 3466 2e0a 2020 2020 2020 2020 2020  f04f..          
+0002cf00: 2020 636c 6973 2028 4c69 7374 5b73 7472    clis (List[str
+0002cf10: 5d29 3a20 5768 6f6c 6520 636f 6e66 6967  ]): Whole config
+0002cf20: 7572 6174 696f 6e20 4c69 7374 2069 6e20  uration List in 
+0002cf30: 434c 4920 666f 726d 6174 2e0a 0a20 2020  CLI format...   
+0002cf40: 2020 2020 2052 6574 7572 6e73 3a0a 2020       Returns:.  
+0002cf50: 2020 2020 2020 2020 2020 5265 7370 6f6e            Respon
+0002cf60: 7365 3a20 4365 6e74 7261 6c41 5049 2052  se: CentralAPI R
+0002cf70: 6573 706f 6e73 6520 6f62 6a65 6374 0a20  esponse object. 
+0002cf80: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0002cf90: 2020 2075 726c 203d 2066 222f 636f 6e66     url = f"/conf
+0002cfa0: 6967 7572 6174 696f 6e2f 7631 2f61 705f  iguration/v1/ap_
+0002cfb0: 636c 692f 7b67 726f 7570 5f6e 616d 655f  cli/{group_name_
+0002cfc0: 6f72 5f67 7569 647d 220a 0a20 2020 2020  or_guid}"..     
+0002cfd0: 2020 206a 736f 6e5f 6461 7461 203d 207b     json_data = {
+0002cfe0: 0a20 2020 2020 2020 2020 2020 2027 636c  .            'cl
+0002cff0: 6973 273a 2063 6c69 730a 2020 2020 2020  is': clis.      
+0002d000: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+0002d010: 7572 6e20 6177 6169 7420 7365 6c66 2e70  urn await self.p
+0002d020: 6f73 7428 7572 6c2c 206a 736f 6e5f 6461  ost(url, json_da
+0002d030: 7461 3d6a 736f 6e5f 6461 7461 290a 0a20  ta=json_data).. 
+0002d040: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+0002d050: 5f70 6572 5f61 705f 636f 6e66 6967 280a  _per_ap_config(.
+0002d060: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+0002d070: 2020 2020 2020 7365 7269 616c 3a20 7374        serial: st
+0002d080: 722c 0a20 2020 2029 202d 3e20 5265 7370  r,.    ) -> Resp
+0002d090: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0002d0a0: 2247 6574 2070 6572 2041 5020 7365 7474  "Get per AP sett
+0002d0b0: 696e 672e 0a0a 2020 2020 2020 2020 4172  ing...        Ar
+0002d0c0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
+0002d0d0: 7365 7269 616c 2028 7374 7229 3a20 5365  serial (str): Se
+0002d0e0: 7269 616c 204e 756d 6265 7220 6f66 2041  rial Number of A
+0002d0f0: 500a 0a20 2020 2020 2020 2052 6574 7572  P..        Retur
+0002d100: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0002d110: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0002d120: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0002d130: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0002d140: 0a20 2020 2020 2020 2075 726c 203d 2066  .        url = f
+0002d150: 222f 636f 6e66 6967 7572 6174 696f 6e2f  "/configuration/
+0002d160: 7631 2f61 705f 7365 7474 696e 6773 5f63  v1/ap_settings_c
+0002d170: 6c69 2f7b 7365 7269 616c 7d22 0a0a 2020  li/{serial}"..  
+0002d180: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0002d190: 6974 2073 656c 662e 6765 7428 7572 6c29  it self.get(url)
+0002d1a0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
+0002d1b0: 7265 706c 6163 655f 7065 725f 6170 5f63  replace_per_ap_c
+0002d1c0: 6f6e 6669 6728 0a20 2020 2020 2020 2073  onfig(.        s
+0002d1d0: 656c 662c 0a20 2020 2020 2020 2073 6572  elf,.        ser
+0002d1e0: 6961 6c3a 2073 7472 2c0a 2020 2020 2020  ial: str,.      
+0002d1f0: 2020 636c 6973 3a20 4c69 7374 5b73 7472    clis: List[str
+0002d200: 5d2c 0a20 2020 2029 202d 3e20 5265 7370  ],.    ) -> Resp
+0002d210: 6f6e 7365 3a0a 2020 2020 2020 2020 2222  onse:.        ""
+0002d220: 2252 6570 6c61 6365 2070 6572 2041 5020  "Replace per AP 
+0002d230: 7365 7474 696e 672e 0a0a 2020 2020 2020  setting...      
+0002d240: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+0002d250: 2020 2020 7365 7269 616c 2028 7374 7229      serial (str)
+0002d260: 3a20 5365 7269 616c 204e 756d 6265 7220  : Serial Number 
+0002d270: 6f66 2041 500a 2020 2020 2020 2020 2020  of AP.          
+0002d280: 2020 636c 6973 2028 4c69 7374 5b73 7472    clis (List[str
+0002d290: 5d29 3a20 416c 6c20 7065 7220 4150 2073  ]): All per AP s
+0002d2a0: 6574 7469 6e67 204c 6973 7420 696e 2043  etting List in C
+0002d2b0: 4c49 2066 6f72 6d61 740a 2020 2020 2020  LI format.      
+0002d2c0: 2020 2020 2020 2020 2020 4d75 7374 2070            Must p
+0002d2d0: 726f 7669 6465 2061 6c6c 2070 6572 2041  rovide all per A
+0002d2e0: 5020 7365 7474 696e 6773 2c20 6e6f 7420  P settings, not 
+0002d2f0: 7061 7274 6961 6c0a 0a20 2020 2020 2020  partial..       
+0002d300: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+0002d310: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+0002d320: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+0002d330: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+0002d340: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+0002d350: 726c 203d 2066 222f 636f 6e66 6967 7572  rl = f"/configur
+0002d360: 6174 696f 6e2f 7631 2f61 705f 7365 7474  ation/v1/ap_sett
+0002d370: 696e 6773 5f63 6c69 2f7b 7365 7269 616c  ings_cli/{serial
+0002d380: 7d22 0a0a 2020 2020 2020 2020 6a73 6f6e  }"..        json
+0002d390: 5f64 6174 6120 3d20 7b0a 2020 2020 2020  _data = {.      
+0002d3a0: 2020 2020 2020 2763 6c69 7327 3a20 636c        'clis': cl
+0002d3b0: 6973 0a20 2020 2020 2020 207d 0a0a 2020  is.        }..  
+0002d3c0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0002d3d0: 6974 2073 656c 662e 706f 7374 2875 726c  it self.post(url
+0002d3e0: 2c20 6a73 6f6e 5f64 6174 613d 6a73 6f6e  , json_data=json
+0002d3f0: 5f64 6174 6129 0a0a 2020 2020 6173 796e  _data)..    asyn
+0002d400: 6320 6465 6620 6765 745f 6272 6163 685f  c def get_brach_
+0002d410: 6865 616c 7468 280a 2020 2020 2020 2020  health(.        
+0002d420: 7365 6c66 2c0a 2020 2020 2020 2020 6e61  self,.        na
+0002d430: 6d65 3a20 7374 7220 3d20 4e6f 6e65 2c0a  me: str = None,.
+0002d440: 2020 2020 2020 2020 636f 6c75 6d6e 3a20          column: 
+0002d450: 696e 7420 3d20 4e6f 6e65 2c0a 2020 2020  int = None,.    
+0002d460: 2020 2020 7265 7665 7273 653a 2062 6f6f      reverse: boo
+0002d470: 6c20 3d20 4661 6c73 652c 0a20 2020 2020  l = False,.     
+0002d480: 2020 2066 696c 7465 7273 3a20 6469 6374     filters: dict
+0002d490: 203d 207b 7d2c 0a20 2020 2020 2020 206f   = {},.        o
+0002d4a0: 6666 7365 743a 2069 6e74 203d 2030 2c0a  ffset: int = 0,.
+0002d4b0: 2020 2020 2020 2020 6c69 6d69 743a 2069          limit: i
+0002d4c0: 6e74 203d 2031 3030 2c0a 2020 2020 2920  nt = 100,.    ) 
+0002d4d0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+0002d4e0: 2020 2020 2022 2222 4765 7420 6461 7461       """Get data
+0002d4f0: 2066 6f72 2061 6c6c 2073 6974 6573 2e0a   for all sites..
+0002d500: 0a20 2020 2020 2020 2041 7267 733a 0a20  .        Args:. 
+0002d510: 2020 2020 2020 2020 2020 206e 616d 6520             name 
+0002d520: 2873 7472 2c20 6f70 7469 6f6e 616c 293a  (str, optional):
+0002d530: 2073 6974 6520 2f20 6c61 6265 6c20 6e61   site / label na
+0002d540: 6d65 206f 7220 7061 7274 206f 6620 6974  me or part of it
+0002d550: 7320 6e61 6d65 0a20 2020 2020 2020 2020  s name.         
+0002d560: 2020 2063 6f6c 756d 6e20 2869 6e74 2c20     column (int, 
+0002d570: 6f70 7469 6f6e 616c 293a 2043 6f6c 756d  optional): Colum
+0002d580: 6e20 746f 2073 6f72 7420 6f6e 0a20 2020  n to sort on.   
+0002d590: 2020 2020 2020 2020 2072 6576 6572 7365           reverse
+0002d5a0: 2028 626f 6f6c 2c20 6f70 7469 6f6e 616c   (bool, optional
+0002d5b0: 293a 2053 6f72 7420 696e 2072 6576 6572  ): Sort in rever
+0002d5c0: 7365 206f 7264 6572 3a0a 2020 2020 2020  se order:.      
+0002d5d0: 2020 2020 2020 2020 2020 2a20 6173 6320            * asc 
+0002d5e0: 2d20 4173 6365 6e64 696e 672c 2066 726f  - Ascending, fro
+0002d5f0: 6d20 4120 746f 205a 2e0a 2020 2020 2020  m A to Z..      
+0002d600: 2020 2020 2020 2020 2020 2a20 6465 7363            * desc
+0002d610: 202d 2044 6573 6365 6e64 696e 672c 2066   - Descending, f
+0002d620: 726f 6d20 5a20 746f 2041 2e0a 2020 2020  rom Z to A..    
+0002d630: 2020 2020 2020 2020 2020 2020 5661 6c69              Vali
+0002d640: 6420 5661 6c75 6573 3a20 6173 632c 2064  d Values: asc, d
+0002d650: 6573 630a 2020 2020 2020 2020 2020 2020  esc.            
+0002d660: 6669 6c74 6572 7320 2873 7472 2c20 6f70  filters (str, op
+0002d670: 7469 6f6e 616c 293a 2053 6974 6520 7468  tional): Site th
+0002d680: 7265 7368 6f6c 6473 0a20 2020 2020 2020  resholds.       
+0002d690: 2020 2020 2020 2020 202a 2041 6c6c 2070           * All p
+0002d6a0: 726f 7065 7274 6965 7320 6f66 2061 2073  roperties of a s
+0002d6b0: 6974 6520 6361 6e20 6265 2075 7365 6420  ite can be used 
+0002d6c0: 6173 2066 696c 7465 7220 7061 7261 6d65  as filter parame
+0002d6d0: 7465 7273 2077 6974 6820 6120 7468 7265  ters with a thre
+0002d6e0: 7368 6f6c 640a 2020 2020 2020 2020 2020  shold.          
+0002d6f0: 2020 2020 2020 2a20 5468 6520 7261 6e67        * The rang
+0002d700: 6520 6669 6c74 6572 7320 6361 6e20 6265  e filters can be
+0002d710: 2063 6f6d 6269 6e65 6420 7769 7468 2074   combined with t
+0002d720: 6865 2063 6f6c 756d 6e20 6e61 6d65 7320  he column names 
+0002d730: 7769 7468 2022 5c5f 5f22 2020 2320 6e6f  with "\__"  # no
+0002d740: 7161 0a20 2020 2020 2020 2020 2020 2020  qa.             
+0002d750: 2020 202a 2046 6f72 2065 672e 202f 7369     * For eg. /si
+0002d760: 7465 3f64 6576 6963 655f 646f 776e 5c5f  te?device_down\_
+0002d770: 5f67 743d 3020 2d20 4c69 7374 7320 616c  _gt=0 - Lists al
+0002d780: 6c20 7369 7465 7320 7468 6174 2068 6176  l sites that hav
+0002d790: 6520 6d6f 7265 2074 6861 6e20 3120 6465  e more than 1 de
+0002d7a0: 7669 6365 2069 6e20 2023 206e 6f71 610a  vice in  # noqa.
+0002d7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d7c0: 646f 776e 2073 7461 7465 0a20 2020 2020  down state.     
+0002d7d0: 2020 2020 2020 2020 2020 202a 2046 6f72             * For
+0002d7e0: 2065 672e 202f 7369 7465 3f77 616e 5f75   eg. /site?wan_u
+0002d7f0: 706c 696e 6b73 5f64 6f77 6e5c 5f5f 6c74  plinks_down\__lt
+0002d800: 3d31 202d 204c 6973 7473 2061 6c6c 2073  =1 - Lists all s
+0002d810: 6974 6573 2074 6861 7420 6861 7665 206c  ites that have l
+0002d820: 6573 7320 7468 616e 2031 2077 616e 2020  ess than 1 wan  
+0002d830: 2320 6e6f 7161 0a20 2020 2020 2020 2020  # noqa.         
+0002d840: 2020 2020 2020 2069 6e20 646f 776e 2073         in down s
+0002d850: 7461 7465 0a20 2020 2020 2020 2020 2020  tate.           
+0002d860: 2020 2020 202a 2046 6f72 2065 672e 202f       * For eg. /
+0002d870: 7369 7465 3f64 6576 6963 655f 7570 5f5f  site?device_up__
+0002d880: 6774 3d31 2664 6576 6963 655f 7570 5c5f  gt=1&device_up\_
+0002d890: 5f6c 743d 3130 202d 204c 6973 7473 2061  _lt=10 - Lists a
+0002d8a0: 6c6c 2073 6974 6573 2074 6861 7420 6861  ll sites that ha
+0002d8b0: 7665 2031 2d31 3020 2023 206e 6f71 610a  ve 1-10  # noqa.
+0002d8c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d8d0: 6465 7669 6365 7320 696e 2075 7020 7374  devices in up st
+0002d8e0: 6174 650a 2020 2020 2020 2020 2020 2020  ate.            
+0002d8f0: 2020 2020 5661 6c69 6420 5661 6c75 6573      Valid Values
+0002d900: 3a20 6774 2020 2847 7265 6174 6572 2074  : gt  (Greater t
+0002d910: 6861 6e29 2c20 6c74 2020 284c 6573 7320  han), lt  (Less 
+0002d920: 7468 616e 292c 2067 7465 2028 4772 6561  than), gte (Grea
+0002d930: 7465 7220 7468 616e 206f 7220 6571 7561  ter than or equa
+0002d940: 6c20 746f 292c 0a20 2020 2020 2020 2020  l to),.         
+0002d950: 2020 2020 2020 206c 7465 2028 4c65 7373         lte (Less
+0002d960: 2074 6861 6e20 6f72 2065 7175 616c 2074   than or equal t
+0002d970: 6f29 0a20 2020 2020 2020 2020 2020 206f  o).            o
+0002d980: 6666 7365 7420 2869 6e74 2c20 6f70 7469  ffset (int, opti
+0002d990: 6f6e 616c 293a 2070 6167 696e 6174 696f  onal): paginatio
+0002d9a0: 6e20 7374 6172 7420 696e 6465 7820 4465  n start index De
+0002d9b0: 6661 756c 7473 2074 6f20 302e 0a20 2020  faults to 0..   
+0002d9c0: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
+0002d9d0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0002d9e0: 7061 6769 6e61 7469 6f6e 2073 697a 6520  pagination size 
+0002d9f0: 4465 6661 756c 7473 2074 6f20 3130 302e  Defaults to 100.
+0002da00: 0a0a 2020 2020 2020 2020 5265 7475 726e  ..        Return
+0002da10: 733a 0a20 2020 2020 2020 2020 2020 2052  s:.            R
+0002da20: 6573 706f 6e73 653a 2043 656e 7472 616c  esponse: Central
+0002da30: 4150 4920 5265 7370 6f6e 7365 206f 626a  API Response obj
+0002da40: 6563 740a 2020 2020 2020 2020 2222 220a  ect.        """.
+0002da50: 2020 2020 2020 2020 7572 6c20 3d20 222f          url = "/
+0002da60: 6272 616e 6368 6865 616c 7468 2f76 312f  branchhealth/v1/
+0002da70: 7369 7465 220a 0a20 2020 2020 2020 2070  site"..        p
+0002da80: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+0002da90: 2020 2020 2020 226e 616d 6522 3a20 6e61        "name": na
+0002daa0: 6d65 2c0a 2020 2020 2020 2020 2020 2020  me,.            
+0002dab0: 2320 2263 6f6c 756d 6e22 3a20 636f 6c75  # "column": colu
+0002dac0: 6d6e 2c0a 2020 2020 2020 2020 2020 2020  mn,.            
+0002dad0: 226f 7264 6572 223a 2022 6173 6322 2069  "order": "asc" i
+0002dae0: 6620 6e6f 7420 7265 7665 7273 6520 656c  f not reverse el
+0002daf0: 7365 2022 6465 7363 222c 0a20 2020 2020  se "desc",.     
+0002db00: 2020 2020 2020 2023 2022 7761 6e5f 7475         # "wan_tu
+0002db10: 6e6e 656c 735f 646f 776e 5c5f 5f67 7422  nnels_down\__gt"
+0002db20: 3a20 2230 222c 0a20 2020 2020 2020 2020  : "0",.         
+0002db30: 2020 2023 2022 7761 6e5f 7570 6c69 6e6b     # "wan_uplink
+0002db40: 735f 646f 776e 5c5f 5f67 7422 3a20 2230  s_down\__gt": "0
+0002db50: 222c 0a20 2020 2020 2020 2020 2020 2023  ",.            #
+0002db60: 202a 2a66 696c 7465 7273 2c0a 2020 2020   **filters,.    
+0002db70: 2020 2020 2020 2020 226f 6666 7365 7422          "offset"
+0002db80: 3a20 6f66 6673 6574 2c0a 2020 2020 2020  : offset,.      
+0002db90: 2020 2020 2020 226c 696d 6974 223a 206c        "limit": l
+0002dba0: 696d 6974 2c0a 2020 2020 2020 2020 7d0a  imit,.        }.
+0002dbb0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0002dbc0: 6177 6169 7420 7365 6c66 2e67 6574 2875  await self.get(u
+0002dbd0: 726c 2c20 7061 7261 6d73 3d70 6172 616d  rl, params=param
+0002dbe0: 7329 0a0a 2020 2020 6173 796e 6320 6465  s)..    async de
+0002dbf0: 6620 6765 745f 6172 6368 6976 6564 5f64  f get_archived_d
+0002dc00: 6576 6963 6573 280a 2020 2020 2020 2020  evices(.        
+0002dc10: 7365 6c66 2c0a 2020 2020 2020 2020 6f66  self,.        of
+0002dc20: 6673 6574 3a20 696e 7420 3d20 302c 0a20  fset: int = 0,. 
+0002dc30: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
+0002dc40: 7420 3d20 3130 302c 0a20 2020 2029 202d  t = 100,.    ) -
+0002dc50: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+0002dc60: 2020 2020 2222 2247 6574 2041 7263 6869      """Get Archi
+0002dc70: 7665 6420 6465 7669 6365 7320 6672 6f6d  ved devices from
+0002dc80: 2064 6576 6963 6520 696e 7665 6e74 6f72   device inventor
+0002dc90: 792e 0a0a 2020 2020 2020 2020 2f2f 2055  y...        // U
+0002dca0: 7365 6420 6279 2073 686f 7720 6172 6368  sed by show arch
+0002dcb0: 6976 6564 202f 2f0a 0a20 2020 2020 2020  ived //..       
+0002dcc0: 2041 7267 733a 0a20 2020 2020 2020 2020   Args:.         
+0002dcd0: 2020 206f 6666 7365 7420 2869 6e74 2c20     offset (int, 
+0002dce0: 6f70 7469 6f6e 616c 293a 206f 6666 7365  optional): offse
+0002dcf0: 7420 6f72 2070 6167 6520 6e75 6d62 6572  t or page number
+0002dd00: 2044 6566 6175 6c74 7320 746f 2030 2e0a   Defaults to 0..
+0002dd10: 2020 2020 2020 2020 2020 2020 6c69 6d69              limi
+0002dd20: 7420 2869 6e74 2c20 6f70 7469 6f6e 616c  t (int, optional
+0002dd30: 293a 204e 756d 6265 7220 6f66 2064 6576  ): Number of dev
+0002dd40: 6963 6573 2074 6f20 6765 7420 4465 6661  ices to get Defa
+0002dd50: 756c 7473 2074 6f20 3130 302e 0a0a 2020  ults to 100...  
+0002dd60: 2020 2020 2020 5265 7475 726e 733a 0a20        Returns:. 
+0002dd70: 2020 2020 2020 2020 2020 2052 6573 706f             Respo
+0002dd80: 6e73 653a 2043 656e 7472 616c 4150 4920  nse: CentralAPI 
+0002dd90: 5265 7370 6f6e 7365 206f 626a 6563 740a  Response object.
+0002dda0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0002ddb0: 2020 2020 7572 6c20 3d20 222f 706c 6174      url = "/plat
+0002ddc0: 666f 726d 2f64 6576 6963 655f 696e 7665  form/device_inve
+0002ddd0: 6e74 6f72 792f 7631 2f64 6576 6963 6573  ntory/v1/devices
+0002dde0: 2f61 7263 6869 7665 220a 0a20 2020 2020  /archive"..     
+0002ddf0: 2020 2070 6172 616d 7320 3d20 7b0a 2020     params = {.  
+0002de00: 2020 2020 2020 2020 2020 276f 6666 7365            'offse
+0002de10: 7427 3a20 6f66 6673 6574 2c0a 2020 2020  t': offset,.    
+0002de20: 2020 2020 2020 2020 276c 696d 6974 273a          'limit':
+0002de30: 206c 696d 6974 0a20 2020 2020 2020 207d   limit.        }
+0002de40: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0002de50: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
+0002de60: 7572 6c2c 2070 6172 616d 733d 7061 7261  url, params=para
+0002de70: 6d73 290a 0a20 2020 2061 7379 6e63 2064  ms)..    async d
+0002de80: 6566 2061 7263 6869 7665 5f64 6576 6963  ef archive_devic
+0002de90: 6573 280a 2020 2020 2020 2020 7365 6c66  es(.        self
+0002dea0: 2c0a 2020 2020 2020 2020 7365 7269 616c  ,.        serial
+0002deb0: 733a 204c 6973 745b 7374 725d 2c0a 2020  s: List[str],.  
+0002dec0: 2020 2920 2d3e 2052 6573 706f 6e73 653a    ) -> Response:
+0002ded0: 0a20 2020 2020 2020 2022 2222 4172 6368  .        """Arch
+0002dee0: 6976 6520 6465 7669 6365 7320 7573 696e  ive devices usin
+0002def0: 6720 5365 7269 616c 206c 6973 742e 0a0a  g Serial list...
+0002df00: 2020 2020 2020 2020 2f2f 2055 7365 6420          // Used 
+0002df10: 6279 2061 7263 6869 7665 2064 6576 202e  by archive dev .
+0002df20: 2e2e 202f 2f0a 0a20 2020 2020 2020 2041  .. //..        A
+0002df30: 7267 733a 0a20 2020 2020 2020 2020 2020  rgs:.           
+0002df40: 2073 6572 6961 6c73 2028 4c69 7374 5b73   serials (List[s
+0002df50: 7472 5d29 3a20 7365 7269 616c 730a 0a20  tr]): serials.. 
+0002df60: 2020 2020 2020 2052 6574 7572 6e73 3a0a         Returns:.
+0002df70: 2020 2020 2020 2020 2020 2020 5265 7370              Resp
+0002df80: 6f6e 7365 3a20 4365 6e74 7261 6c41 5049  onse: CentralAPI
+0002df90: 2052 6573 706f 6e73 6520 6f62 6a65 6374   Response object
+0002dfa0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0002dfb0: 2020 2020 2075 726c 203d 2022 2f70 6c61       url = "/pla
+0002dfc0: 7466 6f72 6d2f 6465 7669 6365 5f69 6e76  tform/device_inv
+0002dfd0: 656e 746f 7279 2f76 312f 6465 7669 6365  entory/v1/device
+0002dfe0: 732f 6172 6368 6976 6522 0a0a 2020 2020  s/archive"..    
+0002dff0: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
+0002e000: 7b0a 2020 2020 2020 2020 2020 2020 2773  {.            's
+0002e010: 6572 6961 6c73 273a 2075 7469 6c73 2e6c  erials': utils.l
+0002e020: 6973 7469 6679 2873 6572 6961 6c73 290a  istify(serials).
+0002e030: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+0002e040: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+0002e050: 7365 6c66 2e70 6f73 7428 7572 6c2c 206a  self.post(url, j
+0002e060: 736f 6e5f 6461 7461 3d6a 736f 6e5f 6461  son_data=json_da
+0002e070: 7461 290a 0a20 2020 2023 2041 5049 2d4e  ta)..    # API-N
+0002e080: 4f54 4520 6365 6e63 6c69 2072 656d 6f76  OTE cencli remov
+0002e090: 6520 6172 6368 6976 6520 5b64 6576 6963  e archive [devic
+0002e0a0: 6573 5d0a 2020 2020 6173 796e 6320 6465  es].    async de
+0002e0b0: 6620 756e 6172 6368 6976 655f 6465 7669  f unarchive_devi
+0002e0c0: 6365 7328 0a20 2020 2020 2020 2073 656c  ces(.        sel
+0002e0d0: 662c 0a20 2020 2020 2020 2073 6572 6961  f,.        seria
+0002e0e0: 6c73 3a20 4c69 7374 5b73 7472 5d2c 0a20  ls: List[str],. 
+0002e0f0: 2020 2029 202d 3e20 5265 7370 6f6e 7365     ) -> Response
+0002e100: 3a0a 2020 2020 2020 2020 2222 2255 6e61  :.        """Una
+0002e110: 7263 6869 7665 2064 6576 6963 6573 2075  rchive devices u
+0002e120: 7369 6e67 2053 6572 6961 6c20 6c69 7374  sing Serial list
+0002e130: 2e0a 0a20 2020 2020 2020 202f 2f20 5573  ...        // Us
+0002e140: 6564 2062 7920 756e 6172 6368 6976 6520  ed by unarchive 
+0002e150: 6465 7620 2e2e 2e20 2f2f 0a0a 2020 2020  dev ... //..    
+0002e160: 2020 2020 4172 6773 3a0a 2020 2020 2020      Args:.      
+0002e170: 2020 2020 2020 7365 7269 616c 7320 284c        serials (L
+0002e180: 6973 745b 7374 725d 293a 2073 6572 6961  ist[str]): seria
+0002e190: 6c73 0a0a 2020 2020 2020 2020 5265 7475  ls..        Retu
+0002e1a0: 726e 733a 0a20 2020 2020 2020 2020 2020  rns:.           
+0002e1b0: 2052 6573 706f 6e73 653a 2043 656e 7472   Response: Centr
+0002e1c0: 616c 4150 4920 5265 7370 6f6e 7365 206f  alAPI Response o
+0002e1d0: 626a 6563 740a 2020 2020 2020 2020 2222  bject.        ""
+0002e1e0: 220a 2020 2020 2020 2020 7572 6c20 3d20  ".        url = 
+0002e1f0: 222f 706c 6174 666f 726d 2f64 6576 6963  "/platform/devic
+0002e200: 655f 696e 7665 6e74 6f72 792f 7631 2f64  e_inventory/v1/d
+0002e210: 6576 6963 6573 2f75 6e61 7263 6869 7665  evices/unarchive
+0002e220: 220a 0a20 2020 2020 2020 206a 736f 6e5f  "..        json_
+0002e230: 6461 7461 203d 207b 0a20 2020 2020 2020  data = {.       
+0002e240: 2020 2020 2027 7365 7269 616c 7327 3a20       'serials': 
+0002e250: 7574 696c 732e 6c69 7374 6966 7928 7365  utils.listify(se
+0002e260: 7269 616c 7329 0a20 2020 2020 2020 207d  rials).        }
+0002e270: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0002e280: 2061 7761 6974 2073 656c 662e 706f 7374   await self.post
+0002e290: 2875 726c 2c20 6a73 6f6e 5f64 6174 613d  (url, json_data=
+0002e2a0: 6a73 6f6e 5f64 6174 6129 0a0a 2020 2020  json_data)..    
+0002e2b0: 6173 796e 6320 6465 6620 6765 745f 706f  async def get_po
+0002e2c0: 7274 616c 7328 0a20 2020 2020 2020 2073  rtals(.        s
+0002e2d0: 656c 662c 0a20 2020 2020 2020 2073 6f72  elf,.        sor
+0002e2e0: 743a 2073 7472 203d 2027 2b6e 616d 6527  t: str = '+name'
+0002e2f0: 2c0a 2020 2020 2020 2020 6f66 6673 6574  ,.        offset
+0002e300: 3a20 696e 7420 3d20 302c 0a20 2020 2020  : int = 0,.     
+0002e310: 2020 206c 696d 6974 3a20 696e 7420 3d20     limit: int = 
+0002e320: 3130 302c 0a20 2020 2029 202d 3e20 5265  100,.    ) -> Re
+0002e330: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+0002e340: 2222 2247 6574 2061 6c6c 2070 6f72 7461  """Get all porta
+0002e350: 6c73 2077 6974 6820 6c69 6d69 7465 6420  ls with limited 
+0002e360: 6461 7461 2e0a 0a20 2020 2020 2020 202f  data...        /
+0002e370: 2f20 5573 6564 2062 7920 7368 6f77 2070  / Used by show p
+0002e380: 6f72 7461 6c73 202e 2e2e 202f 2f0a 0a20  ortals ... //.. 
+0002e390: 2020 2020 2020 2041 7267 733a 0a20 2020         Args:.   
+0002e3a0: 2020 2020 2020 2020 2073 6f72 7420 2873           sort (s
+0002e3b0: 7472 2c20 6f70 7469 6f6e 616c 293a 202b  tr, optional): +
+0002e3c0: 2069 7320 666f 7220 6173 6365 6e64 696e   is for ascendin
+0002e3d0: 6720 2061 6e64 202d 2066 6f72 2064 6573  g  and - for des
+0002e3e0: 6365 6e64 696e 6720 6f72 6465 7220 2c20  cending order , 
+0002e3f0: 736f 7274 7320 6279 206e 616d 6520 666f  sorts by name fo
+0002e400: 7220 6e6f 770a 2020 2020 2020 2020 2020  r now.          
+0002e410: 2020 2020 2020 5661 6c69 6420 5661 6c75        Valid Valu
+0002e420: 6573 3a20 2b6e 616d 652c 202d 6e61 6d65  es: +name, -name
+0002e430: 0a20 2020 2020 2020 2020 2020 206f 6666  .            off
+0002e440: 7365 7420 2869 6e74 2c20 6f70 7469 6f6e  set (int, option
+0002e450: 616c 293a 2053 7461 7274 696e 6720 696e  al): Starting in
+0002e460: 6465 7820 6f66 2065 6c65 6d65 6e74 2066  dex of element f
+0002e470: 6f72 2061 2070 6167 696e 6174 6564 2071  or a paginated q
+0002e480: 7565 7279 2044 6566 6175 6c74 7320 746f  uery Defaults to
+0002e490: 2030 2e0a 2020 2020 2020 2020 2020 2020   0..            
+0002e4a0: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+0002e4b0: 6f6e 616c 293a 204e 756d 6265 7220 6f66  onal): Number of
+0002e4c0: 2069 7465 6d73 2072 6571 7569 7265 6420   items required 
+0002e4d0: 7065 7220 7175 6572 7920 4465 6661 756c  per query Defaul
+0002e4e0: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
+0002e4f0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+0002e500: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+0002e510: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+0002e520: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+0002e530: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0002e540: 2020 7572 6c20 3d20 222f 6775 6573 742f    url = "/guest/
+0002e550: 7631 2f70 6f72 7461 6c73 220a 0a20 2020  v1/portals"..   
+0002e560: 2020 2020 2070 6172 616d 7320 3d20 7b0a       params = {.
+0002e570: 2020 2020 2020 2020 2020 2020 2773 6f72              'sor
+0002e580: 7427 3a20 736f 7274 2c0a 2020 2020 2020  t': sort,.      
+0002e590: 2020 2020 2020 276f 6666 7365 7427 3a20        'offset': 
+0002e5a0: 6f66 6673 6574 2c0a 2020 2020 2020 2020  offset,.        
+0002e5b0: 2020 2020 276c 696d 6974 273a 206c 696d      'limit': lim
+0002e5c0: 6974 0a20 2020 2020 2020 207d 0a0a 2020  it.        }..  
+0002e5d0: 2020 2020 2020 7265 7475 726e 2061 7761        return awa
+0002e5e0: 6974 2073 656c 662e 6765 7428 7572 6c2c  it self.get(url,
+0002e5f0: 2070 6172 616d 733d 7061 7261 6d73 290a   params=params).
+0002e600: 0a20 2020 2061 7379 6e63 2064 6566 2067  .    async def g
+0002e610: 6574 5f76 6973 6974 6f72 7328 0a20 2020  et_visitors(.   
+0002e620: 2020 2020 2073 656c 662c 0a20 2020 2020       self,.     
+0002e630: 2020 2070 6f72 7461 6c5f 6964 3a20 7374     portal_id: st
+0002e640: 722c 0a20 2020 2020 2020 2073 6f72 743a  r,.        sort:
+0002e650: 2073 7472 203d 2027 2b6e 616d 6527 2c0a   str = '+name',.
+0002e660: 2020 2020 2020 2020 6669 6c74 6572 5f62          filter_b
+0002e670: 793a 2073 7472 203d 204e 6f6e 652c 0a20  y: str = None,. 
+0002e680: 2020 2020 2020 2066 696c 7465 725f 7661         filter_va
+0002e690: 6c75 653a 2073 7472 203d 204e 6f6e 652c  lue: str = None,
+0002e6a0: 0a20 2020 2020 2020 206f 6666 7365 743a  .        offset:
+0002e6b0: 2069 6e74 203d 2030 2c0a 2020 2020 2020   int = 0,.      
+0002e6c0: 2020 6c69 6d69 743a 2069 6e74 203d 2031    limit: int = 1
+0002e6d0: 3030 2c0a 2020 2020 2920 2d3e 2052 6573  00,.    ) -> Res
+0002e6e0: 706f 6e73 653a 0a20 2020 2020 2020 2022  ponse:.        "
+0002e6f0: 2222 4765 7420 616c 6c20 7669 7369 746f  ""Get all visito
+0002e700: 7273 2063 7265 6174 6564 2061 6761 696e  rs created again
+0002e710: 7374 2061 2070 6f72 7461 6c2e 0a0a 2020  st a portal...  
+0002e720: 2020 2020 2020 4172 6773 3a0a 2020 2020        Args:.    
+0002e730: 2020 2020 2020 2020 706f 7274 616c 5f69          portal_i
+0002e740: 6420 2873 7472 293a 2050 6f72 7461 6c20  d (str): Portal 
+0002e750: 4944 206f 6620 7468 6520 7370 6c61 7368  ID of the splash
+0002e760: 2070 6167 650a 2020 2020 2020 2020 2020   page.          
+0002e770: 2020 736f 7274 2028 7374 722c 206f 7074    sort (str, opt
+0002e780: 696f 6e61 6c29 3a20 2b20 6973 2066 6f72  ional): + is for
+0002e790: 2061 7363 656e 6469 6e67 2020 616e 6420   ascending  and 
+0002e7a0: 2d20 666f 7220 6465 7363 656e 6469 6e67  - for descending
+0002e7b0: 206f 7264 6572 202c 2073 6f72 7473 2062   order , sorts b
+0002e7c0: 7920 6e61 6d65 2066 6f72 0a20 2020 2020  y name for.     
+0002e7d0: 2020 2020 2020 2020 2020 206e 6f77 2020             now  
+0002e7e0: 5661 6c69 6420 5661 6c75 6573 3a20 2b6e  Valid Values: +n
+0002e7f0: 616d 652c 202d 6e61 6d65 0a20 2020 2020  ame, -name.     
+0002e800: 2020 2020 2020 2066 696c 7465 725f 6279         filter_by
+0002e810: 2028 7374 722c 206f 7074 696f 6e61 6c29   (str, optional)
+0002e820: 3a20 6669 6c74 6572 2062 7920 656d 6169  : filter by emai
+0002e830: 6c20 6f72 206e 616d 6520 2056 616c 6964  l or name  Valid
+0002e840: 2056 616c 7565 733a 206e 616d 652c 2065   Values: name, e
+0002e850: 6d61 696c 0a20 2020 2020 2020 2020 2020  mail.           
+0002e860: 2066 696c 7465 725f 7661 6c75 6520 2873   filter_value (s
+0002e870: 7472 2c20 6f70 7469 6f6e 616c 293a 2066  tr, optional): f
+0002e880: 696c 7465 7220 7661 6c75 650a 2020 2020  ilter value.    
+0002e890: 2020 2020 2020 2020 6f66 6673 6574 2028          offset (
+0002e8a0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+0002e8b0: 5374 6172 7469 6e67 2069 6e64 6578 206f  Starting index o
+0002e8c0: 6620 656c 656d 656e 7420 666f 7220 6120  f element for a 
+0002e8d0: 7061 6769 6e61 7465 6420 7175 6572 7920  paginated query 
+0002e8e0: 4465 6661 756c 7473 2074 6f20 302e 0a20  Defaults to 0.. 
+0002e8f0: 2020 2020 2020 2020 2020 206c 696d 6974             limit
+0002e900: 2028 696e 742c 206f 7074 696f 6e61 6c29   (int, optional)
+0002e910: 3a20 4e75 6d62 6572 206f 6620 6974 656d  : Number of item
+0002e920: 7320 7265 7175 6972 6564 2070 6572 2071  s required per q
+0002e930: 7565 7279 2044 6566 6175 6c74 7320 746f  uery Defaults to
+0002e940: 2031 3030 2e0a 0a20 2020 2020 2020 2052   100...        R
+0002e950: 6574 7572 6e73 3a0a 2020 2020 2020 2020  eturns:.        
+0002e960: 2020 2020 5265 7370 6f6e 7365 3a20 4365      Response: Ce
+0002e970: 6e74 7261 6c41 5049 2052 6573 706f 6e73  ntralAPI Respons
+0002e980: 6520 6f62 6a65 6374 0a20 2020 2020 2020  e object.       
+0002e990: 2022 2222 0a20 2020 2020 2020 2075 726c   """.        url
+0002e9a0: 203d 2066 222f 6775 6573 742f 7631 2f70   = f"/guest/v1/p
+0002e9b0: 6f72 7461 6c73 2f7b 706f 7274 616c 5f69  ortals/{portal_i
+0002e9c0: 647d 2f76 6973 6974 6f72 7322 0a0a 2020  d}/visitors"..  
+0002e9d0: 2020 2020 2020 7061 7261 6d73 203d 207b        params = {
+0002e9e0: 0a20 2020 2020 2020 2020 2020 2027 736f  .            'so
+0002e9f0: 7274 273a 2073 6f72 742c 0a20 2020 2020  rt': sort,.     
+0002ea00: 2020 2020 2020 2027 6669 6c74 6572 5f62         'filter_b
+0002ea10: 7927 3a20 6669 6c74 6572 5f62 792c 0a20  y': filter_by,. 
+0002ea20: 2020 2020 2020 2020 2020 2027 6669 6c74             'filt
+0002ea30: 6572 5f76 616c 7565 273a 2066 696c 7465  er_value': filte
+0002ea40: 725f 7661 6c75 652c 0a20 2020 2020 2020  r_value,.       
+0002ea50: 2020 2020 2027 6f66 6673 6574 273a 206f       'offset': o
+0002ea60: 6666 7365 742c 0a20 2020 2020 2020 2020  ffset,.         
+0002ea70: 2020 2027 6c69 6d69 7427 3a20 6c69 6d69     'limit': limi
+0002ea80: 740a 2020 2020 2020 2020 7d0a 2020 2020  t.        }.    
+0002ea90: 2020 2020 7061 7261 6d73 203d 2075 7469      params = uti
+0002eaa0: 6c73 2e73 7472 6970 5f6e 6f6e 6528 7061  ls.strip_none(pa
+0002eab0: 7261 6d73 290a 0a20 2020 2020 2020 2072  rams)..        r
+0002eac0: 6574 7572 6e20 6177 6169 7420 7365 6c66  eturn await self
+0002ead0: 2e67 6574 2875 726c 2c20 7061 7261 6d73  .get(url, params
+0002eae0: 3d70 6172 616d 7329 0a0a 0a20 2020 2061  =params)...    a
+0002eaf0: 7379 6e63 2064 6566 2061 6464 5f76 6973  sync def add_vis
+0002eb00: 6974 6f72 280a 2020 2020 2020 2020 7365  itor(.        se
+0002eb10: 6c66 2c0a 2020 2020 2020 2020 706f 7274  lf,.        port
+0002eb20: 616c 5f69 643a 2073 7472 2c0a 2020 2020  al_id: str,.    
+0002eb30: 2020 2020 6e61 6d65 3a20 7374 722c 0a20      name: str,. 
+0002eb40: 2020 2020 2020 2023 2069 643a 2073 7472         # id: str
+0002eb50: 2c0a 2020 2020 2020 2020 7061 7373 776f  ,.        passwo
+0002eb60: 7264 3a20 7374 7220 3d20 4e6f 6e65 2c0a  rd: str = None,.
+0002eb70: 2020 2020 2020 2020 2a2c 0a20 2020 2020          *,.     
+0002eb80: 2020 2063 6f6d 7061 6e79 5f6e 616d 653a     company_name:
+0002eb90: 2073 7472 203d 204e 6f6e 652c 0a20 2020   str = None,.   
+0002eba0: 2020 2020 2070 686f 6e65 3a20 7374 7220       phone: str 
+0002ebb0: 7c20 4e6f 6e65 203d 204e 6f6e 652c 0a20  | None = None,. 
+0002ebc0: 2020 2020 2020 2065 6d61 696c 3a20 7374         email: st
+0002ebd0: 7220 7c20 4e6f 6e65 203d 204e 6f6e 652c  r | None = None,
+0002ebe0: 0a20 2020 2020 2020 2076 616c 6964 5f66  .        valid_f
+0002ebf0: 6f72 6576 6572 3a20 626f 6f6c 203d 2046  orever: bool = F
+0002ec00: 616c 7365 2c0a 2020 2020 2020 2020 7661  alse,.        va
+0002ec10: 6c69 645f 6461 7973 3a20 696e 7420 3d20  lid_days: int = 
+0002ec20: 332c 0a20 2020 2020 2020 2076 616c 6964  3,.        valid
+0002ec30: 5f68 6f75 7273 3a20 696e 7420 3d20 302c  _hours: int = 0,
+0002ec40: 0a20 2020 2020 2020 2076 616c 6964 5f6d  .        valid_m
+0002ec50: 696e 7574 6573 3a20 696e 7420 3d20 302c  inutes: int = 0,
+0002ec60: 0a20 2020 2020 2020 206e 6f74 6966 793a  .        notify:
+0002ec70: 2062 6f6f 6c20 7c20 4e6f 6e65 203d 204e   bool | None = N
+0002ec80: 6f6e 652c 0a20 2020 2020 2020 206e 6f74  one,.        not
+0002ec90: 6966 795f 746f 3a20 636f 6e73 7461 6e74  ify_to: constant
+0002eca0: 732e 4e6f 7469 6679 546f 4172 6773 207c  s.NotifyToArgs |
+0002ecb0: 204e 6f6e 6520 3d20 4e6f 6e65 2c0a 2020   None = None,.  
+0002ecc0: 2020 2020 2020 6973 5f65 6e61 626c 6564        is_enabled
+0002ecd0: 3a20 626f 6f6c 203d 2054 7275 652c 0a20  : bool = True,. 
+0002ece0: 2020 2020 2020 2023 2073 7461 7475 733a         # status:
+0002ecf0: 2062 6f6f 6c2c 0a20 2020 2020 2020 2023   bool,.        #
+0002ed00: 2063 7265 6174 6564 5f61 743a 2073 7472   created_at: str
+0002ed10: 2c0a 2020 2020 2020 2020 2320 6578 7069  ,.        # expi
+0002ed20: 7265 5f61 743a 2073 7472 2c0a 2020 2020  re_at: str,.    
+0002ed30: 2920 2d3e 2052 6573 706f 6e73 653a 0a20  ) -> Response:. 
+0002ed40: 2020 2020 2020 2022 2222 4372 6561 7465         """Create
+0002ed50: 2061 206e 6577 2067 7565 7374 2076 6973   a new guest vis
+0002ed60: 6974 6f72 206f 6620 6120 706f 7274 616c  itor of a portal
+0002ed70: 2e0a 0a20 2020 2020 2020 2041 7267 733a  ...        Args:
+0002ed80: 0a20 2020 2020 2020 2020 2020 2070 6f72  .            por
+0002ed90: 7461 6c5f 6964 2028 7374 7229 3a20 506f  tal_id (str): Po
+0002eda0: 7274 616c 2049 4420 6f66 2074 6865 2073  rtal ID of the s
+0002edb0: 706c 6173 6820 7061 6765 0a20 2020 2020  plash page.     
+0002edc0: 2020 2020 2020 206e 616d 6520 2873 7472         name (str
+0002edd0: 293a 2056 6973 6974 6f72 2061 6363 6f75  ): Visitor accou
+0002ede0: 6e74 206e 616d 650a 2020 2020 2020 2020  nt name.        
+0002edf0: 2020 2020 7061 7373 776f 7264 2028 7374      password (st
+0002ee00: 7229 3a20 5061 7373 776f 7264 0a20 2020  r): Password.   
+0002ee10: 2020 2020 2020 2020 2063 6f6d 7061 6e79           company
+0002ee20: 5f6e 616d 6520 2873 7472 293a 2043 6f6d  _name (str): Com
+0002ee30: 7061 6e79 206e 616d 6520 6f66 2074 6865  pany name of the
+0002ee40: 2076 6973 6974 6f72 0a20 2020 2020 2020   visitor.       
+0002ee50: 2020 2020 2070 686f 6e65 2028 7374 7229       phone (str)
+0002ee60: 3a20 5068 6f6e 6520 6e75 6d62 6572 206f  : Phone number o
+0002ee70: 6620 7468 6520 7669 7369 746f 723b 2046  f the visitor; F
+0002ee80: 6f72 6d61 7420 5b2b 436f 756e 7472 7943  ormat [+CountryC
+0002ee90: 6f64 655d 5b50 686f 6e65 4e75 6d62 6572  ode][PhoneNumber
+0002eea0: 5d0a 2020 2020 2020 2020 2020 2020 656d  ].            em
+0002eeb0: 6169 6c20 2873 7472 293a 2045 6d61 696c  ail (str): Email
+0002eec0: 2061 6464 7265 7373 206f 6620 7468 6520   address of the 
+0002eed0: 7669 7369 746f 720a 2020 2020 2020 2020  visitor.        
+0002eee0: 2020 2020 7661 6c69 645f 666f 7265 7665      valid_foreve
+0002eef0: 7220 2862 6f6f 6c29 3a20 5669 7369 746f  r (bool): Visito
+0002ef00: 7220 6163 636f 756e 7420 7769 6c6c 206e  r account will n
+0002ef10: 6f74 2065 7870 6972 6520 7768 656e 2074  ot expire when t
+0002ef20: 6869 7320 6973 2073 6574 2074 6f20 7472  his is set to tr
+0002ef30: 7565 0a20 2020 2020 2020 2020 2020 2076  ue.            v
+0002ef40: 616c 6964 5f64 6179 7320 2869 6e74 293a  alid_days (int):
+0002ef50: 2041 6363 6f75 6e74 2076 616c 6964 6974   Account validit
+0002ef60: 7920 696e 2064 6179 730a 2020 2020 2020  y in days.      
+0002ef70: 2020 2020 2020 7661 6c69 645f 686f 7572        valid_hour
+0002ef80: 7320 2869 6e74 293a 2041 6363 6f75 6e74  s (int): Account
+0002ef90: 2076 616c 6964 6974 7920 696e 2068 6f75   validity in hou
+0002efa0: 7273 0a20 2020 2020 2020 2020 2020 2076  rs.            v
+0002efb0: 616c 6964 5f6d 696e 7574 6573 2028 696e  alid_minutes (in
+0002efc0: 7429 3a20 4163 636f 756e 7420 7661 6c69  t): Account vali
+0002efd0: 6469 7479 2069 6e20 6d69 6e75 7465 730a  dity in minutes.
+0002efe0: 2020 2020 2020 2020 2020 2020 6e6f 7469              noti
+0002eff0: 6679 2028 626f 6f6c 293a 2046 6c61 6720  fy (bool): Flag 
+0002f000: 746f 206e 6f74 6966 7920 7468 6520 7061  to notify the pa
+0002f010: 7373 776f 7264 2076 6961 2065 6d61 696c  ssword via email
+0002f020: 206f 7220 6e75 6d62 6572 0a20 2020 2020   or number.     
+0002f030: 2020 2020 2020 206e 6f74 6966 795f 746f         notify_to
+0002f040: 2028 7374 7229 3a20 4e6f 7469 6679 2074   (str): Notify t
+0002f050: 6f20 656d 6169 6c20 6f72 2070 686f 6e65  o email or phone
+0002f060: 2e20 4465 6675 616c 7420 6973 2070 686f  . Defualt is pho
+0002f070: 6e65 2077 6865 6e20 6974 2069 7320 7072  ne when it is pr
+0002f080: 6f76 6964 6564 0a20 2020 2020 2020 2020  ovided.         
+0002f090: 2020 2020 2020 206f 7468 6572 7769 7365         otherwise
+0002f0a0: 2065 6d61 696c 2e20 2056 616c 6964 2056   email.  Valid V
+0002f0b0: 616c 7565 733a 2065 6d61 696c 2c20 7068  alues: email, ph
+0002f0c0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+0002f0d0: 6973 5f65 6e61 626c 6564 2028 626f 6f6c  is_enabled (bool
+0002f0e0: 293a 2045 6e61 626c 6520 6f72 2064 6973  ): Enable or dis
+0002f0f0: 6162 6c65 2074 6865 2076 6973 6974 6f72  able the visitor
+0002f100: 2061 6363 6f75 6e74 0a20 2020 2020 2020   account.       
+0002f110: 2020 2020 2023 2069 6420 2873 7472 293a       # id (str):
+0002f120: 204e 4120 666f 7220 7669 7369 746f 7220   NA for visitor 
+0002f130: 706f 7374 2f70 7574 206d 6574 686f 642e  post/put method.
+0002f140: 2049 4420 6f66 2074 6865 2076 6973 6974   ID of the visit
+0002f150: 6f72 0a20 2020 2020 2020 2020 2020 2023  or.            #
+0002f160: 2073 7461 7475 7320 2862 6f6f 6c29 3a20   status (bool): 
+0002f170: 5468 6973 2066 6965 6c64 2070 726f 7669  This field provi
+0002f180: 6465 7320 7374 6174 7573 206f 6620 7468  des status of th
+0002f190: 6520 6163 636f 756e 742e 2052 6574 7572  e account. Retur
+0002f1a0: 6e73 2074 7275 6520 7768 656e 2065 6e61  ns true when ena
+0002f1b0: 626c 6564 2061 6e64 0a20 2020 2020 2020  bled and.       
+0002f1c0: 2020 2020 2023 2020 2020 206e 6f74 2065       #     not e
+0002f1d0: 7870 6972 6564 2e20 4e41 2066 6f72 2076  xpired. NA for v
+0002f1e0: 6973 6974 6f72 2070 6f73 742f 7075 7420  isitor post/put 
+0002f1f0: 6d65 7468 6f64 2e20 5468 6973 2069 7320  method. This is 
+0002f200: 6f70 7469 6f6e 616c 2066 6965 6c64 732e  optional fields.
+0002f210: 0a20 2020 2020 2020 2020 2020 2023 2063  .            # c
+0002f220: 7265 6174 6564 5f61 7420 2873 7472 293a  reated_at (str):
+0002f230: 2054 6869 7320 6669 656c 6420 696e 6469   This field indi
+0002f240: 6361 7465 7320 7468 6520 6372 6561 7465  cates the create
+0002f250: 6420 6461 7465 2074 696d 6573 7461 6d70  d date timestamp
+0002f260: 2076 616c 7565 2e20 4974 2069 7320 6765   value. It is ge
+0002f270: 6e65 7261 7465 640a 2020 2020 2020 2020  nerated.        
+0002f280: 2020 2020 2320 2020 2020 7768 696c 6520      #     while 
+0002f290: 6372 6561 7469 6e67 2076 6973 6974 6f72  creating visitor
+0002f2a0: 2e20 4e41 2066 6f72 2076 6973 6974 6f72  . NA for visitor
+0002f2b0: 2070 6f73 742f 7075 7420 6d65 7468 6f64   post/put method
+0002f2c0: 2e20 5468 6973 2069 7320 6f70 7469 6f6e  . This is option
+0002f2d0: 616c 2066 6965 6c64 2e0a 2020 2020 2020  al field..      
+0002f2e0: 2020 2020 2020 2320 6578 7069 7265 5f61        # expire_a
+0002f2f0: 7420 2873 7472 293a 2054 6869 7320 6669  t (str): This fi
+0002f300: 656c 6420 696e 6469 6361 7465 7320 6578  eld indicates ex
+0002f310: 7069 7279 2074 696d 6520 7469 6d65 7374  piry time timest
+0002f320: 616d 7020 7661 6c75 652e 2049 7420 6973  amp value. It is
+0002f330: 2067 656e 6572 6174 6564 2062 6173 6564   generated based
+0002f340: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+0002f350: 2020 206f 6e20 7468 6520 7661 6c69 645f     on the valid_
+0002f360: 7469 6c6c 2076 616c 7565 2061 6e64 2063  till value and c
+0002f370: 7265 6174 6564 5f61 7420 7469 6d65 2e20  reated_at time. 
+0002f380: 4e41 2066 6f72 2076 6973 6974 6f72 2070  NA for visitor p
+0002f390: 6f73 742f 7075 7420 6d65 7468 6f64 2e20  ost/put method. 
+0002f3a0: 5468 6973 2069 730a 2020 2020 2020 2020  This is.        
+0002f3b0: 2020 2020 2320 2020 2020 6f70 7469 6f6e      #     option
+0002f3c0: 616c 2066 6965 6c64 0a0a 2020 2020 2020  al field..      
+0002f3d0: 2020 5265 7475 726e 733a 0a20 2020 2020    Returns:.     
+0002f3e0: 2020 2020 2020 2052 6573 706f 6e73 653a         Response:
+0002f3f0: 2043 656e 7472 616c 4150 4920 5265 7370   CentralAPI Resp
+0002f400: 6f6e 7365 206f 626a 6563 740a 2020 2020  onse object.    
+0002f410: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0002f420: 7572 6c20 3d20 6622 2f67 7565 7374 2f76  url = f"/guest/v
+0002f430: 312f 706f 7274 616c 732f 7b70 6f72 7461  1/portals/{porta
+0002f440: 6c5f 6964 7d2f 7669 7369 746f 7273 220a  l_id}/visitors".
+0002f450: 0a20 2020 2020 2020 2075 7365 725f 6461  .        user_da
+0002f460: 7461 203d 207b 0a20 2020 2020 2020 2020  ta = {.         
+0002f470: 2020 2027 7068 6f6e 6527 3a20 7068 6f6e     'phone': phon
+0002f480: 652c 0a20 2020 2020 2020 2020 2020 2027  e,.            '
+0002f490: 656d 6169 6c27 3a20 656d 6169 6c0a 2020  email': email.  
+0002f4a0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+0002f4b0: 2320 4150 4920 7265 7175 6972 6573 2070  # API requires p
+0002f4c0: 686f 6e65 2061 6e64 2065 6d61 696c 2c20  hone and email, 
+0002f4d0: 6275 7420 616c 6c6f 7773 204e 6f6e 652f  but allows None/
+0002f4e0: 6e75 6c6c 2061 7320 7661 6c75 6520 6465  null as value de
+0002f4f0: 7065 6e64 696e 6720 6f6e 2068 6f77 2070  pending on how p
+0002f500: 6f72 7461 6c20 6973 2063 6f6e 6669 6775  ortal is configu
+0002f510: 7265 640a 2020 2020 2020 2020 2320 7573  red.        # us
+0002f520: 6572 5f64 6174 6120 3d20 7574 696c 732e  er_data = utils.
+0002f530: 7374 7269 705f 6e6f 6e65 2875 7365 725f  strip_none(user_
+0002f540: 6461 7461 290a 0a20 2020 2020 2020 206a  data)..        j
+0002f550: 736f 6e5f 6461 7461 203d 207b 0a20 2020  son_data = {.   
+0002f560: 2020 2020 2020 2020 2027 6e61 6d65 273a           'name':
+0002f570: 206e 616d 652c 0a20 2020 2020 2020 2020   name,.         
+0002f580: 2020 2027 636f 6d70 616e 795f 6e61 6d65     'company_name
+0002f590: 273a 2063 6f6d 7061 6e79 5f6e 616d 652c  ': company_name,
+0002f5a0: 0a20 2020 2020 2020 2020 2020 2027 6973  .            'is
+0002f5b0: 5f65 6e61 626c 6564 273a 2069 735f 656e  _enabled': is_en
+0002f5c0: 6162 6c65 642c 0a20 2020 2020 2020 2020  abled,.         
+0002f5d0: 2020 2027 7661 6c69 645f 7469 6c6c 5f6e     'valid_till_n
+0002f5e0: 6f5f 6c69 6d69 7427 3a20 7661 6c69 645f  o_limit': valid_
+0002f5f0: 666f 7265 7665 722c 0a20 2020 2020 2020  forever,.       
+0002f600: 2020 2020 2027 7661 6c69 645f 7469 6c6c       'valid_till
+0002f610: 5f64 6179 7327 3a20 7661 6c69 645f 6461  _days': valid_da
+0002f620: 7973 2c0a 2020 2020 2020 2020 2020 2020  ys,.            
+0002f630: 2776 616c 6964 5f74 696c 6c5f 686f 7572  'valid_till_hour
+0002f640: 7327 3a20 7661 6c69 645f 686f 7572 732c  s': valid_hours,
+0002f650: 0a20 2020 2020 2020 2020 2020 2027 7661  .            'va
+0002f660: 6c69 645f 7469 6c6c 5f6d 696e 7574 6573  lid_till_minutes
+0002f670: 273a 2076 616c 6964 5f6d 696e 7574 6573  ': valid_minutes
+0002f680: 2c0a 2020 2020 2020 2020 2020 2020 276e  ,.            'n
+0002f690: 6f74 6966 7927 3a20 6e6f 7469 6679 2c0a  otify': notify,.
+0002f6a0: 2020 2020 2020 2020 2020 2020 276e 6f74              'not
+0002f6b0: 6966 795f 746f 273a 206e 6f74 6966 795f  ify_to': notify_
+0002f6c0: 746f 2c0a 2020 2020 2020 2020 2020 2020  to,.            
+0002f6d0: 2770 6173 7377 6f72 6427 3a20 7061 7373  'password': pass
+0002f6e0: 776f 7264 0a20 2020 2020 2020 207d 0a20  word.        }. 
+0002f6f0: 2020 2020 2020 206a 736f 6e5f 6461 7461         json_data
+0002f700: 203d 2075 7469 6c73 2e73 7472 6970 5f6e   = utils.strip_n
+0002f710: 6f6e 6528 6a73 6f6e 5f64 6174 6129 0a20  one(json_data). 
+0002f720: 2020 2020 2020 2069 6620 7573 6572 5f64         if user_d
+0002f730: 6174 613a 0a20 2020 2020 2020 2020 2020  ata:.           
+0002f740: 206a 736f 6e5f 6461 7461 5b22 7573 6572   json_data["user
+0002f750: 225d 203d 2075 7365 725f 6461 7461 0a0a  "] = user_data..
+0002f760: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+0002f770: 7761 6974 2073 656c 662e 706f 7374 2875  wait self.post(u
+0002f780: 726c 2c20 6a73 6f6e 5f64 6174 613d 6a73  rl, json_data=js
+0002f790: 6f6e 5f64 6174 6129 0a0a 2020 2020 2320  on_data)..    # 
+0002f7a0: 544f 444f 2076 616c 6964 6174 6520 4950  TODO validate IP
+0002f7b0: 2061 6464 7265 7373 2066 6f72 6d61 740a   address format.
+0002f7c0: 2020 2020 6173 796e 6320 6465 6620 7570      async def up
+0002f7d0: 6461 7465 5f63 785f 7072 6f70 6572 7469  date_cx_properti
+0002f7e0: 6573 280a 2020 2020 2020 2020 7365 6c66  es(.        self
+0002f7f0: 2c0a 2020 2020 2020 2020 2a2c 0a20 2020  ,.        *,.   
+0002f800: 2020 2020 2073 6572 6961 6c3a 2073 7472       serial: str
+0002f810: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002f820: 2067 726f 7570 3a20 7374 7220 3d20 4e6f   group: str = No
+0002f830: 6e65 2c0a 2020 2020 2020 2020 6e61 6d65  ne,.        name
+0002f840: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+0002f850: 2020 2020 2020 636f 6e74 6163 743a 2073        contact: s
+0002f860: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0002f870: 2020 206c 6f63 6174 696f 6e3a 2073 7472     location: str
+0002f880: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
+0002f890: 2074 696d 657a 6f6e 653a 2063 6f6e 7374   timezone: const
+0002f8a0: 616e 7473 2e54 5a44 4220 3d20 4e6f 6e65  ants.TZDB = None
+0002f8b0: 2c0a 2020 2020 2020 2020 6d67 6d74 5f76  ,.        mgmt_v
+0002f8c0: 7266 3a20 626f 6f6c 203d 204e 6f6e 652c  rf: bool = None,
+0002f8d0: 0a20 2020 2020 2020 2064 6e73 5f73 6572  .        dns_ser
+0002f8e0: 7665 7273 3a20 4c69 7374 5b73 7472 5d20  vers: List[str] 
+0002f8f0: 3d20 5b5d 2c0a 2020 2020 2020 2020 6e74  = [],.        nt
+0002f900: 705f 7365 7276 6572 733a 204c 6973 745b  p_servers: List[
+0002f910: 7374 725d 203d 205b 5d2c 0a20 2020 2020  str] = [],.     
+0002f920: 2020 2061 646d 696e 5f75 7365 723a 2073     admin_user: s
+0002f930: 7472 203d 204e 6f6e 652c 0a20 2020 2020  tr = None,.     
+0002f940: 2020 2061 646d 696e 5f70 6173 733a 2073     admin_pass: s
+0002f950: 7472 203d 204e 6f6e 652c 0a20 2020 2029  tr = None,.    )
+0002f960: 202d 3e20 5265 7370 6f6e 7365 3a0a 2020   -> Response:.  
+0002f970: 2020 2020 2020 2222 2255 7064 6174 6520        """Update 
+0002f980: 5072 6f70 6572 7469 6573 2028 4172 7562  Properties (Arub
+0002f990: 614f 532d 4358 292e 0a0a 2020 2020 2020  aOS-CX)...      
+0002f9a0: 2020 4172 6773 3a0a 2020 2020 2020 2020    Args:.        
+0002f9b0: 2020 2020 7365 7269 616c 2028 7374 722c      serial (str,
+0002f9c0: 206f 7074 696f 6e61 6c29 3a20 4465 7669   optional): Devi
+0002f9d0: 6365 2073 6572 6961 6c20 6e75 6d62 6572  ce serial number
+0002f9e0: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0002f9f0: 2020 4d61 6e64 6174 6f72 7920 666f 7220    Mandatory for 
+0002fa00: 6465 7669 6365 206c 6576 656c 2063 6f6e  device level con
+0002fa10: 6669 6775 7261 7469 6f6e 2e0a 2020 2020  figuration..    
+0002fa20: 2020 2020 2020 2020 2020 2020 3120 616e              1 an
+0002fa30: 6420 6f6e 6c79 2031 206f 6620 7365 7269  d only 1 of seri
+0002fa40: 616c 206f 7220 6772 6f75 7020 6172 6520  al or group are 
+0002fa50: 7265 7175 6972 6564 0a20 2020 2020 2020  required.       
+0002fa60: 2020 2020 2067 726f 7570 2028 7374 722c       group (str,
+0002fa70: 206f 7074 696f 6e61 6c29 3a20 4772 6f75   optional): Grou
+0002fa80: 7020 6e61 6d65 2e0a 2020 2020 2020 2020  p name..        
+0002fa90: 2020 2020 2020 2020 4d61 6e64 6174 6f72          Mandator
+0002faa0: 7920 666f 7220 6772 6f75 7020 6c65 7665  y for group leve
+0002fab0: 6c20 636f 6e66 6967 7572 6174 696f 6e2e  l configuration.
+0002fac0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002fad0: 2031 2061 6e64 206f 6e6c 7920 3120 6f66   1 and only 1 of
+0002fae0: 2073 6572 6961 6c20 6f72 2067 726f 7570   serial or group
+0002faf0: 2061 7265 2072 6571 7569 7265 640a 2020   are required.  
+0002fb00: 2020 2020 2020 2020 2020 6e61 6d65 2028            name (
+0002fb10: 7374 7229 3a20 4f6e 6c79 2063 6f6e 6669  str): Only confi
+0002fb20: 6775 7261 626c 6520 6174 2064 6576 6963  gurable at devic
+0002fb30: 652d 6c65 7665 6c2e 0a20 2020 2020 2020  e-level..       
+0002fb40: 2020 2020 2063 6f6e 7461 6374 2028 7374       contact (st
+0002fb50: 7229 3a20 5061 7474 6572 6e3a 2022 5e5b  r): Pattern: "^[
+0002fb60: 5e22 3f5d 2a24 220a 2020 2020 2020 2020  ^"?]*$".        
+0002fb70: 2020 2020 6c6f 6361 7469 6f6e 2028 7374      location (st
+0002fb80: 7229 3a20 5061 7474 6572 6e3a 2022 5e5b  r): Pattern: "^[
+0002fb90: 5e22 3f5d 2a24 220a 2020 2020 2020 2020  ^"?]*$".        
+0002fba0: 2020 2020 7469 6d65 7a6f 6e65 2028 7374      timezone (st
+0002fbb0: 7229 3a20 7469 6d65 7a6f 6e65 2020 5661  r): timezone  Va
+0002fbc0: 6c69 6420 5661 6c75 6573 3a20 7573 6520  lid Values: use 
+0002fbd0: 747a 2064 6174 6162 6173 6520 666f 726d  tz database form
+0002fbe0: 6174 206c 696b 6520 2241 6d65 7269 6361  at like "America
+0002fbf0: 2f43 6869 6361 676f 220a 2020 2020 2020  /Chicago".      
+0002fc00: 2020 2020 2020 6d67 6d74 5f76 7266 2028        mgmt_vrf (
+0002fc10: 626f 6f6c 293a 2055 7365 206d 676d 7420  bool): Use mgmt 
+0002fc20: 5652 462c 2069 6e64 6963 6174 6573 2056  VRF, indicates V
+0002fc30: 5246 2066 6f72 2064 6e73 5f73 6572 7665  RF for dns_serve
+0002fc40: 7273 2061 6e64 206e 7470 5f73 6572 7665  rs and ntp_serve
+0002fc50: 7273 2c20 6966 2046 616c 7365 206f 7220  rs, if False or 
+0002fc60: 6e6f 7420 7072 6f76 6964 6564 2064 6566  not provided def
+0002fc70: 6175 6c74 2056 5246 2069 7320 7573 6564  ault VRF is used
+0002fc80: 2e0a 2020 2020 2020 2020 2020 2020 646e  ..            dn
+0002fc90: 735f 7365 7276 6572 7320 284c 6973 745b  s_servers (List[
+0002fca0: 7374 725d 293a 2069 7076 342f 6970 7636  str]): ipv4/ipv6
+0002fcb0: 2061 6464 7265 7373 0a20 2020 2020 2020   address.       
+0002fcc0: 2020 2020 206e 7470 5f73 6572 7665 7273       ntp_servers
+0002fcd0: 2028 4c69 7374 5b73 7472 5d29 3a20 6970   (List[str]): ip
+0002fce0: 7634 2f69 7076 3620 6164 6472 6573 730a  v4/ipv6 address.
+0002fcf0: 2020 2020 2020 2020 2020 2020 6164 6d69              admi
+0002fd00: 6e5f 7573 6572 2028 7374 7229 3a20 6c6f  n_user (str): lo
+0002fd10: 6361 6c20 6164 6d69 6e20 7573 6572 0a20  cal admin user. 
+0002fd20: 2020 2020 2020 2020 2020 2061 646d 696e             admin
+0002fd30: 5f70 6173 7320 2873 7472 293a 206c 6f63  _pass (str): loc
+0002fd40: 616c 2061 646d 696e 2070 6173 7377 6f72  al admin passwor
+0002fd50: 640a 0a20 2020 2020 2020 2052 6574 7572  d..        Retur
+0002fd60: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0002fd70: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+0002fd80: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+0002fd90: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+0002fda0: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+0002fdb0: 2f63 6f6e 6669 6775 7261 7469 6f6e 2f76  /configuration/v
+0002fdc0: 312f 7377 6974 6368 2f63 782f 7072 6f70  1/switch/cx/prop
+0002fdd0: 6572 7469 6573 220a 0a20 2020 2020 2020  erties"..       
+0002fde0: 2070 6172 616d 7320 3d20 7b0a 2020 2020   params = {.    
+0002fdf0: 2020 2020 2020 2020 2764 6576 6963 655f          'device_
+0002fe00: 7365 7269 616c 273a 2073 6572 6961 6c2c  serial': serial,
+0002fe10: 0a20 2020 2020 2020 2020 2020 2027 6772  .            'gr
+0002fe20: 6f75 705f 6e61 6d65 273a 2067 726f 7570  oup_name': group
+0002fe30: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+0002fe40: 2020 2020 6a73 6f6e 5f64 6174 6120 3d20      json_data = 
+0002fe50: 7b0a 2020 2020 2020 2020 2020 2020 276e  {.            'n
+0002fe60: 616d 6527 3a20 6e61 6d65 2c0a 2020 2020  ame': name,.    
+0002fe70: 2020 2020 2020 2020 2763 6f6e 7461 6374          'contact
+0002fe80: 273a 2063 6f6e 7461 6374 2c0a 2020 2020  ': contact,.    
+0002fe90: 2020 2020 2020 2020 276c 6f63 6174 696f          'locatio
+0002fea0: 6e27 3a20 6c6f 6361 7469 6f6e 2c0a 2020  n': location,.  
+0002feb0: 2020 2020 2020 2020 2020 2774 696d 657a            'timez
+0002fec0: 6f6e 6527 3a20 7469 6d65 7a6f 6e65 2c0a  one': timezone,.
+0002fed0: 2020 2020 2020 2020 2020 2020 2764 6e73              'dns
+0002fee0: 5f73 6572 7665 7273 273a 2064 6e73 5f73  _servers': dns_s
+0002fef0: 6572 7665 7273 2c0a 2020 2020 2020 2020  ervers,.        
+0002ff00: 2020 2020 276e 7470 5f73 6572 7665 7273      'ntp_servers
+0002ff10: 273a 206e 7470 5f73 6572 7665 7273 2c0a  ': ntp_servers,.
+0002ff20: 2020 2020 2020 2020 2020 2020 2761 646d              'adm
+0002ff30: 696e 5f75 7365 726e 616d 6527 3a20 6164  in_username': ad
+0002ff40: 6d69 6e5f 7573 6572 2c0a 2020 2020 2020  min_user,.      
+0002ff50: 2020 2020 2020 2761 646d 696e 5f70 6173        'admin_pas
+0002ff60: 7377 6f72 6427 3a20 6164 6d69 6e5f 7061  sword': admin_pa
+0002ff70: 7373 0a20 2020 2020 2020 207d 0a20 2020  ss.        }.   
+0002ff80: 2020 2020 2069 6620 6d67 6d74 5f76 7266       if mgmt_vrf
+0002ff90: 2069 7320 6e6f 7420 4e6f 6e65 3a0a 2020   is not None:.  
+0002ffa0: 2020 2020 2020 2020 2020 6a73 6f6e 5f64            json_d
+0002ffb0: 6174 615b 2276 7266 225d 203d 2022 6d67  ata["vrf"] = "mg
+0002ffc0: 6d74 2220 6966 206d 676d 745f 7672 6620  mt" if mgmt_vrf 
+0002ffd0: 656c 7365 2022 6465 6661 756c 7422 0a20  else "default". 
+0002ffe0: 2020 2020 2020 2065 6c69 6620 646e 735f         elif dns_
+0002fff0: 7365 7276 6572 7320 6f72 206e 7470 5f73  servers or ntp_s
+00030000: 6572 7665 7273 3a0a 2020 2020 2020 2020  ervers:.        
+00030010: 2020 2020 6a73 6f6e 5f64 6174 615b 2276      json_data["v
+00030020: 7266 225d 203d 2022 6465 6661 756c 7422  rf"] = "default"
+00030030: 0a0a 2020 2020 2020 2020 6966 206c 656e  ..        if len
+00030040: 285b 7820 666f 7220 7820 696e 205b 6164  ([x for x in [ad
+00030050: 6d69 6e5f 7573 6572 2c20 6164 6d69 6e5f  min_user, admin_
+00030060: 7061 7373 5d20 6966 2078 2069 7320 6e6f  pass] if x is no
+00030070: 7420 4e6f 6e65 5d29 203d 3d20 313a 0a20  t None]) == 1:. 
+00030080: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+00030090: 2056 616c 7565 4572 726f 7228 2249 6620   ValueError("If 
+000300a0: 6569 7468 6572 2061 646d 696e 5f75 7365  either admin_use
+000300b0: 7220 6f72 2061 646d 696e 5f70 6173 7320  r or admin_pass 
+000300c0: 6172 6520 6269 6e67 2075 7064 6174 6564  are bing updated
+000300d0: 2c20 2a62 6f74 682a 2073 686f 756c 6420  , *both* should 
+000300e0: 6265 2070 726f 7669 6465 642e 2229 0a0a  be provided.")..
+000300f0: 2020 2020 2020 2020 6966 206c 656e 285b          if len([
+00030100: 7820 666f 7220 7820 696e 205b 7365 7269  x for x in [seri
+00030110: 616c 2c20 6772 6f75 705d 2069 6620 7820  al, group] if x 
+00030120: 6973 206e 6f74 204e 6f6e 655d 2920 3d3d  is not None]) ==
+00030130: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
+00030140: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+00030150: 2822 7072 6f76 6964 6520 7365 7269 616c  ("provide serial
+00030160: 2074 6f20 7570 6461 7465 2064 6576 6963   to update devic
+00030170: 6520 6c65 7665 6c20 7072 6f70 6572 7469  e level properti
+00030180: 6573 2c20 6f72 2067 726f 7570 2074 6f20  es, or group to 
+00030190: 7570 6461 7465 2061 7420 7468 6520 6772  update at the gr
+000301a0: 6f75 7020 6c65 7665 6c2e 2020 5072 6f76  oup level.  Prov
+000301b0: 6964 696e 6720 626f 7468 2069 7320 696e  iding both is in
+000301c0: 7661 6c69 642e 2229 0a0a 2020 2020 2020  valid.")..      
+000301d0: 2020 6a73 6f6e 5f64 6174 6120 3d20 7574    json_data = ut
+000301e0: 696c 732e 7374 7269 705f 6e6f 6e65 286a  ils.strip_none(j
+000301f0: 736f 6e5f 6461 7461 2c20 7374 7269 705f  son_data, strip_
+00030200: 656d 7074 795f 6f62 6a3d 5472 7565 290a  empty_obj=True).
+00030210: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00030220: 6177 6169 7420 7365 6c66 2e70 6f73 7428  await self.post(
+00030230: 7572 6c2c 206a 736f 6e5f 6461 7461 3d6a  url, json_data=j
+00030240: 736f 6e5f 6461 7461 2c20 7061 7261 6d73  son_data, params
+00030250: 3d70 6172 616d 7329 0a0a 2020 2020 6173  =params)..    as
+00030260: 796e 6320 6465 6620 6765 745f 6f73 7066  ync def get_ospf
+00030270: 5f61 7265 6128 0a20 2020 2020 2020 2073  _area(.        s
+00030280: 656c 662c 0a20 2020 2020 2020 2064 6576  elf,.        dev
+00030290: 6963 653a 2073 7472 2c0a 2020 2020 2020  ice: str,.      
+000302a0: 2020 6d61 726b 6572 3a20 7374 7220 3d20    marker: str = 
+000302b0: 4e6f 6e65 2c0a 2020 2020 2020 2020 6c69  None,.        li
+000302c0: 6d69 743a 2069 6e74 203d 2031 3030 2c0a  mit: int = 100,.
+000302d0: 2020 2020 2920 2d3e 2052 6573 706f 6e73      ) -> Respons
+000302e0: 653a 0a20 2020 2020 2020 2022 2222 4c69  e:.        """Li
+000302f0: 7374 204f 5350 4620 4172 6561 2049 6e66  st OSPF Area Inf
+00030300: 6f72 6d61 7469 6f6e 2e0a 0a20 2020 2020  ormation...     
+00030310: 2020 2041 7267 733a 0a20 2020 2020 2020     Args:.       
+00030320: 2020 2020 2064 6576 6963 6520 2873 7472       device (str
+00030330: 293a 2044 6576 6963 6520 7365 7269 616c  ): Device serial
+00030340: 206e 756d 6265 720a 2020 2020 2020 2020   number.        
+00030350: 2020 2020 6d61 726b 6572 2028 7374 722c      marker (str,
+00030360: 206f 7074 696f 6e61 6c29 3a20 4f70 6171   optional): Opaq
+00030370: 7565 2068 616e 646c 6520 746f 2066 6574  ue handle to fet
+00030380: 6368 206e 6578 7420 7061 6765 0a20 2020  ch next page.   
+00030390: 2020 2020 2020 2020 206c 696d 6974 2028           limit (
+000303a0: 696e 742c 206f 7074 696f 6e61 6c29 3a20  int, optional): 
+000303b0: 7061 6765 2073 697a 6520 4465 6661 756c  page size Defaul
+000303c0: 7473 2074 6f20 3130 302e 0a0a 2020 2020  ts to 100...    
+000303d0: 2020 2020 5265 7475 726e 733a 0a20 2020      Returns:.   
+000303e0: 2020 2020 2020 2020 2052 6573 706f 6e73           Respons
+000303f0: 653a 2043 656e 7472 616c 4150 4920 5265  e: CentralAPI Re
+00030400: 7370 6f6e 7365 206f 626a 6563 740a 2020  sponse object.  
+00030410: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00030420: 2020 7572 6c20 3d20 222f 6170 692f 726f    url = "/api/ro
+00030430: 7574 696e 672f 7631 2f6f 7370 662f 6172  uting/v1/ospf/ar
+00030440: 6561 220a 0a20 2020 2020 2020 2070 6172  ea"..        par
+00030450: 616d 7320 3d20 7b0a 2020 2020 2020 2020  ams = {.        
+00030460: 2020 2020 2764 6576 6963 6527 3a20 6465      'device': de
+00030470: 7669 6365 2c0a 2020 2020 2020 2020 2020  vice,.          
+00030480: 2020 276d 6172 6b65 7227 3a20 6d61 726b    'marker': mark
+00030490: 6572 2c0a 2020 2020 2020 2020 2020 2020  er,.            
+000304a0: 276c 696d 6974 273a 206c 696d 6974 0a20  'limit': limit. 
+000304b0: 2020 2020 2020 207d 0a0a 2020 2020 2020         }..      
+000304c0: 2020 7265 7475 726e 2061 7761 6974 2073    return await s
+000304d0: 656c 662e 6765 7428 7572 6c2c 2070 6172  elf.get(url, par
+000304e0: 616d 733d 7061 7261 6d73 290a 0a20 2020  ams=params)..   
+000304f0: 2061 7379 6e63 2064 6566 2067 6574 5f6f   async def get_o
+00030500: 7370 665f 696e 7465 7266 6163 6528 0a20  spf_interface(. 
+00030510: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00030520: 2020 2020 2064 6576 6963 653a 2073 7472       device: str
+00030530: 2c0a 2020 2020 2020 2020 6d61 726b 6572  ,.        marker
+00030540: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00030550: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00030560: 203d 2031 3030 2c0a 2020 2020 2920 2d3e   = 100,.    ) ->
+00030570: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00030580: 2020 2022 2222 4c69 7374 204f 5350 4620     """List OSPF 
+00030590: 496e 7465 7266 6163 6520 496e 666f 726d  Interface Inform
+000305a0: 6174 696f 6e2e 0a0a 2020 2020 2020 2020  ation...        
+000305b0: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+000305c0: 2020 6465 7669 6365 2028 7374 7229 3a20    device (str): 
+000305d0: 4465 7669 6365 2073 6572 6961 6c20 6e75  Device serial nu
+000305e0: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
+000305f0: 206d 6172 6b65 7220 2873 7472 2c20 6f70   marker (str, op
+00030600: 7469 6f6e 616c 293a 204f 7061 7175 6520  tional): Opaque 
+00030610: 6861 6e64 6c65 2074 6f20 6665 7463 6820  handle to fetch 
+00030620: 6e65 7874 2070 6167 650a 2020 2020 2020  next page.      
+00030630: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+00030640: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
+00030650: 6520 7369 7a65 2044 6566 6175 6c74 7320  e size Defaults 
+00030660: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
+00030670: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00030680: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00030690: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+000306a0: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+000306b0: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+000306c0: 726c 203d 2022 2f61 7069 2f72 6f75 7469  rl = "/api/routi
+000306d0: 6e67 2f76 312f 6f73 7066 2f69 6e74 6572  ng/v1/ospf/inter
+000306e0: 6661 6365 220a 0a20 2020 2020 2020 2070  face"..        p
+000306f0: 6172 616d 7320 3d20 7b0a 2020 2020 2020  arams = {.      
+00030700: 2020 2020 2020 2764 6576 6963 6527 3a20        'device': 
+00030710: 6465 7669 6365 2c0a 2020 2020 2020 2020  device,.        
+00030720: 2020 2020 276d 6172 6b65 7227 3a20 6d61      'marker': ma
+00030730: 726b 6572 2c0a 2020 2020 2020 2020 2020  rker,.          
+00030740: 2020 276c 696d 6974 273a 206c 696d 6974    'limit': limit
+00030750: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
+00030760: 2020 2020 7265 7475 726e 2061 7761 6974      return await
+00030770: 2073 656c 662e 6765 7428 7572 6c2c 2070   self.get(url, p
+00030780: 6172 616d 733d 7061 7261 6d73 290a 0a20  arams=params).. 
+00030790: 2020 2061 7379 6e63 2064 6566 2067 6574     async def get
+000307a0: 5f6f 7370 665f 6e65 6967 6862 6f72 280a  _ospf_neighbor(.
+000307b0: 2020 2020 2020 2020 7365 6c66 2c0a 2020          self,.  
+000307c0: 2020 2020 2020 6465 7669 6365 3a20 7374        device: st
+000307d0: 722c 0a20 2020 2020 2020 206d 6172 6b65  r,.        marke
+000307e0: 723a 2073 7472 203d 204e 6f6e 652c 0a20  r: str = None,. 
+000307f0: 2020 2020 2020 206c 696d 6974 3a20 696e         limit: in
+00030800: 7420 3d20 3130 302c 0a20 2020 2029 202d  t = 100,.    ) -
+00030810: 3e20 5265 7370 6f6e 7365 3a0a 2020 2020  > Response:.    
+00030820: 2020 2020 2222 224c 6973 7420 4f53 5046      """List OSPF
+00030830: 206e 6569 6768 626f 7220 496e 666f 726d   neighbor Inform
+00030840: 6174 696f 6e2e 0a0a 2020 2020 2020 2020  ation...        
+00030850: 4172 6773 3a0a 2020 2020 2020 2020 2020  Args:.          
+00030860: 2020 6465 7669 6365 2028 7374 7229 3a20    device (str): 
+00030870: 4465 7669 6365 2073 6572 6961 6c20 6e75  Device serial nu
+00030880: 6d62 6572 0a20 2020 2020 2020 2020 2020  mber.           
+00030890: 206d 6172 6b65 7220 2873 7472 2c20 6f70   marker (str, op
+000308a0: 7469 6f6e 616c 293a 204f 7061 7175 6520  tional): Opaque 
+000308b0: 6861 6e64 6c65 2074 6f20 6665 7463 6820  handle to fetch 
+000308c0: 6e65 7874 2070 6167 650a 2020 2020 2020  next page.      
+000308d0: 2020 2020 2020 6c69 6d69 7420 2869 6e74        limit (int
+000308e0: 2c20 6f70 7469 6f6e 616c 293a 2070 6167  , optional): pag
+000308f0: 6520 7369 7a65 2044 6566 6175 6c74 7320  e size Defaults 
+00030900: 746f 2031 3030 2e0a 0a20 2020 2020 2020  to 100...       
+00030910: 2052 6574 7572 6e73 3a0a 2020 2020 2020   Returns:.      
+00030920: 2020 2020 2020 5265 7370 6f6e 7365 3a20        Response: 
+00030930: 4365 6e74 7261 6c41 5049 2052 6573 706f  CentralAPI Respo
+00030940: 6e73 6520 6f62 6a65 6374 0a20 2020 2020  nse object.     
+00030950: 2020 2022 2222 0a20 2020 2020 2020 2075     """.        u
+00030960: 726c 203d 2022 2f61 7069 2f72 6f75 7469  rl = "/api/routi
+00030970: 6e67 2f76 312f 6f73 7066 2f6e 6569 6768  ng/v1/ospf/neigh
+00030980: 626f 7222 0a0a 2020 2020 2020 2020 7061  bor"..        pa
+00030990: 7261 6d73 203d 207b 0a20 2020 2020 2020  rams = {.       
+000309a0: 2020 2020 2027 6465 7669 6365 273a 2064       'device': d
+000309b0: 6576 6963 652c 0a20 2020 2020 2020 2020  evice,.         
+000309c0: 2020 2027 6d61 726b 6572 273a 206d 6172     'marker': mar
+000309d0: 6b65 722c 0a20 2020 2020 2020 2020 2020  ker,.           
+000309e0: 2027 6c69 6d69 7427 3a20 6c69 6d69 740a   'limit': limit.
+000309f0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
+00030a00: 2020 2072 6574 7572 6e20 6177 6169 7420     return await 
+00030a10: 7365 6c66 2e67 6574 2875 726c 2c20 7061  self.get(url, pa
+00030a20: 7261 6d73 3d70 6172 616d 7329 0a0a 2020  rams=params)..  
+00030a30: 2020 6173 796e 6320 6465 6620 6765 745f    async def get_
+00030a40: 6f73 7066 5f64 6174 6162 6173 6528 0a20  ospf_database(. 
+00030a50: 2020 2020 2020 2073 656c 662c 0a20 2020         self,.   
+00030a60: 2020 2020 2064 6576 6963 653a 2073 7472       device: str
+00030a70: 2c0a 2020 2020 2020 2020 6d61 726b 6572  ,.        marker
+00030a80: 3a20 7374 7220 3d20 4e6f 6e65 2c0a 2020  : str = None,.  
+00030a90: 2020 2020 2020 6c69 6d69 743a 2069 6e74        limit: int
+00030aa0: 203d 2031 3030 2c0a 2020 2020 2920 2d3e   = 100,.    ) ->
+00030ab0: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00030ac0: 2020 2022 2222 4c69 7374 204f 5350 4620     """List OSPF 
+00030ad0: 4c69 6e6b 2053 7461 7465 2044 6174 6162  Link State Datab
+00030ae0: 6173 6520 496e 666f 726d 6174 696f 6e2e  ase Information.
+00030af0: 0a0a 2020 2020 2020 2020 4172 6773 3a0a  ..        Args:.
+00030b00: 2020 2020 2020 2020 2020 2020 6465 7669              devi
+00030b10: 6365 2028 7374 7229 3a20 4465 7669 6365  ce (str): Device
+00030b20: 2073 6572 6961 6c20 6e75 6d62 6572 0a20   serial number. 
+00030b30: 2020 2020 2020 2020 2020 206d 6172 6b65             marke
+00030b40: 7220 2873 7472 2c20 6f70 7469 6f6e 616c  r (str, optional
+00030b50: 293a 204f 7061 7175 6520 6861 6e64 6c65  ): Opaque handle
+00030b60: 2074 6f20 6665 7463 6820 6e65 7874 2070   to fetch next p
+00030b70: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
+00030b80: 6c69 6d69 7420 2869 6e74 2c20 6f70 7469  limit (int, opti
+00030b90: 6f6e 616c 293a 2070 6167 6520 7369 7a65  onal): page size
+00030ba0: 2044 6566 6175 6c74 7320 746f 2031 3030   Defaults to 100
+00030bb0: 2e0a 0a20 2020 2020 2020 2052 6574 7572  ...        Retur
+00030bc0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00030bd0: 5265 7370 6f6e 7365 3a20 4365 6e74 7261  Response: Centra
+00030be0: 6c41 5049 2052 6573 706f 6e73 6520 6f62  lAPI Response ob
+00030bf0: 6a65 6374 0a20 2020 2020 2020 2022 2222  ject.        """
+00030c00: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00030c10: 2f61 7069 2f72 6f75 7469 6e67 2f76 312f  /api/routing/v1/
+00030c20: 6f73 7066 2f64 6174 6162 6173 6522 0a0a  ospf/database"..
+00030c30: 2020 2020 2020 2020 7061 7261 6d73 203d          params =
+00030c40: 207b 0a20 2020 2020 2020 2020 2020 2027   {.            '
+00030c50: 6465 7669 6365 273a 2064 6576 6963 652c  device': device,
+00030c60: 0a20 2020 2020 2020 2020 2020 2027 6d61  .            'ma
+00030c70: 726b 6572 273a 206d 6172 6b65 722c 0a20  rker': marker,. 
+00030c80: 2020 2020 2020 2020 2020 2027 6c69 6d69             'limi
+00030c90: 7427 3a20 6c69 6d69 740a 2020 2020 2020  t': limit.      
+00030ca0: 2020 7d0a 0a20 2020 2020 2020 2072 6574    }..        ret
+00030cb0: 7572 6e20 6177 6169 7420 7365 6c66 2e67  urn await self.g
+00030cc0: 6574 2875 726c 2c20 7061 7261 6d73 3d70  et(url, params=p
+00030cd0: 6172 616d 7329 0a0a 2020 2020 2320 2f2f  arams)..    # //
+00030ce0: 202d 2d20 4e6f 7420 7573 6564 2062 7920   -- Not used by 
+00030cf0: 636f 6d6d 616e 6473 2079 6574 2e20 2075  commands yet.  u
+00030d00: 6e64 6f63 756d 656e 7465 6420 6b6d 7320  ndocumented kms 
+00030d10: 6170 6920 2d2d 202f 2f0a 2020 2020 6173  api -- //.    as
+00030d20: 796e 6320 6465 6620 6b6d 735f 6765 745f  ync def kms_get_
+00030d30: 7379 6e63 6564 5f61 7073 2873 656c 662c  synced_aps(self,
+00030d40: 206d 6163 3a20 7374 7229 202d 3e20 5265   mac: str) -> Re
+00030d50: 7370 6f6e 7365 3a0a 2020 2020 2020 2020  sponse:.        
+00030d60: 7572 6c20 3d20 6622 2f6b 6579 6d67 6d74  url = f"/keymgmt
+00030d70: 2f76 312f 7379 6e63 6564 6170 6c69 7374  /v1/syncedaplist
+00030d80: 2f7b 6d61 637d 220a 2020 2020 2020 2020  /{mac}".        
+00030d90: 7265 7475 726e 2061 7761 6974 2073 656c  return await sel
+00030da0: 662e 6765 7428 7572 6c29 0a0a 2020 2020  f.get(url)..    
+00030db0: 6173 796e 6320 6465 6620 6b6d 735f 6765  async def kms_ge
+00030dc0: 745f 636c 6965 6e74 5f72 6563 6f72 6428  t_client_record(
+00030dd0: 7365 6c66 2c20 6d61 633a 2073 7472 2920  self, mac: str) 
+00030de0: 2d3e 2052 6573 706f 6e73 653a 0a20 2020  -> Response:.   
+00030df0: 2020 2020 2075 726c 203d 2066 222f 6b65       url = f"/ke
+00030e00: 796d 676d 742f 7631 2f6b 6579 6361 6368  ymgmt/v1/keycach
+00030e10: 652f 7b6d 6163 7d22 0a20 2020 2020 2020  e/{mac}".       
+00030e20: 2072 6574 7572 6e20 6177 6169 7420 7365   return await se
+00030e30: 6c66 2e67 6574 2875 726c 290a 0a20 2020  lf.get(url)..   
+00030e40: 2061 7379 6e63 2064 6566 206b 6d73 5f67   async def kms_g
+00030e50: 6574 5f68 6173 6828 7365 6c66 2920 2d3e  et_hash(self) ->
+00030e60: 2052 6573 706f 6e73 653a 0a20 2020 2020   Response:.     
+00030e70: 2020 2075 726c 203d 2066 222f 6b65 796d     url = f"/keym
+00030e80: 676d 742f 7631 2f6b 6579 6861 7368 220a  gmt/v1/keyhash".
+00030e90: 2020 2020 2020 2020 7265 7475 726e 2061          return a
+00030ea0: 7761 6974 2073 656c 662e 6765 7428 7572  wait self.get(ur
+00030eb0: 6c29 0a0a 2020 2020 6173 796e 6320 6465  l)..    async de
+00030ec0: 6620 6b6d 735f 6765 745f 6170 5f73 7461  f kms_get_ap_sta
+00030ed0: 7465 2873 656c 662c 2073 6572 6961 6c3a  te(self, serial:
+00030ee0: 2073 7472 2920 2d3e 2052 6573 706f 6e73   str) -> Respons
+00030ef0: 653a 0a20 2020 2020 2020 2075 726c 203d  e:.        url =
+00030f00: 2066 222f 6b65 796d 676d 742f 7631 2f53   f"/keymgmt/v1/S
+00030f10: 7461 7473 2f61 702f 7b73 6572 6961 6c7d  tats/ap/{serial}
+00030f20: 220a 2020 2020 2020 2020 7265 7475 726e  ".        return
+00030f30: 2061 7761 6974 2073 656c 662e 6765 7428   await self.get(
+00030f40: 7572 6c29 0a0a 2020 2020 2320 4261 6420  url)..    # Bad 
+00030f50: 656e 6470 6f69 6e74 2055 524c 2034 3034  endpoint URL 404
+00030f60: 0a20 2020 2061 7379 6e63 2064 6566 206b  .    async def k
+00030f70: 6d73 5f67 6574 5f68 6561 6c74 6828 7365  ms_get_health(se
+00030f80: 6c66 2920 2d3e 2052 6573 706f 6e73 653a  lf) -> Response:
+00030f90: 0a20 2020 2020 2020 2075 726c 203d 2022  .        url = "
+00030fa0: 2f6b 6579 6d67 6d74 2f76 312f 6865 616c  /keymgmt/v1/heal
+00030fb0: 7468 220a 2020 2020 2020 2020 7265 7475  th".        retu
+00030fc0: 726e 2061 7761 6974 2073 656c 662e 6765  rn await self.ge
+00030fd0: 7428 7572 6c29 0a0a 6966 205f 5f6e 616d  t(url)..if __nam
+00030fe0: 655f 5f20 3d3d 2022 5f5f 6d61 696e 5f5f  e__ == "__main__
+00030ff0: 223a 0a20 2020 2070 6173 730a            ":.    pass.
```

### Comparing `centralcli-1.7/centralcli/cleaner.py` & `centralcli-1.8/centralcli/cleaner.py`

 * *Files 0% similar despite different names*

```diff
@@ -191,14 +191,15 @@
     "lease_end_ts": "lease end",
     "lease_time_left": "lease remaining",
     "vlan_id": "pvid",
     "free_ip_addr_percent": "free ip %",
     "events_details": "details",
     "associated_device_count": "devices",
     "label_id": "id",
+    "command_id": "id",
     "label_name": "name",
     # "acknowledged": "ack",
     "acknowledged_by": "ack by",
     "acknowledged_timestamp": "ack time",
     "aruba_part_no": "sku",
     "network": "ssid",
     "release_status": "beta",
@@ -1268,7 +1269,23 @@
 
     # send all key/value pairs through formatters and convert List[Dict] to Dict where port_number is key
     data = {
         d["port_number"] if not all(d.isdigit() for d in d["port_number"]) else int(d["port_number"]): dict(short_value(k, d.get(k),) for k in key_order if k not in strip_keys) for d in data
     }
 
     return strip_no_value(data)
+
+def show_ts_commands(data: Union[List[dict], dict],) -> Union[List[dict], dict]:
+    key_order = [
+        "command_id",
+        "category",
+        "command",
+    ]
+    strip_keys = [
+        "summary"
+    ]
+    # data = simple_kv_formatter(data)
+    data = [
+        dict(short_value(k, d.get(k),) for k in key_order if k not in strip_keys) for d in data if "arguments" not in d.keys()
+    ]
+
+    return data
```

### Comparing `centralcli-1.7/centralcli/cli.py` & `centralcli-1.8/centralcli/cli.py`

 * *Files 1% similar despite different names*

```diff
@@ -815,24 +815,21 @@
         if update_cache:
             cli.cache(refresh=True)
             _ = sys.argv.pop(sys.argv.index("-U"))
             # TODO can do cache update here once update is removed from all commands
             pass
 
 
-# TODO See if possible to do all 3 version options as one typer.Option (--version -v -V)
 @app.callback()
 def callback(
     # ctx: typer.Context,``
-    version: bool = typer.Option(False, "--version", is_flag=True, help="Show current cencli version, and latest available version."),
-    _version: bool = typer.Option(False, "-V", is_flag=True, help="Show current cencli version, and latest available version.", case_sensitive=False, hidden=False),
-    __version: bool = typer.Option(False, "-v", is_flag=True, hidden=True),
+    version: bool = typer.Option(False, "--version", "-V", "-v", case_sensitive=False, is_flag=True, help="Show current cencli version, and latest available version."),
     debug: bool = typer.Option(False, "--debug", is_flag=True, envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
                             #    callback=all_commands_callback),
-    debugv: bool = typer.Option(False, "--debugv", is_flag=True, help="Enable Verbose Debug Logging",),
+    debugv: bool = typer.Option(False, "--debugv", is_flag=True, help="Enable Verbose Debug Logging", hidden=True,),
                             #    callback=all_commands_callback),
     default: bool = typer.Option(
         False,
         "-d",
         is_flag=True,
         help="Use default central account",
         show_default=False,
```

### Comparing `centralcli-1.7/centralcli/cliadd.py` & `centralcli-1.8/centralcli/cliadd.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/cliassign.py` & `centralcli-1.8/centralcli/cliassign.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clibatch.py` & `centralcli-1.8/centralcli/clibatch.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clicaas.py` & `centralcli-1.8/centralcli/clicaas.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/cliclone.py` & `centralcli-1.8/centralcli/cliclone.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clicommon.py` & `centralcli-1.8/centralcli/clicommon.py`

 * *Files 0% similar despite different names*

```diff
@@ -172,18 +172,18 @@
 
     def version_callback(self, ctx: typer.Context | None = None,):
         if ctx is not None and ctx.resilient_parsing:  # tab completion, return without validating
             return
 
         current = pkg_resources.get_distribution('centralcli').version
         resp = self.central.request(self.central.get, "https://pypi.org/pypi/centralcli/json")
-        latest = max(resp.output["releases"])
         if not resp:
             print(current)
         else:
+            latest = max(resp.output["releases"])
             msg = "[bold bright_green]centralcli[/] "
             msg += 'A CLI app for interacting with Aruba Central Cloud Management Platform.\n'
             msg += f'Brought to you by [cyan]{resp.output["info"]["author"]}[/]\n\n'
             msg += "\n".join([f'  {k}: [cyan]{v}[/]' for k, v in resp.output["info"]["project_urls"].items()])
             msg += f'\n\nVersion: {current}'
             if current == latest:
                 msg += " [italic green3]You are on the latest version.[reset]"
```

### Comparing `centralcli-1.7/centralcli/clidel.py` & `centralcli-1.8/centralcli/clidel.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clirefresh.py` & `centralcli-1.8/centralcli/clirefresh.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clirename.py` & `centralcli-1.8/centralcli/clirename.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clishow.py` & `centralcli-1.8/centralcli/clishow.py`

 * *Files 2% similar despite different names*

```diff
@@ -16,20 +16,20 @@
     hook_enabled = True
 except (ImportError, ModuleNotFoundError):
     hook_enabled = False
 
 
 # Detect if called from pypi installed package or via cloned github repo (development)
 try:
-    from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, caas, cli, utils, config
+    from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, clishowtshoot, caas, cli, utils, config
 except (ImportError, ModuleNotFoundError) as e:
     pkg_dir = Path(__file__).absolute().parent
     if pkg_dir.name == "centralcli":
         sys.path.insert(0, str(pkg_dir.parent))
-        from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, caas, cli, utils, config
+        from centralcli import Response, cleaner, clishowfirmware, clishowwids, clishowbranch, clishowospf, clishowtshoot, caas, cli, utils, config
     else:
         print(pkg_dir.parts)
         raise e
 
 from centralcli.constants import (
     ClientArgs, InventorySortOptions, ShowInventoryArgs, StatusOptions, SortOptions, IdenMetaVars, CacheArgs, LogAppArgs, LogSortBy, SortSiteOptions,
     DevTypes, SortDevOptions, SortTemplateOptions, SortClientOptions, SortCertOptions, SortVlanOptions, SortSubscriptionOptions,
@@ -37,14 +37,15 @@
 )
 
 app = typer.Typer()
 app.add_typer(clishowfirmware.app, name="firmware")
 app.add_typer(clishowwids.app, name="wids")
 app.add_typer(clishowbranch.app, name="branch")
 app.add_typer(clishowospf.app, name="ospf")
+app.add_typer(clishowtshoot.app, name="tshoot")
 
 tty = utils.tty
 iden_meta = IdenMetaVars()
 
 def _build_caption(resp: Response, *, inventory: bool = False) -> str:
     dev_types = set([t.get("type", "NOTYPE") for t in resp.output])
     _cnt_str = ", ".join([f'[bright_green]{_type}[/]: [cyan]{[t.get("type", "ERR") for t in resp.output].count(_type)}[/]' for _type in dev_types])
@@ -391,14 +392,57 @@
     show_devices(
         'aps', *args, outfile=outfile, update_cache=update_cache, group=group, status=status,
         state=state, label=label, pub_ip=pub_ip, do_stats=do_stats,
         sort_by=sort_by, pager=pager, do_json=do_json, do_csv=do_csv, do_yaml=do_yaml,
         do_table=do_table)
 
 
+@app.command(short_help="Show Swarms (IAP Clusters)")
+def swarms(
+    group: str = typer.Option(None, metavar="<Device Group>", help="Filter by Group", autocompletion=cli.cache.group_completion, show_default=False,),
+    status: StatusOptions = typer.Option(None, metavar="[up|down]", help="Filter by swarm status", show_default=False,),
+    state: StatusOptions = typer.Option(None, hidden=True),  # alias for status
+    up: bool = typer.Option(False, "--up", help="Filter by swarms that are Up", show_default=False),
+    down: bool = typer.Option(False, "--down", help="Filter by swarms that are Down", show_default=False),
+    pub_ip: str = typer.Option(None, metavar="<Public IP Address>", help="Filter by swarm Public IP", show_default=False,),
+    name: str = typer.Option(None, "--name", help="Filter by swarm/cluster name", show_default=False,),
+    # do_stats: bool = typer.Option(False, "--stats", is_flag=True, help="Show device statistics"),
+    sort_by: str = typer.Option(None, "--sort", help="Field to sort by", rich_help_panel="Formatting", show_default=False,),
+    reverse: bool = typer.Option(False, "-r", is_flag=True, help="Sort in descending order", rich_help_panel="Formatting"),
+    do_json: bool = typer.Option(False, "--json", is_flag=True, help="Output in JSON", rich_help_panel="Formatting"),
+    do_yaml: bool = typer.Option(False, "--yaml", is_flag=True, help="Output in YAML", rich_help_panel="Formatting"),
+    do_csv: bool = typer.Option(False, "--csv", is_flag=True, help="Output in CSV", rich_help_panel="Formatting"),
+    do_table: bool = typer.Option(False, "--table", is_flag=True, help="Output in table format", rich_help_panel="Formatting"),
+    outfile: Path = typer.Option(None, "--out", help="Output to file (and terminal)", writable=True, rich_help_panel="Common Options", show_default=False,),
+    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output", rich_help_panel="Common Options"),
+    update_cache: bool = typer.Option(False, "-U", hidden=True, rich_help_panel="Common Options"),  # Force Update of cli.cache for testing
+    default: bool = typer.Option(False, "-d", is_flag=True, help="Use default central account", show_default=False, rich_help_panel="Common Options"),
+    debug: bool = typer.Option(False, "--debug", envvar="ARUBACLI_DEBUG", help="Enable Additional Debug Logging",),
+    account: str = typer.Option(
+        "central_info",
+        envvar="ARUBACLI_ACCOUNT",
+        help="The Aruba Central Account to use (must be defined in the config)",
+        autocompletion=cli.cache.account_completion,
+    ),
+) -> None:
+    """
+    [cyan]Show Swarms (IAP Clusters)[/]
+    """
+    if down:
+        status = "Down"
+    elif up:
+        status = "Up"
+    else:
+        status = status or state
+
+    resp = cli.central.request(cli.central.get_swarms, group=group, status=status, public_ip_address=pub_ip, swarm_name=name)
+    tablefmt = cli.get_format(do_json=do_json, do_yaml=do_yaml, do_csv=do_csv, do_table=do_table, default="yaml")
+    cli.display_results(resp, tablefmt=tablefmt, pager=pager, outfile=outfile, sort_by=sort_by, reverse=reverse, cleaner=cleaner.show_interfaces)
+
+
 @app.command(short_help="Show switches/details")
 def switches(
     args: List[str] = typer.Argument(None, metavar=iden_meta.dev, autocompletion=cli.cache.dev_completion),
     group: str = typer.Option(None, metavar="<Device Group>", help="Filter by Group", autocompletion=cli.cache.group_completion),
     label: str = typer.Option(None, metavar="<Device Label>", help="Filter by Label", ),
     status: StatusOptions = typer.Option(None, metavar="[up|down]", help="Filter by device status"),
     state: StatusOptions = typer.Option(None, hidden=True),  # alias for status
@@ -1650,84 +1694,14 @@
     if not mac.ok:
         print(f"Mac Address {client_mac} appears to be invalid.")
         raise typer.Exit(1)
     resp = central.request(central.get_client_roaming_history, mac.cols, from_timestamp=start, to_timestamp=end)
     cli.display_results(resp, title=f"Roaming history for {mac.cols}", tablefmt="rich", cleaner=cleaner.get_client_roaming_history)
 
 
-@app.command(short_help="Show Troubleshooting output")
-def tshoot(
-    device: str = typer.Argument(
-        ...,
-        metavar=iden_meta.dev,
-        help="Aruba Central Device",
-        autocompletion=cli.cache.dev_completion,
-    ),
-    session_id: str = typer.Argument(
-        None,
-        help="The troubleshooting session id.",
-    ),
-    verbose2: bool = typer.Option(
-        False,
-        "-vv",
-        help="Show raw response (no formatting but still honors --yaml, --csv ... if provided)",
-        show_default=False,
-    ),
-    pager: bool = typer.Option(False, "--pager", help="Enable Paged Output",),
-    default: bool = typer.Option(
-        False, "-d",
-        is_flag=True,
-        help="Use default central account",
-        show_default=False,
-    ),
-    debug: bool = typer.Option(
-        False,
-        "--debug",
-        envvar="ARUBACLI_DEBUG",
-        help="Enable Additional Debug Logging",
-        show_default=False,
-    ),
-    account: str = typer.Option(
-        "central_info",
-        envvar="ARUBACLI_ACCOUNT",
-        help="The Aruba Central Account to use (must be defined in the config)",
-        autocompletion=cli.cache.account_completion,
-    ),
-) -> None:
-    """Show Troubleshooting results from an existing session.
-
-    Use cencli tshoot ... to start a troubleshooting session.
-
-    """
-    central = cli.central
-    con = Console(emoji=False)
-    dev = cli.cache.get_dev_identifier(device)
-
-    # Fetch session ID if not provided
-    if not session_id:
-        resp = central.request(central.get_ts_session_id, dev.serial)
-        if resp.ok and "session_id" in resp.output:
-            session_id = resp.output["session_id"]
-        else:
-            print(f"No session id provided, unable to find active session id for {dev.name}")
-            cli.display_results(resp)
-            raise typer.Exit(1)
-
-    title = f"Troubleshooting output for {dev.name} session {session_id}"
-    resp = central.request(central.get_ts_output, dev.serial, session_id=session_id)
-    if not resp or resp.output.get("status", "") != "COMPLETED":
-        cli.display_results(resp, title=title, tablefmt="rich",)
-    elif verbose2:
-        cli.display_results(resp)
-    else:
-        con.print(resp)
-        con.print(f"\n   {resp.rl}")
-
-
-
 def show_logs_cencli_callback(ctx: typer.Context, cencli: bool):
     if ctx.resilient_parsing:  # tab completion, return without validating
         return cencli
 
     if ctx.params.get("tail", False):
         if ctx.args and "cencli" not in ctx.args:
             raise typer.BadParameter(
```

### Comparing `centralcli-1.7/centralcli/clishowbranch.py` & `centralcli-1.8/centralcli/clishowbranch.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clishowfirmware.py` & `centralcli-1.8/centralcli/clishowfirmware.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clishowospf.py` & `centralcli-1.8/centralcli/clishowospf.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clishowwids.py` & `centralcli-1.8/centralcli/clishowwids.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/clitest.py` & `centralcli-1.8/centralcli/clitest.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/cliunassign.py` & `centralcli-1.8/centralcli/cliunassign.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/cliupdate.py` & `centralcli-1.8/centralcli/cliupdate.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/cliupgrade.py` & `centralcli-1.8/centralcli/cliupgrade.py`

 * *Files 2% similar despite different names*

```diff
@@ -175,14 +175,15 @@
 
 @app.command(short_help="Upgrade firmware for an IAP cluster",)
 def swarm(
     device: str = typer.Argument(
         ...,
         metavar=iden.dev,
         help=f"Upgrade will be performed on the cluster the AP belongs to.",
+        autocompletion=cli.cache.dev_ap_completion,
     ),
     version: str = typer.Argument(None, help="Version to upgrade to",),
     at: datetime = typer.Option(
         None,
         help="When to schedule upgrade. format: 'mm/dd/yyyy hh:mm' or 'dd hh:mm' (implies current month) [Default: Now]",
         show_default=False,
         formats=["%m/%d/%Y %H:%M", "%d %H:%M"],
```

### Comparing `centralcli-1.7/centralcli/config.py` & `centralcli-1.8/centralcli/config.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/constants.py` & `centralcli-1.8/centralcli/constants.py`

 * *Files 2% similar despite different names*

```diff
@@ -27,14 +27,24 @@
 class DevTypes(str, Enum):
     ap = "ap"
     sw = "sw"
     cx = "cx"
     gw = "gw"
 
 
+class TSDevTypes(str, Enum):
+    ap = "ap"
+    sw = "sw"
+    switch = "switch"
+    cx = "cx"
+    gateway = "gateway"
+    gw = "gw"
+    mas = "mas"
+
+
 class SendConfigDevIdens(str, Enum):
     ap = "ap"
     gw = "gw"
     # sw = "sw"  # hopefully some day
     # cx = "cx"
 
 
@@ -43,14 +53,15 @@
     ap = "ap"
     gw = "gw"
     vgw = "vgw"
     switch = "switch"
     others = "others"
 
 
+#  TODO can move to lib_to_api class below
 SHOWINVENTORY_LIB_TO_API = {
     "all": "all",
     "ap": "all_ap",
     "switch": "switch",
     "gw": "gateway",
     "vgw": "vgw",
     "others": "others"
@@ -122,14 +133,15 @@
     "servers",
     "subscriptions",
     "portals",
     "visitors",
     "interfaces",
     "areas",
     "lsas",
+    "commands",
 ]
 
 
 CLIENT_STRIP_KEYS_VERBOSE = ["group_id", "label_id", "swarm_id"]
 CLIENT_STRIP_KEYS = [
     *CLIENT_STRIP_KEYS_VERBOSE,
     "interface_mac",
@@ -372,14 +384,22 @@
         self.device = self.devices = self.dev = "device"
         self.webhooks = self.webhook = "webhook"
         self.template = self.templates = "template"
 
     def _init_test(self):
         self.webhooks = self.webhook = "webhook"
 
+    def _init_tshoot(self):
+        self.ap = self.aps = self.iap = "ap"
+        self.gateway = self.gateways = self.gw = "gateway"
+        self.switch = self.switch = self.switches = "switch"
+        self.cx = "cx"
+        self.mas = "mas"
+
+
     def _init_clone(self):
         self.group = self.groups = "group"
 
     def _init_bounce(self):
         self.interface = self.port = self.ports = self.interfaces = "interface"
 
     def _init_caas(self):
@@ -402,14 +422,18 @@
 
 arg_to_what = ArgToWhat()
 
 APIMethodType = Literal[
     "site",
     "monitoring",
     "event",
+    "template",
+    "firmware",
+    "event",
+    "tshoot"
 ]
 
 
 class LibToAPI:
     """Convert device type stored in Cache to type required by the different API methods
 
     TODO Working toward a consistent set of device_types, needs review, goal is to have
@@ -467,17 +491,20 @@
             "cx": "SWITCH",
             "sw": "SWITCH",
             "client": "CLIENT",
             "clients": "CLIENT",
         }
         self.tshoot_to_api = {
             "gw": "CONTROLLER",
+            "gateway": "CONTROLLER",
             "ap": "IAP",
             "cx": "CX",
-            "sw": "SWITCH"
+            "sw": "SWITCH",
+            "switch": "SWITCH",
+            "mas": "MAS"
         }
 
     def __call__(self, method: APIMethodType, key: str, default: str = None) -> str:
         if isinstance(key, Enum):
             key = key.value
 
         # TODO lose the _to_api in the attributes
@@ -720,14 +747,19 @@
     age = "age"
     seq_no = "seq_no"
     checksum = "checksum"
     link_count = "link_count"
     route_tag = "route_tag"
 
 
+class SortTsCmdOptions(str, Enum):
+    command_id = "id"
+    category = "category"
+
+
 class StatusOptions(str, Enum):
     up = "up"
     down = "down"
     Up = "Up"
     Down = "Down"
     UP = "UP"
     DOWN = "DOWN"
@@ -762,14 +794,15 @@
         self.group = "[GROUP NAME]"
         self.group_many = "[GROUP NAME] ... (multiple allowed)"
         self.site = "[name|site id|address|city|state|zip]"
         self.client = "[username|ip|mac]"
         self.dev_words = f"Optional Identifying Attribute: {self.dev}"
         self.generic_dev_types = "[ap|gw|switch]"
         self.dev_types = "[ap|gw|cx|sw]"
+        self.dev_types_w_mas = "[ap|gw|cx|sw|mas]"
         self.group_or_dev = f"device {self.dev.upper()} | group [GROUP]"
         self.group_dev_cencli = f"{self.dev.upper().replace(']', '|GROUPNAME|cencli]')}"
         self.group_or_dev_or_site = "[DEVICE|\"all\"|GROUP|SITE]"
 
 
 class LogSortBy(str, Enum):
     time = "time"
```

### Comparing `centralcli-1.7/centralcli/logger.py` & `centralcli-1.8/centralcli/logger.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/models.py` & `centralcli-1.8/centralcli/models.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/render.py` & `centralcli-1.8/centralcli/render.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/response.py` & `centralcli-1.8/centralcli/response.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/static/favicon.ico` & `centralcli-1.8/centralcli/static/favicon.ico`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/strings.py` & `centralcli-1.8/centralcli/strings.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/utils.py` & `centralcli-1.8/centralcli/utils.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/vscodeargs.py` & `centralcli-1.8/centralcli/vscodeargs.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/centralcli/wh_proxy.py` & `centralcli-1.8/centralcli/wh_proxy.py`

 * *Files identical despite different names*

### Comparing `centralcli-1.7/pyproject.toml` & `centralcli-1.8/pyproject.toml`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 [tool.poetry]
 name = "centralcli"
-version = "1.7"
+version = "1.8"
 description = "A CLI for interacting with Aruba Central (Cloud Management Platform).  Facilitates bulk imports, exports, reporting.  A handy tool if you have devices managed by Aruba Central."
 license = "MIT"
 authors = ["Wade Wells (Pack3tL0ss) <wade@consolepi.org>"]
 maintainers = ["Wade Wells (Pack3tL0ss) <wade@consolepi.org>"]
 readme = "README.md"
 repository = "https://github.com/Pack3tL0ss/central-api-cli"
 documentation = "https://central-api-cli.readthedocs.org"
```

### Comparing `centralcli-1.7/PKG-INFO` & `centralcli-1.8/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: centralcli
-Version: 1.7
+Version: 1.8
 Summary: A CLI for interacting with Aruba Central (Cloud Management Platform).  Facilitates bulk imports, exports, reporting.  A handy tool if you have devices managed by Aruba Central.
 Home-page: https://github.com/Pack3tL0ss/central-api-cli
 License: MIT
 Keywords: cli,Aruba,Aruba Networks,Aruba Central,HPE,API,RESTFUL,REST
 Author: Wade Wells (Pack3tL0ss)
 Author-email: wade@consolepi.org
 Maintainer: Wade Wells (Pack3tL0ss)
```


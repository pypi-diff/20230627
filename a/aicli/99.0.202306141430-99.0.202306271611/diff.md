# Comparing `tmp/aicli-99.0.202306141430-py3-none-any.whl.zip` & `tmp/aicli-99.0.202306271611-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,28 +1,28 @@
-Zip file size: 42616 bytes, number of entries: 26
--rw-r--r--  2.0 unx    95694 b- defN 23-Jun-14 14:29 ailib/__init__.py
--rw-r--r--  2.0 unx    74510 b- defN 23-Jun-14 14:29 ailib/cli.py
--rw-r--r--  2.0 unx      501 b- defN 23-Jun-14 14:29 ailib/agent/cluster-deployment-sno.yaml
--rw-r--r--  2.0 unx      501 b- defN 23-Jun-14 14:29 ailib/agent/cluster-deployment.yaml
--rw-r--r--  2.0 unx      123 b- defN 23-Jun-14 14:29 ailib/agent/cluster-image-set.yaml
--rw-r--r--  2.0 unx      369 b- defN 23-Jun-14 14:29 ailib/agent/infraenv.yaml
--rw-r--r--  2.0 unx      168 b- defN 23-Jun-14 14:29 ailib/agent/pull-secret.yaml
--rw-r--r--  2.0 unx      125 b- defN 23-Jun-14 14:29 ailib/agent/registries.conf.templ
--rw-r--r--  2.0 unx    11793 b- defN 23-Jun-14 14:29 ailib/common/__init__.py
--rw-r--r--  2.0 unx      748 b- defN 23-Jun-14 14:29 ailib/common/registries.conf.templ
--rw-r--r--  2.0 unx       58 b- defN 23-Jun-14 14:29 ailib/common/relocate/00-relocate-namespace.yaml
--rw-r--r--  2.0 unx      847 b- defN 23-Jun-14 14:29 ailib/common/relocate/10-relocate-ip.yaml
--rw-r--r--  2.0 unx       85 b- defN 23-Jun-14 14:29 ailib/common/relocate/97-relocate-sa.yaml
--rw-r--r--  2.0 unx      254 b- defN 23-Jun-14 14:29 ailib/common/relocate/98-relocate-binding.yaml
--rw-r--r--  2.0 unx      200 b- defN 23-Jun-14 14:29 ailib/common/relocate/99-ovn.yaml
--rw-r--r--  2.0 unx     1083 b- defN 23-Jun-14 14:29 ailib/common/relocate/99-relocate-job.yaml
--rw-r--r--  2.0 unx      752 b- defN 23-Jun-14 14:29 ailib/common/relocate/hack.ign
--rw-r--r--  2.0 unx      196 b- defN 23-Jun-14 14:29 ailib/common/relocate/hack.sh
--rw-r--r--  2.0 unx      169 b- defN 23-Jun-14 14:29 ailib/common/relocate/hack_sno.sh
--rw-r--r--  2.0 unx      728 b- defN 23-Jun-14 14:29 ailib/common/relocate/relocate-ip.sh
--rw-r--r--  2.0 unx     8477 b- defN 23-Jun-14 14:29 ailib/kfish/__init__.py
--rw-r--r--  2.0 unx      352 b- defN 23-Jun-14 14:30 aicli-99.0.202306141430.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jun-14 14:30 aicli-99.0.202306141430.dist-info/WHEEL
--rw-r--r--  2.0 unx       40 b- defN 23-Jun-14 14:30 aicli-99.0.202306141430.dist-info/entry_points.txt
--rw-r--r--  2.0 unx        6 b- defN 23-Jun-14 14:30 aicli-99.0.202306141430.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2306 b- defN 23-Jun-14 14:30 aicli-99.0.202306141430.dist-info/RECORD
-26 files, 200177 bytes uncompressed, 38816 bytes compressed:  80.6%
+Zip file size: 42740 bytes, number of entries: 26
+-rw-r--r--  2.0 unx    95694 b- defN 23-Jun-27 16:09 ailib/__init__.py
+-rw-r--r--  2.0 unx    75160 b- defN 23-Jun-27 16:09 ailib/cli.py
+-rw-r--r--  2.0 unx      501 b- defN 23-Jun-27 16:09 ailib/agent/cluster-deployment-sno.yaml
+-rw-r--r--  2.0 unx      501 b- defN 23-Jun-27 16:09 ailib/agent/cluster-deployment.yaml
+-rw-r--r--  2.0 unx      123 b- defN 23-Jun-27 16:09 ailib/agent/cluster-image-set.yaml
+-rw-r--r--  2.0 unx      369 b- defN 23-Jun-27 16:09 ailib/agent/infraenv.yaml
+-rw-r--r--  2.0 unx      168 b- defN 23-Jun-27 16:09 ailib/agent/pull-secret.yaml
+-rw-r--r--  2.0 unx      125 b- defN 23-Jun-27 16:09 ailib/agent/registries.conf.templ
+-rw-r--r--  2.0 unx    11793 b- defN 23-Jun-27 16:09 ailib/common/__init__.py
+-rw-r--r--  2.0 unx      748 b- defN 23-Jun-27 16:09 ailib/common/registries.conf.templ
+-rw-r--r--  2.0 unx       58 b- defN 23-Jun-27 16:09 ailib/common/relocate/00-relocate-namespace.yaml
+-rw-r--r--  2.0 unx      847 b- defN 23-Jun-27 16:09 ailib/common/relocate/10-relocate-ip.yaml
+-rw-r--r--  2.0 unx       85 b- defN 23-Jun-27 16:09 ailib/common/relocate/97-relocate-sa.yaml
+-rw-r--r--  2.0 unx      254 b- defN 23-Jun-27 16:09 ailib/common/relocate/98-relocate-binding.yaml
+-rw-r--r--  2.0 unx      200 b- defN 23-Jun-27 16:09 ailib/common/relocate/99-ovn.yaml
+-rw-r--r--  2.0 unx     1083 b- defN 23-Jun-27 16:09 ailib/common/relocate/99-relocate-job.yaml
+-rw-r--r--  2.0 unx      752 b- defN 23-Jun-27 16:09 ailib/common/relocate/hack.ign
+-rw-r--r--  2.0 unx      196 b- defN 23-Jun-27 16:09 ailib/common/relocate/hack.sh
+-rw-r--r--  2.0 unx      169 b- defN 23-Jun-27 16:09 ailib/common/relocate/hack_sno.sh
+-rw-r--r--  2.0 unx      728 b- defN 23-Jun-27 16:09 ailib/common/relocate/relocate-ip.sh
+-rw-r--r--  2.0 unx     8477 b- defN 23-Jun-27 16:09 ailib/kfish/__init__.py
+-rw-r--r--  2.0 unx      352 b- defN 23-Jun-27 16:11 aicli-99.0.202306271611.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-27 16:11 aicli-99.0.202306271611.dist-info/WHEEL
+-rw-r--r--  2.0 unx       40 b- defN 23-Jun-27 16:11 aicli-99.0.202306271611.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx        6 b- defN 23-Jun-27 16:11 aicli-99.0.202306271611.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2306 b- defN 23-Jun-27 16:11 aicli-99.0.202306271611.dist-info/RECORD
+26 files, 200827 bytes uncompressed, 38940 bytes compressed:  80.6%
```

## zipnote {}

```diff
@@ -57,23 +57,23 @@
 
 Filename: ailib/common/relocate/relocate-ip.sh
 Comment: 
 
 Filename: ailib/kfish/__init__.py
 Comment: 
 
-Filename: aicli-99.0.202306141430.dist-info/METADATA
+Filename: aicli-99.0.202306271611.dist-info/METADATA
 Comment: 
 
-Filename: aicli-99.0.202306141430.dist-info/WHEEL
+Filename: aicli-99.0.202306271611.dist-info/WHEEL
 Comment: 
 
-Filename: aicli-99.0.202306141430.dist-info/entry_points.txt
+Filename: aicli-99.0.202306271611.dist-info/entry_points.txt
 Comment: 
 
-Filename: aicli-99.0.202306141430.dist-info/top_level.txt
+Filename: aicli-99.0.202306271611.dist-info/top_level.txt
 Comment: 
 
-Filename: aicli-99.0.202306141430.dist-info/RECORD
+Filename: aicli-99.0.202306271611.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## ailib/cli.py

```diff
@@ -12,14 +12,23 @@
 from ailib import boot_hosts as ai_boot_hosts
 from ailib.common import create_onprem as ai_create_onprem
 from ailib.common import delete_onprem as ai_delete_onprem
 
 PARAMHELP = "specify parameter or keyword for rendering (multiple can be specified)"
 
 
+def container_path(path):
+    if os.path.exists('/i_am_a_container'):
+        if path == '.':
+            return '/workdir'
+        elif not os.path.isabs(path):
+            return f'/workdir/{path}'
+    return path
+
+
 def handle_parameters(parameters, paramfiles):
     if paramfiles is None:
         paramfiles = []
     overrides = {}
     if container_mode():
         if paramfiles:
             paramfiles = [f"/workdir/{paramfile}" for paramfile in paramfiles]
@@ -509,86 +518,96 @@
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     iso_url = ai.info_iso(args.infraenv, overrides, minimal=minimal)
     info(iso_url)
 
 
 def download_iso(args):
+    args.path = container_path(args.path)
     info(f"Downloading Iso for infraenv {args.infraenv} in {args.path}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_iso(args.infraenv, args.path)
 
 
 def download_kubeadminpassword(args):
     stdout = args.stdout
     if not stdout:
+        args.path = container_path(args.path)
         dest = f"{args.path}/kubeadmin-password.{args.cluster}"
         info(f"Downloading KubeAdminPassword for Cluster {args.cluster} in {dest}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_kubeadminpassword(args.cluster, args.path, stdout=stdout)
 
 
 def download_kubeconfig(args):
     stdout = args.stdout
     if not stdout:
+        args.path = container_path(args.path)
         info(f"Downloading Kubeconfig for Cluster {args.cluster} in {args.path}/kubeconfig.{args.cluster}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_kubeconfig(args.cluster, args.path, stdout=stdout)
 
 
 def download_initrd(args):
+    args.path = container_path(args.path)
     info(f"Downloading Initrd Config for infraenv {args.infraenv} in {args.path}/initrd.{args.infraenv}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_initrd(args.infraenv, args.path)
 
 
 def download_installconfig(args):
     stdout = args.stdout
     if not stdout:
+        args.path = container_path(args.path)
         info(f"Downloading Install Config for Cluster {args.cluster} in {args.path}/install-config.yaml.{args.cluster}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_installconfig(args.cluster, args.path, stdout=stdout)
 
 
 def download_ignition(args):
     role = args.role
+    args.path = container_path(args.path)
     info(f"Downloading {role} ignition for Cluster {args.cluster} in {args.path}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_ignition(args.cluster, args.path, role=role)
 
 
 def download_discovery_ignition(args):
+    args.path = container_path(args.path)
     info(f"Downloading Discovery ignition for infraenv {args.infraenv} in {args.path}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_discovery_ignition(args.infraenv, args.path)
 
 
 def download_ipxe_script(args):
+    args.path = container_path(args.path)
     info(f"Downloading Ipxe script for infraenv {args.infraenv} in {args.path}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     local = True if args.serve else args.local
     ai.download_ipxe_script(args.infraenv, args.path, local=local, serve=args.serve)
 
 
 def download_manifests(args):
+    args.path = container_path(args.path)
     info(f"Downloading Manifests for cluster {args.cluster} in {args.path}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_manifests(args.cluster, args.path)
 
 
 def download_static_networking_config(args):
+    args.path = container_path(args.path)
     info(f"Downloading Static networking config for infraenv {args.infraenv} in {args.path}")
     ai = AssistedClient(args.url, token=args.token, offlinetoken=args.offlinetoken, debug=args.debug,
                         ca=args.ca, cert=args.cert, key=args.key)
     ai.download_static_networking_config(args.infraenv, args.path)
 
 
 def bind_host(args):
```

## Comparing `aicli-99.0.202306141430.dist-info/RECORD` & `aicli-99.0.202306271611.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,9 +1,9 @@
 ailib/__init__.py,sha256=cpLtGSFbZCt4OpVHl1qtq4vHV_mKQCZCZyCIsFWUCJk,95694
-ailib/cli.py,sha256=YpO-4fS8cG6f7CKYr30MYVtIhwd5UuYy-kM-tL_fhXo,74510
+ailib/cli.py,sha256=7vIjwi2Q92OfimTvyaF7rLRzGd1h7SBkIV1Oi94crBw,75160
 ailib/agent/cluster-deployment-sno.yaml,sha256=6NnAqpG7MBXg8uET1l5MW9AqxRfAM-kLPxRmj1TP7Hs,501
 ailib/agent/cluster-deployment.yaml,sha256=6NnAqpG7MBXg8uET1l5MW9AqxRfAM-kLPxRmj1TP7Hs,501
 ailib/agent/cluster-image-set.yaml,sha256=mgdW0mxChZW-T2QXF240ytri9xTZJP9A8YUiv0gQPzs,123
 ailib/agent/infraenv.yaml,sha256=b-K3w1SV-DeYizIq6ukD4OAjJPgNaffcbmpUwcodbbc,369
 ailib/agent/pull-secret.yaml,sha256=FacV1lU-kR7v1e6O2LpD9lvh0Jgtg8uAtiWCTi5vCCE,168
 ailib/agent/registries.conf.templ,sha256=iGX-B_zyNsieHV8fiHQLv7je5piHhLmLVejkaRtQWd8,125
 ailib/common/__init__.py,sha256=ikfsTbTIaM4klC2zwDcHaYWO-_bedqtCruEEgxRGXr8,11793
@@ -15,12 +15,12 @@
 ailib/common/relocate/99-ovn.yaml,sha256=x5ActE4VnDw0s2YZr2RV9bRijttztaiHktkSm9neQII,200
 ailib/common/relocate/99-relocate-job.yaml,sha256=SsufiIEoeNJzZ8bGZtlYI14_V08_xnuHCt6ufeKRxfE,1083
 ailib/common/relocate/hack.ign,sha256=LvCDvzZyC5Apzik-OmJZMBG4MlkBsCm91OMt7NBwJtI,752
 ailib/common/relocate/hack.sh,sha256=X-FqHruR9IzlaUVtJc_NQnOyyG_zp45iUcb0pTRsgE0,196
 ailib/common/relocate/hack_sno.sh,sha256=gLVNgk0A7gu-MJnO2qV-ZeIKxSUYPm_Wtxix5EDqAkc,169
 ailib/common/relocate/relocate-ip.sh,sha256=hD-z8wDk-ZDIcmxo384pGXqxmEkPXT5icM7A_h1in0Q,728
 ailib/kfish/__init__.py,sha256=KvidkIvHSzTFsJbYOiiFmhemj2ten4p-Oeq5ii0nmLY,8477
-aicli-99.0.202306141430.dist-info/METADATA,sha256=jGWGqJ41N9jhw6jWLFEbIra5TcPKbFxnlv5JFooUQ1k,352
-aicli-99.0.202306141430.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-aicli-99.0.202306141430.dist-info/entry_points.txt,sha256=7uqZ_1svrJHY6WVurmsOhlEb_FiRFEgdEnKj_7BuT0Q,40
-aicli-99.0.202306141430.dist-info/top_level.txt,sha256=uCyBeu-We3_G6jzv4SY05Rg3VHcZ2_Dr7dcFduB8Wsw,6
-aicli-99.0.202306141430.dist-info/RECORD,,
+aicli-99.0.202306271611.dist-info/METADATA,sha256=bhmq-wZbEoapRGbEOOkPK0-14KsQTTGAety5HfWQyFo,352
+aicli-99.0.202306271611.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+aicli-99.0.202306271611.dist-info/entry_points.txt,sha256=7uqZ_1svrJHY6WVurmsOhlEb_FiRFEgdEnKj_7BuT0Q,40
+aicli-99.0.202306271611.dist-info/top_level.txt,sha256=uCyBeu-We3_G6jzv4SY05Rg3VHcZ2_Dr7dcFduB8Wsw,6
+aicli-99.0.202306271611.dist-info/RECORD,,
```


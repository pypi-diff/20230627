# Comparing `tmp/aries_cloudagent-1.0.0rc1.tar.gz` & `tmp/aries_cloudagent-1.0.0rc2.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "aries_cloudagent-1.0.0rc1.tar", last modified: Fri Nov  4 22:32:21 2022, max compression
+gzip compressed data, was "aries_cloudagent-1.0.0rc2.tar", last modified: Mon Jun  5 15:52:50 2023, max compression
```

## Comparing `aries_cloudagent-1.0.0rc1.tar` & `aries_cloudagent-1.0.0rc2.tar`

### file list

```diff
@@ -1,1511 +1,1519 @@
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/
--rw-r--r--   0 runner    (1001) docker     (121)    11402 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/LICENSE
--rw-r--r--   0 runner    (1001) docker     (121)      161 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (121)    21543 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/NOTICES
--rw-r--r--   0 runner    (1001) docker     (121)    11004 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (121)    10521 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/README.md
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/
--rw-r--r--   0 runner    (1001) docker     (121)       25 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2090 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/__main__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      432 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/base_server.py
--rw-r--r--   0 runner    (1001) docker     (121)      231 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     5128 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/request_context.py
--rw-r--r--   0 runner    (1001) docker     (121)    32512 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/server.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    19720 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/tests/test_admin_server.py
--rw-r--r--   0 runner    (1001) docker     (121)      947 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/tests/test_request_context.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    13797 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/tests/test_v2.py
--rw-r--r--   0 runner    (1001) docker     (121)     4834 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/v1.py
--rw-r--r--   0 runner    (1001) docker     (121)     9625 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/v2.py
--rw-r--r--   0 runner    (1001) docker     (121)     9112 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/profile.py
--rw-r--r--   0 runner    (1001) docker     (121)     7433 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/store.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2771 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/tests/test_profile.py
--rw-r--r--   0 runner    (1001) docker     (121)      988 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/tests/test_store.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4896 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2145 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/in_memory.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5564 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/tests/test_in_memory_cache.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.454077 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/
--rw-r--r--   0 runner    (1001) docker     (121)     1177 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1005 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/help.py
--rw-r--r--   0 runner    (1001) docker     (121)     2975 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/provision.py
--rw-r--r--   0 runner    (1001) docker     (121)     3070 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/start.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.454077 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      872 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_help.py
--rw-r--r--   0 runner    (1001) docker     (121)      711 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_init.py
--rw-r--r--   0 runner    (1001) docker     (121)     2918 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_provision.py
--rw-r--r--   0 runner    (1001) docker     (121)     5523 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_start.py
--rw-r--r--   0 runner    (1001) docker     (121)    12210 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_upgrade.py
--rw-r--r--   0 runner    (1001) docker     (121)    10396 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/upgrade.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.454077 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    75650 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/argparse.py
--rw-r--r--   0 runner    (1001) docker     (121)     1845 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/banner.py
--rw-r--r--   0 runner    (1001) docker     (121)     4826 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/base.py
--rw-r--r--   0 runner    (1001) docker     (121)      882 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/base_context.py
--rw-r--r--   0 runner    (1001) docker     (121)     5802 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/default_context.py
--rw-r--r--   0 runner    (1001) docker     (121)      306 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/default_logging_config.ini
--rw-r--r--   0 runner    (1001) docker     (121)      184 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     4815 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/injection_context.py
--rw-r--r--   0 runner    (1001) docker     (121)     4288 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/injector.py
--rw-r--r--   0 runner    (1001) docker     (121)    10304 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/ledger.py
--rw-r--r--   0 runner    (1001) docker     (121)     5831 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/logging.py
--rw-r--r--   0 runner    (1001) docker     (121)     2307 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/plugin_settings.py
--rw-r--r--   0 runner    (1001) docker     (121)     4866 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/provider.py
--rw-r--r--   0 runner    (1001) docker     (121)     3168 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/settings.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.454077 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    16833 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_argparse.py
--rw-r--r--   0 runner    (1001) docker     (121)     1174 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_default_context.py
--rw-r--r--   0 runner    (1001) docker     (121)     3249 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_injection_context.py
--rw-r--r--   0 runner    (1001) docker     (121)     6026 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_injector.py
--rw-r--r--   0 runner    (1001) docker     (121)    31580 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_ledger.py
--rw-r--r--   0 runner    (1001) docker     (121)     3786 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_logging.py
--rw-r--r--   0 runner    (1001) docker     (121)     3802 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_provider.py
--rw-r--r--   0 runner    (1001) docker     (121)     3343 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_settings.py
--rw-r--r--   0 runner    (1001) docker     (121)    12616 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_wallet.py
--rw-r--r--   0 runner    (1001) docker     (121)     2809 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/util.py
--rw-r--r--   0 runner    (1001) docker     (121)     5318 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/config/wallet.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.454077 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    16249 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/base_manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    24823 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/conn_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     2351 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/connection_target.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/
--rw-r--r--   0 runner    (1001) docker     (121)      865 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    10270 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/diddoc.py
--rw-r--r--   0 runner    (1001) docker     (121)     5411 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/publickey.py
--rw-r--r--   0 runner    (1001) docker     (121)     3703 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    18861 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/tests/test_diddoc.py
--rw-r--r--   0 runner    (1001) docker     (121)     3261 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    18757 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/tests/test_conn_record.py
--rw-r--r--   0 runner    (1001) docker     (121)      993 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/tests/test_connection_target.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    29538 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/conductor.py
--rw-r--r--   0 runner    (1001) docker     (121)    15108 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/dispatcher.py
--rw-r--r--   0 runner    (1001) docker     (121)     2215 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     6080 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/event_bus.py
--rw-r--r--   0 runner    (1001) docker     (121)     1470 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/goal_code_registry.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/
--rw-r--r--   0 runner    (1001) docker     (121)      201 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      920 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/derive_1pu.py
--rw-r--r--   0 runner    (1001) docker     (121)     1784 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/derive_ecdh.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4024 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/tests/test_1pu.py
--rw-r--r--   0 runner    (1001) docker     (121)     5002 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/tests/test_ecdh.py
--rw-r--r--   0 runner    (1001) docker     (121)     5251 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/profile.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      543 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/tests/test_profile.py
--rw-r--r--   0 runner    (1001) docker     (121)    15153 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/oob_processor.py
--rw-r--r--   0 runner    (1001) docker     (121)    14510 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/plugin_registry.py
--rw-r--r--   0 runner    (1001) docker     (121)    10348 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/profile.py
--rw-r--r--   0 runner    (1001) docker     (121)    10474 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/protocol_registry.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    58405 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_conductor.py
--rw-r--r--   0 runner    (1001) docker     (121)    20465 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_dispatcher.py
--rw-r--r--   0 runner    (1001) docker     (121)      967 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_error.py
--rw-r--r--   0 runner    (1001) docker     (121)     6752 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_event_bus.py
--rw-r--r--   0 runner    (1001) docker     (121)      774 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_goal_code_registry.py
--rw-r--r--   0 runner    (1001) docker     (121)    30386 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_oob_processor.py
--rw-r--r--   0 runner    (1001) docker     (121)    21376 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_plugin_registry.py
--rw-r--r--   0 runner    (1001) docker     (121)     2888 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_profile.py
--rw-r--r--   0 runner    (1001) docker     (121)    13293 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_protocol_registry.py
--rw-r--r--   0 runner    (1001) docker     (121)     2905 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_util.py
--rw-r--r--   0 runner    (1001) docker     (121)     6133 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/core/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.458077 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     9035 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/did_key.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.462077 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2654 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_bls12381g1.py
--rw-r--r--   0 runner    (1001) docker     (121)     5405 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_bls12381g1g2.py
--rw-r--r--   0 runner    (1001) docker     (121)     2897 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_bls12381g2.py
--rw-r--r--   0 runner    (1001) docker     (121)     2434 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_ed25519.py
--rw-r--r--   0 runner    (1001) docker     (121)     2386 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_x25519.py
--rw-r--r--   0 runner    (1001) docker     (121)    11174 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_dids.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.462077 aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    15220 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.462077 aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    15739 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.462077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.462077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    20570 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/holder.py
--rw-r--r--   0 runner    (1001) docker     (121)    23052 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/issuer.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.462077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    11296 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/tests/test_cred_issuance.py
--rw-r--r--   0 runner    (1001) docker     (121)     2459 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/verifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     4711 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/holder.py
--rw-r--r--   0 runner    (1001) docker     (121)     6071 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/issuer.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.462077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3307 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred.py
--rw-r--r--   0 runner    (1001) docker     (121)     3380 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_abstract.py
--rw-r--r--   0 runner    (1001) docker     (121)     2978 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_def.py
--rw-r--r--   0 runner    (1001) docker     (121)     2733 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_precis.py
--rw-r--r--   0 runner    (1001) docker     (121)     1844 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1934 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/non_rev_interval.py
--rw-r--r--   0 runner    (1001) docker     (121)     2174 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/predicate.py
--rw-r--r--   0 runner    (1001) docker     (121)    15715 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/pres_preview.py
--rw-r--r--   0 runner    (1001) docker     (121)    18786 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/proof.py
--rw-r--r--   0 runner    (1001) docker     (121)     8369 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/proof_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1216 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/requested_creds.py
--rw-r--r--   0 runner    (1001) docker     (121)     7035 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/revocation.py
--rw-r--r--   0 runner    (1001) docker     (121)      926 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/schema.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.466077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3478 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_cred.py
--rw-r--r--   0 runner    (1001) docker     (121)     1095 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_cred_precis.py
--rw-r--r--   0 runner    (1001) docker     (121)     1363 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_non_rev_interval.py
--rw-r--r--   0 runner    (1001) docker     (121)     2051 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_pred.py
--rw-r--r--   0 runner    (1001) docker     (121)    19636 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_pres_preview.py
--rw-r--r--   0 runner    (1001) docker     (121)    26919 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_proof.py
--rw-r--r--   0 runner    (1001) docker     (121)     2662 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_proof_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     5116 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/xform.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.466077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1340 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/error.py
--rw-r--r--   0 runner    (1001) docker     (121)    16927 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/holder.py
--rw-r--r--   0 runner    (1001) docker     (121)    13067 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/issuer.py
--rw-r--r--   0 runner    (1001) docker     (121)     6586 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/profile.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.466077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    22875 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_holder.py
--rw-r--r--   0 runner    (1001) docker     (121)    14767 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_issuer.py
--rw-r--r--   0 runner    (1001) docker     (121)     2687 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_profile.py
--rw-r--r--   0 runner    (1001) docker     (121)     1446 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_util.py
--rw-r--r--   0 runner    (1001) docker     (121)    44716 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_verifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     5499 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_wallet_plugin.py
--rw-r--r--   0 runner    (1001) docker     (121)      888 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/util.py
--rw-r--r--   0 runner    (1001) docker     (121)     2637 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/verifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     2341 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/wallet_plugin.py
--rw-r--r--   0 runner    (1001) docker     (121)     8511 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/wallet_setup.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.466077 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    58161 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/tests/test_verifier.py
--rw-r--r--   0 runner    (1001) docker     (121)     1044 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/util.py
--rw-r--r--   0 runner    (1001) docker     (121)    17610 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/verifier.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.466077 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    20174 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     1028 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/endpoint_type.py
--rw-r--r--   0 runner    (1001) docker     (121)      482 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/error.py
--rw-r--r--   0 runner    (1001) docker     (121)    44201 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/indy.py
--rw-r--r--   0 runner    (1001) docker     (121)    42717 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/indy_vdr.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.470077 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1308 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/constants.py
--rw-r--r--   0 runner    (1001) docker     (121)    16325 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/domain_txn_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1238 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/hasher.py
--rw-r--r--   0 runner    (1001) docker     (121)     1384 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/merkel_verifier.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.470077 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)   118692 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/test_data.py
--rw-r--r--   0 runner    (1001) docker     (121)    16462 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/test_domain_txn_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     5286 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/test_trie.py
--rw-r--r--   0 runner    (1001) docker     (121)      402 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/test_utils.py
--rw-r--r--   0 runner    (1001) docker     (121)     2957 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/trie.py
--rw-r--r--   0 runner    (1001) docker     (121)     1503 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/utils.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.470077 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1642 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/base_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    10499 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/indy_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    10751 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/indy_vdr_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     2330 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/ledger_config_schema.py
--rw-r--r--   0 runner    (1001) docker     (121)     1991 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/ledger_requests_executor.py
--rw-r--r--   0 runner    (1001) docker     (121)     8371 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/manager_provider.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.470077 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3852 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_ledger_requests.py
--rw-r--r--   0 runner    (1001) docker     (121)    21348 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    24247 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_vdr_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     4376 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_manager_provider.py
--rw-r--r--   0 runner    (1001) docker     (121)    27166 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.470077 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      843 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_endpoint_type.py
--rw-r--r--   0 runner    (1001) docker     (121)   153929 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_indy.py
--rw-r--r--   0 runner    (1001) docker     (121)    34603 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_indy_vdr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1331 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_role.py
--rw-r--r--   0 runner    (1001) docker     (121)    34839 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)      450 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.470077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    18071 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/agent_message.py
--rw-r--r--   0 runner    (1001) docker     (121)      791 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/base_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1337 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/base_message.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    20963 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    15578 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     1624 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    22492 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/attach_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     5453 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/base.py
--rw-r--r--   0 runner    (1001) docker     (121)      925 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/default.py
--rw-r--r--   0 runner    (1001) docker     (121)     1874 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/localization_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     1479 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/please_ack_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     2570 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/service_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     4865 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/signature_decorator.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    23747 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_attach_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     2247 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2882 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_decorator_set.py
--rw-r--r--   0 runner    (1001) docker     (121)     1337 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_localization_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     2254 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_please_ack_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     2141 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_signature_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     1299 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_thread_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)      699 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_timing_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     5734 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_trace_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)      622 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_transport_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     4107 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/thread_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     2856 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/timing_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     7586 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/trace_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)     1939 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/transport_decorator.py
--rw-r--r--   0 runner    (1001) docker     (121)      313 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/error.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4671 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/create_verify_data.py
--rw-r--r--   0 runner    (1001) docker     (121)     3187 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/credential.py
--rw-r--r--   0 runner    (1001) docker     (121)      795 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     5776 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/
--rw-r--r--   0 runner    (1001) docker     (121)    17726 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1914 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/document_loader.py
--rw-r--r--   0 runner    (1001) docker     (121)     4328 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/test_credential.py
--rw-r--r--   0 runner    (1001) docker     (121)    20276 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/
--rw-r--r--   0 runner    (1001) docker     (121)      515 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    11087 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/base.py
--rw-r--r--   0 runner    (1001) docker     (121)    16961 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/base_record.py
--rw-r--r--   0 runner    (1001) docker     (121)      316 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/openapi.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.474077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3394 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/tests/test_base.py
--rw-r--r--   0 runner    (1001) docker     (121)    12559 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/tests/test_base_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     7162 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/request_context.py
--rw-r--r--   0 runner    (1001) docker     (121)     5388 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/responder.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    17182 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    16178 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     1274 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     9942 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/test_agent_message.py
--rw-r--r--   0 runner    (1001) docker     (121)     5870 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/test_util.py
--rw-r--r--   0 runner    (1001) docker     (121)    19212 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/test_valid.py
--rw-r--r--   0 runner    (1001) docker     (121)     4127 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/util.py
--rw-r--r--   0 runner    (1001) docker     (121)    24056 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/valid.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    16990 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    26165 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     4100 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/askar_profile_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    13879 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     3618 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/cache.py
--rw-r--r--   0 runner    (1001) docker     (121)      151 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     3977 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1835 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/manager_provider.py
--rw-r--r--   0 runner    (1001) docker     (121)     4881 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/route_manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7570 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_askar_profile_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    24189 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_base.py
--rw-r--r--   0 runner    (1001) docker     (121)     1997 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_cache.py
--rw-r--r--   0 runner    (1001) docker     (121)     8981 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1447 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_manager_provider.py
--rw-r--r--   0 runner    (1001) docker     (121)    12091 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_route_manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1837 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/base_service.py
--rw-r--r--   0 runner    (1001) docker     (121)      698 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/controller.py
--rw-r--r--   0 runner    (1001) docker     (121)     2022 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/driver_service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1004 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1196 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1298 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/perform_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.478077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      969 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1990 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2001 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_perform_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      659 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1968 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu.py
--rw-r--r--   0 runner    (1001) docker     (121)      902 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1417 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/perform.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3081 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu.py
--rw-r--r--   0 runner    (1001) docker     (121)     1529 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1611 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_perform.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1939 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form.py
--rw-r--r--   0 runner    (1001) docker     (121)     2239 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form_param.py
--rw-r--r--   0 runner    (1001) docker     (121)     2011 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_option.py
--rw-r--r--   0 runner    (1001) docker     (121)     8867 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      931 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_controller.py
--rw-r--r--   0 runner    (1001) docker     (121)    10955 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     2365 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_service.py
--rw-r--r--   0 runner    (1001) docker     (121)     2981 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_util.py
--rw-r--r--   0 runner    (1001) docker     (121)     1926 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2193 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/basicmessage_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3543 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/test_basicmessage_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      489 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1853 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/basicmessage.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1848 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/test_basic_message.py
--rw-r--r--   0 runner    (1001) docker     (121)     2732 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3536 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1119 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/connection_invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2820 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/connection_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2176 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/connection_response_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.482077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1248 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     9652 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     6667 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    44370 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1121 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.486077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5013 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/connection_invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     1979 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/connection_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1350 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/connection_response.py
--rw-r--r--   0 runner    (1001) docker     (121)     2202 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/problem_report.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.486077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4463 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     4172 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     3604 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_response.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.486077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2361 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/models/connection_detail.py
--rw-r--r--   0 runner    (1001) docker     (121)    29322 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.486077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)   113805 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    35870 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.486077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/definition.py
--rw-r--r--   0 runner    (1001) docker     (121)     6149 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/mediation_invite_store.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.486077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      346 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/controller.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.490077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1439 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1934 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_query_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1949 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2690 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1514 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_deny_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2888 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_grant_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1725 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      976 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/problem_report_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.490077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2019 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3416 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_query_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2966 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     5920 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2354 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_deny_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     5265 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_grant_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2933 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1813 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    22887 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1697 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.490077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.494077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1231 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_key.py
--rw-r--r--   0 runner    (1001) docker     (121)     1165 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_query_paginate.py
--rw-r--r--   0 runner    (1001) docker     (121)     1471 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_update_rule.py
--rw-r--r--   0 runner    (1001) docker     (121)     1581 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_updated.py
--rw-r--r--   0 runner    (1001) docker     (121)     1578 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist.py
--rw-r--r--   0 runner    (1001) docker     (121)     1550 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_query.py
--rw-r--r--   0 runner    (1001) docker     (121)     1419 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update.py
--rw-r--r--   0 runner    (1001) docker     (121)     1543 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update_response.py
--rw-r--r--   0 runner    (1001) docker     (121)     1707 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_deny.py
--rw-r--r--   0 runner    (1001) docker     (121)     1832 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_grant.py
--rw-r--r--   0 runner    (1001) docker     (121)     1914 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     2032 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/problem_report.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.494077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)     1790 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      713 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist.py
--rw-r--r--   0 runner    (1001) docker     (121)      542 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_query.py
--rw-r--r--   0 runner    (1001) docker     (121)      612 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update.py
--rw-r--r--   0 runner    (1001) docker     (121)      761 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update_response.py
--rw-r--r--   0 runner    (1001) docker     (121)      452 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_deny.py
--rw-r--r--   0 runner    (1001) docker     (121)      525 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_grant.py
--rw-r--r--   0 runner    (1001) docker     (121)      482 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1750 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_problem_report.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.494077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5541 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/mediation_record.py
--rw-r--r--   0 runner    (1001) docker     (121)      587 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/normalization.py
--rw-r--r--   0 runner    (1001) docker     (121)    11001 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1130 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager_provider.py
--rw-r--r--   0 runner    (1001) docker     (121)    22343 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.494077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5385 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_invite_store.py
--rw-r--r--   0 runner    (1001) docker     (121)    20257 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    23462 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_route_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    35085 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     1766 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didcomm_prefix.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.494077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.498077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.498077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1147 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/complete_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1352 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3308 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2108 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/response_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.498077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2072 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_complete_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1210 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     9788 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7063 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    33843 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)      774 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.498077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1332 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/complete.py
--rw-r--r--   0 runner    (1001) docker     (121)      464 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/problem_report_reason.py
--rw-r--r--   0 runner    (1001) docker     (121)     1970 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1756 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/response.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.498077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1329 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_complete.py
--rw-r--r--   0 runner    (1001) docker     (121)     3969 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     3813 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_response.py
--rw-r--r--   0 runner    (1001) docker     (121)    11154 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.498077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    82515 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    11769 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.498077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      335 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      959 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/disclose_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      822 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/query_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2846 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_disclose_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3717 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_query_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7471 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)      596 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1747 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/disclose.py
--rw-r--r--   0 runner    (1001) docker     (121)     1287 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/query.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1632 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_disclose.py
--rw-r--r--   0 runner    (1001) docker     (121)     1537 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_query.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)      142 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4761 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/discovery_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4218 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/tests/test_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     4840 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     9664 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     5786 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.502077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      971 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/disclosures_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      834 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/queries_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6750 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_disclosures_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7041 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_queries_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    10770 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)      624 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2853 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/disclosures.py
--rw-r--r--   0 runner    (1001) docker     (121)     2158 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/queries.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3214 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_disclosures.py
--rw-r--r--   0 runner    (1001) docker     (121)     2769 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_queries.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)      142 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4880 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/discovery_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6451 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/tests/test_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     5265 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    12880 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     6862 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.506077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.510077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      846 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/controller.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.510077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1937 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/endorsed_transaction_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1215 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/refused_transaction_response_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.510077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3310 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_endorsed_transaction_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3295 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_refused_transaction_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3663 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_acknowledgement_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3528 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_cancel_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2441 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_job_to_send_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3379 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3528 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_resend_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1315 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_acknowledgement_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1213 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_cancel_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1060 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_job_to_send_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2001 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1189 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_resend_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    32664 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1776 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.510077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1550 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/cancel_transaction.py
--rw-r--r--   0 runner    (1001) docker     (121)     3246 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/endorsed_transaction_response.py
--rw-r--r--   0 runner    (1001) docker     (121)     3479 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/messages_attach.py
--rw-r--r--   0 runner    (1001) docker     (121)     2898 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/refused_transaction_response.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2464 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_cancel_transaction.py
--rw-r--r--   0 runner    (1001) docker     (121)     4137 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_endorsed_transaction_response.py
--rw-r--r--   0 runner    (1001) docker     (121)     3242 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_messages_attach.py
--rw-r--r--   0 runner    (1001) docker     (121)     3896 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_refused_transaction_response.py
--rw-r--r--   0 runner    (1001) docker     (121)     2678 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_acknowledgement.py
--rw-r--r--   0 runner    (1001) docker     (121)     2421 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_job_to_send.py
--rw-r--r--   0 runner    (1001) docker     (121)     4599 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     2461 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_resend.py
--rw-r--r--   0 runner    (1001) docker     (121)     1538 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_acknowledgement.py
--rw-r--r--   0 runner    (1001) docker     (121)     1361 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_job_to_send.py
--rw-r--r--   0 runner    (1001) docker     (121)     3934 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1547 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_resend.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     8284 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/models/transaction_record.py
--rw-r--r--   0 runner    (1001) docker     (121)    29918 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    33597 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    70143 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)      213 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/transaction_jobs.py
--rw-r--r--   0 runner    (1001) docker     (121)      889 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2011 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/base_service.py
--rw-r--r--   0 runner    (1001) docker     (121)     4969 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/demo_service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1543 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/forward_invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1376 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1629 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_request_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2811 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_forward_invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2679 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3060 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      722 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1641 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/forward_invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     1627 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     1634 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/invitation_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2763 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_forward_invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     2407 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     2134 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     3194 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4784 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     7432 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/tests/test_service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      335 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.514077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)     1691 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      454 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/controller.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.518077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2220 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4132 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_issue_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4693 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_offer_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1827 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3905 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4948 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_request_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.518077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4111 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7905 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_issue_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7740 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_offer_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4695 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     6021 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    10876 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    40184 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1883 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.518077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      865 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     2314 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_issue.py
--rw-r--r--   0 runner    (1001) docker     (121)     2634 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_offer.py
--rw-r--r--   0 runner    (1001) docker     (121)     2012 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     2966 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     2367 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.518077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4858 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/credential_preview.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3583 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/test_credential_preview.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1668 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     9643 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_issue.py
--rw-r--r--   0 runner    (1001) docker     (121)     7274 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_offer.py
--rw-r--r--   0 runner    (1001) docker     (121)     3253 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     5237 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     5795 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)      142 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    14661 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/credential_exchange.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3308 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/test_credential_exchange.py
--rw-r--r--   0 runner    (1001) docker     (121)    45233 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)     4498 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    68014 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    64111 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/
--rw-r--r--   0 runner    (1001) docker     (121)     1640 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      454 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/controller.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4016 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    19343 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    46417 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/test_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.522077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    23545 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2591 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail.py
--rw-r--r--   0 runner    (1001) docker     (121)     3963 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail_options.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2345 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/test_cred_detail.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    36247 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/test_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2186 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3968 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_issue_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4514 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_offer_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1791 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3710 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4171 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_request_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3746 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7257 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_issue_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7464 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_offer_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4599 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     5993 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7655 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    27649 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     2270 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      795 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     4487 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_format.py
--rw-r--r--   0 runner    (1001) docker     (121)     4080 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_issue.py
--rw-r--r--   0 runner    (1001) docker     (121)     4377 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_offer.py
--rw-r--r--   0 runner    (1001) docker     (121)     1975 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     4197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     3753 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4872 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/cred_preview.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.526077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3582 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/test_cred_preview.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1624 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     2432 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_format.py
--rw-r--r--   0 runner    (1001) docker     (121)    10632 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_issue.py
--rw-r--r--   0 runner    (1001) docker     (121)     7967 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_offer.py
--rw-r--r--   0 runner    (1001) docker     (121)     3189 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     9043 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     8866 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)      142 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    13251 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/cred_ex_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3621 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/indy.py
--rw-r--r--   0 runner    (1001) docker     (121)     2828 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/ld_proof.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1570 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_indy.py
--rw-r--r--   0 runner    (1001) docker     (121)      924 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_ld_proof.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4841 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/test_cred_ex_record.py
--rw-r--r--   0 runner    (1001) docker     (121)    52462 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)     5447 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    54740 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    73265 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      198 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1106 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/ack_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      778 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/tests/test_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      507 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1135 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/messages/ack.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      329 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/controller.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1322 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1417 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_accept_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1241 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.530077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3203 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2886 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_accept_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3426 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    42426 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1322 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.534077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     9009 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     2823 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     1692 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse.py
--rw-r--r--   0 runner    (1001) docker     (121)     1784 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse_accept.py
--rw-r--r--   0 runner    (1001) docker     (121)     2683 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/service.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.534077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5673 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     2897 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     1624 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse.py
--rw-r--r--   0 runner    (1001) docker     (121)     2295 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse_accept.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.534077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3897 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     9117 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/oob_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.534077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2123 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/test_invitation.py
--rw-r--r--   0 runner    (1001) docker     (121)     8740 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.534077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    71230 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     7361 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.534077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      335 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.534077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    26541 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_exch.py
--rw-r--r--   0 runner    (1001) docker     (121)    59053 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_exch_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      521 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_proposal_schema.py
--rw-r--r--   0 runner    (1001) docker     (121)     3034 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_request_schema.py
--rw-r--r--   0 runner    (1001) docker     (121)     1035 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_schema.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.538077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)   102840 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_data.py
--rw-r--r--   0 runner    (1001) docker     (121)    17784 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch.py
--rw-r--r--   0 runner    (1001) docker     (121)   150733 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4213 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.538077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/indy/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/indy/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    12439 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/indy/pres_exch_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.538077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)     1698 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      383 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/controller.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.538077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2164 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3887 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1843 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3848 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     7266 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_request_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.538077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3716 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4984 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2998 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     6453 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    39257 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    20894 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1601 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.538077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2021 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation.py
--rw-r--r--   0 runner    (1001) docker     (121)     1430 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     1487 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     1671 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     2237 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    61535 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation.py
--rw-r--r--   0 runner    (1001) docker     (121)     1715 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     2410 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     2931 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     4504 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)      142 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    10701 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/presentation_exchange.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4434 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/tests/test_record.py
--rw-r--r--   0 runner    (1001) docker     (121)    34722 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    55206 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    66196 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/
--rw-r--r--   0 runner    (1001) docker     (121)     1643 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      383 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/controller.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    20537 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    78102 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/test_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2703 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    14363 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2080 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3569 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1345 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     3626 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     5728 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_request_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.542077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3562 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_ack_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     4857 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2825 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_problem_report_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     6411 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_proposal_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    37543 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)    16860 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1849 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3583 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres.py
--rw-r--r--   0 runner    (1001) docker     (121)     1364 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     4075 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_format.py
--rw-r--r--   0 runner    (1001) docker     (121)     1444 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     3815 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     4112 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    61790 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres.py
--rw-r--r--   0 runner    (1001) docker     (121)     1632 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_ack.py
--rw-r--r--   0 runner    (1001) docker     (121)     4588 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_format.py
--rw-r--r--   0 runner    (1001) docker     (121)     2311 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_problem_report.py
--rw-r--r--   0 runner    (1001) docker     (121)     5571 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_proposal.py
--rw-r--r--   0 runner    (1001) docker     (121)     6251 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_request.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)      142 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    10594 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/pres_exchange.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4320 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/tests/test_record.py
--rw-r--r--   0 runner    (1001) docker     (121)    47319 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    84587 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    99906 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)      849 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      922 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     5026 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/message.py
--rw-r--r--   0 runner    (1001) docker     (121)      492 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1388 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/tests/test_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2052 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/tests/test_message.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      335 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1410 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/revoke_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.546077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1921 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/test_revoke_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      553 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1309 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/messages/revoke.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      201 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/messages/tests/test_revoke.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5086 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/rev_notification_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2164 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/test_rev_notification_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     2466 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3827 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1602 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/revoke_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2167 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/test_revoke_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      556 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1951 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/messages/revoke.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      335 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/messages/tests/test_revoke.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5164 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/rev_notification_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2193 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/test_rev_notification_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     2581 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4799 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2461 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/forward_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1142 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      877 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1159 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_request_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     2234 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_response_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.550077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3474 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_forward_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     6386 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_query_update_handlers.py
--rw-r--r--   0 runner    (1001) docker     (121)     7333 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1059 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1562 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/forward.py
--rw-r--r--   0 runner    (1001) docker     (121)     1664 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_query_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1672 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_query_response.py
--rw-r--r--   0 runner    (1001) docker     (121)     1374 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_update_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     1379 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_update_response.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1783 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_forward.py
--rw-r--r--   0 runner    (1001) docker     (121)     2040 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     2840 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_response.py
--rw-r--r--   0 runner    (1001) docker     (121)     2024 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_request.py
--rw-r--r--   0 runner    (1001) docker     (121)     2258 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_response.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1019 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/paginate.py
--rw-r--r--   0 runner    (1001) docker     (121)     1348 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/paginated.py
--rw-r--r--   0 runner    (1001) docker     (121)      938 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_query_result.py
--rw-r--r--   0 runner    (1001) docker     (121)     4122 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     1071 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_update.py
--rw-r--r--   0 runner    (1001) docker     (121)     1371 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_updated.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      511 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/tests/test_route_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    13583 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/tests/test_routing_manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1872 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/tests/test_didcomm_prefix.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      197 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/definition.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1697 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1295 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_response_handler.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2120 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)     1014 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_response_handler.py
--rw-r--r--   0 runner    (1001) docker     (121)      588 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/message_types.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1529 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/ping.py
--rw-r--r--   0 runner    (1001) docker     (121)     1227 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/ping_response.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.554077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1860 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping.py
--rw-r--r--   0 runner    (1001) docker     (121)     1788 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping_reponse.py
--rw-r--r--   0 runner    (1001) docker     (121)     2933 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3521 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/
--rw-r--r--   0 runner    (1001) docker     (121)     1679 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4679 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/base.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/
--rw-r--r--   0 runner    (1001) docker     (121)       47 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6032 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/indy.py
--rw-r--r--   0 runner    (1001) docker     (121)     1205 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/key.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5952 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_indy.py
--rw-r--r--   0 runner    (1001) docker     (121)     1318 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_key.py
--rw-r--r--   0 runner    (1001) docker     (121)     6336 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_universal.py
--rw-r--r--   0 runner    (1001) docker     (121)      780 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_web.py
--rw-r--r--   0 runner    (1001) docker     (121)     3662 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/universal.py
--rw-r--r--   0 runner    (1001) docker     (121)     2551 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/web.py
--rw-r--r--   0 runner    (1001) docker     (121)     4752 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/did_resolver.py
--rw-r--r--   0 runner    (1001) docker     (121)     3796 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/
--rw-r--r--   0 runner    (1001) docker     (121)     1421 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2089 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/test_base.py
--rw-r--r--   0 runner    (1001) docker     (121)     6247 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/test_did_resolver.py
--rw-r--r--   0 runner    (1001) docker     (121)     4264 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/test_routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      439 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     8898 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/indy.py
--rw-r--r--   0 runner    (1001) docker     (121)    13831 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/manager.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1880 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/indy.py
--rw-r--r--   0 runner    (1001) docker     (121)     5128 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/issuer_cred_rev_record.py
--rw-r--r--   0 runner    (1001) docker     (121)    23248 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/issuer_rev_reg_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     7460 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/revocation_registry.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.558077 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1331 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_indy.py
--rw-r--r--   0 runner    (1001) docker     (121)     3127 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_issuer_cred_rev_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     9431 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_issuer_rev_reg_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     7147 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_revocation_registry.py
--rw-r--r--   0 runner    (1001) docker     (121)     4034 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/recover.py
--rw-r--r--   0 runner    (1001) docker     (121)    52562 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7792 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/test_indy.py
--rw-r--r--   0 runner    (1001) docker     (121)    19844 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    37367 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     2712 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    11428 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/askar.py
--rw-r--r--   0 runner    (1001) docker     (121)     5297 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/base.py
--rw-r--r--   0 runner    (1001) docker     (121)      409 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     9377 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/in_memory.py
--rw-r--r--   0 runner    (1001) docker     (121)    10617 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/indy.py
--rw-r--r--   0 runner    (1001) docker     (121)      549 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/
--rw-r--r--   0 runner    (1001) docker     (121)       27 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    15881 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/test_askar_storage.py
--rw-r--r--   0 runner    (1001) docker     (121)     9902 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/test_in_memory_storage.py
--rw-r--r--   0 runner    (1001) docker     (121)    21908 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/test_indy_storage.py
--rw-r--r--   0 runner    (1001) docker     (121)      388 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/test_storage_record.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     8600 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/askar.py
--rw-r--r--   0 runner    (1001) docker     (121)     4150 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     5495 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/in_memory.py
--rw-r--r--   0 runner    (1001) docker     (121)     5578 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/indy.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4353 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_askar_vc_holder.py
--rw-r--r--   0 runner    (1001) docker     (121)    14861 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_in_memory_vc_holder.py
--rw-r--r--   0 runner    (1001) docker     (121)     2260 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_indy_vc_holder.py
--rw-r--r--   0 runner    (1001) docker     (121)     6198 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_vc_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     4895 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/vc_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     2314 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/xform.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      914 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/base.py
--rw-r--r--   0 runner    (1001) docker     (121)      196 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     2512 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/indy_tails_server.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4699 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/tests/test_indy.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2328 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/tests/test_main.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.562077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      623 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/error.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.566077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3006 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     4055 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/delivery_queue.py
--rw-r--r--   0 runner    (1001) docker     (121)     4628 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/http.py
--rw-r--r--   0 runner    (1001) docker     (121)     8860 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)      666 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/message.py
--rw-r--r--   0 runner    (1001) docker     (121)     7481 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/receipt.py
--rw-r--r--   0 runner    (1001) docker     (121)    11122 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/session.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.566077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2353 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_delivery_queue.py
--rw-r--r--   0 runner    (1001) docker     (121)     5664 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_http_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)     7736 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)    13757 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_session.py
--rw-r--r--   0 runner    (1001) docker     (121)     3408 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_ws_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)     5228 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/ws.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.566077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2635 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2976 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/http.py
--rw-r--r--   0 runner    (1001) docker     (121)    20973 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1572 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/message.py
--rw-r--r--   0 runner    (1001) docker     (121)     1033 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/status.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.566077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5168 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/test_http_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)    14264 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/test_manager.py
--rw-r--r--   0 runner    (1001) docker     (121)     1678 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/test_ws_transport.py
--rw-r--r--   0 runner    (1001) docker     (121)     1668 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/ws.py
--rw-r--r--   0 runner    (1001) docker     (121)     7584 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/pack_format.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.566077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1476 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2930 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/basic.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.566077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4408 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/tests/test_basic_queue.py
--rw-r--r--   0 runner    (1001) docker     (121)     2737 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/stats.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.566077 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     8525 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/tests/test_pack_format.py
--rw-r--r--   0 runner    (1001) docker     (121)      817 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/tests/test_stats.py
--rw-r--r--   0 runner    (1001) docker     (121)      396 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/tests/test_wire_format.py
--rw-r--r--   0 runner    (1001) docker     (121)     5493 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/wire_format.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/
--rw-r--r--   0 runner    (1001) docker     (121)       20 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     6481 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/classloader.py
--rw-r--r--   0 runner    (1001) docker     (121)     1230 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/dependencies.py
--rw-r--r--   0 runner    (1001) docker     (121)      473 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/env.py
--rw-r--r--   0 runner    (1001) docker     (121)     8135 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/http.py
--rw-r--r--   0 runner    (1001) docker     (121)    11422 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/jwe.py
--rw-r--r--   0 runner    (1001) docker     (121)      750 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/outofband.py
--rw-r--r--   0 runner    (1001) docker     (121)     2908 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/repeat.py
--rw-r--r--   0 runner    (1001) docker     (121)     6787 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/stats.py
--rw-r--r--   0 runner    (1001) docker     (121)    13659 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/task_queue.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3943 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_classloader.py
--rw-r--r--   0 runner    (1001) docker     (121)     5564 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_http.py
--rw-r--r--   0 runner    (1001) docker     (121)     5618 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_jwe.py
--rw-r--r--   0 runner    (1001) docker     (121)      819 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_outofband.py
--rw-r--r--   0 runner    (1001) docker     (121)     1341 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_repeat.py
--rw-r--r--   0 runner    (1001) docker     (121)     2679 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_stats.py
--rw-r--r--   0 runner    (1001) docker     (121)     6911 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_task_queue.py
--rw-r--r--   0 runner    (1001) docker     (121)     7706 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_tracing.py
--rw-r--r--   0 runner    (1001) docker     (121)     9049 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tracing.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/
--rw-r--r--   0 runner    (1001) docker     (121)     1771 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4730 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/check.py
--rw-r--r--   0 runner    (1001) docker     (121)      895 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/constants.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/
--rw-r--r--   0 runner    (1001) docker     (121)      145 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1097 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/key_pair.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     2466 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/tests/test_wallet_key_pair.py
--rw-r--r--   0 runner    (1001) docker     (121)     2524 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/wallet_key_pair.py
--rw-r--r--   0 runner    (1001) docker     (121)     3579 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/document_loader.py
--rw-r--r--   0 runner    (1001) docker     (121)      143 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/error.py
--rw-r--r--   0 runner    (1001) docker     (121)     3795 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/ld_proofs.py
--rw-r--r--   0 runner    (1001) docker     (121)    10282 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/proof_set.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/
--rw-r--r--   0 runner    (1001) docker     (121)      611 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      578 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/assertion_proof_purpose.py
--rw-r--r--   0 runner    (1001) docker     (121)     2805 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/authentication_proof_purpose.py
--rw-r--r--   0 runner    (1001) docker     (121)     3194 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/controller_proof_purpose.py
--rw-r--r--   0 runner    (1001) docker     (121)     2291 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/credential_issuance_purpose.py
--rw-r--r--   0 runner    (1001) docker     (121)     2321 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/proof_purpose.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.570077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     4661 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_authentication_proof_purpose.py
--rw-r--r--   0 runner    (1001) docker     (121)     4053 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_controller_proof_purpose.py
--rw-r--r--   0 runner    (1001) docker     (121)     4766 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_credential_issuance_purpose.py
--rw-r--r--   0 runner    (1001) docker     (121)     2284 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_proof_purpose.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.574077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/
--rw-r--r--   0 runner    (1001) docker     (121)      690 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7845 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020.py
--rw-r--r--   0 runner    (1001) docker     (121)     3448 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020_base.py
--rw-r--r--   0 runner    (1001) docker     (121)    13333 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_proof_2020.py
--rw-r--r--   0 runner    (1001) docker     (121)     1376 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/ed25519_signature_2018.py
--rw-r--r--   0 runner    (1001) docker     (121)     6632 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/jws_linked_data_signature.py
--rw-r--r--   0 runner    (1001) docker     (121)     5806 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/linked_data_proof.py
--rw-r--r--   0 runner    (1001) docker     (121)     6936 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/linked_data_signature.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.574077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     5046 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_2020.py
--rw-r--r--   0 runner    (1001) docker     (121)     7722 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_proof_2020.py
--rw-r--r--   0 runner    (1001) docker     (121)     4393 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/test_ed25519_signature_2018.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.574077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7830 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/test_check.py
--rw-r--r--   0 runner    (1001) docker     (121)     8713 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/test_doc.py
--rw-r--r--   0 runner    (1001) docker     (121)     5456 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/test_ld_proofs.py
--rw-r--r--   0 runner    (1001) docker     (121)     4679 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/validation_result.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.574077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.574077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/
--rw-r--r--   0 runner    (1001) docker     (121)      632 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3883 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/bbs_v1.py
--rw-r--r--   0 runner    (1001) docker     (121)     1896 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/citizenship_v1.py
--rw-r--r--   0 runner    (1001) docker     (121)    10632 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/credentials_v1.py
--rw-r--r--   0 runner    (1001) docker     (121)     1757 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/did_v1.py
--rw-r--r--   0 runner    (1001) docker     (121)     2116 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/examples_v1.py
--rw-r--r--   0 runner    (1001) docker     (121)     8057 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/odrl.py
--rw-r--r--   0 runner    (1001) docker     (121)   162955 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/schema_org.py
--rw-r--r--   0 runner    (1001) docker     (121)     2247 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/security_v1.py
--rw-r--r--   0 runner    (1001) docker     (121)     4163 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/security_v2.py
--rw-r--r--   0 runner    (1001) docker     (121)    34325 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/security_v3_unstable.py
--rw-r--r--   0 runner    (1001) docker     (121)     3815 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/vaccination_v1.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.578077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/
--rw-r--r--   0 runner    (1001) docker     (121)     3616 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      293 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_nested_vc_full_reveal_document_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)      699 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_nested_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)      442 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_nested_vc_reveal_document_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1582 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_partial_proof_nested_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1946 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_partial_proof_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1582 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_proof_nested_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1938 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_proof_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1091 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_signed_nested_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1457 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_signed_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)     1065 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_vc_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)      855 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_vc_reveal_document_mattr.py
--rw-r--r--   0 runner    (1001) docker     (121)      272 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document.py
--rw-r--r--   0 runner    (1001) docker     (121)     1462 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_bad_partial_proof_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)      844 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)      756 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_ed25519.py
--rw-r--r--   0 runner    (1001) docker     (121)     1185 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_partial_proof_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)     1155 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_proof_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)      201 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_reveal.py
--rw-r--r--   0 runner    (1001) docker     (121)      138 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_reveal_all.py
--rw-r--r--   0 runner    (1001) docker     (121)      668 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_signed_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)      750 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_signed_ed25519.py
--rw-r--r--   0 runner    (1001) docker     (121)     1069 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document.py
--rw-r--r--   0 runner    (1001) docker     (121)     1076 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_did_key_ed25519.py
--rw-r--r--   0 runner    (1001) docker     (121)      703 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested.py
--rw-r--r--   0 runner    (1001) docker     (121)     1590 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested_partial_proof_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)     1590 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested_proof_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)      437 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested_reveal.py
--rw-r--r--   0 runner    (1001) docker     (121)     1099 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested_signed_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)     1954 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_partial_proof_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)      850 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_reveal.py
--rw-r--r--   0 runner    (1001) docker     (121)     1465 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_signed_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)     1546 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_signed_did_key_ed25519.py
--rw-r--r--   0 runner    (1001) docker     (121)     1547 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_signed_ed25519.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.578077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/
--rw-r--r--   0 runner    (1001) docker     (121)      849 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)      468 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/did_example_489398593.py
--rw-r--r--   0 runner    (1001) docker     (121)      900 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/did_sov_QqEfJxe752NCmWqR5TssZ5.py
--rw-r--r--   0 runner    (1001) docker     (121)     1564 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/did_z6Mkgg342Ycpuk263R9d8Aq6MUaxPn1DDeHyGo38EefXmgDL.py
--rw-r--r--   0 runner    (1001) docker     (121)     2408 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/did_zUC72Q7XD4PE4CrMiDVXuvZng3sBvMmaGgNeTUJuzavH2BS7ThbHL9FhsZM9QYY5fqAQ4MB8M9oudz3tfuaX36Ajr97QRW7LBt6WWmrtESe6Bs5NYzFtLWEmeVtvRYVAgjFcJSa.py
--rw-r--r--   0 runner    (1001) docker     (121)     2537 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/document_loader.py
--rw-r--r--   0 runner    (1001) docker     (121)     6473 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/test_bbs_mattr_interop.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.578077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/
--rw-r--r--   0 runner    (1001) docker     (121)      822 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     1741 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/issue.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.578077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/
--rw-r--r--   0 runner    (1001) docker     (121)      448 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    10587 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/credential.py
--rw-r--r--   0 runner    (1001) docker     (121)     3988 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/linked_data_proof.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.578077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     7123 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/tests/test_credential.py
--rw-r--r--   0 runner    (1001) docker     (121)     4287 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/prove.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    11244 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/tests/test_credential.py
--rw-r--r--   0 runner    (1001) docker     (121)      394 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/tests/test_validation_result.py
--rw-r--r--   0 runner    (1001) docker     (121)    10114 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/tests/test_vc_ld.py
--rw-r--r--   0 runner    (1001) docker     (121)     2798 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/validation_result.py
--rw-r--r--   0 runner    (1001) docker     (121)     5976 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/verify.py
--rw-r--r--   0 runner    (1001) docker     (121)      106 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/version.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/
--rw-r--r--   0 runner    (1001) docker     (121)       41 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)    26562 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/askar.py
--rw-r--r--   0 runner    (1001) docker     (121)     8467 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/base.py
--rw-r--r--   0 runner    (1001) docker     (121)     2883 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)    15430 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/crypto.py
--rw-r--r--   0 runner    (1001) docker     (121)      410 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/did_info.py
--rw-r--r--   0 runner    (1001) docker     (121)     2669 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/did_method.py
--rw-r--r--   0 runner    (1001) docker     (121)     1579 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/did_posture.py
--rw-r--r--   0 runner    (1001) docker     (121)      378 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/error.py
--rw-r--r--   0 runner    (1001) docker     (121)    16539 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/in_memory.py
--rw-r--r--   0 runner    (1001) docker     (121)    32497 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/indy.py
--rw-r--r--   0 runner    (1001) docker     (121)     3438 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/key_pair.py
--rw-r--r--   0 runner    (1001) docker     (121)     3720 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/key_type.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/tests/
--rw-r--r--   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3245 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/tests/test_wallet_record.py
--rw-r--r--   0 runner    (1001) docker     (121)     4544 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/wallet_record.py
--rw-r--r--   0 runner    (1001) docker     (121)    33093 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/routes.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/
--rw-r--r--   0 runner    (1001) docker     (121)       26 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (121)     3033 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_bbs.py
--rw-r--r--   0 runner    (1001) docker     (121)     7054 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_crypto.py
--rw-r--r--   0 runner    (1001) docker     (121)     3777 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_did_method.py
--rw-r--r--   0 runner    (1001) docker     (121)     1109 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_did_posture.py
--rw-r--r--   0 runner    (1001) docker     (121)    23416 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_in_memory_wallet.py
--rw-r--r--   0 runner    (1001) docker     (121)    38284 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_indy_wallet.py
--rw-r--r--   0 runner    (1001) docker     (121)     3898 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_key_pair.py
--rw-r--r--   0 runner    (1001) docker     (121)     1763 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_key_type.py
--rw-r--r--   0 runner    (1001) docker     (121)    34105 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_routes.py
--rw-r--r--   0 runner    (1001) docker     (121)     2455 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_util.py
--rw-r--r--   0 runner    (1001) docker     (121)     3579 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/util.py
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.450077 aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/
--rw-r--r--   0 runner    (1001) docker     (121)    11004 2022-11-04 22:32:21.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (121)    75588 2022-11-04 22:32:21.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (121)        1 2022-11-04 22:32:21.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (121)      624 2022-11-04 22:32:21.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (121)       17 2022-11-04 22:32:21.000000 aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/top_level.txt
-drwxr-xr-x   0 runner    (1001) docker     (121)        0 2022-11-04 22:32:21.582077 aries_cloudagent-1.0.0rc1/bin/
--rwxr-xr-x   0 runner    (1001) docker     (121)      165 2022-11-04 22:32:09.000000 aries_cloudagent-1.0.0rc1/bin/aca-py
--rw-r--r--   0 runner    (1001) docker     (121)      335 2022-11-04 22:32:10.000000 aries_cloudagent-1.0.0rc1/requirements.dev.txt
--rw-r--r--   0 runner    (1001) docker     (121)       23 2022-11-04 22:32:10.000000 aries_cloudagent-1.0.0rc1/requirements.indy.txt
--rw-r--r--   0 runner    (1001) docker     (121)      482 2022-11-04 22:32:10.000000 aries_cloudagent-1.0.0rc1/requirements.txt
--rw-r--r--   0 runner    (1001) docker     (121)     1070 2022-11-04 22:32:21.586077 aries_cloudagent-1.0.0rc1/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (121)     1684 2022-11-04 22:32:10.000000 aries_cloudagent-1.0.0rc1/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.522481 aries_cloudagent-1.0.0rc2/
+-rw-r--r--   0 runner    (1001) docker     (123)    11402 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (123)      230 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (123)    21543 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/NOTICES
+-rw-r--r--   0 runner    (1001) docker     (123)    11153 2023-06-05 15:52:50.522481 aries_cloudagent-1.0.0rc2/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)    10670 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/README.md
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.406482 aries_cloudagent-1.0.0rc2/aries_cloudagent/
+-rw-r--r--   0 runner    (1001) docker     (123)       25 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2090 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/__main__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.406482 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      432 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/base_server.py
+-rw-r--r--   0 runner    (1001) docker     (123)      231 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5128 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/request_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)    32603 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/server.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.406482 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19886 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/tests/test_admin_server.py
+-rw-r--r--   0 runner    (1001) docker     (123)      947 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/tests/test_request_context.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.406482 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.406482 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.410482 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13797 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/tests/test_v2.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4834 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9619 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/v2.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9112 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/profile.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7433 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/store.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.410482 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2771 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/tests/test_profile.py
+-rw-r--r--   0 runner    (1001) docker     (123)      988 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/tests/test_store.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.410482 aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4896 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2145 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/in_memory.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.410482 aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5564 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/tests/test_in_memory_cache.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.410482 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/
+-rw-r--r--   0 runner    (1001) docker     (123)     1177 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      577 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/default_version_upgrade_config.yml
+-rw-r--r--   0 runner    (1001) docker     (123)     1005 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/help.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2975 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/provision.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3070 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/start.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.410482 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      872 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_help.py
+-rw-r--r--   0 runner    (1001) docker     (123)      711 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_init.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2918 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_provision.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5523 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_start.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14612 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_upgrade.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13758 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/upgrade.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.410482 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    79373 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/argparse.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1845 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/banner.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4826 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      882 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/base_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5802 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/default_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)      306 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/default_logging_config.ini
+-rw-r--r--   0 runner    (1001) docker     (123)      184 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4815 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/injection_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4288 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/injector.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10304 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/ledger.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5831 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/logging.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2307 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/plugin_settings.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4866 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/provider.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3168 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/settings.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16912 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_argparse.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1174 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_default_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3249 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_injection_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6026 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_injector.py
+-rw-r--r--   0 runner    (1001) docker     (123)    31580 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_ledger.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3786 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_logging.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3802 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_provider.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3343 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_settings.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12615 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_wallet.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2809 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/util.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5318 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/config/wallet.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16998 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/base_manager.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    24753 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/conn_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2357 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/connection_target.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/
+-rw-r--r--   0 runner    (1001) docker     (123)      865 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10269 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/diddoc.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5411 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/publickey.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3703 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18860 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/tests/test_diddoc.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3261 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18757 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/tests/test_conn_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1204 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/tests/test_connection_target.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    31057 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/conductor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15801 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/dispatcher.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2215 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6080 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/event_bus.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1470 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/goal_code_registry.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/
+-rw-r--r--   0 runner    (1001) docker     (123)      201 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      920 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/derive_1pu.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1784 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/derive_ecdh.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4021 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/tests/test_1pu.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4998 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/tests/test_ecdh.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5251 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/profile.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      543 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/tests/test_profile.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15153 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/oob_processor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14510 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/plugin_registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10348 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/profile.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10474 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/protocol_registry.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.414482 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    66921 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_conductor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26131 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_dispatcher.py
+-rw-r--r--   0 runner    (1001) docker     (123)      967 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6752 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_event_bus.py
+-rw-r--r--   0 runner    (1001) docker     (123)      774 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_goal_code_registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)    30377 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_oob_processor.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21376 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_plugin_registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2888 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_profile.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13293 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_protocol_registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2905 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_util.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6133 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/core/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9035 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/did_key.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2654 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_bls12381g1.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5406 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_bls12381g1g2.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2897 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_bls12381g2.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2434 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_ed25519.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2386 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_x25519.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11174 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_dids.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15220 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15739 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20570 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/holder.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23052 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/issuer.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11296 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/tests/test_cred_issuance.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2459 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/verifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4711 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/holder.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6071 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/issuer.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.418482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3307 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3380 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_abstract.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2978 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_def.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2733 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_precis.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1845 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1934 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/non_rev_interval.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2174 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/predicate.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15713 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/pres_preview.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18786 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/proof.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8369 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/proof_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1216 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/requested_creds.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7035 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/revocation.py
+-rw-r--r--   0 runner    (1001) docker     (123)      926 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/schema.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.422482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3478 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_cred.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1095 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_cred_precis.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1363 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_non_rev_interval.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2051 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_pred.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19636 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_pres_preview.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26919 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_proof.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2662 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_proof_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5112 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/xform.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.422482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1340 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16983 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/holder.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13067 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/issuer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6586 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/profile.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.422482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22875 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_holder.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14767 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_issuer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2687 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_profile.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1446 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_util.py
+-rw-r--r--   0 runner    (1001) docker     (123)    44716 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_verifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5499 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_wallet_plugin.py
+-rw-r--r--   0 runner    (1001) docker     (123)      888 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/util.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2637 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/verifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2341 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/wallet_plugin.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8511 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/wallet_setup.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.422482 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    58161 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/tests/test_verifier.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1044 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/util.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17594 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/verifier.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.422482 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20174 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1028 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/endpoint_type.py
+-rw-r--r--   0 runner    (1001) docker     (123)      482 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)    44328 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)    42717 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/indy_vdr.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.422482 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1308 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/constants.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16325 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/domain_txn_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1238 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/hasher.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1384 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/merkel_verifier.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.422482 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)   118692 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/test_data.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16462 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/test_domain_txn_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5286 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/test_trie.py
+-rw-r--r--   0 runner    (1001) docker     (123)      402 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/test_utils.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2955 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/trie.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1503 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/utils.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.426482 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1642 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/base_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11074 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/indy_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10751 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/indy_vdr_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2330 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/ledger_config_schema.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1991 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/ledger_requests_executor.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8524 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/manager_provider.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.426482 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3852 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_ledger_requests.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21529 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    24315 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_vdr_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4376 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_manager_provider.py
+-rw-r--r--   0 runner    (1001) docker     (123)    27166 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.426482 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      843 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_endpoint_type.py
+-rw-r--r--   0 runner    (1001) docker     (123)   153921 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34634 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_indy_vdr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1331 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_role.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34838 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)      450 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.426482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    18071 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/agent_message.py
+-rw-r--r--   0 runner    (1001) docker     (123)      791 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/base_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1337 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/base_message.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.426482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20963 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.426482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15577 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1624 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22571 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/attach_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5453 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      925 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/default.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1874 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/localization_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1479 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/please_ack_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2570 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/service_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4865 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/signature_decorator.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23747 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_attach_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2247 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2877 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_decorator_set.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1336 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_localization_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2254 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_please_ack_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2141 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_signature_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1296 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_thread_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)      699 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_timing_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5730 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_trace_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)      622 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_transport_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4107 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/thread_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2856 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/timing_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7586 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/trace_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1939 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/transport_decorator.py
+-rw-r--r--   0 runner    (1001) docker     (123)      313 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/error.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4671 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/create_verify_data.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3187 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/credential.py
+-rw-r--r--   0 runner    (1001) docker     (123)      795 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5694 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)    17726 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1914 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/document_loader.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4328 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/test_credential.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20152 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      515 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11087 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17533 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/base_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)      316 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/openapi.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3394 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/tests/test_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12559 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/tests/test_base_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7162 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/request_context.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8070 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/responder.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17182 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16177 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1274 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9942 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/test_agent_message.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5870 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/test_util.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19212 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/test_valid.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4127 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/util.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23701 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/valid.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.430482 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    16990 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26165 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4100 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/askar_profile_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13873 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3618 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/cache.py
+-rw-r--r--   0 runner    (1001) docker     (123)      151 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3977 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1835 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/manager_provider.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5389 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/route_manager.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7570 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_askar_profile_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    24172 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1997 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_cache.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8981 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1447 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_manager_provider.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12091 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_route_manager.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1837 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/base_service.py
+-rw-r--r--   0 runner    (1001) docker     (123)      698 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/controller.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2022 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/driver_service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1004 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1196 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1298 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/perform_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      969 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1990 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2001 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_perform_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      659 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1968 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu.py
+-rw-r--r--   0 runner    (1001) docker     (123)      902 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1417 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/perform.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3081 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1529 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1611 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_perform.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.434482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1939 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2239 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form_param.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2011 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_option.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8867 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      931 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_controller.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10945 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2361 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_service.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2981 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_util.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1926 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2193 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/basicmessage_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3543 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/test_basicmessage_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      489 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1853 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/basicmessage.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1848 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/test_basic_message.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2732 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3533 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1119 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/connection_invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2820 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/connection_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2176 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/connection_response_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1248 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9652 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6667 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    45458 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1121 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5013 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/connection_invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1979 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/connection_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1350 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/connection_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2202 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/problem_report.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4462 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4172 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3603 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_response.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.438482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2371 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/models/connection_detail.py
+-rw-r--r--   0 runner    (1001) docker     (123)    29500 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.442482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)   119853 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    36955 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.442482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/definition.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6149 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/mediation_invite_store.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.442482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      346 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/controller.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.442482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1439 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1934 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_query_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1949 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2690 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1514 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_deny_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2888 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_grant_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1725 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      976 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/problem_report_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.442482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2019 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3416 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_query_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2966 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5920 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2354 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_deny_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5265 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_grant_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3066 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1813 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22887 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1697 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.442482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1231 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_key.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1165 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_query_paginate.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1471 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_update_rule.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1581 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_updated.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1578 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1550 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_query.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1419 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1543 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1707 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_deny.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1832 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_grant.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1914 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2032 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/problem_report.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)     1790 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      713 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist.py
+-rw-r--r--   0 runner    (1001) docker     (123)      542 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_query.py
+-rw-r--r--   0 runner    (1001) docker     (123)      612 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update.py
+-rw-r--r--   0 runner    (1001) docker     (123)      761 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)      452 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_deny.py
+-rw-r--r--   0 runner    (1001) docker     (123)      525 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_grant.py
+-rw-r--r--   0 runner    (1001) docker     (123)      482 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1750 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_problem_report.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5541 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/mediation_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)      587 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/normalization.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11291 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1130 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager_provider.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22343 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5385 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_invite_store.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20343 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23738 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_route_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    35209 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1766 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didcomm_prefix.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1147 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/complete_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1352 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3308 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2108 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/response_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2176 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_complete_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1314 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9886 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7157 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34064 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)      774 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.446482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1332 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/complete.py
+-rw-r--r--   0 runner    (1001) docker     (123)      464 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/problem_report_reason.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1970 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1756 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/response.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1329 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_complete.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4225 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4071 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11154 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    89078 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11768 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      335 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      959 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/disclose_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      822 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/query_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2846 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_disclose_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3717 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_query_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7471 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)      596 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1747 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/disclose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1287 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/query.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1631 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_disclose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1536 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_query.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      142 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4761 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/discovery_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4218 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/tests/test_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4840 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9664 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5786 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      971 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/disclosures_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      834 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/queries_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6750 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_disclosures_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7041 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_queries_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10770 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)      624 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.450482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2853 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/disclosures.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2158 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/queries.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3214 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_disclosures.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2768 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_queries.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      142 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4880 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/discovery_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6451 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/tests/test_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5265 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12880 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6862 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      846 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/controller.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1937 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/endorsed_transaction_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1215 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/refused_transaction_response_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.454482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3310 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_endorsed_transaction_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3295 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_refused_transaction_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3663 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_acknowledgement_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3528 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_cancel_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2441 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_job_to_send_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3379 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3528 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_resend_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1315 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_acknowledgement_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1213 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_cancel_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1060 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_job_to_send_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2001 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1189 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_resend_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    32664 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1776 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1550 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/cancel_transaction.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3246 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/endorsed_transaction_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3479 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/messages_attach.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2898 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/refused_transaction_response.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2464 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_cancel_transaction.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4137 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_endorsed_transaction_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3242 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_messages_attach.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3896 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_refused_transaction_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2678 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_acknowledgement.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2421 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_job_to_send.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4599 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2461 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_resend.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1538 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_acknowledgement.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1361 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_job_to_send.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3934 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1547 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_resend.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8284 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/models/transaction_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)    29918 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    33665 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    70141 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)      213 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/transaction_jobs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      889 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2011 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/base_service.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4969 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/demo_service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1543 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/forward_invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1376 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1629 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_request_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2811 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_forward_invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2679 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3060 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      722 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1641 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/forward_invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1627 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1634 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/invitation_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.458482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2763 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_forward_invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2407 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2134 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3194 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4784 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7432 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/tests/test_service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      335 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)     1691 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      454 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/controller.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2220 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4132 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_issue_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4693 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_offer_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1827 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3905 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4948 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_request_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4111 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7905 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_issue_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7740 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_offer_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4695 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6021 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10876 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    40528 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1883 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      865 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_exchange_webhook.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2314 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_issue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2634 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_offer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2012 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2966 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2367 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4858 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/credential_preview.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.462482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3583 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/test_credential_preview.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1668 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9643 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_issue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7274 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_offer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3253 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5237 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5795 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      142 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15539 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/credential_exchange.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3308 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/test_credential_exchange.py
+-rw-r--r--   0 runner    (1001) docker     (123)    45291 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)     4498 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    67974 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    64095 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/
+-rw-r--r--   0 runner    (1001) docker     (123)     1640 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      454 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/controller.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4016 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19343 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    46378 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/test_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23777 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2591 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3963 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail_options.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2345 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/test_cred_detail.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    36252 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/test_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.466482 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2186 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3968 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_issue_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4514 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_offer_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1791 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3710 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4171 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_request_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3746 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7257 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_issue_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7464 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_offer_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4599 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5993 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7655 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    27502 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2270 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      795 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1173 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_ex_record_webhook.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4487 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_format.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4080 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_issue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4377 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_offer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1975 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3753 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4872 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/cred_preview.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3582 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/test_cred_preview.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1624 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2432 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_format.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10632 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_issue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7967 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_offer.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3189 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9043 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8866 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      142 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14005 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/cred_ex_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3621 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2828 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/ld_proof.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1570 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)      924 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_ld_proof.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4841 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/test_cred_ex_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)    52828 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)     5447 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    54731 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    73251 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      198 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.470481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1106 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/ack_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      778 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/tests/test_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      507 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1135 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/messages/ack.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      329 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/controller.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1322 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1417 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_accept_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1241 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3203 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2886 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_accept_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3426 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    43028 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1322 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8955 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2823 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1692 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1784 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse_accept.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2683 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/service.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5621 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2897 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1624 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2295 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse_accept.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3897 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9359 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/oob_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2123 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/test_invitation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8740 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.474481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    71227 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7361 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.478481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      335 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.478481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26541 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_exch.py
+-rw-r--r--   0 runner    (1001) docker     (123)    60721 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_exch_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      521 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_proposal_schema.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3034 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_request_schema.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1035 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_schema.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.478481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)   102840 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_data.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17784 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch.py
+-rw-r--r--   0 runner    (1001) docker     (123)   151948 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4213 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.478481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/indy/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/indy/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    12437 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/indy/pres_exch_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.478481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)     1698 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      383 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/controller.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.478481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2164 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4004 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1843 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3848 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7266 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_request_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.478481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3716 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4984 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2998 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6453 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    39248 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20988 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1601 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2021 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1430 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1487 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1671 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2237 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)      975 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_webhook.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    61535 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1715 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2410 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2931 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4504 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      142 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11567 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/presentation_exchange.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4434 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/tests/test_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34722 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    55206 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    66158 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/
+-rw-r--r--   0 runner    (1001) docker     (123)     1643 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      383 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/controller.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21078 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    87657 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/test_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2703 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14363 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2080 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3686 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1345 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3626 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5728 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_request_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.482481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3562 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_ack_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4857 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2825 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_problem_report_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6411 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_proposal_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    37533 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)    17302 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1849 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3773 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1364 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4075 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_format.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1444 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3815 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4112 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)      933 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_webhook.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    70711 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1632 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_ack.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4588 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_format.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2311 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_problem_report.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5571 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_proposal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6251 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_request.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      142 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11189 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/pres_exchange.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4320 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/tests/test_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)    47227 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    90696 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    99841 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)      849 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      922 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5026 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/message.py
+-rw-r--r--   0 runner    (1001) docker     (123)      492 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1388 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/tests/test_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2052 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/tests/test_message.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      335 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1410 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/revoke_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1921 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/test_revoke_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      553 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1309 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/messages/revoke.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      201 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/messages/tests/test_revoke.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5086 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/rev_notification_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2164 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/test_rev_notification_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2466 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3827 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1602 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/revoke_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.486481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2167 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/test_revoke_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      556 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1951 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/messages/revoke.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      335 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/messages/tests/test_revoke.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5164 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/rev_notification_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2193 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/test_rev_notification_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2581 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4799 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2461 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/forward_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1142 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      877 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1159 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_request_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2234 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_response_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3474 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_forward_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6386 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_query_update_handlers.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8209 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1059 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1562 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/forward.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1664 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_query_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1672 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_query_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1374 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_update_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1379 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_update_response.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1782 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_forward.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2040 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2840 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_response.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2024 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_request.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2258 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_response.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1019 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/paginate.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1348 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/paginated.py
+-rw-r--r--   0 runner    (1001) docker     (123)      938 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_query_result.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4122 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1071 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_update.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1371 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_updated.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      511 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/tests/test_route_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.490481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13583 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/tests/test_routing_manager.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1872 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/tests/test_didcomm_prefix.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      197 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/definition.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1697 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1295 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_response_handler.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2120 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1014 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_response_handler.py
+-rw-r--r--   0 runner    (1001) docker     (123)      588 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/message_types.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1529 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/ping.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1227 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/ping_response.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1860 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1788 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping_reponse.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2933 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3521 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/
+-rw-r--r--   0 runner    (1001) docker     (123)     1679 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4679 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/base.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/
+-rw-r--r--   0 runner    (1001) docker     (123)       47 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6831 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1205 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/key.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6564 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1318 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_key.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6374 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_universal.py
+-rw-r--r--   0 runner    (1001) docker     (123)      780 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_web.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4167 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/universal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2551 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/web.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4754 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/did_resolver.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3801 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)     1421 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2089 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/test_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6631 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/test_did_resolver.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4264 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/test_routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      439 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8898 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13831 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/manager.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.494481 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1880 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5128 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/issuer_cred_rev_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)    23248 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/issuer_rev_reg_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7460 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/revocation_registry.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.498481 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1331 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3127 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_issuer_cred_rev_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9431 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_issuer_rev_reg_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7147 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_revocation_registry.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4034 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/recover.py
+-rw-r--r--   0 runner    (1001) docker     (123)    55438 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.498481 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7792 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/test_indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)    19844 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)    39379 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2712 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.498481 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11428 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/askar.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5297 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      409 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9377 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/in_memory.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10617 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)      549 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.498481 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)       27 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15881 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/test_askar_storage.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9902 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/test_in_memory_storage.py
+-rw-r--r--   0 runner    (1001) docker     (123)    21908 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/test_indy_storage.py
+-rw-r--r--   0 runner    (1001) docker     (123)      388 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/test_storage_record.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.498481 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8600 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/askar.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4150 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5495 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/in_memory.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5578 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/indy.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.498481 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4353 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_askar_vc_holder.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14861 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_in_memory_vc_holder.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2260 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_indy_vc_holder.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6198 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_vc_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4895 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/vc_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2314 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/xform.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      914 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)      196 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2512 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/indy_tails_server.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4699 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/tests/test_indy.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2328 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/tests/test_main.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      623 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/error.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3006 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4055 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/delivery_queue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4890 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/http.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8908 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1018 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/message.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7481 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/receipt.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11122 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/session.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2353 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_delivery_queue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5857 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_http_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7736 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)      935 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_message.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13757 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_session.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3408 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_ws_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5228 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/ws.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2635 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2976 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/http.py
+-rw-r--r--   0 runner    (1001) docker     (123)    20973 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1572 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/message.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1033 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/status.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5168 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/test_http_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)    14264 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/test_manager.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1678 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/test_ws_transport.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1668 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/ws.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7583 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/pack_format.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.502481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1476 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2930 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/basic.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4408 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/tests/test_basic_queue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2737 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/stats.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8623 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/tests/test_pack_format.py
+-rw-r--r--   0 runner    (1001) docker     (123)      817 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/tests/test_stats.py
+-rw-r--r--   0 runner    (1001) docker     (123)      396 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/tests/test_wire_format.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5493 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/wire_format.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/
+-rw-r--r--   0 runner    (1001) docker     (123)       20 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6481 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/classloader.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1230 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/dependencies.py
+-rw-r--r--   0 runner    (1001) docker     (123)      473 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/env.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8135 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/http.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11422 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/jwe.py
+-rw-r--r--   0 runner    (1001) docker     (123)      750 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/outofband.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2908 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/repeat.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6787 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/stats.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13659 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/task_queue.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3943 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_classloader.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5564 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_http.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5618 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_jwe.py
+-rw-r--r--   0 runner    (1001) docker     (123)      819 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_outofband.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1341 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_repeat.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2679 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_stats.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6911 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_task_queue.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7706 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_tracing.py
+-rw-r--r--   0 runner    (1001) docker     (123)     9049 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tracing.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/
+-rw-r--r--   0 runner    (1001) docker     (123)     1771 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4730 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/check.py
+-rw-r--r--   0 runner    (1001) docker     (123)      895 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/constants.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/
+-rw-r--r--   0 runner    (1001) docker     (123)      145 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1097 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/key_pair.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.506481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2466 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/tests/test_wallet_key_pair.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2524 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/wallet_key_pair.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3579 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/document_loader.py
+-rw-r--r--   0 runner    (1001) docker     (123)      143 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3795 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/ld_proofs.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10282 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/proof_set.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.510481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/
+-rw-r--r--   0 runner    (1001) docker     (123)      611 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      578 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/assertion_proof_purpose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2805 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/authentication_proof_purpose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3194 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/controller_proof_purpose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2291 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/credential_issuance_purpose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2321 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/proof_purpose.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.510481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4661 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_authentication_proof_purpose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4053 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_controller_proof_purpose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4766 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_credential_issuance_purpose.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2284 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_proof_purpose.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.510481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/
+-rw-r--r--   0 runner    (1001) docker     (123)      690 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7845 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3448 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020_base.py
+-rw-r--r--   0 runner    (1001) docker     (123)    13333 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_proof_2020.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1376 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/ed25519_signature_2018.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6632 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/jws_linked_data_signature.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5806 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/linked_data_proof.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6936 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/linked_data_signature.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.510481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5046 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_2020.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7722 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_proof_2020.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4393 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/test_ed25519_signature_2018.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.510481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7830 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/test_check.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8713 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/test_doc.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5456 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/test_ld_proofs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4679 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/validation_result.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.510481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.510481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/
+-rw-r--r--   0 runner    (1001) docker     (123)      632 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3883 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/bbs_v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1896 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/citizenship_v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10632 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/credentials_v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1757 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/did_v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2116 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/examples_v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8057 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/odrl.py
+-rw-r--r--   0 runner    (1001) docker     (123)   162955 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/schema_org.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2247 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/security_v1.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4163 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/security_v2.py
+-rw-r--r--   0 runner    (1001) docker     (123)    34325 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/security_v3_unstable.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3815 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/vaccination_v1.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.514481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/
+-rw-r--r--   0 runner    (1001) docker     (123)     3616 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      293 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_nested_vc_full_reveal_document_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)      699 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_nested_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)      442 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_nested_vc_reveal_document_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1582 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_partial_proof_nested_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1946 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_partial_proof_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1582 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_proof_nested_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1938 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_proof_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1091 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_signed_nested_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1457 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_signed_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1065 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_vc_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)      855 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_vc_reveal_document_mattr.py
+-rw-r--r--   0 runner    (1001) docker     (123)      272 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1462 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_bad_partial_proof_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      844 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      756 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_ed25519.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1185 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_partial_proof_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1155 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_proof_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      201 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_reveal.py
+-rw-r--r--   0 runner    (1001) docker     (123)      138 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_reveal_all.py
+-rw-r--r--   0 runner    (1001) docker     (123)      668 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_signed_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      750 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_signed_ed25519.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1069 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1076 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_did_key_ed25519.py
+-rw-r--r--   0 runner    (1001) docker     (123)      703 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1590 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested_partial_proof_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1590 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested_proof_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      437 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested_reveal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1099 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested_signed_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1954 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_partial_proof_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)      850 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_reveal.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1465 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_signed_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1546 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_signed_did_key_ed25519.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1547 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_signed_ed25519.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.514481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/
+-rw-r--r--   0 runner    (1001) docker     (123)      849 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)      468 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/did_example_489398593.py
+-rw-r--r--   0 runner    (1001) docker     (123)      900 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/did_sov_QqEfJxe752NCmWqR5TssZ5.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1564 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/did_z6Mkgg342Ycpuk263R9d8Aq6MUaxPn1DDeHyGo38EefXmgDL.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2408 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/did_zUC72Q7XD4PE4CrMiDVXuvZng3sBvMmaGgNeTUJuzavH2BS7ThbHL9FhsZM9QYY5fqAQ4MB8M9oudz3tfuaX36Ajr97QRW7LBt6WWmrtESe6Bs5NYzFtLWEmeVtvRYVAgjFcJSa.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2537 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/document_loader.py
+-rw-r--r--   0 runner    (1001) docker     (123)     6473 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/test_bbs_mattr_interop.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.514481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/
+-rw-r--r--   0 runner    (1001) docker     (123)      822 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1741 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/issue.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.518481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/
+-rw-r--r--   0 runner    (1001) docker     (123)      448 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10587 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/credential.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3988 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/linked_data_proof.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.518481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7123 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/tests/test_credential.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4287 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/prove.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.518481 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    11244 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/tests/test_credential.py
+-rw-r--r--   0 runner    (1001) docker     (123)      394 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/tests/test_validation_result.py
+-rw-r--r--   0 runner    (1001) docker     (123)    10113 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/tests/test_vc_ld.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2798 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/validation_result.py
+-rw-r--r--   0 runner    (1001) docker     (123)     5976 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/verify.py
+-rw-r--r--   0 runner    (1001) docker     (123)      106 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/version.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.518481 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/
+-rw-r--r--   0 runner    (1001) docker     (123)       41 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)    26087 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/askar.py
+-rw-r--r--   0 runner    (1001) docker     (123)     8467 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/base.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2881 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15430 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/crypto.py
+-rw-r--r--   0 runner    (1001) docker     (123)      410 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/did_info.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3504 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/did_method.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2384 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/did_parameters_validation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1579 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/did_posture.py
+-rw-r--r--   0 runner    (1001) docker     (123)      378 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/error.py
+-rw-r--r--   0 runner    (1001) docker     (123)    15973 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/in_memory.py
+-rw-r--r--   0 runner    (1001) docker     (123)    32376 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/indy.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3438 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/key_pair.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3720 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/key_type.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.518481 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.518481 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3245 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/tests/test_wallet_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)     4544 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/wallet_record.py
+-rw-r--r--   0 runner    (1001) docker     (123)    33917 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/routes.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.522481 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/
+-rw-r--r--   0 runner    (1001) docker     (123)       26 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3033 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_bbs.py
+-rw-r--r--   0 runner    (1001) docker     (123)     7054 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_crypto.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3777 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_did_method.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2639 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_did_parameters_validation.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1109 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_did_posture.py
+-rw-r--r--   0 runner    (1001) docker     (123)    22702 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_in_memory_wallet.py
+-rw-r--r--   0 runner    (1001) docker     (123)    38388 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_indy_wallet.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3898 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_key_pair.py
+-rw-r--r--   0 runner    (1001) docker     (123)     1763 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_key_type.py
+-rw-r--r--   0 runner    (1001) docker     (123)    35550 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_routes.py
+-rw-r--r--   0 runner    (1001) docker     (123)     2455 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_util.py
+-rw-r--r--   0 runner    (1001) docker     (123)     3579 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/util.py
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.406482 aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (123)    11153 2023-06-05 15:52:50.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (123)    76146 2023-06-05 15:52:50.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (123)        1 2023-06-05 15:52:50.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (123)      625 2023-06-05 15:52:50.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       17 2023-06-05 15:52:50.000000 aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/top_level.txt
+drwxr-xr-x   0 runner    (1001) docker     (123)        0 2023-06-05 15:52:50.522481 aries_cloudagent-1.0.0rc2/bin/
+-rwxr-xr-x   0 runner    (1001) docker     (123)      165 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/bin/aca-py
+-rw-r--r--   0 runner    (1001) docker     (123)      333 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/requirements.dev.txt
+-rw-r--r--   0 runner    (1001) docker     (123)       24 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/requirements.indy.txt
+-rw-r--r--   0 runner    (1001) docker     (123)      482 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/requirements.txt
+-rw-r--r--   0 runner    (1001) docker     (123)     1070 2023-06-05 15:52:50.522481 aries_cloudagent-1.0.0rc2/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (123)     1684 2023-06-05 15:52:40.000000 aries_cloudagent-1.0.0rc2/setup.py
```

### Comparing `aries_cloudagent-1.0.0rc1/LICENSE` & `aries_cloudagent-1.0.0rc2/LICENSE`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/NOTICES` & `aries_cloudagent-1.0.0rc2/NOTICES`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/PKG-INFO` & `aries_cloudagent-1.0.0rc2/PKG-INFO`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: aries_cloudagent
-Version: 1.0.0rc1
+Version: 1.0.0rc2
 Home-page: https://github.com/hyperledger/aries-cloudagent-python
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Operating System :: OS Independent
 Requires-Python: >=3.6.3
 Description-Content-Type: text/markdown
 Provides-Extra: askar
@@ -13,24 +13,23 @@
 Provides-Extra: uvloop
 License-File: LICENSE
 License-File: NOTICES
 
 # Hyperledger Aries Cloud Agent - Python  <!-- omit in toc -->
 
 [![pypi releases](https://img.shields.io/pypi/v/aries_cloudagent)](https://pypi.org/project/aries-cloudagent/)
-[![CircleCI](https://circleci.com/gh/hyperledger/aries-cloudagent-python.svg?style=shield)](https://circleci.com/gh/hyperledger/aries-cloudagent-python)
 [![codecov](https://codecov.io/gh/hyperledger/aries-cloudagent-python/branch/main/graph/badge.svg)](https://codecov.io/gh/hyperledger/aries-cloudagent-python)
 
 <!-- ![logo](/doc/assets/aries-cloudagent-python-logo-bw.png) -->
 
 > An easy to use Aries agent for building SSI services using any language that supports sending/receiving HTTP requests.
 
 ## Overview
 
-Hyperledger Aries Cloud Agent Python (ACA-Py) is a foundation for building Verifiable Credential (VC) ecosystems. It operates in the second and third layers of the [Trust Over IP framework (PDF)](https://trustoverip.org/wp-content/uploads/sites/98/2020/05/toip_050520_primer.pdf) using [DIDComm messaging](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0005-didcomm) and [Hyperledger Aries](https://www.hyperledger.org/use/aries) protocols. The "cloud" in the name means that ACA-Py runs on servers (cloud, enterprise, IoT devices, and so forth), and is not designed to run on mobile devices.
+Hyperledger Aries Cloud Agent Python (ACA-Py) is a foundation for building Verifiable Credential (VC) ecosystems. It operates in the second and third layers of the [Trust Over IP framework (PDF)](https://trustoverip.org/wp-content/uploads/2020/05/toip_050520_primer.pdf) using [DIDComm messaging](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0005-didcomm) and [Hyperledger Aries](https://www.hyperledger.org/use/aries) protocols. The "cloud" in the name means that ACA-Py runs on servers (cloud, enterprise, IoT devices, and so forth), and is not designed to run on mobile devices.
 
 ACA-Py is built on the Aries concepts and features that make up [Aries Interop Profile (AIP) 1.0](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0302-aries-interop-profile#aries-interop-profile-version-10), and most of the features in [AIP 2.0](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0302-aries-interop-profile#aries-interop-profile-version-20). [ACA-Py’s supported Aries protocols](https://github.com/hyperledger/aries-cloudagent-python/blob/main/SupportedRFCs.md) include, most importantly, protocols for issuing, verifying, and holding verifiable credentials using both [Hyperledger Indy AnonCreds](https://hyperledger-indy.readthedocs.io/projects/sdk/en/latest/docs/design/002-anoncreds/README.html) verifiable credential format, and the [W3C Standard Verifiable Credential](https://www.w3.org/TR/vc-data-model/) format using JSON-LD with LD-Signatures and BBS+ Signatures.
 
 To use ACA-Py you create a business logic controller that "talks to" ACA-Py (sending HTTP requests and receiving webhook notifications), and ACA-Py handles the Aries and DIDComm functionality. That controller can be built in any language that supports making and receiving HTTP requests; knowledge of Python is not needed. Together, this means you can focus on building VC solutions using familiar web development technologies, instead of having to learn the nuts and bolts of low-level cryptography and Trust over IP-type Aries protocols.
 
 This [checklist-style overview document](./SupportedRFCs.md) provides a full list of the features in ACA-Py.
 The following is a list of some of the core features needed for a production deployment, with a link to detailed information about the capability.
@@ -78,14 +77,16 @@
 
 ### Understanding the Architecture
 
 There is an [architectural deep dive webinar](https://www.youtube.com/watch?v=FXTQEtB4fto&feature=youtu.be) presented by the ACA-Py team, and [slides from the webinar](https://docs.google.com/presentation/d/1K7qiQkVi4n-lpJ3nUZY27OniUEM0c8HAIk4imCWCx5Q/edit#slide=id.g5d43fe05cc_0_77) are also available. The picture below gives a quick overview of the architecture, showing an instance of ACA-Py, a controller and the interfaces between the controller and ACA-Py, and the external paths to other agents and public ledgers on the Internet.
 
 ![drawing](./aca-py_architecture.png)
 
+You can extend Aca-Py using plug-ins, which can be loaded at runtime.  Plug-ins are mentioned in the [webinar](https://docs.google.com/presentation/d/1K7qiQkVi4n-lpJ3nUZY27OniUEM0c8HAIk4imCWCx5Q/edit#slide=id.g5d43fe05cc_0_145) and are [described in more detail here](/docs/GettingStartedAriesDev/PlugIns.md).
+
 ### Installation and Usage
 
 An ["install and go" page for developers](https://github.com/hyperledger/aries-cloudagent-python/blob/main/DevReadMe.md) is available if you are comfortable with Trust over IP and Aries concepts. ACA-Py can be run with Docker without installation (highly recommended), or can be installed [from PyPi](https://pypi.org/project/aries-cloudagent/). In the [/demo directory](/demo) there is a full set of demos for developers to use in getting started, and the [demo read me](/demo/README.md) is a great starting point for developers to use an "in-browser" approach to run a zero-install example. The [Read the Docs](https://aries-cloud-agent-python.readthedocs.io/en/latest/) overview is also a way to reference the modules and APIs that make up an ACA-Py instance.
 
 ## About the ACA-Py Admin API
 
 The [overview of ACA-Py’s API](https://github.com/hyperledger/aries-cloudagent-python/blob/main/AdminAPI.md) is a great starting place for learning about the ACA-Py API when you are starting to build your own controller.
```

### Comparing `aries_cloudagent-1.0.0rc1/README.md` & `aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/PKG-INFO`

 * *Files 4% similar despite different names*

```diff
@@ -1,20 +1,35 @@
+Metadata-Version: 2.1
+Name: aries-cloudagent
+Version: 1.0.0rc2
+Home-page: https://github.com/hyperledger/aries-cloudagent-python
+Classifier: Programming Language :: Python :: 3
+Classifier: License :: OSI Approved :: Apache Software License
+Classifier: Operating System :: OS Independent
+Requires-Python: >=3.6.3
+Description-Content-Type: text/markdown
+Provides-Extra: askar
+Provides-Extra: indy
+Provides-Extra: bbs
+Provides-Extra: uvloop
+License-File: LICENSE
+License-File: NOTICES
+
 # Hyperledger Aries Cloud Agent - Python  <!-- omit in toc -->
 
 [![pypi releases](https://img.shields.io/pypi/v/aries_cloudagent)](https://pypi.org/project/aries-cloudagent/)
-[![CircleCI](https://circleci.com/gh/hyperledger/aries-cloudagent-python.svg?style=shield)](https://circleci.com/gh/hyperledger/aries-cloudagent-python)
 [![codecov](https://codecov.io/gh/hyperledger/aries-cloudagent-python/branch/main/graph/badge.svg)](https://codecov.io/gh/hyperledger/aries-cloudagent-python)
 
 <!-- ![logo](/doc/assets/aries-cloudagent-python-logo-bw.png) -->
 
 > An easy to use Aries agent for building SSI services using any language that supports sending/receiving HTTP requests.
 
 ## Overview
 
-Hyperledger Aries Cloud Agent Python (ACA-Py) is a foundation for building Verifiable Credential (VC) ecosystems. It operates in the second and third layers of the [Trust Over IP framework (PDF)](https://trustoverip.org/wp-content/uploads/sites/98/2020/05/toip_050520_primer.pdf) using [DIDComm messaging](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0005-didcomm) and [Hyperledger Aries](https://www.hyperledger.org/use/aries) protocols. The "cloud" in the name means that ACA-Py runs on servers (cloud, enterprise, IoT devices, and so forth), and is not designed to run on mobile devices.
+Hyperledger Aries Cloud Agent Python (ACA-Py) is a foundation for building Verifiable Credential (VC) ecosystems. It operates in the second and third layers of the [Trust Over IP framework (PDF)](https://trustoverip.org/wp-content/uploads/2020/05/toip_050520_primer.pdf) using [DIDComm messaging](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0005-didcomm) and [Hyperledger Aries](https://www.hyperledger.org/use/aries) protocols. The "cloud" in the name means that ACA-Py runs on servers (cloud, enterprise, IoT devices, and so forth), and is not designed to run on mobile devices.
 
 ACA-Py is built on the Aries concepts and features that make up [Aries Interop Profile (AIP) 1.0](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0302-aries-interop-profile#aries-interop-profile-version-10), and most of the features in [AIP 2.0](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0302-aries-interop-profile#aries-interop-profile-version-20). [ACA-Py’s supported Aries protocols](https://github.com/hyperledger/aries-cloudagent-python/blob/main/SupportedRFCs.md) include, most importantly, protocols for issuing, verifying, and holding verifiable credentials using both [Hyperledger Indy AnonCreds](https://hyperledger-indy.readthedocs.io/projects/sdk/en/latest/docs/design/002-anoncreds/README.html) verifiable credential format, and the [W3C Standard Verifiable Credential](https://www.w3.org/TR/vc-data-model/) format using JSON-LD with LD-Signatures and BBS+ Signatures.
 
 To use ACA-Py you create a business logic controller that "talks to" ACA-Py (sending HTTP requests and receiving webhook notifications), and ACA-Py handles the Aries and DIDComm functionality. That controller can be built in any language that supports making and receiving HTTP requests; knowledge of Python is not needed. Together, this means you can focus on building VC solutions using familiar web development technologies, instead of having to learn the nuts and bolts of low-level cryptography and Trust over IP-type Aries protocols.
 
 This [checklist-style overview document](./SupportedRFCs.md) provides a full list of the features in ACA-Py.
 The following is a list of some of the core features needed for a production deployment, with a link to detailed information about the capability.
@@ -62,14 +77,16 @@
 
 ### Understanding the Architecture
 
 There is an [architectural deep dive webinar](https://www.youtube.com/watch?v=FXTQEtB4fto&feature=youtu.be) presented by the ACA-Py team, and [slides from the webinar](https://docs.google.com/presentation/d/1K7qiQkVi4n-lpJ3nUZY27OniUEM0c8HAIk4imCWCx5Q/edit#slide=id.g5d43fe05cc_0_77) are also available. The picture below gives a quick overview of the architecture, showing an instance of ACA-Py, a controller and the interfaces between the controller and ACA-Py, and the external paths to other agents and public ledgers on the Internet.
 
 ![drawing](./aca-py_architecture.png)
 
+You can extend Aca-Py using plug-ins, which can be loaded at runtime.  Plug-ins are mentioned in the [webinar](https://docs.google.com/presentation/d/1K7qiQkVi4n-lpJ3nUZY27OniUEM0c8HAIk4imCWCx5Q/edit#slide=id.g5d43fe05cc_0_145) and are [described in more detail here](/docs/GettingStartedAriesDev/PlugIns.md).
+
 ### Installation and Usage
 
 An ["install and go" page for developers](https://github.com/hyperledger/aries-cloudagent-python/blob/main/DevReadMe.md) is available if you are comfortable with Trust over IP and Aries concepts. ACA-Py can be run with Docker without installation (highly recommended), or can be installed [from PyPi](https://pypi.org/project/aries-cloudagent/). In the [/demo directory](/demo) there is a full set of demos for developers to use in getting started, and the [demo read me](/demo/README.md) is a great starting point for developers to use an "in-browser" approach to run a zero-install example. The [Read the Docs](https://aries-cloud-agent-python.readthedocs.io/en/latest/) overview is also a way to reference the modules and APIs that make up an ACA-Py instance.
 
 ## About the ACA-Py Admin API
 
 The [overview of ACA-Py’s API](https://github.com/hyperledger/aries-cloudagent-python/blob/main/AdminAPI.md) is a great starting place for learning about the ACA-Py API when you are starting to build your own controller.
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/__main__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/__main__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/request_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/request_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/server.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/server.py`

 * *Files 1% similar despite different names*

```diff
@@ -120,15 +120,17 @@
         # Weakly hold the profile so this reference doesn't prevent profiles
         # from being cleaned up when appropriate.
         # Binding this AdminResponder to the profile's context creates a circular
         # reference.
         self._profile = weakref.ref(profile)
         self._send = send
 
-    async def send_outbound(self, message: OutboundMessage) -> OutboundSendStatus:
+    async def send_outbound(
+        self, message: OutboundMessage, **kwargs
+    ) -> OutboundSendStatus:
         """
         Send outbound message.
 
         Args:
             message: The `OutboundMessage` to be sent
         """
         profile = self._profile()
@@ -366,14 +368,15 @@
                 # Only multitenancy and general server actions
                 if (
                     not authorization_header
                     and not is_multitenancy_path
                     and not is_server_path
                     and not is_unprotected_path(path)
                     and not base_limited_access_path
+                    and not (request.method == "OPTIONS")  # CORS fix
                 ):
                     raise web.HTTPUnauthorized()
 
                 return await handler(request)
 
             middlewares.append(check_multitenant_authorization)
 
@@ -428,15 +431,15 @@
                 self.context.settings.get("admin.admin_client_max_request_size", 1)
                 * 1024
                 * 1024
             ),
         )
 
         server_routes = [
-            web.get("/", self.redirect_handler, allow_head=False),
+            web.get("/", self.redirect_handler, allow_head=True),
             web.get("/plugins", self.plugins_handler, allow_head=False),
             web.get("/status", self.status_handler, allow_head=False),
             web.get("/status/config", self.config_handler, allow_head=False),
             web.post("/status/reset", self.status_reset_handler),
             web.get("/status/live", self.liveliness_handler, allow_head=False),
             web.get("/status/ready", self.readiness_handler, allow_head=False),
             web.get("/shutdown", self.shutdown_handler, allow_head=False),
@@ -486,15 +489,15 @@
         Raises:
             AdminSetupError: If there was an error starting the webserver
 
         """
 
         def sort_dict(raw: dict) -> dict:
             """Order (JSON, string keys) dict asciibetically by key, recursively."""
-            for (k, v) in raw.items():
+            for k, v in raw.items():
                 if isinstance(v, dict):
                     raw[k] = sort_dict(v)
             return dict(sorted([item for item in raw.items()], key=lambda x: x[0]))
 
         self.app = await self.make_application()
         runner = web.AppRunner(self.app)
         await runner.setup()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/tests/test_admin_server.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/tests/test_admin_server.py`

 * *Files 2% similar despite different names*

```diff
@@ -330,14 +330,15 @@
             async with self.client_session.get(
                 f"http://127.0.0.1:{self.port}/{path}", headers={}
             ) as response:
                 assert response.status == 200
 
         await server.stop()
 
+    @pytest.mark.skip(reason="async_case library not compatible with python 3.10")
     async def test_visit_secure_mode(self):
         settings = {
             "admin.admin_insecure_mode": False,
             "admin.admin_api_key": "test-api-key",
         }
         server = self.get_admin_server(settings)
         await server.start()
@@ -382,14 +383,15 @@
             f"http://127.0.0.1:{self.port}/ws", headers={"x-api-key": "test-api-key"}
         ) as ws:
             result = await ws.receive_json()
             assert result["topic"] == "settings"
 
         await server.stop()
 
+    @pytest.mark.skip(reason="async_case library not compatible with python 3.10")
     async def test_query_config(self):
         settings = {
             "admin.admin_insecure_mode": False,
             "admin.admin_api_key": "test-api-key",
             "admin.webhook_urls": ["localhost:8123/abc#secret", "localhost:8123/def"],
             "multitenant.jwt_secret": "abc123",
             "wallet.key": "abc123",
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/admin/tests/test_request_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/admin/tests/test_request_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/tests/test_v2.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/tests/test_v2.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/didcomm/v2.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/didcomm/v2.py`

 * *Files 0% similar despite different names*

```diff
@@ -29,15 +29,15 @@
         raise DidcommEnvelopeError("No message recipients")
 
     try:
         cek = Key.generate(enc_alg)
     except AskarError:
         raise DidcommEnvelopeError("Error creating content encryption key")
 
-    for (kid, recip_key) in to_verkeys.items():
+    for kid, recip_key in to_verkeys.items():
         try:
             epk = Key.generate(recip_key.algorithm, ephemeral=True)
         except AskarError:
             raise DidcommEnvelopeError("Error creating ephemeral key")
         enc_key = ecdh.EcdhEs(alg_id, None, None).sender_wrap_key(
             wrap_alg, epk, recip_key, cek
         )
@@ -141,15 +141,15 @@
     try:
         epk = Key.generate(agree_alg, ephemeral=True)
     except AskarError:
         raise DidcommEnvelopeError("Error creating ephemeral key")
 
     apu = b64url(sender_kid)
     apv = []
-    for (kid, recip_key) in to_verkeys.items():
+    for kid, recip_key in to_verkeys.items():
         if agree_alg:
             if agree_alg != recip_key.algorithm:
                 raise DidcommEnvelopeError("Recipient key types must be consistent")
         else:
             agree_alg = recip_key.algorithm
         apv.append(kid)
     apv.sort()
@@ -169,15 +169,15 @@
     )
     try:
         payload = cek.aead_encrypt(message, aad=wrapper.protected_bytes)
     except AskarError:
         raise DidcommEnvelopeError("Error encrypting message payload")
     wrapper.set_payload(payload.ciphertext, payload.nonce, payload.tag)
 
-    for (kid, recip_key) in to_verkeys.items():
+    for kid, recip_key in to_verkeys.items():
         enc_key = ecdh.Ecdh1PU(alg_id, apu, apv).sender_wrap_key(
             wrap_alg, epk, sender_key, recip_key, cek, cc_tag=payload.tag
         )
         wrapper.add_recipient(
             JweRecipient(encrypted_key=enc_key.ciphertext, header={"kid": kid})
         )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/store.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/store.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/tests/test_profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/tests/test_profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/askar/tests/test_store.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/askar/tests/test_store.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/in_memory.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/in_memory.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/cache/tests/test_in_memory_cache.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/cache/tests/test_in_memory_cache.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/help.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/help.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/provision.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/provision.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/start.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/start.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_help.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_help.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_init.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_init.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_provision.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_provision.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_start.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_start.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/commands/tests/test_upgrade.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/commands/tests/test_upgrade.py`

 * *Files 26% similar despite different names*

```diff
@@ -13,18 +13,15 @@
 from ..upgrade import UpgradeError
 
 
 class TestUpgrade(AsyncTestCase):
     async def setUp(self):
         self.session = InMemoryProfile.test_session()
         self.profile = self.session.profile
-
-        self.session_storage = InMemoryProfile.test_session()
-        self.profile_storage = self.session_storage.profile
-        self.storage = self.session_storage.inject(BaseStorage)
+        self.storage = self.session.inject(BaseStorage)
         record = StorageRecord(
             "acapy_version",
             "v0.7.2",
         )
         await self.storage.add_record(record)
 
     def test_bad_calls(self):
@@ -33,75 +30,71 @@
 
     async def test_upgrade_storage_from_version_included(self):
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
-                    self.profile_storage,
+                    self.profile,
                     async_mock.CoroutineMock(did="public DID", verkey="verkey"),
                 )
             ),
         ), async_mock.patch.object(
             ConnRecord,
             "query",
             async_mock.CoroutineMock(return_value=[ConnRecord()]),
         ), async_mock.patch.object(
             ConnRecord, "save", async_mock.CoroutineMock()
         ):
             await test_module.upgrade(
-                {
+                settings={
                     "upgrade.config_path": "./aries_cloudagent/commands/default_version_upgrade_config.yml",
                     "upgrade.from_version": "v0.7.2",
                 }
             )
 
     async def test_upgrade_storage_missing_from_version(self):
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
-                    self.profile_storage,
+                    self.profile,
                     async_mock.CoroutineMock(did="public DID", verkey="verkey"),
                 )
             ),
         ), async_mock.patch.object(
             ConnRecord,
             "query",
             async_mock.CoroutineMock(return_value=[ConnRecord()]),
         ), async_mock.patch.object(
             ConnRecord, "save", async_mock.CoroutineMock()
         ):
-            await test_module.upgrade({})
+            await test_module.upgrade(settings={})
 
     async def test_upgrade_from_version(self):
+        self.profile.settings.extend(
+            {
+                "upgrade.from_version": "v0.7.2",
+            }
+        )
         with async_mock.patch.object(
-            test_module,
-            "wallet_config",
-            async_mock.CoroutineMock(
-                return_value=(
-                    self.profile,
-                    async_mock.CoroutineMock(did="public DID", verkey="verkey"),
-                )
-            ),
-        ), async_mock.patch.object(
             ConnRecord,
             "query",
             async_mock.CoroutineMock(return_value=[ConnRecord()]),
-        ), async_mock.patch.object(
-            ConnRecord, "save", async_mock.CoroutineMock()
-        ):
+        ), async_mock.patch.object(ConnRecord, "save", async_mock.CoroutineMock()):
             await test_module.upgrade(
-                {
-                    "upgrade.from_version": "v0.7.2",
-                }
+                profile=self.profile,
             )
 
     async def test_upgrade_callable(self):
+        version_storage_record = await self.storage.find_record(
+            type_filter="acapy_version", tag_query={}
+        )
+        await self.storage.delete_record(version_storage_record)
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
                     self.profile,
                     async_mock.CoroutineMock(did="public DID", verkey="verkey"),
@@ -120,42 +113,45 @@
                         },
                         "update_existing_records": True,
                     },
                 }
             ),
         ):
             await test_module.upgrade(
-                {
+                settings={
                     "upgrade.from_version": "v0.7.2",
                 }
             )
 
     async def test_upgrade_x_same_version(self):
         version_storage_record = await self.storage.find_record(
             type_filter="acapy_version", tag_query={}
         )
         await self.storage.update_record(version_storage_record, f"v{__version__}", {})
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
-                    self.profile_storage,
+                    self.profile,
                     async_mock.CoroutineMock(did="public DID", verkey="verkey"),
                 )
             ),
         ):
-            with self.assertRaises(UpgradeError):
-                await test_module.upgrade(
-                    {
-                        "upgrade.config_path": "./aries_cloudagent/commands/default_version_upgrade_config.yml",
-                    }
-                )
+            await test_module.upgrade(
+                settings={
+                    "upgrade.config_path": "./aries_cloudagent/commands/default_version_upgrade_config.yml",
+                }
+            )
 
     async def test_upgrade_missing_from_version(self):
+        version_storage_record = await self.storage.find_record(
+            type_filter="acapy_version", tag_query={}
+        )
+        await self.storage.delete_record(version_storage_record)
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
                     self.profile,
                     async_mock.CoroutineMock(did="public DID", verkey="verkey"),
@@ -164,21 +160,27 @@
         ), async_mock.patch.object(
             ConnRecord,
             "query",
             async_mock.CoroutineMock(return_value=[ConnRecord()]),
         ), async_mock.patch.object(
             ConnRecord, "save", async_mock.CoroutineMock()
         ):
-            await test_module.upgrade(
-                {
-                    "upgrade.config_path": "./aries_cloudagent/commands/default_version_upgrade_config.yml",
-                }
-            )
+            with self.assertRaises(UpgradeError) as ctx:
+                await test_module.upgrade(
+                    settings={
+                        "upgrade.config_path": "./aries_cloudagent/commands/default_version_upgrade_config.yml",
+                    }
+                )
+            assert "No upgrade from version found in wallet or" in str(ctx.exception)
 
     async def test_upgrade_x_callable_not_set(self):
+        version_storage_record = await self.storage.find_record(
+            type_filter="acapy_version", tag_query={}
+        )
+        await self.storage.delete_record(version_storage_record)
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
                     self.profile,
                     async_mock.CoroutineMock(did="public DID", verkey="verkey"),
@@ -193,25 +195,25 @@
                         "resave_records": {
                             "base_record_path": [
                                 "aries_cloudagent.connections.models.conn_record.ConnRecord"
                             ]
                         },
                         "update_existing_records": True,
                     },
-                    "v0.6.0": {"update_existing_records": True},
+                    "v0.6.0": {"update_existing_records_b": True},
                 }
             ),
         ):
             with self.assertRaises(UpgradeError) as ctx:
                 await test_module.upgrade(
-                    {
+                    settings={
                         "upgrade.from_version": "v0.6.0",
                     }
                 )
-            assert "No update_existing_records function specified" in str(ctx.exception)
+            assert "No function specified for" in str(ctx.exception)
 
     async def test_upgrade_x_class_not_found(self):
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
@@ -232,15 +234,15 @@
                         }
                     },
                 }
             ),
         ):
             with self.assertRaises(UpgradeError) as ctx:
                 await test_module.upgrade(
-                    {
+                    settings={
                         "upgrade.from_version": "v0.7.2",
                     }
                 )
             assert "Unknown Record type" in str(ctx.exception)
 
     async def test_execute(self):
         with async_mock.patch.object(
@@ -265,15 +267,16 @@
                 run_until_complete=async_mock.MagicMock(),
             )
             test_module.execute(
                 [
                     "--upgrade-config",
                     "./aries_cloudagent/config/tests/test-acapy-upgrade-config.yaml",
                     "--from-version",
-                    "v0.7.2",
+                    "v0.7.0",
+                    "--force-upgrade",
                 ]
             )
 
     async def test_upgrade_x_invalid_record_type(self):
         with async_mock.patch.object(
             test_module,
             "wallet_config",
@@ -296,48 +299,94 @@
                         }
                     }
                 }
             ),
         ):
             with self.assertRaises(UpgradeError) as ctx:
                 await test_module.upgrade(
-                    {
+                    settings={
                         "upgrade.from_version": "v0.7.2",
                     }
                 )
             assert "Only BaseRecord can be resaved" in str(ctx.exception)
 
-    async def test_upgrade_x_invalid_config(self):
-        with async_mock.patch.object(
-            test_module.yaml,
-            "safe_load",
-            async_mock.MagicMock(return_value={}),
-        ):
-            with self.assertRaises(UpgradeError) as ctx:
-                await test_module.upgrade({})
-            assert "No version configs found in" in str(ctx.exception)
-
-    async def test_upgrade_x_from_version_not_in_config(self):
+    async def test_upgrade_force(self):
         with async_mock.patch.object(
             test_module,
             "wallet_config",
             async_mock.CoroutineMock(
                 return_value=(
                     self.profile,
                     async_mock.CoroutineMock(did="public DID", verkey="verkey"),
                 )
             ),
+        ), async_mock.patch.object(
+            test_module.yaml,
+            "safe_load",
+            async_mock.MagicMock(
+                return_value={
+                    "v0.7.2": {
+                        "resave_records": {
+                            "base_record_path": [
+                                "aries_cloudagent.connections.models.conn_record.ConnRecord"
+                            ],
+                        },
+                        "update_existing_records": True,
+                    },
+                    "v0.7.3": {
+                        "update_existing_records": True,
+                    },
+                    "v0.7.1": {
+                        "update_existing_records": False,
+                    },
+                }
+            ),
+        ):
+            await test_module.upgrade(
+                settings={
+                    "upgrade.from_version": "v0.7.0",
+                    "upgrade.force_upgrade": True,
+                }
+            )
+
+    async def test_get_upgrade_version_list(self):
+        assert len(test_module.get_upgrade_version_list(from_version="v0.7.2")) >= 1
+
+    async def test_add_version_record(self):
+        await test_module.add_version_record(self.profile, "v0.7.4")
+        version_storage_record = await self.storage.find_record(
+            type_filter="acapy_version", tag_query={}
+        )
+        assert version_storage_record.value == "v0.7.4"
+        await self.storage.delete_record(version_storage_record)
+        with self.assertRaises(test_module.StorageNotFoundError):
+            await self.storage.find_record(type_filter="acapy_version", tag_query={})
+        await test_module.add_version_record(self.profile, "v0.7.5")
+        version_storage_record = await self.storage.find_record(
+            type_filter="acapy_version", tag_query={}
+        )
+        assert version_storage_record.value == "v0.7.5"
+
+    async def test_upgrade_x_invalid_config(self):
+        with async_mock.patch.object(
+            test_module.yaml,
+            "safe_load",
+            async_mock.MagicMock(return_value={}),
         ):
             with self.assertRaises(UpgradeError) as ctx:
-                await test_module.upgrade(
-                    {
-                        "upgrade.from_version": "v1.2.3",
-                    }
-                )
-            assert "No upgrade configuration found for" in str(ctx.exception)
+                await test_module.upgrade(settings={})
+            assert "No version configs found in" in str(ctx.exception)
+
+    async def test_upgrade_x_params(self):
+        with self.assertRaises(UpgradeError) as ctx:
+            await test_module.upgrade(profile=self.profile, settings={})
+        assert "upgrade requires either profile or settings" in str(ctx.exception)
+        with self.assertRaises(UpgradeError) as ctx:
+            await test_module.upgrade(profile=self.profile, settings={"...": "..."})
+        assert "upgrade requires either profile or settings" in str(ctx.exception)
 
     def test_main(self):
         with async_mock.patch.object(
             test_module, "__name__", "__main__"
         ) as mock_name, async_mock.patch.object(
             test_module, "execute", async_mock.MagicMock()
         ) as mock_execute:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/argparse.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/argparse.py`

 * *Files 1% similar despite different names*

```diff
@@ -121,4609 +121,4841 @@
 00000780: 4d4c 436f 6e66 6967 4669 6c65 5061 7273  MLConfigFilePars
 00000790: 6572 2c20 7072 6f67 3d70 726f 6729 0a0a  er, prog=prog)..
 000007a0: 0a64 6566 206c 6f61 645f 6172 6775 6d65  .def load_argume
 000007b0: 6e74 5f67 726f 7570 7328 7061 7273 6572  nt_groups(parser
 000007c0: 3a20 4172 6775 6d65 6e74 5061 7273 6572  : ArgumentParser
 000007d0: 2c20 2a67 726f 7570 733a 2054 7970 655b  , *groups: Type[
 000007e0: 4172 6775 6d65 6e74 4772 6f75 705d 293a  ArgumentGroup]):
-000007f0: 0a20 2020 2022 2222 4c6f 6720 6120 7365  .    """Log a se
-00000800: 7420 6f66 2061 7267 756d 656e 7420 6772  t of argument gr
-00000810: 6f75 7073 2069 6e74 6f20 6120 7061 7273  oups into a pars
-00000820: 6572 2e0a 0a20 2020 2052 6574 7572 6e73  er...    Returns
-00000830: 3a0a 2020 2020 2020 2020 4120 6361 6c6c  :.        A call
-00000840: 6162 6c65 2074 6f20 636f 6e76 6572 7420  able to convert 
-00000850: 6c6f 6164 6564 2061 7267 756d 656e 7473  loaded arguments
-00000860: 2069 6e74 6f20 6120 7365 7474 696e 6773   into a settings
-00000870: 2064 6963 7469 6f6e 6172 790a 0a20 2020   dictionary..   
-00000880: 2022 2222 0a20 2020 2067 726f 7570 5f69   """.    group_i
-00000890: 6e73 7420 3d20 5b5d 0a20 2020 2066 6f72  nst = [].    for
-000008a0: 2067 726f 7570 2069 6e20 6772 6f75 7073   group in groups
-000008b0: 3a0a 2020 2020 2020 2020 675f 7061 7273  :.        g_pars
-000008c0: 6572 203d 2070 6172 7365 722e 6164 645f  er = parser.add_
-000008d0: 6172 6775 6d65 6e74 5f67 726f 7570 2867  argument_group(g
-000008e0: 726f 7570 2e47 524f 5550 5f4e 414d 4529  roup.GROUP_NAME)
-000008f0: 0a20 2020 2020 2020 2069 6e73 7420 3d20  .        inst = 
-00000900: 6772 6f75 7028 290a 2020 2020 2020 2020  group().        
-00000910: 696e 7374 2e61 6464 5f61 7267 756d 656e  inst.add_argumen
-00000920: 7473 2867 5f70 6172 7365 7229 0a20 2020  ts(g_parser).   
-00000930: 2020 2020 2067 726f 7570 5f69 6e73 742e       group_inst.
-00000940: 6170 7065 6e64 2869 6e73 7429 0a0a 2020  append(inst)..  
-00000950: 2020 6465 6620 6765 745f 7365 7474 696e    def get_settin
-00000960: 6773 2861 7267 733a 204e 616d 6573 7061  gs(args: Namespa
-00000970: 6365 293a 0a20 2020 2020 2020 2073 6574  ce):.        set
-00000980: 7469 6e67 7320 3d20 7b7d 0a20 2020 2020  tings = {}.     
-00000990: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-000009a0: 2020 2020 666f 7220 6772 6f75 7020 696e      for group in
-000009b0: 2067 726f 7570 5f69 6e73 743a 0a20 2020   group_inst:.   
-000009c0: 2020 2020 2020 2020 2020 2020 2073 6574               set
-000009d0: 7469 6e67 732e 7570 6461 7465 2867 726f  tings.update(gro
-000009e0: 7570 2e67 6574 5f73 6574 7469 6e67 7328  up.get_settings(
-000009f0: 6172 6773 2929 0a20 2020 2020 2020 2065  args)).        e
-00000a00: 7863 6570 7420 4172 6773 5061 7273 6545  xcept ArgsParseE
-00000a10: 7272 6f72 2061 7320 653a 0a20 2020 2020  rror as e:.     
-00000a20: 2020 2020 2020 2070 6172 7365 722e 7072         parser.pr
-00000a30: 696e 745f 6865 6c70 2829 0a20 2020 2020  int_help().     
-00000a40: 2020 2020 2020 2072 6169 7365 2065 0a20         raise e. 
-00000a50: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00000a60: 7474 696e 6773 0a0a 2020 2020 7265 7475  ttings..    retu
-00000a70: 726e 2067 6574 5f73 6574 7469 6e67 730a  rn get_settings.
-00000a80: 0a0a 4067 726f 7570 2843 4154 5f53 5441  ..@group(CAT_STA
-00000a90: 5254 290a 636c 6173 7320 4164 6d69 6e47  RT).class AdminG
-00000aa0: 726f 7570 2841 7267 756d 656e 7447 726f  roup(ArgumentGro
-00000ab0: 7570 293a 0a20 2020 2022 2222 4164 6d69  up):.    """Admi
-00000ac0: 6e20 7365 7276 6572 2073 6574 7469 6e67  n server setting
-00000ad0: 732e 2222 220a 0a20 2020 2047 524f 5550  s."""..    GROUP
-00000ae0: 5f4e 414d 4520 3d20 2241 646d 696e 220a  _NAME = "Admin".
-00000af0: 0a20 2020 2064 6566 2061 6464 5f61 7267  .    def add_arg
-00000b00: 756d 656e 7473 2873 656c 662c 2070 6172  uments(self, par
-00000b10: 7365 723a 2041 7267 756d 656e 7450 6172  ser: ArgumentPar
-00000b20: 7365 7229 3a0a 2020 2020 2020 2020 2222  ser):.        ""
-00000b30: 2241 6464 2061 646d 696e 2d73 7065 6369  "Add admin-speci
-00000b40: 6669 6320 636f 6d6d 616e 6420 6c69 6e65  fic command line
-00000b50: 2061 7267 756d 656e 7473 2074 6f20 7468   arguments to th
-00000b60: 6520 7061 7273 6572 2e22 2222 0a20 2020  e parser.""".   
-00000b70: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-00000b80: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-00000b90: 2020 2020 2020 222d 2d61 646d 696e 222c        "--admin",
-00000ba0: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
-00000bb0: 653d 7374 722c 0a20 2020 2020 2020 2020  e=str,.         
-00000bc0: 2020 206e 6172 6773 3d32 2c0a 2020 2020     nargs=2,.    
-00000bd0: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
-00000be0: 2822 3c68 6f73 743e 222c 2022 3c70 6f72  ("<host>", "<por
-00000bf0: 743e 2229 2c0a 2020 2020 2020 2020 2020  t>"),.          
-00000c00: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-00000c10: 5f41 444d 494e 222c 0a20 2020 2020 2020  _ADMIN",.       
-00000c20: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
-00000c30: 2020 2020 2020 2020 2020 2020 2253 7065              "Spe
-00000c40: 6369 6679 2074 6865 2068 6f73 7420 616e  cify the host an
-00000c50: 6420 706f 7274 206f 6e20 7768 6963 6820  d port on which 
-00000c60: 746f 2072 756e 2074 6865 2061 646d 696e  to run the admin
-00000c70: 6973 7472 6174 6976 6520 7365 7276 6572  istrative server
-00000c80: 2e20 220a 2020 2020 2020 2020 2020 2020  . ".            
-00000c90: 2020 2020 2249 6620 6e6f 7420 7072 6f76      "If not prov
-00000ca0: 6964 6564 2c20 6e6f 2061 646d 696e 2073  ided, no admin s
-00000cb0: 6572 7665 7220 6973 206d 6164 6520 6176  erver is made av
-00000cc0: 6169 6c61 626c 652e 220a 2020 2020 2020  ailable.".      
-00000cd0: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
-00000ce0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
-00000cf0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
-00000d00: 2020 2020 2020 2020 2020 2020 222d 2d61              "--a
-00000d10: 646d 696e 2d61 7069 2d6b 6579 222c 0a20  dmin-api-key",. 
-00000d20: 2020 2020 2020 2020 2020 2074 7970 653d             type=
-00000d30: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
-00000d40: 206d 6574 6176 6172 3d22 3c61 7069 2d6b   metavar="<api-k
-00000d50: 6579 3e22 2c0a 2020 2020 2020 2020 2020  ey>",.          
-00000d60: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-00000d70: 5f41 444d 494e 5f41 5049 5f4b 4559 222c  _ADMIN_API_KEY",
-00000d80: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
-00000d90: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
-00000da0: 2020 2020 2250 726f 7465 6374 2061 6c6c      "Protect all
-00000db0: 2061 646d 696e 2065 6e64 706f 696e 7473   admin endpoints
-00000dc0: 2077 6974 6820 7468 6520 7072 6f76 6964   with the provid
-00000dd0: 6564 2041 5049 206b 6579 2e20 220a 2020  ed API key. ".  
-00000de0: 2020 2020 2020 2020 2020 2020 2020 2241                "A
-00000df0: 5049 2063 6c69 656e 7473 2028 652e 672e  PI clients (e.g.
-00000e00: 2074 6865 2063 6f6e 7472 6f6c 6c65 7229   the controller)
-00000e10: 206d 7573 7420 7061 7373 2074 6865 206b   must pass the k
-00000e20: 6579 2069 6e20 7468 6520 4854 5450 2022  ey in the HTTP "
-00000e30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00000e40: 2022 6865 6164 6572 2075 7369 6e67 2027   "header using '
-00000e50: 582d 4150 492d 4b65 793a 203c 6170 6920  X-API-Key: <api 
-00000e60: 6b65 793e 272e 2045 6974 6865 7220 7468  key>'. Either th
-00000e70: 6973 2070 6172 616d 6574 6572 206f 7220  is parameter or 
-00000e80: 7468 6520 220a 2020 2020 2020 2020 2020  the ".          
-00000e90: 2020 2020 2020 2227 2d2d 6164 6d69 6e2d        "'--admin-
-00000ea0: 696e 7365 6375 7265 2d6d 6f64 6527 2070  insecure-mode' p
-00000eb0: 6172 616d 6574 6572 204d 5553 5420 6265  arameter MUST be
-00000ec0: 2073 7065 6369 6669 6564 2e22 0a20 2020   specified.".   
-00000ed0: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
-00000ee0: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
-00000ef0: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
-00000f00: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
-00000f10: 2d2d 6164 6d69 6e2d 696e 7365 6375 7265  --admin-insecure
-00000f20: 2d6d 6f64 6522 2c0a 2020 2020 2020 2020  -mode",.        
-00000f30: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
-00000f40: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
-00000f50: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
-00000f60: 4150 595f 4144 4d49 4e5f 494e 5345 4355  APY_ADMIN_INSECU
-00000f70: 5245 5f4d 4f44 4522 2c0a 2020 2020 2020  RE_MODE",.      
-00000f80: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
-00000f90: 2020 2020 2020 2020 2020 2020 2022 5275               "Ru
-00000fa0: 6e20 7468 6520 6164 6d69 6e20 7765 6220  n the admin web 
-00000fb0: 7365 7276 6572 2069 6e20 696e 7365 6375  server in insecu
-00000fc0: 7265 206d 6f64 652e 2044 4f20 4e4f 5420  re mode. DO NOT 
-00000fd0: 5553 4520 464f 5220 220a 2020 2020 2020  USE FOR ".      
-00000fe0: 2020 2020 2020 2020 2020 2250 524f 4455            "PRODU
-00000ff0: 4354 494f 4e20 4445 504c 4f59 4d45 4e54  CTION DEPLOYMENT
-00001000: 532e 2054 6865 2061 646d 696e 2073 6572  S. The admin ser
-00001010: 7665 7220 7769 6c6c 2062 6520 7075 626c  ver will be publ
-00001020: 6963 6c79 2061 7661 696c 6162 6c65 2022  icly available "
-00001030: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001040: 2022 746f 2061 6e79 6f6e 6520 7768 6f20   "to anyone who 
-00001050: 6861 7320 6163 6365 7373 2074 6f20 7468  has access to th
-00001060: 6520 696e 7465 7266 6163 652e 2045 6974  e interface. Eit
-00001070: 6865 7220 7468 6973 2070 6172 616d 6574  her this paramet
-00001080: 6572 206f 7220 220a 2020 2020 2020 2020  er or ".        
-00001090: 2020 2020 2020 2020 2274 6865 2027 2d2d          "the '--
-000010a0: 6170 692d 6b65 7927 2070 6172 616d 6574  api-key' paramet
-000010b0: 6572 204d 5553 5420 6265 2073 7065 6369  er MUST be speci
-000010c0: 6669 6564 2e22 0a20 2020 2020 2020 2020  fied.".         
-000010d0: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-000010e0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-000010f0: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00001100: 2020 2020 2020 2020 2022 2d2d 6e6f 2d72           "--no-r
-00001110: 6563 6569 7665 2d69 6e76 6974 6573 222c  eceive-invites",
-00001120: 0a20 2020 2020 2020 2020 2020 2061 6374  .            act
-00001130: 696f 6e3d 2273 746f 7265 5f74 7275 6522  ion="store_true"
-00001140: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
-00001150: 765f 7661 723d 2241 4341 5059 5f4e 4f5f  v_var="ACAPY_NO_
-00001160: 5245 4345 4956 455f 494e 5649 5445 5322  RECEIVE_INVITES"
-00001170: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00001180: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-00001190: 2020 2020 2022 5072 6576 656e 7473 2061       "Prevents a
-000011a0: 6e20 6167 656e 7420 6672 6f6d 2072 6563  n agent from rec
-000011b0: 6569 7669 6e67 2069 6e76 6974 6573 2062  eiving invites b
-000011c0: 7920 7265 6d6f 7669 6e67 2074 6865 2022  y removing the "
-000011d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000011e0: 2022 272f 636f 6e6e 6563 7469 6f6e 732f   "'/connections/
-000011f0: 7265 6365 6976 652d 696e 7669 7465 2720  receive-invite' 
-00001200: 726f 7574 6520 6672 6f6d 2074 6865 2061  route from the a
-00001210: 646d 696e 6973 7472 6174 6976 6520 220a  dministrative ".
-00001220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001230: 2269 6e74 6572 6661 6365 2e20 4465 6661  "interface. Defa
-00001240: 756c 743a 2066 616c 7365 2e22 0a20 2020  ult: false.".   
-00001250: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
-00001260: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
-00001270: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
-00001280: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
-00001290: 2d2d 6865 6c70 2d6c 696e 6b22 2c0a 2020  --help-link",.  
-000012a0: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
-000012b0: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
-000012c0: 6d65 7461 7661 723d 223c 6865 6c70 2d75  metavar="<help-u
-000012d0: 726c 3e22 2c0a 2020 2020 2020 2020 2020  rl>",.          
-000012e0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-000012f0: 5f48 454c 505f 4c49 4e4b 222c 0a20 2020  _HELP_LINK",.   
-00001300: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
-00001310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001320: 2241 2055 524c 2074 6f20 616e 2061 646d  "A URL to an adm
-00001330: 696e 6973 7472 6174 6976 6520 696e 7465  inistrative inte
-00001340: 7266 6163 6520 6865 6c70 2077 6562 2070  rface help web p
-00001350: 6167 6520 7468 6174 2061 2063 6f6e 7472  age that a contr
-00001360: 6f6c 6c65 7220 220a 2020 2020 2020 2020  oller ".        
-00001370: 2020 2020 2020 2020 2275 7365 7220 696e          "user in
-00001380: 7465 7266 6163 6520 6361 6e20 6765 7420  terface can get 
-00001390: 6672 6f6d 2074 6865 2061 6765 6e74 2061  from the agent a
-000013a0: 6e64 2070 726f 7669 6465 2061 7320 6120  nd provide as a 
-000013b0: 6c69 6e6b 2074 6f20 7573 6572 732e 220a  link to users.".
-000013c0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-000013d0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-000013e0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-000013f0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00001400: 2020 222d 2d77 6562 686f 6f6b 2d75 726c    "--webhook-url
-00001410: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-00001420: 6374 696f 6e3d 2261 7070 656e 6422 2c0a  ction="append",.
-00001430: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-00001440: 7661 723d 223c 7572 6c23 6170 695f 6b65  var="<url#api_ke
-00001450: 793e 222c 0a20 2020 2020 2020 2020 2020  y>",.           
-00001460: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-00001470: 5745 4248 4f4f 4b5f 5552 4c22 2c0a 2020  WEBHOOK_URL",.  
-00001480: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
-00001490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000014a0: 2022 5365 6e64 2077 6562 686f 6f6b 7320   "Send webhooks 
-000014b0: 636f 6e74 6169 6e69 6e67 2069 6e74 6572  containing inter
-000014c0: 6e61 6c20 7374 6174 6520 6368 616e 6765  nal state change
-000014d0: 7320 746f 2074 6865 2073 7065 6369 6669  s to the specifi
-000014e0: 6564 2022 0a20 2020 2020 2020 2020 2020  ed ".           
-000014f0: 2020 2020 2022 5552 4c2e 204f 7074 696f       "URL. Optio
-00001500: 6e61 6c20 4150 4920 6b65 7920 746f 2062  nal API key to b
-00001510: 6520 7061 7373 6564 2069 6e20 7468 6520  e passed in the 
-00001520: 7265 7175 6573 7420 626f 6479 2063 616e  request body can
-00001530: 2062 6520 220a 2020 2020 2020 2020 2020   be ".          
-00001540: 2020 2020 2020 2261 7070 656e 6465 6420        "appended 
-00001550: 7573 696e 6720 6120 6861 7368 2073 6570  using a hash sep
-00001560: 6172 6174 6f72 205b 235d 2e20 5468 6973  arator [#]. This
-00001570: 2069 7320 7573 6566 756c 2066 6f72 2061   is useful for a
-00001580: 2063 6f6e 7472 6f6c 6c65 7220 220a 2020   controller ".  
-00001590: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-000015a0: 6f20 6d6f 6e69 746f 7220 6167 656e 7420  o monitor agent 
-000015b0: 6576 656e 7473 2061 6e64 2072 6573 706f  events and respo
-000015c0: 6e64 2074 6f20 7468 6f73 6520 6576 656e  nd to those even
-000015d0: 7473 2075 7369 6e67 2074 6865 2022 0a20  ts using the ". 
-000015e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000015f0: 6164 6d69 6e20 4150 492e 2049 6620 6e6f  admin API. If no
-00001600: 7420 7370 6563 6966 6965 642c 2077 6562  t specified, web
-00001610: 686f 6f6b 7320 6172 6520 6e6f 7420 7075  hooks are not pu
-00001620: 626c 6973 6865 6420 6279 2074 6865 2061  blished by the a
-00001630: 6765 6e74 2e22 0a20 2020 2020 2020 2020  gent.".         
-00001640: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00001650: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00001660: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00001670: 2020 2020 2020 2020 2022 2d2d 6164 6d69           "--admi
-00001680: 6e2d 636c 6965 6e74 2d6d 6178 2d72 6571  n-client-max-req
-00001690: 7565 7374 2d73 697a 6522 2c0a 2020 2020  uest-size",.    
-000016a0: 2020 2020 2020 2020 6465 6661 756c 743d          default=
-000016b0: 312c 0a20 2020 2020 2020 2020 2020 2074  1,.            t
-000016c0: 7970 653d 426f 756e 6465 6449 6e74 286d  ype=BoundedInt(m
-000016d0: 696e 3d31 2c20 6d61 783d 3136 292c 0a20  in=1, max=16),. 
-000016e0: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-000016f0: 6172 3d22 4143 4150 595f 4144 4d49 4e5f  ar="ACAPY_ADMIN_
-00001700: 434c 4945 4e54 5f4d 4158 5f52 4551 5545  CLIENT_MAX_REQUE
-00001710: 5354 5f53 495a 4522 2c0a 2020 2020 2020  ST_SIZE",.      
-00001720: 2020 2020 2020 6865 6c70 3d22 4d61 7869        help="Maxi
-00001730: 6d75 6d20 636c 6965 6e74 2072 6571 7565  mum client reque
-00001740: 7374 2073 697a 6520 746f 2061 646d 696e  st size to admin
-00001750: 2073 6572 7665 722c 2069 6e20 6d65 6761   server, in mega
-00001760: 6279 7465 733a 2064 6566 6175 6c74 2031  bytes: default 1
-00001770: 222c 0a20 2020 2020 2020 2029 0a0a 2020  ",.        )..  
-00001780: 2020 6465 6620 6765 745f 7365 7474 696e    def get_settin
-00001790: 6773 2873 656c 662c 2061 7267 733a 204e  gs(self, args: N
-000017a0: 616d 6573 7061 6365 293a 0a20 2020 2020  amespace):.     
-000017b0: 2020 2022 2222 4578 7472 6163 7420 6164     """Extract ad
-000017c0: 6d69 6e20 7365 7474 696e 6773 2e22 2222  min settings."""
-000017d0: 0a20 2020 2020 2020 2073 6574 7469 6e67  .        setting
-000017e0: 7320 3d20 7b7d 0a20 2020 2020 2020 2069  s = {}.        i
-000017f0: 6620 6172 6773 2e61 646d 696e 3a0a 2020  f args.admin:.  
-00001800: 2020 2020 2020 2020 2020 6164 6d69 6e5f            admin_
-00001810: 6170 695f 6b65 7920 3d20 6172 6773 2e61  api_key = args.a
-00001820: 646d 696e 5f61 7069 5f6b 6579 0a20 2020  dmin_api_key.   
-00001830: 2020 2020 2020 2020 2061 646d 696e 5f69           admin_i
-00001840: 6e73 6563 7572 655f 6d6f 6465 203d 2061  nsecure_mode = a
-00001850: 7267 732e 6164 6d69 6e5f 696e 7365 6375  rgs.admin_insecu
-00001860: 7265 5f6d 6f64 650a 0a20 2020 2020 2020  re_mode..       
-00001870: 2020 2020 2069 6620 2861 646d 696e 5f61       if (admin_a
-00001880: 7069 5f6b 6579 2061 6e64 2061 646d 696e  pi_key and admin
-00001890: 5f69 6e73 6563 7572 655f 6d6f 6465 2920  _insecure_mode) 
-000018a0: 6f72 206e 6f74 2028 0a20 2020 2020 2020  or not (.       
-000018b0: 2020 2020 2020 2020 2061 646d 696e 5f61           admin_a
-000018c0: 7069 5f6b 6579 206f 7220 6164 6d69 6e5f  pi_key or admin_
-000018d0: 696e 7365 6375 7265 5f6d 6f64 650a 2020  insecure_mode.  
-000018e0: 2020 2020 2020 2020 2020 293a 0a20 2020            ):.   
-000018f0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-00001900: 7365 2041 7267 7350 6172 7365 4572 726f  se ArgsParseErro
-00001910: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
-00001920: 2020 2020 2020 2022 4569 7468 6572 202d         "Either -
-00001930: 2d61 646d 696e 2d61 7069 2d6b 6579 206f  -admin-api-key o
-00001940: 7220 2d2d 6164 6d69 6e2d 696e 7365 6375  r --admin-insecu
-00001950: 7265 2d6d 6f64 6520 220a 2020 2020 2020  re-mode ".      
-00001960: 2020 2020 2020 2020 2020 2020 2020 226d                "m
-00001970: 7573 7420 6265 2073 6574 2062 7574 206e  ust be set but n
-00001980: 6f74 2062 6f74 682e 220a 2020 2020 2020  ot both.".      
-00001990: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-000019a0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-000019b0: 735b 2261 646d 696e 2e61 646d 696e 5f61  s["admin.admin_a
-000019c0: 7069 5f6b 6579 225d 203d 2061 646d 696e  pi_key"] = admin
-000019d0: 5f61 7069 5f6b 6579 0a20 2020 2020 2020  _api_key.       
-000019e0: 2020 2020 2073 6574 7469 6e67 735b 2261       settings["a
-000019f0: 646d 696e 2e61 646d 696e 5f69 6e73 6563  dmin.admin_insec
-00001a00: 7572 655f 6d6f 6465 225d 203d 2061 646d  ure_mode"] = adm
-00001a10: 696e 5f69 6e73 6563 7572 655f 6d6f 6465  in_insecure_mode
-00001a20: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
-00001a30: 7474 696e 6773 5b22 6164 6d69 6e2e 656e  ttings["admin.en
-00001a40: 6162 6c65 6422 5d20 3d20 5472 7565 0a20  abled"] = True. 
-00001a50: 2020 2020 2020 2020 2020 2073 6574 7469             setti
-00001a60: 6e67 735b 2261 646d 696e 2e68 6f73 7422  ngs["admin.host"
-00001a70: 5d20 3d20 6172 6773 2e61 646d 696e 5b30  ] = args.admin[0
-00001a80: 5d0a 2020 2020 2020 2020 2020 2020 7365  ].            se
-00001a90: 7474 696e 6773 5b22 6164 6d69 6e2e 706f  ttings["admin.po
-00001aa0: 7274 225d 203d 2061 7267 732e 6164 6d69  rt"] = args.admi
-00001ab0: 6e5b 315d 0a20 2020 2020 2020 2020 2020  n[1].           
-00001ac0: 2069 6620 6172 6773 2e68 656c 705f 6c69   if args.help_li
-00001ad0: 6e6b 3a0a 2020 2020 2020 2020 2020 2020  nk:.            
-00001ae0: 2020 2020 7365 7474 696e 6773 5b22 6164      settings["ad
-00001af0: 6d69 6e2e 6865 6c70 5f6c 696e 6b22 5d20  min.help_link"] 
-00001b00: 3d20 6172 6773 2e68 656c 705f 6c69 6e6b  = args.help_link
-00001b10: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00001b20: 6172 6773 2e6e 6f5f 7265 6365 6976 655f  args.no_receive_
-00001b30: 696e 7669 7465 733a 0a20 2020 2020 2020  invites:.       
-00001b40: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00001b50: 735b 2261 646d 696e 2e6e 6f5f 7265 6365  s["admin.no_rece
-00001b60: 6976 655f 696e 7669 7465 7322 5d20 3d20  ive_invites"] = 
-00001b70: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
-00001b80: 2068 6f6f 6b5f 7572 6c73 203d 206c 6973   hook_urls = lis
-00001b90: 7428 6172 6773 2e77 6562 686f 6f6b 5f75  t(args.webhook_u
-00001ba0: 726c 2920 6966 2061 7267 732e 7765 6268  rl) if args.webh
-00001bb0: 6f6f 6b5f 7572 6c20 656c 7365 205b 5d0a  ook_url else [].
-00001bc0: 2020 2020 2020 2020 2020 2020 686f 6f6b              hook
-00001bd0: 5f75 726c 203d 2065 6e76 6972 6f6e 2e67  _url = environ.g
-00001be0: 6574 2822 5745 4248 4f4f 4b5f 5552 4c22  et("WEBHOOK_URL"
-00001bf0: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00001c00: 2068 6f6f 6b5f 7572 6c3a 0a20 2020 2020   hook_url:.     
-00001c10: 2020 2020 2020 2020 2020 2068 6f6f 6b5f             hook_
-00001c20: 7572 6c73 2e61 7070 656e 6428 686f 6f6b  urls.append(hook
-00001c30: 5f75 726c 290a 2020 2020 2020 2020 2020  _url).          
-00001c40: 2020 7365 7474 696e 6773 5b22 6164 6d69    settings["admi
-00001c50: 6e2e 7765 6268 6f6f 6b5f 7572 6c73 225d  n.webhook_urls"]
-00001c60: 203d 2068 6f6f 6b5f 7572 6c73 0a0a 2020   = hook_urls..  
-00001c70: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-00001c80: 6773 5b22 6164 6d69 6e2e 6164 6d69 6e5f  gs["admin.admin_
-00001c90: 636c 6965 6e74 5f6d 6178 5f72 6571 7565  client_max_reque
-00001ca0: 7374 5f73 697a 6522 5d20 3d20 280a 2020  st_size"] = (.  
-00001cb0: 2020 2020 2020 2020 2020 2020 2020 6172                ar
-00001cc0: 6773 2e61 646d 696e 5f63 6c69 656e 745f  gs.admin_client_
-00001cd0: 6d61 785f 7265 7175 6573 745f 7369 7a65  max_request_size
-00001ce0: 206f 7220 310a 2020 2020 2020 2020 2020   or 1.          
-00001cf0: 2020 290a 2020 2020 2020 2020 7265 7475    ).        retu
-00001d00: 726e 2073 6574 7469 6e67 730a 0a0a 4067  rn settings...@g
-00001d10: 726f 7570 2843 4154 5f53 5441 5254 290a  roup(CAT_START).
-00001d20: 636c 6173 7320 4465 6275 6747 726f 7570  class DebugGroup
-00001d30: 2841 7267 756d 656e 7447 726f 7570 293a  (ArgumentGroup):
-00001d40: 0a20 2020 2022 2222 4465 6275 6720 7365  .    """Debug se
-00001d50: 7474 696e 6773 2e22 2222 0a0a 2020 2020  ttings."""..    
-00001d60: 4752 4f55 505f 4e41 4d45 203d 2022 4465  GROUP_NAME = "De
-00001d70: 6275 6722 0a0a 2020 2020 6465 6620 6164  bug"..    def ad
-00001d80: 645f 6172 6775 6d65 6e74 7328 7365 6c66  d_arguments(self
-00001d90: 2c20 7061 7273 6572 3a20 4172 6775 6d65  , parser: Argume
-00001da0: 6e74 5061 7273 6572 293a 0a20 2020 2020  ntParser):.     
-00001db0: 2020 2022 2222 4164 6420 6465 6275 6720     """Add debug 
-00001dc0: 636f 6d6d 616e 6420 6c69 6e65 2061 7267  command line arg
-00001dd0: 756d 656e 7473 2074 6f20 7468 6520 7061  uments to the pa
-00001de0: 7273 6572 2e22 2222 0a20 2020 2020 2020  rser.""".       
-00001df0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-00001e00: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00001e10: 2020 222d 2d64 6562 7567 222c 0a20 2020    "--debug",.   
-00001e20: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
-00001e30: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
-00001e40: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
-00001e50: 723d 2241 4341 5059 5f44 4542 5547 222c  r="ACAPY_DEBUG",
-00001e60: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
-00001e70: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
-00001e80: 2020 2020 2245 6e61 626c 6573 2061 2072      "Enables a r
-00001e90: 656d 6f74 6520 6465 6275 6767 696e 6720  emote debugging 
-00001ea0: 7365 7276 6963 6520 7468 6174 2063 616e  service that can
-00001eb0: 2062 6520 6163 6365 7373 6564 2022 0a20   be accessed ". 
-00001ec0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00001ed0: 7573 696e 6720 7074 7673 6420 666f 7220  using ptvsd for 
-00001ee0: 5669 7375 616c 2053 7475 6469 6f20 436f  Visual Studio Co
-00001ef0: 6465 2e20 5468 6520 6672 616d 6577 6f72  de. The framewor
-00001f00: 6b20 7769 6c6c 2077 6169 7420 220a 2020  k will wait ".  
-00001f10: 2020 2020 2020 2020 2020 2020 2020 2266                "f
-00001f20: 6f72 2074 6865 2064 6562 7567 6765 7220  or the debugger 
-00001f30: 746f 2063 6f6e 6e65 6374 2061 7420 7374  to connect at st
-00001f40: 6172 742d 7570 2e20 4465 6661 756c 743a  art-up. Default:
-00001f50: 2066 616c 7365 2e22 0a20 2020 2020 2020   false.".       
-00001f60: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-00001f70: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-00001f80: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00001f90: 2020 2020 2020 2020 2020 2022 2d2d 6465             "--de
-00001fa0: 6275 672d 7365 6564 222c 0a20 2020 2020  bug-seed",.     
-00001fb0: 2020 2020 2020 2064 6573 743d 2264 6562         dest="deb
-00001fc0: 7567 5f73 6565 6422 2c0a 2020 2020 2020  ug_seed",.      
-00001fd0: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-00001fe0: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-00001ff0: 7661 723d 223c 6465 6275 672d 6469 642d  var="<debug-did-
-00002000: 7365 6564 3e22 2c0a 2020 2020 2020 2020  seed>",.        
-00002010: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
-00002020: 5059 5f44 4542 5547 5f53 4545 4422 2c0a  PY_DEBUG_SEED",.
-00002030: 2020 2020 2020 2020 2020 2020 6865 6c70              help
-00002040: 3d22 5370 6563 6966 7920 7468 6520 6465  ="Specify the de
-00002050: 6275 6720 7365 6564 2074 6f20 7573 652e  bug seed to use.
-00002060: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
-00002070: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-00002080: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-00002090: 2020 2020 2020 222d 2d64 6562 7567 2d63        "--debug-c
-000020a0: 6f6e 6e65 6374 696f 6e73 222c 0a20 2020  onnections",.   
-000020b0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
-000020c0: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
-000020d0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
-000020e0: 723d 2241 4341 5059 5f44 4542 5547 5f43  r="ACAPY_DEBUG_C
-000020f0: 4f4e 4e45 4354 494f 4e53 222c 0a20 2020  ONNECTIONS",.   
-00002100: 2020 2020 2020 2020 2068 656c 703d 2245           help="E
-00002110: 6e61 626c 6520 6164 6469 7469 6f6e 616c  nable additional
-00002120: 206c 6f67 6769 6e67 2061 726f 756e 6420   logging around 
-00002130: 636f 6e6e 6563 7469 6f6e 732e 2044 6566  connections. Def
-00002140: 6175 6c74 3a20 6661 6c73 652e 222c 0a20  ault: false.",. 
-00002150: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00002160: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-00002170: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00002180: 2020 222d 2d64 6562 7567 2d63 7265 6465    "--debug-crede
-00002190: 6e74 6961 6c73 222c 0a20 2020 2020 2020  ntials",.       
-000021a0: 2020 2020 2061 6374 696f 6e3d 2273 746f       action="sto
-000021b0: 7265 5f74 7275 6522 2c0a 2020 2020 2020  re_true",.      
-000021c0: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
-000021d0: 4341 5059 5f44 4542 5547 5f43 5245 4445  CAPY_DEBUG_CREDE
-000021e0: 4e54 4941 4c53 222c 0a20 2020 2020 2020  NTIALS",.       
-000021f0: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
-00002200: 2020 2020 2020 2020 2020 2020 2245 6e61              "Ena
-00002210: 626c 6520 6164 6469 7469 6f6e 616c 206c  ble additional l
-00002220: 6f67 6769 6e67 2061 726f 756e 6420 6372  ogging around cr
-00002230: 6564 656e 7469 616c 2065 7863 6861 6e67  edential exchang
-00002240: 6573 2e20 220a 2020 2020 2020 2020 2020  es. ".          
-00002250: 2020 2020 2020 2244 6566 6175 6c74 3a20        "Default: 
-00002260: 6661 6c73 652e 220a 2020 2020 2020 2020  false.".        
-00002270: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
-00002280: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
-00002290: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
-000022a0: 2020 2020 2020 2020 2020 222d 2d64 6562            "--deb
-000022b0: 7567 2d70 7265 7365 6e74 6174 696f 6e73  ug-presentations
-000022c0: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-000022d0: 6374 696f 6e3d 2273 746f 7265 5f74 7275  ction="store_tru
-000022e0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-000022f0: 656e 765f 7661 723d 2241 4341 5059 5f44  env_var="ACAPY_D
-00002300: 4542 5547 5f50 5245 5345 4e54 4154 494f  EBUG_PRESENTATIO
-00002310: 4e53 222c 0a20 2020 2020 2020 2020 2020  NS",.           
-00002320: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
-00002330: 2020 2020 2020 2020 2245 6e61 626c 6520          "Enable 
-00002340: 6164 6469 7469 6f6e 616c 206c 6f67 6769  additional loggi
-00002350: 6e67 2061 726f 756e 6420 7072 6573 656e  ng around presen
-00002360: 7461 7469 6f6e 2065 7863 6861 6e67 6573  tation exchanges
-00002370: 2e20 220a 2020 2020 2020 2020 2020 2020  . ".            
-00002380: 2020 2020 2244 6566 6175 6c74 3a20 6661      "Default: fa
-00002390: 6c73 652e 220a 2020 2020 2020 2020 2020  lse.".          
-000023a0: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
-000023b0: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-000023c0: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-000023d0: 2020 2020 2020 2020 222d 2d69 6e76 6974          "--invit
-000023e0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-000023f0: 6163 7469 6f6e 3d22 7374 6f72 655f 7472  action="store_tr
-00002400: 7565 222c 0a20 2020 2020 2020 2020 2020  ue",.           
-00002410: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-00002420: 494e 5649 5445 222c 0a20 2020 2020 2020  INVITE",.       
-00002430: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
-00002440: 2020 2020 2020 2020 2020 2020 2241 6674              "Aft
-00002450: 6572 2073 7461 7274 7570 2c20 6765 6e65  er startup, gene
-00002460: 7261 7465 2061 6e64 2070 7269 6e74 2061  rate and print a
-00002470: 206e 6577 206f 7574 2d6f 662d 6261 6e64   new out-of-band
-00002480: 2063 6f6e 6e65 6374 696f 6e20 220a 2020   connection ".  
-00002490: 2020 2020 2020 2020 2020 2020 2020 2269                "i
-000024a0: 6e76 6974 6174 696f 6e20 5552 4c2e 2044  nvitation URL. D
-000024b0: 6566 6175 6c74 3a20 6661 6c73 652e 220a  efault: false.".
-000024c0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-000024d0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-000024e0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-000024f0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00002500: 2020 222d 2d63 6f6e 6e65 6374 696f 6e73    "--connections
-00002510: 2d69 6e76 6974 6522 2c0a 2020 2020 2020  -invite",.      
-00002520: 2020 2020 2020 6163 7469 6f6e 3d22 7374        action="st
-00002530: 6f72 655f 7472 7565 222c 0a20 2020 2020  ore_true",.     
-00002540: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-00002550: 4143 4150 595f 434f 4e4e 4543 5449 4f4e  ACAPY_CONNECTION
-00002560: 535f 494e 5649 5445 222c 0a20 2020 2020  S_INVITE",.     
-00002570: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-00002580: 2020 2020 2020 2020 2020 2020 2020 2241                "A
-00002590: 6674 6572 2073 7461 7274 7570 2c20 6765  fter startup, ge
-000025a0: 6e65 7261 7465 2061 6e64 2070 7269 6e74  nerate and print
-000025b0: 2061 206e 6577 2063 6f6e 6e65 6374 696f   a new connectio
-000025c0: 6e73 2070 726f 746f 636f 6c20 220a 2020  ns protocol ".  
-000025d0: 2020 2020 2020 2020 2020 2020 2020 2273                "s
-000025e0: 7479 6c65 2069 6e76 6974 6174 696f 6e20  tyle invitation 
-000025f0: 5552 4c2e 2044 6566 6175 6c74 3a20 6661  URL. Default: fa
-00002600: 6c73 652e 220a 2020 2020 2020 2020 2020  lse.".          
-00002610: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
-00002620: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-00002630: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-00002640: 2020 2020 2020 2020 222d 2d69 6e76 6974          "--invit
-00002650: 652d 6c61 6265 6c22 2c0a 2020 2020 2020  e-label",.      
-00002660: 2020 2020 2020 6465 7374 3d22 696e 7669        dest="invi
-00002670: 7465 5f6c 6162 656c 222c 0a20 2020 2020  te_label",.     
-00002680: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
-00002690: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-000026a0: 6176 6172 3d22 3c6c 6162 656c 3e22 2c0a  avar="<label>",.
-000026b0: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-000026c0: 7661 723d 2241 4341 5059 5f49 4e56 4954  var="ACAPY_INVIT
-000026d0: 455f 4c41 4245 4c22 2c0a 2020 2020 2020  E_LABEL",.      
-000026e0: 2020 2020 2020 6865 6c70 3d22 5370 6563        help="Spec
-000026f0: 6966 7920 7468 6520 6c61 6265 6c20 6f66  ify the label of
-00002700: 2074 6865 2067 656e 6572 6174 6564 2069   the generated i
-00002710: 6e76 6974 6174 696f 6e2e 222c 0a20 2020  nvitation.",.   
-00002720: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
-00002730: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
-00002740: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
-00002750: 222d 2d69 6e76 6974 652d 6d75 6c74 692d  "--invite-multi-
-00002760: 7573 6522 2c0a 2020 2020 2020 2020 2020  use",.          
-00002770: 2020 6163 7469 6f6e 3d22 7374 6f72 655f    action="store_
-00002780: 7472 7565 222c 0a20 2020 2020 2020 2020  true",.         
-00002790: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
-000027a0: 595f 494e 5649 5445 5f4d 554c 5449 5f55  Y_INVITE_MULTI_U
-000027b0: 5345 222c 0a20 2020 2020 2020 2020 2020  SE",.           
-000027c0: 2068 656c 703d 2246 6c61 6720 7370 6563   help="Flag spec
-000027d0: 6966 7969 6e67 2074 6865 2067 656e 6572  ifying the gener
-000027e0: 6174 6564 2069 6e76 6974 6520 7368 6f75  ated invite shou
-000027f0: 6c64 2062 6520 6d75 6c74 692d 7573 652e  ld be multi-use.
-00002800: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
-00002810: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-00002820: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-00002830: 2020 2020 2020 222d 2d69 6e76 6974 652d        "--invite-
-00002840: 7075 626c 6963 222c 0a20 2020 2020 2020  public",.       
-00002850: 2020 2020 2061 6374 696f 6e3d 2273 746f       action="sto
-00002860: 7265 5f74 7275 6522 2c0a 2020 2020 2020  re_true",.      
-00002870: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
-00002880: 4341 5059 5f49 4e56 4954 455f 5055 424c  CAPY_INVITE_PUBL
-00002890: 4943 222c 0a20 2020 2020 2020 2020 2020  IC",.           
-000028a0: 2068 656c 703d 2246 6c61 6720 7370 6563   help="Flag spec
-000028b0: 6966 7969 6e67 2074 6865 2067 656e 6572  ifying the gener
-000028c0: 6174 6564 2069 6e76 6974 6520 7368 6f75  ated invite shou
-000028d0: 6c64 2062 6520 7075 626c 6963 2e22 2c0a  ld be public.",.
-000028e0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-000028f0: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
-00002900: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
-00002910: 2020 2022 2d2d 696e 7669 7465 2d6d 6574     "--invite-met
-00002920: 6164 6174 612d 6a73 6f6e 222c 0a20 2020  adata-json",.   
-00002930: 2020 2020 2020 2020 2074 7970 653d 7374           type=st
-00002940: 722c 0a20 2020 2020 2020 2020 2020 206d  r,.            m
-00002950: 6574 6176 6172 3d22 3c6d 6574 6164 6174  etavar="<metadat
-00002960: 612d 6a73 6f6e 3e22 2c0a 2020 2020 2020  a-json>",.      
-00002970: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
-00002980: 4341 5059 5f49 4e56 4954 455f 4d45 5441  CAPY_INVITE_META
-00002990: 4441 5441 5f4a 534f 4e22 2c0a 2020 2020  DATA_JSON",.    
-000029a0: 2020 2020 2020 2020 6865 6c70 3d22 4164          help="Ad
-000029b0: 6420 6d65 7461 6461 7461 206a 736f 6e20  d metadata json 
-000029c0: 746f 2069 6e76 6974 6174 696f 6e20 6372  to invitation cr
-000029d0: 6561 7465 6420 7769 7468 202d 2d69 6e76  eated with --inv
-000029e0: 6974 6520 6172 6775 6d65 6e74 2e22 2c0a  ite argument.",.
-000029f0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00002a00: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
-00002a10: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
-00002a20: 2020 2022 2d2d 7465 7374 2d73 7569 7465     "--test-suite
-00002a30: 2d65 6e64 706f 696e 7422 2c0a 2020 2020  -endpoint",.    
-00002a40: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
-00002a50: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
-00002a60: 7461 7661 723d 223c 656e 6470 6f69 6e74  tavar="<endpoint
-00002a70: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
-00002a80: 656e 765f 7661 723d 2241 4341 5059 5f54  env_var="ACAPY_T
-00002a90: 4553 545f 5355 4954 455f 454e 4450 4f49  EST_SUITE_ENDPOI
-00002aa0: 4e54 222c 0a20 2020 2020 2020 2020 2020  NT",.           
-00002ab0: 2068 656c 703d 2255 524c 2065 6e64 706f   help="URL endpo
-00002ac0: 696e 7420 666f 7220 7365 6e64 696e 6720  int for sending 
-00002ad0: 6d65 7373 6167 6573 2074 6f20 7468 6520  messages to the 
-00002ae0: 7465 7374 2073 7569 7465 2061 6765 6e74  test suite agent
-00002af0: 2e22 2c0a 2020 2020 2020 2020 290a 2020  .",.        ).  
-00002b00: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
-00002b10: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
-00002b20: 2020 2020 2020 2022 2d2d 6175 746f 2d61         "--auto-a
-00002b30: 6363 6570 742d 696e 7669 7465 7322 2c0a  ccept-invites",.
-00002b40: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-00002b50: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-00002b60: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-00002b70: 5f76 6172 3d22 4143 4150 595f 4155 544f  _var="ACAPY_AUTO
-00002b80: 5f41 4343 4550 545f 494e 5649 5445 5322  _ACCEPT_INVITES"
-00002b90: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00002ba0: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-00002bb0: 2020 2020 2022 4175 746f 6d61 7469 6361       "Automatica
-00002bc0: 6c6c 7920 6163 6365 7074 2069 6e76 6974  lly accept invit
-00002bd0: 6573 2077 6974 686f 7574 2066 6972 696e  es without firin
-00002be0: 6720 6120 7765 6268 6f6f 6b20 6576 656e  g a webhook even
-00002bf0: 7420 6f72 2022 0a20 2020 2020 2020 2020  t or ".         
-00002c00: 2020 2020 2020 2022 7761 6974 696e 6720         "waiting 
-00002c10: 666f 7220 616e 2061 646d 696e 2072 6571  for an admin req
-00002c20: 7565 7374 2e20 4465 6661 756c 743a 2066  uest. Default: f
-00002c30: 616c 7365 2e22 0a20 2020 2020 2020 2020  alse.".         
-00002c40: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00002c50: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00002c60: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00002c70: 2020 2020 2020 2020 2022 2d2d 6175 746f           "--auto
-00002c80: 2d61 6363 6570 742d 7265 7175 6573 7473  -accept-requests
-00002c90: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-00002ca0: 6374 696f 6e3d 2273 746f 7265 5f74 7275  ction="store_tru
-00002cb0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00002cc0: 656e 765f 7661 723d 2241 4341 5059 5f41  env_var="ACAPY_A
-00002cd0: 5554 4f5f 4143 4345 5054 5f52 4551 5545  UTO_ACCEPT_REQUE
-00002ce0: 5354 5322 2c0a 2020 2020 2020 2020 2020  STS",.          
-00002cf0: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
-00002d00: 2020 2020 2020 2020 2022 4175 746f 6d61           "Automa
-00002d10: 7469 6361 6c6c 7920 6163 6365 7074 2063  tically accept c
-00002d20: 6f6e 6e65 6374 696f 6e20 7265 7175 6573  onnection reques
-00002d30: 7473 2077 6974 686f 7574 2066 6972 696e  ts without firin
-00002d40: 6720 220a 2020 2020 2020 2020 2020 2020  g ".            
-00002d50: 2020 2020 2261 2077 6562 686f 6f6b 2065      "a webhook e
-00002d60: 7665 6e74 206f 7220 7761 6974 696e 6720  vent or waiting 
-00002d70: 666f 7220 616e 2061 646d 696e 2072 6571  for an admin req
-00002d80: 7565 7374 2e20 4465 6661 756c 743a 2066  uest. Default: f
-00002d90: 616c 7365 2e22 0a20 2020 2020 2020 2020  alse.".         
-00002da0: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00002db0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00002dc0: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00002dd0: 2020 2020 2020 2020 2022 2d2d 6175 746f           "--auto
-00002de0: 2d72 6573 706f 6e64 2d6d 6573 7361 6765  -respond-message
-00002df0: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
-00002e00: 6163 7469 6f6e 3d22 7374 6f72 655f 7472  action="store_tr
-00002e10: 7565 222c 0a20 2020 2020 2020 2020 2020  ue",.           
-00002e20: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-00002e30: 4155 544f 5f52 4553 504f 4e44 5f4d 4553  AUTO_RESPOND_MES
-00002e40: 5341 4745 5322 2c0a 2020 2020 2020 2020  SAGES",.        
-00002e50: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
-00002e60: 2020 2020 2020 2020 2020 2022 4175 746f             "Auto
-00002e70: 6d61 7469 6361 6c6c 7920 7265 7370 6f6e  matically respon
-00002e80: 6420 746f 2062 6173 6963 206d 6573 7361  d to basic messa
-00002e90: 6765 7320 696e 6469 6361 7469 6e67 2074  ges indicating t
-00002ea0: 6865 206d 6573 7361 6765 2077 6173 2022  he message was "
-00002eb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00002ec0: 2022 7265 6365 6976 6564 2e20 4465 6661   "received. Defa
-00002ed0: 756c 743a 2066 616c 7365 2e22 0a20 2020  ult: false.".   
-00002ee0: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
-00002ef0: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
-00002f00: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
-00002f10: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
-00002f20: 2d2d 6175 746f 2d72 6573 706f 6e64 2d63  --auto-respond-c
-00002f30: 7265 6465 6e74 6961 6c2d 7072 6f70 6f73  redential-propos
-00002f40: 616c 222c 0a20 2020 2020 2020 2020 2020  al",.           
-00002f50: 2061 6374 696f 6e3d 2273 746f 7265 5f74   action="store_t
-00002f60: 7275 6522 2c0a 2020 2020 2020 2020 2020  rue",.          
-00002f70: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-00002f80: 5f41 5554 4f5f 5245 5350 4f4e 445f 4352  _AUTO_RESPOND_CR
-00002f90: 4544 454e 5449 414c 5f50 524f 504f 5341  EDENTIAL_PROPOSA
-00002fa0: 4c22 2c0a 2020 2020 2020 2020 2020 2020  L",.            
-00002fb0: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
-00002fc0: 2020 2020 2020 2022 4175 746f 2d72 6573         "Auto-res
-00002fd0: 706f 6e64 2074 6f20 6372 6564 656e 7469  pond to credenti
-00002fe0: 616c 2070 726f 706f 7361 6c73 2077 6974  al proposals wit
-00002ff0: 6820 636f 7272 6573 706f 6e64 696e 6720  h corresponding 
-00003000: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00003010: 2020 2263 7265 6465 6e74 6961 6c20 6f66    "credential of
-00003020: 6665 7273 220a 2020 2020 2020 2020 2020  fers".          
-00003030: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
-00003040: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-00003050: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-00003060: 2020 2020 2020 2020 222d 2d61 7574 6f2d          "--auto-
-00003070: 7265 7370 6f6e 642d 6372 6564 656e 7469  respond-credenti
-00003080: 616c 2d6f 6666 6572 222c 0a20 2020 2020  al-offer",.     
-00003090: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
-000030a0: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
-000030b0: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
-000030c0: 2241 4341 5059 5f41 5554 4f5f 5245 5350  "ACAPY_AUTO_RESP
-000030d0: 4f4e 445f 4352 4544 454e 5449 414c 5f4f  OND_CREDENTIAL_O
-000030e0: 4646 4552 222c 0a20 2020 2020 2020 2020  FFER",.         
-000030f0: 2020 2068 656c 703d 280a 2020 2020 2020     help=(.      
-00003100: 2020 2020 2020 2020 2020 2241 7574 6f6d            "Autom
-00003110: 6174 6963 616c 6c79 2072 6573 706f 6e64  atically respond
-00003120: 2074 6f20 496e 6479 2063 7265 6465 6e74   to Indy credent
-00003130: 6961 6c20 6f66 6665 7273 2077 6974 6820  ial offers with 
-00003140: 6120 6372 6564 656e 7469 616c 2022 0a20  a credential ". 
-00003150: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00003160: 7265 7175 6573 742e 2044 6566 6175 6c74  request. Default
-00003170: 3a20 6661 6c73 6522 0a20 2020 2020 2020  : false".       
-00003180: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-00003190: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-000031a0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-000031b0: 2020 2020 2020 2020 2020 2022 2d2d 6175             "--au
-000031c0: 746f 2d72 6573 706f 6e64 2d63 7265 6465  to-respond-crede
-000031d0: 6e74 6961 6c2d 7265 7175 6573 7422 2c0a  ntial-request",.
-000031e0: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-000031f0: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-00003200: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-00003210: 5f76 6172 3d22 4143 4150 595f 4155 544f  _var="ACAPY_AUTO
-00003220: 5f52 4553 504f 4e44 5f43 5245 4445 4e54  _RESPOND_CREDENT
-00003230: 4941 4c5f 5245 5155 4553 5422 2c0a 2020  IAL_REQUEST",.  
-00003240: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
-00003250: 4175 746f 2d72 6573 706f 6e64 2074 6f20  Auto-respond to 
-00003260: 6372 6564 656e 7469 616c 2072 6571 7565  credential reque
-00003270: 7374 7320 7769 7468 2063 6f72 7265 7370  sts with corresp
-00003280: 6f6e 6469 6e67 2063 7265 6465 6e74 6961  onding credentia
-00003290: 6c73 222c 0a20 2020 2020 2020 2029 0a20  ls",.        ). 
-000032a0: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-000032b0: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-000032c0: 2020 2020 2020 2020 222d 2d61 7574 6f2d          "--auto-
-000032d0: 7265 7370 6f6e 642d 7072 6573 656e 7461  respond-presenta
-000032e0: 7469 6f6e 2d70 726f 706f 7361 6c22 2c0a  tion-proposal",.
-000032f0: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-00003300: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-00003310: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-00003320: 5f76 6172 3d22 4143 4150 595f 4155 544f  _var="ACAPY_AUTO
-00003330: 5f52 4553 504f 4e44 5f50 5245 5345 4e54  _RESPOND_PRESENT
-00003340: 4154 494f 4e5f 5052 4f50 4f53 414c 222c  ATION_PROPOSAL",
-00003350: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
-00003360: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
-00003370: 2020 2020 2241 7574 6f2d 7265 7370 6f6e      "Auto-respon
-00003380: 6420 746f 2070 7265 7365 6e74 6174 696f  d to presentatio
-00003390: 6e20 7072 6f70 6f73 616c 7320 7769 7468  n proposals with
-000033a0: 2063 6f72 7265 7370 6f6e 6469 6e67 2022   corresponding "
-000033b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000033c0: 2022 7072 6573 656e 7461 7469 6f6e 2072   "presentation r
-000033d0: 6571 7565 7374 7322 0a20 2020 2020 2020  equests".       
-000033e0: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-000033f0: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-00003400: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00003410: 2020 2020 2020 2020 2020 2022 2d2d 6175             "--au
-00003420: 746f 2d72 6573 706f 6e64 2d70 7265 7365  to-respond-prese
-00003430: 6e74 6174 696f 6e2d 7265 7175 6573 7422  ntation-request"
-00003440: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
-00003450: 7469 6f6e 3d22 7374 6f72 655f 7472 7565  tion="store_true
-00003460: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
-00003470: 6e76 5f76 6172 3d22 4143 4150 595f 4155  nv_var="ACAPY_AU
-00003480: 544f 5f52 4553 504f 4e44 5f50 5245 5345  TO_RESPOND_PRESE
-00003490: 4e54 4154 494f 4e5f 5245 5155 4553 5422  NTATION_REQUEST"
-000034a0: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-000034b0: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-000034c0: 2020 2020 2022 4175 746f 6d61 7469 6361       "Automatica
-000034d0: 6c6c 7920 7265 7370 6f6e 6420 746f 2049  lly respond to I
-000034e0: 6e64 7920 7072 6573 656e 7461 7469 6f6e  ndy presentation
-000034f0: 2072 6571 7565 7374 7320 7769 7468 2061   requests with a
-00003500: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00003510: 2020 2022 636f 6e73 7472 7563 7465 6420     "constructed 
-00003520: 7072 6573 656e 7461 7469 6f6e 2069 6620  presentation if 
-00003530: 6120 636f 7272 6573 706f 6e64 696e 6720  a corresponding 
-00003540: 6372 6564 656e 7469 616c 2063 616e 2062  credential can b
-00003550: 6520 220a 2020 2020 2020 2020 2020 2020  e ".            
-00003560: 2020 2020 2272 6574 7269 6576 6564 2066      "retrieved f
-00003570: 6f72 2065 7665 7279 2072 6566 6572 656e  or every referen
-00003580: 7420 696e 2074 6865 2070 7265 7365 6e74  t in the present
-00003590: 6174 696f 6e20 7265 7175 6573 742e 2022  ation request. "
-000035a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000035b0: 2022 4465 6661 756c 743a 2066 616c 7365   "Default: false
-000035c0: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
-000035d0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-000035e0: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
-000035f0: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
-00003600: 2020 2020 2022 2d2d 6175 746f 2d73 746f       "--auto-sto
-00003610: 7265 2d63 7265 6465 6e74 6961 6c22 2c0a  re-credential",.
-00003620: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-00003630: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-00003640: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-00003650: 5f76 6172 3d22 4143 4150 595f 4155 544f  _var="ACAPY_AUTO
-00003660: 5f53 544f 5245 5f43 5245 4445 4e54 4941  _STORE_CREDENTIA
-00003670: 4c22 2c0a 2020 2020 2020 2020 2020 2020  L",.            
-00003680: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
-00003690: 2020 2020 2020 2022 4175 746f 6d61 7469         "Automati
-000036a0: 6361 6c6c 7920 7374 6f72 6520 616e 2069  cally store an i
-000036b0: 7373 7565 6420 6372 6564 656e 7469 616c  ssued credential
-000036c0: 2075 706f 6e20 7265 6365 6970 742e 2022   upon receipt. "
-000036d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000036e0: 2022 4465 6661 756c 743a 2066 616c 7365   "Default: false
-000036f0: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
-00003700: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00003710: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
-00003720: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
-00003730: 2020 2020 2022 2d2d 6175 746f 2d76 6572       "--auto-ver
-00003740: 6966 792d 7072 6573 656e 7461 7469 6f6e  ify-presentation
-00003750: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-00003760: 6374 696f 6e3d 2273 746f 7265 5f74 7275  ction="store_tru
-00003770: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00003780: 656e 765f 7661 723d 2241 4341 5059 5f41  env_var="ACAPY_A
-00003790: 5554 4f5f 5645 5249 4659 5f50 5245 5345  UTO_VERIFY_PRESE
-000037a0: 4e54 4154 494f 4e22 2c0a 2020 2020 2020  NTATION",.      
-000037b0: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
-000037c0: 2020 2020 2020 2020 2020 2020 2022 4175               "Au
-000037d0: 746f 6d61 7469 6361 6c6c 7920 7665 7269  tomatically veri
-000037e0: 6679 2061 2070 7265 7365 6e74 6174 696f  fy a presentatio
-000037f0: 6e20 7768 656e 2069 7420 6973 2072 6563  n when it is rec
-00003800: 6569 7665 642e 2022 0a20 2020 2020 2020  eived. ".       
-00003810: 2020 2020 2020 2020 2022 4465 6661 756c           "Defaul
-00003820: 743a 2066 616c 7365 2e22 0a20 2020 2020  t: false.".     
-00003830: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
-00003840: 2020 290a 0a20 2020 2064 6566 2067 6574    )..    def get
-00003850: 5f73 6574 7469 6e67 7328 7365 6c66 2c20  _settings(self, 
-00003860: 6172 6773 3a20 4e61 6d65 7370 6163 6529  args: Namespace)
-00003870: 202d 3e20 6469 6374 3a0a 2020 2020 2020   -> dict:.      
-00003880: 2020 2222 2245 7874 7261 6374 2064 6562    """Extract deb
-00003890: 7567 2073 6574 7469 6e67 732e 2222 220a  ug settings.""".
-000038a0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-000038b0: 203d 207b 7d0a 2020 2020 2020 2020 6966   = {}.        if
-000038c0: 2061 7267 732e 6465 6275 673a 0a20 2020   args.debug:.   
-000038d0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-000038e0: 735b 2264 6562 7567 2e65 6e61 626c 6564  s["debug.enabled
-000038f0: 225d 203d 2054 7275 650a 2020 2020 2020  "] = True.      
-00003900: 2020 6966 2061 7267 732e 6465 6275 675f    if args.debug_
-00003910: 636f 6e6e 6563 7469 6f6e 733a 0a20 2020  connections:.   
-00003920: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00003930: 735b 2264 6562 7567 2e63 6f6e 6e65 6374  s["debug.connect
-00003940: 696f 6e73 225d 203d 2054 7275 650a 2020  ions"] = True.  
-00003950: 2020 2020 2020 6966 2061 7267 732e 6465        if args.de
-00003960: 6275 675f 6372 6564 656e 7469 616c 733a  bug_credentials:
-00003970: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
-00003980: 7469 6e67 735b 2264 6562 7567 2e63 7265  tings["debug.cre
-00003990: 6465 6e74 6961 6c73 225d 203d 2054 7275  dentials"] = Tru
-000039a0: 650a 2020 2020 2020 2020 6966 2061 7267  e.        if arg
-000039b0: 732e 6465 6275 675f 7072 6573 656e 7461  s.debug_presenta
-000039c0: 7469 6f6e 733a 0a20 2020 2020 2020 2020  tions:.         
-000039d0: 2020 2073 6574 7469 6e67 735b 2264 6562     settings["deb
-000039e0: 7567 2e70 7265 7365 6e74 6174 696f 6e73  ug.presentations
-000039f0: 225d 203d 2054 7275 650a 2020 2020 2020  "] = True.      
-00003a00: 2020 6966 2061 7267 732e 6465 6275 675f    if args.debug_
-00003a10: 7365 6564 3a0a 2020 2020 2020 2020 2020  seed:.          
-00003a20: 2020 7365 7474 696e 6773 5b22 6465 6275    settings["debu
-00003a30: 672e 7365 6564 225d 203d 2061 7267 732e  g.seed"] = args.
-00003a40: 6465 6275 675f 7365 6564 0a20 2020 2020  debug_seed.     
-00003a50: 2020 2069 6620 6172 6773 2e69 6e76 6974     if args.invit
-00003a60: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00003a70: 6574 7469 6e67 735b 2264 6562 7567 2e70  ettings["debug.p
-00003a80: 7269 6e74 5f69 6e76 6974 6174 696f 6e22  rint_invitation"
-00003a90: 5d20 3d20 5472 7565 0a20 2020 2020 2020  ] = True.       
-00003aa0: 2069 6620 6172 6773 2e63 6f6e 6e65 6374   if args.connect
-00003ab0: 696f 6e73 5f69 6e76 6974 653a 0a20 2020  ions_invite:.   
-00003ac0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00003ad0: 735b 2264 6562 7567 2e70 7269 6e74 5f63  s["debug.print_c
-00003ae0: 6f6e 6e65 6374 696f 6e73 5f69 6e76 6974  onnections_invit
-00003af0: 6174 696f 6e22 5d20 3d20 5472 7565 0a20  ation"] = True. 
-00003b00: 2020 2020 2020 2069 6620 6172 6773 2e69         if args.i
-00003b10: 6e76 6974 655f 6c61 6265 6c3a 0a20 2020  nvite_label:.   
-00003b20: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00003b30: 735b 2264 6562 7567 2e69 6e76 6974 655f  s["debug.invite_
-00003b40: 6c61 6265 6c22 5d20 3d20 6172 6773 2e69  label"] = args.i
-00003b50: 6e76 6974 655f 6c61 6265 6c0a 2020 2020  nvite_label.    
-00003b60: 2020 2020 6966 2061 7267 732e 696e 7669      if args.invi
-00003b70: 7465 5f6d 756c 7469 5f75 7365 3a0a 2020  te_multi_use:.  
-00003b80: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-00003b90: 6773 5b22 6465 6275 672e 696e 7669 7465  gs["debug.invite
-00003ba0: 5f6d 756c 7469 5f75 7365 225d 203d 2054  _multi_use"] = T
-00003bb0: 7275 650a 2020 2020 2020 2020 6966 2061  rue.        if a
-00003bc0: 7267 732e 696e 7669 7465 5f70 7562 6c69  rgs.invite_publi
-00003bd0: 633a 0a20 2020 2020 2020 2020 2020 2073  c:.            s
-00003be0: 6574 7469 6e67 735b 2264 6562 7567 2e69  ettings["debug.i
-00003bf0: 6e76 6974 655f 7075 626c 6963 225d 203d  nvite_public"] =
-00003c00: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
-00003c10: 2061 7267 732e 696e 7669 7465 5f6d 6574   args.invite_met
-00003c20: 6164 6174 615f 6a73 6f6e 3a0a 2020 2020  adata_json:.    
-00003c30: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-00003c40: 5b22 6465 6275 672e 696e 7669 7465 5f6d  ["debug.invite_m
-00003c50: 6574 6164 6174 615f 6a73 6f6e 225d 203d  etadata_json"] =
-00003c60: 2061 7267 732e 696e 7669 7465 5f6d 6574   args.invite_met
-00003c70: 6164 6174 615f 6a73 6f6e 0a20 2020 2020  adata_json.     
-00003c80: 2020 2069 6620 6172 6773 2e74 6573 745f     if args.test_
-00003c90: 7375 6974 655f 656e 6470 6f69 6e74 3a0a  suite_endpoint:.
-00003ca0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00003cb0: 696e 6773 5b22 6465 6275 672e 7465 7374  ings["debug.test
-00003cc0: 5f73 7569 7465 5f65 6e64 706f 696e 7422  _suite_endpoint"
-00003cd0: 5d20 3d20 6172 6773 2e74 6573 745f 7375  ] = args.test_su
-00003ce0: 6974 655f 656e 6470 6f69 6e74 0a0a 2020  ite_endpoint..  
-00003cf0: 2020 2020 2020 6966 2061 7267 732e 6175        if args.au
-00003d00: 746f 5f72 6573 706f 6e64 5f63 7265 6465  to_respond_crede
-00003d10: 6e74 6961 6c5f 7072 6f70 6f73 616c 3a0a  ntial_proposal:.
-00003d20: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00003d30: 696e 6773 5b22 6465 6275 672e 6175 746f  ings["debug.auto
-00003d40: 5f72 6573 706f 6e64 5f63 7265 6465 6e74  _respond_credent
-00003d50: 6961 6c5f 7072 6f70 6f73 616c 225d 203d  ial_proposal"] =
-00003d60: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
-00003d70: 2061 7267 732e 6175 746f 5f72 6573 706f   args.auto_respo
-00003d80: 6e64 5f63 7265 6465 6e74 6961 6c5f 6f66  nd_credential_of
-00003d90: 6665 723a 0a20 2020 2020 2020 2020 2020  fer:.           
-00003da0: 2073 6574 7469 6e67 735b 2264 6562 7567   settings["debug
-00003db0: 2e61 7574 6f5f 7265 7370 6f6e 645f 6372  .auto_respond_cr
-00003dc0: 6564 656e 7469 616c 5f6f 6666 6572 225d  edential_offer"]
-00003dd0: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-00003de0: 6966 2061 7267 732e 6175 746f 5f72 6573  if args.auto_res
-00003df0: 706f 6e64 5f63 7265 6465 6e74 6961 6c5f  pond_credential_
-00003e00: 7265 7175 6573 743a 0a20 2020 2020 2020  request:.       
-00003e10: 2020 2020 2073 6574 7469 6e67 735b 2264       settings["d
-00003e20: 6562 7567 2e61 7574 6f5f 7265 7370 6f6e  ebug.auto_respon
-00003e30: 645f 6372 6564 656e 7469 616c 5f72 6571  d_credential_req
-00003e40: 7565 7374 225d 203d 2054 7275 650a 2020  uest"] = True.  
-00003e50: 2020 2020 2020 6966 2061 7267 732e 6175        if args.au
-00003e60: 746f 5f72 6573 706f 6e64 5f70 7265 7365  to_respond_prese
-00003e70: 6e74 6174 696f 6e5f 7072 6f70 6f73 616c  ntation_proposal
-00003e80: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00003e90: 7474 696e 6773 5b22 6465 6275 672e 6175  ttings["debug.au
-00003ea0: 746f 5f72 6573 706f 6e64 5f70 7265 7365  to_respond_prese
-00003eb0: 6e74 6174 696f 6e5f 7072 6f70 6f73 616c  ntation_proposal
-00003ec0: 225d 203d 2054 7275 650a 2020 2020 2020  "] = True.      
-00003ed0: 2020 6966 2061 7267 732e 6175 746f 5f72    if args.auto_r
-00003ee0: 6573 706f 6e64 5f70 7265 7365 6e74 6174  espond_presentat
-00003ef0: 696f 6e5f 7265 7175 6573 743a 0a20 2020  ion_request:.   
-00003f00: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00003f10: 735b 2264 6562 7567 2e61 7574 6f5f 7265  s["debug.auto_re
-00003f20: 7370 6f6e 645f 7072 6573 656e 7461 7469  spond_presentati
-00003f30: 6f6e 5f72 6571 7565 7374 225d 203d 2054  on_request"] = T
-00003f40: 7275 650a 2020 2020 2020 2020 6966 2061  rue.        if a
-00003f50: 7267 732e 6175 746f 5f73 746f 7265 5f63  rgs.auto_store_c
-00003f60: 7265 6465 6e74 6961 6c3a 0a20 2020 2020  redential:.     
-00003f70: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
-00003f80: 2264 6562 7567 2e61 7574 6f5f 7374 6f72  "debug.auto_stor
-00003f90: 655f 6372 6564 656e 7469 616c 225d 203d  e_credential"] =
-00003fa0: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
-00003fb0: 2061 7267 732e 6175 746f 5f76 6572 6966   args.auto_verif
-00003fc0: 795f 7072 6573 656e 7461 7469 6f6e 3a0a  y_presentation:.
-00003fd0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00003fe0: 696e 6773 5b22 6465 6275 672e 6175 746f  ings["debug.auto
-00003ff0: 5f76 6572 6966 795f 7072 6573 656e 7461  _verify_presenta
-00004000: 7469 6f6e 225d 203d 2054 7275 650a 2020  tion"] = True.  
-00004010: 2020 2020 2020 6966 2061 7267 732e 6175        if args.au
-00004020: 746f 5f61 6363 6570 745f 696e 7669 7465  to_accept_invite
-00004030: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00004040: 6574 7469 6e67 735b 2264 6562 7567 2e61  ettings["debug.a
-00004050: 7574 6f5f 6163 6365 7074 5f69 6e76 6974  uto_accept_invit
-00004060: 6573 225d 203d 2054 7275 650a 2020 2020  es"] = True.    
-00004070: 2020 2020 6966 2061 7267 732e 6175 746f      if args.auto
-00004080: 5f61 6363 6570 745f 7265 7175 6573 7473  _accept_requests
-00004090: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-000040a0: 7474 696e 6773 5b22 6465 6275 672e 6175  ttings["debug.au
-000040b0: 746f 5f61 6363 6570 745f 7265 7175 6573  to_accept_reques
-000040c0: 7473 225d 203d 2054 7275 650a 2020 2020  ts"] = True.    
-000040d0: 2020 2020 6966 2061 7267 732e 6175 746f      if args.auto
-000040e0: 5f72 6573 706f 6e64 5f6d 6573 7361 6765  _respond_message
-000040f0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00004100: 6574 7469 6e67 735b 2264 6562 7567 2e61  ettings["debug.a
-00004110: 7574 6f5f 7265 7370 6f6e 645f 6d65 7373  uto_respond_mess
-00004120: 6167 6573 225d 203d 2054 7275 650a 2020  ages"] = True.  
-00004130: 2020 2020 2020 7265 7475 726e 2073 6574        return set
-00004140: 7469 6e67 730a 0a0a 4067 726f 7570 2843  tings...@group(C
-00004150: 4154 5f53 5441 5254 290a 636c 6173 7320  AT_START).class 
-00004160: 4469 7363 6f76 6572 4665 6174 7572 6573  DiscoverFeatures
-00004170: 4772 6f75 7028 4172 6775 6d65 6e74 4772  Group(ArgumentGr
-00004180: 6f75 7029 3a0a 2020 2020 2222 2244 6973  oup):.    """Dis
-00004190: 636f 7665 7220 4665 6174 7572 6573 2073  cover Features s
-000041a0: 6574 7469 6e67 732e 2222 220a 0a20 2020  ettings."""..   
-000041b0: 2047 524f 5550 5f4e 414d 4520 3d20 2244   GROUP_NAME = "D
-000041c0: 6973 636f 7665 7220 6665 6174 7572 6573  iscover features
-000041d0: 220a 0a20 2020 2064 6566 2061 6464 5f61  "..    def add_a
-000041e0: 7267 756d 656e 7473 2873 656c 662c 2070  rguments(self, p
-000041f0: 6172 7365 723a 2041 7267 756d 656e 7450  arser: ArgumentP
-00004200: 6172 7365 7229 3a0a 2020 2020 2020 2020  arser):.        
-00004210: 2222 2241 6464 2064 6973 636f 7665 7220  """Add discover 
-00004220: 6665 6174 7572 6573 2073 7065 6369 6669  features specifi
-00004230: 6320 636f 6d6d 616e 6420 6c69 6e65 2061  c command line a
-00004240: 7267 756d 656e 7473 2074 6f20 7468 6520  rguments to the 
-00004250: 7061 7273 6572 2e22 2222 0a20 2020 2020  parser.""".     
-00004260: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
-00004270: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
-00004280: 2020 2020 222d 2d61 7574 6f2d 6469 7363      "--auto-disc
-00004290: 6c6f 7365 2d66 6561 7475 7265 7322 2c0a  lose-features",.
-000042a0: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-000042b0: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-000042c0: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-000042d0: 5f76 6172 3d22 4143 4150 595f 4155 544f  _var="ACAPY_AUTO
-000042e0: 5f44 4953 434c 4f53 455f 4645 4154 5552  _DISCLOSE_FEATUR
-000042f0: 4553 222c 0a20 2020 2020 2020 2020 2020  ES",.           
-00004300: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
-00004310: 2020 2020 2020 2020 2253 7065 6369 6669          "Specifi
-00004320: 6573 2074 6861 7420 7468 6520 6167 656e  es that the agen
-00004330: 7420 7769 6c6c 2070 726f 6163 7469 7665  t will proactive
-00004340: 6c79 2f61 7574 6f20 6469 7363 6c6f 7365  ly/auto disclose
-00004350: 2070 726f 746f 636f 6c73 220a 2020 2020   protocols".    
-00004360: 2020 2020 2020 2020 2020 2020 2220 616e              " an
-00004370: 6420 676f 616c 2d63 6f64 6573 2066 6561  d goal-codes fea
-00004380: 7475 7265 7320 6f6e 2063 6f6e 6e65 6374  tures on connect
-00004390: 696f 6e20 6372 6561 7469 6f6e 205b 5246  ion creation [RF
-000043a0: 4330 3535 375d 2e22 0a20 2020 2020 2020  C0557].".       
-000043b0: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-000043c0: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-000043d0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-000043e0: 2020 2020 2020 2020 2020 2022 2d2d 6469             "--di
-000043f0: 7363 6c6f 7365 2d66 6561 7475 7265 732d  sclose-features-
-00004400: 6c69 7374 222c 0a20 2020 2020 2020 2020  list",.         
-00004410: 2020 2074 7970 653d 7374 722c 0a20 2020     type=str,.   
-00004420: 2020 2020 2020 2020 2064 6573 743d 2264           dest="d
-00004430: 6973 636c 6f73 655f 6665 6174 7572 6573  isclose_features
-00004440: 5f6c 6973 7422 2c0a 2020 2020 2020 2020  _list",.        
-00004450: 2020 2020 7265 7175 6972 6564 3d46 616c      required=Fal
-00004460: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
-00004470: 656e 765f 7661 723d 2241 4341 5059 5f44  env_var="ACAPY_D
-00004480: 4953 434c 4f53 455f 4645 4154 5552 4553  ISCLOSE_FEATURES
-00004490: 5f4c 4953 5422 2c0a 2020 2020 2020 2020  _LIST",.        
-000044a0: 2020 2020 6865 6c70 3d22 4c6f 6164 2059      help="Load Y
-000044b0: 414d 4c20 6669 6c65 2070 6174 6820 7468  AML file path th
-000044c0: 6174 2073 7065 6369 6669 6573 2077 6869  at specifies whi
-000044d0: 6368 2066 6561 7475 7265 7320 746f 2064  ch features to d
-000044e0: 6973 636c 6f73 652e 222c 0a20 2020 2020  isclose.",.     
-000044f0: 2020 2029 0a0a 2020 2020 6465 6620 6765     )..    def ge
-00004500: 745f 7365 7474 696e 6773 2873 656c 662c  t_settings(self,
-00004510: 2061 7267 733a 204e 616d 6573 7061 6365   args: Namespace
-00004520: 2920 2d3e 2064 6963 743a 0a20 2020 2020  ) -> dict:.     
-00004530: 2020 2022 2222 4578 7472 6163 7420 6469     """Extract di
-00004540: 7363 6f76 6572 2066 6561 7475 7265 7320  scover features 
-00004550: 7365 7474 696e 6773 2e22 2222 0a20 2020  settings.""".   
-00004560: 2020 2020 2073 6574 7469 6e67 7320 3d20       settings = 
-00004570: 7b7d 0a20 2020 2020 2020 2069 6620 6172  {}.        if ar
-00004580: 6773 2e61 7574 6f5f 6469 7363 6c6f 7365  gs.auto_disclose
-00004590: 5f66 6561 7475 7265 733a 0a20 2020 2020  _features:.     
-000045a0: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
-000045b0: 2261 7574 6f5f 6469 7363 6c6f 7365 5f66  "auto_disclose_f
-000045c0: 6561 7475 7265 7322 5d20 3d20 5472 7565  eatures"] = True
-000045d0: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
-000045e0: 2e64 6973 636c 6f73 655f 6665 6174 7572  .disclose_featur
-000045f0: 6573 5f6c 6973 743a 0a20 2020 2020 2020  es_list:.       
-00004600: 2020 2020 2077 6974 6820 6f70 656e 2861       with open(a
-00004610: 7267 732e 6469 7363 6c6f 7365 5f66 6561  rgs.disclose_fea
-00004620: 7475 7265 735f 6c69 7374 2c20 2272 2229  tures_list, "r")
-00004630: 2061 7320 7374 7265 616d 3a0a 2020 2020   as stream:.    
-00004640: 2020 2020 2020 2020 2020 2020 7072 6f76              prov
-00004650: 6964 6564 5f6c 6973 7473 203d 2079 616d  ided_lists = yam
-00004660: 6c2e 7361 6665 5f6c 6f61 6428 7374 7265  l.safe_load(stre
-00004670: 616d 290a 2020 2020 2020 2020 2020 2020  am).            
-00004680: 2020 2020 6966 2022 7072 6f74 6f63 6f6c      if "protocol
-00004690: 7322 2069 6e20 7072 6f76 6964 6564 5f6c  s" in provided_l
-000046a0: 6973 7473 3a0a 2020 2020 2020 2020 2020  ists:.          
-000046b0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-000046c0: 6773 5b22 6469 7363 6c6f 7365 5f70 726f  gs["disclose_pro
-000046d0: 746f 636f 6c5f 6c69 7374 225d 203d 2070  tocol_list"] = p
-000046e0: 726f 7669 6465 645f 6c69 7374 732e 6765  rovided_lists.ge
-000046f0: 7428 2270 726f 746f 636f 6c73 2229 0a20  t("protocols"). 
-00004700: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00004710: 6620 2267 6f61 6c2d 636f 6465 7322 2069  f "goal-codes" i
-00004720: 6e20 7072 6f76 6964 6564 5f6c 6973 7473  n provided_lists
-00004730: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00004740: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
-00004750: 6469 7363 6c6f 7365 5f67 6f61 6c5f 636f  disclose_goal_co
-00004760: 6465 5f6c 6973 7422 5d20 3d20 7072 6f76  de_list"] = prov
-00004770: 6964 6564 5f6c 6973 7473 2e67 6574 280a  ided_lists.get(.
-00004780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004790: 2020 2020 2020 2020 2267 6f61 6c2d 636f          "goal-co
-000047a0: 6465 7322 0a20 2020 2020 2020 2020 2020  des".           
-000047b0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-000047c0: 2020 2072 6574 7572 6e20 7365 7474 696e     return settin
-000047d0: 6773 0a0a 0a40 6772 6f75 7028 4341 545f  gs...@group(CAT_
-000047e0: 5052 4f56 4953 494f 4e2c 2043 4154 5f53  PROVISION, CAT_S
-000047f0: 5441 5254 290a 636c 6173 7320 4765 6e65  TART).class Gene
-00004800: 7261 6c47 726f 7570 2841 7267 756d 656e  ralGroup(Argumen
-00004810: 7447 726f 7570 293a 0a20 2020 2022 2222  tGroup):.    """
-00004820: 4765 6e65 7261 6c20 7365 7474 696e 6773  General settings
-00004830: 2e22 2222 0a0a 2020 2020 4752 4f55 505f  ."""..    GROUP_
-00004840: 4e41 4d45 203d 2022 4765 6e65 7261 6c22  NAME = "General"
-00004850: 0a0a 2020 2020 6465 6620 6164 645f 6172  ..    def add_ar
-00004860: 6775 6d65 6e74 7328 7365 6c66 2c20 7061  guments(self, pa
-00004870: 7273 6572 3a20 4172 6775 6d65 6e74 5061  rser: ArgumentPa
-00004880: 7273 6572 293a 0a20 2020 2020 2020 2022  rser):.        "
-00004890: 2222 4164 6420 6765 6e65 7261 6c20 636f  ""Add general co
-000048a0: 6d6d 616e 6420 6c69 6e65 2061 7267 756d  mmand line argum
-000048b0: 656e 7473 2074 6f20 7468 6520 7061 7273  ents to the pars
-000048c0: 6572 2e22 2222 0a20 2020 2020 2020 2070  er.""".        p
-000048d0: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
-000048e0: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
-000048f0: 222d 2d61 7267 2d66 696c 6522 2c0a 2020  "--arg-file",.  
-00004900: 2020 2020 2020 2020 2020 6973 5f63 6f6e            is_con
-00004910: 6669 675f 6669 6c65 3d54 7275 652c 0a20  fig_file=True,. 
-00004920: 2020 2020 2020 2020 2020 2068 656c 703d             help=
-00004930: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00004940: 2020 224c 6f61 6420 6163 612d 7079 2061    "Load aca-py a
-00004950: 7267 756d 656e 7473 2066 726f 6d20 7468  rguments from th
-00004960: 6520 7370 6563 6966 6965 6420 6669 6c65  e specified file
-00004970: 2e20 204e 6f74 6520 7468 6174 2022 0a20  .  Note that ". 
-00004980: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00004990: 7468 6973 2066 696c 6520 2a6d 7573 742a  this file *must*
-000049a0: 2062 6520 696e 2059 414d 4c20 666f 726d   be in YAML form
-000049b0: 6174 2e22 0a20 2020 2020 2020 2020 2020  at.".           
-000049c0: 2029 2c0a 2020 2020 2020 2020 290a 2020   ),.        ).  
-000049d0: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
-000049e0: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
-000049f0: 2020 2020 2020 2022 2d2d 706c 7567 696e         "--plugin
-00004a00: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-00004a10: 6573 743d 2265 7874 6572 6e61 6c5f 706c  est="external_pl
-00004a20: 7567 696e 7322 2c0a 2020 2020 2020 2020  ugins",.        
-00004a30: 2020 2020 7479 7065 3d73 7472 2c0a 2020      type=str,.  
-00004a40: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
-00004a50: 3d22 6170 7065 6e64 222c 0a20 2020 2020  ="append",.     
-00004a60: 2020 2020 2020 2072 6571 7569 7265 643d         required=
-00004a70: 4661 6c73 652c 0a20 2020 2020 2020 2020  False,.         
-00004a80: 2020 206d 6574 6176 6172 3d22 3c6d 6f64     metavar="<mod
-00004a90: 756c 653e 222c 0a20 2020 2020 2020 2020  ule>",.         
-00004aa0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
-00004ab0: 595f 504c 5547 494e 222c 0a20 2020 2020  Y_PLUGIN",.     
-00004ac0: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-00004ad0: 2020 2020 2020 2020 2020 2020 2020 224c                "L
-00004ae0: 6f61 6420 3c6d 6f64 756c 653e 2061 7320  oad <module> as 
-00004af0: 6578 7465 726e 616c 2070 6c75 6769 6e20  external plugin 
-00004b00: 6d6f 6475 6c65 2e20 4d75 6c74 6970 6c65  module. Multiple
-00004b10: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00004b20: 2020 2022 696e 7374 616e 6365 7320 6f66     "instances of
-00004b30: 2074 6869 7320 7061 7261 6d65 7465 7220   this parameter 
-00004b40: 6361 6e20 6265 2073 7065 6369 6669 6564  can be specified
-00004b50: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
-00004b60: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
-00004b70: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-00004b80: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-00004b90: 2020 2020 2020 222d 2d62 6c6f 636b 2d70        "--block-p
-00004ba0: 6c75 6769 6e22 2c0a 2020 2020 2020 2020  lugin",.        
-00004bb0: 2020 2020 6465 7374 3d22 626c 6f63 6b65      dest="blocke
-00004bc0: 645f 706c 7567 696e 7322 2c0a 2020 2020  d_plugins",.    
-00004bd0: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
-00004be0: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
-00004bf0: 7469 6f6e 3d22 6170 7065 6e64 222c 0a20  tion="append",. 
-00004c00: 2020 2020 2020 2020 2020 2072 6571 7569             requi
-00004c10: 7265 643d 4661 6c73 652c 0a20 2020 2020  red=False,.     
-00004c20: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
-00004c30: 3c6d 6f64 756c 653e 222c 0a20 2020 2020  <module>",.     
-00004c40: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-00004c50: 4143 4150 595f 424c 4f43 4b45 445f 504c  ACAPY_BLOCKED_PL
-00004c60: 5547 494e 222c 0a20 2020 2020 2020 2020  UGIN",.         
-00004c70: 2020 2068 656c 703d 280a 2020 2020 2020     help=(.      
-00004c80: 2020 2020 2020 2020 2020 2242 6c6f 636b            "Block
-00004c90: 203c 6d6f 6475 6c65 3e20 706c 7567 696e   <module> plugin
-00004ca0: 206d 6f64 756c 6520 6672 6f6d 206c 6f61   module from loa
-00004cb0: 6469 6e67 2e20 4d75 6c74 6970 6c65 2022  ding. Multiple "
-00004cc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004cd0: 2022 696e 7374 616e 6365 7320 6f66 2074   "instances of t
-00004ce0: 6869 7320 7061 7261 6d65 7465 7220 6361  his parameter ca
-00004cf0: 6e20 6265 2073 7065 6369 6669 6564 2e22  n be specified."
-00004d00: 0a20 2020 2020 2020 2020 2020 2029 2c0a  .            ),.
-00004d10: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-00004d20: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
-00004d30: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
-00004d40: 2020 2020 222d 2d70 6c75 6769 6e2d 636f      "--plugin-co
-00004d50: 6e66 6967 222c 0a20 2020 2020 2020 2020  nfig",.         
-00004d60: 2020 2064 6573 743d 2270 6c75 6769 6e5f     dest="plugin_
-00004d70: 636f 6e66 6967 222c 0a20 2020 2020 2020  config",.       
-00004d80: 2020 2020 2074 7970 653d 7374 722c 0a20       type=str,. 
-00004d90: 2020 2020 2020 2020 2020 2072 6571 7569             requi
-00004da0: 7265 643d 4661 6c73 652c 0a20 2020 2020  red=False,.     
-00004db0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-00004dc0: 4143 4150 595f 504c 5547 494e 5f43 4f4e  ACAPY_PLUGIN_CON
-00004dd0: 4649 4722 2c0a 2020 2020 2020 2020 2020  FIG",.          
-00004de0: 2020 6865 6c70 3d22 4c6f 6164 2059 414d    help="Load YAM
-00004df0: 4c20 6669 6c65 2070 6174 6820 7468 6174  L file path that
-00004e00: 2064 6566 696e 6573 2065 7874 6572 6e61   defines externa
-00004e10: 6c20 706c 7567 696e 2063 6f6e 6669 6775  l plugin configu
-00004e20: 7261 7469 6f6e 2e22 2c0a 2020 2020 2020  ration.",.      
-00004e30: 2020 290a 0a20 2020 2020 2020 2070 6172    )..        par
-00004e40: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-00004e50: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-00004e60: 6f22 2c0a 2020 2020 2020 2020 2020 2020  o",.            
-00004e70: 222d 2d70 6c75 6769 6e2d 636f 6e66 6967  "--plugin-config
-00004e80: 2d76 616c 7565 222c 0a20 2020 2020 2020  -value",.       
-00004e90: 2020 2020 2064 6573 743d 2270 6c75 6769       dest="plugi
-00004ea0: 6e5f 636f 6e66 6967 5f76 616c 7565 7322  n_config_values"
-00004eb0: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
-00004ec0: 7065 3d73 7472 2c0a 2020 2020 2020 2020  pe=str,.        
-00004ed0: 2020 2020 6e61 7267 733d 222b 222c 0a20      nargs="+",. 
-00004ee0: 2020 2020 2020 2020 2020 2061 6374 696f             actio
-00004ef0: 6e3d 2261 7070 656e 6422 2c0a 2020 2020  n="append",.    
-00004f00: 2020 2020 2020 2020 7265 7175 6972 6564          required
-00004f10: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
-00004f20: 2020 2020 6d65 7461 7661 723d 223c 4b45      metavar="<KE
-00004f30: 593d 5641 4c55 453e 222c 0a20 2020 2020  Y=VALUE>",.     
-00004f40: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-00004f50: 2020 2020 2020 2020 2020 2020 2020 2253                "S
-00004f60: 6574 2061 6e20 6172 6269 7472 6172 7920  et an arbitrary 
-00004f70: 706c 7567 696e 2063 6f6e 6669 6775 7261  plugin configura
-00004f80: 7469 6f6e 206f 7074 696f 6e20 696e 2074  tion option in t
-00004f90: 6865 2066 6f72 6d61 7420 220a 2020 2020  he format ".    
-00004fa0: 2020 2020 2020 2020 2020 2020 224b 4559              "KEY
-00004fb0: 3d56 414c 5545 2e20 5573 6520 646f 7473  =VALUE. Use dots
-00004fc0: 2069 6e20 4b45 5920 746f 2073 6574 2064   in KEY to set d
-00004fd0: 6565 706c 7920 6e65 7374 6564 2076 616c  eeply nested val
-00004fe0: 7565 732c 2061 7320 696e 2022 0a20 2020  ues, as in ".   
-00004ff0: 2020 2020 2020 2020 2020 2020 2027 2261               '"a
-00005000: 2e62 2e63 3d76 616c 7565 222e 2056 414c  .b.c=value". VAL
-00005010: 5545 2069 7320 7061 7273 6564 2061 7320  UE is parsed as 
-00005020: 7961 6d6c 2e27 0a20 2020 2020 2020 2020  yaml.'.         
-00005030: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00005040: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
-00005050: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
-00005060: 2020 2020 2020 2020 2020 222d 2d73 746f            "--sto
-00005070: 7261 6765 2d74 7970 6522 2c0a 2020 2020  rage-type",.    
-00005080: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
-00005090: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
-000050a0: 7461 7661 723d 223c 7374 6f72 6167 652d  tavar="<storage-
-000050b0: 7479 7065 3e22 2c0a 2020 2020 2020 2020  type>",.        
-000050c0: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
-000050d0: 5059 5f53 544f 5241 4745 5f54 5950 4522  PY_STORAGE_TYPE"
-000050e0: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-000050f0: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-00005100: 2020 2020 2022 5370 6563 6966 6965 7320       "Specifies 
-00005110: 7468 6520 7479 7065 206f 6620 7374 6f72  the type of stor
-00005120: 6167 6520 7072 6f76 6964 6572 2074 6f20  age provider to 
-00005130: 7573 6520 666f 7220 7468 6520 696e 7465  use for the inte
-00005140: 726e 616c 2022 0a20 2020 2020 2020 2020  rnal ".         
-00005150: 2020 2020 2020 2022 7374 6f72 6167 6520         "storage 
-00005160: 656e 6769 6e65 2e20 5468 6973 2073 746f  engine. This sto
-00005170: 7261 6765 2069 6e74 6572 6661 6365 2069  rage interface i
-00005180: 7320 7573 6564 2074 6f20 7374 6f72 6520  s used to store 
-00005190: 696e 7465 726e 616c 2022 0a20 2020 2020  internal ".     
-000051a0: 2020 2020 2020 2020 2020 2022 7374 6174             "stat
-000051b0: 6520 2053 7570 706f 7274 6564 2069 6e74  e  Supported int
-000051c0: 6572 6e61 6c20 7374 6f72 6167 6520 7479  ernal storage ty
-000051d0: 7065 7320 6172 6520 2762 6173 6963 2720  pes are 'basic' 
-000051e0: 286d 656d 6f72 7929 2022 0a20 2020 2020  (memory) ".     
-000051f0: 2020 2020 2020 2020 2020 2022 616e 6420             "and 
-00005200: 2769 6e64 7927 2e20 2054 6865 2064 6566  'indy'.  The def
-00005210: 6175 6c74 2028 6966 206e 6f74 2073 7065  ault (if not spe
-00005220: 6369 6669 6564 2920 6973 2027 696e 6479  cified) is 'indy
-00005230: 2720 6966 2074 6865 2022 0a20 2020 2020  ' if the ".     
-00005240: 2020 2020 2020 2020 2020 2022 7761 6c6c             "wall
-00005250: 6574 2074 7970 6520 6973 2073 6574 2074  et type is set t
-00005260: 6f20 2769 6e64 7927 2c20 6f74 6865 7277  o 'indy', otherw
-00005270: 6973 6520 2762 6173 6963 272e 220a 2020  ise 'basic'.".  
-00005280: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
-00005290: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
-000052a0: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
-000052b0: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
-000052c0: 222d 6522 2c0a 2020 2020 2020 2020 2020  "-e",.          
-000052d0: 2020 222d 2d65 6e64 706f 696e 7422 2c0a    "--endpoint",.
-000052e0: 2020 2020 2020 2020 2020 2020 7479 7065              type
-000052f0: 3d73 7472 2c0a 2020 2020 2020 2020 2020  =str,.          
-00005300: 2020 6e61 7267 733d 222b 222c 0a20 2020    nargs="+",.   
-00005310: 2020 2020 2020 2020 206d 6574 6176 6172           metavar
-00005320: 3d22 3c65 6e64 706f 696e 743e 222c 0a20  ="<endpoint>",. 
-00005330: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-00005340: 6172 3d22 4143 4150 595f 454e 4450 4f49  ar="ACAPY_ENDPOI
-00005350: 4e54 222c 0a20 2020 2020 2020 2020 2020  NT",.           
-00005360: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
-00005370: 2020 2020 2020 2020 2253 7065 6369 6669          "Specifi
-00005380: 6573 2074 6865 2065 6e64 706f 696e 7473  es the endpoints
-00005390: 2074 6f20 7075 7420 696e 746f 2044 4944   to put into DID
-000053a0: 446f 6373 2022 0a20 2020 2020 2020 2020  Docs ".         
-000053b0: 2020 2020 2020 2022 746f 2069 6e66 6f72         "to infor
-000053c0: 6d20 6f74 6865 7220 6167 656e 7473 206f  m other agents o
-000053d0: 6620 7768 6572 6520 7468 6579 2073 686f  f where they sho
-000053e0: 756c 6420 7365 6e64 206d 6573 7361 6765  uld send message
-000053f0: 7320 6465 7374 696e 6564 2022 0a20 2020  s destined ".   
-00005400: 2020 2020 2020 2020 2020 2020 2022 666f               "fo
-00005410: 7220 7468 6973 2061 6765 6e74 2e20 4561  r this agent. Ea
-00005420: 6368 2065 6e64 706f 696e 7420 636f 756c  ch endpoint coul
-00005430: 6420 6265 206f 6e65 206f 6620 7468 6520  d be one of the 
-00005440: 7370 6563 6966 6965 6420 696e 626f 756e  specified inboun
-00005450: 6420 220a 2020 2020 2020 2020 2020 2020  d ".            
-00005460: 2020 2020 2274 7261 6e73 706f 7274 7320      "transports 
-00005470: 666f 7220 7468 6973 2061 6765 6e74 2c20  for this agent, 
-00005480: 6f72 2074 6865 2065 6e64 706f 696e 7420  or the endpoint 
-00005490: 636f 756c 6420 6265 2074 6861 7420 6f66  could be that of
-000054a0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-000054b0: 2020 2022 616e 6f74 6865 7220 6167 656e     "another agen
-000054c0: 7420 2865 2e67 2e20 2768 7474 7073 3a2f  t (e.g. 'https:/
-000054d0: 2f65 7861 6d70 6c65 2e63 6f6d 2f61 6765  /example.com/age
-000054e0: 6e74 2d65 6e64 706f 696e 7427 2920 6966  nt-endpoint') if
-000054f0: 2074 6865 2022 0a20 2020 2020 2020 2020   the ".         
-00005500: 2020 2020 2020 2022 726f 7574 696e 6720         "routing 
-00005510: 6f66 206d 6573 7361 6765 7320 746f 2074  of messages to t
-00005520: 6869 7320 6167 656e 7420 6279 2061 206d  his agent by a m
-00005530: 6564 6961 746f 7220 6973 2063 6f6e 6669  ediator is confi
-00005540: 6775 7265 642e 2022 0a20 2020 2020 2020  gured. ".       
-00005550: 2020 2020 2020 2020 2022 5468 6520 6669           "The fi
-00005560: 7273 7420 656e 6470 6f69 6e74 2073 7065  rst endpoint spe
-00005570: 6369 6669 6564 2077 696c 6c20 6265 2075  cified will be u
-00005580: 7365 6420 696e 2069 6e76 6974 6174 696f  sed in invitatio
-00005590: 6e73 2e20 220a 2020 2020 2020 2020 2020  ns. ".          
-000055a0: 2020 2020 2020 2254 6865 2065 6e64 706f        "The endpo
-000055b0: 696e 7473 2061 7265 2075 7365 6420 696e  ints are used in
-000055c0: 2074 6865 2066 6f72 6d61 7469 6f6e 206f   the formation o
-000055d0: 6620 6120 636f 6e6e 6563 7469 6f6e 2022  f a connection "
-000055e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000055f0: 2022 7769 7468 2061 6e6f 7468 6572 2061   "with another a
-00005600: 6765 6e74 2e22 0a20 2020 2020 2020 2020  gent.".         
-00005610: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00005620: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00005630: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00005640: 2020 2020 2020 2020 2022 2d2d 7072 6f66           "--prof
-00005650: 696c 652d 656e 6470 6f69 6e74 222c 0a20  ile-endpoint",. 
-00005660: 2020 2020 2020 2020 2020 2074 7970 653d             type=
-00005670: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
-00005680: 206d 6574 6176 6172 3d22 3c70 726f 6669   metavar="<profi
-00005690: 6c65 5f65 6e64 706f 696e 743e 222c 0a20  le_endpoint>",. 
-000056a0: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-000056b0: 6172 3d22 4143 4150 595f 5052 4f46 494c  ar="ACAPY_PROFIL
-000056c0: 455f 454e 4450 4f49 4e54 222c 0a20 2020  E_ENDPOINT",.   
-000056d0: 2020 2020 2020 2020 2068 656c 703d 2253           help="S
-000056e0: 7065 6369 6669 6573 2074 6865 2070 726f  pecifies the pro
-000056f0: 6669 6c65 2065 6e64 706f 696e 7420 666f  file endpoint fo
-00005700: 7220 7468 6520 2870 7562 6c69 6329 2044  r the (public) D
-00005710: 4944 2e22 2c0a 2020 2020 2020 2020 290a  ID.",.        ).
-00005720: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00005730: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00005740: 2020 2020 2020 2020 2022 2d2d 7265 6164           "--read
-00005750: 2d6f 6e6c 792d 6c65 6467 6572 222c 0a20  -only-ledger",. 
-00005760: 2020 2020 2020 2020 2020 2061 6374 696f             actio
-00005770: 6e3d 2273 746f 7265 5f74 7275 6522 2c0a  n="store_true",.
-00005780: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-00005790: 7661 723d 2241 4341 5059 5f52 4541 445f  var="ACAPY_READ_
-000057a0: 4f4e 4c59 5f4c 4544 4745 5222 2c0a 2020  ONLY_LEDGER",.  
-000057b0: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
-000057c0: 5365 7473 206c 6564 6765 7220 746f 2072  Sets ledger to r
-000057d0: 6561 642d 6f6e 6c79 2074 6f20 7072 6576  ead-only to prev
-000057e0: 656e 7420 7570 6461 7465 732e 2044 6566  ent updates. Def
-000057f0: 6175 6c74 3a20 6661 6c73 652e 222c 0a20  ault: false.",. 
-00005800: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00005810: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-00005820: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00005830: 2020 222d 2d75 6e69 7665 7273 616c 2d72    "--universal-r
-00005840: 6573 6f6c 7665 7222 2c0a 2020 2020 2020  esolver",.      
-00005850: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-00005860: 2020 2020 2020 2020 2020 2020 6e61 7267              narg
-00005870: 733d 223f 222c 0a20 2020 2020 2020 2020  s="?",.         
-00005880: 2020 206d 6574 6176 6172 3d22 3c75 6e69     metavar="<uni
-00005890: 7665 7273 616c 5f72 6573 6f6c 7665 725f  versal_resolver_
-000058a0: 656e 6470 6f69 6e74 3e22 2c0a 2020 2020  endpoint>",.    
-000058b0: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
-000058c0: 2241 4341 5059 5f55 4e49 5645 5253 414c  "ACAPY_UNIVERSAL
-000058d0: 5f52 4553 4f4c 5645 5222 2c0a 2020 2020  _RESOLVER",.    
-000058e0: 2020 2020 2020 2020 636f 6e73 743d 2244          const="D
-000058f0: 4546 4155 4c54 222c 0a20 2020 2020 2020  EFAULT",.       
-00005900: 2020 2020 2068 656c 703d 2245 6e61 626c       help="Enabl
-00005910: 6520 7265 736f 6c75 7469 6f6e 2066 726f  e resolution fro
-00005920: 6d20 6120 756e 6976 6572 7361 6c20 7265  m a universal re
-00005930: 736f 6c76 6572 2e22 2c0a 2020 2020 2020  solver.",.      
-00005940: 2020 290a 2020 2020 2020 2020 7061 7273    ).        pars
-00005950: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
-00005960: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
-00005970: 756e 6976 6572 7361 6c2d 7265 736f 6c76  universal-resolv
-00005980: 6572 2d72 6567 6578 222c 0a20 2020 2020  er-regex",.     
-00005990: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
-000059a0: 0a20 2020 2020 2020 2020 2020 206e 6172  .            nar
-000059b0: 6773 3d22 2b22 2c0a 2020 2020 2020 2020  gs="+",.        
-000059c0: 2020 2020 6d65 7461 7661 723d 223c 6469      metavar="<di
-000059d0: 645f 7265 6765 783e 222c 0a20 2020 2020  d_regex>",.     
-000059e0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-000059f0: 4143 4150 595f 554e 4956 4552 5341 4c5f  ACAPY_UNIVERSAL_
-00005a00: 5245 534f 4c56 4552 5f52 4547 4558 222c  RESOLVER_REGEX",
-00005a10: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
-00005a20: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
-00005a30: 2020 2020 2252 6567 6578 206d 6174 6368      "Regex match
-00005a40: 696e 6720 4449 4473 2074 6f20 7265 736f  ing DIDs to reso
-00005a50: 6c76 6520 7573 696e 6720 7468 6520 756e  lve using the un
-00005a60: 7665 7273 616c 2072 6573 6f6c 7665 722e  versal resolver.
-00005a70: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00005a80: 2020 2022 4d75 6c74 6970 6c65 2063 616e     "Multiple can
-00005a90: 2062 6520 7370 6563 6966 6965 642e 2022   be specified. "
-00005aa0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005ab0: 2022 4465 6661 756c 7473 2074 6f20 6120   "Defaults to a 
-00005ac0: 7265 6765 7820 6d61 7463 6869 6e67 2061  regex matching a
-00005ad0: 6c6c 2044 4944 7320 7265 736f 6c76 6162  ll DIDs resolvab
-00005ae0: 6c65 2062 7920 756e 6976 6572 7361 6c20  le by universal 
-00005af0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00005b00: 2020 2272 6573 6f6c 7665 7220 696e 7374    "resolver inst
-00005b10: 616e 6365 2e22 0a20 2020 2020 2020 2020  ance.".         
-00005b20: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00005b30: 0a20 2020 2064 6566 2067 6574 5f73 6574  .    def get_set
-00005b40: 7469 6e67 7328 7365 6c66 2c20 6172 6773  tings(self, args
-00005b50: 3a20 4e61 6d65 7370 6163 6529 202d 3e20  : Namespace) -> 
-00005b60: 6469 6374 3a0a 2020 2020 2020 2020 2222  dict:.        ""
-00005b70: 2245 7874 7261 6374 2067 656e 6572 616c  "Extract general
-00005b80: 2073 6574 7469 6e67 732e 2222 220a 2020   settings.""".  
-00005b90: 2020 2020 2020 7365 7474 696e 6773 203d        settings =
-00005ba0: 207b 7d0a 2020 2020 2020 2020 6966 2061   {}.        if a
-00005bb0: 7267 732e 6578 7465 726e 616c 5f70 6c75  rgs.external_plu
-00005bc0: 6769 6e73 3a0a 2020 2020 2020 2020 2020  gins:.          
-00005bd0: 2020 7365 7474 696e 6773 5b22 6578 7465    settings["exte
-00005be0: 726e 616c 5f70 6c75 6769 6e73 225d 203d  rnal_plugins"] =
-00005bf0: 2061 7267 732e 6578 7465 726e 616c 5f70   args.external_p
-00005c00: 6c75 6769 6e73 0a0a 2020 2020 2020 2020  lugins..        
-00005c10: 6966 2061 7267 732e 626c 6f63 6b65 645f  if args.blocked_
-00005c20: 706c 7567 696e 733a 0a20 2020 2020 2020  plugins:.       
-00005c30: 2020 2020 2073 6574 7469 6e67 735b 2262       settings["b
-00005c40: 6c6f 636b 6564 5f70 6c75 6769 6e73 225d  locked_plugins"]
-00005c50: 203d 2061 7267 732e 626c 6f63 6b65 645f   = args.blocked_
-00005c60: 706c 7567 696e 730a 0a20 2020 2020 2020  plugins..       
-00005c70: 2069 6620 6172 6773 2e70 6c75 6769 6e5f   if args.plugin_
-00005c80: 636f 6e66 6967 3a0a 2020 2020 2020 2020  config:.        
-00005c90: 2020 2020 7769 7468 206f 7065 6e28 6172      with open(ar
-00005ca0: 6773 2e70 6c75 6769 6e5f 636f 6e66 6967  gs.plugin_config
-00005cb0: 2c20 2272 2229 2061 7320 7374 7265 616d  , "r") as stream
-00005cc0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00005cd0: 2020 7365 7474 696e 6773 5b50 4c55 4749    settings[PLUGI
-00005ce0: 4e5f 434f 4e46 4947 5f4b 4559 5d20 3d20  N_CONFIG_KEY] = 
-00005cf0: 7961 6d6c 2e73 6166 655f 6c6f 6164 2873  yaml.safe_load(s
-00005d00: 7472 6561 6d29 0a0a 2020 2020 2020 2020  tream)..        
-00005d10: 6966 2061 7267 732e 706c 7567 696e 5f63  if args.plugin_c
-00005d20: 6f6e 6669 675f 7661 6c75 6573 3a0a 2020  onfig_values:.  
-00005d30: 2020 2020 2020 2020 2020 6966 2050 4c55            if PLU
-00005d40: 4749 4e5f 434f 4e46 4947 5f4b 4559 206e  GIN_CONFIG_KEY n
-00005d50: 6f74 2069 6e20 7365 7474 696e 6773 3a0a  ot in settings:.
-00005d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d70: 7365 7474 696e 6773 5b50 4c55 4749 4e5f  settings[PLUGIN_
-00005d80: 434f 4e46 4947 5f4b 4559 5d20 3d20 7b7d  CONFIG_KEY] = {}
-00005d90: 0a0a 2020 2020 2020 2020 2020 2020 666f  ..            fo
-00005da0: 7220 7661 6c75 655f 7374 7220 696e 2063  r value_str in c
-00005db0: 6861 696e 282a 6172 6773 2e70 6c75 6769  hain(*args.plugi
-00005dc0: 6e5f 636f 6e66 6967 5f76 616c 7565 7329  n_config_values)
-00005dd0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00005de0: 2020 6b65 792c 2076 616c 7565 203d 2076    key, value = v
-00005df0: 616c 7565 5f73 7472 2e73 706c 6974 2822  alue_str.split("
-00005e00: 3d22 2c20 6d61 7873 706c 6974 3d31 290a  =", maxsplit=1).
-00005e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e20: 7661 6c75 6520 3d20 7961 6d6c 2e73 6166  value = yaml.saf
-00005e30: 655f 6c6f 6164 2876 616c 7565 290a 2020  e_load(value).  
-00005e40: 2020 2020 2020 2020 2020 2020 2020 6465                de
-00005e50: 6570 6d65 7267 652e 616c 7761 7973 5f6d  epmerge.always_m
-00005e60: 6572 6765 722e 6d65 7267 6528 0a20 2020  erger.merge(.   
-00005e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e80: 2073 6574 7469 6e67 735b 504c 5547 494e   settings[PLUGIN
-00005e90: 5f43 4f4e 4649 475f 4b45 595d 2c0a 2020  _CONFIG_KEY],.  
-00005ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005eb0: 2020 7265 6475 6365 286c 616d 6264 6120    reduce(lambda 
-00005ec0: 762c 206b 3a20 7b6b 3a20 767d 2c20 6b65  v, k: {k: v}, ke
-00005ed0: 792e 7370 6c69 7428 222e 2229 5b3a 3a2d  y.split(".")[::-
-00005ee0: 315d 2c20 7661 6c75 6529 2c0a 2020 2020  1], value),.    
-00005ef0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-00005f00: 2020 2020 2020 2069 6620 6172 6773 2e73         if args.s
-00005f10: 746f 7261 6765 5f74 7970 653a 0a20 2020  torage_type:.   
-00005f20: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00005f30: 735b 2273 746f 7261 6765 5f74 7970 6522  s["storage_type"
-00005f40: 5d20 3d20 6172 6773 2e73 746f 7261 6765  ] = args.storage
-00005f50: 5f74 7970 650a 0a20 2020 2020 2020 2069  _type..        i
-00005f60: 6620 6172 6773 2e65 6e64 706f 696e 743a  f args.endpoint:
-00005f70: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
-00005f80: 7469 6e67 735b 2264 6566 6175 6c74 5f65  tings["default_e
-00005f90: 6e64 706f 696e 7422 5d20 3d20 6172 6773  ndpoint"] = args
-00005fa0: 2e65 6e64 706f 696e 745b 305d 0a20 2020  .endpoint[0].   
-00005fb0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00005fc0: 735b 2261 6464 6974 696f 6e61 6c5f 656e  s["additional_en
-00005fd0: 6470 6f69 6e74 7322 5d20 3d20 6172 6773  dpoints"] = args
-00005fe0: 2e65 6e64 706f 696e 745b 313a 5d0a 2020  .endpoint[1:].  
-00005ff0: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-00006000: 2020 2020 2020 2020 7261 6973 6520 4172          raise Ar
-00006010: 6773 5061 7273 6545 7272 6f72 2822 2d65  gsParseError("-e
-00006020: 2f2d 2d65 6e64 706f 696e 7420 6973 2072  /--endpoint is r
-00006030: 6571 7569 7265 6422 290a 2020 2020 2020  equired").      
-00006040: 2020 6966 2061 7267 732e 7072 6f66 696c    if args.profil
-00006050: 655f 656e 6470 6f69 6e74 3a0a 2020 2020  e_endpoint:.    
-00006060: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-00006070: 5b22 7072 6f66 696c 655f 656e 6470 6f69  ["profile_endpoi
-00006080: 6e74 225d 203d 2061 7267 732e 7072 6f66  nt"] = args.prof
-00006090: 696c 655f 656e 6470 6f69 6e74 0a0a 2020  ile_endpoint..  
-000060a0: 2020 2020 2020 6966 2061 7267 732e 7265        if args.re
-000060b0: 6164 5f6f 6e6c 795f 6c65 6467 6572 3a0a  ad_only_ledger:.
-000060c0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-000060d0: 696e 6773 5b22 7265 6164 5f6f 6e6c 795f  ings["read_only_
-000060e0: 6c65 6467 6572 225d 203d 2054 7275 650a  ledger"] = True.
-000060f0: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
-00006100: 2e75 6e69 7665 7273 616c 5f72 6573 6f6c  .universal_resol
-00006110: 7665 725f 7265 6765 7820 616e 6420 6e6f  ver_regex and no
-00006120: 7420 6172 6773 2e75 6e69 7665 7273 616c  t args.universal
-00006130: 5f72 6573 6f6c 7665 723a 0a20 2020 2020  _resolver:.     
-00006140: 2020 2020 2020 2072 6169 7365 2041 7267         raise Arg
-00006150: 7350 6172 7365 4572 726f 7228 0a20 2020  sParseError(.   
-00006160: 2020 2020 2020 2020 2020 2020 2022 2d2d               "--
-00006170: 756e 6976 6572 7361 6c2d 7265 736f 6c76  universal-resolv
-00006180: 6572 2d72 6567 6578 2063 616e 6e6f 7420  er-regex cannot 
-00006190: 6265 2075 7365 6420 7769 7468 6f75 7420  be used without 
-000061a0: 2d2d 756e 6976 6572 7361 6c2d 7265 736f  --universal-reso
-000061b0: 6c76 6572 220a 2020 2020 2020 2020 2020  lver".          
-000061c0: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
-000061d0: 6172 6773 2e75 6e69 7665 7273 616c 5f72  args.universal_r
-000061e0: 6573 6f6c 7665 723a 0a20 2020 2020 2020  esolver:.       
-000061f0: 2020 2020 2073 6574 7469 6e67 735b 2272       settings["r
-00006200: 6573 6f6c 7665 722e 756e 6976 6572 7361  esolver.universa
-00006210: 6c22 5d20 3d20 6172 6773 2e75 6e69 7665  l"] = args.unive
-00006220: 7273 616c 5f72 6573 6f6c 7665 720a 0a20  rsal_resolver.. 
-00006230: 2020 2020 2020 2069 6620 6172 6773 2e75         if args.u
-00006240: 6e69 7665 7273 616c 5f72 6573 6f6c 7665  niversal_resolve
-00006250: 725f 7265 6765 783a 0a20 2020 2020 2020  r_regex:.       
-00006260: 2020 2020 2073 6574 7469 6e67 735b 2272       settings["r
-00006270: 6573 6f6c 7665 722e 756e 6976 6572 7361  esolver.universa
-00006280: 6c2e 7375 7070 6f72 7465 6422 5d20 3d20  l.supported"] = 
-00006290: 6172 6773 2e75 6e69 7665 7273 616c 5f72  args.universal_r
-000062a0: 6573 6f6c 7665 725f 7265 6765 780a 0a20  esolver_regex.. 
-000062b0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-000062c0: 7474 696e 6773 0a0a 0a40 6772 6f75 7028  ttings...@group(
-000062d0: 4341 545f 5354 4152 542c 2043 4154 5f50  CAT_START, CAT_P
-000062e0: 524f 5649 5349 4f4e 290a 636c 6173 7320  ROVISION).class 
-000062f0: 5265 766f 6361 7469 6f6e 4772 6f75 7028  RevocationGroup(
-00006300: 4172 6775 6d65 6e74 4772 6f75 7029 3a0a  ArgumentGroup):.
-00006310: 2020 2020 2222 2252 6576 6f63 6174 696f      """Revocatio
-00006320: 6e20 7365 7474 696e 6773 2e22 2222 0a0a  n settings."""..
-00006330: 2020 2020 4752 4f55 505f 4e41 4d45 203d      GROUP_NAME =
-00006340: 2022 5265 766f 6361 7469 6f6e 220a 0a20   "Revocation".. 
-00006350: 2020 2064 6566 2061 6464 5f61 7267 756d     def add_argum
-00006360: 656e 7473 2873 656c 662c 2070 6172 7365  ents(self, parse
-00006370: 723a 2041 7267 756d 656e 7450 6172 7365  r: ArgumentParse
-00006380: 7229 3a0a 2020 2020 2020 2020 2222 2241  r):.        """A
-00006390: 6464 2072 6576 6f63 6174 696f 6e20 6172  dd revocation ar
-000063a0: 6775 6d65 6e74 7320 746f 2074 6865 2070  guments to the p
-000063b0: 6172 7365 722e 2222 220a 2020 2020 2020  arser.""".      
-000063c0: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
-000063d0: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
-000063e0: 2020 2022 2d2d 7461 696c 732d 7365 7276     "--tails-serv
-000063f0: 6572 2d62 6173 652d 7572 6c22 2c0a 2020  er-base-url",.  
-00006400: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
-00006410: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
-00006420: 6d65 7461 7661 723d 223c 7461 696c 732d  metavar="<tails-
-00006430: 7365 7276 6572 2d62 6173 652d 7572 6c3e  server-base-url>
-00006440: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
-00006450: 6e76 5f76 6172 3d22 4143 4150 595f 5441  nv_var="ACAPY_TA
-00006460: 494c 535f 5345 5256 4552 5f42 4153 455f  ILS_SERVER_BASE_
-00006470: 5552 4c22 2c0a 2020 2020 2020 2020 2020  URL",.          
-00006480: 2020 6865 6c70 3d22 5365 7473 2074 6865    help="Sets the
-00006490: 2062 6173 6520 7572 6c20 6f66 2074 6865   base url of the
-000064a0: 2074 6169 6c73 2073 6572 7665 7220 696e   tails server in
-000064b0: 2075 7365 2e22 2c0a 2020 2020 2020 2020   use.",.        
-000064c0: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-000064d0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-000064e0: 2020 2020 2020 2020 2020 2022 2d2d 7461             "--ta
-000064f0: 696c 732d 7365 7276 6572 2d75 706c 6f61  ils-server-uploa
-00006500: 642d 7572 6c22 2c0a 2020 2020 2020 2020  d-url",.        
-00006510: 2020 2020 7479 7065 3d73 7472 2c0a 2020      type=str,.  
-00006520: 2020 2020 2020 2020 2020 6d65 7461 7661            metava
-00006530: 723d 223c 7461 696c 732d 7365 7276 6572  r="<tails-server
-00006540: 2d75 706c 6f61 642d 7572 6c3e 222c 0a20  -upload-url>",. 
-00006550: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-00006560: 6172 3d22 4143 4150 595f 5441 494c 535f  ar="ACAPY_TAILS_
-00006570: 5345 5256 4552 5f55 504c 4f41 445f 5552  SERVER_UPLOAD_UR
-00006580: 4c22 2c0a 2020 2020 2020 2020 2020 2020  L",.            
-00006590: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
-000065a0: 2020 2020 2020 2022 5365 7473 2074 6865         "Sets the
-000065b0: 2062 6173 6520 7572 6c20 6f66 2074 6865   base url of the
-000065c0: 2074 6169 6c73 2073 6572 7665 7220 666f   tails server fo
-000065d0: 7220 7570 6c6f 6164 2c20 6465 6661 756c  r upload, defaul
-000065e0: 7469 6e67 2074 6f20 7468 6520 220a 2020  ting to the ".  
-000065f0: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-00006600: 6169 6c73 2073 6572 7665 7220 6261 7365  ails server base
-00006610: 2075 726c 2e22 0a20 2020 2020 2020 2020   url.".         
-00006620: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00006630: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00006640: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00006650: 2020 2020 2020 2020 2022 2d2d 6e6f 7469           "--noti
-00006660: 6679 2d72 6576 6f63 6174 696f 6e22 2c0a  fy-revocation",.
-00006670: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-00006680: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-00006690: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-000066a0: 5f76 6172 3d22 4143 4150 595f 4e4f 5449  _var="ACAPY_NOTI
-000066b0: 4659 5f52 4556 4f43 4154 494f 4e22 2c0a  FY_REVOCATION",.
-000066c0: 2020 2020 2020 2020 2020 2020 6865 6c70              help
-000066d0: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
-000066e0: 2020 2022 5370 6563 6966 6965 7320 7468     "Specifies th
-000066f0: 6174 2061 6361 2d70 7920 7769 6c6c 206e  at aca-py will n
-00006700: 6f74 6966 7920 6372 6564 656e 7469 616c  otify credential
-00006710: 2072 6563 6970 6965 6e74 7320 7768 656e   recipients when
-00006720: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00006730: 2020 2022 7265 766f 6b69 6e67 2061 2063     "revoking a c
-00006740: 7265 6465 6e74 6961 6c20 6974 2069 7373  redential it iss
-00006750: 7565 642e 220a 2020 2020 2020 2020 2020  ued.".          
-00006760: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
-00006770: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-00006780: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-00006790: 2020 2020 2020 2020 222d 2d6d 6f6e 6974          "--monit
-000067a0: 6f72 2d72 6576 6f63 6174 696f 6e2d 6e6f  or-revocation-no
-000067b0: 7469 6669 6361 7469 6f6e 222c 0a20 2020  tification",.   
-000067c0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
-000067d0: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
-000067e0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
-000067f0: 723d 2241 4341 5059 5f4d 4f4e 4954 4f52  r="ACAPY_MONITOR
-00006800: 5f52 4556 4f43 4154 494f 4e5f 4e4f 5449  _REVOCATION_NOTI
-00006810: 4649 4341 5449 4f4e 222c 0a20 2020 2020  FICATION",.     
-00006820: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-00006830: 2020 2020 2020 2020 2020 2020 2020 2253                "S
-00006840: 7065 6369 6669 6573 2074 6861 7420 6163  pecifies that ac
-00006850: 612d 7079 2077 696c 6c20 656d 6974 2077  a-py will emit w
-00006860: 6562 686f 6f6b 7320 6f6e 206e 6f74 6966  ebhooks on notif
-00006870: 6963 6174 696f 6e20 6f66 2022 0a20 2020  ication of ".   
-00006880: 2020 2020 2020 2020 2020 2020 2022 7265               "re
-00006890: 766f 6361 7469 6f6e 2072 6563 6569 7665  vocation receive
-000068a0: 642e 220a 2020 2020 2020 2020 2020 2020  d.".            
-000068b0: 292c 0a20 2020 2020 2020 2029 0a0a 2020  ),.        )..  
-000068c0: 2020 6465 6620 6765 745f 7365 7474 696e    def get_settin
-000068d0: 6773 2873 656c 662c 2061 7267 733a 204e  gs(self, args: N
-000068e0: 616d 6573 7061 6365 2920 2d3e 2064 6963  amespace) -> dic
-000068f0: 743a 0a20 2020 2020 2020 2022 2222 4578  t:.        """Ex
-00006900: 7472 6163 7420 7265 766f 6361 7469 6f6e  tract revocation
-00006910: 2073 6574 7469 6e67 732e 2222 220a 2020   settings.""".  
-00006920: 2020 2020 2020 7365 7474 696e 6773 203d        settings =
-00006930: 207b 7d0a 2020 2020 2020 2020 6966 2061   {}.        if a
-00006940: 7267 732e 7461 696c 735f 7365 7276 6572  rgs.tails_server
-00006950: 5f62 6173 655f 7572 6c3a 0a20 2020 2020  _base_url:.     
-00006960: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
-00006970: 2274 6169 6c73 5f73 6572 7665 725f 6261  "tails_server_ba
-00006980: 7365 5f75 726c 225d 203d 2061 7267 732e  se_url"] = args.
-00006990: 7461 696c 735f 7365 7276 6572 5f62 6173  tails_server_bas
-000069a0: 655f 7572 6c0a 2020 2020 2020 2020 2020  e_url.          
-000069b0: 2020 7365 7474 696e 6773 5b22 7461 696c    settings["tail
-000069c0: 735f 7365 7276 6572 5f75 706c 6f61 645f  s_server_upload_
-000069d0: 7572 6c22 5d20 3d20 6172 6773 2e74 6169  url"] = args.tai
-000069e0: 6c73 5f73 6572 7665 725f 6261 7365 5f75  ls_server_base_u
-000069f0: 726c 0a20 2020 2020 2020 2069 6620 6172  rl.        if ar
-00006a00: 6773 2e74 6169 6c73 5f73 6572 7665 725f  gs.tails_server_
-00006a10: 7570 6c6f 6164 5f75 726c 3a0a 2020 2020  upload_url:.    
-00006a20: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-00006a30: 5b22 7461 696c 735f 7365 7276 6572 5f75  ["tails_server_u
-00006a40: 706c 6f61 645f 7572 6c22 5d20 3d20 6172  pload_url"] = ar
-00006a50: 6773 2e74 6169 6c73 5f73 6572 7665 725f  gs.tails_server_
-00006a60: 7570 6c6f 6164 5f75 726c 0a20 2020 2020  upload_url.     
-00006a70: 2020 2069 6620 6172 6773 2e6e 6f74 6966     if args.notif
-00006a80: 795f 7265 766f 6361 7469 6f6e 3a0a 2020  y_revocation:.  
-00006a90: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-00006aa0: 6773 5b22 7265 766f 6361 7469 6f6e 2e6e  gs["revocation.n
-00006ab0: 6f74 6966 7922 5d20 3d20 6172 6773 2e6e  otify"] = args.n
-00006ac0: 6f74 6966 795f 7265 766f 6361 7469 6f6e  otify_revocation
-00006ad0: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
-00006ae0: 2e6d 6f6e 6974 6f72 5f72 6576 6f63 6174  .monitor_revocat
-00006af0: 696f 6e5f 6e6f 7469 6669 6361 7469 6f6e  ion_notification
-00006b00: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00006b10: 7474 696e 6773 5b0a 2020 2020 2020 2020  ttings[.        
-00006b20: 2020 2020 2020 2020 2272 6576 6f63 6174          "revocat
-00006b30: 696f 6e2e 6d6f 6e69 746f 725f 6e6f 7469  ion.monitor_noti
-00006b40: 6669 6361 7469 6f6e 220a 2020 2020 2020  fication".      
-00006b50: 2020 2020 2020 5d20 3d20 6172 6773 2e6d        ] = args.m
-00006b60: 6f6e 6974 6f72 5f72 6576 6f63 6174 696f  onitor_revocatio
-00006b70: 6e5f 6e6f 7469 6669 6361 7469 6f6e 0a20  n_notification. 
-00006b80: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00006b90: 7474 696e 6773 0a0a 0a40 6772 6f75 7028  ttings...@group(
-00006ba0: 4341 545f 5354 4152 542c 2043 4154 5f50  CAT_START, CAT_P
-00006bb0: 524f 5649 5349 4f4e 290a 636c 6173 7320  ROVISION).class 
-00006bc0: 4c65 6467 6572 4772 6f75 7028 4172 6775  LedgerGroup(Argu
-00006bd0: 6d65 6e74 4772 6f75 7029 3a0a 2020 2020  mentGroup):.    
-00006be0: 2222 224c 6564 6765 7220 7365 7474 696e  """Ledger settin
-00006bf0: 6773 2e22 2222 0a0a 2020 2020 4752 4f55  gs."""..    GROU
-00006c00: 505f 4e41 4d45 203d 2022 4c65 6467 6572  P_NAME = "Ledger
-00006c10: 220a 0a20 2020 2064 6566 2061 6464 5f61  "..    def add_a
-00006c20: 7267 756d 656e 7473 2873 656c 662c 2070  rguments(self, p
-00006c30: 6172 7365 723a 2041 7267 756d 656e 7450  arser: ArgumentP
-00006c40: 6172 7365 7229 3a0a 2020 2020 2020 2020  arser):.        
-00006c50: 2222 2241 6464 206c 6564 6765 722d 7370  """Add ledger-sp
-00006c60: 6563 6966 6963 2063 6f6d 6d61 6e64 206c  ecific command l
-00006c70: 696e 6520 6172 6775 6d65 6e74 7320 746f  ine arguments to
-00006c80: 2074 6865 2070 6172 7365 722e 2222 220a   the parser.""".
-00006c90: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00006ca0: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00006cb0: 2020 2020 2020 2020 2022 2d2d 6c65 6467           "--ledg
-00006cc0: 6572 2d70 6f6f 6c2d 6e61 6d65 222c 0a20  er-pool-name",. 
-00006cd0: 2020 2020 2020 2020 2020 2074 7970 653d             type=
-00006ce0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
-00006cf0: 206d 6574 6176 6172 3d22 3c6c 6564 6765   metavar="<ledge
-00006d00: 722d 706f 6f6c 2d6e 616d 653e 222c 0a20  r-pool-name>",. 
-00006d10: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-00006d20: 6172 3d22 4143 4150 595f 4c45 4447 4552  ar="ACAPY_LEDGER
-00006d30: 5f50 4f4f 4c5f 4e41 4d45 222c 0a20 2020  _POOL_NAME",.   
-00006d40: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
-00006d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006d60: 2253 7065 6369 6669 6573 2074 6865 206e  "Specifies the n
-00006d70: 616d 6520 6f66 2074 6865 2069 6e64 7920  ame of the indy 
-00006d80: 706f 6f6c 2074 6f20 6265 206f 7065 6e65  pool to be opene
-00006d90: 642e 2022 0a20 2020 2020 2020 2020 2020  d. ".           
-00006da0: 2020 2020 2022 5468 6973 2069 7320 7573       "This is us
-00006db0: 6566 756c 2069 6620 796f 7520 6861 7665  eful if you have
-00006dc0: 206d 756c 7469 706c 6520 706f 6f6c 2063   multiple pool c
-00006dd0: 6f6e 6669 6775 7261 7469 6f6e 732e 220a  onfigurations.".
-00006de0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-00006df0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00006e00: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-00006e10: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00006e20: 2020 222d 2d67 656e 6573 6973 2d74 7261    "--genesis-tra
-00006e30: 6e73 6163 7469 6f6e 7322 2c0a 2020 2020  nsactions",.    
-00006e40: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
-00006e50: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-00006e60: 7374 3d22 6765 6e65 7369 735f 7472 616e  st="genesis_tran
-00006e70: 7361 6374 696f 6e73 222c 0a20 2020 2020  sactions",.     
-00006e80: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
-00006e90: 3c67 656e 6573 6973 2d74 7261 6e73 6163  <genesis-transac
-00006ea0: 7469 6f6e 733e 222c 0a20 2020 2020 2020  tions>",.       
-00006eb0: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
-00006ec0: 4150 595f 4745 4e45 5349 535f 5452 414e  APY_GENESIS_TRAN
-00006ed0: 5341 4354 494f 4e53 222c 0a20 2020 2020  SACTIONS",.     
-00006ee0: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-00006ef0: 2020 2020 2020 2020 2020 2020 2020 2253                "S
-00006f00: 7065 6369 6669 6573 2074 6865 2067 656e  pecifies the gen
-00006f10: 6573 6973 2074 7261 6e73 6163 7469 6f6e  esis transaction
-00006f20: 7320 746f 2075 7365 2074 6f20 636f 6e6e  s to use to conn
-00006f30: 6563 7420 746f 2022 0a20 2020 2020 2020  ect to ".       
-00006f40: 2020 2020 2020 2020 2022 6120 4879 7065           "a Hype
-00006f50: 726c 6564 6765 7220 496e 6479 206c 6564  rledger Indy led
-00006f60: 6765 722e 2054 6865 2074 7261 6e73 6163  ger. The transac
-00006f70: 7469 6f6e 7320 6172 6520 7072 6f76 6964  tions are provid
-00006f80: 6564 2061 7320 7374 7269 6e67 2022 0a20  ed as string ". 
-00006f90: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-00006fa0: 6f66 204a 534f 4e20 652e 672e 205c 277b  of JSON e.g. \'{
-00006fb0: 2272 6571 5369 676e 6174 7572 6522 3a7b  "reqSignature":{
-00006fc0: 7d2c 2274 786e 223a 7b22 6461 7461 223a  },"txn":{"data":
-00006fd0: 7b22 642e 2e2e 203c 736e 6970 3e7d 7d7d  {"d... <snip>}}}
-00006fe0: 5c27 270a 2020 2020 2020 2020 2020 2020  \''.            
-00006ff0: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
-00007000: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-00007010: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-00007020: 2020 2020 2020 222d 2d67 656e 6573 6973        "--genesis
-00007030: 2d66 696c 6522 2c0a 2020 2020 2020 2020  -file",.        
-00007040: 2020 2020 7479 7065 3d73 7472 2c0a 2020      type=str,.  
-00007050: 2020 2020 2020 2020 2020 6465 7374 3d22            dest="
-00007060: 6765 6e65 7369 735f 6669 6c65 222c 0a20  genesis_file",. 
-00007070: 2020 2020 2020 2020 2020 206d 6574 6176             metav
-00007080: 6172 3d22 3c67 656e 6573 6973 2d66 696c  ar="<genesis-fil
-00007090: 653e 222c 0a20 2020 2020 2020 2020 2020  e>",.           
-000070a0: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-000070b0: 4745 4e45 5349 535f 4649 4c45 222c 0a20  GENESIS_FILE",. 
-000070c0: 2020 2020 2020 2020 2020 2068 656c 703d             help=
-000070d0: 2253 7065 6369 6669 6573 2061 206c 6f63  "Specifies a loc
-000070e0: 616c 2066 696c 6520 6672 6f6d 2077 6869  al file from whi
-000070f0: 6368 2074 6f20 7265 6164 2074 6865 2067  ch to read the g
-00007100: 656e 6573 6973 2074 7261 6e73 6163 7469  enesis transacti
-00007110: 6f6e 732e 222c 0a20 2020 2020 2020 2029  ons.",.        )
-00007120: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
-00007130: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
-00007140: 2020 2020 2020 2020 2020 222d 2d67 656e            "--gen
-00007150: 6573 6973 2d75 726c 222c 0a20 2020 2020  esis-url",.     
-00007160: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
-00007170: 0a20 2020 2020 2020 2020 2020 2064 6573  .            des
-00007180: 743d 2267 656e 6573 6973 5f75 726c 222c  t="genesis_url",
-00007190: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-000071a0: 6176 6172 3d22 3c67 656e 6573 6973 2d75  avar="<genesis-u
-000071b0: 726c 3e22 2c0a 2020 2020 2020 2020 2020  rl>",.          
-000071c0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-000071d0: 5f47 454e 4553 4953 5f55 524c 222c 0a20  _GENESIS_URL",. 
-000071e0: 2020 2020 2020 2020 2020 2068 656c 703d             help=
-000071f0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00007200: 2020 2253 7065 6369 6669 6573 2074 6865    "Specifies the
-00007210: 2075 726c 2066 726f 6d20 7768 6963 6820   url from which 
-00007220: 746f 2064 6f77 6e6c 6f61 6420 7468 6520  to download the 
-00007230: 6765 6e65 7369 7320 220a 2020 2020 2020  genesis ".      
-00007240: 2020 2020 2020 2020 2020 2274 7261 6e73            "trans
-00007250: 6163 7469 6f6e 732e 2046 6f72 2065 7861  actions. For exa
-00007260: 6d70 6c65 2c20 6966 2079 6f75 2061 7265  mple, if you are
-00007270: 2075 7369 6e67 2027 766f 6e2d 6e65 7477   using 'von-netw
-00007280: 6f72 6b27 2c20 220a 2020 2020 2020 2020  ork', ".        
-00007290: 2020 2020 2020 2020 2274 6865 2055 524c          "the URL
-000072a0: 206d 6967 6874 2062 6520 2768 7474 703a   might be 'http:
-000072b0: 2f2f 6c6f 6361 6c68 6f73 743a 3930 3030  //localhost:9000
-000072c0: 2f67 656e 6573 6973 272e 2022 0a20 2020  /genesis'. ".   
-000072d0: 2020 2020 2020 2020 2020 2020 2022 4765               "Ge
-000072e0: 6e65 7369 7320 7472 616e 7361 6374 696f  nesis transactio
-000072f0: 6e73 2055 524c 7320 6172 6520 6176 6169  ns URLs are avai
-00007300: 6c61 626c 6520 666f 7220 7468 6520 220a  lable for the ".
-00007310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007320: 2253 6f76 7269 6e20 7465 7374 2f6d 6169  "Sovrin test/mai
-00007330: 6e20 6e65 7477 6f72 6b73 2e22 0a20 2020  n networks.".   
-00007340: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
-00007350: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
-00007360: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
-00007370: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
-00007380: 2d2d 6e6f 2d6c 6564 6765 7222 2c0a 2020  --no-ledger",.  
-00007390: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
-000073a0: 3d22 7374 6f72 655f 7472 7565 222c 0a20  ="store_true",. 
-000073b0: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-000073c0: 6172 3d22 4143 4150 595f 4e4f 5f4c 4544  ar="ACAPY_NO_LED
-000073d0: 4745 5222 2c0a 2020 2020 2020 2020 2020  GER",.          
-000073e0: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
-000073f0: 2020 2020 2020 2020 2022 5370 6563 6966           "Specif
-00007400: 6965 7320 7468 6174 2061 6361 2d70 7920  ies that aca-py 
-00007410: 7769 6c6c 2072 756e 2077 6974 6820 6e6f  will run with no
-00007420: 206c 6564 6765 7220 636f 6e66 6967 7572   ledger configur
-00007430: 6564 2e20 220a 2020 2020 2020 2020 2020  ed. ".          
-00007440: 2020 2020 2020 2254 6869 7320 6d75 7374        "This must
-00007450: 2062 6520 7365 7420 6966 2072 756e 6e69   be set if runni
-00007460: 6e67 2069 6e20 6e6f 2d6c 6564 6765 7220  ng in no-ledger 
-00007470: 6d6f 6465 2e20 204f 7665 7272 6964 6573  mode.  Overrides
-00007480: 2061 6e79 2022 0a20 2020 2020 2020 2020   any ".         
-00007490: 2020 2020 2020 2022 7370 6563 6966 6965         "specifie
-000074a0: 6420 6c65 6467 6572 206f 7220 6765 6e65  d ledger or gene
-000074b0: 7369 7320 636f 6e66 6967 7572 6174 696f  sis configuratio
-000074c0: 6e73 2e20 2044 6566 6175 6c74 3a20 6661  ns.  Default: fa
-000074d0: 6c73 652e 220a 2020 2020 2020 2020 2020  lse.".          
-000074e0: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
-000074f0: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-00007500: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-00007510: 2020 2020 2020 2020 222d 2d6c 6564 6765          "--ledge
-00007520: 722d 6b65 6570 616c 6976 6522 2c0a 2020  r-keepalive",.  
-00007530: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-00007540: 743d 352c 0a20 2020 2020 2020 2020 2020  t=5,.           
-00007550: 2074 7970 653d 426f 756e 6465 6449 6e74   type=BoundedInt
-00007560: 286d 696e 3d35 292c 0a20 2020 2020 2020  (min=5),.       
-00007570: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
-00007580: 4150 595f 4c45 4447 4552 5f4b 4545 505f  APY_LEDGER_KEEP_
-00007590: 414c 4956 4522 2c0a 2020 2020 2020 2020  ALIVE",.        
-000075a0: 2020 2020 6865 6c70 3d22 5370 6563 6966      help="Specif
-000075b0: 6965 7320 686f 7720 6d61 6e79 2073 6563  ies how many sec
-000075c0: 6f6e 6473 2074 6f20 6b65 6570 2074 6865  onds to keep the
-000075d0: 206c 6564 6765 7220 6f70 656e 2e20 4465   ledger open. De
-000075e0: 6661 756c 743a 2035 222c 0a20 2020 2020  fault: 5",.     
-000075f0: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
-00007600: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-00007610: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-00007620: 2d6c 6564 6765 722d 736f 636b 732d 7072  -ledger-socks-pr
-00007630: 6f78 7922 2c0a 2020 2020 2020 2020 2020  oxy",.          
-00007640: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
-00007650: 2020 2020 2020 2020 6465 7374 3d22 6c65          dest="le
-00007660: 6467 6572 5f73 6f63 6b73 5f70 726f 7879  dger_socks_proxy
-00007670: 222c 0a20 2020 2020 2020 2020 2020 206d  ",.            m
-00007680: 6574 6176 6172 3d22 3c68 6f73 743a 706f  etavar="<host:po
-00007690: 7274 3e22 2c0a 2020 2020 2020 2020 2020  rt>",.          
-000076a0: 2020 7265 7175 6972 6564 3d46 616c 7365    required=False
-000076b0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
-000076c0: 765f 7661 723d 2241 4341 5059 5f4c 4544  v_var="ACAPY_LED
-000076d0: 4745 525f 534f 434b 535f 5052 4f58 5922  GER_SOCKS_PROXY"
-000076e0: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-000076f0: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-00007700: 2020 2020 2022 5370 6563 6966 6965 7320       "Specifies 
-00007710: 7468 6520 736f 636b 7320 7072 6f78 7920  the socks proxy 
-00007720: 284e 4f54 2068 7474 7020 7072 6f78 7929  (NOT http proxy)
-00007730: 2068 6f73 746e 616d 6520 616e 6420 706f   hostname and po
-00007740: 7274 2069 6e20 666f 726d 6174 2022 0a20  rt in format ". 
-00007750: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00007760: 2768 6f73 746e 616d 653a 706f 7274 272e  'hostname:port'.
-00007770: 2054 6869 7320 6973 2061 6e20 6f70 7469   This is an opti
-00007780: 6f6e 616c 2070 6172 616d 6574 6572 2074  onal parameter t
-00007790: 6f20 6265 2070 6173 7365 6420 746f 206c  o be passed to l
-000077a0: 6564 6765 7220 220a 2020 2020 2020 2020  edger ".        
-000077b0: 2020 2020 2020 2020 2270 6f6f 6c20 636f          "pool co
-000077c0: 6e66 6967 7572 6174 696f 6e20 616e 6420  nfiguration and 
-000077d0: 5a4d 5120 696e 2063 6173 6520 6966 2061  ZMQ in case if a
-000077e0: 6361 2d70 7920 6973 2072 756e 6e69 6e67  ca-py is running
-000077f0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00007800: 2020 2022 696e 2061 2063 6f72 706f 7261     "in a corpora
-00007810: 7465 2f70 7269 7661 7465 206e 6574 776f  te/private netwo
-00007820: 726b 2062 6568 696e 6420 6120 636f 7270  rk behind a corp
-00007830: 6f72 6174 6520 7072 6f78 7920 616e 6420  orate proxy and 
-00007840: 7769 6c6c 2022 0a20 2020 2020 2020 2020  will ".         
-00007850: 2020 2020 2020 2022 636f 6e6e 6563 7420         "connect 
-00007860: 746f 2074 6865 2070 7562 6c69 6320 286f  to the public (o
-00007870: 7574 7369 6465 206f 6620 636f 7270 6f72  utside of corpor
-00007880: 6174 6520 6e65 7477 6f72 6b29 206c 6564  ate network) led
-00007890: 6765 7220 706f 6f6c 220a 2020 2020 2020  ger pool".      
-000078a0: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
-000078b0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
-000078c0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
-000078d0: 2020 2020 2020 2020 2020 2020 222d 2d67              "--g
-000078e0: 656e 6573 6973 2d74 7261 6e73 6163 7469  enesis-transacti
-000078f0: 6f6e 732d 6c69 7374 222c 0a20 2020 2020  ons-list",.     
-00007900: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
-00007910: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-00007920: 7569 7265 643d 4661 6c73 652c 0a20 2020  uired=False,.   
-00007930: 2020 2020 2020 2020 2064 6573 743d 2267           dest="g
-00007940: 656e 6573 6973 5f74 7261 6e73 6163 7469  enesis_transacti
-00007950: 6f6e 735f 6c69 7374 222c 0a20 2020 2020  ons_list",.     
-00007960: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
-00007970: 3c67 656e 6573 6973 2d74 7261 6e73 6163  <genesis-transac
-00007980: 7469 6f6e 732d 6c69 7374 3e22 2c0a 2020  tions-list>",.  
-00007990: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
-000079a0: 723d 2241 4341 5059 5f47 454e 4553 4953  r="ACAPY_GENESIS
-000079b0: 5f54 5241 4e53 4143 5449 4f4e 535f 4c49  _TRANSACTIONS_LI
-000079c0: 5354 222c 0a20 2020 2020 2020 2020 2020  ST",.           
-000079d0: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
-000079e0: 2020 2020 2020 2020 224c 6f61 6420 5941          "Load YA
-000079f0: 4d4c 2063 6f6e 6669 6775 7261 7469 6f6e  ML configuration
-00007a00: 2066 6f72 2063 6f6e 6e65 6374 696e 6720   for connecting 
-00007a10: 746f 206d 756c 7469 706c 6522 0a20 2020  to multiple".   
-00007a20: 2020 2020 2020 2020 2020 2020 2022 2048               " H
-00007a30: 7970 6572 4c65 6467 6572 2049 6e64 7920  yperLedger Indy 
-00007a40: 6c65 6467 6572 732e 220a 2020 2020 2020  ledgers.".      
-00007a50: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
-00007a60: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
-00007a70: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
-00007a80: 2020 2020 2020 2020 2020 2020 222d 2d61              "--a
-00007a90: 6363 6570 742d 7461 6122 2c0a 2020 2020  ccept-taa",.    
-00007aa0: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
-00007ab0: 2c0a 2020 2020 2020 2020 2020 2020 6e61  ,.            na
-00007ac0: 7267 733d 322c 0a20 2020 2020 2020 2020  rgs=2,.         
-00007ad0: 2020 206d 6574 6176 6172 3d28 223c 6163     metavar=("<ac
-00007ae0: 6365 7074 616e 6365 2d6d 6563 6861 6e69  ceptance-mechani
-00007af0: 736d 3e22 2c20 223c 7461 612d 7665 7273  sm>", "<taa-vers
-00007b00: 696f 6e3e 2229 2c0a 2020 2020 2020 2020  ion>"),.        
-00007b10: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
-00007b20: 5059 5f41 4343 4550 545f 5441 4122 2c0a  PY_ACCEPT_TAA",.
-00007b30: 2020 2020 2020 2020 2020 2020 6865 6c70              help
-00007b40: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
-00007b50: 2020 2022 5370 6563 6966 7920 7468 6520     "Specify the 
-00007b60: 6163 6365 7074 616e 6365 206d 6563 6861  acceptance mecha
-00007b70: 6e69 736d 2061 6e64 2074 6161 2076 6572  nism and taa ver
-00007b80: 7369 6f6e 2066 6f72 2077 6869 6368 2074  sion for which t
-00007b90: 6f20 6163 6365 7074 220a 2020 2020 2020  o accept".      
-00007ba0: 2020 2020 2020 2020 2020 2220 7468 6520            " the 
-00007bb0: 7472 616e 7361 6374 696f 6e20 6175 7468  transaction auth
-00007bc0: 6f72 2061 6772 6565 6d65 6e74 2e20 4966  or agreement. If
-00007bd0: 206e 6f74 2070 726f 7669 6465 642c 2074   not provided, t
-00007be0: 6865 2054 4141 206d 7573 7422 0a20 2020  he TAA must".   
-00007bf0: 2020 2020 2020 2020 2020 2020 2022 2062               " b
-00007c00: 6520 6163 6365 7074 6564 2074 6872 6f75  e accepted throu
-00007c10: 6768 2074 6865 2054 5459 206f 7220 7468  gh the TTY or th
-00007c20: 6520 6164 6d69 6e20 4150 492e 220a 2020  e admin API.".  
-00007c30: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
-00007c40: 2020 2020 2029 0a0a 2020 2020 6465 6620       )..    def 
-00007c50: 6765 745f 7365 7474 696e 6773 2873 656c  get_settings(sel
-00007c60: 662c 2061 7267 733a 204e 616d 6573 7061  f, args: Namespa
-00007c70: 6365 2920 2d3e 2064 6963 743a 0a20 2020  ce) -> dict:.   
-00007c80: 2020 2020 2022 2222 4578 7472 6163 7420       """Extract 
-00007c90: 6c65 6467 6572 2073 6574 7469 6e67 732e  ledger settings.
-00007ca0: 2222 220a 2020 2020 2020 2020 7365 7474  """.        sett
-00007cb0: 696e 6773 203d 207b 7d0a 2020 2020 2020  ings = {}.      
-00007cc0: 2020 6966 2061 7267 732e 6e6f 5f6c 6564    if args.no_led
-00007cd0: 6765 723a 0a20 2020 2020 2020 2020 2020  ger:.           
-00007ce0: 2073 6574 7469 6e67 735b 226c 6564 6765   settings["ledge
-00007cf0: 722e 6469 7361 626c 6564 225d 203d 2054  r.disabled"] = T
-00007d00: 7275 650a 2020 2020 2020 2020 656c 7365  rue.        else
-00007d10: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00007d20: 6e66 6967 7572 6564 203d 2046 616c 7365  nfigured = False
-00007d30: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00007d40: 6172 6773 2e67 656e 6573 6973 5f75 726c  args.genesis_url
-00007d50: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00007d60: 2020 7365 7474 696e 6773 5b22 6c65 6467    settings["ledg
-00007d70: 6572 2e67 656e 6573 6973 5f75 726c 225d  er.genesis_url"]
-00007d80: 203d 2061 7267 732e 6765 6e65 7369 735f   = args.genesis_
-00007d90: 7572 6c0a 2020 2020 2020 2020 2020 2020  url.            
-00007da0: 2020 2020 636f 6e66 6967 7572 6564 203d      configured =
-00007db0: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
-00007dc0: 2020 656c 6966 2061 7267 732e 6765 6e65    elif args.gene
-00007dd0: 7369 735f 6669 6c65 3a0a 2020 2020 2020  sis_file:.      
-00007de0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-00007df0: 6773 5b22 6c65 6467 6572 2e67 656e 6573  gs["ledger.genes
-00007e00: 6973 5f66 696c 6522 5d20 3d20 6172 6773  is_file"] = args
-00007e10: 2e67 656e 6573 6973 5f66 696c 650a 2020  .genesis_file.  
-00007e20: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00007e30: 6e66 6967 7572 6564 203d 2054 7275 650a  nfigured = True.
-00007e40: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00007e50: 2061 7267 732e 6765 6e65 7369 735f 7472   args.genesis_tr
-00007e60: 616e 7361 6374 696f 6e73 3a0a 2020 2020  ansactions:.    
-00007e70: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00007e80: 696e 6773 5b22 6c65 6467 6572 2e67 656e  ings["ledger.gen
-00007e90: 6573 6973 5f74 7261 6e73 6163 7469 6f6e  esis_transaction
-00007ea0: 7322 5d20 3d20 6172 6773 2e67 656e 6573  s"] = args.genes
-00007eb0: 6973 5f74 7261 6e73 6163 7469 6f6e 730a  is_transactions.
-00007ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ed0: 636f 6e66 6967 7572 6564 203d 2054 7275  configured = Tru
-00007ee0: 650a 2020 2020 2020 2020 2020 2020 6966  e.            if
-00007ef0: 2061 7267 732e 6765 6e65 7369 735f 7472   args.genesis_tr
-00007f00: 616e 7361 6374 696f 6e73 5f6c 6973 743a  ansactions_list:
-00007f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007f20: 2077 6974 6820 6f70 656e 2861 7267 732e   with open(args.
-00007f30: 6765 6e65 7369 735f 7472 616e 7361 6374  genesis_transact
-00007f40: 696f 6e73 5f6c 6973 742c 2022 7222 2920  ions_list, "r") 
-00007f50: 6173 2073 7472 6561 6d3a 0a20 2020 2020  as stream:.     
-00007f60: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-00007f70: 786e 5f63 6f6e 6669 675f 6c69 7374 203d  xn_config_list =
-00007f80: 2079 616d 6c2e 7361 6665 5f6c 6f61 6428   yaml.safe_load(
-00007f90: 7374 7265 616d 290a 2020 2020 2020 2020  stream).        
-00007fa0: 2020 2020 2020 2020 2020 2020 6c65 6467              ledg
-00007fb0: 6572 5f63 6f6e 6669 675f 6c69 7374 203d  er_config_list =
-00007fc0: 205b 5d0a 2020 2020 2020 2020 2020 2020   [].            
-00007fd0: 2020 2020 2020 2020 666f 7220 7478 6e5f          for txn_
-00007fe0: 636f 6e66 6967 2069 6e20 7478 6e5f 636f  config in txn_co
-00007ff0: 6e66 6967 5f6c 6973 743a 0a20 2020 2020  nfig_list:.     
-00008000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008010: 2020 206c 6564 6765 725f 636f 6e66 6967     ledger_config
-00008020: 5f6c 6973 742e 6170 7065 6e64 2874 786e  _list.append(txn
-00008030: 5f63 6f6e 6669 6729 0a20 2020 2020 2020  _config).       
-00008040: 2020 2020 2020 2020 2020 2020 2073 6574               set
-00008050: 7469 6e67 735b 226c 6564 6765 722e 6c65  tings["ledger.le
-00008060: 6467 6572 5f63 6f6e 6669 675f 6c69 7374  dger_config_list
-00008070: 225d 203d 206c 6564 6765 725f 636f 6e66  "] = ledger_conf
-00008080: 6967 5f6c 6973 740a 2020 2020 2020 2020  ig_list.        
-00008090: 2020 2020 2020 2020 2020 2020 636f 6e66              conf
-000080a0: 6967 7572 6564 203d 2054 7275 650a 2020  igured = True.  
-000080b0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-000080c0: 2063 6f6e 6669 6775 7265 643a 0a20 2020   configured:.   
-000080d0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-000080e0: 7365 2041 7267 7350 6172 7365 4572 726f  se ArgsParseErro
-000080f0: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
-00008100: 2020 2020 2020 2022 4f6e 6520 6f66 202d         "One of -
-00008110: 2d67 656e 6573 6973 2d75 726c 202d 2d67  -genesis-url --g
-00008120: 656e 6573 6973 2d66 696c 652c 202d 2d67  enesis-file, --g
-00008130: 656e 6573 6973 2d74 7261 6e73 6163 7469  enesis-transacti
-00008140: 6f6e 7320 220a 2020 2020 2020 2020 2020  ons ".          
-00008150: 2020 2020 2020 2020 2020 226f 7220 2d2d            "or --
-00008160: 6765 6e65 7369 732d 7472 616e 7361 6374  genesis-transact
-00008170: 696f 6e73 2d6c 6973 7420 6d75 7374 2062  ions-list must b
-00008180: 6520 7370 6563 6966 6965 6420 2875 6e6c  e specified (unl
-00008190: 6573 7320 220a 2020 2020 2020 2020 2020  ess ".          
-000081a0: 2020 2020 2020 2020 2020 222d 2d6e 6f2d            "--no-
-000081b0: 6c65 6467 6572 2069 7320 7370 6563 6966  ledger is specif
-000081c0: 6965 6420 746f 2065 7870 6c69 6369 746c  ied to explicitl
-000081d0: 7920 636f 6e66 6967 7572 6520 6163 612d  y configure aca-
-000081e0: 7079 2074 6f22 0a20 2020 2020 2020 2020  py to".         
-000081f0: 2020 2020 2020 2020 2020 2022 2072 756e             " run
-00008200: 2077 6974 6820 6e6f 206c 6564 6765 7229   with no ledger)
-00008210: 2e22 0a20 2020 2020 2020 2020 2020 2020  .".             
-00008220: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00008230: 2069 6620 6172 6773 2e6c 6564 6765 725f   if args.ledger_
-00008240: 706f 6f6c 5f6e 616d 653a 0a20 2020 2020  pool_name:.     
-00008250: 2020 2020 2020 2020 2020 2073 6574 7469             setti
-00008260: 6e67 735b 226c 6564 6765 722e 706f 6f6c  ngs["ledger.pool
-00008270: 5f6e 616d 6522 5d20 3d20 6172 6773 2e6c  _name"] = args.l
-00008280: 6564 6765 725f 706f 6f6c 5f6e 616d 650a  edger_pool_name.
-00008290: 2020 2020 2020 2020 2020 2020 6966 2061              if a
-000082a0: 7267 732e 6c65 6467 6572 5f6b 6565 7061  rgs.ledger_keepa
-000082b0: 6c69 7665 3a0a 2020 2020 2020 2020 2020  live:.          
-000082c0: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
-000082d0: 6c65 6467 6572 2e6b 6565 7061 6c69 7665  ledger.keepalive
-000082e0: 225d 203d 2061 7267 732e 6c65 6467 6572  "] = args.ledger
-000082f0: 5f6b 6565 7061 6c69 7665 0a20 2020 2020  _keepalive.     
-00008300: 2020 2020 2020 2069 6620 6172 6773 2e6c         if args.l
-00008310: 6564 6765 725f 736f 636b 735f 7072 6f78  edger_socks_prox
-00008320: 793a 0a20 2020 2020 2020 2020 2020 2020  y:.             
-00008330: 2020 2073 6574 7469 6e67 735b 226c 6564     settings["led
-00008340: 6765 722e 736f 636b 735f 7072 6f78 7922  ger.socks_proxy"
-00008350: 5d20 3d20 6172 6773 2e6c 6564 6765 725f  ] = args.ledger_
-00008360: 736f 636b 735f 7072 6f78 790a 2020 2020  socks_proxy.    
-00008370: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
-00008380: 6163 6365 7074 5f74 6161 3a0a 2020 2020  accept_taa:.    
-00008390: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-000083a0: 696e 6773 5b22 6c65 6467 6572 2e74 6161  ings["ledger.taa
-000083b0: 5f61 6363 6570 7461 6e63 655f 6d65 6368  _acceptance_mech
-000083c0: 616e 6973 6d22 5d20 3d20 6172 6773 2e61  anism"] = args.a
-000083d0: 6363 6570 745f 7461 615b 305d 0a20 2020  ccept_taa[0].   
-000083e0: 2020 2020 2020 2020 2020 2020 2073 6574               set
-000083f0: 7469 6e67 735b 226c 6564 6765 722e 7461  tings["ledger.ta
-00008400: 615f 6163 6365 7074 616e 6365 5f76 6572  a_acceptance_ver
-00008410: 7369 6f6e 225d 203d 2061 7267 732e 6163  sion"] = args.ac
-00008420: 6365 7074 5f74 6161 5b31 5d0a 0a20 2020  cept_taa[1]..   
-00008430: 2020 2020 2072 6574 7572 6e20 7365 7474       return sett
-00008440: 696e 6773 0a0a 0a40 6772 6f75 7028 4341  ings...@group(CA
-00008450: 545f 5052 4f56 4953 494f 4e2c 2043 4154  T_PROVISION, CAT
-00008460: 5f53 5441 5254 290a 636c 6173 7320 4c6f  _START).class Lo
-00008470: 6767 696e 6747 726f 7570 2841 7267 756d  ggingGroup(Argum
-00008480: 656e 7447 726f 7570 293a 0a20 2020 2022  entGroup):.    "
-00008490: 2222 4c6f 6767 696e 6720 7365 7474 696e  ""Logging settin
-000084a0: 6773 2e22 2222 0a0a 2020 2020 4752 4f55  gs."""..    GROU
-000084b0: 505f 4e41 4d45 203d 2022 4c6f 6767 696e  P_NAME = "Loggin
-000084c0: 6722 0a0a 2020 2020 6465 6620 6164 645f  g"..    def add_
-000084d0: 6172 6775 6d65 6e74 7328 7365 6c66 2c20  arguments(self, 
-000084e0: 7061 7273 6572 3a20 4172 6775 6d65 6e74  parser: Argument
-000084f0: 5061 7273 6572 293a 0a20 2020 2020 2020  Parser):.       
-00008500: 2022 2222 4164 6420 6c6f 6767 696e 672d   """Add logging-
-00008510: 7370 6563 6966 6963 2063 6f6d 6d61 6e64  specific command
-00008520: 206c 696e 6520 6172 6775 6d65 6e74 7320   line arguments 
-00008530: 746f 2074 6865 2070 6172 7365 722e 2222  to the parser.""
-00008540: 220a 2020 2020 2020 2020 7061 7273 6572  ".        parser
-00008550: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00008560: 2020 2020 2020 2020 2020 2022 2d2d 6c6f             "--lo
-00008570: 672d 636f 6e66 6967 222c 0a20 2020 2020  g-config",.     
-00008580: 2020 2020 2020 2064 6573 743d 226c 6f67         dest="log
-00008590: 5f63 6f6e 6669 6722 2c0a 2020 2020 2020  _config",.      
-000085a0: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-000085b0: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-000085c0: 7661 723d 223c 7061 7468 2d74 6f2d 636f  var="<path-to-co
-000085d0: 6e66 6967 3e22 2c0a 2020 2020 2020 2020  nfig>",.        
-000085e0: 2020 2020 6465 6661 756c 743d 4e6f 6e65      default=None
-000085f0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
-00008600: 765f 7661 723d 2241 4341 5059 5f4c 4f47  v_var="ACAPY_LOG
-00008610: 5f43 4f4e 4649 4722 2c0a 2020 2020 2020  _CONFIG",.      
-00008620: 2020 2020 2020 6865 6c70 3d22 5370 6563        help="Spec
-00008630: 6966 6965 7320 6120 6375 7374 6f6d 206c  ifies a custom l
-00008640: 6f67 6769 6e67 2063 6f6e 6669 6775 7261  ogging configura
-00008650: 7469 6f6e 2066 696c 6522 2c0a 2020 2020  tion file",.    
-00008660: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
-00008670: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
-00008680: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
-00008690: 2d2d 6c6f 672d 6669 6c65 222c 0a20 2020  --log-file",.   
-000086a0: 2020 2020 2020 2020 2064 6573 743d 226c           dest="l
-000086b0: 6f67 5f66 696c 6522 2c0a 2020 2020 2020  og_file",.      
-000086c0: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-000086d0: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-000086e0: 7661 723d 223c 6c6f 672d 6669 6c65 3e22  var="<log-file>"
-000086f0: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
-00008700: 6661 756c 743d 4e6f 6e65 2c0a 2020 2020  fault=None,.    
-00008710: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
-00008720: 2241 4341 5059 5f4c 4f47 5f46 494c 4522  "ACAPY_LOG_FILE"
-00008730: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00008740: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-00008750: 2020 2020 2022 4f76 6572 7269 6465 7320       "Overrides 
-00008760: 7468 6520 6f75 7470 7574 2064 6573 7469  the output desti
-00008770: 6e61 7469 6f6e 2066 6f72 2074 6865 2072  nation for the r
-00008780: 6f6f 7420 6c6f 6767 6572 2028 6173 2064  oot logger (as d
-00008790: 6566 696e 6564 2022 0a20 2020 2020 2020  efined ".       
-000087a0: 2020 2020 2020 2020 2022 6279 2074 6865           "by the
-000087b0: 206c 6f67 2063 6f6e 6669 6720 6669 6c65   log config file
-000087c0: 2920 746f 2074 6865 206e 616d 6564 203c  ) to the named <
-000087d0: 6c6f 672d 6669 6c65 3e2e 220a 2020 2020  log-file>.".    
-000087e0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
-000087f0: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
-00008800: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-00008810: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-00008820: 2d6c 6f67 2d6c 6576 656c 222c 0a20 2020  -log-level",.   
-00008830: 2020 2020 2020 2020 2064 6573 743d 226c           dest="l
-00008840: 6f67 5f6c 6576 656c 222c 0a20 2020 2020  og_level",.     
-00008850: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
-00008860: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-00008870: 6176 6172 3d22 3c6c 6f67 2d6c 6576 656c  avar="<log-level
-00008880: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
-00008890: 6465 6661 756c 743d 4e6f 6e65 2c0a 2020  default=None,.  
-000088a0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
-000088b0: 723d 2241 4341 5059 5f4c 4f47 5f4c 4556  r="ACAPY_LOG_LEV
-000088c0: 454c 222c 0a20 2020 2020 2020 2020 2020  EL",.           
-000088d0: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
-000088e0: 2020 2020 2020 2020 2253 7065 6369 6669          "Specifi
-000088f0: 6573 2061 2063 7573 746f 6d20 6c6f 6767  es a custom logg
-00008900: 696e 6720 6c65 7665 6c20 6173 206f 6e65  ing level as one
-00008910: 206f 663a 2022 0a20 2020 2020 2020 2020   of: ".         
-00008920: 2020 2020 2020 2022 2827 6465 6275 6727         "('debug'
-00008930: 2c20 2769 6e66 6f27 2c20 2777 6172 6e69  , 'info', 'warni
-00008940: 6e67 272c 2027 6572 726f 7227 2c20 2763  ng', 'error', 'c
-00008950: 7269 7469 6361 6c27 2922 0a20 2020 2020  ritical')".     
-00008960: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
-00008970: 2020 290a 0a20 2020 2064 6566 2067 6574    )..    def get
-00008980: 5f73 6574 7469 6e67 7328 7365 6c66 2c20  _settings(self, 
-00008990: 6172 6773 3a20 4e61 6d65 7370 6163 6529  args: Namespace)
-000089a0: 202d 3e20 6469 6374 3a0a 2020 2020 2020   -> dict:.      
-000089b0: 2020 2222 2245 7874 7261 6374 206c 6f67    """Extract log
-000089c0: 6769 6e67 2073 6574 7469 6e67 732e 2222  ging settings.""
-000089d0: 220a 2020 2020 2020 2020 7365 7474 696e  ".        settin
-000089e0: 6773 203d 207b 7d0a 2020 2020 2020 2020  gs = {}.        
-000089f0: 6966 2061 7267 732e 6c6f 675f 636f 6e66  if args.log_conf
-00008a00: 6967 3a0a 2020 2020 2020 2020 2020 2020  ig:.            
-00008a10: 7365 7474 696e 6773 5b22 6c6f 672e 636f  settings["log.co
-00008a20: 6e66 6967 225d 203d 2061 7267 732e 6c6f  nfig"] = args.lo
-00008a30: 675f 636f 6e66 6967 0a20 2020 2020 2020  g_config.       
-00008a40: 2069 6620 6172 6773 2e6c 6f67 5f66 696c   if args.log_fil
-00008a50: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00008a60: 6574 7469 6e67 735b 226c 6f67 2e66 696c  ettings["log.fil
-00008a70: 6522 5d20 3d20 6172 6773 2e6c 6f67 5f66  e"] = args.log_f
-00008a80: 696c 650a 2020 2020 2020 2020 6966 2061  ile.        if a
-00008a90: 7267 732e 6c6f 675f 6c65 7665 6c3a 0a20  rgs.log_level:. 
-00008aa0: 2020 2020 2020 2020 2020 2073 6574 7469             setti
-00008ab0: 6e67 735b 226c 6f67 2e6c 6576 656c 225d  ngs["log.level"]
-00008ac0: 203d 2061 7267 732e 6c6f 675f 6c65 7665   = args.log_leve
-00008ad0: 6c0a 2020 2020 2020 2020 7265 7475 726e  l.        return
-00008ae0: 2073 6574 7469 6e67 730a 0a0a 4067 726f   settings...@gro
-00008af0: 7570 2843 4154 5f53 5441 5254 290a 636c  up(CAT_START).cl
-00008b00: 6173 7320 5072 6f74 6f63 6f6c 4772 6f75  ass ProtocolGrou
-00008b10: 7028 4172 6775 6d65 6e74 4772 6f75 7029  p(ArgumentGroup)
-00008b20: 3a0a 2020 2020 2222 2250 726f 746f 636f  :.    """Protoco
-00008b30: 6c20 7365 7474 696e 6773 2e22 2222 0a0a  l settings."""..
-00008b40: 2020 2020 4752 4f55 505f 4e41 4d45 203d      GROUP_NAME =
-00008b50: 2022 5072 6f74 6f63 6f6c 220a 0a20 2020   "Protocol"..   
-00008b60: 2064 6566 2061 6464 5f61 7267 756d 656e   def add_argumen
-00008b70: 7473 2873 656c 662c 2070 6172 7365 723a  ts(self, parser:
-00008b80: 2041 7267 756d 656e 7450 6172 7365 7229   ArgumentParser)
-00008b90: 3a0a 2020 2020 2020 2020 2222 2241 6464  :.        """Add
-00008ba0: 2070 726f 746f 636f 6c2d 7370 6563 6966   protocol-specif
-00008bb0: 6963 2063 6f6d 6d61 6e64 206c 696e 6520  ic command line 
-00008bc0: 6172 6775 6d65 6e74 7320 746f 2074 6865  arguments to the
-00008bd0: 2070 6172 7365 722e 2222 220a 2020 2020   parser.""".    
-00008be0: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
-00008bf0: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
-00008c00: 2020 2020 2022 2d2d 6175 746f 2d70 696e       "--auto-pin
-00008c10: 672d 636f 6e6e 6563 7469 6f6e 222c 0a20  g-connection",. 
-00008c20: 2020 2020 2020 2020 2020 2061 6374 696f             actio
-00008c30: 6e3d 2273 746f 7265 5f74 7275 6522 2c0a  n="store_true",.
-00008c40: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-00008c50: 7661 723d 2241 4341 5059 5f41 5554 4f5f  var="ACAPY_AUTO_
-00008c60: 5049 4e47 5f43 4f4e 4e45 4354 494f 4e22  PING_CONNECTION"
-00008c70: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00008c80: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-00008c90: 2020 2020 2022 4175 746f 6d61 7469 6361       "Automatica
-00008ca0: 6c6c 7920 7365 6e64 2061 2074 7275 7374  lly send a trust
-00008cb0: 2070 696e 6720 696d 6d65 6469 6174 656c   ping immediatel
-00008cc0: 7920 6166 7465 7220 6120 220a 2020 2020  y after a ".    
-00008cd0: 2020 2020 2020 2020 2020 2020 2263 6f6e              "con
-00008ce0: 6e65 6374 696f 6e20 7265 7370 6f6e 7365  nection response
-00008cf0: 2069 7320 6163 6365 7074 6564 2e20 536f   is accepted. So
-00008d00: 6d65 2061 6765 6e74 7320 7265 7175 6972  me agents requir
-00008d10: 6520 7468 6973 2062 6566 6f72 6520 220a  e this before ".
-00008d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008d30: 226d 6172 6b69 6e67 2061 2063 6f6e 6e65  "marking a conne
-00008d40: 6374 696f 6e20 6173 2027 6163 7469 7665  ction as 'active
-00008d50: 272e 2044 6566 6175 6c74 3a20 6661 6c73  '. Default: fals
-00008d60: 652e 220a 2020 2020 2020 2020 2020 2020  e.".            
-00008d70: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
-00008d80: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-00008d90: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-00008da0: 2020 2020 2020 222d 2d61 7574 6f2d 6163        "--auto-ac
-00008db0: 6365 7074 2d69 6e74 726f 2d69 6e76 6974  cept-intro-invit
-00008dc0: 6174 696f 6e2d 7265 7175 6573 7473 222c  ation-requests",
-00008dd0: 0a20 2020 2020 2020 2020 2020 2061 6374  .            act
-00008de0: 696f 6e3d 2273 746f 7265 5f74 7275 6522  ion="store_true"
-00008df0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
-00008e00: 765f 7661 723d 2241 4341 5059 5f41 5554  v_var="ACAPY_AUT
-00008e10: 4f5f 4143 4345 5054 5f49 4e54 524f 5f49  O_ACCEPT_INTRO_I
-00008e20: 4e56 4954 4154 494f 4e5f 5245 5155 4553  NVITATION_REQUES
-00008e30: 5453 222c 0a20 2020 2020 2020 2020 2020  TS",.           
-00008e40: 2068 656c 703d 2241 7574 6f6d 6174 6963   help="Automatic
-00008e50: 616c 6c79 2061 6363 6570 7420 696e 7472  ally accept intr
-00008e60: 6f64 7563 7469 6f6e 2069 6e76 6974 6174  oduction invitat
-00008e70: 696f 6e73 2e20 4465 6661 756c 743a 2066  ions. Default: f
-00008e80: 616c 7365 2e22 2c0a 2020 2020 2020 2020  alse.",.        
-00008e90: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-00008ea0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00008eb0: 2020 2020 2020 2020 2020 2022 2d2d 696e             "--in
-00008ec0: 7669 7465 2d62 6173 652d 7572 6c22 2c0a  vite-base-url",.
-00008ed0: 2020 2020 2020 2020 2020 2020 7479 7065              type
-00008ee0: 3d73 7472 2c0a 2020 2020 2020 2020 2020  =str,.          
-00008ef0: 2020 6d65 7461 7661 723d 223c 6261 7365    metavar="<base
-00008f00: 2d75 726c 3e22 2c0a 2020 2020 2020 2020  -url>",.        
-00008f10: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
-00008f20: 5059 5f49 4e56 4954 455f 4241 5345 5f55  PY_INVITE_BASE_U
-00008f30: 524c 222c 0a20 2020 2020 2020 2020 2020  RL",.           
-00008f40: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
-00008f50: 2020 2020 2020 2020 2242 6173 6520 5552          "Base UR
-00008f60: 4c20 746f 2075 7365 2077 6865 6e20 666f  L to use when fo
-00008f70: 726d 6174 7469 6e67 2063 6f6e 6e65 6374  rmatting connect
-00008f80: 696f 6e20 696e 7669 7461 7469 6f6e 7320  ion invitations 
-00008f90: 696e 2055 524c 2066 6f72 6d61 742e 220a  in URL format.".
-00008fa0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-00008fb0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00008fc0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-00008fd0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00008fe0: 2020 222d 2d6d 6f6e 6974 6f72 2d70 696e    "--monitor-pin
-00008ff0: 6722 2c0a 2020 2020 2020 2020 2020 2020  g",.            
-00009000: 6163 7469 6f6e 3d22 7374 6f72 655f 7472  action="store_tr
-00009010: 7565 222c 0a20 2020 2020 2020 2020 2020  ue",.           
-00009020: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-00009030: 4d4f 4e49 544f 525f 5049 4e47 222c 0a20  MONITOR_PING",. 
-00009040: 2020 2020 2020 2020 2020 2068 656c 703d             help=
-00009050: 2253 656e 6420 6120 7765 6268 6f6f 6b20  "Send a webhook 
-00009060: 7768 656e 2061 2070 696e 6720 6973 2073  when a ping is s
-00009070: 656e 7420 6f72 2072 6563 6569 7665 642e  ent or received.
-00009080: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
-00009090: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-000090a0: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-000090b0: 2020 2020 2020 222d 2d6d 6f6e 6974 6f72        "--monitor
-000090c0: 2d66 6f72 7761 7264 222c 0a20 2020 2020  -forward",.     
-000090d0: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
-000090e0: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
-000090f0: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
-00009100: 2241 4341 5059 5f4d 4f4e 4954 4f52 5f46  "ACAPY_MONITOR_F
-00009110: 4f52 5741 5244 222c 0a20 2020 2020 2020  ORWARD",.       
-00009120: 2020 2020 2068 656c 703d 2253 656e 6420       help="Send 
-00009130: 6120 7765 6268 6f6f 6b20 7768 656e 2061  a webhook when a
-00009140: 2066 6f72 7761 7264 2069 7320 7265 6365   forward is rece
-00009150: 6976 6564 2e22 2c0a 2020 2020 2020 2020  ived.",.        
-00009160: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-00009170: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00009180: 2020 2020 2020 2020 2020 2022 2d2d 7075             "--pu
-00009190: 626c 6963 2d69 6e76 6974 6573 222c 0a20  blic-invites",. 
-000091a0: 2020 2020 2020 2020 2020 2061 6374 696f             actio
-000091b0: 6e3d 2273 746f 7265 5f74 7275 6522 2c0a  n="store_true",.
-000091c0: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-000091d0: 7661 723d 2241 4341 5059 5f50 5542 4c49  var="ACAPY_PUBLI
-000091e0: 435f 494e 5649 5445 5322 2c0a 2020 2020  C_INVITES",.    
-000091f0: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
-00009200: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00009210: 5365 6e64 2069 6e76 6974 6174 696f 6e73  Send invitations
-00009220: 206f 7574 2c20 616e 6420 7265 6365 6976   out, and receiv
-00009230: 6520 636f 6e6e 6563 7469 6f6e 2072 6571  e connection req
-00009240: 7565 7374 732c 2022 0a20 2020 2020 2020  uests, ".       
-00009250: 2020 2020 2020 2020 2022 7573 696e 6720           "using 
-00009260: 7468 6520 7075 626c 6963 2044 4944 2066  the public DID f
-00009270: 6f72 2074 6865 2061 6765 6e74 2e20 4465  or the agent. De
-00009280: 6661 756c 743a 2066 616c 7365 2e22 0a20  fault: false.". 
-00009290: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
-000092a0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000092b0: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
-000092c0: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
-000092d0: 2022 2d2d 7469 6d69 6e67 222c 0a20 2020   "--timing",.   
-000092e0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
-000092f0: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
-00009300: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
-00009310: 723d 2241 4341 5059 5f54 494d 494e 4722  r="ACAPY_TIMING"
-00009320: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00009330: 6c70 3d22 496e 636c 7564 6520 7469 6d69  lp="Include timi
-00009340: 6e67 2069 6e66 6f72 6d61 7469 6f6e 2069  ng information i
-00009350: 6e20 7265 7370 6f6e 7365 206d 6573 7361  n response messa
-00009360: 6765 732e 222c 0a20 2020 2020 2020 2029  ges.",.        )
-00009370: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
-00009380: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
-00009390: 2020 2020 2020 2020 2020 222d 2d74 696d            "--tim
-000093a0: 696e 672d 6c6f 6722 2c0a 2020 2020 2020  ing-log",.      
-000093b0: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-000093c0: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-000093d0: 7661 723d 223c 6c6f 672d 7061 7468 3e22  var="<log-path>"
-000093e0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
-000093f0: 765f 7661 723d 2241 4341 5059 5f54 494d  v_var="ACAPY_TIM
-00009400: 494e 475f 4c4f 4722 2c0a 2020 2020 2020  ING_LOG",.      
-00009410: 2020 2020 2020 6865 6c70 3d22 5772 6974        help="Writ
-00009420: 6520 7469 6d69 6e67 2069 6e66 6f72 6d61  e timing informa
-00009430: 7469 6f6e 2074 6f20 6120 6769 7665 6e20  tion to a given 
-00009440: 6c6f 6720 6669 6c65 2e22 2c0a 2020 2020  log file.",.    
-00009450: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
-00009460: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
-00009470: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
-00009480: 2d2d 7472 6163 6522 2c0a 2020 2020 2020  --trace",.      
-00009490: 2020 2020 2020 6163 7469 6f6e 3d22 7374        action="st
-000094a0: 6f72 655f 7472 7565 222c 0a20 2020 2020  ore_true",.     
-000094b0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-000094c0: 4143 4150 595f 5452 4143 4522 2c0a 2020  ACAPY_TRACE",.  
-000094d0: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
-000094e0: 4765 6e65 7261 7465 2074 7261 6369 6e67  Generate tracing
-000094f0: 2065 7665 6e74 732e 222c 0a20 2020 2020   events.",.     
-00009500: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
-00009510: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-00009520: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-00009530: 2d74 7261 6365 2d74 6172 6765 7422 2c0a  -trace-target",.
-00009540: 2020 2020 2020 2020 2020 2020 7479 7065              type
-00009550: 3d73 7472 2c0a 2020 2020 2020 2020 2020  =str,.          
-00009560: 2020 6d65 7461 7661 723d 223c 7472 6163    metavar="<trac
-00009570: 652d 7461 7267 6574 3e22 2c0a 2020 2020  e-target>",.    
-00009580: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
-00009590: 2241 4341 5059 5f54 5241 4345 5f54 4152  "ACAPY_TRACE_TAR
-000095a0: 4745 5422 2c0a 2020 2020 2020 2020 2020  GET",.          
-000095b0: 2020 6865 6c70 3d27 5461 7267 6574 2066    help='Target f
-000095c0: 6f72 2074 7261 6365 2065 7665 6e74 7320  or trace events 
-000095d0: 2822 6c6f 6722 2c20 226d 6573 7361 6765  ("log", "message
-000095e0: 222c 206f 7220 6874 7470 2065 6e64 706f  ", or http endpo
-000095f0: 696e 7429 2e27 2c0a 2020 2020 2020 2020  int).',.        
-00009600: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-00009610: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00009620: 2020 2020 2020 2020 2020 2022 2d2d 7472             "--tr
-00009630: 6163 652d 7461 6722 2c0a 2020 2020 2020  ace-tag",.      
-00009640: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-00009650: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-00009660: 7661 723d 223c 7472 6163 652d 7461 673e  var="<trace-tag>
-00009670: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
-00009680: 6e76 5f76 6172 3d22 4143 4150 595f 5452  nv_var="ACAPY_TR
-00009690: 4143 455f 5441 4722 2c0a 2020 2020 2020  ACE_TAG",.      
-000096a0: 2020 2020 2020 6865 6c70 3d22 5461 6720        help="Tag 
-000096b0: 746f 2062 6520 696e 636c 7564 6564 2077  to be included w
-000096c0: 6865 6e20 6c6f 6767 696e 6720 6576 656e  hen logging even
-000096d0: 7473 2e22 2c0a 2020 2020 2020 2020 290a  ts.",.        ).
-000096e0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-000096f0: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00009700: 2020 2020 2020 2020 2022 2d2d 7472 6163           "--trac
-00009710: 652d 6c61 6265 6c22 2c0a 2020 2020 2020  e-label",.      
-00009720: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-00009730: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-00009740: 7661 723d 223c 7472 6163 652d 6c61 6265  var="<trace-labe
-00009750: 6c3e 222c 0a20 2020 2020 2020 2020 2020  l>",.           
-00009760: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-00009770: 5452 4143 455f 4c41 4245 4c22 2c0a 2020  TRACE_LABEL",.  
-00009780: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
-00009790: 4c61 6265 6c20 2861 6765 6e74 206e 616d  Label (agent nam
-000097a0: 6529 2075 7365 6420 6c6f 6767 696e 6720  e) used logging 
-000097b0: 6576 656e 7473 2e22 2c0a 2020 2020 2020  events.",.      
-000097c0: 2020 290a 2020 2020 2020 2020 7061 7273    ).        pars
-000097d0: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
-000097e0: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
-000097f0: 7072 6573 6572 7665 2d65 7863 6861 6e67  preserve-exchang
-00009800: 652d 7265 636f 7264 7322 2c0a 2020 2020  e-records",.    
-00009810: 2020 2020 2020 2020 6163 7469 6f6e 3d22          action="
-00009820: 7374 6f72 655f 7472 7565 222c 0a20 2020  store_true",.   
-00009830: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
-00009840: 3d22 4143 4150 595f 5052 4553 4552 5645  ="ACAPY_PRESERVE
-00009850: 5f45 5843 4841 4e47 455f 5245 434f 5244  _EXCHANGE_RECORD
-00009860: 5322 2c0a 2020 2020 2020 2020 2020 2020  S",.            
-00009870: 6865 6c70 3d22 4b65 6570 2063 7265 6465  help="Keep crede
-00009880: 6e74 6961 6c20 6578 6368 616e 6765 2072  ntial exchange r
-00009890: 6563 6f72 6473 2061 6674 6572 2065 7863  ecords after exc
-000098a0: 6861 6e67 6520 6861 7320 636f 6d70 6c65  hange has comple
-000098b0: 7465 642e 222c 0a20 2020 2020 2020 2029  ted.",.        )
-000098c0: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
-000098d0: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
-000098e0: 2020 2020 2020 2020 2020 222d 2d65 6d69            "--emi
-000098f0: 742d 6e65 772d 6469 6463 6f6d 6d2d 7072  t-new-didcomm-pr
-00009900: 6566 6978 222c 0a20 2020 2020 2020 2020  efix",.         
-00009910: 2020 2061 6374 696f 6e3d 2273 746f 7265     action="store
-00009920: 5f74 7275 6522 2c0a 2020 2020 2020 2020  _true",.        
-00009930: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
-00009940: 5059 5f45 4d49 545f 4e45 575f 4449 4443  PY_EMIT_NEW_DIDC
-00009950: 4f4d 4d5f 5052 4546 4958 222c 0a20 2020  OMM_PREFIX",.   
-00009960: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
-00009970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009980: 2245 6d69 7420 7072 6f74 6f63 6f6c 206d  "Emit protocol m
-00009990: 6573 7361 6765 7320 7769 7468 206e 6577  essages with new
-000099a0: 2044 4944 436f 6d6d 2070 7265 6669 783b   DIDComm prefix;
-000099b0: 2069 2e65 2e2c 2022 0a20 2020 2020 2020   i.e., ".       
-000099c0: 2020 2020 2020 2020 2022 2768 7474 7073           "'https
-000099d0: 3a2f 2f64 6964 636f 6d6d 2e6f 7267 2f27  ://didcomm.org/'
-000099e0: 2069 6e73 7465 6164 206f 6620 2864 6566   instead of (def
-000099f0: 6175 6c74 2920 7072 6566 6978 2022 0a20  ault) prefix ". 
-00009a00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00009a10: 2764 6964 3a73 6f76 3a42 7a43 6273 4e59  'did:sov:BzCbsNY
-00009a20: 684d 726a 4869 715a 4454 5541 5348 673b  hMrjHiqZDTUASHg;
-00009a30: 7370 6563 2f27 2e22 0a20 2020 2020 2020  spec/'.".       
-00009a40: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-00009a50: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-00009a60: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00009a70: 2020 2020 2020 2020 2020 2022 2d2d 656d             "--em
-00009a80: 6974 2d6e 6577 2d64 6964 636f 6d6d 2d6d  it-new-didcomm-m
-00009a90: 696d 652d 7479 7065 222c 0a20 2020 2020  ime-type",.     
-00009aa0: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
-00009ab0: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
-00009ac0: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
-00009ad0: 2241 4341 5059 5f45 4d49 545f 4e45 575f  "ACAPY_EMIT_NEW_
-00009ae0: 4449 4443 4f4d 4d5f 4d49 4d45 5f54 5950  DIDCOMM_MIME_TYP
-00009af0: 4522 2c0a 2020 2020 2020 2020 2020 2020  E",.            
-00009b00: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
-00009b10: 2020 2020 2020 2022 5365 6e64 2070 6163         "Send pac
-00009b20: 6b65 6420 6167 656e 7420 6d65 7373 6167  ked agent messag
-00009b30: 6573 2077 6974 6820 7468 6520 4449 4443  es with the DIDC
-00009b40: 6f6d 6d20 4d49 4d45 2074 7970 6520 220a  omm MIME type ".
-00009b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009b60: 2261 7320 6f66 2052 4643 2030 3034 343b  "as of RFC 0044;
-00009b70: 2069 2e65 2e2c 2027 6170 706c 6963 6174   i.e., 'applicat
-00009b80: 696f 6e2f 6469 6463 6f6d 6d2d 656e 7665  ion/didcomm-enve
-00009b90: 6c6f 7065 2d65 6e63 2720 220a 2020 2020  lope-enc' ".    
-00009ba0: 2020 2020 2020 2020 2020 2020 2269 6e73              "ins
-00009bb0: 7465 6164 206f 6620 2761 7070 6c69 6361  tead of 'applica
-00009bc0: 7469 6f6e 2f73 7369 2d61 6765 6e74 2d77  tion/ssi-agent-w
-00009bd0: 6972 6527 2e22 0a20 2020 2020 2020 2020  ire'.".         
-00009be0: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00009bf0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00009c00: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00009c10: 2020 2020 2020 2020 2022 2d2d 6578 6368           "--exch
-00009c20: 2d75 7365 2d75 6e65 6e63 7279 7074 6564  -use-unencrypted
-00009c30: 2d74 6167 7322 2c0a 2020 2020 2020 2020  -tags",.        
-00009c40: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
-00009c50: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
-00009c60: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
-00009c70: 4150 595f 4558 4348 5f55 5345 5f55 4e45  APY_EXCH_USE_UNE
-00009c80: 4e43 5259 5054 4544 5f54 4147 5322 2c0a  NCRYPTED_TAGS",.
-00009c90: 2020 2020 2020 2020 2020 2020 6865 6c70              help
-00009ca0: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
-00009cb0: 2020 2022 5374 6f72 6520 7461 6773 2066     "Store tags f
-00009cc0: 6f72 2065 7863 6861 6e67 6520 7072 6f74  or exchange prot
-00009cd0: 6f63 6f6c 7320 2863 7265 6465 6e74 6961  ocols (credentia
-00009ce0: 6c20 616e 6420 7072 6573 656e 7461 7469  l and presentati
-00009cf0: 6f6e 2920 220a 2020 2020 2020 2020 2020  on) ".          
-00009d00: 2020 2020 2020 2275 7369 6e67 2075 6e65        "using une
-00009d10: 6e63 7279 7074 6564 2072 6174 6865 7220  ncrypted rather 
-00009d20: 7468 616e 2065 6e63 7279 7074 6564 2074  than encrypted t
-00009d30: 6167 7322 0a20 2020 2020 2020 2020 2020  ags".           
-00009d40: 2029 2c0a 2020 2020 2020 2020 290a 0a20   ),.        ).. 
-00009d50: 2020 2064 6566 2067 6574 5f73 6574 7469     def get_setti
-00009d60: 6e67 7328 7365 6c66 2c20 6172 6773 3a20  ngs(self, args: 
-00009d70: 4e61 6d65 7370 6163 6529 202d 3e20 6469  Namespace) -> di
-00009d80: 6374 3a0a 2020 2020 2020 2020 2222 2247  ct:.        """G
-00009d90: 6574 2070 726f 746f 636f 6c20 7365 7474  et protocol sett
-00009da0: 696e 6773 2e22 2222 0a20 2020 2020 2020  ings.""".       
-00009db0: 2073 6574 7469 6e67 7320 3d20 7b7d 0a20   settings = {}. 
-00009dc0: 2020 2020 2020 2069 6620 6172 6773 2e61         if args.a
-00009dd0: 7574 6f5f 7069 6e67 5f63 6f6e 6e65 6374  uto_ping_connect
-00009de0: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-00009df0: 2073 6574 7469 6e67 735b 2261 7574 6f5f   settings["auto_
-00009e00: 7069 6e67 5f63 6f6e 6e65 6374 696f 6e22  ping_connection"
-00009e10: 5d20 3d20 5472 7565 0a20 2020 2020 2020  ] = True.       
-00009e20: 2069 6620 6172 6773 2e61 7574 6f5f 6163   if args.auto_ac
-00009e30: 6365 7074 5f69 6e74 726f 5f69 6e76 6974  cept_intro_invit
-00009e40: 6174 696f 6e5f 7265 7175 6573 7473 3a0a  ation_requests:.
-00009e50: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00009e60: 696e 6773 5b22 6175 746f 5f61 6363 6570  ings["auto_accep
-00009e70: 745f 696e 7472 6f5f 696e 7669 7461 7469  t_intro_invitati
-00009e80: 6f6e 5f72 6571 7565 7374 7322 5d20 3d20  on_requests"] = 
-00009e90: 5472 7565 0a20 2020 2020 2020 2069 6620  True.        if 
-00009ea0: 6172 6773 2e69 6e76 6974 655f 6261 7365  args.invite_base
-00009eb0: 5f75 726c 3a0a 2020 2020 2020 2020 2020  _url:.          
-00009ec0: 2020 7365 7474 696e 6773 5b22 696e 7669    settings["invi
-00009ed0: 7465 5f62 6173 655f 7572 6c22 5d20 3d20  te_base_url"] = 
-00009ee0: 6172 6773 2e69 6e76 6974 655f 6261 7365  args.invite_base
-00009ef0: 5f75 726c 0a20 2020 2020 2020 2069 6620  _url.        if 
-00009f00: 6172 6773 2e6d 6f6e 6974 6f72 5f70 696e  args.monitor_pin
-00009f10: 673a 0a20 2020 2020 2020 2020 2020 2073  g:.            s
-00009f20: 6574 7469 6e67 735b 2264 6562 7567 2e6d  ettings["debug.m
-00009f30: 6f6e 6974 6f72 5f70 696e 6722 5d20 3d20  onitor_ping"] = 
-00009f40: 6172 6773 2e6d 6f6e 6974 6f72 5f70 696e  args.monitor_pin
-00009f50: 670a 2020 2020 2020 2020 6966 2061 7267  g.        if arg
-00009f60: 732e 6d6f 6e69 746f 725f 666f 7277 6172  s.monitor_forwar
-00009f70: 643a 0a20 2020 2020 2020 2020 2020 2073  d:.            s
-00009f80: 6574 7469 6e67 735b 226d 6f6e 6974 6f72  ettings["monitor
-00009f90: 5f66 6f72 7761 7264 225d 203d 2061 7267  _forward"] = arg
-00009fa0: 732e 6d6f 6e69 746f 725f 666f 7277 6172  s.monitor_forwar
-00009fb0: 640a 2020 2020 2020 2020 6966 2061 7267  d.        if arg
-00009fc0: 732e 7075 626c 6963 5f69 6e76 6974 6573  s.public_invites
-00009fd0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00009fe0: 7474 696e 6773 5b22 7075 626c 6963 5f69  ttings["public_i
-00009ff0: 6e76 6974 6573 225d 203d 2054 7275 650a  nvites"] = True.
-0000a000: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
-0000a010: 7469 6d69 6e67 3a0a 2020 2020 2020 2020  timing:.        
-0000a020: 2020 2020 7365 7474 696e 6773 5b22 7469      settings["ti
-0000a030: 6d69 6e67 2e65 6e61 626c 6564 225d 203d  ming.enabled"] =
-0000a040: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
-0000a050: 2061 7267 732e 7469 6d69 6e67 5f6c 6f67   args.timing_log
-0000a060: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000a070: 7474 696e 6773 5b22 7469 6d69 6e67 2e6c  ttings["timing.l
-0000a080: 6f67 5f66 696c 6522 5d20 3d20 6172 6773  og_file"] = args
-0000a090: 2e74 696d 696e 675f 6c6f 670a 2020 2020  .timing_log.    
-0000a0a0: 2020 2020 2320 6e6f 7465 2074 6861 7420      # note that 
-0000a0b0: 796f 7520 6361 6e20 636f 6e66 6967 7572  you can configur
-0000a0c0: 6520 7472 6163 696e 6720 7769 7468 6f75  e tracing withou
-0000a0d0: 7420 6163 7475 616c 6c79 2065 6e61 626c  t actually enabl
-0000a0e0: 696e 6720 6974 0a20 2020 2020 2020 2023  ing it.        #
-0000a0f0: 2074 6869 7320 6973 2074 6f20 616c 6c6f   this is to allo
-0000a100: 7720 6d65 7373 6167 652d 206f 7220 6578  w message- or ex
-0000a110: 6368 616e 6765 2d73 7065 6369 6669 6320  change-specific 
-0000a120: 7472 6163 696e 6720 2876 7320 676c 6f62  tracing (vs glob
-0000a130: 616c 290a 2020 2020 2020 2020 7365 7474  al).        sett
-0000a140: 696e 6773 5b22 7472 6163 652e 7461 7267  ings["trace.targ
-0000a150: 6574 225d 203d 2022 6c6f 6722 0a20 2020  et"] = "log".   
-0000a160: 2020 2020 2073 6574 7469 6e67 735b 2274       settings["t
-0000a170: 7261 6365 2e74 6167 225d 203d 2022 220a  race.tag"] = "".
-0000a180: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
-0000a190: 7472 6163 653a 0a20 2020 2020 2020 2020  trace:.         
-0000a1a0: 2020 2073 6574 7469 6e67 735b 2274 7261     settings["tra
-0000a1b0: 6365 2e65 6e61 626c 6564 225d 203d 2054  ce.enabled"] = T
-0000a1c0: 7275 650a 2020 2020 2020 2020 6966 2061  rue.        if a
-0000a1d0: 7267 732e 7472 6163 655f 7461 7267 6574  rgs.trace_target
-0000a1e0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000a1f0: 7474 696e 6773 5b22 7472 6163 652e 7461  ttings["trace.ta
-0000a200: 7267 6574 225d 203d 2061 7267 732e 7472  rget"] = args.tr
-0000a210: 6163 655f 7461 7267 6574 0a20 2020 2020  ace_target.     
-0000a220: 2020 2069 6620 6172 6773 2e74 7261 6365     if args.trace
-0000a230: 5f74 6167 3a0a 2020 2020 2020 2020 2020  _tag:.          
-0000a240: 2020 7365 7474 696e 6773 5b22 7472 6163    settings["trac
-0000a250: 652e 7461 6722 5d20 3d20 6172 6773 2e74  e.tag"] = args.t
-0000a260: 7261 6365 5f74 6167 0a20 2020 2020 2020  race_tag.       
-0000a270: 2069 6620 6172 6773 2e74 7261 6365 5f6c   if args.trace_l
-0000a280: 6162 656c 3a0a 2020 2020 2020 2020 2020  abel:.          
-0000a290: 2020 7365 7474 696e 6773 5b22 7472 6163    settings["trac
-0000a2a0: 652e 6c61 6265 6c22 5d20 3d20 6172 6773  e.label"] = args
-0000a2b0: 2e74 7261 6365 5f6c 6162 656c 0a20 2020  .trace_label.   
-0000a2c0: 2020 2020 2065 6c69 6620 6172 6773 2e6c       elif args.l
-0000a2d0: 6162 656c 3a0a 2020 2020 2020 2020 2020  abel:.          
-0000a2e0: 2020 7365 7474 696e 6773 5b22 7472 6163    settings["trac
-0000a2f0: 652e 6c61 6265 6c22 5d20 3d20 6172 6773  e.label"] = args
-0000a300: 2e6c 6162 656c 0a20 2020 2020 2020 2065  .label.        e
-0000a310: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000a320: 2073 6574 7469 6e67 735b 2274 7261 6365   settings["trace
-0000a330: 2e6c 6162 656c 225d 203d 2022 6163 612d  .label"] = "aca-
-0000a340: 7079 2e61 6765 6e74 220a 2020 2020 2020  py.agent".      
-0000a350: 2020 6966 2073 6574 7469 6e67 732e 6765    if settings.ge
-0000a360: 7428 2274 7261 6365 2e65 6e61 626c 6564  t("trace.enabled
-0000a370: 2229 206f 7220 7365 7474 696e 6773 2e67  ") or settings.g
-0000a380: 6574 2822 7472 6163 652e 7461 7267 6574  et("trace.target
-0000a390: 2229 3a0a 2020 2020 2020 2020 2020 2020  "):.            
-0000a3a0: 2320 6d61 6b65 2073 7572 6520 7765 2063  # make sure we c
-0000a3b0: 616e 2074 7261 6365 2074 6f20 7468 6520  an trace to the 
-0000a3c0: 636f 6e66 6967 7572 6564 2074 6172 6765  configured targe
-0000a3d0: 740a 2020 2020 2020 2020 2020 2020 2320  t.            # 
-0000a3e0: 2874 6172 6765 7420 6361 6e20 6265 2073  (target can be s
-0000a3f0: 6574 2065 7665 6e20 6966 2074 7261 6369  et even if traci
-0000a400: 6e67 2069 7320 6f66 6629 0a20 2020 2020  ng is off).     
-0000a410: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
-0000a420: 2020 2020 2020 2020 2020 2020 7472 6163              trac
-0000a430: 655f 6576 656e 7428 0a20 2020 2020 2020  e_event(.       
-0000a440: 2020 2020 2020 2020 2020 2020 2073 6574               set
-0000a450: 7469 6e67 732c 0a20 2020 2020 2020 2020  tings,.         
-0000a460: 2020 2020 2020 2020 2020 204e 6f6e 652c             None,
-0000a470: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a480: 2020 2020 2068 616e 646c 6572 3d22 4172       handler="Ar
-0000a490: 6750 6172 7365 222c 0a20 2020 2020 2020  gParse",.       
-0000a4a0: 2020 2020 2020 2020 2020 2020 206f 7574               out
-0000a4b0: 636f 6d65 3d22 5375 6363 6573 7366 756c  come="Successful
-0000a4c0: 6c79 5f63 6f6e 6669 6775 7265 645f 6163  ly_configured_ac
-0000a4d0: 612d 7079 222c 0a20 2020 2020 2020 2020  a-py",.         
-0000a4e0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000a4f0: 5f65 7272 6f72 733d 5472 7565 2c0a 2020  _errors=True,.  
-0000a500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a510: 2020 666f 7263 655f 7472 6163 653d 5472    force_trace=Tr
-0000a520: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
-0000a530: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-0000a540: 2020 6578 6365 7074 2045 7863 6570 7469    except Excepti
-0000a550: 6f6e 2061 7320 653a 0a20 2020 2020 2020  on as e:.       
-0000a560: 2020 2020 2020 2020 2072 6169 7365 2041           raise A
-0000a570: 7267 7350 6172 7365 4572 726f 7228 2245  rgsParseError("E
-0000a580: 7272 6f72 2077 7269 7469 6e67 2074 7261  rror writing tra
-0000a590: 6365 2065 7665 6e74 2022 202b 2073 7472  ce event " + str
-0000a5a0: 2865 2929 0a20 2020 2020 2020 2069 6620  (e)).        if 
-0000a5b0: 6172 6773 2e70 7265 7365 7276 655f 6578  args.preserve_ex
-0000a5c0: 6368 616e 6765 5f72 6563 6f72 6473 3a0a  change_records:.
-0000a5d0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-0000a5e0: 696e 6773 5b22 7072 6573 6572 7665 5f65  ings["preserve_e
-0000a5f0: 7863 6861 6e67 655f 7265 636f 7264 7322  xchange_records"
-0000a600: 5d20 3d20 5472 7565 0a20 2020 2020 2020  ] = True.       
-0000a610: 2069 6620 6172 6773 2e65 6d69 745f 6e65   if args.emit_ne
-0000a620: 775f 6469 6463 6f6d 6d5f 7072 6566 6978  w_didcomm_prefix
-0000a630: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000a640: 7474 696e 6773 5b22 656d 6974 5f6e 6577  ttings["emit_new
-0000a650: 5f64 6964 636f 6d6d 5f70 7265 6669 7822  _didcomm_prefix"
-0000a660: 5d20 3d20 5472 7565 0a20 2020 2020 2020  ] = True.       
-0000a670: 2069 6620 6172 6773 2e65 6d69 745f 6e65   if args.emit_ne
-0000a680: 775f 6469 6463 6f6d 6d5f 6d69 6d65 5f74  w_didcomm_mime_t
-0000a690: 7970 653a 0a20 2020 2020 2020 2020 2020  ype:.           
-0000a6a0: 2073 6574 7469 6e67 735b 2265 6d69 745f   settings["emit_
-0000a6b0: 6e65 775f 6469 6463 6f6d 6d5f 6d69 6d65  new_didcomm_mime
-0000a6c0: 5f74 7970 6522 5d20 3d20 5472 7565 0a20  _type"] = True. 
-0000a6d0: 2020 2020 2020 2069 6620 6172 6773 2e65         if args.e
-0000a6e0: 7863 685f 7573 655f 756e 656e 6372 7970  xch_use_unencryp
-0000a6f0: 7465 645f 7461 6773 3a0a 2020 2020 2020  ted_tags:.      
-0000a700: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
-0000a710: 6578 6368 5f75 7365 5f75 6e65 6e63 7279  exch_use_unencry
-0000a720: 7074 6564 5f74 6167 7322 5d20 3d20 5472  pted_tags"] = Tr
-0000a730: 7565 0a20 2020 2020 2020 2020 2020 2065  ue.            e
-0000a740: 6e76 6972 6f6e 5b22 4558 4348 5f55 4e45  nviron["EXCH_UNE
-0000a750: 4e43 5259 5054 4544 5f54 4147 5322 5d20  NCRYPTED_TAGS"] 
-0000a760: 3d20 2254 7275 6522 0a20 2020 2020 2020  = "True".       
-0000a770: 2072 6574 7572 6e20 7365 7474 696e 6773   return settings
-0000a780: 0a0a 0a40 6772 6f75 7028 4341 545f 5354  ...@group(CAT_ST
-0000a790: 4152 5429 0a63 6c61 7373 2053 7461 7274  ART).class Start
-0000a7a0: 7570 4772 6f75 7028 4172 6775 6d65 6e74  upGroup(Argument
-0000a7b0: 4772 6f75 7029 3a0a 2020 2020 2222 2253  Group):.    """S
-0000a7c0: 7461 7274 7570 2073 6574 7469 6e67 732e  tartup settings.
-0000a7d0: 2222 220a 0a20 2020 2047 524f 5550 5f4e  """..    GROUP_N
-0000a7e0: 414d 4520 3d20 2253 7461 7274 2d75 7022  AME = "Start-up"
-0000a7f0: 0a0a 2020 2020 6465 6620 6164 645f 6172  ..    def add_ar
-0000a800: 6775 6d65 6e74 7328 7365 6c66 2c20 7061  guments(self, pa
-0000a810: 7273 6572 3a20 4172 6775 6d65 6e74 5061  rser: ArgumentPa
-0000a820: 7273 6572 293a 0a20 2020 2020 2020 2022  rser):.        "
-0000a830: 2222 4164 6420 7374 6172 7475 702d 7370  ""Add startup-sp
-0000a840: 6563 6966 6963 2063 6f6d 6d61 6e64 206c  ecific command l
-0000a850: 696e 6520 6172 6775 6d65 6e74 7320 746f  ine arguments to
-0000a860: 2074 6865 2070 6172 7365 722e 2222 220a   the parser.""".
-0000a870: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-0000a880: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-0000a890: 2020 2020 2020 2020 2022 2d2d 6175 746f           "--auto
-0000a8a0: 2d70 726f 7669 7369 6f6e 222c 0a20 2020  -provision",.   
-0000a8b0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
-0000a8c0: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
-0000a8d0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
-0000a8e0: 723d 2241 4341 5059 5f41 5554 4f5f 5052  r="ACAPY_AUTO_PR
-0000a8f0: 4f56 4953 494f 4e22 2c0a 2020 2020 2020  OVISION",.      
-0000a900: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
-0000a910: 2020 2020 2020 2020 2020 2020 2022 4966               "If
-0000a920: 2074 6865 2072 6571 7565 7374 6564 2070   the requested p
-0000a930: 726f 6669 6c65 2064 6f65 7320 6e6f 7420  rofile does not 
-0000a940: 6578 6973 742c 2069 6e69 7469 616c 697a  exist, initializ
-0000a950: 6520 6974 2077 6974 6820 220a 2020 2020  e it with ".    
-0000a960: 2020 2020 2020 2020 2020 2020 2274 6865              "the
-0000a970: 2067 6976 656e 2070 6172 616d 6574 6572   given parameter
-0000a980: 732e 220a 2020 2020 2020 2020 2020 2020  s.".            
-0000a990: 292c 0a20 2020 2020 2020 2029 0a0a 2020  ),.        )..  
-0000a9a0: 2020 6465 6620 6765 745f 7365 7474 696e    def get_settin
-0000a9b0: 6773 2873 656c 662c 2061 7267 733a 204e  gs(self, args: N
-0000a9c0: 616d 6573 7061 6365 293a 0a20 2020 2020  amespace):.     
-0000a9d0: 2020 2022 2222 4578 7472 6163 7420 7374     """Extract st
-0000a9e0: 6172 7475 7020 7365 7474 696e 6773 2e22  artup settings."
-0000a9f0: 2222 0a20 2020 2020 2020 2073 6574 7469  "".        setti
-0000aa00: 6e67 7320 3d20 7b7d 0a20 2020 2020 2020  ngs = {}.       
-0000aa10: 2069 6620 6172 6773 2e61 7574 6f5f 7072   if args.auto_pr
-0000aa20: 6f76 6973 696f 6e3a 0a20 2020 2020 2020  ovision:.       
-0000aa30: 2020 2020 2073 6574 7469 6e67 735b 2261       settings["a
-0000aa40: 7574 6f5f 7072 6f76 6973 696f 6e22 5d20  uto_provision"] 
-0000aa50: 3d20 5472 7565 0a20 2020 2020 2020 2072  = True.        r
-0000aa60: 6574 7572 6e20 7365 7474 696e 6773 0a0a  eturn settings..
-0000aa70: 0a40 6772 6f75 7028 4341 545f 5354 4152  .@group(CAT_STAR
-0000aa80: 5429 0a63 6c61 7373 2054 7261 6e73 706f  T).class Transpo
-0000aa90: 7274 4772 6f75 7028 4172 6775 6d65 6e74  rtGroup(Argument
-0000aaa0: 4772 6f75 7029 3a0a 2020 2020 2222 2254  Group):.    """T
-0000aab0: 7261 6e73 706f 7274 2073 6574 7469 6e67  ransport setting
-0000aac0: 732e 2222 220a 0a20 2020 2047 524f 5550  s."""..    GROUP
-0000aad0: 5f4e 414d 4520 3d20 2254 7261 6e73 706f  _NAME = "Transpo
-0000aae0: 7274 220a 0a20 2020 2064 6566 2061 6464  rt"..    def add
-0000aaf0: 5f61 7267 756d 656e 7473 2873 656c 662c  _arguments(self,
-0000ab00: 2070 6172 7365 723a 2041 7267 756d 656e   parser: Argumen
-0000ab10: 7450 6172 7365 7229 3a0a 2020 2020 2020  tParser):.      
-0000ab20: 2020 2222 2241 6464 2074 7261 6e73 706f    """Add transpo
-0000ab30: 7274 2d73 7065 6369 6669 6320 636f 6d6d  rt-specific comm
-0000ab40: 616e 6420 6c69 6e65 2061 7267 756d 656e  and line argumen
-0000ab50: 7473 2074 6f20 7468 6520 7061 7273 6572  ts to the parser
-0000ab60: 2e22 2222 0a20 2020 2020 2020 2070 6172  .""".        par
-0000ab70: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-0000ab80: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-0000ab90: 6974 222c 0a20 2020 2020 2020 2020 2020  it",.           
-0000aba0: 2022 2d2d 696e 626f 756e 642d 7472 616e   "--inbound-tran
-0000abb0: 7370 6f72 7422 2c0a 2020 2020 2020 2020  sport",.        
-0000abc0: 2020 2020 6465 7374 3d22 696e 626f 756e      dest="inboun
-0000abd0: 645f 7472 616e 7370 6f72 7473 222c 0a20  d_transports",. 
-0000abe0: 2020 2020 2020 2020 2020 2074 7970 653d             type=
-0000abf0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
-0000ac00: 2061 6374 696f 6e3d 2261 7070 656e 6422   action="append"
-0000ac10: 2c0a 2020 2020 2020 2020 2020 2020 6e61  ,.            na
-0000ac20: 7267 733d 332c 0a20 2020 2020 2020 2020  rgs=3,.         
-0000ac30: 2020 206d 6574 6176 6172 3d28 223c 6d6f     metavar=("<mo
-0000ac40: 6475 6c65 3e22 2c20 223c 686f 7374 3e22  dule>", "<host>"
-0000ac50: 2c20 223c 706f 7274 3e22 292c 0a20 2020  , "<port>"),.   
-0000ac60: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
-0000ac70: 3d22 4143 4150 595f 494e 424f 554e 445f  ="ACAPY_INBOUND_
-0000ac80: 5452 414e 5350 4f52 5422 2c0a 2020 2020  TRANSPORT",.    
-0000ac90: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
-0000aca0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000acb0: 5245 5155 4952 4544 2e20 4465 6669 6e65  REQUIRED. Define
-0000acc0: 7320 7468 6520 696e 626f 756e 6420 7472  s the inbound tr
-0000acd0: 616e 7370 6f72 7428 7329 206f 6e20 7768  ansport(s) on wh
-0000ace0: 6963 6820 7468 6520 6167 656e 7420 220a  ich the agent ".
-0000acf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad00: 226c 6973 7465 6e73 2066 6f72 2072 6563  "listens for rec
-0000ad10: 6569 7669 6e67 206d 6573 7361 6765 7320  eiving messages 
-0000ad20: 6672 6f6d 206f 7468 6572 2061 6765 6e74  from other agent
-0000ad30: 732e 2054 6869 7320 7061 7261 6d65 7465  s. This paramete
-0000ad40: 7220 6361 6e20 220a 2020 2020 2020 2020  r can ".        
-0000ad50: 2020 2020 2020 2020 2262 6520 7370 6563          "be spec
-0000ad60: 6966 6965 6420 6d75 6c74 6970 6c65 2074  ified multiple t
-0000ad70: 696d 6573 2074 6f20 6372 6561 7465 206d  imes to create m
-0000ad80: 756c 7469 706c 6520 696e 7465 7266 6163  ultiple interfac
-0000ad90: 6573 2e20 220a 2020 2020 2020 2020 2020  es. ".          
-0000ada0: 2020 2020 2020 2242 7569 6c74 2d69 6e20        "Built-in 
-0000adb0: 696e 626f 756e 6420 7472 616e 7370 6f72  inbound transpor
-0000adc0: 7420 7479 7065 7320 696e 636c 7564 6520  t types include 
-0000add0: 2768 7474 7027 2061 6e64 2027 7773 272e  'http' and 'ws'.
-0000ade0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-0000adf0: 2020 2022 486f 7765 7665 722c 206f 7468     "However, oth
-0000ae00: 6572 2074 7261 6e73 706f 7274 7320 6361  er transports ca
-0000ae10: 6e20 6265 206c 6f61 6465 6420 6279 2073  n be loaded by s
-0000ae20: 7065 6369 6679 696e 6720 616e 2061 6273  pecifying an abs
-0000ae30: 6f6c 7574 6520 220a 2020 2020 2020 2020  olute ".        
-0000ae40: 2020 2020 2020 2020 226d 6f64 756c 6520          "module 
-0000ae50: 7061 7468 2e22 0a20 2020 2020 2020 2020  path.".         
-0000ae60: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-0000ae70: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-0000ae80: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-0000ae90: 2020 2020 2020 2020 2022 2d6f 7422 2c0a           "-ot",.
-0000aea0: 2020 2020 2020 2020 2020 2020 222d 2d6f              "--o
-0000aeb0: 7574 626f 756e 642d 7472 616e 7370 6f72  utbound-transpor
-0000aec0: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
-0000aed0: 6465 7374 3d22 6f75 7462 6f75 6e64 5f74  dest="outbound_t
-0000aee0: 7261 6e73 706f 7274 7322 2c0a 2020 2020  ransports",.    
-0000aef0: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
-0000af00: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
-0000af10: 7469 6f6e 3d22 6170 7065 6e64 222c 0a20  tion="append",. 
-0000af20: 2020 2020 2020 2020 2020 206d 6574 6176             metav
-0000af30: 6172 3d22 3c6d 6f64 756c 653e 222c 0a20  ar="<module>",. 
-0000af40: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-0000af50: 6172 3d22 4143 4150 595f 4f55 5442 4f55  ar="ACAPY_OUTBOU
-0000af60: 4e44 5f54 5241 4e53 504f 5254 222c 0a20  ND_TRANSPORT",. 
-0000af70: 2020 2020 2020 2020 2020 2068 656c 703d             help=
-0000af80: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000af90: 2020 2252 4551 5549 5245 442e 2044 6566    "REQUIRED. Def
-0000afa0: 696e 6573 2074 6865 206f 7574 626f 756e  ines the outboun
-0000afb0: 6420 7472 616e 7370 6f72 7428 7329 206f  d transport(s) o
-0000afc0: 6e20 7768 6963 6820 7468 6520 6167 656e  n which the agen
-0000afd0: 7420 220a 2020 2020 2020 2020 2020 2020  t ".            
-0000afe0: 2020 2020 2277 696c 6c20 7365 6e64 206f      "will send o
-0000aff0: 7574 676f 696e 6720 6d65 7373 6167 6573  utgoing messages
-0000b000: 2074 6f20 6f74 6865 7220 6167 656e 7473   to other agents
-0000b010: 2e20 5468 6973 2070 6172 616d 6574 6572  . This parameter
-0000b020: 2063 616e 2062 6520 220a 2020 2020 2020   can be ".      
-0000b030: 2020 2020 2020 2020 2020 2270 6173 7365            "passe
-0000b040: 6420 6d75 6c74 6970 6c65 2074 696d 6573  d multiple times
-0000b050: 2074 6f20 7375 706f 6f72 7420 6d75 6c74   to supoort mult
-0000b060: 6970 6c65 2074 7261 6e73 706f 7274 2074  iple transport t
-0000b070: 7970 6573 2e20 220a 2020 2020 2020 2020  ypes. ".        
-0000b080: 2020 2020 2020 2020 2253 7570 706f 7274          "Support
-0000b090: 6564 206f 7574 626f 756e 6420 7472 616e  ed outbound tran
-0000b0a0: 7370 6f72 7420 7479 7065 7320 6172 6520  sport types are 
-0000b0b0: 2768 7474 7027 2061 6e64 2027 7773 272e  'http' and 'ws'.
-0000b0c0: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
-0000b0d0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0000b0e0: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
-0000b0f0: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
-0000b100: 2020 2020 222d 6c22 2c0a 2020 2020 2020      "-l",.      
-0000b110: 2020 2020 2020 222d 2d6c 6162 656c 222c        "--label",
-0000b120: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
-0000b130: 653d 7374 722c 0a20 2020 2020 2020 2020  e=str,.         
-0000b140: 2020 206d 6574 6176 6172 3d22 3c6c 6162     metavar="<lab
-0000b150: 656c 3e22 2c0a 2020 2020 2020 2020 2020  el>",.          
-0000b160: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-0000b170: 5f4c 4142 454c 222c 0a20 2020 2020 2020  _LABEL",.       
-0000b180: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
-0000b190: 2020 2020 2020 2020 2020 2020 2253 7065              "Spe
-0000b1a0: 6369 6669 6573 2074 6865 206c 6162 656c  cifies the label
-0000b1b0: 2066 6f72 2074 6869 7320 6167 656e 742e   for this agent.
-0000b1c0: 2054 6869 7320 6c61 6265 6c20 6973 2070   This label is p
-0000b1d0: 7562 6c69 6369 7a65 6420 220a 2020 2020  ublicized ".    
-0000b1e0: 2020 2020 2020 2020 2020 2020 2228 7365              "(se
-0000b1f0: 6c66 2d61 7474 6573 7465 6429 2074 6f20  lf-attested) to 
-0000b200: 6f74 6865 7220 6167 656e 7473 2061 7320  other agents as 
-0000b210: 7061 7274 206f 6620 666f 726d 696e 6720  part of forming 
-0000b220: 6120 636f 6e6e 6563 7469 6f6e 2e22 0a20  a connection.". 
-0000b230: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
-0000b240: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0000b250: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
-0000b260: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
-0000b270: 2022 2d2d 696d 6167 652d 7572 6c22 2c0a   "--image-url",.
-0000b280: 2020 2020 2020 2020 2020 2020 7479 7065              type
-0000b290: 3d73 7472 2c0a 2020 2020 2020 2020 2020  =str,.          
-0000b2a0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-0000b2b0: 5f49 4d41 4745 5f55 524c 222c 0a20 2020  _IMAGE_URL",.   
-0000b2c0: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
-0000b2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b2e0: 2253 7065 6369 6669 6573 2074 6865 2069  "Specifies the i
-0000b2f0: 6d61 6765 2075 726c 2066 6f72 2074 6869  mage url for thi
-0000b300: 7320 6167 656e 742e 2054 6869 7320 696d  s agent. This im
-0000b310: 6167 6520 7572 6c20 6973 2070 7562 6c69  age url is publi
-0000b320: 6369 7a65 6420 220a 2020 2020 2020 2020  cized ".        
-0000b330: 2020 2020 2020 2020 2228 7365 6c66 2d61          "(self-a
-0000b340: 7474 6573 7465 6429 2074 6f20 6f74 6865  ttested) to othe
-0000b350: 7220 6167 656e 7473 2061 7320 7061 7274  r agents as part
-0000b360: 206f 6620 666f 726d 696e 6720 6120 636f   of forming a co
-0000b370: 6e6e 6563 7469 6f6e 2e22 0a20 2020 2020  nnection.".     
-0000b380: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
-0000b390: 2020 290a 2020 2020 2020 2020 7061 7273    ).        pars
-0000b3a0: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
-0000b3b0: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
-0000b3c0: 6d61 782d 6d65 7373 6167 652d 7369 7a65  max-message-size
-0000b3d0: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-0000b3e0: 6566 6175 6c74 3d32 3039 3731 3532 2c0a  efault=2097152,.
-0000b3f0: 2020 2020 2020 2020 2020 2020 7479 7065              type
-0000b400: 3d42 7974 6553 697a 6528 6d69 6e3d 3130  =ByteSize(min=10
-0000b410: 3234 292c 0a20 2020 2020 2020 2020 2020  24),.           
-0000b420: 206d 6574 6176 6172 3d22 3c6d 6573 7361   metavar="<messa
-0000b430: 6765 2d73 697a 653e 222c 0a20 2020 2020  ge-size>",.     
-0000b440: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-0000b450: 4143 4150 595f 4d41 585f 4d45 5353 4147  ACAPY_MAX_MESSAG
-0000b460: 455f 5349 5a45 222c 0a20 2020 2020 2020  E_SIZE",.       
-0000b470: 2020 2020 2068 656c 703d 2253 6574 2074       help="Set t
-0000b480: 6865 206d 6178 696d 756d 2073 697a 6520  he maximum size 
-0000b490: 696e 2062 7974 6573 2066 6f72 2069 6e62  in bytes for inb
-0000b4a0: 6f75 6e64 2061 6765 6e74 206d 6573 7361  ound agent messa
-0000b4b0: 6765 732e 222c 0a20 2020 2020 2020 2029  ges.",.        )
-0000b4c0: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
-0000b4d0: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
-0000b4e0: 2020 2020 2020 2020 2020 222d 2d65 6e61            "--ena
-0000b4f0: 626c 652d 756e 6465 6c69 7665 7265 642d  ble-undelivered-
-0000b500: 7175 6575 6522 2c0a 2020 2020 2020 2020  queue",.        
-0000b510: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
-0000b520: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
-0000b530: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
-0000b540: 4150 595f 454e 4142 4c45 5f55 4e44 454c  APY_ENABLE_UNDEL
-0000b550: 4956 4552 4544 5f51 5545 5545 222c 0a20  IVERED_QUEUE",. 
-0000b560: 2020 2020 2020 2020 2020 2068 656c 703d             help=
-0000b570: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000b580: 2020 2245 6e61 626c 6520 7468 6520 6f75    "Enable the ou
-0000b590: 7462 6f75 6e64 2075 6e64 656c 6976 6572  tbound undeliver
-0000b5a0: 6564 2071 7565 7565 2074 6861 7420 656e  ed queue that en
-0000b5b0: 6162 6c65 7320 7468 6973 2061 6765 6e74  ables this agent
-0000b5c0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-0000b5d0: 2020 2022 746f 2068 6f6c 6420 6d65 7373     "to hold mess
-0000b5e0: 6167 6573 2066 6f72 2064 656c 6976 6572  ages for deliver
-0000b5f0: 7920 746f 2061 6765 6e74 7320 7769 7468  y to agents with
-0000b600: 6f75 7420 616e 2065 6e64 706f 696e 742e  out an endpoint.
-0000b610: 2054 6869 7320 220a 2020 2020 2020 2020   This ".        
-0000b620: 2020 2020 2020 2020 226f 7074 696f 6e20          "option 
-0000b630: 7769 6c6c 2072 6571 7569 7265 2061 6464  will require add
-0000b640: 6974 696f 6e61 6c20 6d65 6d6f 7279 2074  itional memory t
-0000b650: 6f20 7374 6f72 6520 6d65 7373 6167 6573  o store messages
-0000b660: 2069 6e20 7468 6520 7175 6575 652e 220a   in the queue.".
-0000b670: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-0000b680: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000b690: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-0000b6a0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-0000b6b0: 2020 222d 2d6d 6178 2d6f 7574 626f 756e    "--max-outboun
-0000b6c0: 642d 7265 7472 7922 2c0a 2020 2020 2020  d-retry",.      
-0000b6d0: 2020 2020 2020 6465 6661 756c 743d 342c        default=4,
-0000b6e0: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
-0000b6f0: 653d 426f 756e 6465 6449 6e74 286d 696e  e=BoundedInt(min
-0000b700: 3d31 292c 0a20 2020 2020 2020 2020 2020  =1),.           
-0000b710: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-0000b720: 4d41 585f 4f55 5442 4f55 4e44 5f52 4554  MAX_OUTBOUND_RET
-0000b730: 5259 222c 0a20 2020 2020 2020 2020 2020  RY",.           
-0000b740: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
-0000b750: 2020 2020 2020 2020 2253 6574 2074 6865          "Set the
-0000b760: 206d 6178 696d 756d 2072 6574 7279 206e   maximum retry n
-0000b770: 756d 6265 7220 666f 7220 756e 6465 6c69  umber for undeli
-0000b780: 7665 7265 6420 6f75 7462 6f75 6e64 2022  vered outbound "
-0000b790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b7a0: 2022 6d65 7373 6167 6573 2e20 496e 6372   "messages. Incr
-0000b7b0: 6561 7369 6e67 2074 6869 7320 6e75 6d62  easing this numb
-0000b7c0: 6572 206d 6967 6874 2063 6175 7365 2074  er might cause t
-0000b7d0: 6f20 696e 6372 6561 7365 2074 6865 2022  o increase the "
-0000b7e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b7f0: 2022 6163 6375 6d75 6c61 7465 6420 6d65   "accumulated me
-0000b800: 7373 6167 6573 2069 6e20 6d65 7373 6167  ssages in messag
-0000b810: 6520 7175 6575 652e 2044 6566 6175 6c74  e queue. Default
-0000b820: 2076 616c 7565 2069 7320 342e 220a 2020   value is 4.".  
-0000b830: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
-0000b840: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
-0000b850: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
-0000b860: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
-0000b870: 222d 2d77 732d 6865 6172 7462 6561 742d  "--ws-heartbeat-
-0000b880: 696e 7465 7276 616c 222c 0a20 2020 2020  interval",.     
-0000b890: 2020 2020 2020 2064 6566 6175 6c74 3d33         default=3
-0000b8a0: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
-0000b8b0: 7065 3d42 6f75 6e64 6564 496e 7428 6d69  pe=BoundedInt(mi
-0000b8c0: 6e3d 3129 2c0a 2020 2020 2020 2020 2020  n=1),.          
-0000b8d0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-0000b8e0: 5f57 535f 4845 4152 5442 4541 545f 494e  _WS_HEARTBEAT_IN
-0000b8f0: 5445 5256 414c 222c 0a20 2020 2020 2020  TERVAL",.       
-0000b900: 2020 2020 206d 6574 6176 6172 3d22 3c69       metavar="<i
-0000b910: 6e74 6572 7661 6c3e 222c 0a20 2020 2020  nterval>",.     
-0000b920: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-0000b930: 2020 2020 2020 2020 2020 2020 2020 2257                "W
-0000b940: 6865 6e20 7573 696e 6720 5765 6273 6f63  hen using Websoc
-0000b950: 6b65 7420 496e 626f 756e 6420 5472 616e  ket Inbound Tran
-0000b960: 7370 6f72 742c 2073 656e 6420 5753 2070  sport, send WS p
-0000b970: 696e 6773 2065 7665 7279 2022 0a20 2020  ings every ".   
-0000b980: 2020 2020 2020 2020 2020 2020 2022 3c69               "<i
-0000b990: 6e74 6572 7661 6c3e 2073 6563 6f6e 6473  nterval> seconds
-0000b9a0: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
-0000b9b0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-0000b9c0: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
-0000b9d0: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
-0000b9e0: 2020 2020 2022 2d2d 7773 2d74 696d 656f       "--ws-timeo
-0000b9f0: 7574 2d69 6e74 6572 7661 6c22 2c0a 2020  ut-interval",.  
-0000ba00: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
-0000ba10: 743d 3135 2c0a 2020 2020 2020 2020 2020  t=15,.          
-0000ba20: 2020 7479 7065 3d42 6f75 6e64 6564 496e    type=BoundedIn
-0000ba30: 7428 6d69 6e3d 3129 2c0a 2020 2020 2020  t(min=1),.      
-0000ba40: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
-0000ba50: 4341 5059 5f57 535f 5449 4d45 4f55 545f  CAPY_WS_TIMEOUT_
-0000ba60: 494e 5445 5256 414c 222c 0a20 2020 2020  INTERVAL",.     
-0000ba70: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
-0000ba80: 3c69 6e74 6572 7661 6c3e 222c 0a20 2020  <interval>",.   
-0000ba90: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
-0000baa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bab0: 2257 6865 6e20 7573 696e 6720 5765 6273  "When using Webs
-0000bac0: 6f63 6b65 7420 496e 626f 756e 6420 5472  ocket Inbound Tr
-0000bad0: 616e 7370 6f72 742c 2074 696d 656f 7574  ansport, timeout
-0000bae0: 2074 6865 2057 5320 636f 6e6e 6563 7469   the WS connecti
-0000baf0: 6f6e 2022 0a20 2020 2020 2020 2020 2020  on ".           
-0000bb00: 2020 2020 2022 6166 7465 7220 3c69 6e74       "after <int
-0000bb10: 6572 7661 6c3e 2073 6563 6f6e 6473 2077  erval> seconds w
-0000bb20: 6974 686f 7574 2061 2068 6561 7274 6265  ithout a heartbe
-0000bb30: 6174 2070 696e 672e 220a 2020 2020 2020  at ping.".      
-0000bb40: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
-0000bb50: 2029 0a0a 2020 2020 6465 6620 6765 745f   )..    def get_
-0000bb60: 7365 7474 696e 6773 2873 656c 662c 2061  settings(self, a
-0000bb70: 7267 733a 204e 616d 6573 7061 6365 293a  rgs: Namespace):
-0000bb80: 0a20 2020 2020 2020 2022 2222 4578 7472  .        """Extr
-0000bb90: 6163 7420 7472 616e 7370 6f72 7420 7365  act transport se
-0000bba0: 7474 696e 6773 2e22 2222 0a20 2020 2020  ttings.""".     
-0000bbb0: 2020 2073 6574 7469 6e67 7320 3d20 7b7d     settings = {}
-0000bbc0: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
-0000bbd0: 2e69 6e62 6f75 6e64 5f74 7261 6e73 706f  .inbound_transpo
-0000bbe0: 7274 733a 0a20 2020 2020 2020 2020 2020  rts:.           
-0000bbf0: 2073 6574 7469 6e67 735b 2274 7261 6e73   settings["trans
-0000bc00: 706f 7274 2e69 6e62 6f75 6e64 5f63 6f6e  port.inbound_con
-0000bc10: 6669 6773 225d 203d 2061 7267 732e 696e  figs"] = args.in
-0000bc20: 626f 756e 645f 7472 616e 7370 6f72 7473  bound_transports
-0000bc30: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0000bc40: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0000bc50: 2041 7267 7350 6172 7365 4572 726f 7228   ArgsParseError(
-0000bc60: 222d 6974 2f2d 2d69 6e62 6f75 6e64 2d74  "-it/--inbound-t
-0000bc70: 7261 6e73 706f 7274 2069 7320 7265 7175  ransport is requ
-0000bc80: 6972 6564 2229 0a20 2020 2020 2020 2069  ired").        i
-0000bc90: 6620 6172 6773 2e6f 7574 626f 756e 645f  f args.outbound_
-0000bca0: 7472 616e 7370 6f72 7473 3a0a 2020 2020  transports:.    
-0000bcb0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-0000bcc0: 5b22 7472 616e 7370 6f72 742e 6f75 7462  ["transport.outb
-0000bcd0: 6f75 6e64 5f63 6f6e 6669 6773 225d 203d  ound_configs"] =
-0000bce0: 2061 7267 732e 6f75 7462 6f75 6e64 5f74   args.outbound_t
-0000bcf0: 7261 6e73 706f 7274 730a 2020 2020 2020  ransports.      
-0000bd00: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-0000bd10: 2020 2020 7261 6973 6520 4172 6773 5061      raise ArgsPa
-0000bd20: 7273 6545 7272 6f72 2822 2d6f 742f 2d2d  rseError("-ot/--
-0000bd30: 6f75 7462 6f75 6e64 2d74 7261 6e73 706f  outbound-transpo
-0000bd40: 7274 2069 7320 7265 7175 6972 6564 2229  rt is required")
-0000bd50: 0a20 2020 2020 2020 2073 6574 7469 6e67  .        setting
-0000bd60: 735b 2274 7261 6e73 706f 7274 2e65 6e61  s["transport.ena
-0000bd70: 626c 655f 756e 6465 6c69 7665 7265 645f  ble_undelivered_
-0000bd80: 7175 6575 6522 5d20 3d20 6172 6773 2e65  queue"] = args.e
-0000bd90: 6e61 626c 655f 756e 6465 6c69 7665 7265  nable_undelivere
-0000bda0: 645f 7175 6575 650a 0a20 2020 2020 2020  d_queue..       
-0000bdb0: 2069 6620 6172 6773 2e6c 6162 656c 3a0a   if args.label:.
-0000bdc0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-0000bdd0: 696e 6773 5b22 6465 6661 756c 745f 6c61  ings["default_la
-0000bde0: 6265 6c22 5d20 3d20 6172 6773 2e6c 6162  bel"] = args.lab
-0000bdf0: 656c 0a20 2020 2020 2020 2069 6620 6172  el.        if ar
-0000be00: 6773 2e69 6d61 6765 5f75 726c 3a0a 2020  gs.image_url:.  
-0000be10: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-0000be20: 6773 5b22 696d 6167 655f 7572 6c22 5d20  gs["image_url"] 
-0000be30: 3d20 6172 6773 2e69 6d61 6765 5f75 726c  = args.image_url
-0000be40: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
-0000be50: 2e6d 6178 5f6d 6573 7361 6765 5f73 697a  .max_message_siz
-0000be60: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-0000be70: 6574 7469 6e67 735b 2274 7261 6e73 706f  ettings["transpo
-0000be80: 7274 2e6d 6178 5f6d 6573 7361 6765 5f73  rt.max_message_s
-0000be90: 697a 6522 5d20 3d20 6172 6773 2e6d 6178  ize"] = args.max
-0000bea0: 5f6d 6573 7361 6765 5f73 697a 650a 2020  _message_size.  
-0000beb0: 2020 2020 2020 6966 2061 7267 732e 6d61        if args.ma
-0000bec0: 785f 6f75 7462 6f75 6e64 5f72 6574 7279  x_outbound_retry
-0000bed0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000bee0: 7474 696e 6773 5b22 7472 616e 7370 6f72  ttings["transpor
-0000bef0: 742e 6d61 785f 6f75 7462 6f75 6e64 5f72  t.max_outbound_r
-0000bf00: 6574 7279 225d 203d 2061 7267 732e 6d61  etry"] = args.ma
-0000bf10: 785f 6f75 7462 6f75 6e64 5f72 6574 7279  x_outbound_retry
-0000bf20: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
-0000bf30: 2e77 735f 6865 6172 7462 6561 745f 696e  .ws_heartbeat_in
-0000bf40: 7465 7276 616c 3a0a 2020 2020 2020 2020  terval:.        
-0000bf50: 2020 2020 7365 7474 696e 6773 5b22 7472      settings["tr
-0000bf60: 616e 7370 6f72 742e 7773 2e68 6561 7274  ansport.ws.heart
-0000bf70: 6265 6174 5f69 6e74 6572 7661 6c22 5d20  beat_interval"] 
-0000bf80: 3d20 6172 6773 2e77 735f 6865 6172 7462  = args.ws_heartb
-0000bf90: 6561 745f 696e 7465 7276 616c 0a20 2020  eat_interval.   
-0000bfa0: 2020 2020 2069 6620 6172 6773 2e77 735f       if args.ws_
-0000bfb0: 7469 6d65 6f75 745f 696e 7465 7276 616c  timeout_interval
-0000bfc0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000bfd0: 7474 696e 6773 5b22 7472 616e 7370 6f72  ttings["transpor
-0000bfe0: 742e 7773 2e74 696d 656f 7574 5f69 6e74  t.ws.timeout_int
-0000bff0: 6572 7661 6c22 5d20 3d20 6172 6773 2e77  erval"] = args.w
-0000c000: 735f 7469 6d65 6f75 745f 696e 7465 7276  s_timeout_interv
-0000c010: 616c 0a0a 2020 2020 2020 2020 7265 7475  al..        retu
-0000c020: 726e 2073 6574 7469 6e67 730a 0a0a 4067  rn settings...@g
-0000c030: 726f 7570 2843 4154 5f53 5441 5254 2c20  roup(CAT_START, 
-0000c040: 4341 545f 5052 4f56 4953 494f 4e29 0a63  CAT_PROVISION).c
-0000c050: 6c61 7373 204d 6564 6961 7469 6f6e 496e  lass MediationIn
-0000c060: 7669 7465 4772 6f75 7028 4172 6775 6d65  viteGroup(Argume
-0000c070: 6e74 4772 6f75 7029 3a0a 2020 2020 2222  ntGroup):.    ""
-0000c080: 220a 2020 2020 4d65 6469 6174 696f 6e20  ".    Mediation 
-0000c090: 696e 7669 7461 7469 6f6e 2073 6574 7469  invitation setti
-0000c0a0: 6e67 732e 0a0a 2020 2020 5468 6573 6520  ngs...    These 
-0000c0b0: 6361 6e20 6265 2070 726f 7669 6465 6420  can be provided 
-0000c0c0: 6174 2070 726f 7669 7369 6f6e 2d20 616e  at provision- an
-0000c0d0: 6420 7374 6172 742d 7469 6d65 2e0a 2020  d start-time..  
-0000c0e0: 2020 2222 220a 0a20 2020 2047 524f 5550    """..    GROUP
-0000c0f0: 5f4e 414d 4520 3d20 224d 6564 6961 7469  _NAME = "Mediati
-0000c100: 6f6e 2069 6e76 6974 6174 696f 6e22 0a0a  on invitation"..
-0000c110: 2020 2020 6465 6620 6164 645f 6172 6775      def add_argu
-0000c120: 6d65 6e74 7328 7365 6c66 2c20 7061 7273  ments(self, pars
-0000c130: 6572 3a20 4172 6775 6d65 6e74 5061 7273  er: ArgumentPars
-0000c140: 6572 293a 0a20 2020 2020 2020 2022 2222  er):.        """
-0000c150: 4164 6420 6d65 6469 6174 696f 6e20 696e  Add mediation in
-0000c160: 7669 7461 7469 6f6e 2063 6f6d 6d61 6e64  vitation command
-0000c170: 206c 696e 6520 6172 6775 6d65 6e74 7320   line arguments 
-0000c180: 746f 2074 6865 2070 6172 7365 722e 2222  to the parser.""
-0000c190: 220a 2020 2020 2020 2020 7061 7273 6572  ".        parser
-0000c1a0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-0000c1b0: 2020 2020 2020 2020 2020 2022 2d2d 6d65             "--me
-0000c1c0: 6469 6174 6f72 2d69 6e76 6974 6174 696f  diator-invitatio
-0000c1d0: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-0000c1e0: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
-0000c1f0: 2020 2020 2020 6d65 7461 7661 723d 223c        metavar="<
-0000c200: 696e 7669 7465 2055 524c 2074 6f20 6d65  invite URL to me
-0000c210: 6469 6174 6f72 3e22 2c0a 2020 2020 2020  diator>",.      
-0000c220: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
-0000c230: 4341 5059 5f4d 4544 4941 5449 4f4e 5f49  CAPY_MEDIATION_I
-0000c240: 4e56 4954 4154 494f 4e22 2c0a 2020 2020  NVITATION",.    
-0000c250: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
-0000c260: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000c270: 436f 6e6e 6563 7420 746f 206d 6564 6961  Connect to media
-0000c280: 746f 7220 7468 726f 7567 6820 7072 6f76  tor through prov
-0000c290: 6964 6564 2069 6e76 6974 6174 696f 6e20  ided invitation 
-0000c2a0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0000c2b0: 2020 2261 6e64 2073 656e 6420 6d65 6469    "and send medi
-0000c2c0: 6174 696f 6e20 7265 7175 6573 7420 616e  ation request an
-0000c2d0: 6420 7365 7420 6173 2064 6566 6175 6c74  d set as default
-0000c2e0: 206d 6564 6961 746f 722e 220a 2020 2020   mediator.".    
-0000c2f0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
-0000c300: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
-0000c310: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-0000c320: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-0000c330: 2d6d 6564 6961 746f 722d 636f 6e6e 6563  -mediator-connec
-0000c340: 7469 6f6e 732d 696e 7669 7465 222c 0a20  tions-invite",. 
-0000c350: 2020 2020 2020 2020 2020 2061 6374 696f             actio
-0000c360: 6e3d 2273 746f 7265 5f74 7275 6522 2c0a  n="store_true",.
-0000c370: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-0000c380: 7661 723d 2241 4341 5059 5f4d 4544 4941  var="ACAPY_MEDIA
-0000c390: 5449 4f4e 5f43 4f4e 4e45 4354 494f 4e53  TION_CONNECTIONS
-0000c3a0: 5f49 4e56 4954 4522 2c0a 2020 2020 2020  _INVITE",.      
-0000c3b0: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
-0000c3c0: 2020 2020 2020 2020 2020 2020 2022 436f               "Co
-0000c3d0: 6e6e 6563 7420 746f 206d 6564 6961 746f  nnect to mediato
-0000c3e0: 7220 7468 726f 7567 6820 6120 636f 6e6e  r through a conn
-0000c3f0: 6563 7469 6f6e 2069 6e76 6974 6174 696f  ection invitatio
-0000c400: 6e2e 2022 0a20 2020 2020 2020 2020 2020  n. ".           
-0000c410: 2020 2020 2022 4966 206e 6f74 2073 7065       "If not spe
-0000c420: 6369 6669 6564 2c20 636f 6e6e 6563 7420  cified, connect 
-0000c430: 7573 696e 6720 616e 204f 4f42 2069 6e76  using an OOB inv
-0000c440: 6974 6174 696f 6e2e 2022 0a20 2020 2020  itation. ".     
-0000c450: 2020 2020 2020 2020 2020 2022 4465 6661             "Defa
-0000c460: 756c 743a 2066 616c 7365 2e22 0a20 2020  ult: false.".   
-0000c470: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
-0000c480: 2020 2020 290a 0a20 2020 2064 6566 2067      )..    def g
-0000c490: 6574 5f73 6574 7469 6e67 7328 7365 6c66  et_settings(self
-0000c4a0: 2c20 6172 6773 3a20 4e61 6d65 7370 6163  , args: Namespac
-0000c4b0: 6529 3a0a 2020 2020 2020 2020 2222 2245  e):.        """E
-0000c4c0: 7874 7261 6374 206d 6564 6961 7469 6f6e  xtract mediation
-0000c4d0: 2069 6e76 6974 6174 696f 6e20 7365 7474   invitation sett
-0000c4e0: 696e 6773 2e22 2222 0a20 2020 2020 2020  ings.""".       
-0000c4f0: 2073 6574 7469 6e67 7320 3d20 7b7d 0a20   settings = {}. 
-0000c500: 2020 2020 2020 2069 6620 6172 6773 2e6d         if args.m
-0000c510: 6564 6961 746f 725f 696e 7669 7461 7469  ediator_invitati
-0000c520: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
-0000c530: 7365 7474 696e 6773 5b22 6d65 6469 6174  settings["mediat
-0000c540: 696f 6e2e 696e 7669 7465 225d 203d 2061  ion.invite"] = a
-0000c550: 7267 732e 6d65 6469 6174 6f72 5f69 6e76  rgs.mediator_inv
-0000c560: 6974 6174 696f 6e0a 2020 2020 2020 2020  itation.        
-0000c570: 6966 2061 7267 732e 6d65 6469 6174 6f72  if args.mediator
-0000c580: 5f63 6f6e 6e65 6374 696f 6e73 5f69 6e76  _connections_inv
-0000c590: 6974 653a 0a20 2020 2020 2020 2020 2020  ite:.           
-0000c5a0: 2073 6574 7469 6e67 735b 226d 6564 6961   settings["media
-0000c5b0: 7469 6f6e 2e63 6f6e 6e65 6374 696f 6e73  tion.connections
-0000c5c0: 5f69 6e76 6974 6522 5d20 3d20 5472 7565  _invite"] = True
-0000c5d0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
-0000c5e0: 2073 6574 7469 6e67 730a 0a0a 4067 726f   settings...@gro
-0000c5f0: 7570 2843 4154 5f53 5441 5254 290a 636c  up(CAT_START).cl
-0000c600: 6173 7320 4d65 6469 6174 696f 6e47 726f  ass MediationGro
-0000c610: 7570 2841 7267 756d 656e 7447 726f 7570  up(ArgumentGroup
-0000c620: 293a 0a20 2020 2022 2222 4d65 6469 6174  ):.    """Mediat
-0000c630: 696f 6e20 7365 7474 696e 6773 2e22 2222  ion settings."""
-0000c640: 0a0a 2020 2020 4752 4f55 505f 4e41 4d45  ..    GROUP_NAME
-0000c650: 203d 2022 4d65 6469 6174 696f 6e22 0a0a   = "Mediation"..
-0000c660: 2020 2020 6465 6620 6164 645f 6172 6775      def add_argu
-0000c670: 6d65 6e74 7328 7365 6c66 2c20 7061 7273  ments(self, pars
-0000c680: 6572 3a20 4172 6775 6d65 6e74 5061 7273  er: ArgumentPars
-0000c690: 6572 293a 0a20 2020 2020 2020 2022 2222  er):.        """
-0000c6a0: 4164 6420 6d65 6469 6174 696f 6e20 636f  Add mediation co
-0000c6b0: 6d6d 616e 6420 6c69 6e65 2061 7267 756d  mmand line argum
-0000c6c0: 656e 7473 2074 6f20 7468 6520 7061 7273  ents to the pars
-0000c6d0: 6572 2e22 2222 0a20 2020 2020 2020 2070  er.""".        p
-0000c6e0: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
-0000c6f0: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
-0000c700: 222d 2d6f 7065 6e2d 6d65 6469 6174 696f  "--open-mediatio
-0000c710: 6e22 2c0a 2020 2020 2020 2020 2020 2020  n",.            
-0000c720: 6163 7469 6f6e 3d22 7374 6f72 655f 7472  action="store_tr
-0000c730: 7565 222c 0a20 2020 2020 2020 2020 2020  ue",.           
-0000c740: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-0000c750: 4d45 4449 4154 494f 4e5f 4f50 454e 222c  MEDIATION_OPEN",
-0000c760: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
-0000c770: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
-0000c780: 2020 2020 2245 6e61 626c 6573 2061 7574      "Enables aut
-0000c790: 6f6d 6174 6963 2067 7261 6e74 696e 6720  omatic granting 
-0000c7a0: 6f66 206d 6564 6961 7469 6f6e 2e20 4166  of mediation. Af
-0000c7b0: 7465 7220 6573 7461 626c 6973 6869 6e67  ter establishing
-0000c7c0: 2061 2022 0a20 2020 2020 2020 2020 2020   a ".           
-0000c7d0: 2020 2020 2022 636f 6e6e 6563 7469 6f6e       "connection
-0000c7e0: 2c20 6966 2065 6e61 626c 6564 2c20 616e  , if enabled, an
-0000c7f0: 2061 6765 6e74 206d 6179 2072 6571 7565   agent may reque
-0000c800: 7374 206d 6573 7361 6765 206d 6564 6961  st message media
-0000c810: 7469 6f6e 2022 0a20 2020 2020 2020 2020  tion ".         
-0000c820: 2020 2020 2020 2022 616e 6420 6265 2067         "and be g
-0000c830: 7261 6e74 6564 2069 7420 6175 746f 6d61  ranted it automa
-0000c840: 7469 6361 6c6c 792c 2077 6869 6368 2077  tically, which w
-0000c850: 696c 6c20 616c 6c6f 7720 7468 6520 6d65  ill allow the me
-0000c860: 6469 6174 6f72 2022 0a20 2020 2020 2020  diator ".       
-0000c870: 2020 2020 2020 2020 2022 746f 2066 6f72           "to for
-0000c880: 7761 7264 206d 6573 7361 6765 7320 6f6e  ward messages on
-0000c890: 2062 6568 616c 6620 6f66 2074 6865 2072   behalf of the r
-0000c8a0: 6563 6970 6965 6e74 2e20 5365 6520 220a  ecipient. See ".
-0000c8b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c8c0: 2261 7269 6573 2d72 6663 3a30 3231 312e  "aries-rfc:0211.
-0000c8d0: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
-0000c8e0: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-0000c8f0: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
-0000c900: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
-0000c910: 2020 2020 2022 2d2d 6465 6661 756c 742d       "--default-
-0000c920: 6d65 6469 6174 6f72 2d69 6422 2c0a 2020  mediator-id",.  
-0000c930: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
-0000c940: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
-0000c950: 6d65 7461 7661 723d 223c 6d65 6469 6174  metavar="<mediat
-0000c960: 696f 6e20 6964 3e22 2c0a 2020 2020 2020  ion id>",.      
-0000c970: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
-0000c980: 4341 5059 5f44 4546 4155 4c54 5f4d 4544  CAPY_DEFAULT_MED
-0000c990: 4941 5449 4f4e 5f49 4422 2c0a 2020 2020  IATION_ID",.    
-0000c9a0: 2020 2020 2020 2020 6865 6c70 3d22 5365          help="Se
-0000c9b0: 7420 7468 6520 6465 6661 756c 7420 6d65  t the default me
-0000c9c0: 6469 6174 6f72 2062 7920 4944 222c 0a20  diator by ID",. 
-0000c9d0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000c9e0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-0000c9f0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-0000ca00: 2020 222d 2d63 6c65 6172 2d64 6566 6175    "--clear-defau
-0000ca10: 6c74 2d6d 6564 6961 746f 7222 2c0a 2020  lt-mediator",.  
-0000ca20: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
-0000ca30: 3d22 7374 6f72 655f 7472 7565 222c 0a20  ="store_true",. 
-0000ca40: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-0000ca50: 6172 3d22 4143 4150 595f 434c 4541 525f  ar="ACAPY_CLEAR_
-0000ca60: 4445 4641 554c 545f 4d45 4449 4154 4f52  DEFAULT_MEDIATOR
-0000ca70: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
-0000ca80: 656c 703d 2243 6c65 6172 2074 6865 2073  elp="Clear the s
-0000ca90: 746f 7265 6420 6465 6661 756c 7420 6d65  tored default me
-0000caa0: 6469 6174 6f72 2e22 2c0a 2020 2020 2020  diator.",.      
-0000cab0: 2020 290a 0a20 2020 2064 6566 2067 6574    )..    def get
-0000cac0: 5f73 6574 7469 6e67 7328 7365 6c66 2c20  _settings(self, 
-0000cad0: 6172 6773 3a20 4e61 6d65 7370 6163 6529  args: Namespace)
-0000cae0: 3a0a 2020 2020 2020 2020 2222 2245 7874  :.        """Ext
-0000caf0: 7261 6374 206d 6564 6961 7469 6f6e 2073  ract mediation s
-0000cb00: 6574 7469 6e67 732e 2222 220a 2020 2020  ettings.""".    
-0000cb10: 2020 2020 7365 7474 696e 6773 203d 207b      settings = {
-0000cb20: 7d0a 2020 2020 2020 2020 6966 2061 7267  }.        if arg
-0000cb30: 732e 6f70 656e 5f6d 6564 6961 7469 6f6e  s.open_mediation
-0000cb40: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000cb50: 7474 696e 6773 5b22 6d65 6469 6174 696f  ttings["mediatio
-0000cb60: 6e2e 6f70 656e 225d 203d 2054 7275 650a  n.open"] = True.
-0000cb70: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
-0000cb80: 6465 6661 756c 745f 6d65 6469 6174 6f72  default_mediator
-0000cb90: 5f69 643a 0a20 2020 2020 2020 2020 2020  _id:.           
-0000cba0: 2073 6574 7469 6e67 735b 226d 6564 6961   settings["media
-0000cbb0: 7469 6f6e 2e64 6566 6175 6c74 5f69 6422  tion.default_id"
-0000cbc0: 5d20 3d20 6172 6773 2e64 6566 6175 6c74  ] = args.default
-0000cbd0: 5f6d 6564 6961 746f 725f 6964 0a20 2020  _mediator_id.   
-0000cbe0: 2020 2020 2069 6620 6172 6773 2e63 6c65       if args.cle
-0000cbf0: 6172 5f64 6566 6175 6c74 5f6d 6564 6961  ar_default_media
-0000cc00: 746f 723a 0a20 2020 2020 2020 2020 2020  tor:.           
-0000cc10: 2073 6574 7469 6e67 735b 226d 6564 6961   settings["media
-0000cc20: 7469 6f6e 2e63 6c65 6172 225d 203d 2054  tion.clear"] = T
-0000cc30: 7275 650a 0a20 2020 2020 2020 2069 6620  rue..        if 
-0000cc40: 6172 6773 2e63 6c65 6172 5f64 6566 6175  args.clear_defau
-0000cc50: 6c74 5f6d 6564 6961 746f 7220 616e 6420  lt_mediator and 
-0000cc60: 6172 6773 2e64 6566 6175 6c74 5f6d 6564  args.default_med
-0000cc70: 6961 746f 725f 6964 3a0a 2020 2020 2020  iator_id:.      
-0000cc80: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
-0000cc90: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
-0000cca0: 2020 2020 2020 2020 2020 2020 2243 616e              "Can
-0000ccb0: 6e6f 7420 626f 7468 2073 6574 2061 6e64  not both set and
-0000ccc0: 2063 6c65 6172 206d 6564 6961 7469 6f6e   clear mediation
-0000ccd0: 2061 7420 7468 6520 7361 6d65 2074 696d   at the same tim
-0000cce0: 652e 220a 2020 2020 2020 2020 2020 2020  e.".            
-0000ccf0: 290a 0a20 2020 2020 2020 2072 6574 7572  )..        retur
-0000cd00: 6e20 7365 7474 696e 6773 0a0a 0a40 6772  n settings...@gr
-0000cd10: 6f75 7028 4341 545f 5052 4f56 4953 494f  oup(CAT_PROVISIO
-0000cd20: 4e2c 2043 4154 5f53 5441 5254 2c20 4341  N, CAT_START, CA
-0000cd30: 545f 5550 4752 4144 4529 0a63 6c61 7373  T_UPGRADE).class
-0000cd40: 2057 616c 6c65 7447 726f 7570 2841 7267   WalletGroup(Arg
-0000cd50: 756d 656e 7447 726f 7570 293a 0a20 2020  umentGroup):.   
-0000cd60: 2022 2222 5761 6c6c 6574 2073 6574 7469   """Wallet setti
-0000cd70: 6e67 732e 2222 220a 0a20 2020 2047 524f  ngs."""..    GRO
-0000cd80: 5550 5f4e 414d 4520 3d20 2257 616c 6c65  UP_NAME = "Walle
-0000cd90: 7422 0a0a 2020 2020 6465 6620 6164 645f  t"..    def add_
-0000cda0: 6172 6775 6d65 6e74 7328 7365 6c66 2c20  arguments(self, 
-0000cdb0: 7061 7273 6572 3a20 4172 6775 6d65 6e74  parser: Argument
-0000cdc0: 5061 7273 6572 293a 0a20 2020 2020 2020  Parser):.       
-0000cdd0: 2022 2222 4164 6420 7761 6c6c 6574 2d73   """Add wallet-s
-0000cde0: 7065 6369 6669 6320 636f 6d6d 616e 6420  pecific command 
-0000cdf0: 6c69 6e65 2061 7267 756d 656e 7473 2074  line arguments t
-0000ce00: 6f20 7468 6520 7061 7273 6572 2e22 2222  o the parser."""
-0000ce10: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
-0000ce20: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
-0000ce30: 2020 2020 2020 2020 2020 222d 2d73 6565            "--see
-0000ce40: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-0000ce50: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
-0000ce60: 2020 2020 2020 6d65 7461 7661 723d 223c        metavar="<
-0000ce70: 7761 6c6c 6574 2d73 6565 643e 222c 0a20  wallet-seed>",. 
-0000ce80: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-0000ce90: 6172 3d22 4143 4150 595f 5741 4c4c 4554  ar="ACAPY_WALLET
-0000cea0: 5f53 4545 4422 2c0a 2020 2020 2020 2020  _SEED",.        
-0000ceb0: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
-0000cec0: 2020 2020 2020 2020 2020 2022 5370 6563             "Spec
-0000ced0: 6966 6965 7320 7468 6520 7365 6564 2074  ifies the seed t
-0000cee0: 6f20 7573 6520 666f 7220 7468 6520 6372  o use for the cr
-0000cef0: 6561 7469 6f6e 206f 6620 6120 7075 626c  eation of a publ
-0000cf00: 6963 2022 0a20 2020 2020 2020 2020 2020  ic ".           
-0000cf10: 2020 2020 2022 4449 4420 666f 7220 7468       "DID for th
-0000cf20: 6520 6167 656e 7420 746f 2075 7365 2077  e agent to use w
-0000cf30: 6974 6820 6120 4879 7065 726c 6564 6765  ith a Hyperledge
-0000cf40: 7220 496e 6479 206c 6564 6765 722c 206f  r Indy ledger, o
-0000cf50: 7220 6120 6c6f 6361 6c20 220a 2020 2020  r a local ".    
-0000cf60: 2020 2020 2020 2020 2020 2020 2228 272d              "('-
-0000cf70: 2d77 616c 6c65 742d 6c6f 6361 6c2d 6469  -wallet-local-di
-0000cf80: 6427 2920 4449 442e 2049 6620 7075 626c  d') DID. If publ
-0000cf90: 6963 2c20 7468 6520 4449 4420 6d75 7374  ic, the DID must
-0000cfa0: 2061 6c72 6561 6479 2065 7869 7374 2022   already exist "
-0000cfb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000cfc0: 2022 6f6e 2074 6865 206c 6564 6765 722e   "on the ledger.
-0000cfd0: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
-0000cfe0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0000cff0: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
-0000d000: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
-0000d010: 2020 2020 222d 2d77 616c 6c65 742d 6c6f      "--wallet-lo
-0000d020: 6361 6c2d 6469 6422 2c0a 2020 2020 2020  cal-did",.      
-0000d030: 2020 2020 2020 6163 7469 6f6e 3d22 7374        action="st
-0000d040: 6f72 655f 7472 7565 222c 0a20 2020 2020  ore_true",.     
-0000d050: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-0000d060: 4143 4150 595f 5741 4c4c 4554 5f4c 4f43  ACAPY_WALLET_LOC
-0000d070: 414c 5f44 4944 222c 0a20 2020 2020 2020  AL_DID",.       
-0000d080: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
-0000d090: 2020 2020 2020 2020 2020 2020 2249 6620              "If 
-0000d0a0: 7468 6973 2070 6172 616d 6574 6572 2069  this parameter i
-0000d0b0: 7320 7365 742c 2070 726f 7669 7369 6f6e  s set, provision
-0000d0c0: 7320 7468 6520 7761 6c6c 6574 2077 6974  s the wallet wit
-0000d0d0: 6820 6120 220a 2020 2020 2020 2020 2020  h a ".          
-0000d0e0: 2020 2020 2020 226c 6f63 616c 2044 4944        "local DID
-0000d0f0: 2066 726f 6d20 7468 6520 272d 2d73 6565   from the '--see
-0000d100: 6427 2070 6172 616d 6574 6572 2c20 696e  d' parameter, in
-0000d110: 7374 6561 6420 6f66 2061 2070 7562 6c69  stead of a publi
-0000d120: 6320 4449 4420 220a 2020 2020 2020 2020  c DID ".        
-0000d130: 2020 2020 2020 2020 2274 6f20 7573 6520          "to use 
-0000d140: 7769 7468 2061 2048 7970 6572 6c65 6467  with a Hyperledg
-0000d150: 6572 2049 6e64 7920 6c65 6467 6572 2e22  er Indy ledger."
-0000d160: 0a20 2020 2020 2020 2020 2020 2029 2c0a  .            ),.
-0000d170: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0000d180: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
-0000d190: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
-0000d1a0: 2020 2022 2d2d 7761 6c6c 6574 2d61 6c6c     "--wallet-all
-0000d1b0: 6f77 2d69 6e73 6563 7572 652d 7365 6564  ow-insecure-seed
-0000d1c0: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-0000d1d0: 6374 696f 6e3d 2273 746f 7265 5f74 7275  ction="store_tru
-0000d1e0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-0000d1f0: 656e 765f 7661 723d 2241 4341 5059 5f57  env_var="ACAPY_W
-0000d200: 414c 4c45 545f 414c 4c4f 575f 494e 5345  ALLET_ALLOW_INSE
-0000d210: 4355 5245 5f53 4545 4422 2c0a 2020 2020  CURE_SEED",.    
-0000d220: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
-0000d230: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000d240: 4966 2074 6869 7320 7061 7261 6d65 7465  If this paramete
-0000d250: 7220 6973 2073 6574 2c20 616c 6c6f 7773  r is set, allows
-0000d260: 2074 6f20 7573 6520 6120 6375 7374 6f6d   to use a custom
-0000d270: 2073 6565 6420 220a 2020 2020 2020 2020   seed ".        
-0000d280: 2020 2020 2020 2020 2274 6f20 6372 6561          "to crea
-0000d290: 7465 2061 206c 6f63 616c 2044 4944 220a  te a local DID".
-0000d2a0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-0000d2b0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000d2c0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-0000d2d0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-0000d2e0: 2020 222d 2d77 616c 6c65 742d 6b65 7922    "--wallet-key"
-0000d2f0: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
-0000d300: 7065 3d73 7472 2c0a 2020 2020 2020 2020  pe=str,.        
-0000d310: 2020 2020 6d65 7461 7661 723d 223c 7761      metavar="<wa
-0000d320: 6c6c 6574 2d6b 6579 3e22 2c0a 2020 2020  llet-key>",.    
-0000d330: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
-0000d340: 2241 4341 5059 5f57 414c 4c45 545f 4b45  "ACAPY_WALLET_KE
-0000d350: 5922 2c0a 2020 2020 2020 2020 2020 2020  Y",.            
-0000d360: 6865 6c70 3d22 5370 6563 6966 6965 7320  help="Specifies 
-0000d370: 7468 6520 6d61 7374 6572 206b 6579 2076  the master key v
-0000d380: 616c 7565 2074 6f20 7573 6520 746f 206f  alue to use to o
-0000d390: 7065 6e20 7468 6520 7761 6c6c 6574 2e22  pen the wallet."
-0000d3a0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-0000d3b0: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
-0000d3c0: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
-0000d3d0: 2020 2020 2022 2d2d 7761 6c6c 6574 2d72       "--wallet-r
-0000d3e0: 656b 6579 222c 0a20 2020 2020 2020 2020  ekey",.         
-0000d3f0: 2020 2074 7970 653d 7374 722c 0a20 2020     type=str,.   
-0000d400: 2020 2020 2020 2020 206d 6574 6176 6172           metavar
-0000d410: 3d22 3c77 616c 6c65 742d 7265 6b65 793e  ="<wallet-rekey>
-0000d420: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
-0000d430: 6e76 5f76 6172 3d22 4143 4150 595f 5741  nv_var="ACAPY_WA
-0000d440: 4c4c 4554 5f52 454b 4559 222c 0a20 2020  LLET_REKEY",.   
-0000d450: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
-0000d460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d470: 2253 7065 6369 6669 6573 2061 206e 6577  "Specifies a new
-0000d480: 206d 6173 7465 7220 6b65 7920 7661 6c75   master key valu
-0000d490: 6520 746f 2077 6869 6368 2074 6f20 726f  e to which to ro
-0000d4a0: 7461 7465 2061 6e64 2074 6f20 220a 2020  tate and to ".  
-0000d4b0: 2020 2020 2020 2020 2020 2020 2020 226f                "o
-0000d4c0: 7065 6e20 7468 6520 7761 6c6c 6574 206e  pen the wallet n
-0000d4d0: 6578 7420 7469 6d65 2e22 0a20 2020 2020  ext time.".     
-0000d4e0: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
-0000d4f0: 2020 290a 2020 2020 2020 2020 7061 7273    ).        pars
-0000d500: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
-0000d510: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
-0000d520: 7761 6c6c 6574 2d6e 616d 6522 2c0a 2020  wallet-name",.  
-0000d530: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
-0000d540: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
-0000d550: 6d65 7461 7661 723d 223c 7761 6c6c 6574  metavar="<wallet
-0000d560: 2d6e 616d 653e 222c 0a20 2020 2020 2020  -name>",.       
-0000d570: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
-0000d580: 4150 595f 5741 4c4c 4554 5f4e 414d 4522  APY_WALLET_NAME"
-0000d590: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-0000d5a0: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-0000d5b0: 2020 2020 2022 5370 6563 6966 6965 7320       "Specifies 
-0000d5c0: 7468 6520 7761 6c6c 6574 206e 616d 6520  the wallet name 
-0000d5d0: 746f 2062 6520 7573 6564 2062 7920 7468  to be used by th
-0000d5e0: 6520 6167 656e 742e 2022 0a20 2020 2020  e agent. ".     
-0000d5f0: 2020 2020 2020 2020 2020 2022 5468 6973             "This
-0000d600: 2069 7320 7573 6566 756c 2069 6620 796f   is useful if yo
-0000d610: 7572 2064 6570 6c6f 796d 656e 7420 6861  ur deployment ha
-0000d620: 7320 6d75 6c74 6970 6c65 2077 616c 6c65  s multiple walle
-0000d630: 7473 2e22 0a20 2020 2020 2020 2020 2020  ts.".           
-0000d640: 2029 2c0a 2020 2020 2020 2020 290a 2020   ),.        ).  
-0000d650: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
-0000d660: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
-0000d670: 2020 2020 2020 2022 2d2d 7761 6c6c 6574         "--wallet
-0000d680: 2d74 7970 6522 2c0a 2020 2020 2020 2020  -type",.        
-0000d690: 2020 2020 7479 7065 3d73 7472 2c0a 2020      type=str,.  
-0000d6a0: 2020 2020 2020 2020 2020 6d65 7461 7661            metava
-0000d6b0: 723d 223c 7761 6c6c 6574 2d74 7970 653e  r="<wallet-type>
-0000d6c0: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
-0000d6d0: 6566 6175 6c74 3d22 6261 7369 6322 2c0a  efault="basic",.
-0000d6e0: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-0000d6f0: 7661 723d 2241 4341 5059 5f57 414c 4c45  var="ACAPY_WALLE
-0000d700: 545f 5459 5045 222c 0a20 2020 2020 2020  T_TYPE",.       
-0000d710: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
-0000d720: 2020 2020 2020 2020 2020 2020 2253 7065              "Spe
-0000d730: 6369 6669 6573 2074 6865 2074 7970 6520  cifies the type 
-0000d740: 6f66 2049 6e64 7920 7761 6c6c 6574 2070  of Indy wallet p
-0000d750: 726f 7669 6465 7220 746f 2075 7365 2e20  rovider to use. 
-0000d760: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0000d770: 2020 2253 7570 706f 7274 6564 2069 6e74    "Supported int
-0000d780: 6572 6e61 6c20 7374 6f72 6167 6520 7479  ernal storage ty
-0000d790: 7065 7320 6172 6520 2762 6173 6963 2720  pes are 'basic' 
-0000d7a0: 286d 656d 6f72 7929 2061 6e64 2027 696e  (memory) and 'in
-0000d7b0: 6479 272e 2022 0a20 2020 2020 2020 2020  dy'. ".         
-0000d7c0: 2020 2020 2020 2022 5468 6520 6465 6661         "The defa
-0000d7d0: 756c 7420 2869 6620 6e6f 7420 7370 6563  ult (if not spec
-0000d7e0: 6966 6965 6429 2069 7320 2762 6173 6963  ified) is 'basic
-0000d7f0: 272e 220a 2020 2020 2020 2020 2020 2020  '.".            
-0000d800: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
-0000d810: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
-0000d820: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
-0000d830: 2020 2020 2020 222d 2d77 616c 6c65 742d        "--wallet-
-0000d840: 7374 6f72 6167 652d 7479 7065 222c 0a20  storage-type",. 
-0000d850: 2020 2020 2020 2020 2020 2074 7970 653d             type=
-0000d860: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
-0000d870: 206d 6574 6176 6172 3d22 3c73 746f 7261   metavar="<stora
-0000d880: 6765 2d74 7970 653e 222c 0a20 2020 2020  ge-type>",.     
-0000d890: 2020 2020 2020 2064 6566 6175 6c74 3d22         default="
-0000d8a0: 6465 6661 756c 7422 2c0a 2020 2020 2020  default",.      
-0000d8b0: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
-0000d8c0: 4341 5059 5f57 414c 4c45 545f 5354 4f52  CAPY_WALLET_STOR
-0000d8d0: 4147 455f 5459 5045 222c 0a20 2020 2020  AGE_TYPE",.     
-0000d8e0: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-0000d8f0: 2020 2020 2020 2020 2020 2020 2020 2253                "S
-0000d900: 7065 6369 6669 6573 2074 6865 2074 7970  pecifies the typ
-0000d910: 6520 6f66 2049 6e64 7920 7761 6c6c 6574  e of Indy wallet
-0000d920: 2062 6163 6b65 6e64 2074 6f20 7573 652e   backend to use.
-0000d930: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-0000d940: 2020 2022 5375 7070 6f72 7465 6420 696e     "Supported in
-0000d950: 7465 726e 616c 2073 746f 7261 6765 2074  ternal storage t
-0000d960: 7970 6573 2061 7265 2027 6261 7369 6327  ypes are 'basic'
-0000d970: 2028 6d65 6d6f 7279 292c 2022 0a20 2020   (memory), ".   
-0000d980: 2020 2020 2020 2020 2020 2020 2022 2764               "'d
-0000d990: 6566 6175 6c74 2720 2873 716c 6974 6529  efault' (sqlite)
-0000d9a0: 2c20 616e 6420 2770 6f73 7467 7265 735f  , and 'postgres_
-0000d9b0: 7374 6f72 6167 6527 2e20 2054 6865 2064  storage'.  The d
-0000d9c0: 6566 6175 6c74 2c20 220a 2020 2020 2020  efault, ".      
-0000d9d0: 2020 2020 2020 2020 2020 2269 6620 6e6f            "if no
-0000d9e0: 7420 7370 6563 6966 6965 642c 2069 7320  t specified, is 
-0000d9f0: 2764 6566 6175 6c74 272e 220a 2020 2020  'default'.".    
-0000da00: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
-0000da10: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
-0000da20: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-0000da30: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-0000da40: 2d77 616c 6c65 742d 7374 6f72 6167 652d  -wallet-storage-
-0000da50: 636f 6e66 6967 222c 0a20 2020 2020 2020  config",.       
-0000da60: 2020 2020 2074 7970 653d 7374 722c 0a20       type=str,. 
-0000da70: 2020 2020 2020 2020 2020 206d 6574 6176             metav
-0000da80: 6172 3d22 3c73 746f 7261 6765 2d63 6f6e  ar="<storage-con
-0000da90: 6669 673e 222c 0a20 2020 2020 2020 2020  fig>",.         
-0000daa0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
-0000dab0: 595f 5741 4c4c 4554 5f53 544f 5241 4745  Y_WALLET_STORAGE
-0000dac0: 5f43 4f4e 4649 4722 2c0a 2020 2020 2020  _CONFIG",.      
-0000dad0: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
-0000dae0: 2020 2020 2020 2020 2020 2020 2022 5370               "Sp
-0000daf0: 6563 6966 6965 7320 7468 6520 7374 6f72  ecifies the stor
-0000db00: 6167 6520 636f 6e66 6967 7572 6174 696f  age configuratio
-0000db10: 6e20 746f 2075 7365 2066 6f72 2074 6865  n to use for the
-0000db20: 2077 616c 6c65 742e 2022 0a20 2020 2020   wallet. ".     
-0000db30: 2020 2020 2020 2020 2020 2022 5468 6973             "This
-0000db40: 2069 7320 7265 7175 6972 6564 2069 6620   is required if 
-0000db50: 796f 7520 6172 6520 666f 7220 7573 696e  you are for usin
-0000db60: 6720 2770 6f73 7467 7265 735f 7374 6f72  g 'postgres_stor
-0000db70: 6167 6527 2077 616c 6c65 7420 220a 2020  age' wallet ".  
-0000db80: 2020 2020 2020 2020 2020 2020 2020 2773                's
-0000db90: 746f 7261 6765 2074 7970 652e 2046 6f72  torage type. For
-0000dba0: 2065 7861 6d70 6c65 2c20 5c27 7b22 7572   example, \'{"ur
-0000dbb0: 6c22 3a22 6c6f 6361 6c68 6f73 743a 3534  l":"localhost:54
-0000dbc0: 3332 222c 2027 0a20 2020 2020 2020 2020  32", '.         
-0000dbd0: 2020 2020 2020 2027 2277 616c 6c65 745f         '"wallet_
-0000dbe0: 7363 6865 6d65 223a 224d 756c 7469 5761  scheme":"MultiWa
-0000dbf0: 6c6c 6574 5369 6e67 6c65 5461 626c 6522  lletSingleTable"
-0000dc00: 7d5c 272e 2054 6869 7320 270a 2020 2020  }\'. This '.    
-0000dc10: 2020 2020 2020 2020 2020 2020 2263 6f6e              "con
-0000dc20: 6669 6775 7261 7469 6f6e 206d 6170 7320  figuration maps 
-0000dc30: 746f 2074 6865 2069 6e64 7920 7364 6b20  to the indy sdk 
-0000dc40: 706f 7374 6772 6573 2070 6c75 6769 6e20  postgres plugin 
-0000dc50: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0000dc60: 2020 2228 506f 7374 6772 6573 436f 6e66    "(PostgresConf
-0000dc70: 6967 292e 220a 2020 2020 2020 2020 2020  ig).".          
-0000dc80: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
-0000dc90: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-0000dca0: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-0000dcb0: 2020 2020 2020 2020 222d 2d77 616c 6c65          "--walle
-0000dcc0: 742d 6b65 792d 6465 7269 7661 7469 6f6e  t-key-derivation
-0000dcd0: 2d6d 6574 686f 6422 2c0a 2020 2020 2020  -method",.      
-0000dce0: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-0000dcf0: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
-0000dd00: 7661 723d 223c 6b65 792d 6465 7269 7661  var="<key-deriva
-0000dd10: 7469 6f6e 2d6d 6574 686f 643e 222c 0a20  tion-method>",. 
-0000dd20: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
-0000dd30: 6172 3d22 4143 4150 595f 5741 4c4c 4554  ar="ACAPY_WALLET
-0000dd40: 5f4b 4559 5f44 4552 4956 4154 494f 4e5f  _KEY_DERIVATION_
-0000dd50: 4d45 5448 4f44 222c 0a20 2020 2020 2020  METHOD",.       
-0000dd60: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
-0000dd70: 2020 2020 2020 2020 2020 2020 2253 7065              "Spe
-0000dd80: 6369 6669 6573 2074 6865 206b 6579 2064  cifies the key d
-0000dd90: 6572 6976 6174 696f 6e20 6d65 7468 6f64  erivation method
-0000dda0: 2075 7365 6420 666f 7220 7761 6c6c 6574   used for wallet
-0000ddb0: 2065 6e63 7279 7074 696f 6e2e 220a 2020   encryption.".  
-0000ddc0: 2020 2020 2020 2020 2020 2020 2020 2249                "I
-0000ddd0: 6620 5241 5720 6b65 7920 6465 7269 7661  f RAW key deriva
-0000dde0: 7469 6f6e 206d 6574 686f 6420 6973 2075  tion method is u
-0000ddf0: 7365 642c 2061 6c73 6f20 2d2d 7761 6c6c  sed, also --wall
-0000de00: 6574 2d6b 6579 2070 6172 616d 6574 6572  et-key parameter
-0000de10: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0000de20: 2020 2220 6973 2065 7870 6563 7465 642e    " is expected.
-0000de30: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
-0000de40: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0000de50: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
-0000de60: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
-0000de70: 2020 2020 222d 2d77 616c 6c65 742d 7374      "--wallet-st
-0000de80: 6f72 6167 652d 6372 6564 7322 2c0a 2020  orage-creds",.  
-0000de90: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
-0000dea0: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
-0000deb0: 6d65 7461 7661 723d 223c 7374 6f72 6167  metavar="<storag
-0000dec0: 652d 6372 6564 733e 222c 0a20 2020 2020  e-creds>",.     
-0000ded0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-0000dee0: 4143 4150 595f 5741 4c4c 4554 5f53 544f  ACAPY_WALLET_STO
-0000def0: 5241 4745 5f43 5245 4453 222c 0a20 2020  RAGE_CREDS",.   
-0000df00: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
-0000df10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000df20: 2253 7065 6369 6669 6573 2074 6865 2073  "Specifies the s
-0000df30: 746f 7261 6765 2063 7265 6465 6e74 6961  torage credentia
-0000df40: 6c73 2074 6f20 7573 6520 666f 7220 7468  ls to use for th
-0000df50: 6520 7761 6c6c 6574 2e20 220a 2020 2020  e wallet. ".    
-0000df60: 2020 2020 2020 2020 2020 2020 2254 6869              "Thi
-0000df70: 7320 6973 2072 6571 7569 7265 6420 6966  s is required if
-0000df80: 2079 6f75 2061 7265 2066 6f72 2075 7369   you are for usi
-0000df90: 6e67 2027 706f 7374 6772 6573 5f73 746f  ng 'postgres_sto
-0000dfa0: 7261 6765 2720 7761 6c6c 6574 2022 0a20  rage' wallet ". 
-0000dfb0: 2020 2020 2020 2020 2020 2020 2020 2027                 '
-0000dfc0: 466f 7220 6578 616d 706c 652c 205c 277b  For example, \'{
-0000dfd0: 2261 6363 6f75 6e74 223a 2270 6f73 7467  "account":"postg
-0000dfe0: 7265 7322 2c22 7061 7373 776f 7264 223a  res","password":
-0000dff0: 2027 0a20 2020 2020 2020 2020 2020 2020   '.             
-0000e000: 2020 2027 226d 7973 6563 7265 7470 6173     '"mysecretpas
-0000e010: 7377 6f72 6422 2c22 6164 6d69 6e5f 6163  sword","admin_ac
-0000e020: 636f 756e 7422 3a22 706f 7374 6772 6573  count":"postgres
-0000e030: 222c 2027 0a20 2020 2020 2020 2020 2020  ", '.           
-0000e040: 2020 2020 2027 2261 646d 696e 5f70 6173       '"admin_pas
-0000e050: 7377 6f72 6422 3a22 6d79 7365 6372 6574  sword":"mysecret
-0000e060: 7061 7373 776f 7264 227d 5c27 2e20 5468  password"}\'. Th
-0000e070: 6973 2063 6f6e 6669 6775 7261 7469 6f6e  is configuration
-0000e080: 206d 6170 7320 270a 2020 2020 2020 2020   maps '.        
-0000e090: 2020 2020 2020 2020 2274 6f20 7468 6520          "to the 
-0000e0a0: 696e 6479 2073 646b 2070 6f73 7467 7265  indy sdk postgre
-0000e0b0: 7320 706c 7567 696e 2028 506f 7374 6772  s plugin (Postgr
-0000e0c0: 6573 4372 6564 656e 7469 616c 7329 2e20  esCredentials). 
-0000e0d0: 4e4f 5445 3a20 220a 2020 2020 2020 2020  NOTE: ".        
-0000e0e0: 2020 2020 2020 2020 2261 646d 696e 5f75          "admin_u
-0000e0f0: 7365 7220 6d75 7374 2068 6176 6520 7468  ser must have th
-0000e100: 6520 4352 4541 5445 4442 2072 6f6c 6520  e CREATEDB role 
-0000e110: 6f72 2065 6c73 6520 696e 6974 6961 6c69  or else initiali
-0000e120: 7a61 7469 6f6e 2022 0a20 2020 2020 2020  zation ".       
-0000e130: 2020 2020 2020 2020 2022 7769 6c6c 2066           "will f
-0000e140: 6169 6c2e 220a 2020 2020 2020 2020 2020  ail.".          
-0000e150: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
-0000e160: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-0000e170: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-0000e180: 2020 2020 2020 2020 222d 2d72 6570 6c61          "--repla
-0000e190: 6365 2d70 7562 6c69 632d 6469 6422 2c0a  ce-public-did",.
-0000e1a0: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-0000e1b0: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-0000e1c0: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-0000e1d0: 5f76 6172 3d22 4143 4150 595f 5245 504c  _var="ACAPY_REPL
-0000e1e0: 4143 455f 5055 424c 4943 5f44 4944 222c  ACE_PUBLIC_DID",
-0000e1f0: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
-0000e200: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
-0000e210: 2020 2020 2249 6620 7468 6973 2070 6172      "If this par
-0000e220: 616d 6574 6572 2069 7320 7365 7420 616e  ameter is set an
-0000e230: 6420 616e 2061 6765 6e74 2061 6c72 6561  d an agent alrea
-0000e240: 6479 2068 6173 2061 2070 7562 6c69 6320  dy has a public 
-0000e250: 4449 442c 2022 0a20 2020 2020 2020 2020  DID, ".         
-0000e260: 2020 2020 2020 2022 616e 6420 7468 6520         "and the 
-0000e270: 272d 2d73 6565 6427 2070 6172 616d 6574  '--seed' paramet
-0000e280: 6572 2073 7065 6369 6669 6573 2061 206e  er specifies a n
-0000e290: 6577 2044 4944 2c20 7468 6520 6167 656e  ew DID, the agen
-0000e2a0: 7420 7769 6c6c 2075 7365 2022 0a20 2020  t will use ".   
-0000e2b0: 2020 2020 2020 2020 2020 2020 2022 7468               "th
-0000e2c0: 6520 6e65 7720 4449 4420 696e 2070 6c61  e new DID in pla
-0000e2d0: 6365 206f 6620 7468 6520 6578 6973 7469  ce of the existi
-0000e2e0: 6e67 2044 4944 2e20 4465 6661 756c 743a  ng DID. Default:
-0000e2f0: 2066 616c 7365 2e22 0a20 2020 2020 2020   false.".       
-0000e300: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-0000e310: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-0000e320: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-0000e330: 2020 2020 2020 2020 2020 2022 2d2d 7265             "--re
-0000e340: 6372 6561 7465 2d77 616c 6c65 7422 2c0a  create-wallet",.
-0000e350: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-0000e360: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-0000e370: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-0000e380: 5f76 6172 3d22 4143 4150 595f 5245 4352  _var="ACAPY_RECR
-0000e390: 4541 5445 5f57 414c 4c45 5422 2c0a 2020  EATE_WALLET",.  
-0000e3a0: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
-0000e3b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e3c0: 2022 4966 2061 6e20 6578 6973 7469 6e67   "If an existing
-0000e3d0: 2077 616c 6c65 7420 6578 6973 7473 2077   wallet exists w
-0000e3e0: 6974 6820 7468 6520 7361 6d65 206e 616d  ith the same nam
-0000e3f0: 652c 2072 656d 6f76 6520 616e 6420 220a  e, remove and ".
-0000e400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e410: 2272 6563 7265 6174 6520 6974 2064 7572  "recreate it dur
-0000e420: 696e 6720 7072 6f76 6973 696f 6e69 6e67  ing provisioning
-0000e430: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
-0000e440: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
-0000e450: 2064 6566 2067 6574 5f73 6574 7469 6e67   def get_setting
-0000e460: 7328 7365 6c66 2c20 6172 6773 3a20 4e61  s(self, args: Na
-0000e470: 6d65 7370 6163 6529 202d 3e20 6469 6374  mespace) -> dict
-0000e480: 3a0a 2020 2020 2020 2020 2222 2245 7874  :.        """Ext
-0000e490: 7261 6374 2077 616c 6c65 7420 7365 7474  ract wallet sett
-0000e4a0: 696e 6773 2e22 2222 0a20 2020 2020 2020  ings.""".       
-0000e4b0: 2073 6574 7469 6e67 7320 3d20 7b7d 0a20   settings = {}. 
-0000e4c0: 2020 2020 2020 2069 6620 6172 6773 2e73         if args.s
-0000e4d0: 6565 643a 0a20 2020 2020 2020 2020 2020  eed:.           
-0000e4e0: 2073 6574 7469 6e67 735b 2277 616c 6c65   settings["walle
-0000e4f0: 742e 7365 6564 225d 203d 2061 7267 732e  t.seed"] = args.
-0000e500: 7365 6564 0a20 2020 2020 2020 2069 6620  seed.        if 
-0000e510: 6172 6773 2e77 616c 6c65 745f 6c6f 6361  args.wallet_loca
-0000e520: 6c5f 6469 643a 0a20 2020 2020 2020 2020  l_did:.         
-0000e530: 2020 2073 6574 7469 6e67 735b 2277 616c     settings["wal
-0000e540: 6c65 742e 6c6f 6361 6c5f 6469 6422 5d20  let.local_did"] 
-0000e550: 3d20 5472 7565 0a20 2020 2020 2020 2069  = True.        i
-0000e560: 6620 6172 6773 2e77 616c 6c65 745f 616c  f args.wallet_al
-0000e570: 6c6f 775f 696e 7365 6375 7265 5f73 6565  low_insecure_see
-0000e580: 643a 0a20 2020 2020 2020 2020 2020 2073  d:.            s
-0000e590: 6574 7469 6e67 735b 2277 616c 6c65 742e  ettings["wallet.
-0000e5a0: 616c 6c6f 775f 696e 7365 6375 7265 5f73  allow_insecure_s
-0000e5b0: 6565 6422 5d20 3d20 5472 7565 0a20 2020  eed"] = True.   
-0000e5c0: 2020 2020 2069 6620 6172 6773 2e77 616c       if args.wal
-0000e5d0: 6c65 745f 6b65 793a 0a20 2020 2020 2020  let_key:.       
-0000e5e0: 2020 2020 2073 6574 7469 6e67 735b 2277       settings["w
-0000e5f0: 616c 6c65 742e 6b65 7922 5d20 3d20 6172  allet.key"] = ar
-0000e600: 6773 2e77 616c 6c65 745f 6b65 790a 2020  gs.wallet_key.  
-0000e610: 2020 2020 2020 6966 2061 7267 732e 7761        if args.wa
-0000e620: 6c6c 6574 5f72 656b 6579 3a0a 2020 2020  llet_rekey:.    
-0000e630: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-0000e640: 5b22 7761 6c6c 6574 2e72 656b 6579 225d  ["wallet.rekey"]
-0000e650: 203d 2061 7267 732e 7761 6c6c 6574 5f72   = args.wallet_r
-0000e660: 656b 6579 0a20 2020 2020 2020 2069 6620  ekey.        if 
-0000e670: 6172 6773 2e77 616c 6c65 745f 6e61 6d65  args.wallet_name
-0000e680: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000e690: 7474 696e 6773 5b22 7761 6c6c 6574 2e6e  ttings["wallet.n
-0000e6a0: 616d 6522 5d20 3d20 6172 6773 2e77 616c  ame"] = args.wal
-0000e6b0: 6c65 745f 6e61 6d65 0a20 2020 2020 2020  let_name.       
-0000e6c0: 2069 6620 6172 6773 2e77 616c 6c65 745f   if args.wallet_
-0000e6d0: 7374 6f72 6167 655f 7479 7065 3a0a 2020  storage_type:.  
-0000e6e0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-0000e6f0: 6773 5b22 7761 6c6c 6574 2e73 746f 7261  gs["wallet.stora
-0000e700: 6765 5f74 7970 6522 5d20 3d20 6172 6773  ge_type"] = args
-0000e710: 2e77 616c 6c65 745f 7374 6f72 6167 655f  .wallet_storage_
-0000e720: 7479 7065 0a20 2020 2020 2020 2069 6620  type.        if 
-0000e730: 6172 6773 2e77 616c 6c65 745f 7479 7065  args.wallet_type
-0000e740: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000e750: 7474 696e 6773 5b22 7761 6c6c 6574 2e74  ttings["wallet.t
-0000e760: 7970 6522 5d20 3d20 6172 6773 2e77 616c  ype"] = args.wal
-0000e770: 6c65 745f 7479 7065 0a20 2020 2020 2020  let_type.       
-0000e780: 2069 6620 6172 6773 2e77 616c 6c65 745f   if args.wallet_
-0000e790: 6b65 795f 6465 7269 7661 7469 6f6e 5f6d  key_derivation_m
-0000e7a0: 6574 686f 643a 0a20 2020 2020 2020 2020  ethod:.         
-0000e7b0: 2020 2073 6574 7469 6e67 735b 2277 616c     settings["wal
-0000e7c0: 6c65 742e 6b65 795f 6465 7269 7661 7469  let.key_derivati
-0000e7d0: 6f6e 5f6d 6574 686f 6422 5d20 3d20 6172  on_method"] = ar
-0000e7e0: 6773 2e77 616c 6c65 745f 6b65 795f 6465  gs.wallet_key_de
-0000e7f0: 7269 7661 7469 6f6e 5f6d 6574 686f 640a  rivation_method.
-0000e800: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
-0000e810: 7761 6c6c 6574 5f73 746f 7261 6765 5f63  wallet_storage_c
-0000e820: 6f6e 6669 673a 0a20 2020 2020 2020 2020  onfig:.         
-0000e830: 2020 2073 6574 7469 6e67 735b 2277 616c     settings["wal
-0000e840: 6c65 742e 7374 6f72 6167 655f 636f 6e66  let.storage_conf
-0000e850: 6967 225d 203d 2061 7267 732e 7761 6c6c  ig"] = args.wall
-0000e860: 6574 5f73 746f 7261 6765 5f63 6f6e 6669  et_storage_confi
-0000e870: 670a 2020 2020 2020 2020 6966 2061 7267  g.        if arg
-0000e880: 732e 7761 6c6c 6574 5f73 746f 7261 6765  s.wallet_storage
-0000e890: 5f63 7265 6473 3a0a 2020 2020 2020 2020  _creds:.        
-0000e8a0: 2020 2020 7365 7474 696e 6773 5b22 7761      settings["wa
-0000e8b0: 6c6c 6574 2e73 746f 7261 6765 5f63 7265  llet.storage_cre
-0000e8c0: 6473 225d 203d 2061 7267 732e 7761 6c6c  ds"] = args.wall
-0000e8d0: 6574 5f73 746f 7261 6765 5f63 7265 6473  et_storage_creds
-0000e8e0: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
-0000e8f0: 2e72 6570 6c61 6365 5f70 7562 6c69 635f  .replace_public_
-0000e900: 6469 643a 0a20 2020 2020 2020 2020 2020  did:.           
-0000e910: 2073 6574 7469 6e67 735b 2277 616c 6c65   settings["walle
-0000e920: 742e 7265 706c 6163 655f 7075 626c 6963  t.replace_public
-0000e930: 5f64 6964 225d 203d 2054 7275 650a 2020  _did"] = True.  
-0000e940: 2020 2020 2020 6966 2061 7267 732e 7265        if args.re
-0000e950: 6372 6561 7465 5f77 616c 6c65 743a 0a20  create_wallet:. 
-0000e960: 2020 2020 2020 2020 2020 2073 6574 7469             setti
-0000e970: 6e67 735b 2277 616c 6c65 742e 7265 6372  ngs["wallet.recr
-0000e980: 6561 7465 225d 203d 2054 7275 650a 2020  eate"] = True.  
-0000e990: 2020 2020 2020 2320 6368 6563 6b20 7265        # check re
-0000e9a0: 7175 6972 6564 2073 6574 7469 6e67 7320  quired settings 
-0000e9b0: 666f 7220 2769 6e64 7927 2077 616c 6c65  for 'indy' walle
-0000e9c0: 7473 0a20 2020 2020 2020 2069 6620 7365  ts.        if se
-0000e9d0: 7474 696e 6773 5b22 7761 6c6c 6574 2e74  ttings["wallet.t
-0000e9e0: 7970 6522 5d20 3d3d 2022 696e 6479 223a  ype"] == "indy":
-0000e9f0: 0a20 2020 2020 2020 2020 2020 2023 2072  .            # r
-0000ea00: 6571 7569 7265 7320 6e61 6d65 2c20 6b65  equires name, ke
-0000ea10: 790a 2020 2020 2020 2020 2020 2020 6966  y.            if
-0000ea20: 206e 6f74 2061 7267 732e 7761 6c6c 6574   not args.wallet
-0000ea30: 5f6e 616d 6520 6f72 206e 6f74 2061 7267  _name or not arg
-0000ea40: 732e 7761 6c6c 6574 5f6b 6579 3a0a 2020  s.wallet_key:.  
-0000ea50: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-0000ea60: 6973 6520 4172 6773 5061 7273 6545 7272  ise ArgsParseErr
-0000ea70: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-0000ea80: 2020 2020 2020 2020 2250 6172 616d 6574          "Paramet
-0000ea90: 6572 7320 2d2d 7761 6c6c 6574 2d6e 616d  ers --wallet-nam
-0000eaa0: 6520 616e 6420 2d2d 7761 6c6c 6574 2d6b  e and --wallet-k
-0000eab0: 6579 206d 7573 7420 6265 2070 726f 7669  ey must be provi
-0000eac0: 6465 6420 220a 2020 2020 2020 2020 2020  ded ".          
-0000ead0: 2020 2020 2020 2020 2020 2266 6f72 2069            "for i
-0000eae0: 6e64 7920 7761 6c6c 6574 7322 0a20 2020  ndy wallets".   
-0000eaf0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-0000eb00: 2020 2020 2020 2020 2020 2023 2070 6f73             # pos
-0000eb10: 7467 7265 7320 7374 6f72 6167 6520 7265  tgres storage re
-0000eb20: 7175 6972 6573 2061 6464 6974 696f 6e61  quires additiona
-0000eb30: 6c20 636f 6e66 6967 7572 6174 696f 6e0a  l configuration.
-0000eb40: 2020 2020 2020 2020 2020 2020 6966 2028              if (
-0000eb50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000eb60: 2022 7761 6c6c 6574 2e73 746f 7261 6765   "wallet.storage
-0000eb70: 5f63 6f6e 6669 6722 2069 6e20 7365 7474  _config" in sett
-0000eb80: 696e 6773 0a20 2020 2020 2020 2020 2020  ings.           
-0000eb90: 2020 2020 2061 6e64 2073 6574 7469 6e67       and setting
-0000eba0: 735b 2277 616c 6c65 742e 7374 6f72 6167  s["wallet.storag
-0000ebb0: 655f 636f 6e66 6967 225d 203d 3d20 2270  e_config"] == "p
-0000ebc0: 6f73 7467 7265 735f 7374 6f72 6167 6522  ostgres_storage"
-0000ebd0: 0a20 2020 2020 2020 2020 2020 2029 3a0a  .            ):.
-0000ebe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ebf0: 6966 206e 6f74 2061 7267 732e 7761 6c6c  if not args.wall
-0000ec00: 6574 5f73 746f 7261 6765 5f63 6f6e 6669  et_storage_confi
-0000ec10: 6720 6f72 206e 6f74 2061 7267 732e 7761  g or not args.wa
-0000ec20: 6c6c 6574 5f73 746f 7261 6765 5f63 7265  llet_storage_cre
-0000ec30: 6473 3a0a 2020 2020 2020 2020 2020 2020  ds:.            
-0000ec40: 2020 2020 2020 2020 7261 6973 6520 4172          raise Ar
-0000ec50: 6773 5061 7273 6545 7272 6f72 280a 2020  gsParseError(.  
-0000ec60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ec70: 2020 2020 2020 2250 6172 616d 6574 6572        "Parameter
-0000ec80: 7320 2d2d 7761 6c6c 6574 2d73 746f 7261  s --wallet-stora
-0000ec90: 6765 2d63 6f6e 6669 6720 616e 6420 2d2d  ge-config and --
-0000eca0: 7761 6c6c 6574 2d73 746f 7261 6765 2d63  wallet-storage-c
-0000ecb0: 7265 6473 2022 0a20 2020 2020 2020 2020  reds ".         
-0000ecc0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000ecd0: 6d75 7374 2062 6520 7072 6f76 6964 6564  must be provided
-0000ece0: 2066 6f72 2069 6e64 7920 706f 7374 6772   for indy postgr
-0000ecf0: 6573 2077 616c 6c65 7473 220a 2020 2020  es wallets".    
-0000ed00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ed10: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
-0000ed20: 2073 6574 7469 6e67 730a 0a0a 4067 726f   settings...@gro
-0000ed30: 7570 2843 4154 5f53 5441 5254 290a 636c  up(CAT_START).cl
-0000ed40: 6173 7320 4d75 6c74 6974 656e 616e 7447  ass MultitenantG
-0000ed50: 726f 7570 2841 7267 756d 656e 7447 726f  roup(ArgumentGro
-0000ed60: 7570 293a 0a20 2020 2022 2222 4d75 6c74  up):.    """Mult
-0000ed70: 6974 656e 616e 7420 7365 7474 696e 6773  itenant settings
-0000ed80: 2e22 2222 0a0a 2020 2020 4752 4f55 505f  ."""..    GROUP_
-0000ed90: 4e41 4d45 203d 2022 4d75 6c74 6974 656e  NAME = "Multiten
-0000eda0: 616e 7422 0a0a 2020 2020 6465 6620 6164  ant"..    def ad
-0000edb0: 645f 6172 6775 6d65 6e74 7328 7365 6c66  d_arguments(self
-0000edc0: 2c20 7061 7273 6572 3a20 4172 6775 6d65  , parser: Argume
-0000edd0: 6e74 5061 7273 6572 293a 0a20 2020 2020  ntParser):.     
-0000ede0: 2020 2022 2222 4164 6420 6d75 6c74 6974     """Add multit
-0000edf0: 656e 616e 742d 7370 6563 6966 6963 2063  enant-specific c
-0000ee00: 6f6d 6d61 6e64 206c 696e 6520 6172 6775  ommand line argu
-0000ee10: 6d65 6e74 7320 746f 2074 6865 2070 6172  ments to the par
-0000ee20: 7365 722e 2222 220a 2020 2020 2020 2020  ser.""".        
-0000ee30: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
-0000ee40: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
-0000ee50: 2022 2d2d 6d75 6c74 6974 656e 616e 7422   "--multitenant"
-0000ee60: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
-0000ee70: 7469 6f6e 3d22 7374 6f72 655f 7472 7565  tion="store_true
-0000ee80: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
-0000ee90: 6e76 5f76 6172 3d22 4143 4150 595f 4d55  nv_var="ACAPY_MU
-0000eea0: 4c54 4954 454e 414e 5422 2c0a 2020 2020  LTITENANT",.    
-0000eeb0: 2020 2020 2020 2020 6865 6c70 3d22 456e          help="En
-0000eec0: 6162 6c65 206d 756c 7469 7465 6e61 6e74  able multitenant
-0000eed0: 206d 6f64 652e 222c 0a20 2020 2020 2020   mode.",.       
-0000eee0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
-0000eef0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
-0000ef00: 2020 2020 2020 2020 2020 2020 222d 2d6a              "--j
-0000ef10: 7774 2d73 6563 7265 7422 2c0a 2020 2020  wt-secret",.    
-0000ef20: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
-0000ef30: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
-0000ef40: 7461 7661 723d 223c 6a77 742d 7365 6372  tavar="<jwt-secr
-0000ef50: 6574 3e22 2c0a 2020 2020 2020 2020 2020  et>",.          
-0000ef60: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-0000ef70: 5f4d 554c 5449 5445 4e41 4e54 5f4a 5754  _MULTITENANT_JWT
-0000ef80: 5f53 4543 5245 5422 2c0a 2020 2020 2020  _SECRET",.      
-0000ef90: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
-0000efa0: 2020 2020 2020 2020 2020 2020 2022 5370               "Sp
-0000efb0: 6563 6966 7920 7468 6520 7365 6372 6574  ecify the secret
-0000efc0: 2074 6f20 6265 2075 7365 6420 666f 7220   to be used for 
-0000efd0: 4a73 6f6e 2057 6562 2054 6f6b 656e 2028  Json Web Token (
-0000efe0: 4a57 5429 2063 7265 6174 696f 6e20 616e  JWT) creation an
-0000eff0: 6420 220a 2020 2020 2020 2020 2020 2020  d ".            
-0000f000: 2020 2020 2276 6572 6966 6963 6174 696f      "verificatio
-0000f010: 6e2e 2054 6865 204a 5754 7320 6172 6520  n. The JWTs are 
-0000f020: 7573 6564 2074 6f20 6175 7468 656e 7469  used to authenti
-0000f030: 6361 7465 2061 6e64 2061 7574 686f 7269  cate and authori
-0000f040: 7a65 2022 0a20 2020 2020 2020 2020 2020  ze ".           
-0000f050: 2020 2020 2022 6d75 6c74 6974 656e 616e       "multitenan
-0000f060: 7420 7761 6c6c 6574 732e 220a 2020 2020  t wallets.".    
-0000f070: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
-0000f080: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
-0000f090: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
-0000f0a0: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
-0000f0b0: 2d6d 756c 7469 7465 6e61 6e74 2d61 646d  -multitenant-adm
-0000f0c0: 696e 222c 0a20 2020 2020 2020 2020 2020  in",.           
-0000f0d0: 2061 6374 696f 6e3d 2273 746f 7265 5f74   action="store_t
-0000f0e0: 7275 6522 2c0a 2020 2020 2020 2020 2020  rue",.          
-0000f0f0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-0000f100: 5f4d 554c 5449 5445 4e41 4e54 5f41 444d  _MULTITENANT_ADM
-0000f110: 494e 222c 0a20 2020 2020 2020 2020 2020  IN",.           
-0000f120: 2068 656c 703d 2253 7065 6369 6679 2077   help="Specify w
-0000f130: 6865 7468 6572 2074 6f20 656e 6162 6c65  hether to enable
-0000f140: 2074 6865 206d 756c 7469 7465 6e61 6e74   the multitenant
-0000f150: 2061 646d 696e 2061 7069 2e22 2c0a 2020   admin api.",.  
-0000f160: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0000f170: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
-0000f180: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
-0000f190: 2022 2d2d 6d75 6c74 6974 656e 616e 6379   "--multitenancy
-0000f1a0: 2d63 6f6e 6669 6722 2c0a 2020 2020 2020  -config",.      
-0000f1b0: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-0000f1c0: 2020 2020 2020 2020 2020 2020 6e61 7267              narg
-0000f1d0: 733d 222b 222c 0a20 2020 2020 2020 2020  s="+",.         
-0000f1e0: 2020 206d 6574 6176 6172 3d22 6b65 793d     metavar="key=
-0000f1f0: 7661 6c75 6522 2c0a 2020 2020 2020 2020  value",.        
-0000f200: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
-0000f210: 5059 5f4d 554c 5449 5445 4e41 4e43 595f  PY_MULTITENANCY_
-0000f220: 434f 4e46 4947 5552 4154 494f 4e22 2c0a  CONFIGURATION",.
-0000f230: 2020 2020 2020 2020 2020 2020 6865 6c70              help
-0000f240: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
-0000f250: 2020 2022 5370 6563 6966 7920 6d75 6c74     "Specify mult
-0000f260: 6974 656e 616e 6379 2063 6f6e 6669 6775  itenancy configu
-0000f270: 7261 7469 6f6e 2069 6e20 6b65 793d 7661  ration in key=va
-0000f280: 6c75 6520 7061 6972 732e 2022 0a20 2020  lue pairs. ".   
-0000f290: 2020 2020 2020 2020 2020 2020 2027 466f               'Fo
-0000f2a0: 7220 6578 616d 706c 653a 2022 7761 6c6c  r example: "wall
-0000f2b0: 6574 5f74 7970 653d 6173 6b61 722d 7072  et_type=askar-pr
-0000f2c0: 6f66 696c 6520 7761 6c6c 6574 5f6e 616d  ofile wallet_nam
-0000f2d0: 653d 6173 6b61 722d 7072 6f66 696c 652d  e=askar-profile-
-0000f2e0: 6e61 6d65 2220 270a 2020 2020 2020 2020  name" '.        
-0000f2f0: 2020 2020 2020 2020 2250 6f73 7369 626c          "Possibl
-0000f300: 6520 7661 6c75 6573 3a20 7761 6c6c 6574  e values: wallet
-0000f310: 5f6e 616d 652c 2077 616c 6c65 745f 6b65  _name, wallet_ke
-0000f320: 792c 2063 6163 6865 5f73 697a 652c 2022  y, cache_size, "
-0000f330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f340: 2027 6b65 795f 6465 7269 7661 7469 6f6e   'key_derivation
-0000f350: 5f6d 6574 686f 642e 2022 7761 6c6c 6574  _method. "wallet
-0000f360: 5f6e 616d 6522 2069 7320 6f6e 6c79 2075  _name" is only u
-0000f370: 7365 6420 7768 656e 2027 0a20 2020 2020  sed when '.     
-0000f380: 2020 2020 2020 2020 2020 2027 2277 616c             '"wal
-0000f390: 6c65 745f 7479 7065 2220 6973 2022 6173  let_type" is "as
-0000f3a0: 6b61 722d 7072 6f66 696c 6522 270a 2020  kar-profile"'.  
-0000f3b0: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
-0000f3c0: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
-0000f3d0: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
-0000f3e0: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
-0000f3f0: 222d 2d62 6173 652d 7761 6c6c 6574 2d72  "--base-wallet-r
-0000f400: 6f75 7465 7322 2c0a 2020 2020 2020 2020  outes",.        
-0000f410: 2020 2020 7479 7065 3d73 7472 2c0a 2020      type=str,.  
-0000f420: 2020 2020 2020 2020 2020 6e61 7267 733d            nargs=
-0000f430: 222b 222c 0a20 2020 2020 2020 2020 2020  "+",.           
-0000f440: 2072 6571 7569 7265 643d 4661 6c73 652c   required=False,
-0000f450: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-0000f460: 6176 6172 3d22 3c52 4547 4558 3e22 2c0a  avar="<REGEX>",.
-0000f470: 2020 2020 2020 2020 2020 2020 6865 6c70              help
-0000f480: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
-0000f490: 2020 2022 5061 7474 6572 6e73 206d 6174     "Patterns mat
-0000f4a0: 6368 696e 6720 6164 6d69 6e20 726f 7574  ching admin rout
-0000f4b0: 6573 2074 6861 7420 7368 6f75 6c64 2062  es that should b
-0000f4c0: 6520 7065 726d 6974 7465 6420 666f 7220  e permitted for 
-0000f4d0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0000f4e0: 2020 2262 6173 6520 7761 6c6c 6574 2e20    "base wallet. 
-0000f4f0: 5468 6520 6261 7365 2077 616c 6c65 7420  The base wallet 
-0000f500: 6973 2070 7265 636f 6e66 6967 7572 6564  is preconfigured
-0000f510: 2074 6f20 6861 7665 2061 6363 6573 7320   to have access 
-0000f520: 746f 2022 0a20 2020 2020 2020 2020 2020  to ".           
-0000f530: 2020 2020 2022 6573 7365 6e74 6961 6c20       "essential 
-0000f540: 656e 6470 6f69 6e74 732e 2054 6869 7320  endpoints. This 
-0000f550: 6172 6775 6d65 6e74 2073 686f 756c 6420  argument should 
-0000f560: 6265 2075 7365 6420 7370 6172 696e 676c  be used sparingl
-0000f570: 792e 220a 2020 2020 2020 2020 2020 2020  y.".            
-0000f580: 292c 0a20 2020 2020 2020 2029 0a0a 2020  ),.        )..  
-0000f590: 2020 6465 6620 6765 745f 7365 7474 696e    def get_settin
-0000f5a0: 6773 2873 656c 662c 2061 7267 733a 204e  gs(self, args: N
-0000f5b0: 616d 6573 7061 6365 293a 0a20 2020 2020  amespace):.     
-0000f5c0: 2020 2022 2222 4578 7472 6163 7420 6d75     """Extract mu
-0000f5d0: 6c74 6974 656e 616e 7420 7365 7474 696e  ltitenant settin
-0000f5e0: 6773 2e22 2222 0a20 2020 2020 2020 2073  gs.""".        s
-0000f5f0: 6574 7469 6e67 7320 3d20 7b7d 0a20 2020  ettings = {}.   
-0000f600: 2020 2020 2069 6620 6172 6773 2e6d 756c       if args.mul
-0000f610: 7469 7465 6e61 6e74 3a0a 2020 2020 2020  titenant:.      
-0000f620: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
-0000f630: 6d75 6c74 6974 656e 616e 742e 656e 6162  multitenant.enab
-0000f640: 6c65 6422 5d20 3d20 5472 7565 0a0a 2020  led"] = True..  
-0000f650: 2020 2020 2020 2020 2020 6966 2061 7267            if arg
-0000f660: 732e 6a77 745f 7365 6372 6574 3a0a 2020  s.jwt_secret:.  
-0000f670: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000f680: 7474 696e 6773 5b22 6d75 6c74 6974 656e  ttings["multiten
-0000f690: 616e 742e 6a77 745f 7365 6372 6574 225d  ant.jwt_secret"]
-0000f6a0: 203d 2061 7267 732e 6a77 745f 7365 6372   = args.jwt_secr
-0000f6b0: 6574 0a20 2020 2020 2020 2020 2020 2065  et.            e
-0000f6c0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000f6d0: 2020 2020 2072 6169 7365 2041 7267 7350       raise ArgsP
-0000f6e0: 6172 7365 4572 726f 7228 0a20 2020 2020  arseError(.     
-0000f6f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000f700: 5061 7261 6d65 7465 7220 2d2d 6a77 742d  Parameter --jwt-
-0000f710: 7365 6372 6574 206d 7573 7420 6265 2070  secret must be p
-0000f720: 726f 7669 6465 6420 696e 206d 756c 7469  rovided in multi
-0000f730: 7465 6e61 6e74 206d 6f64 6522 0a20 2020  tenant mode".   
-0000f740: 2020 2020 2020 2020 2020 2020 2029 0a0a               )..
-0000f750: 2020 2020 2020 2020 2020 2020 6966 2061              if a
-0000f760: 7267 732e 6d75 6c74 6974 656e 616e 745f  rgs.multitenant_
-0000f770: 6164 6d69 6e3a 0a20 2020 2020 2020 2020  admin:.         
-0000f780: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
-0000f790: 226d 756c 7469 7465 6e61 6e74 2e61 646d  "multitenant.adm
-0000f7a0: 696e 5f65 6e61 626c 6564 225d 203d 2054  in_enabled"] = T
-0000f7b0: 7275 650a 0a20 2020 2020 2020 2020 2020  rue..           
-0000f7c0: 2069 6620 6172 6773 2e6d 756c 7469 7465   if args.multite
-0000f7d0: 6e61 6e63 795f 636f 6e66 6967 3a0a 2020  nancy_config:.  
-0000f7e0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000f7f0: 4c65 6761 6379 2073 7570 706f 7274 0a20  Legacy support. 
-0000f800: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000f810: 6620 280a 2020 2020 2020 2020 2020 2020  f (.            
-0000f820: 2020 2020 2020 2020 6c65 6e28 6172 6773          len(args
-0000f830: 2e6d 756c 7469 7465 6e61 6e63 795f 636f  .multitenancy_co
-0000f840: 6e66 6967 2920 3d3d 2031 0a20 2020 2020  nfig) == 1.     
-0000f850: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0000f860: 6e64 2061 7267 732e 6d75 6c74 6974 656e  nd args.multiten
-0000f870: 616e 6379 5f63 6f6e 6669 675b 305d 5b30  ancy_config[0][0
-0000f880: 5d20 3d3d 2022 7b22 0a20 2020 2020 2020  ] == "{".       
-0000f890: 2020 2020 2020 2020 2029 3a0a 2020 2020           ):.    
-0000f8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f8b0: 6d75 6c74 6974 656e 616e 6379 5f63 6f6e  multitenancy_con
-0000f8c0: 6669 6720 3d20 6a73 6f6e 2e6c 6f61 6473  fig = json.loads
-0000f8d0: 2861 7267 732e 6d75 6c74 6974 656e 616e  (args.multitenan
-0000f8e0: 6379 5f63 6f6e 6669 675b 305d 290a 2020  cy_config[0]).  
-0000f8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f900: 2020 6966 206d 756c 7469 7465 6e61 6e63    if multitenanc
-0000f910: 795f 636f 6e66 6967 2e67 6574 2822 7761  y_config.get("wa
-0000f920: 6c6c 6574 5f74 7970 6522 293a 0a20 2020  llet_type"):.   
-0000f930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f940: 2020 2020 2073 6574 7469 6e67 735b 226d       settings["m
-0000f950: 756c 7469 7465 6e61 6e74 2e77 616c 6c65  ultitenant.walle
-0000f960: 745f 7479 7065 225d 203d 206d 756c 7469  t_type"] = multi
-0000f970: 7465 6e61 6e63 795f 636f 6e66 6967 2e67  tenancy_config.g
-0000f980: 6574 280a 2020 2020 2020 2020 2020 2020  et(.            
-0000f990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f9a0: 2277 616c 6c65 745f 7479 7065 220a 2020  "wallet_type".  
-0000f9b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f9c0: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
-0000f9d0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000f9e0: 6d75 6c74 6974 656e 616e 6379 5f63 6f6e  multitenancy_con
-0000f9f0: 6669 672e 6765 7428 2277 616c 6c65 745f  fig.get("wallet_
-0000fa00: 6e61 6d65 2229 3a0a 2020 2020 2020 2020  name"):.        
-0000fa10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa20: 7365 7474 696e 6773 5b22 6d75 6c74 6974  settings["multit
-0000fa30: 656e 616e 742e 7761 6c6c 6574 5f6e 616d  enant.wallet_nam
-0000fa40: 6522 5d20 3d20 6d75 6c74 6974 656e 616e  e"] = multitenan
-0000fa50: 6379 5f63 6f6e 6669 672e 6765 7428 0a20  cy_config.get(. 
-0000fa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fa70: 2020 2020 2020 2020 2020 2022 7761 6c6c             "wall
-0000fa80: 6574 5f6e 616d 6522 0a20 2020 2020 2020  et_name".       
-0000fa90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000faa0: 2029 0a0a 2020 2020 2020 2020 2020 2020   )..            
-0000fab0: 2020 2020 2020 2020 6966 206d 756c 7469          if multi
-0000fac0: 7465 6e61 6e63 795f 636f 6e66 6967 2e67  tenancy_config.g
-0000fad0: 6574 2822 6361 6368 655f 7369 7a65 2229  et("cache_size")
-0000fae0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000faf0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
-0000fb00: 6773 5b22 6d75 6c74 6974 656e 616e 742e  gs["multitenant.
-0000fb10: 6361 6368 655f 7369 7a65 225d 203d 206d  cache_size"] = m
-0000fb20: 756c 7469 7465 6e61 6e63 795f 636f 6e66  ultitenancy_conf
-0000fb30: 6967 2e67 6574 280a 2020 2020 2020 2020  ig.get(.        
-0000fb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fb50: 2020 2020 2263 6163 6865 5f73 697a 6522      "cache_size"
-0000fb60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fb70: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
-0000fb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fb90: 6966 206d 756c 7469 7465 6e61 6e63 795f  if multitenancy_
-0000fba0: 636f 6e66 6967 2e67 6574 2822 6b65 795f  config.get("key_
-0000fbb0: 6465 7269 7661 7469 6f6e 5f6d 6574 686f  derivation_metho
-0000fbc0: 6422 293a 0a20 2020 2020 2020 2020 2020  d"):.           
-0000fbd0: 2020 2020 2020 2020 2020 2020 2073 6574               set
-0000fbe0: 7469 6e67 735b 0a20 2020 2020 2020 2020  tings[.         
-0000fbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fc00: 2020 2022 6d75 6c74 6974 656e 616e 742e     "multitenant.
-0000fc10: 6b65 795f 6465 7269 7661 7469 6f6e 5f6d  key_derivation_m
-0000fc20: 6574 686f 6422 0a20 2020 2020 2020 2020  ethod".         
-0000fc30: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
-0000fc40: 203d 206d 756c 7469 7465 6e61 6e63 795f   = multitenancy_
-0000fc50: 636f 6e66 6967 2e67 6574 2822 6b65 795f  config.get("key_
-0000fc60: 6465 7269 7661 7469 6f6e 5f6d 6574 686f  derivation_metho
-0000fc70: 6422 290a 0a20 2020 2020 2020 2020 2020  d")..           
-0000fc80: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0000fc90: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000fca0: 6f72 2076 616c 7565 5f73 7472 2069 6e20  or value_str in 
-0000fcb0: 6172 6773 2e6d 756c 7469 7465 6e61 6e63  args.multitenanc
-0000fcc0: 795f 636f 6e66 6967 3a0a 2020 2020 2020  y_config:.      
-0000fcd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fce0: 2020 6b65 792c 2076 616c 7565 203d 2076    key, value = v
-0000fcf0: 616c 7565 5f73 7472 2e73 706c 6974 2822  alue_str.split("
-0000fd00: 3d22 2c20 6d61 7873 706c 6974 3d31 290a  =", maxsplit=1).
-0000fd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fd20: 2020 2020 2020 2020 7661 6c75 6520 3d20          value = 
-0000fd30: 7961 6d6c 2e73 6166 655f 6c6f 6164 2876  yaml.safe_load(v
-0000fd40: 616c 7565 290a 2020 2020 2020 2020 2020  alue).          
-0000fd50: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000fd60: 7474 696e 6773 5b66 226d 756c 7469 7465  ttings[f"multite
-0000fd70: 6e61 6e74 2e7b 6b65 797d 225d 203d 2076  nant.{key}"] = v
-0000fd80: 616c 7565 0a0a 2020 2020 2020 2020 2020  alue..          
-0000fd90: 2020 6966 2061 7267 732e 6261 7365 5f77    if args.base_w
-0000fda0: 616c 6c65 745f 726f 7574 6573 3a0a 2020  allet_routes:.  
-0000fdb0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000fdc0: 7474 696e 6773 5b22 6d75 6c74 6974 656e  ttings["multiten
-0000fdd0: 616e 742e 6261 7365 5f77 616c 6c65 745f  ant.base_wallet_
-0000fde0: 726f 7574 6573 225d 203d 2061 7267 732e  routes"] = args.
-0000fdf0: 6261 7365 5f77 616c 6c65 745f 726f 7574  base_wallet_rout
-0000fe00: 6573 0a0a 2020 2020 2020 2020 7265 7475  es..        retu
-0000fe10: 726e 2073 6574 7469 6e67 730a 0a0a 4067  rn settings...@g
-0000fe20: 726f 7570 2843 4154 5f53 5441 5254 290a  roup(CAT_START).
-0000fe30: 636c 6173 7320 456e 646f 7273 656d 656e  class Endorsemen
-0000fe40: 7447 726f 7570 2841 7267 756d 656e 7447  tGroup(ArgumentG
-0000fe50: 726f 7570 293a 0a20 2020 2022 2222 456e  roup):.    """En
-0000fe60: 646f 7273 656d 656e 7420 7365 7474 696e  dorsement settin
-0000fe70: 6773 2e22 2222 0a0a 2020 2020 4752 4f55  gs."""..    GROU
-0000fe80: 505f 4e41 4d45 203d 2022 456e 646f 7273  P_NAME = "Endors
-0000fe90: 656d 656e 7422 0a0a 2020 2020 6465 6620  ement"..    def 
-0000fea0: 6164 645f 6172 6775 6d65 6e74 7328 7365  add_arguments(se
-0000feb0: 6c66 2c20 7061 7273 6572 3a20 4172 6775  lf, parser: Argu
-0000fec0: 6d65 6e74 5061 7273 6572 293a 0a20 2020  mentParser):.   
-0000fed0: 2020 2020 2022 2222 4164 6420 656e 646f       """Add endo
-0000fee0: 7273 656d 656e 742d 7370 6563 6966 6963  rsement-specific
-0000fef0: 2063 6f6d 6d61 6e64 206c 696e 6520 6172   command line ar
-0000ff00: 6775 6d65 6e74 7320 746f 2074 6865 2070  guments to the p
-0000ff10: 6172 7365 722e 2222 220a 2020 2020 2020  arser.""".      
-0000ff20: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
-0000ff30: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
-0000ff40: 2020 2022 2d2d 656e 646f 7273 6572 2d70     "--endorser-p
-0000ff50: 726f 746f 636f 6c2d 726f 6c65 222c 0a20  rotocol-role",. 
-0000ff60: 2020 2020 2020 2020 2020 2074 7970 653d             type=
-0000ff70: 7374 722e 6c6f 7765 722c 0a20 2020 2020  str.lower,.     
-0000ff80: 2020 2020 2020 2063 686f 6963 6573 3d5b         choices=[
-0000ff90: 454e 444f 5253 4552 5f41 5554 484f 522c  ENDORSER_AUTHOR,
-0000ffa0: 2045 4e44 4f52 5345 525f 454e 444f 5253   ENDORSER_ENDORS
-0000ffb0: 4552 2c20 454e 444f 5253 4552 5f4e 4f4e  ER, ENDORSER_NON
-0000ffc0: 455d 2c0a 2020 2020 2020 2020 2020 2020  E],.            
-0000ffd0: 6d65 7461 7661 723d 223c 656e 646f 7273  metavar="<endors
-0000ffe0: 6572 2d72 6f6c 653e 222c 0a20 2020 2020  er-role>",.     
-0000fff0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-00010000: 4143 4150 595f 454e 444f 5253 4552 5f52  ACAPY_ENDORSER_R
-00010010: 4f4c 4522 2c0a 2020 2020 2020 2020 2020  OLE",.          
-00010020: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
-00010030: 2020 2020 2020 2020 2022 5370 6563 6966           "Specif
-00010040: 7920 7468 6520 726f 6c65 2028 2761 7574  y the role ('aut
-00010050: 686f 7227 206f 7220 2765 6e64 6f72 7365  hor' or 'endorse
-00010060: 7227 2920 7768 6963 6820 7468 6973 2061  r') which this a
-00010070: 6765 6e74 2077 696c 6c20 220a 2020 2020  gent will ".    
-00010080: 2020 2020 2020 2020 2020 2020 2270 6172              "par
-00010090: 7469 6369 7061 7465 2e20 4175 7468 6f72  ticipate. Author
-000100a0: 7320 7769 6c6c 2072 6571 7565 7374 2074  s will request t
-000100b0: 7261 6e73 6163 7469 6f6e 2065 6e64 6f72  ransaction endor
-000100c0: 656d 656e 7420 6672 6f6d 2061 6e20 220a  ement from an ".
-000100d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000100e0: 2245 6e64 6f72 7365 722e 2045 6e64 6f72  "Endorser. Endor
-000100f0: 7365 7273 2077 696c 6c20 656e 646f 7273  sers will endors
-00010100: 6520 7472 616e 7361 6374 696f 6e73 2066  e transactions f
-00010110: 726f 6d20 4175 7468 6f72 732c 2061 6e64  rom Authors, and
-00010120: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
-00010130: 2020 2022 6d61 7920 7772 6974 6520 7468     "may write th
-00010140: 6569 7220 6f77 6e20 2074 7261 6e73 6163  eir own  transac
-00010150: 7469 6f6e 7320 746f 2074 6865 206c 6564  tions to the led
-00010160: 6765 722e 2049 6620 6e6f 2072 6f6c 6520  ger. If no role 
-00010170: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00010180: 2020 2228 6f72 2027 6e6f 6e65 2729 2069    "(or 'none') i
-00010190: 7320 7370 6563 6966 6965 6420 7468 656e  s specified then
-000101a0: 2074 6865 2065 6e64 6f72 7365 6d65 6e74   the endorsement
-000101b0: 2070 726f 746f 636f 6c20 7769 6c6c 206e   protocol will n
-000101c0: 6f74 2022 0a20 2020 2020 2020 2020 2020  ot ".           
-000101d0: 2020 2020 2022 2062 6520 7573 6564 2061       " be used a
-000101e0: 6e64 2074 6869 7320 6167 656e 7420 7769  nd this agent wi
-000101f0: 6c6c 2077 7269 7465 2074 7261 6e73 6163  ll write transac
-00010200: 7469 6f6e 7320 746f 2074 6865 206c 6564  tions to the led
-00010210: 6765 7220 220a 2020 2020 2020 2020 2020  ger ".          
-00010220: 2020 2020 2020 2264 6972 6563 746c 792e        "directly.
-00010230: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
-00010240: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-00010250: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
-00010260: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
-00010270: 2020 2020 222d 2d65 6e64 6f72 7365 722d      "--endorser-
-00010280: 696e 7669 7461 7469 6f6e 222c 0a20 2020  invitation",.   
-00010290: 2020 2020 2020 2020 2074 7970 653d 7374           type=st
-000102a0: 722c 0a20 2020 2020 2020 2020 2020 206d  r,.            m
-000102b0: 6574 6176 6172 3d22 3c65 6e64 6f72 7365  etavar="<endorse
-000102c0: 722d 696e 7669 7461 7469 6f6e 3e22 2c0a  r-invitation>",.
-000102d0: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-000102e0: 7661 723d 2241 4341 5059 5f45 4e44 4f52  var="ACAPY_ENDOR
-000102f0: 5345 525f 494e 5649 5441 5449 4f4e 222c  SER_INVITATION",
-00010300: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
-00010310: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
-00010320: 2020 2020 2246 6f72 2074 7261 6e73 6163      "For transac
-00010330: 7469 6f6e 2041 7574 686f 7273 2c20 7370  tion Authors, sp
-00010340: 6563 6966 7920 7468 6520 696e 7669 7461  ecify the invita
-00010350: 7469 6f6e 2075 7365 6420 746f 2022 0a20  tion used to ". 
-00010360: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00010370: 636f 6e6e 6563 7420 746f 2074 6865 2045  connect to the E
-00010380: 6e64 6f72 7365 7220 6167 656e 7420 7768  ndorser agent wh
-00010390: 6f20 7769 6c6c 2062 6520 656e 646f 7273  o will be endors
-000103a0: 696e 6720 7472 616e 7361 6374 696f 6e73  ing transactions
-000103b0: 2e20 220a 2020 2020 2020 2020 2020 2020  . ".            
-000103c0: 2020 2020 224e 6f74 6520 7468 6973 2069      "Note this i
-000103d0: 7320 6120 6d75 6c74 692d 7573 6520 696e  s a multi-use in
-000103e0: 7669 7461 7469 6f6e 2063 7265 6174 6564  vitation created
-000103f0: 2062 7920 7468 6520 456e 646f 7273 6572   by the Endorser
-00010400: 2061 6765 6e74 2e22 0a20 2020 2020 2020   agent.".       
-00010410: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
-00010420: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
-00010430: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
-00010440: 2020 2020 2020 2020 2020 2022 2d2d 656e             "--en
-00010450: 646f 7273 6572 2d70 7562 6c69 632d 6469  dorser-public-di
-00010460: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-00010470: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
-00010480: 2020 2020 2020 6d65 7461 7661 723d 223c        metavar="<
-00010490: 656e 646f 7273 6572 2d70 7562 6c69 632d  endorser-public-
-000104a0: 6469 643e 222c 0a20 2020 2020 2020 2020  did>",.         
-000104b0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
-000104c0: 595f 454e 444f 5253 4552 5f50 5542 4c49  Y_ENDORSER_PUBLI
-000104d0: 435f 4449 4422 2c0a 2020 2020 2020 2020  C_DID",.        
-000104e0: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
-000104f0: 2020 2020 2020 2020 2020 2022 466f 7220             "For 
-00010500: 7472 616e 7361 6374 696f 6e20 4175 7468  transaction Auth
-00010510: 6f72 732c 2073 7065 6369 6679 2074 6865  ors, specify the
-00010520: 2070 7562 6c69 6320 4449 4420 6f66 2074   public DID of t
-00010530: 6865 2045 6e64 6f72 7365 7220 220a 2020  he Endorser ".  
-00010540: 2020 2020 2020 2020 2020 2020 2020 2261                "a
-00010550: 6765 6e74 2077 686f 2077 696c 6c20 6265  gent who will be
-00010560: 2065 6e64 6f72 7369 6e67 2074 7261 6e73   endorsing trans
-00010570: 6163 7469 6f6e 732e 220a 2020 2020 2020  actions.".      
-00010580: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
-00010590: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
-000105a0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
-000105b0: 2020 2020 2020 2020 2020 2020 222d 2d65              "--e
-000105c0: 6e64 6f72 7365 722d 656e 646f 7273 652d  ndorser-endorse-
-000105d0: 7769 7468 2d64 6964 222c 0a20 2020 2020  with-did",.     
-000105e0: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
-000105f0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
-00010600: 6176 6172 3d22 3c65 6e64 6f72 7365 722d  avar="<endorser-
-00010610: 656e 646f 7273 652d 7769 7468 2d64 6964  endorse-with-did
-00010620: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
-00010630: 656e 765f 7661 723d 2241 4341 5059 5f45  env_var="ACAPY_E
-00010640: 4e44 4f52 5345 525f 454e 444f 5253 455f  NDORSER_ENDORSE_
-00010650: 5749 5448 5f44 4944 222c 0a20 2020 2020  WITH_DID",.     
-00010660: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
-00010670: 2020 2020 2020 2020 2020 2020 2020 2246                "F
-00010680: 6f72 2074 7261 6e73 6163 7469 6f6e 2045  or transaction E
-00010690: 6e64 6f72 7365 7273 2c20 7370 6563 6966  ndorsers, specif
-000106a0: 7920 7468 6520 2044 4944 2074 6f20 7573  y the  DID to us
-000106b0: 6520 746f 2065 6e64 6f72 7365 2022 0a20  e to endorse ". 
-000106c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000106d0: 7472 616e 7361 6374 696f 6e73 2e20 2054  transactions.  T
-000106e0: 6865 2064 6566 6175 6c74 2028 6966 206e  he default (if n
-000106f0: 6f74 2073 7065 6369 6669 6564 2920 6973  ot specified) is
-00010700: 2074 6f20 7573 6520 7468 6520 220a 2020   to use the ".  
-00010710: 2020 2020 2020 2020 2020 2020 2020 2245                "E
-00010720: 6e64 6f72 7365 7227 7320 5075 626c 6963  ndorser's Public
-00010730: 2044 4944 2e22 0a20 2020 2020 2020 2020   DID.".         
-00010740: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00010750: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
-00010760: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
-00010770: 2020 2020 2020 2020 2022 2d2d 656e 646f           "--endo
-00010780: 7273 6572 2d61 6c69 6173 222c 0a20 2020  rser-alias",.   
-00010790: 2020 2020 2020 2020 2074 7970 653d 7374           type=st
-000107a0: 722c 0a20 2020 2020 2020 2020 2020 206d  r,.            m
-000107b0: 6574 6176 6172 3d22 3c65 6e64 6f72 7365  etavar="<endorse
-000107c0: 722d 616c 6961 733e 222c 0a20 2020 2020  r-alias>",.     
-000107d0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
-000107e0: 4143 4150 595f 454e 444f 5253 4552 5f41  ACAPY_ENDORSER_A
-000107f0: 4c49 4153 222c 0a20 2020 2020 2020 2020  LIAS",.         
-00010800: 2020 2068 656c 703d 280a 2020 2020 2020     help=(.      
-00010810: 2020 2020 2020 2020 2020 2246 6f72 2074            "For t
-00010820: 7261 6e73 6163 7469 6f6e 2041 7574 686f  ransaction Autho
-00010830: 7273 2c20 7370 6563 6966 7920 7468 6520  rs, specify the 
-00010840: 616c 6961 7320 6f66 2074 6865 2045 6e64  alias of the End
-00010850: 6f72 7365 7220 220a 2020 2020 2020 2020  orser ".        
-00010860: 2020 2020 2020 2020 2263 6f6e 6e65 6374          "connect
-00010870: 696f 6e20 7468 6174 2077 696c 6c20 6265  ion that will be
-00010880: 2075 7365 6420 746f 2065 6e64 6f72 7365   used to endorse
-00010890: 2074 7261 6e73 6163 7469 6f6e 732e 220a   transactions.".
-000108a0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
-000108b0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-000108c0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-000108d0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-000108e0: 2020 222d 2d61 7574 6f2d 7265 7175 6573    "--auto-reques
-000108f0: 742d 656e 646f 7273 656d 656e 7422 2c0a  t-endorsement",.
-00010900: 2020 2020 2020 2020 2020 2020 6163 7469              acti
-00010910: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
-00010920: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
-00010930: 5f76 6172 3d22 4143 4150 595f 4155 544f  _var="ACAPY_AUTO
-00010940: 5f52 4551 5545 5354 5f45 4e44 4f52 5345  _REQUEST_ENDORSE
-00010950: 4d45 4e54 222c 0a20 2020 2020 2020 2020  MENT",.         
-00010960: 2020 2068 656c 703d 2246 6f72 2041 7574     help="For Aut
-00010970: 686f 7273 2c20 7370 6563 6966 7920 7768  hors, specify wh
-00010980: 6574 6865 7220 746f 2061 7574 6f6d 6174  ether to automat
-00010990: 6963 616c 6c79 2072 6571 7565 7374 2022  ically request "
-000109a0: 0a20 2020 2020 2020 2020 2020 2022 656e  .            "en
-000109b0: 646f 7273 656d 656e 7420 666f 7220 616c  dorsement for al
-000109c0: 6c20 7472 616e 7361 6374 696f 6e73 2e20  l transactions. 
-000109d0: 2849 6620 6e6f 7420 7370 6563 6966 6965  (If not specifie
-000109e0: 642c 2074 6865 2063 6f6e 7472 6f6c 6c65  d, the controlle
-000109f0: 7220 220a 2020 2020 2020 2020 2020 2020  r ".            
-00010a00: 2220 6d75 7374 2069 6e76 6f6b 6520 7468  " must invoke th
-00010a10: 6520 7265 7175 6573 7420 656e 646f 7273  e request endors
-00010a20: 6520 6f70 6572 6174 696f 6e20 666f 7220  e operation for 
-00010a30: 6561 6368 2074 7261 6e73 6163 7469 6f6e  each transaction
-00010a40: 2e29 222c 0a20 2020 2020 2020 2029 0a20  .)",.        ). 
-00010a50: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-00010a60: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-00010a70: 2020 2020 2020 2020 222d 2d61 7574 6f2d          "--auto-
-00010a80: 656e 646f 7273 652d 7472 616e 7361 6374  endorse-transact
-00010a90: 696f 6e73 222c 0a20 2020 2020 2020 2020  ions",.         
-00010aa0: 2020 2061 6374 696f 6e3d 2273 746f 7265     action="store
-00010ab0: 5f74 7275 6522 2c0a 2020 2020 2020 2020  _true",.        
-00010ac0: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
-00010ad0: 5059 5f41 5554 4f5f 454e 444f 5253 455f  PY_AUTO_ENDORSE_
-00010ae0: 5452 414e 5341 4354 494f 4e53 222c 0a20  TRANSACTIONS",. 
-00010af0: 2020 2020 2020 2020 2020 2068 656c 703d             help=
-00010b00: 2246 6f72 2045 6e64 6f72 7365 7273 2c20  "For Endorsers, 
-00010b10: 7370 6563 6966 7920 7768 6574 6865 7220  specify whether 
-00010b20: 746f 2061 7574 6f6d 6174 6963 616c 6c79  to automatically
-00010b30: 2065 6e64 6f72 7365 2061 6e79 2022 0a20   endorse any ". 
-00010b40: 2020 2020 2020 2020 2020 2022 7265 6365             "rece
-00010b50: 6976 6564 2065 6e64 6f72 7365 6d65 6e74  ived endorsement
-00010b60: 2072 6571 7565 7374 732e 2028 4966 206e   requests. (If n
-00010b70: 6f74 2073 7065 6369 6669 6564 2c20 7468  ot specified, th
-00010b80: 6520 636f 6e74 726f 6c6c 6572 2022 0a20  e controller ". 
-00010b90: 2020 2020 2020 2020 2020 2022 206d 7573             " mus
-00010ba0: 7420 696e 766f 6b65 2074 6865 2065 6e64  t invoke the end
-00010bb0: 6f72 7365 6d65 6e74 206f 7065 7261 7469  orsement operati
-00010bc0: 6f6e 2066 6f72 2065 6163 6820 7472 616e  on for each tran
-00010bd0: 7361 6374 696f 6e2e 2922 2c0a 2020 2020  saction.)",.    
-00010be0: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
-00010bf0: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
-00010c00: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
-00010c10: 2d2d 6175 746f 2d77 7269 7465 2d74 7261  --auto-write-tra
-00010c20: 6e73 6163 7469 6f6e 7322 2c0a 2020 2020  nsactions",.    
-00010c30: 2020 2020 2020 2020 6163 7469 6f6e 3d22          action="
-00010c40: 7374 6f72 655f 7472 7565 222c 0a20 2020  store_true",.   
-00010c50: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
-00010c60: 3d22 4143 4150 595f 4155 544f 5f57 5249  ="ACAPY_AUTO_WRI
-00010c70: 5445 5f54 5241 4e53 4143 5449 4f4e 5322  TE_TRANSACTIONS"
-00010c80: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00010c90: 6c70 3d22 466f 7220 4175 7468 6f72 732c  lp="For Authors,
-00010ca0: 2073 7065 6369 6679 2077 6865 7468 6572   specify whether
-00010cb0: 2074 6f20 6175 746f 6d61 7469 6361 6c6c   to automaticall
-00010cc0: 7920 7772 6974 6520 616e 7920 220a 2020  y write any ".  
-00010cd0: 2020 2020 2020 2020 2020 2265 6e64 6f72            "endor
-00010ce0: 7365 6420 7472 616e 7361 6374 696f 6e73  sed transactions
-00010cf0: 2e20 2849 6620 6e6f 7420 7370 6563 6966  . (If not specif
-00010d00: 6965 642c 2074 6865 2063 6f6e 7472 6f6c  ied, the control
-00010d10: 6c65 7220 220a 2020 2020 2020 2020 2020  ler ".          
-00010d20: 2020 2220 6d75 7374 2069 6e76 6f6b 6520    " must invoke 
-00010d30: 7468 6520 7772 6974 6520 7472 616e 7361  the write transa
-00010d40: 6374 696f 6e20 6f70 6572 6174 696f 6e20  ction operation 
-00010d50: 666f 7220 6561 6368 2074 7261 6e73 6163  for each transac
-00010d60: 7469 6f6e 2e29 222c 0a20 2020 2020 2020  tion.)",.       
-00010d70: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
-00010d80: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
-00010d90: 2020 2020 2020 2020 2020 2020 222d 2d61              "--a
-00010da0: 7574 6f2d 6372 6561 7465 2d72 6576 6f63  uto-create-revoc
-00010db0: 6174 696f 6e2d 7472 616e 7361 6374 696f  ation-transactio
-00010dc0: 6e73 222c 0a20 2020 2020 2020 2020 2020  ns",.           
-00010dd0: 2061 6374 696f 6e3d 2273 746f 7265 5f74   action="store_t
-00010de0: 7275 6522 2c0a 2020 2020 2020 2020 2020  rue",.          
-00010df0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
-00010e00: 5f43 5245 4154 455f 5245 564f 4341 5449  _CREATE_REVOCATI
-00010e10: 4f4e 5f54 5241 4e53 4143 5449 4f4e 5322  ON_TRANSACTIONS"
-00010e20: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00010e30: 6c70 3d22 466f 7220 4175 7468 6f72 732c  lp="For Authors,
-00010e40: 2073 7065 6369 6679 2077 6865 7468 6572   specify whether
-00010e50: 2074 6f20 6175 746f 6d61 7469 6361 6c6c   to automaticall
-00010e60: 7920 6372 6561 7465 220a 2020 2020 2020  y create".      
-00010e70: 2020 2020 2020 2220 7472 616e 7361 6374        " transact
-00010e80: 696f 6e73 2066 6f72 2061 2063 7265 6420  ions for a cred 
-00010e90: 6465 6627 7320 7265 766f 6361 7469 6f6e  def's revocation
-00010ea0: 2072 6567 6973 7472 792e 2028 4966 206e   registry. (If n
-00010eb0: 6f74 2073 7065 6369 6669 6564 2c22 0a20  ot specified,". 
-00010ec0: 2020 2020 2020 2020 2020 2022 2074 6865             " the
-00010ed0: 2063 6f6e 7472 6f6c 6c65 7220 6d75 7374   controller must
-00010ee0: 2069 6e76 6f6b 6520 7468 6520 656e 6470   invoke the endp
-00010ef0: 6f69 6e74 7320 7265 7175 6972 6564 2074  oints required t
-00010f00: 6f20 6372 6561 7465 2074 6865 220a 2020  o create the".  
-00010f10: 2020 2020 2020 2020 2020 2220 7265 766f            " revo
-00010f20: 6361 7469 6f6e 2072 6567 6973 7472 7920  cation registry 
-00010f30: 616e 6420 6173 7369 676e 2074 6f20 7468  and assign to th
-00010f40: 6520 6372 6564 2064 6566 2e29 222c 0a20  e cred def.)",. 
-00010f50: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00010f60: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-00010f70: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00010f80: 2020 222d 2d61 7574 6f2d 7072 6f6d 6f74    "--auto-promot
-00010f90: 652d 6175 7468 6f72 2d64 6964 222c 0a20  e-author-did",. 
-00010fa0: 2020 2020 2020 2020 2020 2061 6374 696f             actio
-00010fb0: 6e3d 2273 746f 7265 5f74 7275 6522 2c0a  n="store_true",.
-00010fc0: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-00010fd0: 7661 723d 2241 4341 5059 5f41 5554 4f5f  var="ACAPY_AUTO_
-00010fe0: 5052 4f4d 4f54 455f 4155 5448 4f52 5f44  PROMOTE_AUTHOR_D
-00010ff0: 4944 222c 0a20 2020 2020 2020 2020 2020  ID",.           
-00011000: 2068 656c 703d 2246 6f72 2041 7574 686f   help="For Autho
-00011010: 7273 2c20 7370 6563 6966 7920 7768 6574  rs, specify whet
-00011020: 6865 7220 746f 2061 7574 6f6d 6174 6963  her to automatic
-00011030: 616c 6c79 2070 726f 6d6f 7465 220a 2020  ally promote".  
-00011040: 2020 2020 2020 2020 2020 2220 6120 4449            " a DI
-00011050: 4420 746f 2074 6865 2077 616c 6c65 7420  D to the wallet 
-00011060: 7075 626c 6963 2044 4944 2061 6674 6572  public DID after
-00011070: 2077 7269 7469 6e67 2074 6f20 7468 6520   writing to the 
-00011080: 6c65 6467 6572 2e22 2c0a 2020 2020 2020  ledger.",.      
-00011090: 2020 290a 0a20 2020 2064 6566 2067 6574    )..    def get
-000110a0: 5f73 6574 7469 6e67 7328 7365 6c66 2c20  _settings(self, 
-000110b0: 6172 6773 3a20 4e61 6d65 7370 6163 6529  args: Namespace)
-000110c0: 3a0a 2020 2020 2020 2020 2222 2245 7874  :.        """Ext
-000110d0: 7261 6374 2065 6e64 6f72 7365 7220 7365  ract endorser se
-000110e0: 7474 696e 6773 2e22 2222 0a20 2020 2020  ttings.""".     
-000110f0: 2020 2073 6574 7469 6e67 7320 3d20 7b7d     settings = {}
-00011100: 0a20 2020 2020 2020 2073 6574 7469 6e67  .        setting
-00011110: 735b 2265 6e64 6f72 7365 722e 6175 7468  s["endorser.auth
-00011120: 6f72 225d 203d 2046 616c 7365 0a20 2020  or"] = False.   
-00011130: 2020 2020 2073 6574 7469 6e67 735b 2265       settings["e
-00011140: 6e64 6f72 7365 722e 656e 646f 7273 6572  ndorser.endorser
-00011150: 225d 203d 2046 616c 7365 0a20 2020 2020  "] = False.     
-00011160: 2020 2073 6574 7469 6e67 735b 2265 6e64     settings["end
-00011170: 6f72 7365 722e 6175 746f 5f65 6e64 6f72  orser.auto_endor
-00011180: 7365 225d 203d 2046 616c 7365 0a20 2020  se"] = False.   
-00011190: 2020 2020 2073 6574 7469 6e67 735b 2265       settings["e
-000111a0: 6e64 6f72 7365 722e 6175 746f 5f77 7269  ndorser.auto_wri
-000111b0: 7465 225d 203d 2046 616c 7365 0a20 2020  te"] = False.   
-000111c0: 2020 2020 2073 6574 7469 6e67 735b 2265       settings["e
-000111d0: 6e64 6f72 7365 722e 6175 746f 5f63 7265  ndorser.auto_cre
-000111e0: 6174 655f 7265 765f 7265 6722 5d20 3d20  ate_rev_reg"] = 
-000111f0: 4661 6c73 650a 2020 2020 2020 2020 7365  False.        se
-00011200: 7474 696e 6773 5b22 656e 646f 7273 6572  ttings["endorser
-00011210: 2e61 7574 6f5f 7072 6f6d 6f74 655f 6175  .auto_promote_au
-00011220: 7468 6f72 5f64 6964 225d 203d 2046 616c  thor_did"] = Fal
-00011230: 7365 0a0a 2020 2020 2020 2020 6966 2061  se..        if a
-00011240: 7267 732e 656e 646f 7273 6572 5f70 726f  rgs.endorser_pro
-00011250: 746f 636f 6c5f 726f 6c65 3a0a 2020 2020  tocol_role:.    
-00011260: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
-00011270: 656e 646f 7273 6572 5f70 726f 746f 636f  endorser_protoco
-00011280: 6c5f 726f 6c65 203d 3d20 454e 444f 5253  l_role == ENDORS
-00011290: 4552 5f41 5554 484f 523a 0a20 2020 2020  ER_AUTHOR:.     
-000112a0: 2020 2020 2020 2020 2020 2073 6574 7469             setti
-000112b0: 6e67 735b 2265 6e64 6f72 7365 722e 6175  ngs["endorser.au
-000112c0: 7468 6f72 225d 203d 2054 7275 650a 2020  thor"] = True.  
-000112d0: 2020 2020 2020 2020 2020 656c 6966 2061            elif a
-000112e0: 7267 732e 656e 646f 7273 6572 5f70 726f  rgs.endorser_pro
-000112f0: 746f 636f 6c5f 726f 6c65 203d 3d20 454e  tocol_role == EN
-00011300: 444f 5253 4552 5f45 4e44 4f52 5345 523a  DORSER_ENDORSER:
-00011310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011320: 2073 6574 7469 6e67 735b 2265 6e64 6f72   settings["endor
-00011330: 7365 722e 656e 646f 7273 6572 225d 203d  ser.endorser"] =
-00011340: 2054 7275 650a 0a20 2020 2020 2020 2069   True..        i
-00011350: 6620 6172 6773 2e65 6e64 6f72 7365 725f  f args.endorser_
-00011360: 7075 626c 6963 5f64 6964 3a0a 2020 2020  public_did:.    
-00011370: 2020 2020 2020 2020 6966 2073 6574 7469          if setti
-00011380: 6e67 735b 2265 6e64 6f72 7365 722e 6175  ngs["endorser.au
-00011390: 7468 6f72 225d 3a0a 2020 2020 2020 2020  thor"]:.        
-000113a0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-000113b0: 5b22 656e 646f 7273 6572 2e65 6e64 6f72  ["endorser.endor
-000113c0: 7365 725f 7075 626c 6963 5f64 6964 225d  ser_public_did"]
-000113d0: 203d 2061 7267 732e 656e 646f 7273 6572   = args.endorser
-000113e0: 5f70 7562 6c69 635f 6469 640a 2020 2020  _public_did.    
-000113f0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011400: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00011410: 6973 6520 4172 6773 5061 7273 6545 7272  ise ArgsParseErr
-00011420: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00011430: 2020 2020 2020 2020 2250 6172 616d 6574          "Paramet
-00011440: 6572 202d 2d65 6e64 6f72 7365 722d 7075  er --endorser-pu
-00011450: 626c 6963 2d64 6964 2073 686f 756c 6420  blic-did should 
-00011460: 6f6e 6c79 2062 6520 7365 7420 666f 7220  only be set for 
-00011470: 7472 616e 7361 6374 696f 6e20 220a 2020  transaction ".  
-00011480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011490: 2020 2241 7574 686f 7273 220a 2020 2020    "Authors".    
-000114a0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-000114b0: 2020 2020 2020 2069 6620 6172 6773 2e65         if args.e
-000114c0: 6e64 6f72 7365 725f 656e 646f 7273 655f  ndorser_endorse_
-000114d0: 7769 7468 5f64 6964 3a0a 2020 2020 2020  with_did:.      
-000114e0: 2020 2020 2020 6966 2073 6574 7469 6e67        if setting
-000114f0: 735b 2265 6e64 6f72 7365 722e 656e 646f  s["endorser.endo
-00011500: 7273 6572 225d 3a0a 2020 2020 2020 2020  rser"]:.        
-00011510: 2020 2020 2020 2020 7365 7474 696e 6773          settings
-00011520: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00011530: 2020 2020 2020 2265 6e64 6f72 7365 722e        "endorser.
-00011540: 656e 646f 7273 6572 5f65 6e64 6f72 7365  endorser_endorse
-00011550: 5f77 6974 685f 6469 6422 0a20 2020 2020  _with_did".     
-00011560: 2020 2020 2020 2020 2020 205d 203d 2061             ] = a
-00011570: 7267 732e 656e 646f 7273 6572 5f65 6e64  rgs.endorser_end
-00011580: 6f72 7365 5f77 6974 685f 6469 640a 2020  orse_with_did.  
-00011590: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-000115a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000115b0: 7261 6973 6520 4172 6773 5061 7273 6545  raise ArgsParseE
-000115c0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
-000115d0: 2020 2020 2020 2020 2020 2250 6172 616d            "Param
-000115e0: 6574 6572 202d 2d65 6e64 6f72 7365 722d  eter --endorser-
-000115f0: 656e 646f 7273 652d 7769 7468 2d64 6964  endorse-with-did
-00011600: 2073 686f 756c 6420 6f6e 6c79 2062 6520   should only be 
-00011610: 7365 7420 666f 7220 220a 2020 2020 2020  set for ".      
-00011620: 2020 2020 2020 2020 2020 2020 2020 2274                "t
-00011630: 7261 6e73 6163 7469 6f6e 2045 6e64 6f72  ransaction Endor
-00011640: 7365 7273 220a 2020 2020 2020 2020 2020  sers".          
-00011650: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
-00011660: 2069 6620 6172 6773 2e65 6e64 6f72 7365   if args.endorse
-00011670: 725f 616c 6961 733a 0a20 2020 2020 2020  r_alias:.       
-00011680: 2020 2020 2069 6620 7365 7474 696e 6773       if settings
-00011690: 5b22 656e 646f 7273 6572 2e61 7574 686f  ["endorser.autho
-000116a0: 7222 5d3a 0a20 2020 2020 2020 2020 2020  r"]:.           
-000116b0: 2020 2020 2073 6574 7469 6e67 735b 2265       settings["e
-000116c0: 6e64 6f72 7365 722e 656e 646f 7273 6572  ndorser.endorser
-000116d0: 5f61 6c69 6173 225d 203d 2061 7267 732e  _alias"] = args.
-000116e0: 656e 646f 7273 6572 5f61 6c69 6173 0a20  endorser_alias. 
-000116f0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00011700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011710: 2072 6169 7365 2041 7267 7350 6172 7365   raise ArgsParse
-00011720: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
-00011730: 2020 2020 2020 2020 2020 2022 5061 7261             "Para
-00011740: 6d65 7465 7220 2d2d 656e 646f 7273 6572  meter --endorser
-00011750: 2d61 6c69 6173 2073 686f 756c 6420 6f6e  -alias should on
-00011760: 6c79 2062 6520 7365 7420 666f 7220 7472  ly be set for tr
-00011770: 616e 7361 6374 696f 6e20 220a 2020 2020  ansaction ".    
-00011780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011790: 2241 7574 686f 7273 220a 2020 2020 2020  "Authors".      
-000117a0: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-000117b0: 2020 2020 2069 6620 6172 6773 2e65 6e64       if args.end
-000117c0: 6f72 7365 725f 696e 7669 7461 7469 6f6e  orser_invitation
-000117d0: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-000117e0: 2073 6574 7469 6e67 735b 2265 6e64 6f72   settings["endor
-000117f0: 7365 722e 6175 7468 6f72 225d 3a0a 2020  ser.author"]:.  
-00011800: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00011810: 206e 6f74 2073 6574 7469 6e67 732e 6765   not settings.ge
-00011820: 7428 2265 6e64 6f72 7365 722e 656e 646f  t("endorser.endo
-00011830: 7273 6572 5f70 7562 6c69 635f 6469 6422  rser_public_did"
-00011840: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00011850: 2020 2020 2020 2072 6169 7365 2041 7267         raise Arg
-00011860: 7350 6172 7365 4572 726f 7228 0a20 2020  sParseError(.   
-00011870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011880: 2020 2020 2022 5061 7261 6d65 7465 7220       "Parameter 
-00011890: 2d2d 656e 646f 7273 6572 2d70 7562 6c69  --endorser-publi
-000118a0: 632d 6469 6420 6d75 7374 2062 6520 7072  c-did must be pr
-000118b0: 6f76 6964 6564 2069 6620 220a 2020 2020  ovided if ".    
-000118c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000118d0: 2020 2020 222d 2d65 6e64 6f72 7365 722d      "--endorser-
-000118e0: 696e 7669 7461 7469 6f6e 2069 7320 7365  invitation is se
-000118f0: 742e 220a 2020 2020 2020 2020 2020 2020  t.".            
-00011900: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00011910: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-00011920: 2073 6574 7469 6e67 732e 6765 7428 2265   settings.get("e
-00011930: 6e64 6f72 7365 722e 656e 646f 7273 6572  ndorser.endorser
-00011940: 5f61 6c69 6173 2229 3a0a 2020 2020 2020  _alias"):.      
-00011950: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00011960: 6973 6520 4172 6773 5061 7273 6545 7272  ise ArgsParseErr
-00011970: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00011980: 2020 2020 2020 2020 2020 2020 2250 6172              "Par
-00011990: 616d 6574 6572 202d 2d65 6e64 6f72 7365  ameter --endorse
-000119a0: 722d 616c 6961 7320 6d75 7374 2062 6520  r-alias must be 
-000119b0: 7072 6f76 6964 6564 2069 6620 220a 2020  provided if ".  
-000119c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000119d0: 2020 2020 2020 222d 2d65 6e64 6f72 7365        "--endorse
-000119e0: 722d 696e 7669 7461 7469 6f6e 2069 7320  r-invitation is 
-000119f0: 7365 742e 220a 2020 2020 2020 2020 2020  set.".          
-00011a00: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-00011a10: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00011a20: 696e 6773 5b22 656e 646f 7273 6572 2e65  ings["endorser.e
-00011a30: 6e64 6f72 7365 725f 696e 7669 7461 7469  ndorser_invitati
-00011a40: 6f6e 225d 203d 2061 7267 732e 656e 646f  on"] = args.endo
-00011a50: 7273 6572 5f69 6e76 6974 6174 696f 6e0a  rser_invitation.
-00011a60: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00011a70: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00011a80: 2020 7261 6973 6520 4172 6773 5061 7273    raise ArgsPars
-00011a90: 6545 7272 6f72 280a 2020 2020 2020 2020  eError(.        
-00011aa0: 2020 2020 2020 2020 2020 2020 2250 6172              "Par
-00011ab0: 616d 6574 6572 202d 2d65 6e64 6f72 7365  ameter --endorse
-00011ac0: 722d 696e 7669 7461 7469 6f6e 2073 686f  r-invitation sho
-00011ad0: 756c 6420 6f6e 6c79 2062 6520 7365 7420  uld only be set 
-00011ae0: 666f 7220 7472 616e 7361 6374 696f 6e20  for transaction 
-00011af0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00011b00: 2020 2020 2020 2241 7574 686f 7273 220a        "Authors".
-00011b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011b20: 290a 0a20 2020 2020 2020 2069 6620 6172  )..        if ar
-00011b30: 6773 2e61 7574 6f5f 7265 7175 6573 745f  gs.auto_request_
-00011b40: 656e 646f 7273 656d 656e 743a 0a20 2020  endorsement:.   
-00011b50: 2020 2020 2020 2020 2069 6620 7365 7474           if sett
-00011b60: 696e 6773 5b22 656e 646f 7273 6572 2e61  ings["endorser.a
-00011b70: 7574 686f 7222 5d3a 0a20 2020 2020 2020  uthor"]:.       
-00011b80: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
-00011b90: 735b 2265 6e64 6f72 7365 722e 6175 746f  s["endorser.auto
-00011ba0: 5f72 6571 7565 7374 225d 203d 2054 7275  _request"] = Tru
-00011bb0: 650a 2020 2020 2020 2020 2020 2020 656c  e.            el
-00011bc0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-00011bd0: 2020 2020 7261 6973 6520 4172 6773 5061      raise ArgsPa
-00011be0: 7273 6545 7272 6f72 280a 2020 2020 2020  rseError(.      
-00011bf0: 2020 2020 2020 2020 2020 2020 2020 2250                "P
-00011c00: 6172 616d 6574 6572 202d 2d61 7574 6f2d  arameter --auto-
-00011c10: 7265 7175 6573 742d 656e 646f 7273 656d  request-endorsem
-00011c20: 656e 7420 7368 6f75 6c64 206f 6e6c 7920  ent should only 
-00011c30: 6265 2073 6574 2066 6f72 2022 0a20 2020  be set for ".   
-00011c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c50: 2022 7472 616e 7361 6374 696f 6e20 4175   "transaction Au
-00011c60: 7468 6f72 7322 0a20 2020 2020 2020 2020  thors".         
-00011c70: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-00011c80: 2020 6966 2061 7267 732e 6175 746f 5f65    if args.auto_e
-00011c90: 6e64 6f72 7365 5f74 7261 6e73 6163 7469  ndorse_transacti
-00011ca0: 6f6e 733a 0a20 2020 2020 2020 2020 2020  ons:.           
-00011cb0: 2069 6620 7365 7474 696e 6773 5b22 656e   if settings["en
-00011cc0: 646f 7273 6572 2e65 6e64 6f72 7365 7222  dorser.endorser"
-00011cd0: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-00011ce0: 2020 2073 6574 7469 6e67 735b 2265 6e64     settings["end
-00011cf0: 6f72 7365 722e 6175 746f 5f65 6e64 6f72  orser.auto_endor
-00011d00: 7365 225d 203d 2054 7275 650a 2020 2020  se"] = True.    
-00011d10: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011d20: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00011d30: 6973 6520 4172 6773 5061 7273 6545 7272  ise ArgsParseErr
-00011d40: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00011d50: 2020 2020 2020 2020 2250 6172 616d 6574          "Paramet
-00011d60: 6572 202d 2d61 7574 6f2d 656e 646f 7273  er --auto-endors
-00011d70: 6572 2d74 7261 6e73 6163 7469 6f6e 7320  er-transactions 
-00011d80: 7368 6f75 6c64 206f 6e6c 7920 6265 2073  should only be s
-00011d90: 6574 2066 6f72 2022 0a20 2020 2020 2020  et for ".       
-00011da0: 2020 2020 2020 2020 2020 2020 2022 7472               "tr
-00011db0: 616e 7361 6374 696f 6e20 456e 646f 7273  ansaction Endors
-00011dc0: 6572 7322 0a20 2020 2020 2020 2020 2020  ers".           
-00011dd0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-00011de0: 6966 2061 7267 732e 6175 746f 5f77 7269  if args.auto_wri
-00011df0: 7465 5f74 7261 6e73 6163 7469 6f6e 733a  te_transactions:
-00011e00: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00011e10: 7365 7474 696e 6773 5b22 656e 646f 7273  settings["endors
-00011e20: 6572 2e61 7574 686f 7222 5d3a 0a20 2020  er.author"]:.   
-00011e30: 2020 2020 2020 2020 2020 2020 2073 6574               set
+000007f0: 0a20 2020 2022 2222 0a20 2020 204c 6f67  .    """.    Log
+00000800: 2061 2073 6574 206f 6620 6172 6775 6d65   a set of argume
+00000810: 6e74 2067 726f 7570 7320 696e 746f 2061  nt groups into a
+00000820: 2070 6172 7365 722e 0a0a 2020 2020 5265   parser...    Re
+00000830: 7475 726e 733a 0a20 2020 2020 2020 2041  turns:.        A
+00000840: 2063 616c 6c61 626c 6520 746f 2063 6f6e   callable to con
+00000850: 7665 7274 206c 6f61 6465 6420 6172 6775  vert loaded argu
+00000860: 6d65 6e74 7320 696e 746f 2061 2073 6574  ments into a set
+00000870: 7469 6e67 7320 6469 6374 696f 6e61 7279  tings dictionary
+00000880: 0a0a 2020 2020 2222 220a 2020 2020 6772  ..    """.    gr
+00000890: 6f75 705f 696e 7374 203d 205b 5d0a 2020  oup_inst = [].  
+000008a0: 2020 666f 7220 6772 6f75 7020 696e 2067    for group in g
+000008b0: 726f 7570 733a 0a20 2020 2020 2020 2067  roups:.        g
+000008c0: 5f70 6172 7365 7220 3d20 7061 7273 6572  _parser = parser
+000008d0: 2e61 6464 5f61 7267 756d 656e 745f 6772  .add_argument_gr
+000008e0: 6f75 7028 6772 6f75 702e 4752 4f55 505f  oup(group.GROUP_
+000008f0: 4e41 4d45 290a 2020 2020 2020 2020 696e  NAME).        in
+00000900: 7374 203d 2067 726f 7570 2829 0a20 2020  st = group().   
+00000910: 2020 2020 2069 6e73 742e 6164 645f 6172       inst.add_ar
+00000920: 6775 6d65 6e74 7328 675f 7061 7273 6572  guments(g_parser
+00000930: 290a 2020 2020 2020 2020 6772 6f75 705f  ).        group_
+00000940: 696e 7374 2e61 7070 656e 6428 696e 7374  inst.append(inst
+00000950: 290a 0a20 2020 2064 6566 2067 6574 5f73  )..    def get_s
+00000960: 6574 7469 6e67 7328 6172 6773 3a20 4e61  ettings(args: Na
+00000970: 6d65 7370 6163 6529 3a0a 2020 2020 2020  mespace):.      
+00000980: 2020 7365 7474 696e 6773 203d 207b 7d0a    settings = {}.
+00000990: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
+000009a0: 2020 2020 2020 2020 2066 6f72 2067 726f           for gro
+000009b0: 7570 2069 6e20 6772 6f75 705f 696e 7374  up in group_inst
+000009c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000009d0: 2020 7365 7474 696e 6773 2e75 7064 6174    settings.updat
+000009e0: 6528 6772 6f75 702e 6765 745f 7365 7474  e(group.get_sett
+000009f0: 696e 6773 2861 7267 7329 290a 2020 2020  ings(args)).    
+00000a00: 2020 2020 6578 6365 7074 2041 7267 7350      except ArgsP
+00000a10: 6172 7365 4572 726f 7220 6173 2065 3a0a  arseError as e:.
+00000a20: 2020 2020 2020 2020 2020 2020 7061 7273              pars
+00000a30: 6572 2e70 7269 6e74 5f68 656c 7028 290a  er.print_help().
+00000a40: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00000a50: 6520 650a 2020 2020 2020 2020 7265 7475  e e.        retu
+00000a60: 726e 2073 6574 7469 6e67 730a 0a20 2020  rn settings..   
+00000a70: 2072 6574 7572 6e20 6765 745f 7365 7474   return get_sett
+00000a80: 696e 6773 0a0a 0a40 6772 6f75 7028 4341  ings...@group(CA
+00000a90: 545f 5354 4152 5429 0a63 6c61 7373 2041  T_START).class A
+00000aa0: 646d 696e 4772 6f75 7028 4172 6775 6d65  dminGroup(Argume
+00000ab0: 6e74 4772 6f75 7029 3a0a 2020 2020 2222  ntGroup):.    ""
+00000ac0: 2241 646d 696e 2073 6572 7665 7220 7365  "Admin server se
+00000ad0: 7474 696e 6773 2e22 2222 0a0a 2020 2020  ttings."""..    
+00000ae0: 4752 4f55 505f 4e41 4d45 203d 2022 4164  GROUP_NAME = "Ad
+00000af0: 6d69 6e22 0a0a 2020 2020 6465 6620 6164  min"..    def ad
+00000b00: 645f 6172 6775 6d65 6e74 7328 7365 6c66  d_arguments(self
+00000b10: 2c20 7061 7273 6572 3a20 4172 6775 6d65  , parser: Argume
+00000b20: 6e74 5061 7273 6572 293a 0a20 2020 2020  ntParser):.     
+00000b30: 2020 2022 2222 4164 6420 6164 6d69 6e2d     """Add admin-
+00000b40: 7370 6563 6966 6963 2063 6f6d 6d61 6e64  specific command
+00000b50: 206c 696e 6520 6172 6775 6d65 6e74 7320   line arguments 
+00000b60: 746f 2074 6865 2070 6172 7365 722e 2222  to the parser.""
+00000b70: 220a 2020 2020 2020 2020 7061 7273 6572  ".        parser
+00000b80: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+00000b90: 2020 2020 2020 2020 2020 2022 2d2d 6164             "--ad
+00000ba0: 6d69 6e22 2c0a 2020 2020 2020 2020 2020  min",.          
+00000bb0: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+00000bc0: 2020 2020 2020 2020 6e61 7267 733d 322c          nargs=2,
+00000bd0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+00000be0: 6176 6172 3d28 223c 686f 7374 3e22 2c20  avar=("<host>", 
+00000bf0: 223c 706f 7274 3e22 292c 0a20 2020 2020  "<port>"),.     
+00000c00: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
+00000c10: 4143 4150 595f 4144 4d49 4e22 2c0a 2020  ACAPY_ADMIN",.  
+00000c20: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+00000c30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00000c40: 2022 5370 6563 6966 7920 7468 6520 686f   "Specify the ho
+00000c50: 7374 2061 6e64 2070 6f72 7420 6f6e 2077  st and port on w
+00000c60: 6869 6368 2074 6f20 7275 6e20 7468 6520  hich to run the 
+00000c70: 6164 6d69 6e69 7374 7261 7469 7665 2073  administrative s
+00000c80: 6572 7665 722e 2022 0a20 2020 2020 2020  erver. ".       
+00000c90: 2020 2020 2020 2020 2022 4966 206e 6f74           "If not
+00000ca0: 2070 726f 7669 6465 642c 206e 6f20 6164   provided, no ad
+00000cb0: 6d69 6e20 7365 7276 6572 2069 7320 6d61  min server is ma
+00000cc0: 6465 2061 7661 696c 6162 6c65 2e22 0a20  de available.". 
+00000cd0: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+00000ce0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00000cf0: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+00000d00: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+00000d10: 2022 2d2d 6164 6d69 6e2d 6170 692d 6b65   "--admin-api-ke
+00000d20: 7922 2c0a 2020 2020 2020 2020 2020 2020  y",.            
+00000d30: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
+00000d40: 2020 2020 2020 6d65 7461 7661 723d 223c        metavar="<
+00000d50: 6170 692d 6b65 793e 222c 0a20 2020 2020  api-key>",.     
+00000d60: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
+00000d70: 4143 4150 595f 4144 4d49 4e5f 4150 495f  ACAPY_ADMIN_API_
+00000d80: 4b45 5922 2c0a 2020 2020 2020 2020 2020  KEY",.          
+00000d90: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
+00000da0: 2020 2020 2020 2020 2022 5072 6f74 6563           "Protec
+00000db0: 7420 616c 6c20 6164 6d69 6e20 656e 6470  t all admin endp
+00000dc0: 6f69 6e74 7320 7769 7468 2074 6865 2070  oints with the p
+00000dd0: 726f 7669 6465 6420 4150 4920 6b65 792e  rovided API key.
+00000de0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+00000df0: 2020 2022 4150 4920 636c 6965 6e74 7320     "API clients 
+00000e00: 2865 2e67 2e20 7468 6520 636f 6e74 726f  (e.g. the contro
+00000e10: 6c6c 6572 2920 6d75 7374 2070 6173 7320  ller) must pass 
+00000e20: 7468 6520 6b65 7920 696e 2074 6865 2048  the key in the H
+00000e30: 5454 5020 220a 2020 2020 2020 2020 2020  TTP ".          
+00000e40: 2020 2020 2020 2268 6561 6465 7220 7573        "header us
+00000e50: 696e 6720 2758 2d41 5049 2d4b 6579 3a20  ing 'X-API-Key: 
+00000e60: 3c61 7069 206b 6579 3e27 2e20 4569 7468  <api key>'. Eith
+00000e70: 6572 2074 6869 7320 7061 7261 6d65 7465  er this paramete
+00000e80: 7220 6f72 2074 6865 2022 0a20 2020 2020  r or the ".     
+00000e90: 2020 2020 2020 2020 2020 2022 272d 2d61             "'--a
+00000ea0: 646d 696e 2d69 6e73 6563 7572 652d 6d6f  dmin-insecure-mo
+00000eb0: 6465 2720 7061 7261 6d65 7465 7220 4d55  de' parameter MU
+00000ec0: 5354 2062 6520 7370 6563 6966 6965 642e  ST be specified.
+00000ed0: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
+00000ee0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00000ef0: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+00000f00: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+00000f10: 2020 2020 222d 2d61 646d 696e 2d69 6e73      "--admin-ins
+00000f20: 6563 7572 652d 6d6f 6465 222c 0a20 2020  ecure-mode",.   
+00000f30: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+00000f40: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
+00000f50: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+00000f60: 723d 2241 4341 5059 5f41 444d 494e 5f49  r="ACAPY_ADMIN_I
+00000f70: 4e53 4543 5552 455f 4d4f 4445 222c 0a20  NSECURE_MODE",. 
+00000f80: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+00000f90: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00000fa0: 2020 2252 756e 2074 6865 2061 646d 696e    "Run the admin
+00000fb0: 2077 6562 2073 6572 7665 7220 696e 2069   web server in i
+00000fc0: 6e73 6563 7572 6520 6d6f 6465 2e20 444f  nsecure mode. DO
+00000fd0: 204e 4f54 2055 5345 2046 4f52 2022 0a20   NOT USE FOR ". 
+00000fe0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00000ff0: 5052 4f44 5543 5449 4f4e 2044 4550 4c4f  PRODUCTION DEPLO
+00001000: 594d 454e 5453 2e20 5468 6520 6164 6d69  YMENTS. The admi
+00001010: 6e20 7365 7276 6572 2077 696c 6c20 6265  n server will be
+00001020: 2070 7562 6c69 636c 7920 6176 6169 6c61   publicly availa
+00001030: 626c 6520 220a 2020 2020 2020 2020 2020  ble ".          
+00001040: 2020 2020 2020 2274 6f20 616e 796f 6e65        "to anyone
+00001050: 2077 686f 2068 6173 2061 6363 6573 7320   who has access 
+00001060: 746f 2074 6865 2069 6e74 6572 6661 6365  to the interface
+00001070: 2e20 4569 7468 6572 2074 6869 7320 7061  . Either this pa
+00001080: 7261 6d65 7465 7220 6f72 2022 0a20 2020  rameter or ".   
+00001090: 2020 2020 2020 2020 2020 2020 2022 7468               "th
+000010a0: 6520 272d 2d61 7069 2d6b 6579 2720 7061  e '--api-key' pa
+000010b0: 7261 6d65 7465 7220 4d55 5354 2062 6520  rameter MUST be 
+000010c0: 7370 6563 6966 6965 642e 220a 2020 2020  specified.".    
+000010d0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+000010e0: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+000010f0: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+00001100: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+00001110: 2d6e 6f2d 7265 6365 6976 652d 696e 7669  -no-receive-invi
+00001120: 7465 7322 2c0a 2020 2020 2020 2020 2020  tes",.          
+00001130: 2020 6163 7469 6f6e 3d22 7374 6f72 655f    action="store_
+00001140: 7472 7565 222c 0a20 2020 2020 2020 2020  true",.         
+00001150: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
+00001160: 595f 4e4f 5f52 4543 4549 5645 5f49 4e56  Y_NO_RECEIVE_INV
+00001170: 4954 4553 222c 0a20 2020 2020 2020 2020  ITES",.         
+00001180: 2020 2068 656c 703d 280a 2020 2020 2020     help=(.      
+00001190: 2020 2020 2020 2020 2020 2250 7265 7665            "Preve
+000011a0: 6e74 7320 616e 2061 6765 6e74 2066 726f  nts an agent fro
+000011b0: 6d20 7265 6365 6976 696e 6720 696e 7669  m receiving invi
+000011c0: 7465 7320 6279 2072 656d 6f76 696e 6720  tes by removing 
+000011d0: 7468 6520 220a 2020 2020 2020 2020 2020  the ".          
+000011e0: 2020 2020 2020 2227 2f63 6f6e 6e65 6374        "'/connect
+000011f0: 696f 6e73 2f72 6563 6569 7665 2d69 6e76  ions/receive-inv
+00001200: 6974 6527 2072 6f75 7465 2066 726f 6d20  ite' route from 
+00001210: 7468 6520 6164 6d69 6e69 7374 7261 7469  the administrati
+00001220: 7665 2022 0a20 2020 2020 2020 2020 2020  ve ".           
+00001230: 2020 2020 2022 696e 7465 7266 6163 652e       "interface.
+00001240: 2044 6566 6175 6c74 3a20 6661 6c73 652e   Default: false.
+00001250: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
+00001260: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00001270: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+00001280: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+00001290: 2020 2020 222d 2d68 656c 702d 6c69 6e6b      "--help-link
+000012a0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+000012b0: 7970 653d 7374 722c 0a20 2020 2020 2020  ype=str,.       
+000012c0: 2020 2020 206d 6574 6176 6172 3d22 3c68       metavar="<h
+000012d0: 656c 702d 7572 6c3e 222c 0a20 2020 2020  elp-url>",.     
+000012e0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
+000012f0: 4143 4150 595f 4845 4c50 5f4c 494e 4b22  ACAPY_HELP_LINK"
+00001300: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+00001310: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+00001320: 2020 2020 2022 4120 5552 4c20 746f 2061       "A URL to a
+00001330: 6e20 6164 6d69 6e69 7374 7261 7469 7665  n administrative
+00001340: 2069 6e74 6572 6661 6365 2068 656c 7020   interface help 
+00001350: 7765 6220 7061 6765 2074 6861 7420 6120  web page that a 
+00001360: 636f 6e74 726f 6c6c 6572 2022 0a20 2020  controller ".   
+00001370: 2020 2020 2020 2020 2020 2020 2022 7573               "us
+00001380: 6572 2069 6e74 6572 6661 6365 2063 616e  er interface can
+00001390: 2067 6574 2066 726f 6d20 7468 6520 6167   get from the ag
+000013a0: 656e 7420 616e 6420 7072 6f76 6964 6520  ent and provide 
+000013b0: 6173 2061 206c 696e 6b20 746f 2075 7365  as a link to use
+000013c0: 7273 2e22 0a20 2020 2020 2020 2020 2020  rs.".           
+000013d0: 2029 2c0a 2020 2020 2020 2020 290a 2020   ),.        ).  
+000013e0: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+000013f0: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+00001400: 2020 2020 2020 2022 2d2d 7765 6268 6f6f         "--webhoo
+00001410: 6b2d 7572 6c22 2c0a 2020 2020 2020 2020  k-url",.        
+00001420: 2020 2020 6163 7469 6f6e 3d22 6170 7065      action="appe
+00001430: 6e64 222c 0a20 2020 2020 2020 2020 2020  nd",.           
+00001440: 206d 6574 6176 6172 3d22 3c75 726c 2361   metavar="<url#a
+00001450: 7069 5f6b 6579 3e22 2c0a 2020 2020 2020  pi_key>",.      
+00001460: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
+00001470: 4341 5059 5f57 4542 484f 4f4b 5f55 524c  CAPY_WEBHOOK_URL
+00001480: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+00001490: 656c 703d 280a 2020 2020 2020 2020 2020  elp=(.          
+000014a0: 2020 2020 2020 2253 656e 6420 7765 6268        "Send webh
+000014b0: 6f6f 6b73 2063 6f6e 7461 696e 696e 6720  ooks containing 
+000014c0: 696e 7465 726e 616c 2073 7461 7465 2063  internal state c
+000014d0: 6861 6e67 6573 2074 6f20 7468 6520 7370  hanges to the sp
+000014e0: 6563 6966 6965 6420 220a 2020 2020 2020  ecified ".      
+000014f0: 2020 2020 2020 2020 2020 2255 524c 2e20            "URL. 
+00001500: 4f70 7469 6f6e 616c 2041 5049 206b 6579  Optional API key
+00001510: 2074 6f20 6265 2070 6173 7365 6420 696e   to be passed in
+00001520: 2074 6865 2072 6571 7565 7374 2062 6f64   the request bod
+00001530: 7920 6361 6e20 6265 2022 0a20 2020 2020  y can be ".     
+00001540: 2020 2020 2020 2020 2020 2022 6170 7065             "appe
+00001550: 6e64 6564 2075 7369 6e67 2061 2068 6173  nded using a has
+00001560: 6820 7365 7061 7261 746f 7220 5b23 5d2e  h separator [#].
+00001570: 2054 6869 7320 6973 2075 7365 6675 6c20   This is useful 
+00001580: 666f 7220 6120 636f 6e74 726f 6c6c 6572  for a controller
+00001590: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+000015a0: 2020 2022 746f 206d 6f6e 6974 6f72 2061     "to monitor a
+000015b0: 6765 6e74 2065 7665 6e74 7320 616e 6420  gent events and 
+000015c0: 7265 7370 6f6e 6420 746f 2074 686f 7365  respond to those
+000015d0: 2065 7665 6e74 7320 7573 696e 6720 7468   events using th
+000015e0: 6520 220a 2020 2020 2020 2020 2020 2020  e ".            
+000015f0: 2020 2020 2261 646d 696e 2041 5049 2e20      "admin API. 
+00001600: 4966 206e 6f74 2073 7065 6369 6669 6564  If not specified
+00001610: 2c20 7765 6268 6f6f 6b73 2061 7265 206e  , webhooks are n
+00001620: 6f74 2070 7562 6c69 7368 6564 2062 7920  ot published by 
+00001630: 7468 6520 6167 656e 742e 220a 2020 2020  the agent.".    
+00001640: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+00001650: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+00001660: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+00001670: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+00001680: 2d61 646d 696e 2d63 6c69 656e 742d 6d61  -admin-client-ma
+00001690: 782d 7265 7175 6573 742d 7369 7a65 222c  x-request-size",
+000016a0: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
+000016b0: 6175 6c74 3d31 2c0a 2020 2020 2020 2020  ault=1,.        
+000016c0: 2020 2020 7479 7065 3d42 6f75 6e64 6564      type=Bounded
+000016d0: 496e 7428 6d69 6e3d 312c 206d 6178 3d31  Int(min=1, max=1
+000016e0: 3629 2c0a 2020 2020 2020 2020 2020 2020  6),.            
+000016f0: 656e 765f 7661 723d 2241 4341 5059 5f41  env_var="ACAPY_A
+00001700: 444d 494e 5f43 4c49 454e 545f 4d41 585f  DMIN_CLIENT_MAX_
+00001710: 5245 5155 4553 545f 5349 5a45 222c 0a20  REQUEST_SIZE",. 
+00001720: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+00001730: 224d 6178 696d 756d 2063 6c69 656e 7420  "Maximum client 
+00001740: 7265 7175 6573 7420 7369 7a65 2074 6f20  request size to 
+00001750: 6164 6d69 6e20 7365 7276 6572 2c20 696e  admin server, in
+00001760: 206d 6567 6162 7974 6573 3a20 6465 6661   megabytes: defa
+00001770: 756c 7420 3122 2c0a 2020 2020 2020 2020  ult 1",.        
+00001780: 290a 0a20 2020 2064 6566 2067 6574 5f73  )..    def get_s
+00001790: 6574 7469 6e67 7328 7365 6c66 2c20 6172  ettings(self, ar
+000017a0: 6773 3a20 4e61 6d65 7370 6163 6529 3a0a  gs: Namespace):.
+000017b0: 2020 2020 2020 2020 2222 2245 7874 7261          """Extra
+000017c0: 6374 2061 646d 696e 2073 6574 7469 6e67  ct admin setting
+000017d0: 732e 2222 220a 2020 2020 2020 2020 7365  s.""".        se
+000017e0: 7474 696e 6773 203d 207b 7d0a 2020 2020  ttings = {}.    
+000017f0: 2020 2020 6966 2061 7267 732e 6164 6d69      if args.admi
+00001800: 6e3a 0a20 2020 2020 2020 2020 2020 2061  n:.            a
+00001810: 646d 696e 5f61 7069 5f6b 6579 203d 2061  dmin_api_key = a
+00001820: 7267 732e 6164 6d69 6e5f 6170 695f 6b65  rgs.admin_api_ke
+00001830: 790a 2020 2020 2020 2020 2020 2020 6164  y.            ad
+00001840: 6d69 6e5f 696e 7365 6375 7265 5f6d 6f64  min_insecure_mod
+00001850: 6520 3d20 6172 6773 2e61 646d 696e 5f69  e = args.admin_i
+00001860: 6e73 6563 7572 655f 6d6f 6465 0a0a 2020  nsecure_mode..  
+00001870: 2020 2020 2020 2020 2020 6966 2028 6164            if (ad
+00001880: 6d69 6e5f 6170 695f 6b65 7920 616e 6420  min_api_key and 
+00001890: 6164 6d69 6e5f 696e 7365 6375 7265 5f6d  admin_insecure_m
+000018a0: 6f64 6529 206f 7220 6e6f 7420 280a 2020  ode) or not (.  
+000018b0: 2020 2020 2020 2020 2020 2020 2020 6164                ad
+000018c0: 6d69 6e5f 6170 695f 6b65 7920 6f72 2061  min_api_key or a
+000018d0: 646d 696e 5f69 6e73 6563 7572 655f 6d6f  dmin_insecure_mo
+000018e0: 6465 0a20 2020 2020 2020 2020 2020 2029  de.            )
+000018f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00001900: 2020 7261 6973 6520 4172 6773 5061 7273    raise ArgsPars
+00001910: 6545 7272 6f72 280a 2020 2020 2020 2020  eError(.        
+00001920: 2020 2020 2020 2020 2020 2020 2245 6974              "Eit
+00001930: 6865 7220 2d2d 6164 6d69 6e2d 6170 692d  her --admin-api-
+00001940: 6b65 7920 6f72 202d 2d61 646d 696e 2d69  key or --admin-i
+00001950: 6e73 6563 7572 652d 6d6f 6465 2022 0a20  nsecure-mode ". 
+00001960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001970: 2020 2022 6d75 7374 2062 6520 7365 7420     "must be set 
+00001980: 6275 7420 6e6f 7420 626f 7468 2e22 0a20  but not both.". 
+00001990: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+000019a0: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
+000019b0: 7474 696e 6773 5b22 6164 6d69 6e2e 6164  ttings["admin.ad
+000019c0: 6d69 6e5f 6170 695f 6b65 7922 5d20 3d20  min_api_key"] = 
+000019d0: 6164 6d69 6e5f 6170 695f 6b65 790a 2020  admin_api_key.  
+000019e0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+000019f0: 6773 5b22 6164 6d69 6e2e 6164 6d69 6e5f  gs["admin.admin_
+00001a00: 696e 7365 6375 7265 5f6d 6f64 6522 5d20  insecure_mode"] 
+00001a10: 3d20 6164 6d69 6e5f 696e 7365 6375 7265  = admin_insecure
+00001a20: 5f6d 6f64 650a 0a20 2020 2020 2020 2020  _mode..         
+00001a30: 2020 2073 6574 7469 6e67 735b 2261 646d     settings["adm
+00001a40: 696e 2e65 6e61 626c 6564 225d 203d 2054  in.enabled"] = T
+00001a50: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+00001a60: 7365 7474 696e 6773 5b22 6164 6d69 6e2e  settings["admin.
+00001a70: 686f 7374 225d 203d 2061 7267 732e 6164  host"] = args.ad
+00001a80: 6d69 6e5b 305d 0a20 2020 2020 2020 2020  min[0].         
+00001a90: 2020 2073 6574 7469 6e67 735b 2261 646d     settings["adm
+00001aa0: 696e 2e70 6f72 7422 5d20 3d20 6172 6773  in.port"] = args
+00001ab0: 2e61 646d 696e 5b31 5d0a 2020 2020 2020  .admin[1].      
+00001ac0: 2020 2020 2020 6966 2061 7267 732e 6865        if args.he
+00001ad0: 6c70 5f6c 696e 6b3a 0a20 2020 2020 2020  lp_link:.       
+00001ae0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+00001af0: 735b 2261 646d 696e 2e68 656c 705f 6c69  s["admin.help_li
+00001b00: 6e6b 225d 203d 2061 7267 732e 6865 6c70  nk"] = args.help
+00001b10: 5f6c 696e 6b0a 2020 2020 2020 2020 2020  _link.          
+00001b20: 2020 6966 2061 7267 732e 6e6f 5f72 6563    if args.no_rec
+00001b30: 6569 7665 5f69 6e76 6974 6573 3a0a 2020  eive_invites:.  
+00001b40: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00001b50: 7474 696e 6773 5b22 6164 6d69 6e2e 6e6f  ttings["admin.no
+00001b60: 5f72 6563 6569 7665 5f69 6e76 6974 6573  _receive_invites
+00001b70: 225d 203d 2054 7275 650a 2020 2020 2020  "] = True.      
+00001b80: 2020 2020 2020 686f 6f6b 5f75 726c 7320        hook_urls 
+00001b90: 3d20 6c69 7374 2861 7267 732e 7765 6268  = list(args.webh
+00001ba0: 6f6f 6b5f 7572 6c29 2069 6620 6172 6773  ook_url) if args
+00001bb0: 2e77 6562 686f 6f6b 5f75 726c 2065 6c73  .webhook_url els
+00001bc0: 6520 5b5d 0a20 2020 2020 2020 2020 2020  e [].           
+00001bd0: 2068 6f6f 6b5f 7572 6c20 3d20 656e 7669   hook_url = envi
+00001be0: 726f 6e2e 6765 7428 2257 4542 484f 4f4b  ron.get("WEBHOOK
+00001bf0: 5f55 524c 2229 0a20 2020 2020 2020 2020  _URL").         
+00001c00: 2020 2069 6620 686f 6f6b 5f75 726c 3a0a     if hook_url:.
+00001c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c20: 686f 6f6b 5f75 726c 732e 6170 7065 6e64  hook_urls.append
+00001c30: 2868 6f6f 6b5f 7572 6c29 0a20 2020 2020  (hook_url).     
+00001c40: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+00001c50: 2261 646d 696e 2e77 6562 686f 6f6b 5f75  "admin.webhook_u
+00001c60: 726c 7322 5d20 3d20 686f 6f6b 5f75 726c  rls"] = hook_url
+00001c70: 730a 0a20 2020 2020 2020 2020 2020 2073  s..            s
+00001c80: 6574 7469 6e67 735b 2261 646d 696e 2e61  ettings["admin.a
+00001c90: 646d 696e 5f63 6c69 656e 745f 6d61 785f  dmin_client_max_
+00001ca0: 7265 7175 6573 745f 7369 7a65 225d 203d  request_size"] =
+00001cb0: 2028 0a20 2020 2020 2020 2020 2020 2020   (.             
+00001cc0: 2020 2061 7267 732e 6164 6d69 6e5f 636c     args.admin_cl
+00001cd0: 6965 6e74 5f6d 6178 5f72 6571 7565 7374  ient_max_request
+00001ce0: 5f73 697a 6520 6f72 2031 0a20 2020 2020  _size or 1.     
+00001cf0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00001d00: 2072 6574 7572 6e20 7365 7474 696e 6773   return settings
+00001d10: 0a0a 0a40 6772 6f75 7028 4341 545f 5354  ...@group(CAT_ST
+00001d20: 4152 5429 0a63 6c61 7373 2044 6562 7567  ART).class Debug
+00001d30: 4772 6f75 7028 4172 6775 6d65 6e74 4772  Group(ArgumentGr
+00001d40: 6f75 7029 3a0a 2020 2020 2222 2244 6562  oup):.    """Deb
+00001d50: 7567 2073 6574 7469 6e67 732e 2222 220a  ug settings.""".
+00001d60: 0a20 2020 2047 524f 5550 5f4e 414d 4520  .    GROUP_NAME 
+00001d70: 3d20 2244 6562 7567 220a 0a20 2020 2064  = "Debug"..    d
+00001d80: 6566 2061 6464 5f61 7267 756d 656e 7473  ef add_arguments
+00001d90: 2873 656c 662c 2070 6172 7365 723a 2041  (self, parser: A
+00001da0: 7267 756d 656e 7450 6172 7365 7229 3a0a  rgumentParser):.
+00001db0: 2020 2020 2020 2020 2222 2241 6464 2064          """Add d
+00001dc0: 6562 7567 2063 6f6d 6d61 6e64 206c 696e  ebug command lin
+00001dd0: 6520 6172 6775 6d65 6e74 7320 746f 2074  e arguments to t
+00001de0: 6865 2070 6172 7365 722e 2222 220a 2020  he parser.""".  
+00001df0: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+00001e00: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+00001e10: 2020 2020 2020 2022 2d2d 6465 6275 6722         "--debug"
+00001e20: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
+00001e30: 7469 6f6e 3d22 7374 6f72 655f 7472 7565  tion="store_true
+00001e40: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00001e50: 6e76 5f76 6172 3d22 4143 4150 595f 4445  nv_var="ACAPY_DE
+00001e60: 4255 4722 2c0a 2020 2020 2020 2020 2020  BUG",.          
+00001e70: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
+00001e80: 2020 2020 2020 2020 2022 456e 6162 6c65           "Enable
+00001e90: 7320 6120 7265 6d6f 7465 2064 6562 7567  s a remote debug
+00001ea0: 6769 6e67 2073 6572 7669 6365 2074 6861  ging service tha
+00001eb0: 7420 6361 6e20 6265 2061 6363 6573 7365  t can be accesse
+00001ec0: 6420 220a 2020 2020 2020 2020 2020 2020  d ".            
+00001ed0: 2020 2020 2275 7369 6e67 2070 7476 7364      "using ptvsd
+00001ee0: 2066 6f72 2056 6973 7561 6c20 5374 7564   for Visual Stud
+00001ef0: 696f 2043 6f64 652e 2054 6865 2066 7261  io Code. The fra
+00001f00: 6d65 776f 726b 2077 696c 6c20 7761 6974  mework will wait
+00001f10: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+00001f20: 2020 2022 666f 7220 7468 6520 6465 6275     "for the debu
+00001f30: 6767 6572 2074 6f20 636f 6e6e 6563 7420  gger to connect 
+00001f40: 6174 2073 7461 7274 2d75 702e 2044 6566  at start-up. Def
+00001f50: 6175 6c74 3a20 6661 6c73 652e 220a 2020  ault: false.".  
+00001f60: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+00001f70: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00001f80: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00001f90: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00001fa0: 222d 2d64 6562 7567 2d73 6565 6422 2c0a  "--debug-seed",.
+00001fb0: 2020 2020 2020 2020 2020 2020 6465 7374              dest
+00001fc0: 3d22 6465 6275 675f 7365 6564 222c 0a20  ="debug_seed",. 
+00001fd0: 2020 2020 2020 2020 2020 2074 7970 653d             type=
+00001fe0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+00001ff0: 206d 6574 6176 6172 3d22 3c64 6562 7567   metavar="<debug
+00002000: 2d64 6964 2d73 6565 643e 222c 0a20 2020  -did-seed>",.   
+00002010: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+00002020: 3d22 4143 4150 595f 4445 4255 475f 5345  ="ACAPY_DEBUG_SE
+00002030: 4544 222c 0a20 2020 2020 2020 2020 2020  ED",.           
+00002040: 2068 656c 703d 2253 7065 6369 6679 2074   help="Specify t
+00002050: 6865 2064 6562 7567 2073 6565 6420 746f  he debug seed to
+00002060: 2075 7365 2e22 2c0a 2020 2020 2020 2020   use.",.        
+00002070: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
+00002080: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+00002090: 2020 2020 2020 2020 2020 2022 2d2d 6465             "--de
+000020a0: 6275 672d 636f 6e6e 6563 7469 6f6e 7322  bug-connections"
+000020b0: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
+000020c0: 7469 6f6e 3d22 7374 6f72 655f 7472 7565  tion="store_true
+000020d0: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+000020e0: 6e76 5f76 6172 3d22 4143 4150 595f 4445  nv_var="ACAPY_DE
+000020f0: 4255 475f 434f 4e4e 4543 5449 4f4e 5322  BUG_CONNECTIONS"
+00002100: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+00002110: 6c70 3d22 456e 6162 6c65 2061 6464 6974  lp="Enable addit
+00002120: 696f 6e61 6c20 6c6f 6767 696e 6720 6172  ional logging ar
+00002130: 6f75 6e64 2063 6f6e 6e65 6374 696f 6e73  ound connections
+00002140: 2e20 4465 6661 756c 743a 2066 616c 7365  . Default: false
+00002150: 2e22 2c0a 2020 2020 2020 2020 290a 2020  .",.        ).  
+00002160: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+00002170: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+00002180: 2020 2020 2020 2022 2d2d 6465 6275 672d         "--debug-
+00002190: 6372 6564 656e 7469 616c 7322 2c0a 2020  credentials",.  
+000021a0: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
+000021b0: 3d22 7374 6f72 655f 7472 7565 222c 0a20  ="store_true",. 
+000021c0: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+000021d0: 6172 3d22 4143 4150 595f 4445 4255 475f  ar="ACAPY_DEBUG_
+000021e0: 4352 4544 454e 5449 414c 5322 2c0a 2020  CREDENTIALS",.  
+000021f0: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+00002200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00002210: 2022 456e 6162 6c65 2061 6464 6974 696f   "Enable additio
+00002220: 6e61 6c20 6c6f 6767 696e 6720 6172 6f75  nal logging arou
+00002230: 6e64 2063 7265 6465 6e74 6961 6c20 6578  nd credential ex
+00002240: 6368 616e 6765 732e 2022 0a20 2020 2020  changes. ".     
+00002250: 2020 2020 2020 2020 2020 2022 4465 6661             "Defa
+00002260: 756c 743a 2066 616c 7365 2e22 0a20 2020  ult: false.".   
+00002270: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
+00002280: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
+00002290: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
+000022a0: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
+000022b0: 2d2d 6465 6275 672d 7072 6573 656e 7461  --debug-presenta
+000022c0: 7469 6f6e 7322 2c0a 2020 2020 2020 2020  tions",.        
+000022d0: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
+000022e0: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
+000022f0: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
+00002300: 4150 595f 4445 4255 475f 5052 4553 454e  APY_DEBUG_PRESEN
+00002310: 5441 5449 4f4e 5322 2c0a 2020 2020 2020  TATIONS",.      
+00002320: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
+00002330: 2020 2020 2020 2020 2020 2020 2022 456e               "En
+00002340: 6162 6c65 2061 6464 6974 696f 6e61 6c20  able additional 
+00002350: 6c6f 6767 696e 6720 6172 6f75 6e64 2070  logging around p
+00002360: 7265 7365 6e74 6174 696f 6e20 6578 6368  resentation exch
+00002370: 616e 6765 732e 2022 0a20 2020 2020 2020  anges. ".       
+00002380: 2020 2020 2020 2020 2022 4465 6661 756c           "Defaul
+00002390: 743a 2066 616c 7365 2e22 0a20 2020 2020  t: false.".     
+000023a0: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
+000023b0: 2020 290a 2020 2020 2020 2020 7061 7273    ).        pars
+000023c0: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
+000023d0: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
+000023e0: 6465 6275 672d 7765 6268 6f6f 6b73 222c  debug-webhooks",
+000023f0: 0a20 2020 2020 2020 2020 2020 2061 6374  .            act
+00002400: 696f 6e3d 2273 746f 7265 5f74 7275 6522  ion="store_true"
+00002410: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+00002420: 765f 7661 723d 2241 4341 5059 5f44 4542  v_var="ACAPY_DEB
+00002430: 5547 5f57 4542 484f 4f4b 5322 2c0a 2020  UG_WEBHOOKS",.  
+00002440: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+00002450: 2245 6d69 7420 7072 6f74 6f63 6f6c 2073  "Emit protocol s
+00002460: 7461 7465 206f 626a 6563 7420 6173 2077  tate object as w
+00002470: 6562 686f 6f6b 2e20 2220 2244 6566 6175  ebhook. " "Defau
+00002480: 6c74 3a20 6661 6c73 652e 2229 2c0a 2020  lt: false."),.  
+00002490: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000024a0: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+000024b0: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+000024c0: 2022 2d2d 696e 7669 7465 222c 0a20 2020   "--invite",.   
+000024d0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+000024e0: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
+000024f0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+00002500: 723d 2241 4341 5059 5f49 4e56 4954 4522  r="ACAPY_INVITE"
+00002510: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+00002520: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+00002530: 2020 2020 2022 4166 7465 7220 7374 6172       "After star
+00002540: 7475 702c 2067 656e 6572 6174 6520 616e  tup, generate an
+00002550: 6420 7072 696e 7420 6120 6e65 7720 6f75  d print a new ou
+00002560: 742d 6f66 2d62 616e 6420 636f 6e6e 6563  t-of-band connec
+00002570: 7469 6f6e 2022 0a20 2020 2020 2020 2020  tion ".         
+00002580: 2020 2020 2020 2022 696e 7669 7461 7469         "invitati
+00002590: 6f6e 2055 524c 2e20 4465 6661 756c 743a  on URL. Default:
+000025a0: 2066 616c 7365 2e22 0a20 2020 2020 2020   false.".       
+000025b0: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
+000025c0: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
+000025d0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+000025e0: 2020 2020 2020 2020 2020 2022 2d2d 636f             "--co
+000025f0: 6e6e 6563 7469 6f6e 732d 696e 7669 7465  nnections-invite
+00002600: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
+00002610: 6374 696f 6e3d 2273 746f 7265 5f74 7275  ction="store_tru
+00002620: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+00002630: 656e 765f 7661 723d 2241 4341 5059 5f43  env_var="ACAPY_C
+00002640: 4f4e 4e45 4354 494f 4e53 5f49 4e56 4954  ONNECTIONS_INVIT
+00002650: 4522 2c0a 2020 2020 2020 2020 2020 2020  E",.            
+00002660: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
+00002670: 2020 2020 2020 2022 4166 7465 7220 7374         "After st
+00002680: 6172 7475 702c 2067 656e 6572 6174 6520  artup, generate 
+00002690: 616e 6420 7072 696e 7420 6120 6e65 7720  and print a new 
+000026a0: 636f 6e6e 6563 7469 6f6e 7320 7072 6f74  connections prot
+000026b0: 6f63 6f6c 2022 0a20 2020 2020 2020 2020  ocol ".         
+000026c0: 2020 2020 2020 2022 7374 796c 6520 696e         "style in
+000026d0: 7669 7461 7469 6f6e 2055 524c 2e20 4465  vitation URL. De
+000026e0: 6661 756c 743a 2066 616c 7365 2e22 0a20  fault: false.". 
+000026f0: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+00002700: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00002710: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+00002720: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+00002730: 2022 2d2d 696e 7669 7465 2d6c 6162 656c   "--invite-label
+00002740: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
+00002750: 6573 743d 2269 6e76 6974 655f 6c61 6265  est="invite_labe
+00002760: 6c22 2c0a 2020 2020 2020 2020 2020 2020  l",.            
+00002770: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
+00002780: 2020 2020 2020 6d65 7461 7661 723d 223c        metavar="<
+00002790: 6c61 6265 6c3e 222c 0a20 2020 2020 2020  label>",.       
+000027a0: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
+000027b0: 4150 595f 494e 5649 5445 5f4c 4142 454c  APY_INVITE_LABEL
+000027c0: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+000027d0: 656c 703d 2253 7065 6369 6679 2074 6865  elp="Specify the
+000027e0: 206c 6162 656c 206f 6620 7468 6520 6765   label of the ge
+000027f0: 6e65 7261 7465 6420 696e 7669 7461 7469  nerated invitati
+00002800: 6f6e 2e22 2c0a 2020 2020 2020 2020 290a  on.",.        ).
+00002810: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
+00002820: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
+00002830: 2020 2020 2020 2020 2022 2d2d 696e 7669           "--invi
+00002840: 7465 2d6d 756c 7469 2d75 7365 222c 0a20  te-multi-use",. 
+00002850: 2020 2020 2020 2020 2020 2061 6374 696f             actio
+00002860: 6e3d 2273 746f 7265 5f74 7275 6522 2c0a  n="store_true",.
+00002870: 2020 2020 2020 2020 2020 2020 656e 765f              env_
+00002880: 7661 723d 2241 4341 5059 5f49 4e56 4954  var="ACAPY_INVIT
+00002890: 455f 4d55 4c54 495f 5553 4522 2c0a 2020  E_MULTI_USE",.  
+000028a0: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
+000028b0: 466c 6167 2073 7065 6369 6679 696e 6720  Flag specifying 
+000028c0: 7468 6520 6765 6e65 7261 7465 6420 696e  the generated in
+000028d0: 7669 7465 2073 686f 756c 6420 6265 206d  vite should be m
+000028e0: 756c 7469 2d75 7365 2e22 2c0a 2020 2020  ulti-use.",.    
+000028f0: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
+00002900: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
+00002910: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
+00002920: 2d2d 696e 7669 7465 2d70 7562 6c69 6322  --invite-public"
+00002930: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
+00002940: 7469 6f6e 3d22 7374 6f72 655f 7472 7565  tion="store_true
+00002950: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00002960: 6e76 5f76 6172 3d22 4143 4150 595f 494e  nv_var="ACAPY_IN
+00002970: 5649 5445 5f50 5542 4c49 4322 2c0a 2020  VITE_PUBLIC",.  
+00002980: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
+00002990: 466c 6167 2073 7065 6369 6679 696e 6720  Flag specifying 
+000029a0: 7468 6520 6765 6e65 7261 7465 6420 696e  the generated in
+000029b0: 7669 7465 2073 686f 756c 6420 6265 2070  vite should be p
+000029c0: 7562 6c69 632e 222c 0a20 2020 2020 2020  ublic.",.       
+000029d0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+000029e0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+000029f0: 2020 2020 2020 2020 2020 2020 222d 2d69              "--i
+00002a00: 6e76 6974 652d 6d65 7461 6461 7461 2d6a  nvite-metadata-j
+00002a10: 736f 6e22 2c0a 2020 2020 2020 2020 2020  son",.          
+00002a20: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+00002a30: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+00002a40: 223c 6d65 7461 6461 7461 2d6a 736f 6e3e  "<metadata-json>
+00002a50: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00002a60: 6e76 5f76 6172 3d22 4143 4150 595f 494e  nv_var="ACAPY_IN
+00002a70: 5649 5445 5f4d 4554 4144 4154 415f 4a53  VITE_METADATA_JS
+00002a80: 4f4e 222c 0a20 2020 2020 2020 2020 2020  ON",.           
+00002a90: 2068 656c 703d 2241 6464 206d 6574 6164   help="Add metad
+00002aa0: 6174 6120 6a73 6f6e 2074 6f20 696e 7669  ata json to invi
+00002ab0: 7461 7469 6f6e 2063 7265 6174 6564 2077  tation created w
+00002ac0: 6974 6820 2d2d 696e 7669 7465 2061 7267  ith --invite arg
+00002ad0: 756d 656e 742e 222c 0a20 2020 2020 2020  ument.",.       
+00002ae0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+00002af0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+00002b00: 2020 2020 2020 2020 2020 2020 222d 2d74              "--t
+00002b10: 6573 742d 7375 6974 652d 656e 6470 6f69  est-suite-endpoi
+00002b20: 6e74 222c 0a20 2020 2020 2020 2020 2020  nt",.           
+00002b30: 2074 7970 653d 7374 722c 0a20 2020 2020   type=str,.     
+00002b40: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
+00002b50: 3c65 6e64 706f 696e 743e 222c 0a20 2020  <endpoint>",.   
+00002b60: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+00002b70: 3d22 4143 4150 595f 5445 5354 5f53 5549  ="ACAPY_TEST_SUI
+00002b80: 5445 5f45 4e44 504f 494e 5422 2c0a 2020  TE_ENDPOINT",.  
+00002b90: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
+00002ba0: 5552 4c20 656e 6470 6f69 6e74 2066 6f72  URL endpoint for
+00002bb0: 2073 656e 6469 6e67 206d 6573 7361 6765   sending message
+00002bc0: 7320 746f 2074 6865 2074 6573 7420 7375  s to the test su
+00002bd0: 6974 6520 6167 656e 742e 222c 0a20 2020  ite agent.",.   
+00002be0: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00002bf0: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00002c00: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00002c10: 222d 2d61 7574 6f2d 6163 6365 7074 2d69  "--auto-accept-i
+00002c20: 6e76 6974 6573 222c 0a20 2020 2020 2020  nvites",.       
+00002c30: 2020 2020 2061 6374 696f 6e3d 2273 746f       action="sto
+00002c40: 7265 5f74 7275 6522 2c0a 2020 2020 2020  re_true",.      
+00002c50: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
+00002c60: 4341 5059 5f41 5554 4f5f 4143 4345 5054  CAPY_AUTO_ACCEPT
+00002c70: 5f49 4e56 4954 4553 222c 0a20 2020 2020  _INVITES",.     
+00002c80: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
+00002c90: 2020 2020 2020 2020 2020 2020 2020 2241                "A
+00002ca0: 7574 6f6d 6174 6963 616c 6c79 2061 6363  utomatically acc
+00002cb0: 6570 7420 696e 7669 7465 7320 7769 7468  ept invites with
+00002cc0: 6f75 7420 6669 7269 6e67 2061 2077 6562  out firing a web
+00002cd0: 686f 6f6b 2065 7665 6e74 206f 7220 220a  hook event or ".
+00002ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002cf0: 2277 6169 7469 6e67 2066 6f72 2061 6e20  "waiting for an 
+00002d00: 6164 6d69 6e20 7265 7175 6573 742e 2044  admin request. D
+00002d10: 6566 6175 6c74 3a20 6661 6c73 652e 220a  efault: false.".
+00002d20: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+00002d30: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00002d40: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00002d50: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00002d60: 2020 222d 2d61 7574 6f2d 6163 6365 7074    "--auto-accept
+00002d70: 2d72 6571 7565 7374 7322 2c0a 2020 2020  -requests",.    
+00002d80: 2020 2020 2020 2020 6163 7469 6f6e 3d22          action="
+00002d90: 7374 6f72 655f 7472 7565 222c 0a20 2020  store_true",.   
+00002da0: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+00002db0: 3d22 4143 4150 595f 4155 544f 5f41 4343  ="ACAPY_AUTO_ACC
+00002dc0: 4550 545f 5245 5155 4553 5453 222c 0a20  EPT_REQUESTS",. 
+00002dd0: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+00002de0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00002df0: 2020 2241 7574 6f6d 6174 6963 616c 6c79    "Automatically
+00002e00: 2061 6363 6570 7420 636f 6e6e 6563 7469   accept connecti
+00002e10: 6f6e 2072 6571 7565 7374 7320 7769 7468  on requests with
+00002e20: 6f75 7420 6669 7269 6e67 2022 0a20 2020  out firing ".   
+00002e30: 2020 2020 2020 2020 2020 2020 2022 6120               "a 
+00002e40: 7765 6268 6f6f 6b20 6576 656e 7420 6f72  webhook event or
+00002e50: 2077 6169 7469 6e67 2066 6f72 2061 6e20   waiting for an 
+00002e60: 6164 6d69 6e20 7265 7175 6573 742e 2044  admin request. D
+00002e70: 6566 6175 6c74 3a20 6661 6c73 652e 220a  efault: false.".
+00002e80: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+00002e90: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00002ea0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00002eb0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00002ec0: 2020 222d 2d61 7574 6f2d 7265 7370 6f6e    "--auto-respon
+00002ed0: 642d 6d65 7373 6167 6573 222c 0a20 2020  d-messages",.   
+00002ee0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+00002ef0: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
+00002f00: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+00002f10: 723d 2241 4341 5059 5f41 5554 4f5f 5245  r="ACAPY_AUTO_RE
+00002f20: 5350 4f4e 445f 4d45 5353 4147 4553 222c  SPOND_MESSAGES",
+00002f30: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+00002f40: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+00002f50: 2020 2020 2241 7574 6f6d 6174 6963 616c      "Automatical
+00002f60: 6c79 2072 6573 706f 6e64 2074 6f20 6261  ly respond to ba
+00002f70: 7369 6320 6d65 7373 6167 6573 2069 6e64  sic messages ind
+00002f80: 6963 6174 696e 6720 7468 6520 6d65 7373  icating the mess
+00002f90: 6167 6520 7761 7320 220a 2020 2020 2020  age was ".      
+00002fa0: 2020 2020 2020 2020 2020 2272 6563 6569            "recei
+00002fb0: 7665 642e 2044 6566 6175 6c74 3a20 6661  ved. Default: fa
+00002fc0: 6c73 652e 220a 2020 2020 2020 2020 2020  lse.".          
+00002fd0: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
+00002fe0: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
+00002ff0: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
+00003000: 2020 2020 2020 2020 222d 2d61 7574 6f2d          "--auto-
+00003010: 7265 7370 6f6e 642d 6372 6564 656e 7469  respond-credenti
+00003020: 616c 2d70 726f 706f 7361 6c22 2c0a 2020  al-proposal",.  
+00003030: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
+00003040: 3d22 7374 6f72 655f 7472 7565 222c 0a20  ="store_true",. 
+00003050: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+00003060: 6172 3d22 4143 4150 595f 4155 544f 5f52  ar="ACAPY_AUTO_R
+00003070: 4553 504f 4e44 5f43 5245 4445 4e54 4941  ESPOND_CREDENTIA
+00003080: 4c5f 5052 4f50 4f53 414c 222c 0a20 2020  L_PROPOSAL",.   
+00003090: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
+000030a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000030b0: 2241 7574 6f2d 7265 7370 6f6e 6420 746f  "Auto-respond to
+000030c0: 2063 7265 6465 6e74 6961 6c20 7072 6f70   credential prop
+000030d0: 6f73 616c 7320 7769 7468 2063 6f72 7265  osals with corre
+000030e0: 7370 6f6e 6469 6e67 2022 0a20 2020 2020  sponding ".     
+000030f0: 2020 2020 2020 2020 2020 2022 6372 6564             "cred
+00003100: 656e 7469 616c 206f 6666 6572 7322 0a20  ential offers". 
+00003110: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+00003120: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00003130: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+00003140: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+00003150: 2022 2d2d 6175 746f 2d72 6573 706f 6e64   "--auto-respond
+00003160: 2d63 7265 6465 6e74 6961 6c2d 6f66 6665  -credential-offe
+00003170: 7222 2c0a 2020 2020 2020 2020 2020 2020  r",.            
+00003180: 6163 7469 6f6e 3d22 7374 6f72 655f 7472  action="store_tr
+00003190: 7565 222c 0a20 2020 2020 2020 2020 2020  ue",.           
+000031a0: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
+000031b0: 4155 544f 5f52 4553 504f 4e44 5f43 5245  AUTO_RESPOND_CRE
+000031c0: 4445 4e54 4941 4c5f 4f46 4645 5222 2c0a  DENTIAL_OFFER",.
+000031d0: 2020 2020 2020 2020 2020 2020 6865 6c70              help
+000031e0: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
+000031f0: 2020 2022 4175 746f 6d61 7469 6361 6c6c     "Automaticall
+00003200: 7920 7265 7370 6f6e 6420 746f 2049 6e64  y respond to Ind
+00003210: 7920 6372 6564 656e 7469 616c 206f 6666  y credential off
+00003220: 6572 7320 7769 7468 2061 2063 7265 6465  ers with a crede
+00003230: 6e74 6961 6c20 220a 2020 2020 2020 2020  ntial ".        
+00003240: 2020 2020 2020 2020 2272 6571 7565 7374          "request
+00003250: 2e20 4465 6661 756c 743a 2066 616c 7365  . Default: false
+00003260: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
+00003270: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00003280: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+00003290: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+000032a0: 2020 2020 222d 2d61 7574 6f2d 7265 7370      "--auto-resp
+000032b0: 6f6e 642d 6372 6564 656e 7469 616c 2d72  ond-credential-r
+000032c0: 6571 7565 7374 222c 0a20 2020 2020 2020  equest",.       
+000032d0: 2020 2020 2061 6374 696f 6e3d 2273 746f       action="sto
+000032e0: 7265 5f74 7275 6522 2c0a 2020 2020 2020  re_true",.      
+000032f0: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
+00003300: 4341 5059 5f41 5554 4f5f 5245 5350 4f4e  CAPY_AUTO_RESPON
+00003310: 445f 4352 4544 454e 5449 414c 5f52 4551  D_CREDENTIAL_REQ
+00003320: 5545 5354 222c 0a20 2020 2020 2020 2020  UEST",.         
+00003330: 2020 2068 656c 703d 2241 7574 6f2d 7265     help="Auto-re
+00003340: 7370 6f6e 6420 746f 2063 7265 6465 6e74  spond to credent
+00003350: 6961 6c20 7265 7175 6573 7473 2077 6974  ial requests wit
+00003360: 6820 636f 7272 6573 706f 6e64 696e 6720  h corresponding 
+00003370: 6372 6564 656e 7469 616c 7322 2c0a 2020  credentials",.  
+00003380: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00003390: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+000033a0: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+000033b0: 2022 2d2d 6175 746f 2d72 6573 706f 6e64   "--auto-respond
+000033c0: 2d70 7265 7365 6e74 6174 696f 6e2d 7072  -presentation-pr
+000033d0: 6f70 6f73 616c 222c 0a20 2020 2020 2020  oposal",.       
+000033e0: 2020 2020 2061 6374 696f 6e3d 2273 746f       action="sto
+000033f0: 7265 5f74 7275 6522 2c0a 2020 2020 2020  re_true",.      
+00003400: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
+00003410: 4341 5059 5f41 5554 4f5f 5245 5350 4f4e  CAPY_AUTO_RESPON
+00003420: 445f 5052 4553 454e 5441 5449 4f4e 5f50  D_PRESENTATION_P
+00003430: 524f 504f 5341 4c22 2c0a 2020 2020 2020  ROPOSAL",.      
+00003440: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
+00003450: 2020 2020 2020 2020 2020 2020 2022 4175               "Au
+00003460: 746f 2d72 6573 706f 6e64 2074 6f20 7072  to-respond to pr
+00003470: 6573 656e 7461 7469 6f6e 2070 726f 706f  esentation propo
+00003480: 7361 6c73 2077 6974 6820 636f 7272 6573  sals with corres
+00003490: 706f 6e64 696e 6720 220a 2020 2020 2020  ponding ".      
+000034a0: 2020 2020 2020 2020 2020 2270 7265 7365            "prese
+000034b0: 6e74 6174 696f 6e20 7265 7175 6573 7473  ntation requests
+000034c0: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
+000034d0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+000034e0: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+000034f0: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+00003500: 2020 2020 222d 2d61 7574 6f2d 7265 7370      "--auto-resp
+00003510: 6f6e 642d 7072 6573 656e 7461 7469 6f6e  ond-presentation
+00003520: 2d72 6571 7565 7374 222c 0a20 2020 2020  -request",.     
+00003530: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
+00003540: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
+00003550: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
+00003560: 2241 4341 5059 5f41 5554 4f5f 5245 5350  "ACAPY_AUTO_RESP
+00003570: 4f4e 445f 5052 4553 454e 5441 5449 4f4e  OND_PRESENTATION
+00003580: 5f52 4551 5545 5354 222c 0a20 2020 2020  _REQUEST",.     
+00003590: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
+000035a0: 2020 2020 2020 2020 2020 2020 2020 2241                "A
+000035b0: 7574 6f6d 6174 6963 616c 6c79 2072 6573  utomatically res
+000035c0: 706f 6e64 2074 6f20 496e 6479 2070 7265  pond to Indy pre
+000035d0: 7365 6e74 6174 696f 6e20 7265 7175 6573  sentation reques
+000035e0: 7473 2077 6974 6820 6120 220a 2020 2020  ts with a ".    
+000035f0: 2020 2020 2020 2020 2020 2020 2263 6f6e              "con
+00003600: 7374 7275 6374 6564 2070 7265 7365 6e74  structed present
+00003610: 6174 696f 6e20 6966 2061 2063 6f72 7265  ation if a corre
+00003620: 7370 6f6e 6469 6e67 2063 7265 6465 6e74  sponding credent
+00003630: 6961 6c20 6361 6e20 6265 2022 0a20 2020  ial can be ".   
+00003640: 2020 2020 2020 2020 2020 2020 2022 7265               "re
+00003650: 7472 6965 7665 6420 666f 7220 6576 6572  trieved for ever
+00003660: 7920 7265 6665 7265 6e74 2069 6e20 7468  y referent in th
+00003670: 6520 7072 6573 656e 7461 7469 6f6e 2072  e presentation r
+00003680: 6571 7565 7374 2e20 220a 2020 2020 2020  equest. ".      
+00003690: 2020 2020 2020 2020 2020 2244 6566 6175            "Defau
+000036a0: 6c74 3a20 6661 6c73 652e 220a 2020 2020  lt: false.".    
+000036b0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+000036c0: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+000036d0: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+000036e0: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+000036f0: 2d61 7574 6f2d 7374 6f72 652d 6372 6564  -auto-store-cred
+00003700: 656e 7469 616c 222c 0a20 2020 2020 2020  ential",.       
+00003710: 2020 2020 2061 6374 696f 6e3d 2273 746f       action="sto
+00003720: 7265 5f74 7275 6522 2c0a 2020 2020 2020  re_true",.      
+00003730: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
+00003740: 4341 5059 5f41 5554 4f5f 5354 4f52 455f  CAPY_AUTO_STORE_
+00003750: 4352 4544 454e 5449 414c 222c 0a20 2020  CREDENTIAL",.   
+00003760: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
+00003770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003780: 2241 7574 6f6d 6174 6963 616c 6c79 2073  "Automatically s
+00003790: 746f 7265 2061 6e20 6973 7375 6564 2063  tore an issued c
+000037a0: 7265 6465 6e74 6961 6c20 7570 6f6e 2072  redential upon r
+000037b0: 6563 6569 7074 2e20 220a 2020 2020 2020  eceipt. ".      
+000037c0: 2020 2020 2020 2020 2020 2244 6566 6175            "Defau
+000037d0: 6c74 3a20 6661 6c73 652e 220a 2020 2020  lt: false.".    
+000037e0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+000037f0: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+00003800: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+00003810: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+00003820: 2d61 7574 6f2d 7665 7269 6679 2d70 7265  -auto-verify-pre
+00003830: 7365 6e74 6174 696f 6e22 2c0a 2020 2020  sentation",.    
+00003840: 2020 2020 2020 2020 6163 7469 6f6e 3d22          action="
+00003850: 7374 6f72 655f 7472 7565 222c 0a20 2020  store_true",.   
+00003860: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+00003870: 3d22 4143 4150 595f 4155 544f 5f56 4552  ="ACAPY_AUTO_VER
+00003880: 4946 595f 5052 4553 454e 5441 5449 4f4e  IFY_PRESENTATION
+00003890: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+000038a0: 656c 703d 280a 2020 2020 2020 2020 2020  elp=(.          
+000038b0: 2020 2020 2020 2241 7574 6f6d 6174 6963        "Automatic
+000038c0: 616c 6c79 2076 6572 6966 7920 6120 7072  ally verify a pr
+000038d0: 6573 656e 7461 7469 6f6e 2077 6865 6e20  esentation when 
+000038e0: 6974 2069 7320 7265 6365 6976 6564 2e20  it is received. 
+000038f0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00003900: 2020 2244 6566 6175 6c74 3a20 6661 6c73    "Default: fals
+00003910: 652e 220a 2020 2020 2020 2020 2020 2020  e.".            
+00003920: 292c 0a20 2020 2020 2020 2029 0a0a 2020  ),.        )..  
+00003930: 2020 6465 6620 6765 745f 7365 7474 696e    def get_settin
+00003940: 6773 2873 656c 662c 2061 7267 733a 204e  gs(self, args: N
+00003950: 616d 6573 7061 6365 2920 2d3e 2064 6963  amespace) -> dic
+00003960: 743a 0a20 2020 2020 2020 2022 2222 4578  t:.        """Ex
+00003970: 7472 6163 7420 6465 6275 6720 7365 7474  tract debug sett
+00003980: 696e 6773 2e22 2222 0a20 2020 2020 2020  ings.""".       
+00003990: 2073 6574 7469 6e67 7320 3d20 7b7d 0a20   settings = {}. 
+000039a0: 2020 2020 2020 2069 6620 6172 6773 2e64         if args.d
+000039b0: 6562 7567 3a0a 2020 2020 2020 2020 2020  ebug:.          
+000039c0: 2020 7365 7474 696e 6773 5b22 6465 6275    settings["debu
+000039d0: 672e 656e 6162 6c65 6422 5d20 3d20 5472  g.enabled"] = Tr
+000039e0: 7565 0a20 2020 2020 2020 2069 6620 6172  ue.        if ar
+000039f0: 6773 2e64 6562 7567 5f63 6f6e 6e65 6374  gs.debug_connect
+00003a00: 696f 6e73 3a0a 2020 2020 2020 2020 2020  ions:.          
+00003a10: 2020 7365 7474 696e 6773 5b22 6465 6275    settings["debu
+00003a20: 672e 636f 6e6e 6563 7469 6f6e 7322 5d20  g.connections"] 
+00003a30: 3d20 5472 7565 0a20 2020 2020 2020 2069  = True.        i
+00003a40: 6620 6172 6773 2e64 6562 7567 5f63 7265  f args.debug_cre
+00003a50: 6465 6e74 6961 6c73 3a0a 2020 2020 2020  dentials:.      
+00003a60: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00003a70: 6465 6275 672e 6372 6564 656e 7469 616c  debug.credential
+00003a80: 7322 5d20 3d20 5472 7565 0a20 2020 2020  s"] = True.     
+00003a90: 2020 2069 6620 6172 6773 2e64 6562 7567     if args.debug
+00003aa0: 5f70 7265 7365 6e74 6174 696f 6e73 3a0a  _presentations:.
+00003ab0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+00003ac0: 696e 6773 5b22 6465 6275 672e 7072 6573  ings["debug.pres
+00003ad0: 656e 7461 7469 6f6e 7322 5d20 3d20 5472  entations"] = Tr
+00003ae0: 7565 0a20 2020 2020 2020 2069 6620 6172  ue.        if ar
+00003af0: 6773 2e64 6562 7567 5f77 6562 686f 6f6b  gs.debug_webhook
+00003b00: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+00003b10: 6574 7469 6e67 735b 2264 6562 7567 2e77  ettings["debug.w
+00003b20: 6562 686f 6f6b 7322 5d20 3d20 5472 7565  ebhooks"] = True
+00003b30: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+00003b40: 2e64 6562 7567 5f73 6565 643a 0a20 2020  .debug_seed:.   
+00003b50: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+00003b60: 735b 2264 6562 7567 2e73 6565 6422 5d20  s["debug.seed"] 
+00003b70: 3d20 6172 6773 2e64 6562 7567 5f73 6565  = args.debug_see
+00003b80: 640a 2020 2020 2020 2020 6966 2061 7267  d.        if arg
+00003b90: 732e 696e 7669 7465 3a0a 2020 2020 2020  s.invite:.      
+00003ba0: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00003bb0: 6465 6275 672e 7072 696e 745f 696e 7669  debug.print_invi
+00003bc0: 7461 7469 6f6e 225d 203d 2054 7275 650a  tation"] = True.
+00003bd0: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
+00003be0: 636f 6e6e 6563 7469 6f6e 735f 696e 7669  connections_invi
+00003bf0: 7465 3a0a 2020 2020 2020 2020 2020 2020  te:.            
+00003c00: 7365 7474 696e 6773 5b22 6465 6275 672e  settings["debug.
+00003c10: 7072 696e 745f 636f 6e6e 6563 7469 6f6e  print_connection
+00003c20: 735f 696e 7669 7461 7469 6f6e 225d 203d  s_invitation"] =
+00003c30: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
+00003c40: 2061 7267 732e 696e 7669 7465 5f6c 6162   args.invite_lab
+00003c50: 656c 3a0a 2020 2020 2020 2020 2020 2020  el:.            
+00003c60: 7365 7474 696e 6773 5b22 6465 6275 672e  settings["debug.
+00003c70: 696e 7669 7465 5f6c 6162 656c 225d 203d  invite_label"] =
+00003c80: 2061 7267 732e 696e 7669 7465 5f6c 6162   args.invite_lab
+00003c90: 656c 0a20 2020 2020 2020 2069 6620 6172  el.        if ar
+00003ca0: 6773 2e69 6e76 6974 655f 6d75 6c74 695f  gs.invite_multi_
+00003cb0: 7573 653a 0a20 2020 2020 2020 2020 2020  use:.           
+00003cc0: 2073 6574 7469 6e67 735b 2264 6562 7567   settings["debug
+00003cd0: 2e69 6e76 6974 655f 6d75 6c74 695f 7573  .invite_multi_us
+00003ce0: 6522 5d20 3d20 5472 7565 0a20 2020 2020  e"] = True.     
+00003cf0: 2020 2069 6620 6172 6773 2e69 6e76 6974     if args.invit
+00003d00: 655f 7075 626c 6963 3a0a 2020 2020 2020  e_public:.      
+00003d10: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00003d20: 6465 6275 672e 696e 7669 7465 5f70 7562  debug.invite_pub
+00003d30: 6c69 6322 5d20 3d20 5472 7565 0a20 2020  lic"] = True.   
+00003d40: 2020 2020 2069 6620 6172 6773 2e69 6e76       if args.inv
+00003d50: 6974 655f 6d65 7461 6461 7461 5f6a 736f  ite_metadata_jso
+00003d60: 6e3a 0a20 2020 2020 2020 2020 2020 2073  n:.            s
+00003d70: 6574 7469 6e67 735b 2264 6562 7567 2e69  ettings["debug.i
+00003d80: 6e76 6974 655f 6d65 7461 6461 7461 5f6a  nvite_metadata_j
+00003d90: 736f 6e22 5d20 3d20 6172 6773 2e69 6e76  son"] = args.inv
+00003da0: 6974 655f 6d65 7461 6461 7461 5f6a 736f  ite_metadata_jso
+00003db0: 6e0a 2020 2020 2020 2020 6966 2061 7267  n.        if arg
+00003dc0: 732e 7465 7374 5f73 7569 7465 5f65 6e64  s.test_suite_end
+00003dd0: 706f 696e 743a 0a20 2020 2020 2020 2020  point:.         
+00003de0: 2020 2073 6574 7469 6e67 735b 2264 6562     settings["deb
+00003df0: 7567 2e74 6573 745f 7375 6974 655f 656e  ug.test_suite_en
+00003e00: 6470 6f69 6e74 225d 203d 2061 7267 732e  dpoint"] = args.
+00003e10: 7465 7374 5f73 7569 7465 5f65 6e64 706f  test_suite_endpo
+00003e20: 696e 740a 0a20 2020 2020 2020 2069 6620  int..        if 
+00003e30: 6172 6773 2e61 7574 6f5f 7265 7370 6f6e  args.auto_respon
+00003e40: 645f 6372 6564 656e 7469 616c 5f70 726f  d_credential_pro
+00003e50: 706f 7361 6c3a 0a20 2020 2020 2020 2020  posal:.         
+00003e60: 2020 2073 6574 7469 6e67 735b 2264 6562     settings["deb
+00003e70: 7567 2e61 7574 6f5f 7265 7370 6f6e 645f  ug.auto_respond_
+00003e80: 6372 6564 656e 7469 616c 5f70 726f 706f  credential_propo
+00003e90: 7361 6c22 5d20 3d20 5472 7565 0a20 2020  sal"] = True.   
+00003ea0: 2020 2020 2069 6620 6172 6773 2e61 7574       if args.aut
+00003eb0: 6f5f 7265 7370 6f6e 645f 6372 6564 656e  o_respond_creden
+00003ec0: 7469 616c 5f6f 6666 6572 3a0a 2020 2020  tial_offer:.    
+00003ed0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+00003ee0: 5b22 6465 6275 672e 6175 746f 5f72 6573  ["debug.auto_res
+00003ef0: 706f 6e64 5f63 7265 6465 6e74 6961 6c5f  pond_credential_
+00003f00: 6f66 6665 7222 5d20 3d20 5472 7565 0a20  offer"] = True. 
+00003f10: 2020 2020 2020 2069 6620 6172 6773 2e61         if args.a
+00003f20: 7574 6f5f 7265 7370 6f6e 645f 6372 6564  uto_respond_cred
+00003f30: 656e 7469 616c 5f72 6571 7565 7374 3a0a  ential_request:.
+00003f40: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+00003f50: 696e 6773 5b22 6465 6275 672e 6175 746f  ings["debug.auto
+00003f60: 5f72 6573 706f 6e64 5f63 7265 6465 6e74  _respond_credent
+00003f70: 6961 6c5f 7265 7175 6573 7422 5d20 3d20  ial_request"] = 
+00003f80: 5472 7565 0a20 2020 2020 2020 2069 6620  True.        if 
+00003f90: 6172 6773 2e61 7574 6f5f 7265 7370 6f6e  args.auto_respon
+00003fa0: 645f 7072 6573 656e 7461 7469 6f6e 5f70  d_presentation_p
+00003fb0: 726f 706f 7361 6c3a 0a20 2020 2020 2020  roposal:.       
+00003fc0: 2020 2020 2073 6574 7469 6e67 735b 2264       settings["d
+00003fd0: 6562 7567 2e61 7574 6f5f 7265 7370 6f6e  ebug.auto_respon
+00003fe0: 645f 7072 6573 656e 7461 7469 6f6e 5f70  d_presentation_p
+00003ff0: 726f 706f 7361 6c22 5d20 3d20 5472 7565  roposal"] = True
+00004000: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+00004010: 2e61 7574 6f5f 7265 7370 6f6e 645f 7072  .auto_respond_pr
+00004020: 6573 656e 7461 7469 6f6e 5f72 6571 7565  esentation_reque
+00004030: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
+00004040: 7365 7474 696e 6773 5b22 6465 6275 672e  settings["debug.
+00004050: 6175 746f 5f72 6573 706f 6e64 5f70 7265  auto_respond_pre
+00004060: 7365 6e74 6174 696f 6e5f 7265 7175 6573  sentation_reques
+00004070: 7422 5d20 3d20 5472 7565 0a20 2020 2020  t"] = True.     
+00004080: 2020 2069 6620 6172 6773 2e61 7574 6f5f     if args.auto_
+00004090: 7374 6f72 655f 6372 6564 656e 7469 616c  store_credential
+000040a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000040b0: 7474 696e 6773 5b22 6465 6275 672e 6175  ttings["debug.au
+000040c0: 746f 5f73 746f 7265 5f63 7265 6465 6e74  to_store_credent
+000040d0: 6961 6c22 5d20 3d20 5472 7565 0a20 2020  ial"] = True.   
+000040e0: 2020 2020 2069 6620 6172 6773 2e61 7574       if args.aut
+000040f0: 6f5f 7665 7269 6679 5f70 7265 7365 6e74  o_verify_present
+00004100: 6174 696f 6e3a 0a20 2020 2020 2020 2020  ation:.         
+00004110: 2020 2073 6574 7469 6e67 735b 2264 6562     settings["deb
+00004120: 7567 2e61 7574 6f5f 7665 7269 6679 5f70  ug.auto_verify_p
+00004130: 7265 7365 6e74 6174 696f 6e22 5d20 3d20  resentation"] = 
+00004140: 5472 7565 0a20 2020 2020 2020 2069 6620  True.        if 
+00004150: 6172 6773 2e61 7574 6f5f 6163 6365 7074  args.auto_accept
+00004160: 5f69 6e76 6974 6573 3a0a 2020 2020 2020  _invites:.      
+00004170: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00004180: 6465 6275 672e 6175 746f 5f61 6363 6570  debug.auto_accep
+00004190: 745f 696e 7669 7465 7322 5d20 3d20 5472  t_invites"] = Tr
+000041a0: 7565 0a20 2020 2020 2020 2069 6620 6172  ue.        if ar
+000041b0: 6773 2e61 7574 6f5f 6163 6365 7074 5f72  gs.auto_accept_r
+000041c0: 6571 7565 7374 733a 0a20 2020 2020 2020  equests:.       
+000041d0: 2020 2020 2073 6574 7469 6e67 735b 2264       settings["d
+000041e0: 6562 7567 2e61 7574 6f5f 6163 6365 7074  ebug.auto_accept
+000041f0: 5f72 6571 7565 7374 7322 5d20 3d20 5472  _requests"] = Tr
+00004200: 7565 0a20 2020 2020 2020 2069 6620 6172  ue.        if ar
+00004210: 6773 2e61 7574 6f5f 7265 7370 6f6e 645f  gs.auto_respond_
+00004220: 6d65 7373 6167 6573 3a0a 2020 2020 2020  messages:.      
+00004230: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00004240: 6465 6275 672e 6175 746f 5f72 6573 706f  debug.auto_respo
+00004250: 6e64 5f6d 6573 7361 6765 7322 5d20 3d20  nd_messages"] = 
+00004260: 5472 7565 0a20 2020 2020 2020 2072 6574  True.        ret
+00004270: 7572 6e20 7365 7474 696e 6773 0a0a 0a40  urn settings...@
+00004280: 6772 6f75 7028 4341 545f 5354 4152 5429  group(CAT_START)
+00004290: 0a63 6c61 7373 2044 6973 636f 7665 7246  .class DiscoverF
+000042a0: 6561 7475 7265 7347 726f 7570 2841 7267  eaturesGroup(Arg
+000042b0: 756d 656e 7447 726f 7570 293a 0a20 2020  umentGroup):.   
+000042c0: 2022 2222 4469 7363 6f76 6572 2046 6561   """Discover Fea
+000042d0: 7475 7265 7320 7365 7474 696e 6773 2e22  tures settings."
+000042e0: 2222 0a0a 2020 2020 4752 4f55 505f 4e41  ""..    GROUP_NA
+000042f0: 4d45 203d 2022 4469 7363 6f76 6572 2066  ME = "Discover f
+00004300: 6561 7475 7265 7322 0a0a 2020 2020 6465  eatures"..    de
+00004310: 6620 6164 645f 6172 6775 6d65 6e74 7328  f add_arguments(
+00004320: 7365 6c66 2c20 7061 7273 6572 3a20 4172  self, parser: Ar
+00004330: 6775 6d65 6e74 5061 7273 6572 293a 0a20  gumentParser):. 
+00004340: 2020 2020 2020 2022 2222 4164 6420 6469         """Add di
+00004350: 7363 6f76 6572 2066 6561 7475 7265 7320  scover features 
+00004360: 7370 6563 6966 6963 2063 6f6d 6d61 6e64  specific command
+00004370: 206c 696e 6520 6172 6775 6d65 6e74 7320   line arguments 
+00004380: 746f 2074 6865 2070 6172 7365 722e 2222  to the parser.""
+00004390: 220a 2020 2020 2020 2020 7061 7273 6572  ".        parser
+000043a0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+000043b0: 2020 2020 2020 2020 2020 2022 2d2d 6175             "--au
+000043c0: 746f 2d64 6973 636c 6f73 652d 6665 6174  to-disclose-feat
+000043d0: 7572 6573 222c 0a20 2020 2020 2020 2020  ures",.         
+000043e0: 2020 2061 6374 696f 6e3d 2273 746f 7265     action="store
+000043f0: 5f74 7275 6522 2c0a 2020 2020 2020 2020  _true",.        
+00004400: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+00004410: 5059 5f41 5554 4f5f 4449 5343 4c4f 5345  PY_AUTO_DISCLOSE
+00004420: 5f46 4541 5455 5245 5322 2c0a 2020 2020  _FEATURES",.    
+00004430: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
+00004440: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00004450: 5370 6563 6966 6965 7320 7468 6174 2074  Specifies that t
+00004460: 6865 2061 6765 6e74 2077 696c 6c20 7072  he agent will pr
+00004470: 6f61 6374 6976 656c 792f 6175 746f 2064  oactively/auto d
+00004480: 6973 636c 6f73 6520 7072 6f74 6f63 6f6c  isclose protocol
+00004490: 7322 0a20 2020 2020 2020 2020 2020 2020  s".             
+000044a0: 2020 2022 2061 6e64 2067 6f61 6c2d 636f     " and goal-co
+000044b0: 6465 7320 6665 6174 7572 6573 206f 6e20  des features on 
+000044c0: 636f 6e6e 6563 7469 6f6e 2063 7265 6174  connection creat
+000044d0: 696f 6e20 5b52 4643 3035 3537 5d2e 220a  ion [RFC0557].".
+000044e0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+000044f0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00004500: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00004510: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00004520: 2020 222d 2d64 6973 636c 6f73 652d 6665    "--disclose-fe
+00004530: 6174 7572 6573 2d6c 6973 7422 2c0a 2020  atures-list",.  
+00004540: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
+00004550: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
+00004560: 6465 7374 3d22 6469 7363 6c6f 7365 5f66  dest="disclose_f
+00004570: 6561 7475 7265 735f 6c69 7374 222c 0a20  eatures_list",. 
+00004580: 2020 2020 2020 2020 2020 2072 6571 7569             requi
+00004590: 7265 643d 4661 6c73 652c 0a20 2020 2020  red=False,.     
+000045a0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
+000045b0: 4143 4150 595f 4449 5343 4c4f 5345 5f46  ACAPY_DISCLOSE_F
+000045c0: 4541 5455 5245 535f 4c49 5354 222c 0a20  EATURES_LIST",. 
+000045d0: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+000045e0: 224c 6f61 6420 5941 4d4c 2066 696c 6520  "Load YAML file 
+000045f0: 7061 7468 2074 6861 7420 7370 6563 6966  path that specif
+00004600: 6965 7320 7768 6963 6820 6665 6174 7572  ies which featur
+00004610: 6573 2074 6f20 6469 7363 6c6f 7365 2e22  es to disclose."
+00004620: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
+00004630: 2064 6566 2067 6574 5f73 6574 7469 6e67   def get_setting
+00004640: 7328 7365 6c66 2c20 6172 6773 3a20 4e61  s(self, args: Na
+00004650: 6d65 7370 6163 6529 202d 3e20 6469 6374  mespace) -> dict
+00004660: 3a0a 2020 2020 2020 2020 2222 2245 7874  :.        """Ext
+00004670: 7261 6374 2064 6973 636f 7665 7220 6665  ract discover fe
+00004680: 6174 7572 6573 2073 6574 7469 6e67 732e  atures settings.
+00004690: 2222 220a 2020 2020 2020 2020 7365 7474  """.        sett
+000046a0: 696e 6773 203d 207b 7d0a 2020 2020 2020  ings = {}.      
+000046b0: 2020 6966 2061 7267 732e 6175 746f 5f64    if args.auto_d
+000046c0: 6973 636c 6f73 655f 6665 6174 7572 6573  isclose_features
+000046d0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000046e0: 7474 696e 6773 5b22 6175 746f 5f64 6973  ttings["auto_dis
+000046f0: 636c 6f73 655f 6665 6174 7572 6573 225d  close_features"]
+00004700: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+00004710: 6966 2061 7267 732e 6469 7363 6c6f 7365  if args.disclose
+00004720: 5f66 6561 7475 7265 735f 6c69 7374 3a0a  _features_list:.
+00004730: 2020 2020 2020 2020 2020 2020 7769 7468              with
+00004740: 206f 7065 6e28 6172 6773 2e64 6973 636c   open(args.discl
+00004750: 6f73 655f 6665 6174 7572 6573 5f6c 6973  ose_features_lis
+00004760: 742c 2022 7222 2920 6173 2073 7472 6561  t, "r") as strea
+00004770: 6d3a 0a20 2020 2020 2020 2020 2020 2020  m:.             
+00004780: 2020 2070 726f 7669 6465 645f 6c69 7374     provided_list
+00004790: 7320 3d20 7961 6d6c 2e73 6166 655f 6c6f  s = yaml.safe_lo
+000047a0: 6164 2873 7472 6561 6d29 0a20 2020 2020  ad(stream).     
+000047b0: 2020 2020 2020 2020 2020 2069 6620 2270             if "p
+000047c0: 726f 746f 636f 6c73 2220 696e 2070 726f  rotocols" in pro
+000047d0: 7669 6465 645f 6c69 7374 733a 0a20 2020  vided_lists:.   
+000047e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000047f0: 2073 6574 7469 6e67 735b 2264 6973 636c   settings["discl
+00004800: 6f73 655f 7072 6f74 6f63 6f6c 5f6c 6973  ose_protocol_lis
+00004810: 7422 5d20 3d20 7072 6f76 6964 6564 5f6c  t"] = provided_l
+00004820: 6973 7473 2e67 6574 2822 7072 6f74 6f63  ists.get("protoc
+00004830: 6f6c 7322 290a 2020 2020 2020 2020 2020  ols").          
+00004840: 2020 2020 2020 6966 2022 676f 616c 2d63        if "goal-c
+00004850: 6f64 6573 2220 696e 2070 726f 7669 6465  odes" in provide
+00004860: 645f 6c69 7374 733a 0a20 2020 2020 2020  d_lists:.       
+00004870: 2020 2020 2020 2020 2020 2020 2073 6574               set
+00004880: 7469 6e67 735b 2264 6973 636c 6f73 655f  tings["disclose_
+00004890: 676f 616c 5f63 6f64 655f 6c69 7374 225d  goal_code_list"]
+000048a0: 203d 2070 726f 7669 6465 645f 6c69 7374   = provided_list
+000048b0: 732e 6765 7428 0a20 2020 2020 2020 2020  s.get(.         
+000048c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000048d0: 676f 616c 2d63 6f64 6573 220a 2020 2020  goal-codes".    
+000048e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000048f0: 290a 2020 2020 2020 2020 7265 7475 726e  ).        return
+00004900: 2073 6574 7469 6e67 730a 0a0a 4067 726f   settings...@gro
+00004910: 7570 2843 4154 5f50 524f 5649 5349 4f4e  up(CAT_PROVISION
+00004920: 2c20 4341 545f 5354 4152 5429 0a63 6c61  , CAT_START).cla
+00004930: 7373 2047 656e 6572 616c 4772 6f75 7028  ss GeneralGroup(
+00004940: 4172 6775 6d65 6e74 4772 6f75 7029 3a0a  ArgumentGroup):.
+00004950: 2020 2020 2222 2247 656e 6572 616c 2073      """General s
+00004960: 6574 7469 6e67 732e 2222 220a 0a20 2020  ettings."""..   
+00004970: 2047 524f 5550 5f4e 414d 4520 3d20 2247   GROUP_NAME = "G
+00004980: 656e 6572 616c 220a 0a20 2020 2064 6566  eneral"..    def
+00004990: 2061 6464 5f61 7267 756d 656e 7473 2873   add_arguments(s
+000049a0: 656c 662c 2070 6172 7365 723a 2041 7267  elf, parser: Arg
+000049b0: 756d 656e 7450 6172 7365 7229 3a0a 2020  umentParser):.  
+000049c0: 2020 2020 2020 2222 2241 6464 2067 656e        """Add gen
+000049d0: 6572 616c 2063 6f6d 6d61 6e64 206c 696e  eral command lin
+000049e0: 6520 6172 6775 6d65 6e74 7320 746f 2074  e arguments to t
+000049f0: 6865 2070 6172 7365 722e 2222 220a 2020  he parser.""".  
+00004a00: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+00004a10: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+00004a20: 2020 2020 2020 2022 2d2d 6172 672d 6669         "--arg-fi
+00004a30: 6c65 222c 0a20 2020 2020 2020 2020 2020  le",.           
+00004a40: 2069 735f 636f 6e66 6967 5f66 696c 653d   is_config_file=
+00004a50: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
+00004a60: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
+00004a70: 2020 2020 2020 2020 2022 4c6f 6164 2061           "Load a
+00004a80: 6361 2d70 7920 6172 6775 6d65 6e74 7320  ca-py arguments 
+00004a90: 6672 6f6d 2074 6865 2073 7065 6369 6669  from the specifi
+00004aa0: 6564 2066 696c 652e 2020 4e6f 7465 2074  ed file.  Note t
+00004ab0: 6861 7420 220a 2020 2020 2020 2020 2020  hat ".          
+00004ac0: 2020 2020 2020 2274 6869 7320 6669 6c65        "this file
+00004ad0: 202a 6d75 7374 2a20 6265 2069 6e20 5941   *must* be in YA
+00004ae0: 4d4c 2066 6f72 6d61 742e 220a 2020 2020  ML format.".    
+00004af0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+00004b00: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+00004b10: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+00004b20: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+00004b30: 2d70 6c75 6769 6e22 2c0a 2020 2020 2020  -plugin",.      
+00004b40: 2020 2020 2020 6465 7374 3d22 6578 7465        dest="exte
+00004b50: 726e 616c 5f70 6c75 6769 6e73 222c 0a20  rnal_plugins",. 
+00004b60: 2020 2020 2020 2020 2020 2074 7970 653d             type=
+00004b70: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+00004b80: 2061 6374 696f 6e3d 2261 7070 656e 6422   action="append"
+00004b90: 2c0a 2020 2020 2020 2020 2020 2020 7265  ,.            re
+00004ba0: 7175 6972 6564 3d46 616c 7365 2c0a 2020  quired=False,.  
+00004bb0: 2020 2020 2020 2020 2020 6d65 7461 7661            metava
+00004bc0: 723d 223c 6d6f 6475 6c65 3e22 2c0a 2020  r="<module>",.  
+00004bd0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+00004be0: 723d 2241 4341 5059 5f50 4c55 4749 4e22  r="ACAPY_PLUGIN"
+00004bf0: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+00004c00: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+00004c10: 2020 2020 2022 4c6f 6164 203c 6d6f 6475       "Load <modu
+00004c20: 6c65 3e20 6173 2065 7874 6572 6e61 6c20  le> as external 
+00004c30: 706c 7567 696e 206d 6f64 756c 652e 204d  plugin module. M
+00004c40: 756c 7469 706c 6520 220a 2020 2020 2020  ultiple ".      
+00004c50: 2020 2020 2020 2020 2020 2269 6e73 7461            "insta
+00004c60: 6e63 6573 206f 6620 7468 6973 2070 6172  nces of this par
+00004c70: 616d 6574 6572 2063 616e 2062 6520 7370  ameter can be sp
+00004c80: 6563 6966 6965 642e 220a 2020 2020 2020  ecified.".      
+00004c90: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+00004ca0: 2029 0a0a 2020 2020 2020 2020 7061 7273   )..        pars
+00004cb0: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
+00004cc0: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
+00004cd0: 626c 6f63 6b2d 706c 7567 696e 222c 0a20  block-plugin",. 
+00004ce0: 2020 2020 2020 2020 2020 2064 6573 743d             dest=
+00004cf0: 2262 6c6f 636b 6564 5f70 6c75 6769 6e73  "blocked_plugins
+00004d00: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+00004d10: 7970 653d 7374 722c 0a20 2020 2020 2020  ype=str,.       
+00004d20: 2020 2020 2061 6374 696f 6e3d 2261 7070       action="app
+00004d30: 656e 6422 2c0a 2020 2020 2020 2020 2020  end",.          
+00004d40: 2020 7265 7175 6972 6564 3d46 616c 7365    required=False
+00004d50: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
+00004d60: 7461 7661 723d 223c 6d6f 6475 6c65 3e22  tavar="<module>"
+00004d70: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+00004d80: 765f 7661 723d 2241 4341 5059 5f42 4c4f  v_var="ACAPY_BLO
+00004d90: 434b 4544 5f50 4c55 4749 4e22 2c0a 2020  CKED_PLUGIN",.  
+00004da0: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+00004db0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00004dc0: 2022 426c 6f63 6b20 3c6d 6f64 756c 653e   "Block <module>
+00004dd0: 2070 6c75 6769 6e20 6d6f 6475 6c65 2066   plugin module f
+00004de0: 726f 6d20 6c6f 6164 696e 672e 204d 756c  rom loading. Mul
+00004df0: 7469 706c 6520 220a 2020 2020 2020 2020  tiple ".        
+00004e00: 2020 2020 2020 2020 2269 6e73 7461 6e63          "instanc
+00004e10: 6573 206f 6620 7468 6973 2070 6172 616d  es of this param
+00004e20: 6574 6572 2063 616e 2062 6520 7370 6563  eter can be spec
+00004e30: 6966 6965 642e 220a 2020 2020 2020 2020  ified.".        
+00004e40: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+00004e50: 0a0a 2020 2020 2020 2020 7061 7273 6572  ..        parser
+00004e60: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+00004e70: 2020 2020 2020 2020 2020 2022 2d2d 706c             "--pl
+00004e80: 7567 696e 2d63 6f6e 6669 6722 2c0a 2020  ugin-config",.  
+00004e90: 2020 2020 2020 2020 2020 6465 7374 3d22            dest="
+00004ea0: 706c 7567 696e 5f63 6f6e 6669 6722 2c0a  plugin_config",.
+00004eb0: 2020 2020 2020 2020 2020 2020 7479 7065              type
+00004ec0: 3d73 7472 2c0a 2020 2020 2020 2020 2020  =str,.          
+00004ed0: 2020 7265 7175 6972 6564 3d46 616c 7365    required=False
+00004ee0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+00004ef0: 765f 7661 723d 2241 4341 5059 5f50 4c55  v_var="ACAPY_PLU
+00004f00: 4749 4e5f 434f 4e46 4947 222c 0a20 2020  GIN_CONFIG",.   
+00004f10: 2020 2020 2020 2020 2068 656c 703d 224c           help="L
+00004f20: 6f61 6420 5941 4d4c 2066 696c 6520 7061  oad YAML file pa
+00004f30: 7468 2074 6861 7420 6465 6669 6e65 7320  th that defines 
+00004f40: 6578 7465 726e 616c 2070 6c75 6769 6e20  external plugin 
+00004f50: 636f 6e66 6967 7572 6174 696f 6e2e 222c  configuration.",
+00004f60: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
+00004f70: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
+00004f80: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
+00004f90: 2020 2020 2022 2d6f 222c 0a20 2020 2020       "-o",.     
+00004fa0: 2020 2020 2020 2022 2d2d 706c 7567 696e         "--plugin
+00004fb0: 2d63 6f6e 6669 672d 7661 6c75 6522 2c0a  -config-value",.
+00004fc0: 2020 2020 2020 2020 2020 2020 6465 7374              dest
+00004fd0: 3d22 706c 7567 696e 5f63 6f6e 6669 675f  ="plugin_config_
+00004fe0: 7661 6c75 6573 222c 0a20 2020 2020 2020  values",.       
+00004ff0: 2020 2020 2074 7970 653d 7374 722c 0a20       type=str,. 
+00005000: 2020 2020 2020 2020 2020 206e 6172 6773             nargs
+00005010: 3d22 2b22 2c0a 2020 2020 2020 2020 2020  ="+",.          
+00005020: 2020 6163 7469 6f6e 3d22 6170 7065 6e64    action="append
+00005030: 222c 0a20 2020 2020 2020 2020 2020 2072  ",.            r
+00005040: 6571 7569 7265 643d 4661 6c73 652c 0a20  equired=False,. 
+00005050: 2020 2020 2020 2020 2020 206d 6574 6176             metav
+00005060: 6172 3d22 3c4b 4559 3d56 414c 5545 3e22  ar="<KEY=VALUE>"
+00005070: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+00005080: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+00005090: 2020 2020 2022 5365 7420 616e 2061 7262       "Set an arb
+000050a0: 6974 7261 7279 2070 6c75 6769 6e20 636f  itrary plugin co
+000050b0: 6e66 6967 7572 6174 696f 6e20 6f70 7469  nfiguration opti
+000050c0: 6f6e 2069 6e20 7468 6520 666f 726d 6174  on in the format
+000050d0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+000050e0: 2020 2022 4b45 593d 5641 4c55 452e 2055     "KEY=VALUE. U
+000050f0: 7365 2064 6f74 7320 696e 204b 4559 2074  se dots in KEY t
+00005100: 6f20 7365 7420 6465 6570 6c79 206e 6573  o set deeply nes
+00005110: 7465 6420 7661 6c75 6573 2c20 6173 2069  ted values, as i
+00005120: 6e20 220a 2020 2020 2020 2020 2020 2020  n ".            
+00005130: 2020 2020 2722 612e 622e 633d 7661 6c75      '"a.b.c=valu
+00005140: 6522 2e20 5641 4c55 4520 6973 2070 6172  e". VALUE is par
+00005150: 7365 6420 6173 2079 616d 6c2e 270a 2020  sed as yaml.'.  
+00005160: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+00005170: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+00005180: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+00005190: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+000051a0: 2022 2d2d 7374 6f72 6167 652d 7479 7065   "--storage-type
+000051b0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+000051c0: 7970 653d 7374 722c 0a20 2020 2020 2020  ype=str,.       
+000051d0: 2020 2020 206d 6574 6176 6172 3d22 3c73       metavar="<s
+000051e0: 746f 7261 6765 2d74 7970 653e 222c 0a20  torage-type>",. 
+000051f0: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+00005200: 6172 3d22 4143 4150 595f 5354 4f52 4147  ar="ACAPY_STORAG
+00005210: 455f 5459 5045 222c 0a20 2020 2020 2020  E_TYPE",.       
+00005220: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
+00005230: 2020 2020 2020 2020 2020 2020 2253 7065              "Spe
+00005240: 6369 6669 6573 2074 6865 2074 7970 6520  cifies the type 
+00005250: 6f66 2073 746f 7261 6765 2070 726f 7669  of storage provi
+00005260: 6465 7220 746f 2075 7365 2066 6f72 2074  der to use for t
+00005270: 6865 2069 6e74 6572 6e61 6c20 220a 2020  he internal ".  
+00005280: 2020 2020 2020 2020 2020 2020 2020 2273                "s
+00005290: 746f 7261 6765 2065 6e67 696e 652e 2054  torage engine. T
+000052a0: 6869 7320 7374 6f72 6167 6520 696e 7465  his storage inte
+000052b0: 7266 6163 6520 6973 2075 7365 6420 746f  rface is used to
+000052c0: 2073 746f 7265 2069 6e74 6572 6e61 6c20   store internal 
+000052d0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+000052e0: 2020 2273 7461 7465 2020 5375 7070 6f72    "state  Suppor
+000052f0: 7465 6420 696e 7465 726e 616c 2073 746f  ted internal sto
+00005300: 7261 6765 2074 7970 6573 2061 7265 2027  rage types are '
+00005310: 6261 7369 6327 2028 6d65 6d6f 7279 2920  basic' (memory) 
+00005320: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00005330: 2020 2261 6e64 2027 696e 6479 272e 2020    "and 'indy'.  
+00005340: 5468 6520 6465 6661 756c 7420 2869 6620  The default (if 
+00005350: 6e6f 7420 7370 6563 6966 6965 6429 2069  not specified) i
+00005360: 7320 2769 6e64 7927 2069 6620 7468 6520  s 'indy' if the 
+00005370: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00005380: 2020 2277 616c 6c65 7420 7479 7065 2069    "wallet type i
+00005390: 7320 7365 7420 746f 2027 696e 6479 272c  s set to 'indy',
+000053a0: 206f 7468 6572 7769 7365 2027 6261 7369   otherwise 'basi
+000053b0: 6327 2e22 0a20 2020 2020 2020 2020 2020  c'.".           
+000053c0: 2029 2c0a 2020 2020 2020 2020 290a 2020   ),.        ).  
+000053d0: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+000053e0: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+000053f0: 2020 2020 2020 2022 2d65 222c 0a20 2020         "-e",.   
+00005400: 2020 2020 2020 2020 2022 2d2d 656e 6470           "--endp
+00005410: 6f69 6e74 222c 0a20 2020 2020 2020 2020  oint",.         
+00005420: 2020 2074 7970 653d 7374 722c 0a20 2020     type=str,.   
+00005430: 2020 2020 2020 2020 206e 6172 6773 3d22           nargs="
+00005440: 2b22 2c0a 2020 2020 2020 2020 2020 2020  +",.            
+00005450: 6d65 7461 7661 723d 223c 656e 6470 6f69  metavar="<endpoi
+00005460: 6e74 3e22 2c0a 2020 2020 2020 2020 2020  nt>",.          
+00005470: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
+00005480: 5f45 4e44 504f 494e 5422 2c0a 2020 2020  _ENDPOINT",.    
+00005490: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
+000054a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000054b0: 5370 6563 6966 6965 7320 7468 6520 656e  Specifies the en
+000054c0: 6470 6f69 6e74 7320 746f 2070 7574 2069  dpoints to put i
+000054d0: 6e74 6f20 4449 4444 6f63 7320 220a 2020  nto DIDDocs ".  
+000054e0: 2020 2020 2020 2020 2020 2020 2020 2274                "t
+000054f0: 6f20 696e 666f 726d 206f 7468 6572 2061  o inform other a
+00005500: 6765 6e74 7320 6f66 2077 6865 7265 2074  gents of where t
+00005510: 6865 7920 7368 6f75 6c64 2073 656e 6420  hey should send 
+00005520: 6d65 7373 6167 6573 2064 6573 7469 6e65  messages destine
+00005530: 6420 220a 2020 2020 2020 2020 2020 2020  d ".            
+00005540: 2020 2020 2266 6f72 2074 6869 7320 6167      "for this ag
+00005550: 656e 742e 2045 6163 6820 656e 6470 6f69  ent. Each endpoi
+00005560: 6e74 2063 6f75 6c64 2062 6520 6f6e 6520  nt could be one 
+00005570: 6f66 2074 6865 2073 7065 6369 6669 6564  of the specified
+00005580: 2069 6e62 6f75 6e64 2022 0a20 2020 2020   inbound ".     
+00005590: 2020 2020 2020 2020 2020 2022 7472 616e             "tran
+000055a0: 7370 6f72 7473 2066 6f72 2074 6869 7320  sports for this 
+000055b0: 6167 656e 742c 206f 7220 7468 6520 656e  agent, or the en
+000055c0: 6470 6f69 6e74 2063 6f75 6c64 2062 6520  dpoint could be 
+000055d0: 7468 6174 206f 6620 220a 2020 2020 2020  that of ".      
+000055e0: 2020 2020 2020 2020 2020 2261 6e6f 7468            "anoth
+000055f0: 6572 2061 6765 6e74 2028 652e 672e 2027  er agent (e.g. '
+00005600: 6874 7470 733a 2f2f 6578 616d 706c 652e  https://example.
+00005610: 636f 6d2f 6167 656e 742d 656e 6470 6f69  com/agent-endpoi
+00005620: 6e74 2729 2069 6620 7468 6520 220a 2020  nt') if the ".  
+00005630: 2020 2020 2020 2020 2020 2020 2020 2272                "r
+00005640: 6f75 7469 6e67 206f 6620 6d65 7373 6167  outing of messag
+00005650: 6573 2074 6f20 7468 6973 2061 6765 6e74  es to this agent
+00005660: 2062 7920 6120 6d65 6469 6174 6f72 2069   by a mediator i
+00005670: 7320 636f 6e66 6967 7572 6564 2e20 220a  s configured. ".
+00005680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005690: 2254 6865 2066 6972 7374 2065 6e64 706f  "The first endpo
+000056a0: 696e 7420 7370 6563 6966 6965 6420 7769  int specified wi
+000056b0: 6c6c 2062 6520 7573 6564 2069 6e20 696e  ll be used in in
+000056c0: 7669 7461 7469 6f6e 732e 2022 0a20 2020  vitations. ".   
+000056d0: 2020 2020 2020 2020 2020 2020 2022 5468               "Th
+000056e0: 6520 656e 6470 6f69 6e74 7320 6172 6520  e endpoints are 
+000056f0: 7573 6564 2069 6e20 7468 6520 666f 726d  used in the form
+00005700: 6174 696f 6e20 6f66 2061 2063 6f6e 6e65  ation of a conne
+00005710: 6374 696f 6e20 220a 2020 2020 2020 2020  ction ".        
+00005720: 2020 2020 2020 2020 2277 6974 6820 616e          "with an
+00005730: 6f74 6865 7220 6167 656e 742e 220a 2020  other agent.".  
+00005740: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+00005750: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00005760: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00005770: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00005780: 222d 2d70 726f 6669 6c65 2d65 6e64 706f  "--profile-endpo
+00005790: 696e 7422 2c0a 2020 2020 2020 2020 2020  int",.          
+000057a0: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+000057b0: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+000057c0: 223c 7072 6f66 696c 655f 656e 6470 6f69  "<profile_endpoi
+000057d0: 6e74 3e22 2c0a 2020 2020 2020 2020 2020  nt>",.          
+000057e0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
+000057f0: 5f50 524f 4649 4c45 5f45 4e44 504f 494e  _PROFILE_ENDPOIN
+00005800: 5422 2c0a 2020 2020 2020 2020 2020 2020  T",.            
+00005810: 6865 6c70 3d22 5370 6563 6966 6965 7320  help="Specifies 
+00005820: 7468 6520 7072 6f66 696c 6520 656e 6470  the profile endp
+00005830: 6f69 6e74 2066 6f72 2074 6865 2028 7075  oint for the (pu
+00005840: 626c 6963 2920 4449 442e 222c 0a20 2020  blic) DID.",.   
+00005850: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00005860: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00005870: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00005880: 222d 2d72 6561 642d 6f6e 6c79 2d6c 6564  "--read-only-led
+00005890: 6765 7222 2c0a 2020 2020 2020 2020 2020  ger",.          
+000058a0: 2020 6163 7469 6f6e 3d22 7374 6f72 655f    action="store_
+000058b0: 7472 7565 222c 0a20 2020 2020 2020 2020  true",.         
+000058c0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
+000058d0: 595f 5245 4144 5f4f 4e4c 595f 4c45 4447  Y_READ_ONLY_LEDG
+000058e0: 4552 222c 0a20 2020 2020 2020 2020 2020  ER",.           
+000058f0: 2068 656c 703d 2253 6574 7320 6c65 6467   help="Sets ledg
+00005900: 6572 2074 6f20 7265 6164 2d6f 6e6c 7920  er to read-only 
+00005910: 746f 2070 7265 7665 6e74 2075 7064 6174  to prevent updat
+00005920: 6573 2e20 4465 6661 756c 743a 2066 616c  es. Default: fal
+00005930: 7365 2e22 2c0a 2020 2020 2020 2020 290a  se.",.        ).
+00005940: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
+00005950: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
+00005960: 2020 2020 2020 2020 2022 2d2d 756e 6976           "--univ
+00005970: 6572 7361 6c2d 7265 736f 6c76 6572 222c  ersal-resolver",
+00005980: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
+00005990: 653d 7374 722c 0a20 2020 2020 2020 2020  e=str,.         
+000059a0: 2020 206e 6172 6773 3d22 3f22 2c0a 2020     nargs="?",.  
+000059b0: 2020 2020 2020 2020 2020 6d65 7461 7661            metava
+000059c0: 723d 223c 756e 6976 6572 7361 6c5f 7265  r="<universal_re
+000059d0: 736f 6c76 6572 5f65 6e64 706f 696e 743e  solver_endpoint>
+000059e0: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+000059f0: 6e76 5f76 6172 3d22 4143 4150 595f 554e  nv_var="ACAPY_UN
+00005a00: 4956 4552 5341 4c5f 5245 534f 4c56 4552  IVERSAL_RESOLVER
+00005a10: 222c 0a20 2020 2020 2020 2020 2020 2063  ",.            c
+00005a20: 6f6e 7374 3d22 4445 4641 554c 5422 2c0a  onst="DEFAULT",.
+00005a30: 2020 2020 2020 2020 2020 2020 6865 6c70              help
+00005a40: 3d22 456e 6162 6c65 2072 6573 6f6c 7574  ="Enable resolut
+00005a50: 696f 6e20 6672 6f6d 2061 2075 6e69 7665  ion from a unive
+00005a60: 7273 616c 2072 6573 6f6c 7665 722e 222c  rsal resolver.",
+00005a70: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00005a80: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+00005a90: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+00005aa0: 2020 2020 222d 2d75 6e69 7665 7273 616c      "--universal
+00005ab0: 2d72 6573 6f6c 7665 722d 7265 6765 7822  -resolver-regex"
+00005ac0: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
+00005ad0: 7065 3d73 7472 2c0a 2020 2020 2020 2020  pe=str,.        
+00005ae0: 2020 2020 6e61 7267 733d 222b 222c 0a20      nargs="+",. 
+00005af0: 2020 2020 2020 2020 2020 206d 6574 6176             metav
+00005b00: 6172 3d22 3c64 6964 5f72 6567 6578 3e22  ar="<did_regex>"
+00005b10: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+00005b20: 765f 7661 723d 2241 4341 5059 5f55 4e49  v_var="ACAPY_UNI
+00005b30: 5645 5253 414c 5f52 4553 4f4c 5645 525f  VERSAL_RESOLVER_
+00005b40: 5245 4745 5822 2c0a 2020 2020 2020 2020  REGEX",.        
+00005b50: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
+00005b60: 2020 2020 2020 2020 2020 2022 5265 6765             "Rege
+00005b70: 7820 6d61 7463 6869 6e67 2044 4944 7320  x matching DIDs 
+00005b80: 746f 2072 6573 6f6c 7665 2075 7369 6e67  to resolve using
+00005b90: 2074 6865 2075 6e76 6572 7361 6c20 7265   the unversal re
+00005ba0: 736f 6c76 6572 2e20 220a 2020 2020 2020  solver. ".      
+00005bb0: 2020 2020 2020 2020 2020 224d 756c 7469            "Multi
+00005bc0: 706c 6520 6361 6e20 6265 2073 7065 6369  ple can be speci
+00005bd0: 6669 6564 2e20 220a 2020 2020 2020 2020  fied. ".        
+00005be0: 2020 2020 2020 2020 2244 6566 6175 6c74          "Default
+00005bf0: 7320 746f 2061 2072 6567 6578 206d 6174  s to a regex mat
+00005c00: 6368 696e 6720 616c 6c20 4449 4473 2072  ching all DIDs r
+00005c10: 6573 6f6c 7661 626c 6520 6279 2075 6e69  esolvable by uni
+00005c20: 7665 7273 616c 2022 0a20 2020 2020 2020  versal ".       
+00005c30: 2020 2020 2020 2020 2022 7265 736f 6c76           "resolv
+00005c40: 6572 2069 6e73 7461 6e63 652e 220a 2020  er instance.".  
+00005c50: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+00005c60: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00005c70: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00005c80: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00005c90: 222d 2d75 6e69 7665 7273 616c 2d72 6573  "--universal-res
+00005ca0: 6f6c 7665 722d 6265 6172 6572 2d74 6f6b  olver-bearer-tok
+00005cb0: 656e 222c 0a20 2020 2020 2020 2020 2020  en",.           
+00005cc0: 2074 7970 653d 7374 722c 0a20 2020 2020   type=str,.     
+00005cd0: 2020 2020 2020 206e 6172 6773 3d22 3f22         nargs="?"
+00005ce0: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
+00005cf0: 7461 7661 723d 223c 756e 6976 6572 7361  tavar="<universa
+00005d00: 6c5f 7265 736f 6c76 6572 5f74 6f6b 656e  l_resolver_token
+00005d10: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
+00005d20: 656e 765f 7661 723d 2241 4341 5059 5f55  env_var="ACAPY_U
+00005d30: 4e49 5645 5253 414c 5f52 4553 4f4c 5645  NIVERSAL_RESOLVE
+00005d40: 525f 4245 4152 4552 5f54 4f4b 454e 222c  R_BEARER_TOKEN",
+00005d50: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+00005d60: 703d 2242 6561 7265 7220 746f 6b65 6e20  p="Bearer token 
+00005d70: 6966 2075 6e69 7665 7273 616c 2072 6573  if universal res
+00005d80: 6f6c 7665 7220 696e 7374 616e 6365 2072  olver instance r
+00005d90: 6571 7569 7265 7320 6175 7468 656e 7469  equires authenti
+00005da0: 6361 7469 6f6e 2e22 2c0a 2020 2020 2020  cation.",.      
+00005db0: 2020 292c 0a0a 2020 2020 6465 6620 6765    ),..    def ge
+00005dc0: 745f 7365 7474 696e 6773 2873 656c 662c  t_settings(self,
+00005dd0: 2061 7267 733a 204e 616d 6573 7061 6365   args: Namespace
+00005de0: 2920 2d3e 2064 6963 743a 0a20 2020 2020  ) -> dict:.     
+00005df0: 2020 2022 2222 4578 7472 6163 7420 6765     """Extract ge
+00005e00: 6e65 7261 6c20 7365 7474 696e 6773 2e22  neral settings."
+00005e10: 2222 0a20 2020 2020 2020 2073 6574 7469  "".        setti
+00005e20: 6e67 7320 3d20 7b7d 0a20 2020 2020 2020  ngs = {}.       
+00005e30: 2069 6620 6172 6773 2e65 7874 6572 6e61   if args.externa
+00005e40: 6c5f 706c 7567 696e 733a 0a20 2020 2020  l_plugins:.     
+00005e50: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+00005e60: 2265 7874 6572 6e61 6c5f 706c 7567 696e  "external_plugin
+00005e70: 7322 5d20 3d20 6172 6773 2e65 7874 6572  s"] = args.exter
+00005e80: 6e61 6c5f 706c 7567 696e 730a 0a20 2020  nal_plugins..   
+00005e90: 2020 2020 2069 6620 6172 6773 2e62 6c6f       if args.blo
+00005ea0: 636b 6564 5f70 6c75 6769 6e73 3a0a 2020  cked_plugins:.  
+00005eb0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+00005ec0: 6773 5b22 626c 6f63 6b65 645f 706c 7567  gs["blocked_plug
+00005ed0: 696e 7322 5d20 3d20 6172 6773 2e62 6c6f  ins"] = args.blo
+00005ee0: 636b 6564 5f70 6c75 6769 6e73 0a0a 2020  cked_plugins..  
+00005ef0: 2020 2020 2020 6966 2061 7267 732e 706c        if args.pl
+00005f00: 7567 696e 5f63 6f6e 6669 673a 0a20 2020  ugin_config:.   
+00005f10: 2020 2020 2020 2020 2077 6974 6820 6f70           with op
+00005f20: 656e 2861 7267 732e 706c 7567 696e 5f63  en(args.plugin_c
+00005f30: 6f6e 6669 672c 2022 7222 2920 6173 2073  onfig, "r") as s
+00005f40: 7472 6561 6d3a 0a20 2020 2020 2020 2020  tream:.         
+00005f50: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+00005f60: 504c 5547 494e 5f43 4f4e 4649 475f 4b45  PLUGIN_CONFIG_KE
+00005f70: 595d 203d 2079 616d 6c2e 7361 6665 5f6c  Y] = yaml.safe_l
+00005f80: 6f61 6428 7374 7265 616d 290a 0a20 2020  oad(stream)..   
+00005f90: 2020 2020 2069 6620 6172 6773 2e70 6c75       if args.plu
+00005fa0: 6769 6e5f 636f 6e66 6967 5f76 616c 7565  gin_config_value
+00005fb0: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+00005fc0: 6620 504c 5547 494e 5f43 4f4e 4649 475f  f PLUGIN_CONFIG_
+00005fd0: 4b45 5920 6e6f 7420 696e 2073 6574 7469  KEY not in setti
+00005fe0: 6e67 733a 0a20 2020 2020 2020 2020 2020  ngs:.           
+00005ff0: 2020 2020 2073 6574 7469 6e67 735b 504c       settings[PL
+00006000: 5547 494e 5f43 4f4e 4649 475f 4b45 595d  UGIN_CONFIG_KEY]
+00006010: 203d 207b 7d0a 0a20 2020 2020 2020 2020   = {}..         
+00006020: 2020 2066 6f72 2076 616c 7565 5f73 7472     for value_str
+00006030: 2069 6e20 6368 6169 6e28 2a61 7267 732e   in chain(*args.
+00006040: 706c 7567 696e 5f63 6f6e 6669 675f 7661  plugin_config_va
+00006050: 6c75 6573 293a 0a20 2020 2020 2020 2020  lues):.         
+00006060: 2020 2020 2020 206b 6579 2c20 7661 6c75         key, valu
+00006070: 6520 3d20 7661 6c75 655f 7374 722e 7370  e = value_str.sp
+00006080: 6c69 7428 223d 222c 206d 6178 7370 6c69  lit("=", maxspli
+00006090: 743d 3129 0a20 2020 2020 2020 2020 2020  t=1).           
+000060a0: 2020 2020 2076 616c 7565 203d 2079 616d       value = yam
+000060b0: 6c2e 7361 6665 5f6c 6f61 6428 7661 6c75  l.safe_load(valu
+000060c0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+000060d0: 2020 2064 6565 706d 6572 6765 2e61 6c77     deepmerge.alw
+000060e0: 6179 735f 6d65 7267 6572 2e6d 6572 6765  ays_merger.merge
+000060f0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00006100: 2020 2020 2020 7365 7474 696e 6773 5b50        settings[P
+00006110: 4c55 4749 4e5f 434f 4e46 4947 5f4b 4559  LUGIN_CONFIG_KEY
+00006120: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00006130: 2020 2020 2020 2072 6564 7563 6528 6c61         reduce(la
+00006140: 6d62 6461 2076 2c20 6b3a 207b 6b3a 2076  mbda v, k: {k: v
+00006150: 7d2c 206b 6579 2e73 706c 6974 2822 2e22  }, key.split("."
+00006160: 295b 3a3a 2d31 5d2c 2076 616c 7565 292c  )[::-1], value),
+00006170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00006180: 2029 0a0a 2020 2020 2020 2020 6966 2061   )..        if a
+00006190: 7267 732e 7374 6f72 6167 655f 7479 7065  rgs.storage_type
+000061a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000061b0: 7474 696e 6773 5b22 7374 6f72 6167 655f  ttings["storage_
+000061c0: 7479 7065 225d 203d 2061 7267 732e 7374  type"] = args.st
+000061d0: 6f72 6167 655f 7479 7065 0a0a 2020 2020  orage_type..    
+000061e0: 2020 2020 6966 2061 7267 732e 656e 6470      if args.endp
+000061f0: 6f69 6e74 3a0a 2020 2020 2020 2020 2020  oint:.          
+00006200: 2020 7365 7474 696e 6773 5b22 6465 6661    settings["defa
+00006210: 756c 745f 656e 6470 6f69 6e74 225d 203d  ult_endpoint"] =
+00006220: 2061 7267 732e 656e 6470 6f69 6e74 5b30   args.endpoint[0
+00006230: 5d0a 2020 2020 2020 2020 2020 2020 7365  ].            se
+00006240: 7474 696e 6773 5b22 6164 6469 7469 6f6e  ttings["addition
+00006250: 616c 5f65 6e64 706f 696e 7473 225d 203d  al_endpoints"] =
+00006260: 2061 7267 732e 656e 6470 6f69 6e74 5b31   args.endpoint[1
+00006270: 3a5d 0a20 2020 2020 2020 2065 6c73 653a  :].        else:
+00006280: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00006290: 7365 2041 7267 7350 6172 7365 4572 726f  se ArgsParseErro
+000062a0: 7228 222d 652f 2d2d 656e 6470 6f69 6e74  r("-e/--endpoint
+000062b0: 2069 7320 7265 7175 6972 6564 2229 0a20   is required"). 
+000062c0: 2020 2020 2020 2069 6620 6172 6773 2e70         if args.p
+000062d0: 726f 6669 6c65 5f65 6e64 706f 696e 743a  rofile_endpoint:
+000062e0: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
+000062f0: 7469 6e67 735b 2270 726f 6669 6c65 5f65  tings["profile_e
+00006300: 6e64 706f 696e 7422 5d20 3d20 6172 6773  ndpoint"] = args
+00006310: 2e70 726f 6669 6c65 5f65 6e64 706f 696e  .profile_endpoin
+00006320: 740a 0a20 2020 2020 2020 2069 6620 6172  t..        if ar
+00006330: 6773 2e72 6561 645f 6f6e 6c79 5f6c 6564  gs.read_only_led
+00006340: 6765 723a 0a20 2020 2020 2020 2020 2020  ger:.           
+00006350: 2073 6574 7469 6e67 735b 2272 6561 645f   settings["read_
+00006360: 6f6e 6c79 5f6c 6564 6765 7222 5d20 3d20  only_ledger"] = 
+00006370: 5472 7565 0a0a 2020 2020 2020 2020 6966  True..        if
+00006380: 2061 7267 732e 756e 6976 6572 7361 6c5f   args.universal_
+00006390: 7265 736f 6c76 6572 5f72 6567 6578 2061  resolver_regex a
+000063a0: 6e64 206e 6f74 2061 7267 732e 756e 6976  nd not args.univ
+000063b0: 6572 7361 6c5f 7265 736f 6c76 6572 3a0a  ersal_resolver:.
+000063c0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000063d0: 6520 4172 6773 5061 7273 6545 7272 6f72  e ArgsParseError
+000063e0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000063f0: 2020 222d 2d75 6e69 7665 7273 616c 2d72    "--universal-r
+00006400: 6573 6f6c 7665 722d 7265 6765 7820 6361  esolver-regex ca
+00006410: 6e6e 6f74 2062 6520 7573 6564 2077 6974  nnot be used wit
+00006420: 686f 7574 202d 2d75 6e69 7665 7273 616c  hout --universal
+00006430: 2d72 6573 6f6c 7665 7222 0a20 2020 2020  -resolver".     
+00006440: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00006450: 2020 6966 2061 7267 732e 756e 6976 6572    if args.univer
+00006460: 7361 6c5f 7265 736f 6c76 6572 5f62 6561  sal_resolver_bea
+00006470: 7265 725f 746f 6b65 6e20 616e 6420 6e6f  rer_token and no
+00006480: 7420 6172 6773 2e75 6e69 7665 7273 616c  t args.universal
+00006490: 5f72 6573 6f6c 7665 723a 0a20 2020 2020  _resolver:.     
+000064a0: 2020 2020 2020 2072 6169 7365 2041 7267         raise Arg
+000064b0: 7350 6172 7365 4572 726f 7228 0a20 2020  sParseError(.   
+000064c0: 2020 2020 2020 2020 2020 2020 2022 2d2d               "--
+000064d0: 756e 6976 6572 7361 6c2d 7265 736f 6c76  universal-resolv
+000064e0: 6572 2d62 6561 7265 722d 746f 6b65 6e20  er-bearer-token 
+000064f0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00006500: 2020 2b20 2263 616e 6e6f 7420 6265 2075    + "cannot be u
+00006510: 7365 6420 7769 7468 6f75 7420 2d2d 756e  sed without --un
+00006520: 6976 6572 7361 6c2d 7265 736f 6c76 6572  iversal-resolver
+00006530: 220a 2020 2020 2020 2020 2020 2020 290a  ".            ).
+00006540: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+00006550: 2e75 6e69 7665 7273 616c 5f72 6573 6f6c  .universal_resol
+00006560: 7665 723a 0a20 2020 2020 2020 2020 2020  ver:.           
+00006570: 2073 6574 7469 6e67 735b 2272 6573 6f6c   settings["resol
+00006580: 7665 722e 756e 6976 6572 7361 6c22 5d20  ver.universal"] 
+00006590: 3d20 6172 6773 2e75 6e69 7665 7273 616c  = args.universal
+000065a0: 5f72 6573 6f6c 7665 720a 0a20 2020 2020  _resolver..     
+000065b0: 2020 2069 6620 6172 6773 2e75 6e69 7665     if args.unive
+000065c0: 7273 616c 5f72 6573 6f6c 7665 725f 7265  rsal_resolver_re
+000065d0: 6765 783a 0a20 2020 2020 2020 2020 2020  gex:.           
+000065e0: 2073 6574 7469 6e67 735b 2272 6573 6f6c   settings["resol
+000065f0: 7665 722e 756e 6976 6572 7361 6c2e 7375  ver.universal.su
+00006600: 7070 6f72 7465 6422 5d20 3d20 6172 6773  pported"] = args
+00006610: 2e75 6e69 7665 7273 616c 5f72 6573 6f6c  .universal_resol
+00006620: 7665 725f 7265 6765 780a 0a20 2020 2020  ver_regex..     
+00006630: 2020 2069 6620 6172 6773 2e75 6e69 7665     if args.unive
+00006640: 7273 616c 5f72 6573 6f6c 7665 725f 6265  rsal_resolver_be
+00006650: 6172 6572 5f74 6f6b 656e 3a0a 2020 2020  arer_token:.    
+00006660: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+00006670: 5b22 7265 736f 6c76 6572 2e75 6e69 7665  ["resolver.unive
+00006680: 7273 616c 2e74 6f6b 656e 225d 203d 2061  rsal.token"] = a
+00006690: 7267 732e 756e 6976 6572 7361 6c5f 7265  rgs.universal_re
+000066a0: 736f 6c76 6572 5f62 6561 7265 725f 746f  solver_bearer_to
+000066b0: 6b65 6e0a 0a20 2020 2020 2020 2072 6574  ken..        ret
+000066c0: 7572 6e20 7365 7474 696e 6773 0a0a 0a40  urn settings...@
+000066d0: 6772 6f75 7028 4341 545f 5354 4152 542c  group(CAT_START,
+000066e0: 2043 4154 5f50 524f 5649 5349 4f4e 290a   CAT_PROVISION).
+000066f0: 636c 6173 7320 5265 766f 6361 7469 6f6e  class Revocation
+00006700: 4772 6f75 7028 4172 6775 6d65 6e74 4772  Group(ArgumentGr
+00006710: 6f75 7029 3a0a 2020 2020 2222 2252 6576  oup):.    """Rev
+00006720: 6f63 6174 696f 6e20 7365 7474 696e 6773  ocation settings
+00006730: 2e22 2222 0a0a 2020 2020 4752 4f55 505f  ."""..    GROUP_
+00006740: 4e41 4d45 203d 2022 5265 766f 6361 7469  NAME = "Revocati
+00006750: 6f6e 220a 0a20 2020 2064 6566 2061 6464  on"..    def add
+00006760: 5f61 7267 756d 656e 7473 2873 656c 662c  _arguments(self,
+00006770: 2070 6172 7365 723a 2041 7267 756d 656e   parser: Argumen
+00006780: 7450 6172 7365 7229 3a0a 2020 2020 2020  tParser):.      
+00006790: 2020 2222 2241 6464 2072 6576 6f63 6174    """Add revocat
+000067a0: 696f 6e20 6172 6775 6d65 6e74 7320 746f  ion arguments to
+000067b0: 2074 6865 2070 6172 7365 722e 2222 220a   the parser.""".
+000067c0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
+000067d0: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
+000067e0: 2020 2020 2020 2020 2022 2d2d 7461 696c           "--tail
+000067f0: 732d 7365 7276 6572 2d62 6173 652d 7572  s-server-base-ur
+00006800: 6c22 2c0a 2020 2020 2020 2020 2020 2020  l",.            
+00006810: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
+00006820: 2020 2020 2020 6d65 7461 7661 723d 223c        metavar="<
+00006830: 7461 696c 732d 7365 7276 6572 2d62 6173  tails-server-bas
+00006840: 652d 7572 6c3e 222c 0a20 2020 2020 2020  e-url>",.       
+00006850: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
+00006860: 4150 595f 5441 494c 535f 5345 5256 4552  APY_TAILS_SERVER
+00006870: 5f42 4153 455f 5552 4c22 2c0a 2020 2020  _BASE_URL",.    
+00006880: 2020 2020 2020 2020 6865 6c70 3d22 5365          help="Se
+00006890: 7473 2074 6865 2062 6173 6520 7572 6c20  ts the base url 
+000068a0: 6f66 2074 6865 2074 6169 6c73 2073 6572  of the tails ser
+000068b0: 7665 7220 696e 2075 7365 2e22 2c0a 2020  ver in use.",.  
+000068c0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+000068d0: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+000068e0: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+000068f0: 2022 2d2d 7461 696c 732d 7365 7276 6572   "--tails-server
+00006900: 2d75 706c 6f61 642d 7572 6c22 2c0a 2020  -upload-url",.  
+00006910: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
+00006920: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
+00006930: 6d65 7461 7661 723d 223c 7461 696c 732d  metavar="<tails-
+00006940: 7365 7276 6572 2d75 706c 6f61 642d 7572  server-upload-ur
+00006950: 6c3e 222c 0a20 2020 2020 2020 2020 2020  l>",.           
+00006960: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
+00006970: 5441 494c 535f 5345 5256 4552 5f55 504c  TAILS_SERVER_UPL
+00006980: 4f41 445f 5552 4c22 2c0a 2020 2020 2020  OAD_URL",.      
+00006990: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
+000069a0: 2020 2020 2020 2020 2020 2020 2022 5365               "Se
+000069b0: 7473 2074 6865 2062 6173 6520 7572 6c20  ts the base url 
+000069c0: 6f66 2074 6865 2074 6169 6c73 2073 6572  of the tails ser
+000069d0: 7665 7220 666f 7220 7570 6c6f 6164 2c20  ver for upload, 
+000069e0: 6465 6661 756c 7469 6e67 2074 6f20 7468  defaulting to th
+000069f0: 6520 220a 2020 2020 2020 2020 2020 2020  e ".            
+00006a00: 2020 2020 2274 6169 6c73 2073 6572 7665      "tails serve
+00006a10: 7220 6261 7365 2075 726c 2e22 0a20 2020  r base url.".   
+00006a20: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
+00006a30: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
+00006a40: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
+00006a50: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
+00006a60: 2d2d 6e6f 7469 6679 2d72 6576 6f63 6174  --notify-revocat
+00006a70: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
+00006a80: 2020 6163 7469 6f6e 3d22 7374 6f72 655f    action="store_
+00006a90: 7472 7565 222c 0a20 2020 2020 2020 2020  true",.         
+00006aa0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
+00006ab0: 595f 4e4f 5449 4659 5f52 4556 4f43 4154  Y_NOTIFY_REVOCAT
+00006ac0: 494f 4e22 2c0a 2020 2020 2020 2020 2020  ION",.          
+00006ad0: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
+00006ae0: 2020 2020 2020 2020 2022 5370 6563 6966           "Specif
+00006af0: 6965 7320 7468 6174 2061 6361 2d70 7920  ies that aca-py 
+00006b00: 7769 6c6c 206e 6f74 6966 7920 6372 6564  will notify cred
+00006b10: 656e 7469 616c 2072 6563 6970 6965 6e74  ential recipient
+00006b20: 7320 7768 656e 2022 0a20 2020 2020 2020  s when ".       
+00006b30: 2020 2020 2020 2020 2022 7265 766f 6b69           "revoki
+00006b40: 6e67 2061 2063 7265 6465 6e74 6961 6c20  ng a credential 
+00006b50: 6974 2069 7373 7565 642e 220a 2020 2020  it issued.".    
+00006b60: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+00006b70: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+00006b80: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+00006b90: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+00006ba0: 2d6d 6f6e 6974 6f72 2d72 6576 6f63 6174  -monitor-revocat
+00006bb0: 696f 6e2d 6e6f 7469 6669 6361 7469 6f6e  ion-notification
+00006bc0: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
+00006bd0: 6374 696f 6e3d 2273 746f 7265 5f74 7275  ction="store_tru
+00006be0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+00006bf0: 656e 765f 7661 723d 2241 4341 5059 5f4d  env_var="ACAPY_M
+00006c00: 4f4e 4954 4f52 5f52 4556 4f43 4154 494f  ONITOR_REVOCATIO
+00006c10: 4e5f 4e4f 5449 4649 4341 5449 4f4e 222c  N_NOTIFICATION",
+00006c20: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+00006c30: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+00006c40: 2020 2020 2253 7065 6369 6669 6573 2074      "Specifies t
+00006c50: 6861 7420 6163 612d 7079 2077 696c 6c20  hat aca-py will 
+00006c60: 656d 6974 2077 6562 686f 6f6b 7320 6f6e  emit webhooks on
+00006c70: 206e 6f74 6966 6963 6174 696f 6e20 6f66   notification of
+00006c80: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+00006c90: 2020 2022 7265 766f 6361 7469 6f6e 2072     "revocation r
+00006ca0: 6563 6569 7665 642e 220a 2020 2020 2020  eceived.".      
+00006cb0: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+00006cc0: 2029 0a0a 2020 2020 6465 6620 6765 745f   )..    def get_
+00006cd0: 7365 7474 696e 6773 2873 656c 662c 2061  settings(self, a
+00006ce0: 7267 733a 204e 616d 6573 7061 6365 2920  rgs: Namespace) 
+00006cf0: 2d3e 2064 6963 743a 0a20 2020 2020 2020  -> dict:.       
+00006d00: 2022 2222 4578 7472 6163 7420 7265 766f   """Extract revo
+00006d10: 6361 7469 6f6e 2073 6574 7469 6e67 732e  cation settings.
+00006d20: 2222 220a 2020 2020 2020 2020 7365 7474  """.        sett
+00006d30: 696e 6773 203d 207b 7d0a 2020 2020 2020  ings = {}.      
+00006d40: 2020 6966 2061 7267 732e 7461 696c 735f    if args.tails_
+00006d50: 7365 7276 6572 5f62 6173 655f 7572 6c3a  server_base_url:
+00006d60: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
+00006d70: 7469 6e67 735b 2274 6169 6c73 5f73 6572  tings["tails_ser
+00006d80: 7665 725f 6261 7365 5f75 726c 225d 203d  ver_base_url"] =
+00006d90: 2061 7267 732e 7461 696c 735f 7365 7276   args.tails_serv
+00006da0: 6572 5f62 6173 655f 7572 6c0a 2020 2020  er_base_url.    
+00006db0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+00006dc0: 5b22 7461 696c 735f 7365 7276 6572 5f75  ["tails_server_u
+00006dd0: 706c 6f61 645f 7572 6c22 5d20 3d20 6172  pload_url"] = ar
+00006de0: 6773 2e74 6169 6c73 5f73 6572 7665 725f  gs.tails_server_
+00006df0: 6261 7365 5f75 726c 0a20 2020 2020 2020  base_url.       
+00006e00: 2069 6620 6172 6773 2e74 6169 6c73 5f73   if args.tails_s
+00006e10: 6572 7665 725f 7570 6c6f 6164 5f75 726c  erver_upload_url
+00006e20: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00006e30: 7474 696e 6773 5b22 7461 696c 735f 7365  ttings["tails_se
+00006e40: 7276 6572 5f75 706c 6f61 645f 7572 6c22  rver_upload_url"
+00006e50: 5d20 3d20 6172 6773 2e74 6169 6c73 5f73  ] = args.tails_s
+00006e60: 6572 7665 725f 7570 6c6f 6164 5f75 726c  erver_upload_url
+00006e70: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+00006e80: 2e6e 6f74 6966 795f 7265 766f 6361 7469  .notify_revocati
+00006e90: 6f6e 3a0a 2020 2020 2020 2020 2020 2020  on:.            
+00006ea0: 7365 7474 696e 6773 5b22 7265 766f 6361  settings["revoca
+00006eb0: 7469 6f6e 2e6e 6f74 6966 7922 5d20 3d20  tion.notify"] = 
+00006ec0: 6172 6773 2e6e 6f74 6966 795f 7265 766f  args.notify_revo
+00006ed0: 6361 7469 6f6e 0a20 2020 2020 2020 2069  cation.        i
+00006ee0: 6620 6172 6773 2e6d 6f6e 6974 6f72 5f72  f args.monitor_r
+00006ef0: 6576 6f63 6174 696f 6e5f 6e6f 7469 6669  evocation_notifi
+00006f00: 6361 7469 6f6e 3a0a 2020 2020 2020 2020  cation:.        
+00006f10: 2020 2020 7365 7474 696e 6773 5b0a 2020      settings[.  
+00006f20: 2020 2020 2020 2020 2020 2020 2020 2272                "r
+00006f30: 6576 6f63 6174 696f 6e2e 6d6f 6e69 746f  evocation.monito
+00006f40: 725f 6e6f 7469 6669 6361 7469 6f6e 220a  r_notification".
+00006f50: 2020 2020 2020 2020 2020 2020 5d20 3d20              ] = 
+00006f60: 6172 6773 2e6d 6f6e 6974 6f72 5f72 6576  args.monitor_rev
+00006f70: 6f63 6174 696f 6e5f 6e6f 7469 6669 6361  ocation_notifica
+00006f80: 7469 6f6e 0a20 2020 2020 2020 2072 6574  tion.        ret
+00006f90: 7572 6e20 7365 7474 696e 6773 0a0a 0a40  urn settings...@
+00006fa0: 6772 6f75 7028 4341 545f 5354 4152 542c  group(CAT_START,
+00006fb0: 2043 4154 5f50 524f 5649 5349 4f4e 290a   CAT_PROVISION).
+00006fc0: 636c 6173 7320 4c65 6467 6572 4772 6f75  class LedgerGrou
+00006fd0: 7028 4172 6775 6d65 6e74 4772 6f75 7029  p(ArgumentGroup)
+00006fe0: 3a0a 2020 2020 2222 224c 6564 6765 7220  :.    """Ledger 
+00006ff0: 7365 7474 696e 6773 2e22 2222 0a0a 2020  settings."""..  
+00007000: 2020 4752 4f55 505f 4e41 4d45 203d 2022    GROUP_NAME = "
+00007010: 4c65 6467 6572 220a 0a20 2020 2064 6566  Ledger"..    def
+00007020: 2061 6464 5f61 7267 756d 656e 7473 2873   add_arguments(s
+00007030: 656c 662c 2070 6172 7365 723a 2041 7267  elf, parser: Arg
+00007040: 756d 656e 7450 6172 7365 7229 3a0a 2020  umentParser):.  
+00007050: 2020 2020 2020 2222 2241 6464 206c 6564        """Add led
+00007060: 6765 722d 7370 6563 6966 6963 2063 6f6d  ger-specific com
+00007070: 6d61 6e64 206c 696e 6520 6172 6775 6d65  mand line argume
+00007080: 6e74 7320 746f 2074 6865 2070 6172 7365  nts to the parse
+00007090: 722e 2222 220a 2020 2020 2020 2020 7061  r.""".        pa
+000070a0: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
+000070b0: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
+000070c0: 2d2d 6c65 6467 6572 2d70 6f6f 6c2d 6e61  --ledger-pool-na
+000070d0: 6d65 222c 0a20 2020 2020 2020 2020 2020  me",.           
+000070e0: 2074 7970 653d 7374 722c 0a20 2020 2020   type=str,.     
+000070f0: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
+00007100: 3c6c 6564 6765 722d 706f 6f6c 2d6e 616d  <ledger-pool-nam
+00007110: 653e 222c 0a20 2020 2020 2020 2020 2020  e>",.           
+00007120: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
+00007130: 4c45 4447 4552 5f50 4f4f 4c5f 4e41 4d45  LEDGER_POOL_NAME
+00007140: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+00007150: 656c 703d 280a 2020 2020 2020 2020 2020  elp=(.          
+00007160: 2020 2020 2020 2253 7065 6369 6669 6573        "Specifies
+00007170: 2074 6865 206e 616d 6520 6f66 2074 6865   the name of the
+00007180: 2069 6e64 7920 706f 6f6c 2074 6f20 6265   indy pool to be
+00007190: 206f 7065 6e65 642e 2022 0a20 2020 2020   opened. ".     
+000071a0: 2020 2020 2020 2020 2020 2022 5468 6973             "This
+000071b0: 2069 7320 7573 6566 756c 2069 6620 796f   is useful if yo
+000071c0: 7520 6861 7665 206d 756c 7469 706c 6520  u have multiple 
+000071d0: 706f 6f6c 2063 6f6e 6669 6775 7261 7469  pool configurati
+000071e0: 6f6e 732e 220a 2020 2020 2020 2020 2020  ons.".          
+000071f0: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
+00007200: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
+00007210: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
+00007220: 2020 2020 2020 2020 222d 2d67 656e 6573          "--genes
+00007230: 6973 2d74 7261 6e73 6163 7469 6f6e 7322  is-transactions"
+00007240: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
+00007250: 7065 3d73 7472 2c0a 2020 2020 2020 2020  pe=str,.        
+00007260: 2020 2020 6465 7374 3d22 6765 6e65 7369      dest="genesi
+00007270: 735f 7472 616e 7361 6374 696f 6e73 222c  s_transactions",
+00007280: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+00007290: 6176 6172 3d22 3c67 656e 6573 6973 2d74  avar="<genesis-t
+000072a0: 7261 6e73 6163 7469 6f6e 733e 222c 0a20  ransactions>",. 
+000072b0: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+000072c0: 6172 3d22 4143 4150 595f 4745 4e45 5349  ar="ACAPY_GENESI
+000072d0: 535f 5452 414e 5341 4354 494f 4e53 222c  S_TRANSACTIONS",
+000072e0: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+000072f0: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+00007300: 2020 2020 2253 7065 6369 6669 6573 2074      "Specifies t
+00007310: 6865 2067 656e 6573 6973 2074 7261 6e73  he genesis trans
+00007320: 6163 7469 6f6e 7320 746f 2075 7365 2074  actions to use t
+00007330: 6f20 636f 6e6e 6563 7420 746f 2022 0a20  o connect to ". 
+00007340: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00007350: 6120 4879 7065 726c 6564 6765 7220 496e  a Hyperledger In
+00007360: 6479 206c 6564 6765 722e 2054 6865 2074  dy ledger. The t
+00007370: 7261 6e73 6163 7469 6f6e 7320 6172 6520  ransactions are 
+00007380: 7072 6f76 6964 6564 2061 7320 7374 7269  provided as stri
+00007390: 6e67 2022 0a20 2020 2020 2020 2020 2020  ng ".           
+000073a0: 2020 2020 2027 6f66 204a 534f 4e20 652e       'of JSON e.
+000073b0: 672e 205c 277b 2272 6571 5369 676e 6174  g. \'{"reqSignat
+000073c0: 7572 6522 3a7b 7d2c 2274 786e 223a 7b22  ure":{},"txn":{"
+000073d0: 6461 7461 223a 7b22 642e 2e2e 203c 736e  data":{"d... <sn
+000073e0: 6970 3e7d 7d7d 5c27 270a 2020 2020 2020  ip>}}}\''.      
+000073f0: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+00007400: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+00007410: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+00007420: 2020 2020 2020 2020 2020 2020 222d 2d67              "--g
+00007430: 656e 6573 6973 2d66 696c 6522 2c0a 2020  enesis-file",.  
+00007440: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
+00007450: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
+00007460: 6465 7374 3d22 6765 6e65 7369 735f 6669  dest="genesis_fi
+00007470: 6c65 222c 0a20 2020 2020 2020 2020 2020  le",.           
+00007480: 206d 6574 6176 6172 3d22 3c67 656e 6573   metavar="<genes
+00007490: 6973 2d66 696c 653e 222c 0a20 2020 2020  is-file>",.     
+000074a0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
+000074b0: 4143 4150 595f 4745 4e45 5349 535f 4649  ACAPY_GENESIS_FI
+000074c0: 4c45 222c 0a20 2020 2020 2020 2020 2020  LE",.           
+000074d0: 2068 656c 703d 2253 7065 6369 6669 6573   help="Specifies
+000074e0: 2061 206c 6f63 616c 2066 696c 6520 6672   a local file fr
+000074f0: 6f6d 2077 6869 6368 2074 6f20 7265 6164  om which to read
+00007500: 2074 6865 2067 656e 6573 6973 2074 7261   the genesis tra
+00007510: 6e73 6163 7469 6f6e 732e 222c 0a20 2020  nsactions.",.   
+00007520: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00007530: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00007540: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00007550: 222d 2d67 656e 6573 6973 2d75 726c 222c  "--genesis-url",
+00007560: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
+00007570: 653d 7374 722c 0a20 2020 2020 2020 2020  e=str,.         
+00007580: 2020 2064 6573 743d 2267 656e 6573 6973     dest="genesis
+00007590: 5f75 726c 222c 0a20 2020 2020 2020 2020  _url",.         
+000075a0: 2020 206d 6574 6176 6172 3d22 3c67 656e     metavar="<gen
+000075b0: 6573 6973 2d75 726c 3e22 2c0a 2020 2020  esis-url>",.    
+000075c0: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
+000075d0: 2241 4341 5059 5f47 454e 4553 4953 5f55  "ACAPY_GENESIS_U
+000075e0: 524c 222c 0a20 2020 2020 2020 2020 2020  RL",.           
+000075f0: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
+00007600: 2020 2020 2020 2020 2253 7065 6369 6669          "Specifi
+00007610: 6573 2074 6865 2075 726c 2066 726f 6d20  es the url from 
+00007620: 7768 6963 6820 746f 2064 6f77 6e6c 6f61  which to downloa
+00007630: 6420 7468 6520 6765 6e65 7369 7320 220a  d the genesis ".
+00007640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007650: 2274 7261 6e73 6163 7469 6f6e 732e 2046  "transactions. F
+00007660: 6f72 2065 7861 6d70 6c65 2c20 6966 2079  or example, if y
+00007670: 6f75 2061 7265 2075 7369 6e67 2027 766f  ou are using 'vo
+00007680: 6e2d 6e65 7477 6f72 6b27 2c20 220a 2020  n-network', ".  
+00007690: 2020 2020 2020 2020 2020 2020 2020 2274                "t
+000076a0: 6865 2055 524c 206d 6967 6874 2062 6520  he URL might be 
+000076b0: 2768 7474 703a 2f2f 6c6f 6361 6c68 6f73  'http://localhos
+000076c0: 743a 3930 3030 2f67 656e 6573 6973 272e  t:9000/genesis'.
+000076d0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+000076e0: 2020 2022 4765 6e65 7369 7320 7472 616e     "Genesis tran
+000076f0: 7361 6374 696f 6e73 2055 524c 7320 6172  sactions URLs ar
+00007700: 6520 6176 6169 6c61 626c 6520 666f 7220  e available for 
+00007710: 7468 6520 220a 2020 2020 2020 2020 2020  the ".          
+00007720: 2020 2020 2020 2253 6f76 7269 6e20 7465        "Sovrin te
+00007730: 7374 2f6d 6169 6e20 6e65 7477 6f72 6b73  st/main networks
+00007740: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
+00007750: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+00007760: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
+00007770: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
+00007780: 2020 2020 2022 2d2d 6e6f 2d6c 6564 6765       "--no-ledge
+00007790: 7222 2c0a 2020 2020 2020 2020 2020 2020  r",.            
+000077a0: 6163 7469 6f6e 3d22 7374 6f72 655f 7472  action="store_tr
+000077b0: 7565 222c 0a20 2020 2020 2020 2020 2020  ue",.           
+000077c0: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
+000077d0: 4e4f 5f4c 4544 4745 5222 2c0a 2020 2020  NO_LEDGER",.    
+000077e0: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
+000077f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00007800: 5370 6563 6966 6965 7320 7468 6174 2061  Specifies that a
+00007810: 6361 2d70 7920 7769 6c6c 2072 756e 2077  ca-py will run w
+00007820: 6974 6820 6e6f 206c 6564 6765 7220 636f  ith no ledger co
+00007830: 6e66 6967 7572 6564 2e20 220a 2020 2020  nfigured. ".    
+00007840: 2020 2020 2020 2020 2020 2020 2254 6869              "Thi
+00007850: 7320 6d75 7374 2062 6520 7365 7420 6966  s must be set if
+00007860: 2072 756e 6e69 6e67 2069 6e20 6e6f 2d6c   running in no-l
+00007870: 6564 6765 7220 6d6f 6465 2e20 204f 7665  edger mode.  Ove
+00007880: 7272 6964 6573 2061 6e79 2022 0a20 2020  rrides any ".   
+00007890: 2020 2020 2020 2020 2020 2020 2022 7370               "sp
+000078a0: 6563 6966 6965 6420 6c65 6467 6572 206f  ecified ledger o
+000078b0: 7220 6765 6e65 7369 7320 636f 6e66 6967  r genesis config
+000078c0: 7572 6174 696f 6e73 2e20 2044 6566 6175  urations.  Defau
+000078d0: 6c74 3a20 6661 6c73 652e 220a 2020 2020  lt: false.".    
+000078e0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+000078f0: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+00007900: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+00007910: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+00007920: 2d6c 6564 6765 722d 6b65 6570 616c 6976  -ledger-keepaliv
+00007930: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+00007940: 6465 6661 756c 743d 352c 0a20 2020 2020  default=5,.     
+00007950: 2020 2020 2020 2074 7970 653d 426f 756e         type=Boun
+00007960: 6465 6449 6e74 286d 696e 3d35 292c 0a20  dedInt(min=5),. 
+00007970: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+00007980: 6172 3d22 4143 4150 595f 4c45 4447 4552  ar="ACAPY_LEDGER
+00007990: 5f4b 4545 505f 414c 4956 4522 2c0a 2020  _KEEP_ALIVE",.  
+000079a0: 2020 2020 2020 2020 2020 6865 6c70 3d22            help="
+000079b0: 5370 6563 6966 6965 7320 686f 7720 6d61  Specifies how ma
+000079c0: 6e79 2073 6563 6f6e 6473 2074 6f20 6b65  ny seconds to ke
+000079d0: 6570 2074 6865 206c 6564 6765 7220 6f70  ep the ledger op
+000079e0: 656e 2e20 4465 6661 756c 743a 2035 222c  en. Default: 5",
+000079f0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00007a00: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+00007a10: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+00007a20: 2020 2020 222d 2d6c 6564 6765 722d 736f      "--ledger-so
+00007a30: 636b 732d 7072 6f78 7922 2c0a 2020 2020  cks-proxy",.    
+00007a40: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
+00007a50: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
+00007a60: 7374 3d22 6c65 6467 6572 5f73 6f63 6b73  st="ledger_socks
+00007a70: 5f70 726f 7879 222c 0a20 2020 2020 2020  _proxy",.       
+00007a80: 2020 2020 206d 6574 6176 6172 3d22 3c68       metavar="<h
+00007a90: 6f73 743a 706f 7274 3e22 2c0a 2020 2020  ost:port>",.    
+00007aa0: 2020 2020 2020 2020 7265 7175 6972 6564          required
+00007ab0: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
+00007ac0: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+00007ad0: 5059 5f4c 4544 4745 525f 534f 434b 535f  PY_LEDGER_SOCKS_
+00007ae0: 5052 4f58 5922 2c0a 2020 2020 2020 2020  PROXY",.        
+00007af0: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
+00007b00: 2020 2020 2020 2020 2020 2022 5370 6563             "Spec
+00007b10: 6966 6965 7320 7468 6520 736f 636b 7320  ifies the socks 
+00007b20: 7072 6f78 7920 284e 4f54 2068 7474 7020  proxy (NOT http 
+00007b30: 7072 6f78 7929 2068 6f73 746e 616d 6520  proxy) hostname 
+00007b40: 616e 6420 706f 7274 2069 6e20 666f 726d  and port in form
+00007b50: 6174 2022 0a20 2020 2020 2020 2020 2020  at ".           
+00007b60: 2020 2020 2022 2768 6f73 746e 616d 653a       "'hostname:
+00007b70: 706f 7274 272e 2054 6869 7320 6973 2061  port'. This is a
+00007b80: 6e20 6f70 7469 6f6e 616c 2070 6172 616d  n optional param
+00007b90: 6574 6572 2074 6f20 6265 2070 6173 7365  eter to be passe
+00007ba0: 6420 746f 206c 6564 6765 7220 220a 2020  d to ledger ".  
+00007bb0: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+00007bc0: 6f6f 6c20 636f 6e66 6967 7572 6174 696f  ool configuratio
+00007bd0: 6e20 616e 6420 5a4d 5120 696e 2063 6173  n and ZMQ in cas
+00007be0: 6520 6966 2061 6361 2d70 7920 6973 2072  e if aca-py is r
+00007bf0: 756e 6e69 6e67 2022 0a20 2020 2020 2020  unning ".       
+00007c00: 2020 2020 2020 2020 2022 696e 2061 2063           "in a c
+00007c10: 6f72 706f 7261 7465 2f70 7269 7661 7465  orporate/private
+00007c20: 206e 6574 776f 726b 2062 6568 696e 6420   network behind 
+00007c30: 6120 636f 7270 6f72 6174 6520 7072 6f78  a corporate prox
+00007c40: 7920 616e 6420 7769 6c6c 2022 0a20 2020  y and will ".   
+00007c50: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+00007c60: 6e6e 6563 7420 746f 2074 6865 2070 7562  nnect to the pub
+00007c70: 6c69 6320 286f 7574 7369 6465 206f 6620  lic (outside of 
+00007c80: 636f 7270 6f72 6174 6520 6e65 7477 6f72  corporate networ
+00007c90: 6b29 206c 6564 6765 7220 706f 6f6c 220a  k) ledger pool".
+00007ca0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+00007cb0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00007cc0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00007cd0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00007ce0: 2020 222d 2d67 656e 6573 6973 2d74 7261    "--genesis-tra
+00007cf0: 6e73 6163 7469 6f6e 732d 6c69 7374 222c  nsactions-list",
+00007d00: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
+00007d10: 653d 7374 722c 0a20 2020 2020 2020 2020  e=str,.         
+00007d20: 2020 2072 6571 7569 7265 643d 4661 6c73     required=Fals
+00007d30: 652c 0a20 2020 2020 2020 2020 2020 2064  e,.            d
+00007d40: 6573 743d 2267 656e 6573 6973 5f74 7261  est="genesis_tra
+00007d50: 6e73 6163 7469 6f6e 735f 6c69 7374 222c  nsactions_list",
+00007d60: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+00007d70: 6176 6172 3d22 3c67 656e 6573 6973 2d74  avar="<genesis-t
+00007d80: 7261 6e73 6163 7469 6f6e 732d 6c69 7374  ransactions-list
+00007d90: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
+00007da0: 656e 765f 7661 723d 2241 4341 5059 5f47  env_var="ACAPY_G
+00007db0: 454e 4553 4953 5f54 5241 4e53 4143 5449  ENESIS_TRANSACTI
+00007dc0: 4f4e 535f 4c49 5354 222c 0a20 2020 2020  ONS_LIST",.     
+00007dd0: 2020 2020 2020 2068 656c 703d 280a 2020         help=(.  
+00007de0: 2020 2020 2020 2020 2020 2020 2020 224c                "L
+00007df0: 6f61 6420 5941 4d4c 2063 6f6e 6669 6775  oad YAML configu
+00007e00: 7261 7469 6f6e 2066 6f72 2063 6f6e 6e65  ration for conne
+00007e10: 6374 696e 6720 746f 206d 756c 7469 706c  cting to multipl
+00007e20: 6522 0a20 2020 2020 2020 2020 2020 2020  e".             
+00007e30: 2020 2022 2048 7970 6572 4c65 6467 6572     " HyperLedger
+00007e40: 2049 6e64 7920 6c65 6467 6572 732e 220a   Indy ledgers.".
+00007e50: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+00007e60: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00007e70: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00007e80: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00007e90: 2020 222d 2d61 6363 6570 742d 7461 6122    "--accept-taa"
+00007ea0: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
+00007eb0: 7065 3d73 7472 2c0a 2020 2020 2020 2020  pe=str,.        
+00007ec0: 2020 2020 6e61 7267 733d 322c 0a20 2020      nargs=2,.   
+00007ed0: 2020 2020 2020 2020 206d 6574 6176 6172           metavar
+00007ee0: 3d28 223c 6163 6365 7074 616e 6365 2d6d  =("<acceptance-m
+00007ef0: 6563 6861 6e69 736d 3e22 2c20 223c 7461  echanism>", "<ta
+00007f00: 612d 7665 7273 696f 6e3e 2229 2c0a 2020  a-version>"),.  
+00007f10: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+00007f20: 723d 2241 4341 5059 5f41 4343 4550 545f  r="ACAPY_ACCEPT_
+00007f30: 5441 4122 2c0a 2020 2020 2020 2020 2020  TAA",.          
+00007f40: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
+00007f50: 2020 2020 2020 2020 2022 5370 6563 6966           "Specif
+00007f60: 7920 7468 6520 6163 6365 7074 616e 6365  y the acceptance
+00007f70: 206d 6563 6861 6e69 736d 2061 6e64 2074   mechanism and t
+00007f80: 6161 2076 6572 7369 6f6e 2066 6f72 2077  aa version for w
+00007f90: 6869 6368 2074 6f20 6163 6365 7074 220a  hich to accept".
+00007fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007fb0: 2220 7468 6520 7472 616e 7361 6374 696f  " the transactio
+00007fc0: 6e20 6175 7468 6f72 2061 6772 6565 6d65  n author agreeme
+00007fd0: 6e74 2e20 4966 206e 6f74 2070 726f 7669  nt. If not provi
+00007fe0: 6465 642c 2074 6865 2054 4141 206d 7573  ded, the TAA mus
+00007ff0: 7422 0a20 2020 2020 2020 2020 2020 2020  t".             
+00008000: 2020 2022 2062 6520 6163 6365 7074 6564     " be accepted
+00008010: 2074 6872 6f75 6768 2074 6865 2054 5459   through the TTY
+00008020: 206f 7220 7468 6520 6164 6d69 6e20 4150   or the admin AP
+00008030: 492e 220a 2020 2020 2020 2020 2020 2020  I.".            
+00008040: 292c 0a20 2020 2020 2020 2029 0a0a 2020  ),.        )..  
+00008050: 2020 6465 6620 6765 745f 7365 7474 696e    def get_settin
+00008060: 6773 2873 656c 662c 2061 7267 733a 204e  gs(self, args: N
+00008070: 616d 6573 7061 6365 2920 2d3e 2064 6963  amespace) -> dic
+00008080: 743a 0a20 2020 2020 2020 2022 2222 4578  t:.        """Ex
+00008090: 7472 6163 7420 6c65 6467 6572 2073 6574  tract ledger set
+000080a0: 7469 6e67 732e 2222 220a 2020 2020 2020  tings.""".      
+000080b0: 2020 7365 7474 696e 6773 203d 207b 7d0a    settings = {}.
+000080c0: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
+000080d0: 6e6f 5f6c 6564 6765 723a 0a20 2020 2020  no_ledger:.     
+000080e0: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+000080f0: 226c 6564 6765 722e 6469 7361 626c 6564  "ledger.disabled
+00008100: 225d 203d 2054 7275 650a 2020 2020 2020  "] = True.      
+00008110: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00008120: 2020 2020 7369 6e67 6c65 5f63 6f6e 6669      single_confi
+00008130: 6775 7265 6420 3d20 4661 6c73 650a 2020  gured = False.  
+00008140: 2020 2020 2020 2020 2020 6d75 6c74 695f            multi_
+00008150: 636f 6e66 6967 7572 6564 203d 2046 616c  configured = Fal
+00008160: 7365 0a20 2020 2020 2020 2020 2020 2075  se.            u
+00008170: 7064 6174 655f 706f 6f6c 5f6e 616d 6520  pdate_pool_name 
+00008180: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
+00008190: 2020 2020 6966 2061 7267 732e 6765 6e65      if args.gene
+000081a0: 7369 735f 7572 6c3a 0a20 2020 2020 2020  sis_url:.       
+000081b0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+000081c0: 735b 226c 6564 6765 722e 6765 6e65 7369  s["ledger.genesi
+000081d0: 735f 7572 6c22 5d20 3d20 6172 6773 2e67  s_url"] = args.g
+000081e0: 656e 6573 6973 5f75 726c 0a20 2020 2020  enesis_url.     
+000081f0: 2020 2020 2020 2020 2020 2073 696e 676c             singl
+00008200: 655f 636f 6e66 6967 7572 6564 203d 2054  e_configured = T
+00008210: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+00008220: 656c 6966 2061 7267 732e 6765 6e65 7369  elif args.genesi
+00008230: 735f 6669 6c65 3a0a 2020 2020 2020 2020  s_file:.        
+00008240: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+00008250: 5b22 6c65 6467 6572 2e67 656e 6573 6973  ["ledger.genesis
+00008260: 5f66 696c 6522 5d20 3d20 6172 6773 2e67  _file"] = args.g
+00008270: 656e 6573 6973 5f66 696c 650a 2020 2020  enesis_file.    
+00008280: 2020 2020 2020 2020 2020 2020 7369 6e67              sing
+00008290: 6c65 5f63 6f6e 6669 6775 7265 6420 3d20  le_configured = 
+000082a0: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
+000082b0: 2065 6c69 6620 6172 6773 2e67 656e 6573   elif args.genes
+000082c0: 6973 5f74 7261 6e73 6163 7469 6f6e 733a  is_transactions:
+000082d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000082e0: 2073 6574 7469 6e67 735b 226c 6564 6765   settings["ledge
+000082f0: 722e 6765 6e65 7369 735f 7472 616e 7361  r.genesis_transa
+00008300: 6374 696f 6e73 225d 203d 2061 7267 732e  ctions"] = args.
+00008310: 6765 6e65 7369 735f 7472 616e 7361 6374  genesis_transact
+00008320: 696f 6e73 0a20 2020 2020 2020 2020 2020  ions.           
+00008330: 2020 2020 2073 696e 676c 655f 636f 6e66       single_conf
+00008340: 6967 7572 6564 203d 2054 7275 650a 2020  igured = True.  
+00008350: 2020 2020 2020 2020 2020 6966 2061 7267            if arg
+00008360: 732e 6765 6e65 7369 735f 7472 616e 7361  s.genesis_transa
+00008370: 6374 696f 6e73 5f6c 6973 743a 0a20 2020  ctions_list:.   
+00008380: 2020 2020 2020 2020 2020 2020 2077 6974               wit
+00008390: 6820 6f70 656e 2861 7267 732e 6765 6e65  h open(args.gene
+000083a0: 7369 735f 7472 616e 7361 6374 696f 6e73  sis_transactions
+000083b0: 5f6c 6973 742c 2022 7222 2920 6173 2073  _list, "r") as s
+000083c0: 7472 6561 6d3a 0a20 2020 2020 2020 2020  tream:.         
+000083d0: 2020 2020 2020 2020 2020 2074 786e 5f63             txn_c
+000083e0: 6f6e 6669 675f 6c69 7374 203d 2079 616d  onfig_list = yam
+000083f0: 6c2e 7361 6665 5f6c 6f61 6428 7374 7265  l.safe_load(stre
+00008400: 616d 290a 2020 2020 2020 2020 2020 2020  am).            
+00008410: 2020 2020 2020 2020 6c65 6467 6572 5f63          ledger_c
+00008420: 6f6e 6669 675f 6c69 7374 203d 205b 5d0a  onfig_list = [].
+00008430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008440: 2020 2020 666f 7220 7478 6e5f 636f 6e66      for txn_conf
+00008450: 6967 2069 6e20 7478 6e5f 636f 6e66 6967  ig in txn_config
+00008460: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
+00008470: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00008480: 6564 6765 725f 636f 6e66 6967 5f6c 6973  edger_config_lis
+00008490: 742e 6170 7065 6e64 2874 786e 5f63 6f6e  t.append(txn_con
+000084a0: 6669 6729 0a20 2020 2020 2020 2020 2020  fig).           
+000084b0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000084c0: 2269 735f 7772 6974 6522 2069 6e20 7478  "is_write" in tx
+000084d0: 6e5f 636f 6e66 6967 2061 6e64 2074 786e  n_config and txn
+000084e0: 5f63 6f6e 6669 675b 2269 735f 7772 6974  _config["is_writ
+000084f0: 6522 5d3a 0a20 2020 2020 2020 2020 2020  e"]:.           
+00008500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008510: 2069 6620 2267 656e 6573 6973 5f75 726c   if "genesis_url
+00008520: 2220 696e 2074 786e 5f63 6f6e 6669 673a  " in txn_config:
+00008530: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008550: 2073 6574 7469 6e67 735b 226c 6564 6765   settings["ledge
+00008560: 722e 6765 6e65 7369 735f 7572 6c22 5d20  r.genesis_url"] 
+00008570: 3d20 7478 6e5f 636f 6e66 6967 5b0a 2020  = txn_config[.  
+00008580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000085a0: 2020 2267 656e 6573 6973 5f75 726c 220a    "genesis_url".
+000085b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000085c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000085d0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+000085e0: 2020 2020 2020 2020 2020 2020 2020 656c                el
+000085f0: 6966 2022 6765 6e65 7369 735f 6669 6c65  if "genesis_file
+00008600: 2220 696e 2074 786e 5f63 6f6e 6669 673a  " in txn_config:
+00008610: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008630: 2073 6574 7469 6e67 735b 226c 6564 6765   settings["ledge
+00008640: 722e 6765 6e65 7369 735f 6669 6c65 225d  r.genesis_file"]
+00008650: 203d 2074 786e 5f63 6f6e 6669 675b 0a20   = txn_config[. 
+00008660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008680: 2020 2022 6765 6e65 7369 735f 6669 6c65     "genesis_file
+00008690: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+000086a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000086b0: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
+000086c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000086d0: 656c 6966 2022 6765 6e65 7369 735f 7472  elif "genesis_tr
+000086e0: 616e 7361 6374 696f 6e73 2220 696e 2074  ansactions" in t
+000086f0: 786e 5f63 6f6e 6669 673a 0a20 2020 2020  xn_config:.     
+00008700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008710: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+00008720: 6e67 735b 226c 6564 6765 722e 6765 6e65  ngs["ledger.gene
+00008730: 7369 735f 7472 616e 7361 6374 696f 6e73  sis_transactions
+00008740: 225d 203d 2074 786e 5f63 6f6e 6669 675b  "] = txn_config[
+00008750: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008770: 2020 2020 2022 6765 6e65 7369 735f 7472       "genesis_tr
+00008780: 616e 7361 6374 696f 6e73 220a 2020 2020  ansactions".    
+00008790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000087a0: 2020 2020 2020 2020 2020 2020 5d0a 2020              ].  
+000087b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000087c0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+000087d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000087e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000087f0: 7261 6973 6520 4172 6773 5061 7273 6545  raise ArgsParseE
+00008800: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+00008810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008820: 2020 2020 2020 2020 2020 224e 6f20 6765            "No ge
+00008830: 6e65 7369 7320 696e 666f 726d 6174 696f  nesis informatio
+00008840: 6e20 7072 6f76 6964 6564 2066 6f72 2077  n provided for w
+00008850: 7269 7465 206c 6564 6765 7222 0a20 2020  rite ledger".   
+00008860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008870: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+00008880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008890: 2020 2020 2020 2020 2020 2069 6620 2269             if "i
+000088a0: 6422 2069 6e20 7478 6e5f 636f 6e66 6967  d" in txn_config
+000088b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000088c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000088d0: 2020 7365 7474 696e 6773 5b22 6c65 6467    settings["ledg
+000088e0: 6572 2e70 6f6f 6c5f 6e61 6d65 225d 203d  er.pool_name"] =
+000088f0: 2074 786e 5f63 6f6e 6669 675b 2269 6422   txn_config["id"
+00008900: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+00008910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008920: 2020 7570 6461 7465 5f70 6f6f 6c5f 6e61    update_pool_na
+00008930: 6d65 203d 2054 7275 650a 2020 2020 2020  me = True.      
+00008940: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00008950: 7474 696e 6773 5b22 6c65 6467 6572 2e6c  ttings["ledger.l
+00008960: 6564 6765 725f 636f 6e66 6967 5f6c 6973  edger_config_lis
+00008970: 7422 5d20 3d20 6c65 6467 6572 5f63 6f6e  t"] = ledger_con
+00008980: 6669 675f 6c69 7374 0a20 2020 2020 2020  fig_list.       
+00008990: 2020 2020 2020 2020 2020 2020 206d 756c               mul
+000089a0: 7469 5f63 6f6e 6669 6775 7265 6420 3d20  ti_configured = 
+000089b0: 5472 7565 0a20 2020 2020 2020 2020 2020  True.           
+000089c0: 2069 6620 6e6f 7420 2873 696e 676c 655f   if not (single_
+000089d0: 636f 6e66 6967 7572 6564 206f 7220 6d75  configured or mu
+000089e0: 6c74 695f 636f 6e66 6967 7572 6564 293a  lti_configured):
+000089f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008a00: 2072 6169 7365 2041 7267 7350 6172 7365   raise ArgsParse
+00008a10: 4572 726f 7228 0a20 2020 2020 2020 2020  Error(.         
+00008a20: 2020 2020 2020 2020 2020 2022 4f6e 6520             "One 
+00008a30: 6f66 202d 2d67 656e 6573 6973 2d75 726c  of --genesis-url
+00008a40: 202d 2d67 656e 6573 6973 2d66 696c 652c   --genesis-file,
+00008a50: 202d 2d67 656e 6573 6973 2d74 7261 6e73   --genesis-trans
+00008a60: 6163 7469 6f6e 7320 220a 2020 2020 2020  actions ".      
+00008a70: 2020 2020 2020 2020 2020 2020 2020 226f                "o
+00008a80: 7220 2d2d 6765 6e65 7369 732d 7472 616e  r --genesis-tran
+00008a90: 7361 6374 696f 6e73 2d6c 6973 7420 6d75  sactions-list mu
+00008aa0: 7374 2062 6520 7370 6563 6966 6965 6420  st be specified 
+00008ab0: 2875 6e6c 6573 7320 220a 2020 2020 2020  (unless ".      
+00008ac0: 2020 2020 2020 2020 2020 2020 2020 222d                "-
+00008ad0: 2d6e 6f2d 6c65 6467 6572 2069 7320 7370  -no-ledger is sp
+00008ae0: 6563 6966 6965 6420 746f 2065 7870 6c69  ecified to expli
+00008af0: 6369 746c 7920 636f 6e66 6967 7572 6520  citly configure 
+00008b00: 6163 612d 7079 2074 6f22 0a20 2020 2020  aca-py to".     
+00008b10: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00008b20: 2072 756e 2077 6974 6820 6e6f 206c 6564   run with no led
+00008b30: 6765 7229 2e22 0a20 2020 2020 2020 2020  ger).".         
+00008b40: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00008b50: 2020 2020 2069 6620 7369 6e67 6c65 5f63       if single_c
+00008b60: 6f6e 6669 6775 7265 6420 616e 6420 6d75  onfigured and mu
+00008b70: 6c74 695f 636f 6e66 6967 7572 6564 3a0a  lti_configured:.
+00008b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008b90: 7261 6973 6520 4172 6773 5061 7273 6545  raise ArgsParseE
+00008ba0: 7272 6f72 2822 4361 6e6e 6f74 2063 6f6e  rror("Cannot con
+00008bb0: 6669 6775 7265 2062 6f74 6820 7369 6e67  figure both sing
+00008bc0: 6c65 2d20 616e 6420 6d75 6c74 692d 6c65  le- and multi-le
+00008bd0: 6467 6572 2e22 290a 2020 2020 2020 2020  dger.").        
+00008be0: 2020 2020 6966 2061 7267 732e 6c65 6467      if args.ledg
+00008bf0: 6572 5f70 6f6f 6c5f 6e61 6d65 2061 6e64  er_pool_name and
+00008c00: 206e 6f74 2075 7064 6174 655f 706f 6f6c   not update_pool
+00008c10: 5f6e 616d 653a 0a20 2020 2020 2020 2020  _name:.         
+00008c20: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+00008c30: 226c 6564 6765 722e 706f 6f6c 5f6e 616d  "ledger.pool_nam
+00008c40: 6522 5d20 3d20 6172 6773 2e6c 6564 6765  e"] = args.ledge
+00008c50: 725f 706f 6f6c 5f6e 616d 650a 2020 2020  r_pool_name.    
+00008c60: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
+00008c70: 6c65 6467 6572 5f6b 6565 7061 6c69 7665  ledger_keepalive
+00008c80: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008c90: 2020 7365 7474 696e 6773 5b22 6c65 6467    settings["ledg
+00008ca0: 6572 2e6b 6565 7061 6c69 7665 225d 203d  er.keepalive"] =
+00008cb0: 2061 7267 732e 6c65 6467 6572 5f6b 6565   args.ledger_kee
+00008cc0: 7061 6c69 7665 0a20 2020 2020 2020 2020  palive.         
+00008cd0: 2020 2069 6620 6172 6773 2e6c 6564 6765     if args.ledge
+00008ce0: 725f 736f 636b 735f 7072 6f78 793a 0a20  r_socks_proxy:. 
+00008cf0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00008d00: 6574 7469 6e67 735b 226c 6564 6765 722e  ettings["ledger.
+00008d10: 736f 636b 735f 7072 6f78 7922 5d20 3d20  socks_proxy"] = 
+00008d20: 6172 6773 2e6c 6564 6765 725f 736f 636b  args.ledger_sock
+00008d30: 735f 7072 6f78 790a 2020 2020 2020 2020  s_proxy.        
+00008d40: 2020 2020 6966 2061 7267 732e 6163 6365      if args.acce
+00008d50: 7074 5f74 6161 3a0a 2020 2020 2020 2020  pt_taa:.        
+00008d60: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+00008d70: 5b22 6c65 6467 6572 2e74 6161 5f61 6363  ["ledger.taa_acc
+00008d80: 6570 7461 6e63 655f 6d65 6368 616e 6973  eptance_mechanis
+00008d90: 6d22 5d20 3d20 6172 6773 2e61 6363 6570  m"] = args.accep
+00008da0: 745f 7461 615b 305d 0a20 2020 2020 2020  t_taa[0].       
+00008db0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+00008dc0: 735b 226c 6564 6765 722e 7461 615f 6163  s["ledger.taa_ac
+00008dd0: 6365 7074 616e 6365 5f76 6572 7369 6f6e  ceptance_version
+00008de0: 225d 203d 2061 7267 732e 6163 6365 7074  "] = args.accept
+00008df0: 5f74 6161 5b31 5d0a 0a20 2020 2020 2020  _taa[1]..       
+00008e00: 2072 6574 7572 6e20 7365 7474 696e 6773   return settings
+00008e10: 0a0a 0a40 6772 6f75 7028 4341 545f 5052  ...@group(CAT_PR
+00008e20: 4f56 4953 494f 4e2c 2043 4154 5f53 5441  OVISION, CAT_STA
+00008e30: 5254 290a 636c 6173 7320 4c6f 6767 696e  RT).class Loggin
+00008e40: 6747 726f 7570 2841 7267 756d 656e 7447  gGroup(ArgumentG
+00008e50: 726f 7570 293a 0a20 2020 2022 2222 4c6f  roup):.    """Lo
+00008e60: 6767 696e 6720 7365 7474 696e 6773 2e22  gging settings."
+00008e70: 2222 0a0a 2020 2020 4752 4f55 505f 4e41  ""..    GROUP_NA
+00008e80: 4d45 203d 2022 4c6f 6767 696e 6722 0a0a  ME = "Logging"..
+00008e90: 2020 2020 6465 6620 6164 645f 6172 6775      def add_argu
+00008ea0: 6d65 6e74 7328 7365 6c66 2c20 7061 7273  ments(self, pars
+00008eb0: 6572 3a20 4172 6775 6d65 6e74 5061 7273  er: ArgumentPars
+00008ec0: 6572 293a 0a20 2020 2020 2020 2022 2222  er):.        """
+00008ed0: 4164 6420 6c6f 6767 696e 672d 7370 6563  Add logging-spec
+00008ee0: 6966 6963 2063 6f6d 6d61 6e64 206c 696e  ific command lin
+00008ef0: 6520 6172 6775 6d65 6e74 7320 746f 2074  e arguments to t
+00008f00: 6865 2070 6172 7365 722e 2222 220a 2020  he parser.""".  
+00008f10: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+00008f20: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+00008f30: 2020 2020 2020 2022 2d2d 6c6f 672d 636f         "--log-co
+00008f40: 6e66 6967 222c 0a20 2020 2020 2020 2020  nfig",.         
+00008f50: 2020 2064 6573 743d 226c 6f67 5f63 6f6e     dest="log_con
+00008f60: 6669 6722 2c0a 2020 2020 2020 2020 2020  fig",.          
+00008f70: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+00008f80: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+00008f90: 223c 7061 7468 2d74 6f2d 636f 6e66 6967  "<path-to-config
+00008fa0: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
+00008fb0: 6465 6661 756c 743d 4e6f 6e65 2c0a 2020  default=None,.  
+00008fc0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+00008fd0: 723d 2241 4341 5059 5f4c 4f47 5f43 4f4e  r="ACAPY_LOG_CON
+00008fe0: 4649 4722 2c0a 2020 2020 2020 2020 2020  FIG",.          
+00008ff0: 2020 6865 6c70 3d22 5370 6563 6966 6965    help="Specifie
+00009000: 7320 6120 6375 7374 6f6d 206c 6f67 6769  s a custom loggi
+00009010: 6e67 2063 6f6e 6669 6775 7261 7469 6f6e  ng configuration
+00009020: 2066 696c 6522 2c0a 2020 2020 2020 2020   file",.        
+00009030: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
+00009040: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+00009050: 2020 2020 2020 2020 2020 2022 2d2d 6c6f             "--lo
+00009060: 672d 6669 6c65 222c 0a20 2020 2020 2020  g-file",.       
+00009070: 2020 2020 2064 6573 743d 226c 6f67 5f66       dest="log_f
+00009080: 696c 6522 2c0a 2020 2020 2020 2020 2020  ile",.          
+00009090: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+000090a0: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+000090b0: 223c 6c6f 672d 6669 6c65 3e22 2c0a 2020  "<log-file>",.  
+000090c0: 2020 2020 2020 2020 2020 6465 6661 756c            defaul
+000090d0: 743d 4e6f 6e65 2c0a 2020 2020 2020 2020  t=None,.        
+000090e0: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+000090f0: 5059 5f4c 4f47 5f46 494c 4522 2c0a 2020  PY_LOG_FILE",.  
+00009100: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+00009110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009120: 2022 4f76 6572 7269 6465 7320 7468 6520   "Overrides the 
+00009130: 6f75 7470 7574 2064 6573 7469 6e61 7469  output destinati
+00009140: 6f6e 2066 6f72 2074 6865 2072 6f6f 7420  on for the root 
+00009150: 6c6f 6767 6572 2028 6173 2064 6566 696e  logger (as defin
+00009160: 6564 2022 0a20 2020 2020 2020 2020 2020  ed ".           
+00009170: 2020 2020 2022 6279 2074 6865 206c 6f67       "by the log
+00009180: 2063 6f6e 6669 6720 6669 6c65 2920 746f   config file) to
+00009190: 2074 6865 206e 616d 6564 203c 6c6f 672d   the named <log-
+000091a0: 6669 6c65 3e2e 220a 2020 2020 2020 2020  file>.".        
+000091b0: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+000091c0: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+000091d0: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+000091e0: 2020 2020 2020 2020 2020 222d 2d6c 6f67            "--log
+000091f0: 2d6c 6576 656c 222c 0a20 2020 2020 2020  -level",.       
+00009200: 2020 2020 2064 6573 743d 226c 6f67 5f6c       dest="log_l
+00009210: 6576 656c 222c 0a20 2020 2020 2020 2020  evel",.         
+00009220: 2020 2074 7970 653d 7374 722c 0a20 2020     type=str,.   
+00009230: 2020 2020 2020 2020 206d 6574 6176 6172           metavar
+00009240: 3d22 3c6c 6f67 2d6c 6576 656c 3e22 2c0a  ="<log-level>",.
+00009250: 2020 2020 2020 2020 2020 2020 6465 6661              defa
+00009260: 756c 743d 4e6f 6e65 2c0a 2020 2020 2020  ult=None,.      
+00009270: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
+00009280: 4341 5059 5f4c 4f47 5f4c 4556 454c 222c  CAPY_LOG_LEVEL",
+00009290: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+000092a0: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+000092b0: 2020 2020 2253 7065 6369 6669 6573 2061      "Specifies a
+000092c0: 2063 7573 746f 6d20 6c6f 6767 696e 6720   custom logging 
+000092d0: 6c65 7665 6c20 6173 206f 6e65 206f 663a  level as one of:
+000092e0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+000092f0: 2020 2022 2827 6465 6275 6727 2c20 2769     "('debug', 'i
+00009300: 6e66 6f27 2c20 2777 6172 6e69 6e67 272c  nfo', 'warning',
+00009310: 2027 6572 726f 7227 2c20 2763 7269 7469   'error', 'criti
+00009320: 6361 6c27 2922 0a20 2020 2020 2020 2020  cal')".         
+00009330: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
+00009340: 0a20 2020 2064 6566 2067 6574 5f73 6574  .    def get_set
+00009350: 7469 6e67 7328 7365 6c66 2c20 6172 6773  tings(self, args
+00009360: 3a20 4e61 6d65 7370 6163 6529 202d 3e20  : Namespace) -> 
+00009370: 6469 6374 3a0a 2020 2020 2020 2020 2222  dict:.        ""
+00009380: 2245 7874 7261 6374 206c 6f67 6769 6e67  "Extract logging
+00009390: 2073 6574 7469 6e67 732e 2222 220a 2020   settings.""".  
+000093a0: 2020 2020 2020 7365 7474 696e 6773 203d        settings =
+000093b0: 207b 7d0a 2020 2020 2020 2020 6966 2061   {}.        if a
+000093c0: 7267 732e 6c6f 675f 636f 6e66 6967 3a0a  rgs.log_config:.
+000093d0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+000093e0: 696e 6773 5b22 6c6f 672e 636f 6e66 6967  ings["log.config
+000093f0: 225d 203d 2061 7267 732e 6c6f 675f 636f  "] = args.log_co
+00009400: 6e66 6967 0a20 2020 2020 2020 2069 6620  nfig.        if 
+00009410: 6172 6773 2e6c 6f67 5f66 696c 653a 0a20  args.log_file:. 
+00009420: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+00009430: 6e67 735b 226c 6f67 2e66 696c 6522 5d20  ngs["log.file"] 
+00009440: 3d20 6172 6773 2e6c 6f67 5f66 696c 650a  = args.log_file.
+00009450: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
+00009460: 6c6f 675f 6c65 7665 6c3a 0a20 2020 2020  log_level:.     
+00009470: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+00009480: 226c 6f67 2e6c 6576 656c 225d 203d 2061  "log.level"] = a
+00009490: 7267 732e 6c6f 675f 6c65 7665 6c0a 2020  rgs.log_level.  
+000094a0: 2020 2020 2020 7265 7475 726e 2073 6574        return set
+000094b0: 7469 6e67 730a 0a0a 4067 726f 7570 2843  tings...@group(C
+000094c0: 4154 5f53 5441 5254 290a 636c 6173 7320  AT_START).class 
+000094d0: 5072 6f74 6f63 6f6c 4772 6f75 7028 4172  ProtocolGroup(Ar
+000094e0: 6775 6d65 6e74 4772 6f75 7029 3a0a 2020  gumentGroup):.  
+000094f0: 2020 2222 2250 726f 746f 636f 6c20 7365    """Protocol se
+00009500: 7474 696e 6773 2e22 2222 0a0a 2020 2020  ttings."""..    
+00009510: 4752 4f55 505f 4e41 4d45 203d 2022 5072  GROUP_NAME = "Pr
+00009520: 6f74 6f63 6f6c 220a 0a20 2020 2064 6566  otocol"..    def
+00009530: 2061 6464 5f61 7267 756d 656e 7473 2873   add_arguments(s
+00009540: 656c 662c 2070 6172 7365 723a 2041 7267  elf, parser: Arg
+00009550: 756d 656e 7450 6172 7365 7229 3a0a 2020  umentParser):.  
+00009560: 2020 2020 2020 2222 2241 6464 2070 726f        """Add pro
+00009570: 746f 636f 6c2d 7370 6563 6966 6963 2063  tocol-specific c
+00009580: 6f6d 6d61 6e64 206c 696e 6520 6172 6775  ommand line argu
+00009590: 6d65 6e74 7320 746f 2074 6865 2070 6172  ments to the par
+000095a0: 7365 722e 2222 220a 2020 2020 2020 2020  ser.""".        
+000095b0: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+000095c0: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+000095d0: 2022 2d2d 6175 746f 2d70 696e 672d 636f   "--auto-ping-co
+000095e0: 6e6e 6563 7469 6f6e 222c 0a20 2020 2020  nnection",.     
+000095f0: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
+00009600: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
+00009610: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
+00009620: 2241 4341 5059 5f41 5554 4f5f 5049 4e47  "ACAPY_AUTO_PING
+00009630: 5f43 4f4e 4e45 4354 494f 4e22 2c0a 2020  _CONNECTION",.  
+00009640: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+00009650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009660: 2022 4175 746f 6d61 7469 6361 6c6c 7920   "Automatically 
+00009670: 7365 6e64 2061 2074 7275 7374 2070 696e  send a trust pin
+00009680: 6720 696d 6d65 6469 6174 656c 7920 6166  g immediately af
+00009690: 7465 7220 6120 220a 2020 2020 2020 2020  ter a ".        
+000096a0: 2020 2020 2020 2020 2263 6f6e 6e65 6374          "connect
+000096b0: 696f 6e20 7265 7370 6f6e 7365 2069 7320  ion response is 
+000096c0: 6163 6365 7074 6564 2e20 536f 6d65 2061  accepted. Some a
+000096d0: 6765 6e74 7320 7265 7175 6972 6520 7468  gents require th
+000096e0: 6973 2062 6566 6f72 6520 220a 2020 2020  is before ".    
+000096f0: 2020 2020 2020 2020 2020 2020 226d 6172              "mar
+00009700: 6b69 6e67 2061 2063 6f6e 6e65 6374 696f  king a connectio
+00009710: 6e20 6173 2027 6163 7469 7665 272e 2044  n as 'active'. D
+00009720: 6566 6175 6c74 3a20 6661 6c73 652e 220a  efault: false.".
+00009730: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+00009740: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00009750: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00009760: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00009770: 2020 222d 2d61 7574 6f2d 6163 6365 7074    "--auto-accept
+00009780: 2d69 6e74 726f 2d69 6e76 6974 6174 696f  -intro-invitatio
+00009790: 6e2d 7265 7175 6573 7473 222c 0a20 2020  n-requests",.   
+000097a0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+000097b0: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
+000097c0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+000097d0: 723d 2241 4341 5059 5f41 5554 4f5f 4143  r="ACAPY_AUTO_AC
+000097e0: 4345 5054 5f49 4e54 524f 5f49 4e56 4954  CEPT_INTRO_INVIT
+000097f0: 4154 494f 4e5f 5245 5155 4553 5453 222c  ATION_REQUESTS",
+00009800: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+00009810: 703d 2241 7574 6f6d 6174 6963 616c 6c79  p="Automatically
+00009820: 2061 6363 6570 7420 696e 7472 6f64 7563   accept introduc
+00009830: 7469 6f6e 2069 6e76 6974 6174 696f 6e73  tion invitations
+00009840: 2e20 4465 6661 756c 743a 2066 616c 7365  . Default: false
+00009850: 2e22 2c0a 2020 2020 2020 2020 290a 2020  .",.        ).  
+00009860: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+00009870: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+00009880: 2020 2020 2020 2022 2d2d 696e 7669 7465         "--invite
+00009890: 2d62 6173 652d 7572 6c22 2c0a 2020 2020  -base-url",.    
+000098a0: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
+000098b0: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
+000098c0: 7461 7661 723d 223c 6261 7365 2d75 726c  tavar="<base-url
+000098d0: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
+000098e0: 656e 765f 7661 723d 2241 4341 5059 5f49  env_var="ACAPY_I
+000098f0: 4e56 4954 455f 4241 5345 5f55 524c 222c  NVITE_BASE_URL",
+00009900: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+00009910: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+00009920: 2020 2020 2242 6173 6520 5552 4c20 746f      "Base URL to
+00009930: 2075 7365 2077 6865 6e20 666f 726d 6174   use when format
+00009940: 7469 6e67 2063 6f6e 6e65 6374 696f 6e20  ting connection 
+00009950: 696e 7669 7461 7469 6f6e 7320 696e 2055  invitations in U
+00009960: 524c 2066 6f72 6d61 742e 220a 2020 2020  RL format.".    
+00009970: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+00009980: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+00009990: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+000099a0: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+000099b0: 2d6d 6f6e 6974 6f72 2d70 696e 6722 2c0a  -monitor-ping",.
+000099c0: 2020 2020 2020 2020 2020 2020 6163 7469              acti
+000099d0: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
+000099e0: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
+000099f0: 5f76 6172 3d22 4143 4150 595f 4d4f 4e49  _var="ACAPY_MONI
+00009a00: 544f 525f 5049 4e47 222c 0a20 2020 2020  TOR_PING",.     
+00009a10: 2020 2020 2020 2068 656c 703d 2253 656e         help="Sen
+00009a20: 6420 6120 7765 6268 6f6f 6b20 7768 656e  d a webhook when
+00009a30: 2061 2070 696e 6720 6973 2073 656e 7420   a ping is sent 
+00009a40: 6f72 2072 6563 6569 7665 642e 222c 0a20  or received.",. 
+00009a50: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00009a60: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00009a70: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00009a80: 2020 222d 2d6d 6f6e 6974 6f72 2d66 6f72    "--monitor-for
+00009a90: 7761 7264 222c 0a20 2020 2020 2020 2020  ward",.         
+00009aa0: 2020 2061 6374 696f 6e3d 2273 746f 7265     action="store
+00009ab0: 5f74 7275 6522 2c0a 2020 2020 2020 2020  _true",.        
+00009ac0: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+00009ad0: 5059 5f4d 4f4e 4954 4f52 5f46 4f52 5741  PY_MONITOR_FORWA
+00009ae0: 5244 222c 0a20 2020 2020 2020 2020 2020  RD",.           
+00009af0: 2068 656c 703d 2253 656e 6420 6120 7765   help="Send a we
+00009b00: 6268 6f6f 6b20 7768 656e 2061 2066 6f72  bhook when a for
+00009b10: 7761 7264 2069 7320 7265 6365 6976 6564  ward is received
+00009b20: 2e22 2c0a 2020 2020 2020 2020 290a 2020  .",.        ).  
+00009b30: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+00009b40: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+00009b50: 2020 2020 2020 2022 2d2d 7075 626c 6963         "--public
+00009b60: 2d69 6e76 6974 6573 222c 0a20 2020 2020  -invites",.     
+00009b70: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
+00009b80: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
+00009b90: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
+00009ba0: 2241 4341 5059 5f50 5542 4c49 435f 494e  "ACAPY_PUBLIC_IN
+00009bb0: 5649 5445 5322 2c0a 2020 2020 2020 2020  VITES",.        
+00009bc0: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
+00009bd0: 2020 2020 2020 2020 2020 2022 5365 6e64             "Send
+00009be0: 2069 6e76 6974 6174 696f 6e73 206f 7574   invitations out
+00009bf0: 2075 7369 6e67 2074 6865 2070 7562 6c69   using the publi
+00009c00: 6320 4449 4420 666f 7220 7468 6520 6167  c DID for the ag
+00009c10: 656e 742c 2022 0a20 2020 2020 2020 2020  ent, ".         
+00009c20: 2020 2020 2020 2022 616e 6420 7265 6365         "and rece
+00009c30: 6976 6520 636f 6e6e 6563 7469 6f6e 2072  ive connection r
+00009c40: 6571 7565 7374 7320 736f 6c69 6369 7465  equests solicite
+00009c50: 6420 6279 2069 6e76 6974 6174 696f 6e73  d by invitations
+00009c60: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+00009c70: 2020 2022 7768 6963 6820 7573 6520 7468     "which use th
+00009c80: 6520 7075 626c 6963 2044 4944 2e20 4465  e public DID. De
+00009c90: 6661 756c 743a 2066 616c 7365 2e22 0a20  fault: false.". 
+00009ca0: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+00009cb0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00009cc0: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+00009cd0: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+00009ce0: 2022 2d2d 7265 7175 6573 7473 2d74 6872   "--requests-thr
+00009cf0: 6f75 6768 2d70 7562 6c69 632d 6469 6422  ough-public-did"
+00009d00: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
+00009d10: 7469 6f6e 3d22 7374 6f72 655f 7472 7565  tion="store_true
+00009d20: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00009d30: 6e76 5f76 6172 3d22 4143 4150 595f 5245  nv_var="ACAPY_RE
+00009d40: 5155 4553 5453 5f54 4852 4f55 4748 5f50  QUESTS_THROUGH_P
+00009d50: 5542 4c49 435f 4449 4422 2c0a 2020 2020  UBLIC_DID",.    
+00009d60: 2020 2020 2020 2020 6865 6c70 3d28 0a20          help=(. 
+00009d70: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00009d80: 416c 6c6f 7720 6167 656e 7420 746f 2072  Allow agent to r
+00009d90: 6563 6569 7665 2075 6e73 6f6c 6963 6974  eceive unsolicit
+00009da0: 6564 2063 6f6e 6e65 6374 696f 6e20 7265  ed connection re
+00009db0: 7175 6573 7473 2c20 220a 2020 2020 2020  quests, ".      
+00009dc0: 2020 2020 2020 2020 2020 2275 7369 6e67            "using
+00009dd0: 2074 6865 2070 7562 6c69 6320 4449 4420   the public DID 
+00009de0: 666f 7220 7468 6520 6167 656e 742e 2044  for the agent. D
+00009df0: 6566 6175 6c74 3a20 6661 6c73 652e 220a  efault: false.".
+00009e00: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+00009e10: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00009e20: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+00009e30: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+00009e40: 2020 222d 2d74 696d 696e 6722 2c0a 2020    "--timing",.  
+00009e50: 2020 2020 2020 2020 2020 6163 7469 6f6e            action
+00009e60: 3d22 7374 6f72 655f 7472 7565 222c 0a20  ="store_true",. 
+00009e70: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+00009e80: 6172 3d22 4143 4150 595f 5449 4d49 4e47  ar="ACAPY_TIMING
+00009e90: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+00009ea0: 656c 703d 2249 6e63 6c75 6465 2074 696d  elp="Include tim
+00009eb0: 696e 6720 696e 666f 726d 6174 696f 6e20  ing information 
+00009ec0: 696e 2072 6573 706f 6e73 6520 6d65 7373  in response mess
+00009ed0: 6167 6573 2e22 2c0a 2020 2020 2020 2020  ages.",.        
+00009ee0: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
+00009ef0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+00009f00: 2020 2020 2020 2020 2020 2022 2d2d 7469             "--ti
+00009f10: 6d69 6e67 2d6c 6f67 222c 0a20 2020 2020  ming-log",.     
+00009f20: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
+00009f30: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+00009f40: 6176 6172 3d22 3c6c 6f67 2d70 6174 683e  avar="<log-path>
+00009f50: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00009f60: 6e76 5f76 6172 3d22 4143 4150 595f 5449  nv_var="ACAPY_TI
+00009f70: 4d49 4e47 5f4c 4f47 222c 0a20 2020 2020  MING_LOG",.     
+00009f80: 2020 2020 2020 2068 656c 703d 2257 7269         help="Wri
+00009f90: 7465 2074 696d 696e 6720 696e 666f 726d  te timing inform
+00009fa0: 6174 696f 6e20 746f 2061 2067 6976 656e  ation to a given
+00009fb0: 206c 6f67 2066 696c 652e 222c 0a20 2020   log file.",.   
+00009fc0: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00009fd0: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00009fe0: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00009ff0: 222d 2d74 7261 6365 222c 0a20 2020 2020  "--trace",.     
+0000a000: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
+0000a010: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
+0000a020: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
+0000a030: 2241 4341 5059 5f54 5241 4345 222c 0a20  "ACAPY_TRACE",. 
+0000a040: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+0000a050: 2247 656e 6572 6174 6520 7472 6163 696e  "Generate tracin
+0000a060: 6720 6576 656e 7473 2e22 2c0a 2020 2020  g events.",.    
+0000a070: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
+0000a080: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
+0000a090: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
+0000a0a0: 2d2d 7472 6163 652d 7461 7267 6574 222c  --trace-target",
+0000a0b0: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
+0000a0c0: 653d 7374 722c 0a20 2020 2020 2020 2020  e=str,.         
+0000a0d0: 2020 206d 6574 6176 6172 3d22 3c74 7261     metavar="<tra
+0000a0e0: 6365 2d74 6172 6765 743e 222c 0a20 2020  ce-target>",.   
+0000a0f0: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+0000a100: 3d22 4143 4150 595f 5452 4143 455f 5441  ="ACAPY_TRACE_TA
+0000a110: 5247 4554 222c 0a20 2020 2020 2020 2020  RGET",.         
+0000a120: 2020 2068 656c 703d 2754 6172 6765 7420     help='Target 
+0000a130: 666f 7220 7472 6163 6520 6576 656e 7473  for trace events
+0000a140: 2028 226c 6f67 222c 2022 6d65 7373 6167   ("log", "messag
+0000a150: 6522 2c20 6f72 2068 7474 7020 656e 6470  e", or http endp
+0000a160: 6f69 6e74 292e 272c 0a20 2020 2020 2020  oint).',.       
+0000a170: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+0000a180: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+0000a190: 2020 2020 2020 2020 2020 2020 222d 2d74              "--t
+0000a1a0: 7261 6365 2d74 6167 222c 0a20 2020 2020  race-tag",.     
+0000a1b0: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
+0000a1c0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+0000a1d0: 6176 6172 3d22 3c74 7261 6365 2d74 6167  avar="<trace-tag
+0000a1e0: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
+0000a1f0: 656e 765f 7661 723d 2241 4341 5059 5f54  env_var="ACAPY_T
+0000a200: 5241 4345 5f54 4147 222c 0a20 2020 2020  RACE_TAG",.     
+0000a210: 2020 2020 2020 2068 656c 703d 2254 6167         help="Tag
+0000a220: 2074 6f20 6265 2069 6e63 6c75 6465 6420   to be included 
+0000a230: 7768 656e 206c 6f67 6769 6e67 2065 7665  when logging eve
+0000a240: 6e74 732e 222c 0a20 2020 2020 2020 2029  nts.",.        )
+0000a250: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+0000a260: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+0000a270: 2020 2020 2020 2020 2020 222d 2d74 7261            "--tra
+0000a280: 6365 2d6c 6162 656c 222c 0a20 2020 2020  ce-label",.     
+0000a290: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
+0000a2a0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+0000a2b0: 6176 6172 3d22 3c74 7261 6365 2d6c 6162  avar="<trace-lab
+0000a2c0: 656c 3e22 2c0a 2020 2020 2020 2020 2020  el>",.          
+0000a2d0: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
+0000a2e0: 5f54 5241 4345 5f4c 4142 454c 222c 0a20  _TRACE_LABEL",. 
+0000a2f0: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+0000a300: 224c 6162 656c 2028 6167 656e 7420 6e61  "Label (agent na
+0000a310: 6d65 2920 7573 6564 206c 6f67 6769 6e67  me) used logging
+0000a320: 2065 7665 6e74 732e 222c 0a20 2020 2020   events.",.     
+0000a330: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+0000a340: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+0000a350: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+0000a360: 2d70 7265 7365 7276 652d 6578 6368 616e  -preserve-exchan
+0000a370: 6765 2d72 6563 6f72 6473 222c 0a20 2020  ge-records",.   
+0000a380: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+0000a390: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
+0000a3a0: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+0000a3b0: 723d 2241 4341 5059 5f50 5245 5345 5256  r="ACAPY_PRESERV
+0000a3c0: 455f 4558 4348 414e 4745 5f52 4543 4f52  E_EXCHANGE_RECOR
+0000a3d0: 4453 222c 0a20 2020 2020 2020 2020 2020  DS",.           
+0000a3e0: 2068 656c 703d 224b 6565 7020 6372 6564   help="Keep cred
+0000a3f0: 656e 7469 616c 2065 7863 6861 6e67 6520  ential exchange 
+0000a400: 7265 636f 7264 7320 6166 7465 7220 6578  records after ex
+0000a410: 6368 616e 6765 2068 6173 2063 6f6d 706c  change has compl
+0000a420: 6574 6564 2e22 2c0a 2020 2020 2020 2020  eted.",.        
+0000a430: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
+0000a440: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+0000a450: 2020 2020 2020 2020 2020 2022 2d2d 656d             "--em
+0000a460: 6974 2d6e 6577 2d64 6964 636f 6d6d 2d70  it-new-didcomm-p
+0000a470: 7265 6669 7822 2c0a 2020 2020 2020 2020  refix",.        
+0000a480: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
+0000a490: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
+0000a4a0: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
+0000a4b0: 4150 595f 454d 4954 5f4e 4557 5f44 4944  APY_EMIT_NEW_DID
+0000a4c0: 434f 4d4d 5f50 5245 4649 5822 2c0a 2020  COMM_PREFIX",.  
+0000a4d0: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+0000a4e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a4f0: 2022 456d 6974 2070 726f 746f 636f 6c20   "Emit protocol 
+0000a500: 6d65 7373 6167 6573 2077 6974 6820 6e65  messages with ne
+0000a510: 7720 4449 4443 6f6d 6d20 7072 6566 6978  w DIDComm prefix
+0000a520: 3b20 692e 652e 2c20 220a 2020 2020 2020  ; i.e., ".      
+0000a530: 2020 2020 2020 2020 2020 2227 6874 7470            "'http
+0000a540: 733a 2f2f 6469 6463 6f6d 6d2e 6f72 672f  s://didcomm.org/
+0000a550: 2720 696e 7374 6561 6420 6f66 2028 6465  ' instead of (de
+0000a560: 6661 756c 7429 2070 7265 6669 7820 220a  fault) prefix ".
+0000a570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a580: 2227 6469 643a 736f 763a 427a 4362 734e  "'did:sov:BzCbsN
+0000a590: 5968 4d72 6a48 6971 5a44 5455 4153 4867  YhMrjHiqZDTUASHg
+0000a5a0: 3b73 7065 632f 272e 220a 2020 2020 2020  ;spec/'.".      
+0000a5b0: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+0000a5c0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+0000a5d0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+0000a5e0: 2020 2020 2020 2020 2020 2020 222d 2d65              "--e
+0000a5f0: 6d69 742d 6e65 772d 6469 6463 6f6d 6d2d  mit-new-didcomm-
+0000a600: 6d69 6d65 2d74 7970 6522 2c0a 2020 2020  mime-type",.    
+0000a610: 2020 2020 2020 2020 6163 7469 6f6e 3d22          action="
+0000a620: 7374 6f72 655f 7472 7565 222c 0a20 2020  store_true",.   
+0000a630: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+0000a640: 3d22 4143 4150 595f 454d 4954 5f4e 4557  ="ACAPY_EMIT_NEW
+0000a650: 5f44 4944 434f 4d4d 5f4d 494d 455f 5459  _DIDCOMM_MIME_TY
+0000a660: 5045 222c 0a20 2020 2020 2020 2020 2020  PE",.           
+0000a670: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
+0000a680: 2020 2020 2020 2020 2253 656e 6420 7061          "Send pa
+0000a690: 636b 6564 2061 6765 6e74 206d 6573 7361  cked agent messa
+0000a6a0: 6765 7320 7769 7468 2074 6865 2044 4944  ges with the DID
+0000a6b0: 436f 6d6d 204d 494d 4520 7479 7065 2022  Comm MIME type "
+0000a6c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a6d0: 2022 6173 206f 6620 5246 4320 3030 3434   "as of RFC 0044
+0000a6e0: 3b20 692e 652e 2c20 2761 7070 6c69 6361  ; i.e., 'applica
+0000a6f0: 7469 6f6e 2f64 6964 636f 6d6d 2d65 6e76  tion/didcomm-env
+0000a700: 656c 6f70 652d 656e 6327 2022 0a20 2020  elope-enc' ".   
+0000a710: 2020 2020 2020 2020 2020 2020 2022 696e               "in
+0000a720: 7374 6561 6420 6f66 2027 6170 706c 6963  stead of 'applic
+0000a730: 6174 696f 6e2f 7373 692d 6167 656e 742d  ation/ssi-agent-
+0000a740: 7769 7265 272e 220a 2020 2020 2020 2020  wire'.".        
+0000a750: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+0000a760: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+0000a770: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+0000a780: 2020 2020 2020 2020 2020 222d 2d65 7863            "--exc
+0000a790: 682d 7573 652d 756e 656e 6372 7970 7465  h-use-unencrypte
+0000a7a0: 642d 7461 6773 222c 0a20 2020 2020 2020  d-tags",.       
+0000a7b0: 2020 2020 2061 6374 696f 6e3d 2273 746f       action="sto
+0000a7c0: 7265 5f74 7275 6522 2c0a 2020 2020 2020  re_true",.      
+0000a7d0: 2020 2020 2020 656e 765f 7661 723d 2241        env_var="A
+0000a7e0: 4341 5059 5f45 5843 485f 5553 455f 554e  CAPY_EXCH_USE_UN
+0000a7f0: 454e 4352 5950 5445 445f 5441 4753 222c  ENCRYPTED_TAGS",
+0000a800: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+0000a810: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+0000a820: 2020 2020 2253 746f 7265 2074 6167 7320      "Store tags 
+0000a830: 666f 7220 6578 6368 616e 6765 2070 726f  for exchange pro
+0000a840: 746f 636f 6c73 2028 6372 6564 656e 7469  tocols (credenti
+0000a850: 616c 2061 6e64 2070 7265 7365 6e74 6174  al and presentat
+0000a860: 696f 6e29 2022 0a20 2020 2020 2020 2020  ion) ".         
+0000a870: 2020 2020 2020 2022 7573 696e 6720 756e         "using un
+0000a880: 656e 6372 7970 7465 6420 7261 7468 6572  encrypted rather
+0000a890: 2074 6861 6e20 656e 6372 7970 7465 6420   than encrypted 
+0000a8a0: 7461 6773 220a 2020 2020 2020 2020 2020  tags".          
+0000a8b0: 2020 292c 0a20 2020 2020 2020 2029 0a0a    ),.        )..
+0000a8c0: 2020 2020 6465 6620 6765 745f 7365 7474      def get_sett
+0000a8d0: 696e 6773 2873 656c 662c 2061 7267 733a  ings(self, args:
+0000a8e0: 204e 616d 6573 7061 6365 2920 2d3e 2064   Namespace) -> d
+0000a8f0: 6963 743a 0a20 2020 2020 2020 2022 2222  ict:.        """
+0000a900: 4765 7420 7072 6f74 6f63 6f6c 2073 6574  Get protocol set
+0000a910: 7469 6e67 732e 2222 220a 2020 2020 2020  tings.""".      
+0000a920: 2020 7365 7474 696e 6773 203d 207b 7d0a    settings = {}.
+0000a930: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
+0000a940: 6175 746f 5f70 696e 675f 636f 6e6e 6563  auto_ping_connec
+0000a950: 7469 6f6e 3a0a 2020 2020 2020 2020 2020  tion:.          
+0000a960: 2020 7365 7474 696e 6773 5b22 6175 746f    settings["auto
+0000a970: 5f70 696e 675f 636f 6e6e 6563 7469 6f6e  _ping_connection
+0000a980: 225d 203d 2054 7275 650a 2020 2020 2020  "] = True.      
+0000a990: 2020 6966 2061 7267 732e 6175 746f 5f61    if args.auto_a
+0000a9a0: 6363 6570 745f 696e 7472 6f5f 696e 7669  ccept_intro_invi
+0000a9b0: 7461 7469 6f6e 5f72 6571 7565 7374 733a  tation_requests:
+0000a9c0: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
+0000a9d0: 7469 6e67 735b 2261 7574 6f5f 6163 6365  tings["auto_acce
+0000a9e0: 7074 5f69 6e74 726f 5f69 6e76 6974 6174  pt_intro_invitat
+0000a9f0: 696f 6e5f 7265 7175 6573 7473 225d 203d  ion_requests"] =
+0000aa00: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
+0000aa10: 2061 7267 732e 696e 7669 7465 5f62 6173   args.invite_bas
+0000aa20: 655f 7572 6c3a 0a20 2020 2020 2020 2020  e_url:.         
+0000aa30: 2020 2073 6574 7469 6e67 735b 2269 6e76     settings["inv
+0000aa40: 6974 655f 6261 7365 5f75 726c 225d 203d  ite_base_url"] =
+0000aa50: 2061 7267 732e 696e 7669 7465 5f62 6173   args.invite_bas
+0000aa60: 655f 7572 6c0a 2020 2020 2020 2020 6966  e_url.        if
+0000aa70: 2061 7267 732e 6d6f 6e69 746f 725f 7069   args.monitor_pi
+0000aa80: 6e67 3a0a 2020 2020 2020 2020 2020 2020  ng:.            
+0000aa90: 7365 7474 696e 6773 5b22 6465 6275 672e  settings["debug.
+0000aaa0: 6d6f 6e69 746f 725f 7069 6e67 225d 203d  monitor_ping"] =
+0000aab0: 2061 7267 732e 6d6f 6e69 746f 725f 7069   args.monitor_pi
+0000aac0: 6e67 0a20 2020 2020 2020 2069 6620 6172  ng.        if ar
+0000aad0: 6773 2e6d 6f6e 6974 6f72 5f66 6f72 7761  gs.monitor_forwa
+0000aae0: 7264 3a0a 2020 2020 2020 2020 2020 2020  rd:.            
+0000aaf0: 7365 7474 696e 6773 5b22 6d6f 6e69 746f  settings["monito
+0000ab00: 725f 666f 7277 6172 6422 5d20 3d20 6172  r_forward"] = ar
+0000ab10: 6773 2e6d 6f6e 6974 6f72 5f66 6f72 7761  gs.monitor_forwa
+0000ab20: 7264 0a20 2020 2020 2020 2069 6620 6172  rd.        if ar
+0000ab30: 6773 2e70 7562 6c69 635f 696e 7669 7465  gs.public_invite
+0000ab40: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0000ab50: 6574 7469 6e67 735b 2270 7562 6c69 635f  ettings["public_
+0000ab60: 696e 7669 7465 7322 5d20 3d20 5472 7565  invites"] = True
+0000ab70: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000ab80: 2e72 6571 7565 7374 735f 7468 726f 7567  .requests_throug
+0000ab90: 685f 7075 626c 6963 5f64 6964 3a0a 2020  h_public_did:.  
+0000aba0: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
+0000abb0: 2061 7267 732e 7075 626c 6963 5f69 6e76   args.public_inv
+0000abc0: 6974 6573 3a0a 2020 2020 2020 2020 2020  ites:.          
+0000abd0: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
+0000abe0: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
+0000abf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac00: 222d 2d70 7562 6c69 632d 696e 7669 7465  "--public-invite
+0000ac10: 7320 6973 2072 6571 7569 7265 6420 746f  s is required to
+0000ac20: 2075 7365 2022 0a20 2020 2020 2020 2020   use ".         
+0000ac30: 2020 2020 2020 2020 2020 2022 2d2d 7265             "--re
+0000ac40: 7175 6573 7473 2d74 6872 6f75 6768 2d70  quests-through-p
+0000ac50: 7562 6c69 632d 6469 6422 0a20 2020 2020  ublic-did".     
+0000ac60: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0000ac70: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000ac80: 735b 2272 6571 7565 7374 735f 7468 726f  s["requests_thro
+0000ac90: 7567 685f 7075 626c 6963 5f64 6964 225d  ugh_public_did"]
+0000aca0: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+0000acb0: 6966 2061 7267 732e 7469 6d69 6e67 3a0a  if args.timing:.
+0000acc0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+0000acd0: 696e 6773 5b22 7469 6d69 6e67 2e65 6e61  ings["timing.ena
+0000ace0: 626c 6564 225d 203d 2054 7275 650a 2020  bled"] = True.  
+0000acf0: 2020 2020 2020 6966 2061 7267 732e 7469        if args.ti
+0000ad00: 6d69 6e67 5f6c 6f67 3a0a 2020 2020 2020  ming_log:.      
+0000ad10: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000ad20: 7469 6d69 6e67 2e6c 6f67 5f66 696c 6522  timing.log_file"
+0000ad30: 5d20 3d20 6172 6773 2e74 696d 696e 675f  ] = args.timing_
+0000ad40: 6c6f 670a 2020 2020 2020 2020 2320 6e6f  log.        # no
+0000ad50: 7465 2074 6861 7420 796f 7520 6361 6e20  te that you can 
+0000ad60: 636f 6e66 6967 7572 6520 7472 6163 696e  configure tracin
+0000ad70: 6720 7769 7468 6f75 7420 6163 7475 616c  g without actual
+0000ad80: 6c79 2065 6e61 626c 696e 6720 6974 0a20  ly enabling it. 
+0000ad90: 2020 2020 2020 2023 2074 6869 7320 6973         # this is
+0000ada0: 2074 6f20 616c 6c6f 7720 6d65 7373 6167   to allow messag
+0000adb0: 652d 206f 7220 6578 6368 616e 6765 2d73  e- or exchange-s
+0000adc0: 7065 6369 6669 6320 7472 6163 696e 6720  pecific tracing 
+0000add0: 2876 7320 676c 6f62 616c 290a 2020 2020  (vs global).    
+0000ade0: 2020 2020 7365 7474 696e 6773 5b22 7472      settings["tr
+0000adf0: 6163 652e 7461 7267 6574 225d 203d 2022  ace.target"] = "
+0000ae00: 6c6f 6722 0a20 2020 2020 2020 2073 6574  log".        set
+0000ae10: 7469 6e67 735b 2274 7261 6365 2e74 6167  tings["trace.tag
+0000ae20: 225d 203d 2022 220a 2020 2020 2020 2020  "] = "".        
+0000ae30: 6966 2061 7267 732e 7472 6163 653a 0a20  if args.trace:. 
+0000ae40: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+0000ae50: 6e67 735b 2274 7261 6365 2e65 6e61 626c  ngs["trace.enabl
+0000ae60: 6564 225d 203d 2054 7275 650a 2020 2020  ed"] = True.    
+0000ae70: 2020 2020 6966 2061 7267 732e 7472 6163      if args.trac
+0000ae80: 655f 7461 7267 6574 3a0a 2020 2020 2020  e_target:.      
+0000ae90: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000aea0: 7472 6163 652e 7461 7267 6574 225d 203d  trace.target"] =
+0000aeb0: 2061 7267 732e 7472 6163 655f 7461 7267   args.trace_targ
+0000aec0: 6574 0a20 2020 2020 2020 2069 6620 6172  et.        if ar
+0000aed0: 6773 2e74 7261 6365 5f74 6167 3a0a 2020  gs.trace_tag:.  
+0000aee0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+0000aef0: 6773 5b22 7472 6163 652e 7461 6722 5d20  gs["trace.tag"] 
+0000af00: 3d20 6172 6773 2e74 7261 6365 5f74 6167  = args.trace_tag
+0000af10: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000af20: 2e74 7261 6365 5f6c 6162 656c 3a0a 2020  .trace_label:.  
+0000af30: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+0000af40: 6773 5b22 7472 6163 652e 6c61 6265 6c22  gs["trace.label"
+0000af50: 5d20 3d20 6172 6773 2e74 7261 6365 5f6c  ] = args.trace_l
+0000af60: 6162 656c 0a20 2020 2020 2020 2065 6c69  abel.        eli
+0000af70: 6620 6172 6773 2e6c 6162 656c 3a0a 2020  f args.label:.  
+0000af80: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+0000af90: 6773 5b22 7472 6163 652e 6c61 6265 6c22  gs["trace.label"
+0000afa0: 5d20 3d20 6172 6773 2e6c 6162 656c 0a20  ] = args.label. 
+0000afb0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000afc0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000afd0: 735b 2274 7261 6365 2e6c 6162 656c 225d  s["trace.label"]
+0000afe0: 203d 2022 6163 612d 7079 2e61 6765 6e74   = "aca-py.agent
+0000aff0: 220a 2020 2020 2020 2020 6966 2073 6574  ".        if set
+0000b000: 7469 6e67 732e 6765 7428 2274 7261 6365  tings.get("trace
+0000b010: 2e65 6e61 626c 6564 2229 206f 7220 7365  .enabled") or se
+0000b020: 7474 696e 6773 2e67 6574 2822 7472 6163  ttings.get("trac
+0000b030: 652e 7461 7267 6574 2229 3a0a 2020 2020  e.target"):.    
+0000b040: 2020 2020 2020 2020 2320 6d61 6b65 2073          # make s
+0000b050: 7572 6520 7765 2063 616e 2074 7261 6365  ure we can trace
+0000b060: 2074 6f20 7468 6520 636f 6e66 6967 7572   to the configur
+0000b070: 6564 2074 6172 6765 740a 2020 2020 2020  ed target.      
+0000b080: 2020 2020 2020 2320 2874 6172 6765 7420        # (target 
+0000b090: 6361 6e20 6265 2073 6574 2065 7665 6e20  can be set even 
+0000b0a0: 6966 2074 7261 6369 6e67 2069 7320 6f66  if tracing is of
+0000b0b0: 6629 0a20 2020 2020 2020 2020 2020 2074  f).            t
+0000b0c0: 7279 3a0a 2020 2020 2020 2020 2020 2020  ry:.            
+0000b0d0: 2020 2020 7472 6163 655f 6576 656e 7428      trace_event(
+0000b0e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b0f0: 2020 2020 2073 6574 7469 6e67 732c 0a20       settings,. 
+0000b100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b110: 2020 204e 6f6e 652c 0a20 2020 2020 2020     None,.       
+0000b120: 2020 2020 2020 2020 2020 2020 2068 616e               han
+0000b130: 646c 6572 3d22 4172 6750 6172 7365 222c  dler="ArgParse",
+0000b140: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b150: 2020 2020 206f 7574 636f 6d65 3d22 5375       outcome="Su
+0000b160: 6363 6573 7366 756c 6c79 5f63 6f6e 6669  ccessfully_confi
+0000b170: 6775 7265 645f 6163 612d 7079 222c 0a20  gured_aca-py",. 
+0000b180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b190: 2020 2072 6169 7365 5f65 7272 6f72 733d     raise_errors=
+0000b1a0: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
+0000b1b0: 2020 2020 2020 2020 2020 666f 7263 655f            force_
+0000b1c0: 7472 6163 653d 5472 7565 2c0a 2020 2020  trace=True,.    
+0000b1d0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0000b1e0: 2020 2020 2020 2020 2020 6578 6365 7074            except
+0000b1f0: 2045 7863 6570 7469 6f6e 2061 7320 653a   Exception as e:
+0000b200: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b210: 2072 6169 7365 2041 7267 7350 6172 7365   raise ArgsParse
+0000b220: 4572 726f 7228 2245 7272 6f72 2077 7269  Error("Error wri
+0000b230: 7469 6e67 2074 7261 6365 2065 7665 6e74  ting trace event
+0000b240: 2022 202b 2073 7472 2865 2929 0a20 2020   " + str(e)).   
+0000b250: 2020 2020 2069 6620 6172 6773 2e70 7265       if args.pre
+0000b260: 7365 7276 655f 6578 6368 616e 6765 5f72  serve_exchange_r
+0000b270: 6563 6f72 6473 3a0a 2020 2020 2020 2020  ecords:.        
+0000b280: 2020 2020 7365 7474 696e 6773 5b22 7072      settings["pr
+0000b290: 6573 6572 7665 5f65 7863 6861 6e67 655f  eserve_exchange_
+0000b2a0: 7265 636f 7264 7322 5d20 3d20 5472 7565  records"] = True
+0000b2b0: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000b2c0: 2e65 6d69 745f 6e65 775f 6469 6463 6f6d  .emit_new_didcom
+0000b2d0: 6d5f 7072 6566 6978 3a0a 2020 2020 2020  m_prefix:.      
+0000b2e0: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000b2f0: 656d 6974 5f6e 6577 5f64 6964 636f 6d6d  emit_new_didcomm
+0000b300: 5f70 7265 6669 7822 5d20 3d20 5472 7565  _prefix"] = True
+0000b310: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000b320: 2e65 6d69 745f 6e65 775f 6469 6463 6f6d  .emit_new_didcom
+0000b330: 6d5f 6d69 6d65 5f74 7970 653a 0a20 2020  m_mime_type:.   
+0000b340: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000b350: 735b 2265 6d69 745f 6e65 775f 6469 6463  s["emit_new_didc
+0000b360: 6f6d 6d5f 6d69 6d65 5f74 7970 6522 5d20  omm_mime_type"] 
+0000b370: 3d20 5472 7565 0a20 2020 2020 2020 2069  = True.        i
+0000b380: 6620 6172 6773 2e65 7863 685f 7573 655f  f args.exch_use_
+0000b390: 756e 656e 6372 7970 7465 645f 7461 6773  unencrypted_tags
+0000b3a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0000b3b0: 7474 696e 6773 5b22 6578 6368 5f75 7365  ttings["exch_use
+0000b3c0: 5f75 6e65 6e63 7279 7074 6564 5f74 6167  _unencrypted_tag
+0000b3d0: 7322 5d20 3d20 5472 7565 0a20 2020 2020  s"] = True.     
+0000b3e0: 2020 2020 2020 2065 6e76 6972 6f6e 5b22         environ["
+0000b3f0: 4558 4348 5f55 4e45 4e43 5259 5054 4544  EXCH_UNENCRYPTED
+0000b400: 5f54 4147 5322 5d20 3d20 2254 7275 6522  _TAGS"] = "True"
+0000b410: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+0000b420: 7365 7474 696e 6773 0a0a 0a40 6772 6f75  settings...@grou
+0000b430: 7028 4341 545f 5354 4152 5429 0a63 6c61  p(CAT_START).cla
+0000b440: 7373 2053 7461 7274 7570 4772 6f75 7028  ss StartupGroup(
+0000b450: 4172 6775 6d65 6e74 4772 6f75 7029 3a0a  ArgumentGroup):.
+0000b460: 2020 2020 2222 2253 7461 7274 7570 2073      """Startup s
+0000b470: 6574 7469 6e67 732e 2222 220a 0a20 2020  ettings."""..   
+0000b480: 2047 524f 5550 5f4e 414d 4520 3d20 2253   GROUP_NAME = "S
+0000b490: 7461 7274 2d75 7022 0a0a 2020 2020 6465  tart-up"..    de
+0000b4a0: 6620 6164 645f 6172 6775 6d65 6e74 7328  f add_arguments(
+0000b4b0: 7365 6c66 2c20 7061 7273 6572 3a20 4172  self, parser: Ar
+0000b4c0: 6775 6d65 6e74 5061 7273 6572 293a 0a20  gumentParser):. 
+0000b4d0: 2020 2020 2020 2022 2222 4164 6420 7374         """Add st
+0000b4e0: 6172 7475 702d 7370 6563 6966 6963 2063  artup-specific c
+0000b4f0: 6f6d 6d61 6e64 206c 696e 6520 6172 6775  ommand line argu
+0000b500: 6d65 6e74 7320 746f 2074 6865 2070 6172  ments to the par
+0000b510: 7365 722e 2222 220a 2020 2020 2020 2020  ser.""".        
+0000b520: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+0000b530: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+0000b540: 2022 2d2d 6175 746f 2d70 726f 7669 7369   "--auto-provisi
+0000b550: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+0000b560: 2061 6374 696f 6e3d 2273 746f 7265 5f74   action="store_t
+0000b570: 7275 6522 2c0a 2020 2020 2020 2020 2020  rue",.          
+0000b580: 2020 656e 765f 7661 723d 2241 4341 5059    env_var="ACAPY
+0000b590: 5f41 5554 4f5f 5052 4f56 4953 494f 4e22  _AUTO_PROVISION"
+0000b5a0: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+0000b5b0: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+0000b5c0: 2020 2020 2022 4966 2074 6865 2072 6571       "If the req
+0000b5d0: 7565 7374 6564 2070 726f 6669 6c65 2064  uested profile d
+0000b5e0: 6f65 7320 6e6f 7420 6578 6973 742c 2069  oes not exist, i
+0000b5f0: 6e69 7469 616c 697a 6520 6974 2077 6974  nitialize it wit
+0000b600: 6820 220a 2020 2020 2020 2020 2020 2020  h ".            
+0000b610: 2020 2020 2274 6865 2067 6976 656e 2070      "the given p
+0000b620: 6172 616d 6574 6572 732e 220a 2020 2020  arameters.".    
+0000b630: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+0000b640: 2020 2029 0a0a 2020 2020 6465 6620 6765     )..    def ge
+0000b650: 745f 7365 7474 696e 6773 2873 656c 662c  t_settings(self,
+0000b660: 2061 7267 733a 204e 616d 6573 7061 6365   args: Namespace
+0000b670: 293a 0a20 2020 2020 2020 2022 2222 4578  ):.        """Ex
+0000b680: 7472 6163 7420 7374 6172 7475 7020 7365  tract startup se
+0000b690: 7474 696e 6773 2e22 2222 0a20 2020 2020  ttings.""".     
+0000b6a0: 2020 2073 6574 7469 6e67 7320 3d20 7b7d     settings = {}
+0000b6b0: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000b6c0: 2e61 7574 6f5f 7072 6f76 6973 696f 6e3a  .auto_provision:
+0000b6d0: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
+0000b6e0: 7469 6e67 735b 2261 7574 6f5f 7072 6f76  tings["auto_prov
+0000b6f0: 6973 696f 6e22 5d20 3d20 5472 7565 0a20  ision"] = True. 
+0000b700: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
+0000b710: 7474 696e 6773 0a0a 0a40 6772 6f75 7028  ttings...@group(
+0000b720: 4341 545f 5354 4152 5429 0a63 6c61 7373  CAT_START).class
+0000b730: 2054 7261 6e73 706f 7274 4772 6f75 7028   TransportGroup(
+0000b740: 4172 6775 6d65 6e74 4772 6f75 7029 3a0a  ArgumentGroup):.
+0000b750: 2020 2020 2222 2254 7261 6e73 706f 7274      """Transport
+0000b760: 2073 6574 7469 6e67 732e 2222 220a 0a20   settings.""".. 
+0000b770: 2020 2047 524f 5550 5f4e 414d 4520 3d20     GROUP_NAME = 
+0000b780: 2254 7261 6e73 706f 7274 220a 0a20 2020  "Transport"..   
+0000b790: 2064 6566 2061 6464 5f61 7267 756d 656e   def add_argumen
+0000b7a0: 7473 2873 656c 662c 2070 6172 7365 723a  ts(self, parser:
+0000b7b0: 2041 7267 756d 656e 7450 6172 7365 7229   ArgumentParser)
+0000b7c0: 3a0a 2020 2020 2020 2020 2222 2241 6464  :.        """Add
+0000b7d0: 2074 7261 6e73 706f 7274 2d73 7065 6369   transport-speci
+0000b7e0: 6669 6320 636f 6d6d 616e 6420 6c69 6e65  fic command line
+0000b7f0: 2061 7267 756d 656e 7473 2074 6f20 7468   arguments to th
+0000b800: 6520 7061 7273 6572 2e22 2222 0a20 2020  e parser.""".   
+0000b810: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
+0000b820: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
+0000b830: 2020 2020 2020 222d 6974 222c 0a20 2020        "-it",.   
+0000b840: 2020 2020 2020 2020 2022 2d2d 696e 626f           "--inbo
+0000b850: 756e 642d 7472 616e 7370 6f72 7422 2c0a  und-transport",.
+0000b860: 2020 2020 2020 2020 2020 2020 6465 7374              dest
+0000b870: 3d22 696e 626f 756e 645f 7472 616e 7370  ="inbound_transp
+0000b880: 6f72 7473 222c 0a20 2020 2020 2020 2020  orts",.         
+0000b890: 2020 2074 7970 653d 7374 722c 0a20 2020     type=str,.   
+0000b8a0: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+0000b8b0: 2261 7070 656e 6422 2c0a 2020 2020 2020  "append",.      
+0000b8c0: 2020 2020 2020 6e61 7267 733d 332c 0a20        nargs=3,. 
+0000b8d0: 2020 2020 2020 2020 2020 206d 6574 6176             metav
+0000b8e0: 6172 3d28 223c 6d6f 6475 6c65 3e22 2c20  ar=("<module>", 
+0000b8f0: 223c 686f 7374 3e22 2c20 223c 706f 7274  "<host>", "<port
+0000b900: 3e22 292c 0a20 2020 2020 2020 2020 2020  >"),.           
+0000b910: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
+0000b920: 494e 424f 554e 445f 5452 414e 5350 4f52  INBOUND_TRANSPOR
+0000b930: 5422 2c0a 2020 2020 2020 2020 2020 2020  T",.            
+0000b940: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
+0000b950: 2020 2020 2020 2022 5245 5155 4952 4544         "REQUIRED
+0000b960: 2e20 4465 6669 6e65 7320 7468 6520 696e  . Defines the in
+0000b970: 626f 756e 6420 7472 616e 7370 6f72 7428  bound transport(
+0000b980: 7329 206f 6e20 7768 6963 6820 7468 6520  s) on which the 
+0000b990: 6167 656e 7420 220a 2020 2020 2020 2020  agent ".        
+0000b9a0: 2020 2020 2020 2020 226c 6973 7465 6e73          "listens
+0000b9b0: 2066 6f72 2072 6563 6569 7669 6e67 206d   for receiving m
+0000b9c0: 6573 7361 6765 7320 6672 6f6d 206f 7468  essages from oth
+0000b9d0: 6572 2061 6765 6e74 732e 2054 6869 7320  er agents. This 
+0000b9e0: 7061 7261 6d65 7465 7220 6361 6e20 220a  parameter can ".
+0000b9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ba00: 2262 6520 7370 6563 6966 6965 6420 6d75  "be specified mu
+0000ba10: 6c74 6970 6c65 2074 696d 6573 2074 6f20  ltiple times to 
+0000ba20: 6372 6561 7465 206d 756c 7469 706c 6520  create multiple 
+0000ba30: 696e 7465 7266 6163 6573 2e20 220a 2020  interfaces. ".  
+0000ba40: 2020 2020 2020 2020 2020 2020 2020 2242                "B
+0000ba50: 7569 6c74 2d69 6e20 696e 626f 756e 6420  uilt-in inbound 
+0000ba60: 7472 616e 7370 6f72 7420 7479 7065 7320  transport types 
+0000ba70: 696e 636c 7564 6520 2768 7474 7027 2061  include 'http' a
+0000ba80: 6e64 2027 7773 272e 2022 0a20 2020 2020  nd 'ws'. ".     
+0000ba90: 2020 2020 2020 2020 2020 2022 486f 7765             "Howe
+0000baa0: 7665 722c 206f 7468 6572 2074 7261 6e73  ver, other trans
+0000bab0: 706f 7274 7320 6361 6e20 6265 206c 6f61  ports can be loa
+0000bac0: 6465 6420 6279 2073 7065 6369 6679 696e  ded by specifyin
+0000bad0: 6720 616e 2061 6273 6f6c 7574 6520 220a  g an absolute ".
+0000bae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000baf0: 226d 6f64 756c 6520 7061 7468 2e22 0a20  "module path.". 
+0000bb00: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+0000bb10: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0000bb20: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+0000bb30: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+0000bb40: 2022 2d6f 7422 2c0a 2020 2020 2020 2020   "-ot",.        
+0000bb50: 2020 2020 222d 2d6f 7574 626f 756e 642d      "--outbound-
+0000bb60: 7472 616e 7370 6f72 7422 2c0a 2020 2020  transport",.    
+0000bb70: 2020 2020 2020 2020 6465 7374 3d22 6f75          dest="ou
+0000bb80: 7462 6f75 6e64 5f74 7261 6e73 706f 7274  tbound_transport
+0000bb90: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
+0000bba0: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
+0000bbb0: 2020 2020 2020 6163 7469 6f6e 3d22 6170        action="ap
+0000bbc0: 7065 6e64 222c 0a20 2020 2020 2020 2020  pend",.         
+0000bbd0: 2020 206d 6574 6176 6172 3d22 3c6d 6f64     metavar="<mod
+0000bbe0: 756c 653e 222c 0a20 2020 2020 2020 2020  ule>",.         
+0000bbf0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
+0000bc00: 595f 4f55 5442 4f55 4e44 5f54 5241 4e53  Y_OUTBOUND_TRANS
+0000bc10: 504f 5254 222c 0a20 2020 2020 2020 2020  PORT",.         
+0000bc20: 2020 2068 656c 703d 280a 2020 2020 2020     help=(.      
+0000bc30: 2020 2020 2020 2020 2020 2252 4551 5549            "REQUI
+0000bc40: 5245 442e 2044 6566 696e 6573 2074 6865  RED. Defines the
+0000bc50: 206f 7574 626f 756e 6420 7472 616e 7370   outbound transp
+0000bc60: 6f72 7428 7329 206f 6e20 7768 6963 6820  ort(s) on which 
+0000bc70: 7468 6520 6167 656e 7420 220a 2020 2020  the agent ".    
+0000bc80: 2020 2020 2020 2020 2020 2020 2277 696c              "wil
+0000bc90: 6c20 7365 6e64 206f 7574 676f 696e 6720  l send outgoing 
+0000bca0: 6d65 7373 6167 6573 2074 6f20 6f74 6865  messages to othe
+0000bcb0: 7220 6167 656e 7473 2e20 5468 6973 2070  r agents. This p
+0000bcc0: 6172 616d 6574 6572 2063 616e 2062 6520  arameter can be 
+0000bcd0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0000bce0: 2020 2270 6173 7365 6420 6d75 6c74 6970    "passed multip
+0000bcf0: 6c65 2074 696d 6573 2074 6f20 7375 706f  le times to supo
+0000bd00: 6f72 7420 6d75 6c74 6970 6c65 2074 7261  ort multiple tra
+0000bd10: 6e73 706f 7274 2074 7970 6573 2e20 220a  nsport types. ".
+0000bd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd30: 2253 7570 706f 7274 6564 206f 7574 626f  "Supported outbo
+0000bd40: 756e 6420 7472 616e 7370 6f72 7420 7479  und transport ty
+0000bd50: 7065 7320 6172 6520 2768 7474 7027 2061  pes are 'http' a
+0000bd60: 6e64 2027 7773 272e 220a 2020 2020 2020  nd 'ws'.".      
+0000bd70: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+0000bd80: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+0000bd90: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+0000bda0: 2020 2020 2020 2020 2020 2020 222d 6c22              "-l"
+0000bdb0: 2c0a 2020 2020 2020 2020 2020 2020 222d  ,.            "-
+0000bdc0: 2d6c 6162 656c 222c 0a20 2020 2020 2020  -label",.       
+0000bdd0: 2020 2020 2074 7970 653d 7374 722c 0a20       type=str,. 
+0000bde0: 2020 2020 2020 2020 2020 206d 6574 6176             metav
+0000bdf0: 6172 3d22 3c6c 6162 656c 3e22 2c0a 2020  ar="<label>",.  
+0000be00: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+0000be10: 723d 2241 4341 5059 5f4c 4142 454c 222c  r="ACAPY_LABEL",
+0000be20: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+0000be30: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+0000be40: 2020 2020 2253 7065 6369 6669 6573 2074      "Specifies t
+0000be50: 6865 206c 6162 656c 2066 6f72 2074 6869  he label for thi
+0000be60: 7320 6167 656e 742e 2054 6869 7320 6c61  s agent. This la
+0000be70: 6265 6c20 6973 2070 7562 6c69 6369 7a65  bel is publicize
+0000be80: 6420 220a 2020 2020 2020 2020 2020 2020  d ".            
+0000be90: 2020 2020 2228 7365 6c66 2d61 7474 6573      "(self-attes
+0000bea0: 7465 6429 2074 6f20 6f74 6865 7220 6167  ted) to other ag
+0000beb0: 656e 7473 2061 7320 7061 7274 206f 6620  ents as part of 
+0000bec0: 666f 726d 696e 6720 6120 636f 6e6e 6563  forming a connec
+0000bed0: 7469 6f6e 2e22 0a20 2020 2020 2020 2020  tion.".         
+0000bee0: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
+0000bef0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
+0000bf00: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
+0000bf10: 2020 2020 2020 2020 2022 2d2d 696d 6167           "--imag
+0000bf20: 652d 7572 6c22 2c0a 2020 2020 2020 2020  e-url",.        
+0000bf30: 2020 2020 7479 7065 3d73 7472 2c0a 2020      type=str,.  
+0000bf40: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+0000bf50: 723d 2241 4341 5059 5f49 4d41 4745 5f55  r="ACAPY_IMAGE_U
+0000bf60: 524c 222c 0a20 2020 2020 2020 2020 2020  RL",.           
+0000bf70: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
+0000bf80: 2020 2020 2020 2020 2253 7065 6369 6669          "Specifi
+0000bf90: 6573 2074 6865 2069 6d61 6765 2075 726c  es the image url
+0000bfa0: 2066 6f72 2074 6869 7320 6167 656e 742e   for this agent.
+0000bfb0: 2054 6869 7320 696d 6167 6520 7572 6c20   This image url 
+0000bfc0: 6973 2070 7562 6c69 6369 7a65 6420 220a  is publicized ".
+0000bfd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bfe0: 2228 7365 6c66 2d61 7474 6573 7465 6429  "(self-attested)
+0000bff0: 2074 6f20 6f74 6865 7220 6167 656e 7473   to other agents
+0000c000: 2061 7320 7061 7274 206f 6620 666f 726d   as part of form
+0000c010: 696e 6720 6120 636f 6e6e 6563 7469 6f6e  ing a connection
+0000c020: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
+0000c030: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0000c040: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
+0000c050: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
+0000c060: 2020 2020 2022 2d2d 6d61 782d 6d65 7373       "--max-mess
+0000c070: 6167 652d 7369 7a65 222c 0a20 2020 2020  age-size",.     
+0000c080: 2020 2020 2020 2064 6566 6175 6c74 3d32         default=2
+0000c090: 3039 3731 3532 2c0a 2020 2020 2020 2020  097152,.        
+0000c0a0: 2020 2020 7479 7065 3d42 7974 6553 697a      type=ByteSiz
+0000c0b0: 6528 6d69 6e3d 3130 3234 292c 0a20 2020  e(min=1024),.   
+0000c0c0: 2020 2020 2020 2020 206d 6574 6176 6172           metavar
+0000c0d0: 3d22 3c6d 6573 7361 6765 2d73 697a 653e  ="<message-size>
+0000c0e0: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+0000c0f0: 6e76 5f76 6172 3d22 4143 4150 595f 4d41  nv_var="ACAPY_MA
+0000c100: 585f 4d45 5353 4147 455f 5349 5a45 222c  X_MESSAGE_SIZE",
+0000c110: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+0000c120: 703d 2253 6574 2074 6865 206d 6178 696d  p="Set the maxim
+0000c130: 756d 2073 697a 6520 696e 2062 7974 6573  um size in bytes
+0000c140: 2066 6f72 2069 6e62 6f75 6e64 2061 6765   for inbound age
+0000c150: 6e74 206d 6573 7361 6765 732e 222c 0a20  nt messages.",. 
+0000c160: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0000c170: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+0000c180: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+0000c190: 2020 222d 2d65 6e61 626c 652d 756e 6465    "--enable-unde
+0000c1a0: 6c69 7665 7265 642d 7175 6575 6522 2c0a  livered-queue",.
+0000c1b0: 2020 2020 2020 2020 2020 2020 6163 7469              acti
+0000c1c0: 6f6e 3d22 7374 6f72 655f 7472 7565 222c  on="store_true",
+0000c1d0: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
+0000c1e0: 5f76 6172 3d22 4143 4150 595f 454e 4142  _var="ACAPY_ENAB
+0000c1f0: 4c45 5f55 4e44 454c 4956 4552 4544 5f51  LE_UNDELIVERED_Q
+0000c200: 5545 5545 222c 0a20 2020 2020 2020 2020  UEUE",.         
+0000c210: 2020 2068 656c 703d 280a 2020 2020 2020     help=(.      
+0000c220: 2020 2020 2020 2020 2020 2245 6e61 626c            "Enabl
+0000c230: 6520 7468 6520 6f75 7462 6f75 6e64 2075  e the outbound u
+0000c240: 6e64 656c 6976 6572 6564 2071 7565 7565  ndelivered queue
+0000c250: 2074 6861 7420 656e 6162 6c65 7320 7468   that enables th
+0000c260: 6973 2061 6765 6e74 2022 0a20 2020 2020  is agent ".     
+0000c270: 2020 2020 2020 2020 2020 2022 746f 2068             "to h
+0000c280: 6f6c 6420 6d65 7373 6167 6573 2066 6f72  old messages for
+0000c290: 2064 656c 6976 6572 7920 746f 2061 6765   delivery to age
+0000c2a0: 6e74 7320 7769 7468 6f75 7420 616e 2065  nts without an e
+0000c2b0: 6e64 706f 696e 742e 2054 6869 7320 220a  ndpoint. This ".
+0000c2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c2d0: 226f 7074 696f 6e20 7769 6c6c 2072 6571  "option will req
+0000c2e0: 7569 7265 2061 6464 6974 696f 6e61 6c20  uire additional 
+0000c2f0: 6d65 6d6f 7279 2074 6f20 7374 6f72 6520  memory to store 
+0000c300: 6d65 7373 6167 6573 2069 6e20 7468 6520  messages in the 
+0000c310: 7175 6575 652e 220a 2020 2020 2020 2020  queue.".        
+0000c320: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+0000c330: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+0000c340: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+0000c350: 2020 2020 2020 2020 2020 222d 2d6d 6178            "--max
+0000c360: 2d6f 7574 626f 756e 642d 7265 7472 7922  -outbound-retry"
+0000c370: 2c0a 2020 2020 2020 2020 2020 2020 6465  ,.            de
+0000c380: 6661 756c 743d 342c 0a20 2020 2020 2020  fault=4,.       
+0000c390: 2020 2020 2074 7970 653d 426f 756e 6465       type=Bounde
+0000c3a0: 6449 6e74 286d 696e 3d31 292c 0a20 2020  dInt(min=1),.   
+0000c3b0: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+0000c3c0: 3d22 4143 4150 595f 4d41 585f 4f55 5442  ="ACAPY_MAX_OUTB
+0000c3d0: 4f55 4e44 5f52 4554 5259 222c 0a20 2020  OUND_RETRY",.   
+0000c3e0: 2020 2020 2020 2020 2068 656c 703d 280a           help=(.
+0000c3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c400: 2253 6574 2074 6865 206d 6178 696d 756d  "Set the maximum
+0000c410: 2072 6574 7279 206e 756d 6265 7220 666f   retry number fo
+0000c420: 7220 756e 6465 6c69 7665 7265 6420 6f75  r undelivered ou
+0000c430: 7462 6f75 6e64 2022 0a20 2020 2020 2020  tbound ".       
+0000c440: 2020 2020 2020 2020 2022 6d65 7373 6167           "messag
+0000c450: 6573 2e20 496e 6372 6561 7369 6e67 2074  es. Increasing t
+0000c460: 6869 7320 6e75 6d62 6572 206d 6967 6874  his number might
+0000c470: 2063 6175 7365 2074 6f20 696e 6372 6561   cause to increa
+0000c480: 7365 2074 6865 2022 0a20 2020 2020 2020  se the ".       
+0000c490: 2020 2020 2020 2020 2022 6163 6375 6d75           "accumu
+0000c4a0: 6c61 7465 6420 6d65 7373 6167 6573 2069  lated messages i
+0000c4b0: 6e20 6d65 7373 6167 6520 7175 6575 652e  n message queue.
+0000c4c0: 2044 6566 6175 6c74 2076 616c 7565 2069   Default value i
+0000c4d0: 7320 342e 220a 2020 2020 2020 2020 2020  s 4.".          
+0000c4e0: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
+0000c4f0: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
+0000c500: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
+0000c510: 2020 2020 2020 2020 222d 2d77 732d 6865          "--ws-he
+0000c520: 6172 7462 6561 742d 696e 7465 7276 616c  artbeat-interval
+0000c530: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
+0000c540: 6566 6175 6c74 3d33 2c0a 2020 2020 2020  efault=3,.      
+0000c550: 2020 2020 2020 7479 7065 3d42 6f75 6e64        type=Bound
+0000c560: 6564 496e 7428 6d69 6e3d 3129 2c0a 2020  edInt(min=1),.  
+0000c570: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+0000c580: 723d 2241 4341 5059 5f57 535f 4845 4152  r="ACAPY_WS_HEAR
+0000c590: 5442 4541 545f 494e 5445 5256 414c 222c  TBEAT_INTERVAL",
+0000c5a0: 0a20 2020 2020 2020 2020 2020 206d 6574  .            met
+0000c5b0: 6176 6172 3d22 3c69 6e74 6572 7661 6c3e  avar="<interval>
+0000c5c0: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+0000c5d0: 656c 703d 280a 2020 2020 2020 2020 2020  elp=(.          
+0000c5e0: 2020 2020 2020 2257 6865 6e20 7573 696e        "When usin
+0000c5f0: 6720 5765 6273 6f63 6b65 7420 496e 626f  g Websocket Inbo
+0000c600: 756e 6420 5472 616e 7370 6f72 742c 2073  und Transport, s
+0000c610: 656e 6420 5753 2070 696e 6773 2065 7665  end WS pings eve
+0000c620: 7279 2022 0a20 2020 2020 2020 2020 2020  ry ".           
+0000c630: 2020 2020 2022 3c69 6e74 6572 7661 6c3e       "<interval>
+0000c640: 2073 6563 6f6e 6473 2e22 0a20 2020 2020   seconds.".     
+0000c650: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
+0000c660: 2020 290a 2020 2020 2020 2020 7061 7273    ).        pars
+0000c670: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
+0000c680: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
+0000c690: 7773 2d74 696d 656f 7574 2d69 6e74 6572  ws-timeout-inter
+0000c6a0: 7661 6c22 2c0a 2020 2020 2020 2020 2020  val",.          
+0000c6b0: 2020 6465 6661 756c 743d 3135 2c0a 2020    default=15,.  
+0000c6c0: 2020 2020 2020 2020 2020 7479 7065 3d42            type=B
+0000c6d0: 6f75 6e64 6564 496e 7428 6d69 6e3d 3129  oundedInt(min=1)
+0000c6e0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+0000c6f0: 765f 7661 723d 2241 4341 5059 5f57 535f  v_var="ACAPY_WS_
+0000c700: 5449 4d45 4f55 545f 494e 5445 5256 414c  TIMEOUT_INTERVAL
+0000c710: 222c 0a20 2020 2020 2020 2020 2020 206d  ",.            m
+0000c720: 6574 6176 6172 3d22 3c69 6e74 6572 7661  etavar="<interva
+0000c730: 6c3e 222c 0a20 2020 2020 2020 2020 2020  l>",.           
+0000c740: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
+0000c750: 2020 2020 2020 2020 2257 6865 6e20 7573          "When us
+0000c760: 696e 6720 5765 6273 6f63 6b65 7420 496e  ing Websocket In
+0000c770: 626f 756e 6420 5472 616e 7370 6f72 742c  bound Transport,
+0000c780: 2074 696d 656f 7574 2074 6865 2057 5320   timeout the WS 
+0000c790: 636f 6e6e 6563 7469 6f6e 2022 0a20 2020  connection ".   
+0000c7a0: 2020 2020 2020 2020 2020 2020 2022 6166               "af
+0000c7b0: 7465 7220 3c69 6e74 6572 7661 6c3e 2073  ter <interval> s
+0000c7c0: 6563 6f6e 6473 2077 6974 686f 7574 2061  econds without a
+0000c7d0: 2068 6561 7274 6265 6174 2070 696e 672e   heartbeat ping.
+0000c7e0: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
+0000c7f0: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
+0000c800: 6465 6620 6765 745f 7365 7474 696e 6773  def get_settings
+0000c810: 2873 656c 662c 2061 7267 733a 204e 616d  (self, args: Nam
+0000c820: 6573 7061 6365 293a 0a20 2020 2020 2020  espace):.       
+0000c830: 2022 2222 4578 7472 6163 7420 7472 616e   """Extract tran
+0000c840: 7370 6f72 7420 7365 7474 696e 6773 2e22  sport settings."
+0000c850: 2222 0a20 2020 2020 2020 2073 6574 7469  "".        setti
+0000c860: 6e67 7320 3d20 7b7d 0a20 2020 2020 2020  ngs = {}.       
+0000c870: 2069 6620 6172 6773 2e69 6e62 6f75 6e64   if args.inbound
+0000c880: 5f74 7261 6e73 706f 7274 733a 0a20 2020  _transports:.   
+0000c890: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000c8a0: 735b 2274 7261 6e73 706f 7274 2e69 6e62  s["transport.inb
+0000c8b0: 6f75 6e64 5f63 6f6e 6669 6773 225d 203d  ound_configs"] =
+0000c8c0: 2061 7267 732e 696e 626f 756e 645f 7472   args.inbound_tr
+0000c8d0: 616e 7370 6f72 7473 0a20 2020 2020 2020  ansports.       
+0000c8e0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0000c8f0: 2020 2072 6169 7365 2041 7267 7350 6172     raise ArgsPar
+0000c900: 7365 4572 726f 7228 222d 6974 2f2d 2d69  seError("-it/--i
+0000c910: 6e62 6f75 6e64 2d74 7261 6e73 706f 7274  nbound-transport
+0000c920: 2069 7320 7265 7175 6972 6564 2229 0a20   is required"). 
+0000c930: 2020 2020 2020 2069 6620 6172 6773 2e6f         if args.o
+0000c940: 7574 626f 756e 645f 7472 616e 7370 6f72  utbound_transpor
+0000c950: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
+0000c960: 7365 7474 696e 6773 5b22 7472 616e 7370  settings["transp
+0000c970: 6f72 742e 6f75 7462 6f75 6e64 5f63 6f6e  ort.outbound_con
+0000c980: 6669 6773 225d 203d 2061 7267 732e 6f75  figs"] = args.ou
+0000c990: 7462 6f75 6e64 5f74 7261 6e73 706f 7274  tbound_transport
+0000c9a0: 730a 2020 2020 2020 2020 656c 7365 3a0a  s.        else:.
+0000c9b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000c9c0: 6520 4172 6773 5061 7273 6545 7272 6f72  e ArgsParseError
+0000c9d0: 2822 2d6f 742f 2d2d 6f75 7462 6f75 6e64  ("-ot/--outbound
+0000c9e0: 2d74 7261 6e73 706f 7274 2069 7320 7265  -transport is re
+0000c9f0: 7175 6972 6564 2229 0a20 2020 2020 2020  quired").       
+0000ca00: 2073 6574 7469 6e67 735b 2274 7261 6e73   settings["trans
+0000ca10: 706f 7274 2e65 6e61 626c 655f 756e 6465  port.enable_unde
+0000ca20: 6c69 7665 7265 645f 7175 6575 6522 5d20  livered_queue"] 
+0000ca30: 3d20 6172 6773 2e65 6e61 626c 655f 756e  = args.enable_un
+0000ca40: 6465 6c69 7665 7265 645f 7175 6575 650a  delivered_queue.
+0000ca50: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000ca60: 2e6c 6162 656c 3a0a 2020 2020 2020 2020  .label:.        
+0000ca70: 2020 2020 7365 7474 696e 6773 5b22 6465      settings["de
+0000ca80: 6661 756c 745f 6c61 6265 6c22 5d20 3d20  fault_label"] = 
+0000ca90: 6172 6773 2e6c 6162 656c 0a20 2020 2020  args.label.     
+0000caa0: 2020 2069 6620 6172 6773 2e69 6d61 6765     if args.image
+0000cab0: 5f75 726c 3a0a 2020 2020 2020 2020 2020  _url:.          
+0000cac0: 2020 7365 7474 696e 6773 5b22 696d 6167    settings["imag
+0000cad0: 655f 7572 6c22 5d20 3d20 6172 6773 2e69  e_url"] = args.i
+0000cae0: 6d61 6765 5f75 726c 0a20 2020 2020 2020  mage_url.       
+0000caf0: 2069 6620 6172 6773 2e6d 6178 5f6d 6573   if args.max_mes
+0000cb00: 7361 6765 5f73 697a 653a 0a20 2020 2020  sage_size:.     
+0000cb10: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+0000cb20: 2274 7261 6e73 706f 7274 2e6d 6178 5f6d  "transport.max_m
+0000cb30: 6573 7361 6765 5f73 697a 6522 5d20 3d20  essage_size"] = 
+0000cb40: 6172 6773 2e6d 6178 5f6d 6573 7361 6765  args.max_message
+0000cb50: 5f73 697a 650a 2020 2020 2020 2020 6966  _size.        if
+0000cb60: 2061 7267 732e 6d61 785f 6f75 7462 6f75   args.max_outbou
+0000cb70: 6e64 5f72 6574 7279 3a0a 2020 2020 2020  nd_retry:.      
+0000cb80: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000cb90: 7472 616e 7370 6f72 742e 6d61 785f 6f75  transport.max_ou
+0000cba0: 7462 6f75 6e64 5f72 6574 7279 225d 203d  tbound_retry"] =
+0000cbb0: 2061 7267 732e 6d61 785f 6f75 7462 6f75   args.max_outbou
+0000cbc0: 6e64 5f72 6574 7279 0a20 2020 2020 2020  nd_retry.       
+0000cbd0: 2069 6620 6172 6773 2e77 735f 6865 6172   if args.ws_hear
+0000cbe0: 7462 6561 745f 696e 7465 7276 616c 3a0a  tbeat_interval:.
+0000cbf0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+0000cc00: 696e 6773 5b22 7472 616e 7370 6f72 742e  ings["transport.
+0000cc10: 7773 2e68 6561 7274 6265 6174 5f69 6e74  ws.heartbeat_int
+0000cc20: 6572 7661 6c22 5d20 3d20 6172 6773 2e77  erval"] = args.w
+0000cc30: 735f 6865 6172 7462 6561 745f 696e 7465  s_heartbeat_inte
+0000cc40: 7276 616c 0a20 2020 2020 2020 2069 6620  rval.        if 
+0000cc50: 6172 6773 2e77 735f 7469 6d65 6f75 745f  args.ws_timeout_
+0000cc60: 696e 7465 7276 616c 3a0a 2020 2020 2020  interval:.      
+0000cc70: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000cc80: 7472 616e 7370 6f72 742e 7773 2e74 696d  transport.ws.tim
+0000cc90: 656f 7574 5f69 6e74 6572 7661 6c22 5d20  eout_interval"] 
+0000cca0: 3d20 6172 6773 2e77 735f 7469 6d65 6f75  = args.ws_timeou
+0000ccb0: 745f 696e 7465 7276 616c 0a0a 2020 2020  t_interval..    
+0000ccc0: 2020 2020 7265 7475 726e 2073 6574 7469      return setti
+0000ccd0: 6e67 730a 0a0a 4067 726f 7570 2843 4154  ngs...@group(CAT
+0000cce0: 5f53 5441 5254 2c20 4341 545f 5052 4f56  _START, CAT_PROV
+0000ccf0: 4953 494f 4e29 0a63 6c61 7373 204d 6564  ISION).class Med
+0000cd00: 6961 7469 6f6e 496e 7669 7465 4772 6f75  iationInviteGrou
+0000cd10: 7028 4172 6775 6d65 6e74 4772 6f75 7029  p(ArgumentGroup)
+0000cd20: 3a0a 2020 2020 2222 220a 2020 2020 4d65  :.    """.    Me
+0000cd30: 6469 6174 696f 6e20 696e 7669 7461 7469  diation invitati
+0000cd40: 6f6e 2073 6574 7469 6e67 732e 0a0a 2020  on settings...  
+0000cd50: 2020 5468 6573 6520 6361 6e20 6265 2070    These can be p
+0000cd60: 726f 7669 6465 6420 6174 2070 726f 7669  rovided at provi
+0000cd70: 7369 6f6e 2d20 616e 6420 7374 6172 742d  sion- and start-
+0000cd80: 7469 6d65 2e0a 2020 2020 2222 220a 0a20  time..    """.. 
+0000cd90: 2020 2047 524f 5550 5f4e 414d 4520 3d20     GROUP_NAME = 
+0000cda0: 224d 6564 6961 7469 6f6e 2069 6e76 6974  "Mediation invit
+0000cdb0: 6174 696f 6e22 0a0a 2020 2020 6465 6620  ation"..    def 
+0000cdc0: 6164 645f 6172 6775 6d65 6e74 7328 7365  add_arguments(se
+0000cdd0: 6c66 2c20 7061 7273 6572 3a20 4172 6775  lf, parser: Argu
+0000cde0: 6d65 6e74 5061 7273 6572 293a 0a20 2020  mentParser):.   
+0000cdf0: 2020 2020 2022 2222 4164 6420 6d65 6469       """Add medi
+0000ce00: 6174 696f 6e20 696e 7669 7461 7469 6f6e  ation invitation
+0000ce10: 2063 6f6d 6d61 6e64 206c 696e 6520 6172   command line ar
+0000ce20: 6775 6d65 6e74 7320 746f 2074 6865 2070  guments to the p
+0000ce30: 6172 7365 722e 2222 220a 2020 2020 2020  arser.""".      
+0000ce40: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
+0000ce50: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
+0000ce60: 2020 2022 2d2d 6d65 6469 6174 6f72 2d69     "--mediator-i
+0000ce70: 6e76 6974 6174 696f 6e22 2c0a 2020 2020  nvitation",.    
+0000ce80: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
+0000ce90: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
+0000cea0: 7461 7661 723d 223c 696e 7669 7465 2055  tavar="<invite U
+0000ceb0: 524c 2074 6f20 6d65 6469 6174 6f72 3e22  RL to mediator>"
+0000cec0: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+0000ced0: 765f 7661 723d 2241 4341 5059 5f4d 4544  v_var="ACAPY_MED
+0000cee0: 4941 5449 4f4e 5f49 4e56 4954 4154 494f  IATION_INVITATIO
+0000cef0: 4e22 2c0a 2020 2020 2020 2020 2020 2020  N",.            
+0000cf00: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
+0000cf10: 2020 2020 2020 2022 436f 6e6e 6563 7420         "Connect 
+0000cf20: 746f 206d 6564 6961 746f 7220 7468 726f  to mediator thro
+0000cf30: 7567 6820 7072 6f76 6964 6564 2069 6e76  ugh provided inv
+0000cf40: 6974 6174 696f 6e20 220a 2020 2020 2020  itation ".      
+0000cf50: 2020 2020 2020 2020 2020 2261 6e64 2073            "and s
+0000cf60: 656e 6420 6d65 6469 6174 696f 6e20 7265  end mediation re
+0000cf70: 7175 6573 7420 616e 6420 7365 7420 6173  quest and set as
+0000cf80: 2064 6566 6175 6c74 206d 6564 6961 746f   default mediato
+0000cf90: 722e 220a 2020 2020 2020 2020 2020 2020  r.".            
+0000cfa0: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
+0000cfb0: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
+0000cfc0: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
+0000cfd0: 2020 2020 2020 222d 2d6d 6564 6961 746f        "--mediato
+0000cfe0: 722d 636f 6e6e 6563 7469 6f6e 732d 696e  r-connections-in
+0000cff0: 7669 7465 222c 0a20 2020 2020 2020 2020  vite",.         
+0000d000: 2020 2061 6374 696f 6e3d 2273 746f 7265     action="store
+0000d010: 5f74 7275 6522 2c0a 2020 2020 2020 2020  _true",.        
+0000d020: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+0000d030: 5059 5f4d 4544 4941 5449 4f4e 5f43 4f4e  PY_MEDIATION_CON
+0000d040: 4e45 4354 494f 4e53 5f49 4e56 4954 4522  NECTIONS_INVITE"
+0000d050: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+0000d060: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+0000d070: 2020 2020 2022 436f 6e6e 6563 7420 746f       "Connect to
+0000d080: 206d 6564 6961 746f 7220 7468 726f 7567   mediator throug
+0000d090: 6820 6120 636f 6e6e 6563 7469 6f6e 2069  h a connection i
+0000d0a0: 6e76 6974 6174 696f 6e2e 2022 0a20 2020  nvitation. ".   
+0000d0b0: 2020 2020 2020 2020 2020 2020 2022 4966               "If
+0000d0c0: 206e 6f74 2073 7065 6369 6669 6564 2c20   not specified, 
+0000d0d0: 636f 6e6e 6563 7420 7573 696e 6720 616e  connect using an
+0000d0e0: 204f 4f42 2069 6e76 6974 6174 696f 6e2e   OOB invitation.
+0000d0f0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+0000d100: 2020 2022 4465 6661 756c 743a 2066 616c     "Default: fal
+0000d110: 7365 2e22 0a20 2020 2020 2020 2020 2020  se.".           
+0000d120: 2029 2c0a 2020 2020 2020 2020 290a 0a20   ),.        ).. 
+0000d130: 2020 2064 6566 2067 6574 5f73 6574 7469     def get_setti
+0000d140: 6e67 7328 7365 6c66 2c20 6172 6773 3a20  ngs(self, args: 
+0000d150: 4e61 6d65 7370 6163 6529 3a0a 2020 2020  Namespace):.    
+0000d160: 2020 2020 2222 2245 7874 7261 6374 206d      """Extract m
+0000d170: 6564 6961 7469 6f6e 2069 6e76 6974 6174  ediation invitat
+0000d180: 696f 6e20 7365 7474 696e 6773 2e22 2222  ion settings."""
+0000d190: 0a20 2020 2020 2020 2073 6574 7469 6e67  .        setting
+0000d1a0: 7320 3d20 7b7d 0a20 2020 2020 2020 2069  s = {}.        i
+0000d1b0: 6620 6172 6773 2e6d 6564 6961 746f 725f  f args.mediator_
+0000d1c0: 696e 7669 7461 7469 6f6e 3a0a 2020 2020  invitation:.    
+0000d1d0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+0000d1e0: 5b22 6d65 6469 6174 696f 6e2e 696e 7669  ["mediation.invi
+0000d1f0: 7465 225d 203d 2061 7267 732e 6d65 6469  te"] = args.medi
+0000d200: 6174 6f72 5f69 6e76 6974 6174 696f 6e0a  ator_invitation.
+0000d210: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
+0000d220: 6d65 6469 6174 6f72 5f63 6f6e 6e65 6374  mediator_connect
+0000d230: 696f 6e73 5f69 6e76 6974 653a 0a20 2020  ions_invite:.   
+0000d240: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000d250: 735b 226d 6564 6961 7469 6f6e 2e63 6f6e  s["mediation.con
+0000d260: 6e65 6374 696f 6e73 5f69 6e76 6974 6522  nections_invite"
+0000d270: 5d20 3d20 5472 7565 0a0a 2020 2020 2020  ] = True..      
+0000d280: 2020 7265 7475 726e 2073 6574 7469 6e67    return setting
+0000d290: 730a 0a0a 4067 726f 7570 2843 4154 5f53  s...@group(CAT_S
+0000d2a0: 5441 5254 290a 636c 6173 7320 4d65 6469  TART).class Medi
+0000d2b0: 6174 696f 6e47 726f 7570 2841 7267 756d  ationGroup(Argum
+0000d2c0: 656e 7447 726f 7570 293a 0a20 2020 2022  entGroup):.    "
+0000d2d0: 2222 4d65 6469 6174 696f 6e20 7365 7474  ""Mediation sett
+0000d2e0: 696e 6773 2e22 2222 0a0a 2020 2020 4752  ings."""..    GR
+0000d2f0: 4f55 505f 4e41 4d45 203d 2022 4d65 6469  OUP_NAME = "Medi
+0000d300: 6174 696f 6e22 0a0a 2020 2020 6465 6620  ation"..    def 
+0000d310: 6164 645f 6172 6775 6d65 6e74 7328 7365  add_arguments(se
+0000d320: 6c66 2c20 7061 7273 6572 3a20 4172 6775  lf, parser: Argu
+0000d330: 6d65 6e74 5061 7273 6572 293a 0a20 2020  mentParser):.   
+0000d340: 2020 2020 2022 2222 4164 6420 6d65 6469       """Add medi
+0000d350: 6174 696f 6e20 636f 6d6d 616e 6420 6c69  ation command li
+0000d360: 6e65 2061 7267 756d 656e 7473 2074 6f20  ne arguments to 
+0000d370: 7468 6520 7061 7273 6572 2e22 2222 0a20  the parser.""". 
+0000d380: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
+0000d390: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
+0000d3a0: 2020 2020 2020 2020 222d 2d6f 7065 6e2d          "--open-
+0000d3b0: 6d65 6469 6174 696f 6e22 2c0a 2020 2020  mediation",.    
+0000d3c0: 2020 2020 2020 2020 6163 7469 6f6e 3d22          action="
+0000d3d0: 7374 6f72 655f 7472 7565 222c 0a20 2020  store_true",.   
+0000d3e0: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+0000d3f0: 3d22 4143 4150 595f 4d45 4449 4154 494f  ="ACAPY_MEDIATIO
+0000d400: 4e5f 4f50 454e 222c 0a20 2020 2020 2020  N_OPEN",.       
+0000d410: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
+0000d420: 2020 2020 2020 2020 2020 2020 2245 6e61              "Ena
+0000d430: 626c 6573 2061 7574 6f6d 6174 6963 2067  bles automatic g
+0000d440: 7261 6e74 696e 6720 6f66 206d 6564 6961  ranting of media
+0000d450: 7469 6f6e 2e20 4166 7465 7220 6573 7461  tion. After esta
+0000d460: 626c 6973 6869 6e67 2061 2022 0a20 2020  blishing a ".   
+0000d470: 2020 2020 2020 2020 2020 2020 2022 636f               "co
+0000d480: 6e6e 6563 7469 6f6e 2c20 6966 2065 6e61  nnection, if ena
+0000d490: 626c 6564 2c20 616e 2061 6765 6e74 206d  bled, an agent m
+0000d4a0: 6179 2072 6571 7565 7374 206d 6573 7361  ay request messa
+0000d4b0: 6765 206d 6564 6961 7469 6f6e 2022 0a20  ge mediation ". 
+0000d4c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000d4d0: 616e 6420 6265 2067 7261 6e74 6564 2069  and be granted i
+0000d4e0: 7420 6175 746f 6d61 7469 6361 6c6c 792c  t automatically,
+0000d4f0: 2077 6869 6368 2077 696c 6c20 616c 6c6f   which will allo
+0000d500: 7720 7468 6520 6d65 6469 6174 6f72 2022  w the mediator "
+0000d510: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000d520: 2022 746f 2066 6f72 7761 7264 206d 6573   "to forward mes
+0000d530: 7361 6765 7320 6f6e 2062 6568 616c 6620  sages on behalf 
+0000d540: 6f66 2074 6865 2072 6563 6970 6965 6e74  of the recipient
+0000d550: 2e20 5365 6520 220a 2020 2020 2020 2020  . See ".        
+0000d560: 2020 2020 2020 2020 2261 7269 6573 2d72          "aries-r
+0000d570: 6663 3a30 3231 312e 220a 2020 2020 2020  fc:0211.".      
+0000d580: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+0000d590: 2029 0a0a 2020 2020 2020 2020 7061 7273   )..        pars
+0000d5a0: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
+0000d5b0: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
+0000d5c0: 6465 6661 756c 742d 6d65 6469 6174 6f72  default-mediator
+0000d5d0: 2d69 6422 2c0a 2020 2020 2020 2020 2020  -id",.          
+0000d5e0: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+0000d5f0: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+0000d600: 223c 6d65 6469 6174 696f 6e20 6964 3e22  "<mediation id>"
+0000d610: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+0000d620: 765f 7661 723d 2241 4341 5059 5f44 4546  v_var="ACAPY_DEF
+0000d630: 4155 4c54 5f4d 4544 4941 5449 4f4e 5f49  AULT_MEDIATION_I
+0000d640: 4422 2c0a 2020 2020 2020 2020 2020 2020  D",.            
+0000d650: 6865 6c70 3d22 5365 7420 7468 6520 6465  help="Set the de
+0000d660: 6661 756c 7420 6d65 6469 6174 6f72 2062  fault mediator b
+0000d670: 7920 4944 222c 0a20 2020 2020 2020 2029  y ID",.        )
+0000d680: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+0000d690: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+0000d6a0: 2020 2020 2020 2020 2020 222d 2d63 6c65            "--cle
+0000d6b0: 6172 2d64 6566 6175 6c74 2d6d 6564 6961  ar-default-media
+0000d6c0: 746f 7222 2c0a 2020 2020 2020 2020 2020  tor",.          
+0000d6d0: 2020 6163 7469 6f6e 3d22 7374 6f72 655f    action="store_
+0000d6e0: 7472 7565 222c 0a20 2020 2020 2020 2020  true",.         
+0000d6f0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
+0000d700: 595f 434c 4541 525f 4445 4641 554c 545f  Y_CLEAR_DEFAULT_
+0000d710: 4d45 4449 4154 4f52 222c 0a20 2020 2020  MEDIATOR",.     
+0000d720: 2020 2020 2020 2068 656c 703d 2243 6c65         help="Cle
+0000d730: 6172 2074 6865 2073 746f 7265 6420 6465  ar the stored de
+0000d740: 6661 756c 7420 6d65 6469 6174 6f72 2e22  fault mediator."
+0000d750: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
+0000d760: 2064 6566 2067 6574 5f73 6574 7469 6e67   def get_setting
+0000d770: 7328 7365 6c66 2c20 6172 6773 3a20 4e61  s(self, args: Na
+0000d780: 6d65 7370 6163 6529 3a0a 2020 2020 2020  mespace):.      
+0000d790: 2020 2222 2245 7874 7261 6374 206d 6564    """Extract med
+0000d7a0: 6961 7469 6f6e 2073 6574 7469 6e67 732e  iation settings.
+0000d7b0: 2222 220a 2020 2020 2020 2020 7365 7474  """.        sett
+0000d7c0: 696e 6773 203d 207b 7d0a 2020 2020 2020  ings = {}.      
+0000d7d0: 2020 6966 2061 7267 732e 6f70 656e 5f6d    if args.open_m
+0000d7e0: 6564 6961 7469 6f6e 3a0a 2020 2020 2020  ediation:.      
+0000d7f0: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000d800: 6d65 6469 6174 696f 6e2e 6f70 656e 225d  mediation.open"]
+0000d810: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
+0000d820: 6966 2061 7267 732e 6465 6661 756c 745f  if args.default_
+0000d830: 6d65 6469 6174 6f72 5f69 643a 0a20 2020  mediator_id:.   
+0000d840: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000d850: 735b 226d 6564 6961 7469 6f6e 2e64 6566  s["mediation.def
+0000d860: 6175 6c74 5f69 6422 5d20 3d20 6172 6773  ault_id"] = args
+0000d870: 2e64 6566 6175 6c74 5f6d 6564 6961 746f  .default_mediato
+0000d880: 725f 6964 0a20 2020 2020 2020 2069 6620  r_id.        if 
+0000d890: 6172 6773 2e63 6c65 6172 5f64 6566 6175  args.clear_defau
+0000d8a0: 6c74 5f6d 6564 6961 746f 723a 0a20 2020  lt_mediator:.   
+0000d8b0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000d8c0: 735b 226d 6564 6961 7469 6f6e 2e63 6c65  s["mediation.cle
+0000d8d0: 6172 225d 203d 2054 7275 650a 0a20 2020  ar"] = True..   
+0000d8e0: 2020 2020 2069 6620 6172 6773 2e63 6c65       if args.cle
+0000d8f0: 6172 5f64 6566 6175 6c74 5f6d 6564 6961  ar_default_media
+0000d900: 746f 7220 616e 6420 6172 6773 2e64 6566  tor and args.def
+0000d910: 6175 6c74 5f6d 6564 6961 746f 725f 6964  ault_mediator_id
+0000d920: 3a0a 2020 2020 2020 2020 2020 2020 7261  :.            ra
+0000d930: 6973 6520 4172 6773 5061 7273 6545 7272  ise ArgsParseErr
+0000d940: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+0000d950: 2020 2020 2243 616e 6e6f 7420 626f 7468      "Cannot both
+0000d960: 2073 6574 2061 6e64 2063 6c65 6172 206d   set and clear m
+0000d970: 6564 6961 7469 6f6e 2061 7420 7468 6520  ediation at the 
+0000d980: 7361 6d65 2074 696d 652e 220a 2020 2020  same time.".    
+0000d990: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+0000d9a0: 2020 2072 6574 7572 6e20 7365 7474 696e     return settin
+0000d9b0: 6773 0a0a 0a40 6772 6f75 7028 4341 545f  gs...@group(CAT_
+0000d9c0: 5052 4f56 4953 494f 4e2c 2043 4154 5f53  PROVISION, CAT_S
+0000d9d0: 5441 5254 2c20 4341 545f 5550 4752 4144  TART, CAT_UPGRAD
+0000d9e0: 4529 0a63 6c61 7373 2057 616c 6c65 7447  E).class WalletG
+0000d9f0: 726f 7570 2841 7267 756d 656e 7447 726f  roup(ArgumentGro
+0000da00: 7570 293a 0a20 2020 2022 2222 5761 6c6c  up):.    """Wall
+0000da10: 6574 2073 6574 7469 6e67 732e 2222 220a  et settings.""".
+0000da20: 0a20 2020 2047 524f 5550 5f4e 414d 4520  .    GROUP_NAME 
+0000da30: 3d20 2257 616c 6c65 7422 0a0a 2020 2020  = "Wallet"..    
+0000da40: 6465 6620 6164 645f 6172 6775 6d65 6e74  def add_argument
+0000da50: 7328 7365 6c66 2c20 7061 7273 6572 3a20  s(self, parser: 
+0000da60: 4172 6775 6d65 6e74 5061 7273 6572 293a  ArgumentParser):
+0000da70: 0a20 2020 2020 2020 2022 2222 4164 6420  .        """Add 
+0000da80: 7761 6c6c 6574 2d73 7065 6369 6669 6320  wallet-specific 
+0000da90: 636f 6d6d 616e 6420 6c69 6e65 2061 7267  command line arg
+0000daa0: 756d 656e 7473 2074 6f20 7468 6520 7061  uments to the pa
+0000dab0: 7273 6572 2e22 2222 0a20 2020 2020 2020  rser.""".       
+0000dac0: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
+0000dad0: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
+0000dae0: 2020 222d 2d73 6565 6422 2c0a 2020 2020    "--seed",.    
+0000daf0: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
+0000db00: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
+0000db10: 7461 7661 723d 223c 7761 6c6c 6574 2d73  tavar="<wallet-s
+0000db20: 6565 643e 222c 0a20 2020 2020 2020 2020  eed>",.         
+0000db30: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
+0000db40: 595f 5741 4c4c 4554 5f53 4545 4422 2c0a  Y_WALLET_SEED",.
+0000db50: 2020 2020 2020 2020 2020 2020 6865 6c70              help
+0000db60: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
+0000db70: 2020 2022 5370 6563 6966 6965 7320 7468     "Specifies th
+0000db80: 6520 7365 6564 2074 6f20 7573 6520 666f  e seed to use fo
+0000db90: 7220 7468 6520 6372 6561 7469 6f6e 206f  r the creation o
+0000dba0: 6620 6120 7075 626c 6963 2022 0a20 2020  f a public ".   
+0000dbb0: 2020 2020 2020 2020 2020 2020 2022 4449               "DI
+0000dbc0: 4420 666f 7220 7468 6520 6167 656e 7420  D for the agent 
+0000dbd0: 746f 2075 7365 2077 6974 6820 6120 4879  to use with a Hy
+0000dbe0: 7065 726c 6564 6765 7220 496e 6479 206c  perledger Indy l
+0000dbf0: 6564 6765 722c 206f 7220 6120 6c6f 6361  edger, or a loca
+0000dc00: 6c20 220a 2020 2020 2020 2020 2020 2020  l ".            
+0000dc10: 2020 2020 2228 272d 2d77 616c 6c65 742d      "('--wallet-
+0000dc20: 6c6f 6361 6c2d 6469 6427 2920 4449 442e  local-did') DID.
+0000dc30: 2049 6620 7075 626c 6963 2c20 7468 6520   If public, the 
+0000dc40: 4449 4420 6d75 7374 2061 6c72 6561 6479  DID must already
+0000dc50: 2065 7869 7374 2022 0a20 2020 2020 2020   exist ".       
+0000dc60: 2020 2020 2020 2020 2022 6f6e 2074 6865           "on the
+0000dc70: 206c 6564 6765 722e 220a 2020 2020 2020   ledger.".      
+0000dc80: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+0000dc90: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+0000dca0: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+0000dcb0: 2020 2020 2020 2020 2020 2020 222d 2d77              "--w
+0000dcc0: 616c 6c65 742d 6c6f 6361 6c2d 6469 6422  allet-local-did"
+0000dcd0: 2c0a 2020 2020 2020 2020 2020 2020 6163  ,.            ac
+0000dce0: 7469 6f6e 3d22 7374 6f72 655f 7472 7565  tion="store_true
+0000dcf0: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+0000dd00: 6e76 5f76 6172 3d22 4143 4150 595f 5741  nv_var="ACAPY_WA
+0000dd10: 4c4c 4554 5f4c 4f43 414c 5f44 4944 222c  LLET_LOCAL_DID",
+0000dd20: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+0000dd30: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+0000dd40: 2020 2020 2249 6620 7468 6973 2070 6172      "If this par
+0000dd50: 616d 6574 6572 2069 7320 7365 742c 2070  ameter is set, p
+0000dd60: 726f 7669 7369 6f6e 7320 7468 6520 7761  rovisions the wa
+0000dd70: 6c6c 6574 2077 6974 6820 6120 220a 2020  llet with a ".  
+0000dd80: 2020 2020 2020 2020 2020 2020 2020 226c                "l
+0000dd90: 6f63 616c 2044 4944 2066 726f 6d20 7468  ocal DID from th
+0000dda0: 6520 272d 2d73 6565 6427 2070 6172 616d  e '--seed' param
+0000ddb0: 6574 6572 2c20 696e 7374 6561 6420 6f66  eter, instead of
+0000ddc0: 2061 2070 7562 6c69 6320 4449 4420 220a   a public DID ".
+0000ddd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dde0: 2274 6f20 7573 6520 7769 7468 2061 2048  "to use with a H
+0000ddf0: 7970 6572 6c65 6467 6572 2049 6e64 7920  yperledger Indy 
+0000de00: 6c65 6467 6572 2e22 0a20 2020 2020 2020  ledger.".       
+0000de10: 2020 2020 2029 2c0a 2020 2020 2020 2020       ),.        
+0000de20: 290a 2020 2020 2020 2020 7061 7273 6572  ).        parser
+0000de30: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+0000de40: 2020 2020 2020 2020 2020 2022 2d2d 7761             "--wa
+0000de50: 6c6c 6574 2d61 6c6c 6f77 2d69 6e73 6563  llet-allow-insec
+0000de60: 7572 652d 7365 6564 222c 0a20 2020 2020  ure-seed",.     
+0000de70: 2020 2020 2020 2061 6374 696f 6e3d 2273         action="s
+0000de80: 746f 7265 5f74 7275 6522 2c0a 2020 2020  tore_true",.    
+0000de90: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
+0000dea0: 2241 4341 5059 5f57 414c 4c45 545f 414c  "ACAPY_WALLET_AL
+0000deb0: 4c4f 575f 494e 5345 4355 5245 5f53 4545  LOW_INSECURE_SEE
+0000dec0: 4422 2c0a 2020 2020 2020 2020 2020 2020  D",.            
+0000ded0: 6865 6c70 3d28 0a20 2020 2020 2020 2020  help=(.         
+0000dee0: 2020 2020 2020 2022 4966 2074 6869 7320         "If this 
+0000def0: 7061 7261 6d65 7465 7220 6973 2073 6574  parameter is set
+0000df00: 2c20 616c 6c6f 7773 2074 6f20 7573 6520  , allows to use 
+0000df10: 6120 6375 7374 6f6d 2073 6565 6420 220a  a custom seed ".
+0000df20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df30: 2274 6f20 6372 6561 7465 2061 206c 6f63  "to create a loc
+0000df40: 616c 2044 4944 220a 2020 2020 2020 2020  al DID".        
+0000df50: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+0000df60: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+0000df70: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+0000df80: 2020 2020 2020 2020 2020 222d 2d77 616c            "--wal
+0000df90: 6c65 742d 6b65 7922 2c0a 2020 2020 2020  let-key",.      
+0000dfa0: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
+0000dfb0: 2020 2020 2020 2020 2020 2020 6d65 7461              meta
+0000dfc0: 7661 723d 223c 7761 6c6c 6574 2d6b 6579  var="<wallet-key
+0000dfd0: 3e22 2c0a 2020 2020 2020 2020 2020 2020  >",.            
+0000dfe0: 656e 765f 7661 723d 2241 4341 5059 5f57  env_var="ACAPY_W
+0000dff0: 414c 4c45 545f 4b45 5922 2c0a 2020 2020  ALLET_KEY",.    
+0000e000: 2020 2020 2020 2020 6865 6c70 3d22 5370          help="Sp
+0000e010: 6563 6966 6965 7320 7468 6520 6d61 7374  ecifies the mast
+0000e020: 6572 206b 6579 2076 616c 7565 2074 6f20  er key value to 
+0000e030: 7573 6520 746f 206f 7065 6e20 7468 6520  use to open the 
+0000e040: 7761 6c6c 6574 2e22 2c0a 2020 2020 2020  wallet.",.      
+0000e050: 2020 290a 2020 2020 2020 2020 7061 7273    ).        pars
+0000e060: 6572 2e61 6464 5f61 7267 756d 656e 7428  er.add_argument(
+0000e070: 0a20 2020 2020 2020 2020 2020 2022 2d2d  .            "--
+0000e080: 7761 6c6c 6574 2d72 656b 6579 222c 0a20  wallet-rekey",. 
+0000e090: 2020 2020 2020 2020 2020 2074 7970 653d             type=
+0000e0a0: 7374 722c 0a20 2020 2020 2020 2020 2020  str,.           
+0000e0b0: 206d 6574 6176 6172 3d22 3c77 616c 6c65   metavar="<walle
+0000e0c0: 742d 7265 6b65 793e 222c 0a20 2020 2020  t-rekey>",.     
+0000e0d0: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
+0000e0e0: 4143 4150 595f 5741 4c4c 4554 5f52 454b  ACAPY_WALLET_REK
+0000e0f0: 4559 222c 0a20 2020 2020 2020 2020 2020  EY",.           
+0000e100: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
+0000e110: 2020 2020 2020 2020 2253 7065 6369 6669          "Specifi
+0000e120: 6573 2061 206e 6577 206d 6173 7465 7220  es a new master 
+0000e130: 6b65 7920 7661 6c75 6520 746f 2077 6869  key value to whi
+0000e140: 6368 2074 6f20 726f 7461 7465 2061 6e64  ch to rotate and
+0000e150: 2074 6f20 220a 2020 2020 2020 2020 2020   to ".          
+0000e160: 2020 2020 2020 226f 7065 6e20 7468 6520        "open the 
+0000e170: 7761 6c6c 6574 206e 6578 7420 7469 6d65  wallet next time
+0000e180: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
+0000e190: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+0000e1a0: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
+0000e1b0: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
+0000e1c0: 2020 2020 2022 2d2d 7761 6c6c 6574 2d6e       "--wallet-n
+0000e1d0: 616d 6522 2c0a 2020 2020 2020 2020 2020  ame",.          
+0000e1e0: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+0000e1f0: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+0000e200: 223c 7761 6c6c 6574 2d6e 616d 653e 222c  "<wallet-name>",
+0000e210: 0a20 2020 2020 2020 2020 2020 2065 6e76  .            env
+0000e220: 5f76 6172 3d22 4143 4150 595f 5741 4c4c  _var="ACAPY_WALL
+0000e230: 4554 5f4e 414d 4522 2c0a 2020 2020 2020  ET_NAME",.      
+0000e240: 2020 2020 2020 6865 6c70 3d28 0a20 2020        help=(.   
+0000e250: 2020 2020 2020 2020 2020 2020 2022 5370               "Sp
+0000e260: 6563 6966 6965 7320 7468 6520 7761 6c6c  ecifies the wall
+0000e270: 6574 206e 616d 6520 746f 2062 6520 7573  et name to be us
+0000e280: 6564 2062 7920 7468 6520 6167 656e 742e  ed by the agent.
+0000e290: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+0000e2a0: 2020 2022 5468 6973 2069 7320 7573 6566     "This is usef
+0000e2b0: 756c 2069 6620 796f 7572 2064 6570 6c6f  ul if your deplo
+0000e2c0: 796d 656e 7420 6861 7320 6d75 6c74 6970  yment has multip
+0000e2d0: 6c65 2077 616c 6c65 7473 2e22 0a20 2020  le wallets.".   
+0000e2e0: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
+0000e2f0: 2020 2020 290a 2020 2020 2020 2020 7061      ).        pa
+0000e300: 7273 6572 2e61 6464 5f61 7267 756d 656e  rser.add_argumen
+0000e310: 7428 0a20 2020 2020 2020 2020 2020 2022  t(.            "
+0000e320: 2d2d 7761 6c6c 6574 2d74 7970 6522 2c0a  --wallet-type",.
+0000e330: 2020 2020 2020 2020 2020 2020 7479 7065              type
+0000e340: 3d73 7472 2c0a 2020 2020 2020 2020 2020  =str,.          
+0000e350: 2020 6d65 7461 7661 723d 223c 7761 6c6c    metavar="<wall
+0000e360: 6574 2d74 7970 653e 222c 0a20 2020 2020  et-type>",.     
+0000e370: 2020 2020 2020 2064 6566 6175 6c74 3d22         default="
+0000e380: 6261 7369 6322 2c0a 2020 2020 2020 2020  basic",.        
+0000e390: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+0000e3a0: 5059 5f57 414c 4c45 545f 5459 5045 222c  PY_WALLET_TYPE",
+0000e3b0: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+0000e3c0: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+0000e3d0: 2020 2020 2253 7065 6369 6669 6573 2074      "Specifies t
+0000e3e0: 6865 2074 7970 6520 6f66 2049 6e64 7920  he type of Indy 
+0000e3f0: 7761 6c6c 6574 2070 726f 7669 6465 7220  wallet provider 
+0000e400: 746f 2075 7365 2e20 220a 2020 2020 2020  to use. ".      
+0000e410: 2020 2020 2020 2020 2020 2253 7570 706f            "Suppo
+0000e420: 7274 6564 2069 6e74 6572 6e61 6c20 7374  rted internal st
+0000e430: 6f72 6167 6520 7479 7065 7320 6172 6520  orage types are 
+0000e440: 2762 6173 6963 2720 286d 656d 6f72 7929  'basic' (memory)
+0000e450: 2061 6e64 2027 696e 6479 272e 2022 0a20   and 'indy'. ". 
+0000e460: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000e470: 5468 6520 6465 6661 756c 7420 2869 6620  The default (if 
+0000e480: 6e6f 7420 7370 6563 6966 6965 6429 2069  not specified) i
+0000e490: 7320 2762 6173 6963 272e 220a 2020 2020  s 'basic'.".    
+0000e4a0: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+0000e4b0: 2020 2029 0a20 2020 2020 2020 2070 6172     ).        par
+0000e4c0: 7365 722e 6164 645f 6172 6775 6d65 6e74  ser.add_argument
+0000e4d0: 280a 2020 2020 2020 2020 2020 2020 222d  (.            "-
+0000e4e0: 2d77 616c 6c65 742d 7374 6f72 6167 652d  -wallet-storage-
+0000e4f0: 7479 7065 222c 0a20 2020 2020 2020 2020  type",.         
+0000e500: 2020 2074 7970 653d 7374 722c 0a20 2020     type=str,.   
+0000e510: 2020 2020 2020 2020 206d 6574 6176 6172           metavar
+0000e520: 3d22 3c73 746f 7261 6765 2d74 7970 653e  ="<storage-type>
+0000e530: 222c 0a20 2020 2020 2020 2020 2020 2064  ",.            d
+0000e540: 6566 6175 6c74 3d22 6465 6661 756c 7422  efault="default"
+0000e550: 2c0a 2020 2020 2020 2020 2020 2020 656e  ,.            en
+0000e560: 765f 7661 723d 2241 4341 5059 5f57 414c  v_var="ACAPY_WAL
+0000e570: 4c45 545f 5354 4f52 4147 455f 5459 5045  LET_STORAGE_TYPE
+0000e580: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+0000e590: 656c 703d 280a 2020 2020 2020 2020 2020  elp=(.          
+0000e5a0: 2020 2020 2020 2253 7065 6369 6669 6573        "Specifies
+0000e5b0: 2074 6865 2074 7970 6520 6f66 2049 6e64   the type of Ind
+0000e5c0: 7920 7761 6c6c 6574 2062 6163 6b65 6e64  y wallet backend
+0000e5d0: 2074 6f20 7573 652e 2022 0a20 2020 2020   to use. ".     
+0000e5e0: 2020 2020 2020 2020 2020 2022 5375 7070             "Supp
+0000e5f0: 6f72 7465 6420 696e 7465 726e 616c 2073  orted internal s
+0000e600: 746f 7261 6765 2074 7970 6573 2061 7265  torage types are
+0000e610: 2027 6261 7369 6327 2028 6d65 6d6f 7279   'basic' (memory
+0000e620: 292c 2022 0a20 2020 2020 2020 2020 2020  ), ".           
+0000e630: 2020 2020 2022 2764 6566 6175 6c74 2720       "'default' 
+0000e640: 2873 716c 6974 6529 2c20 616e 6420 2770  (sqlite), and 'p
+0000e650: 6f73 7467 7265 735f 7374 6f72 6167 6527  ostgres_storage'
+0000e660: 2e20 2054 6865 2064 6566 6175 6c74 2c20  .  The default, 
+0000e670: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+0000e680: 2020 2269 6620 6e6f 7420 7370 6563 6966    "if not specif
+0000e690: 6965 642c 2069 7320 2764 6566 6175 6c74  ied, is 'default
+0000e6a0: 272e 220a 2020 2020 2020 2020 2020 2020  '.".            
+0000e6b0: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
+0000e6c0: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
+0000e6d0: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
+0000e6e0: 2020 2020 2020 222d 2d77 616c 6c65 742d        "--wallet-
+0000e6f0: 7374 6f72 6167 652d 636f 6e66 6967 222c  storage-config",
+0000e700: 0a20 2020 2020 2020 2020 2020 2074 7970  .            typ
+0000e710: 653d 7374 722c 0a20 2020 2020 2020 2020  e=str,.         
+0000e720: 2020 206d 6574 6176 6172 3d22 3c73 746f     metavar="<sto
+0000e730: 7261 6765 2d63 6f6e 6669 673e 222c 0a20  rage-config>",. 
+0000e740: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+0000e750: 6172 3d22 4143 4150 595f 5741 4c4c 4554  ar="ACAPY_WALLET
+0000e760: 5f53 544f 5241 4745 5f43 4f4e 4649 4722  _STORAGE_CONFIG"
+0000e770: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+0000e780: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+0000e790: 2020 2020 2022 5370 6563 6966 6965 7320       "Specifies 
+0000e7a0: 7468 6520 7374 6f72 6167 6520 636f 6e66  the storage conf
+0000e7b0: 6967 7572 6174 696f 6e20 746f 2075 7365  iguration to use
+0000e7c0: 2066 6f72 2074 6865 2077 616c 6c65 742e   for the wallet.
+0000e7d0: 2022 0a20 2020 2020 2020 2020 2020 2020   ".             
+0000e7e0: 2020 2022 5468 6973 2069 7320 7265 7175     "This is requ
+0000e7f0: 6972 6564 2069 6620 796f 7520 6172 6520  ired if you are 
+0000e800: 666f 7220 7573 696e 6720 2770 6f73 7467  for using 'postg
+0000e810: 7265 735f 7374 6f72 6167 6527 2077 616c  res_storage' wal
+0000e820: 6c65 7420 220a 2020 2020 2020 2020 2020  let ".          
+0000e830: 2020 2020 2020 2773 746f 7261 6765 2074        'storage t
+0000e840: 7970 652e 2046 6f72 2065 7861 6d70 6c65  ype. For example
+0000e850: 2c20 5c27 7b22 7572 6c22 3a22 6c6f 6361  , \'{"url":"loca
+0000e860: 6c68 6f73 743a 3534 3332 222c 2027 0a20  lhost:5432", '. 
+0000e870: 2020 2020 2020 2020 2020 2020 2020 2027                 '
+0000e880: 2277 616c 6c65 745f 7363 6865 6d65 223a  "wallet_scheme":
+0000e890: 224d 756c 7469 5761 6c6c 6574 5369 6e67  "MultiWalletSing
+0000e8a0: 6c65 5461 626c 6522 7d5c 272e 2054 6869  leTable"}\'. Thi
+0000e8b0: 7320 270a 2020 2020 2020 2020 2020 2020  s '.            
+0000e8c0: 2020 2020 2263 6f6e 6669 6775 7261 7469      "configurati
+0000e8d0: 6f6e 206d 6170 7320 746f 2074 6865 2069  on maps to the i
+0000e8e0: 6e64 7920 7364 6b20 706f 7374 6772 6573  ndy sdk postgres
+0000e8f0: 2070 6c75 6769 6e20 220a 2020 2020 2020   plugin ".      
+0000e900: 2020 2020 2020 2020 2020 2228 506f 7374            "(Post
+0000e910: 6772 6573 436f 6e66 6967 292e 220a 2020  gresConfig).".  
+0000e920: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+0000e930: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+0000e940: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+0000e950: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+0000e960: 222d 2d77 616c 6c65 742d 6b65 792d 6465  "--wallet-key-de
+0000e970: 7269 7661 7469 6f6e 2d6d 6574 686f 6422  rivation-method"
+0000e980: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
+0000e990: 7065 3d73 7472 2c0a 2020 2020 2020 2020  pe=str,.        
+0000e9a0: 2020 2020 6d65 7461 7661 723d 223c 6b65      metavar="<ke
+0000e9b0: 792d 6465 7269 7661 7469 6f6e 2d6d 6574  y-derivation-met
+0000e9c0: 686f 643e 222c 0a20 2020 2020 2020 2020  hod>",.         
+0000e9d0: 2020 2065 6e76 5f76 6172 3d22 4143 4150     env_var="ACAP
+0000e9e0: 595f 5741 4c4c 4554 5f4b 4559 5f44 4552  Y_WALLET_KEY_DER
+0000e9f0: 4956 4154 494f 4e5f 4d45 5448 4f44 222c  IVATION_METHOD",
+0000ea00: 0a20 2020 2020 2020 2020 2020 2068 656c  .            hel
+0000ea10: 703d 280a 2020 2020 2020 2020 2020 2020  p=(.            
+0000ea20: 2020 2020 2253 7065 6369 6669 6573 2074      "Specifies t
+0000ea30: 6865 206b 6579 2064 6572 6976 6174 696f  he key derivatio
+0000ea40: 6e20 6d65 7468 6f64 2075 7365 6420 666f  n method used fo
+0000ea50: 7220 7761 6c6c 6574 2065 6e63 7279 7074  r wallet encrypt
+0000ea60: 696f 6e2e 220a 2020 2020 2020 2020 2020  ion.".          
+0000ea70: 2020 2020 2020 2249 6620 5241 5720 6b65        "If RAW ke
+0000ea80: 7920 6465 7269 7661 7469 6f6e 206d 6574  y derivation met
+0000ea90: 686f 6420 6973 2075 7365 642c 2061 6c73  hod is used, als
+0000eaa0: 6f20 2d2d 7761 6c6c 6574 2d6b 6579 2070  o --wallet-key p
+0000eab0: 6172 616d 6574 6572 220a 2020 2020 2020  arameter".      
+0000eac0: 2020 2020 2020 2020 2020 2220 6973 2065            " is e
+0000ead0: 7870 6563 7465 642e 220a 2020 2020 2020  xpected.".      
+0000eae0: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+0000eaf0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+0000eb00: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+0000eb10: 2020 2020 2020 2020 2020 2020 222d 2d77              "--w
+0000eb20: 616c 6c65 742d 7374 6f72 6167 652d 6372  allet-storage-cr
+0000eb30: 6564 7322 2c0a 2020 2020 2020 2020 2020  eds",.          
+0000eb40: 2020 7479 7065 3d73 7472 2c0a 2020 2020    type=str,.    
+0000eb50: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+0000eb60: 223c 7374 6f72 6167 652d 6372 6564 733e  "<storage-creds>
+0000eb70: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+0000eb80: 6e76 5f76 6172 3d22 4143 4150 595f 5741  nv_var="ACAPY_WA
+0000eb90: 4c4c 4554 5f53 544f 5241 4745 5f43 5245  LLET_STORAGE_CRE
+0000eba0: 4453 222c 0a20 2020 2020 2020 2020 2020  DS",.           
+0000ebb0: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
+0000ebc0: 2020 2020 2020 2020 2253 7065 6369 6669          "Specifi
+0000ebd0: 6573 2074 6865 2073 746f 7261 6765 2063  es the storage c
+0000ebe0: 7265 6465 6e74 6961 6c73 2074 6f20 7573  redentials to us
+0000ebf0: 6520 666f 7220 7468 6520 7761 6c6c 6574  e for the wallet
+0000ec00: 2e20 220a 2020 2020 2020 2020 2020 2020  . ".            
+0000ec10: 2020 2020 2254 6869 7320 6973 2072 6571      "This is req
+0000ec20: 7569 7265 6420 6966 2079 6f75 2061 7265  uired if you are
+0000ec30: 2066 6f72 2075 7369 6e67 2027 706f 7374   for using 'post
+0000ec40: 6772 6573 5f73 746f 7261 6765 2720 7761  gres_storage' wa
+0000ec50: 6c6c 6574 2022 0a20 2020 2020 2020 2020  llet ".         
+0000ec60: 2020 2020 2020 2027 466f 7220 6578 616d         'For exam
+0000ec70: 706c 652c 205c 277b 2261 6363 6f75 6e74  ple, \'{"account
+0000ec80: 223a 2270 6f73 7467 7265 7322 2c22 7061  ":"postgres","pa
+0000ec90: 7373 776f 7264 223a 2027 0a20 2020 2020  ssword": '.     
+0000eca0: 2020 2020 2020 2020 2020 2027 226d 7973             '"mys
+0000ecb0: 6563 7265 7470 6173 7377 6f72 6422 2c22  ecretpassword","
+0000ecc0: 6164 6d69 6e5f 6163 636f 756e 7422 3a22  admin_account":"
+0000ecd0: 706f 7374 6772 6573 222c 2027 0a20 2020  postgres", '.   
+0000ece0: 2020 2020 2020 2020 2020 2020 2027 2261               '"a
+0000ecf0: 646d 696e 5f70 6173 7377 6f72 6422 3a22  dmin_password":"
+0000ed00: 6d79 7365 6372 6574 7061 7373 776f 7264  mysecretpassword
+0000ed10: 227d 5c27 2e20 5468 6973 2063 6f6e 6669  "}\'. This confi
+0000ed20: 6775 7261 7469 6f6e 206d 6170 7320 270a  guration maps '.
+0000ed30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed40: 2274 6f20 7468 6520 696e 6479 2073 646b  "to the indy sdk
+0000ed50: 2070 6f73 7467 7265 7320 706c 7567 696e   postgres plugin
+0000ed60: 2028 506f 7374 6772 6573 4372 6564 656e   (PostgresCreden
+0000ed70: 7469 616c 7329 2e20 4e4f 5445 3a20 220a  tials). NOTE: ".
+0000ed80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ed90: 2261 646d 696e 5f75 7365 7220 6d75 7374  "admin_user must
+0000eda0: 2068 6176 6520 7468 6520 4352 4541 5445   have the CREATE
+0000edb0: 4442 2072 6f6c 6520 6f72 2065 6c73 6520  DB role or else 
+0000edc0: 696e 6974 6961 6c69 7a61 7469 6f6e 2022  initialization "
+0000edd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ede0: 2022 7769 6c6c 2066 6169 6c2e 220a 2020   "will fail.".  
+0000edf0: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+0000ee00: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+0000ee10: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+0000ee20: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+0000ee30: 222d 2d72 6570 6c61 6365 2d70 7562 6c69  "--replace-publi
+0000ee40: 632d 6469 6422 2c0a 2020 2020 2020 2020  c-did",.        
+0000ee50: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
+0000ee60: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
+0000ee70: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
+0000ee80: 4150 595f 5245 504c 4143 455f 5055 424c  APY_REPLACE_PUBL
+0000ee90: 4943 5f44 4944 222c 0a20 2020 2020 2020  IC_DID",.       
+0000eea0: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
+0000eeb0: 2020 2020 2020 2020 2020 2020 2249 6620              "If 
+0000eec0: 7468 6973 2070 6172 616d 6574 6572 2069  this parameter i
+0000eed0: 7320 7365 7420 616e 6420 616e 2061 6765  s set and an age
+0000eee0: 6e74 2061 6c72 6561 6479 2068 6173 2061  nt already has a
+0000eef0: 2070 7562 6c69 6320 4449 442c 2022 0a20   public DID, ". 
+0000ef00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0000ef10: 616e 6420 7468 6520 272d 2d73 6565 6427  and the '--seed'
+0000ef20: 2070 6172 616d 6574 6572 2073 7065 6369   parameter speci
+0000ef30: 6669 6573 2061 206e 6577 2044 4944 2c20  fies a new DID, 
+0000ef40: 7468 6520 6167 656e 7420 7769 6c6c 2075  the agent will u
+0000ef50: 7365 2022 0a20 2020 2020 2020 2020 2020  se ".           
+0000ef60: 2020 2020 2022 7468 6520 6e65 7720 4449       "the new DI
+0000ef70: 4420 696e 2070 6c61 6365 206f 6620 7468  D in place of th
+0000ef80: 6520 6578 6973 7469 6e67 2044 4944 2e20  e existing DID. 
+0000ef90: 4465 6661 756c 743a 2066 616c 7365 2e22  Default: false."
+0000efa0: 0a20 2020 2020 2020 2020 2020 2029 2c0a  .            ),.
+0000efb0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000efc0: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
+0000efd0: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
+0000efe0: 2020 2022 2d2d 7265 6372 6561 7465 2d77     "--recreate-w
+0000eff0: 616c 6c65 7422 2c0a 2020 2020 2020 2020  allet",.        
+0000f000: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
+0000f010: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
+0000f020: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
+0000f030: 4150 595f 5245 4352 4541 5445 5f57 414c  APY_RECREATE_WAL
+0000f040: 4c45 5422 2c0a 2020 2020 2020 2020 2020  LET",.          
+0000f050: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
+0000f060: 2020 2020 2020 2020 2022 4966 2061 6e20           "If an 
+0000f070: 6578 6973 7469 6e67 2077 616c 6c65 7420  existing wallet 
+0000f080: 6578 6973 7473 2077 6974 6820 7468 6520  exists with the 
+0000f090: 7361 6d65 206e 616d 652c 2072 656d 6f76  same name, remov
+0000f0a0: 6520 616e 6420 220a 2020 2020 2020 2020  e and ".        
+0000f0b0: 2020 2020 2020 2020 2272 6563 7265 6174          "recreat
+0000f0c0: 6520 6974 2064 7572 696e 6720 7072 6f76  e it during prov
+0000f0d0: 6973 696f 6e69 6e67 2e22 0a20 2020 2020  isioning.".     
+0000f0e0: 2020 2020 2020 2029 2c0a 2020 2020 2020         ),.      
+0000f0f0: 2020 290a 0a20 2020 2064 6566 2067 6574    )..    def get
+0000f100: 5f73 6574 7469 6e67 7328 7365 6c66 2c20  _settings(self, 
+0000f110: 6172 6773 3a20 4e61 6d65 7370 6163 6529  args: Namespace)
+0000f120: 202d 3e20 6469 6374 3a0a 2020 2020 2020   -> dict:.      
+0000f130: 2020 2222 2245 7874 7261 6374 2077 616c    """Extract wal
+0000f140: 6c65 7420 7365 7474 696e 6773 2e22 2222  let settings."""
+0000f150: 0a20 2020 2020 2020 2073 6574 7469 6e67  .        setting
+0000f160: 7320 3d20 7b7d 0a20 2020 2020 2020 2069  s = {}.        i
+0000f170: 6620 6172 6773 2e73 6565 643a 0a20 2020  f args.seed:.   
+0000f180: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000f190: 735b 2277 616c 6c65 742e 7365 6564 225d  s["wallet.seed"]
+0000f1a0: 203d 2061 7267 732e 7365 6564 0a20 2020   = args.seed.   
+0000f1b0: 2020 2020 2069 6620 6172 6773 2e77 616c       if args.wal
+0000f1c0: 6c65 745f 6c6f 6361 6c5f 6469 643a 0a20  let_local_did:. 
+0000f1d0: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+0000f1e0: 6e67 735b 2277 616c 6c65 742e 6c6f 6361  ngs["wallet.loca
+0000f1f0: 6c5f 6469 6422 5d20 3d20 5472 7565 0a20  l_did"] = True. 
+0000f200: 2020 2020 2020 2069 6620 6172 6773 2e77         if args.w
+0000f210: 616c 6c65 745f 616c 6c6f 775f 696e 7365  allet_allow_inse
+0000f220: 6375 7265 5f73 6565 643a 0a20 2020 2020  cure_seed:.     
+0000f230: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
+0000f240: 2277 616c 6c65 742e 616c 6c6f 775f 696e  "wallet.allow_in
+0000f250: 7365 6375 7265 5f73 6565 6422 5d20 3d20  secure_seed"] = 
+0000f260: 5472 7565 0a20 2020 2020 2020 2069 6620  True.        if 
+0000f270: 6172 6773 2e77 616c 6c65 745f 6b65 793a  args.wallet_key:
+0000f280: 0a20 2020 2020 2020 2020 2020 2073 6574  .            set
+0000f290: 7469 6e67 735b 2277 616c 6c65 742e 6b65  tings["wallet.ke
+0000f2a0: 7922 5d20 3d20 6172 6773 2e77 616c 6c65  y"] = args.walle
+0000f2b0: 745f 6b65 790a 2020 2020 2020 2020 6966  t_key.        if
+0000f2c0: 2061 7267 732e 7761 6c6c 6574 5f72 656b   args.wallet_rek
+0000f2d0: 6579 3a0a 2020 2020 2020 2020 2020 2020  ey:.            
+0000f2e0: 7365 7474 696e 6773 5b22 7761 6c6c 6574  settings["wallet
+0000f2f0: 2e72 656b 6579 225d 203d 2061 7267 732e  .rekey"] = args.
+0000f300: 7761 6c6c 6574 5f72 656b 6579 0a20 2020  wallet_rekey.   
+0000f310: 2020 2020 2069 6620 6172 6773 2e77 616c       if args.wal
+0000f320: 6c65 745f 6e61 6d65 3a0a 2020 2020 2020  let_name:.      
+0000f330: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000f340: 7761 6c6c 6574 2e6e 616d 6522 5d20 3d20  wallet.name"] = 
+0000f350: 6172 6773 2e77 616c 6c65 745f 6e61 6d65  args.wallet_name
+0000f360: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000f370: 2e77 616c 6c65 745f 7374 6f72 6167 655f  .wallet_storage_
+0000f380: 7479 7065 3a0a 2020 2020 2020 2020 2020  type:.          
+0000f390: 2020 7365 7474 696e 6773 5b22 7761 6c6c    settings["wall
+0000f3a0: 6574 2e73 746f 7261 6765 5f74 7970 6522  et.storage_type"
+0000f3b0: 5d20 3d20 6172 6773 2e77 616c 6c65 745f  ] = args.wallet_
+0000f3c0: 7374 6f72 6167 655f 7479 7065 0a20 2020  storage_type.   
+0000f3d0: 2020 2020 2069 6620 6172 6773 2e77 616c       if args.wal
+0000f3e0: 6c65 745f 7479 7065 3a0a 2020 2020 2020  let_type:.      
+0000f3f0: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+0000f400: 7761 6c6c 6574 2e74 7970 6522 5d20 3d20  wallet.type"] = 
+0000f410: 6172 6773 2e77 616c 6c65 745f 7479 7065  args.wallet_type
+0000f420: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+0000f430: 2e77 616c 6c65 745f 6b65 795f 6465 7269  .wallet_key_deri
+0000f440: 7661 7469 6f6e 5f6d 6574 686f 643a 0a20  vation_method:. 
+0000f450: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+0000f460: 6e67 735b 2277 616c 6c65 742e 6b65 795f  ngs["wallet.key_
+0000f470: 6465 7269 7661 7469 6f6e 5f6d 6574 686f  derivation_metho
+0000f480: 6422 5d20 3d20 6172 6773 2e77 616c 6c65  d"] = args.walle
+0000f490: 745f 6b65 795f 6465 7269 7661 7469 6f6e  t_key_derivation
+0000f4a0: 5f6d 6574 686f 640a 2020 2020 2020 2020  _method.        
+0000f4b0: 6966 2061 7267 732e 7761 6c6c 6574 5f73  if args.wallet_s
+0000f4c0: 746f 7261 6765 5f63 6f6e 6669 673a 0a20  torage_config:. 
+0000f4d0: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+0000f4e0: 6e67 735b 2277 616c 6c65 742e 7374 6f72  ngs["wallet.stor
+0000f4f0: 6167 655f 636f 6e66 6967 225d 203d 2061  age_config"] = a
+0000f500: 7267 732e 7761 6c6c 6574 5f73 746f 7261  rgs.wallet_stora
+0000f510: 6765 5f63 6f6e 6669 670a 2020 2020 2020  ge_config.      
+0000f520: 2020 6966 2061 7267 732e 7761 6c6c 6574    if args.wallet
+0000f530: 5f73 746f 7261 6765 5f63 7265 6473 3a0a  _storage_creds:.
+0000f540: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+0000f550: 696e 6773 5b22 7761 6c6c 6574 2e73 746f  ings["wallet.sto
+0000f560: 7261 6765 5f63 7265 6473 225d 203d 2061  rage_creds"] = a
+0000f570: 7267 732e 7761 6c6c 6574 5f73 746f 7261  rgs.wallet_stora
+0000f580: 6765 5f63 7265 6473 0a20 2020 2020 2020  ge_creds.       
+0000f590: 2069 6620 6172 6773 2e72 6570 6c61 6365   if args.replace
+0000f5a0: 5f70 7562 6c69 635f 6469 643a 0a20 2020  _public_did:.   
+0000f5b0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+0000f5c0: 735b 2277 616c 6c65 742e 7265 706c 6163  s["wallet.replac
+0000f5d0: 655f 7075 626c 6963 5f64 6964 225d 203d  e_public_did"] =
+0000f5e0: 2054 7275 650a 2020 2020 2020 2020 6966   True.        if
+0000f5f0: 2061 7267 732e 7265 6372 6561 7465 5f77   args.recreate_w
+0000f600: 616c 6c65 743a 0a20 2020 2020 2020 2020  allet:.         
+0000f610: 2020 2073 6574 7469 6e67 735b 2277 616c     settings["wal
+0000f620: 6c65 742e 7265 6372 6561 7465 225d 203d  let.recreate"] =
+0000f630: 2054 7275 650a 2020 2020 2020 2020 2320   True.        # 
+0000f640: 6368 6563 6b20 7265 7175 6972 6564 2073  check required s
+0000f650: 6574 7469 6e67 7320 666f 7220 2769 6e64  ettings for 'ind
+0000f660: 7927 2077 616c 6c65 7473 0a20 2020 2020  y' wallets.     
+0000f670: 2020 2069 6620 7365 7474 696e 6773 5b22     if settings["
+0000f680: 7761 6c6c 6574 2e74 7970 6522 5d20 3d3d  wallet.type"] ==
+0000f690: 2022 696e 6479 223a 0a20 2020 2020 2020   "indy":.       
+0000f6a0: 2020 2020 2023 2072 6571 7569 7265 7320       # requires 
+0000f6b0: 6e61 6d65 2c20 6b65 790a 2020 2020 2020  name, key.      
+0000f6c0: 2020 2020 2020 6966 206e 6f74 2061 7267        if not arg
+0000f6d0: 732e 7761 6c6c 6574 5f6e 616d 6520 6f72  s.wallet_name or
+0000f6e0: 206e 6f74 2061 7267 732e 7761 6c6c 6574   not args.wallet
+0000f6f0: 5f6b 6579 3a0a 2020 2020 2020 2020 2020  _key:.          
+0000f700: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
+0000f710: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
+0000f720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f730: 2250 6172 616d 6574 6572 7320 2d2d 7761  "Parameters --wa
+0000f740: 6c6c 6574 2d6e 616d 6520 616e 6420 2d2d  llet-name and --
+0000f750: 7761 6c6c 6574 2d6b 6579 206d 7573 7420  wallet-key must 
+0000f760: 6265 2070 726f 7669 6465 6420 220a 2020  be provided ".  
+0000f770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f780: 2020 2266 6f72 2069 6e64 7920 7761 6c6c    "for indy wall
+0000f790: 6574 7322 0a20 2020 2020 2020 2020 2020  ets".           
+0000f7a0: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+0000f7b0: 2020 2023 2070 6f73 7467 7265 7320 7374     # postgres st
+0000f7c0: 6f72 6167 6520 7265 7175 6972 6573 2061  orage requires a
+0000f7d0: 6464 6974 696f 6e61 6c20 636f 6e66 6967  dditional config
+0000f7e0: 7572 6174 696f 6e0a 2020 2020 2020 2020  uration.        
+0000f7f0: 2020 2020 6966 2028 0a20 2020 2020 2020      if (.       
+0000f800: 2020 2020 2020 2020 2022 7761 6c6c 6574           "wallet
+0000f810: 2e73 746f 7261 6765 5f63 6f6e 6669 6722  .storage_config"
+0000f820: 2069 6e20 7365 7474 696e 6773 0a20 2020   in settings.   
+0000f830: 2020 2020 2020 2020 2020 2020 2061 6e64               and
+0000f840: 2073 6574 7469 6e67 735b 2277 616c 6c65   settings["walle
+0000f850: 742e 7374 6f72 6167 655f 636f 6e66 6967  t.storage_config
+0000f860: 225d 203d 3d20 2270 6f73 7467 7265 735f  "] == "postgres_
+0000f870: 7374 6f72 6167 6522 0a20 2020 2020 2020  storage".       
+0000f880: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
+0000f890: 2020 2020 2020 2020 6966 206e 6f74 2061          if not a
+0000f8a0: 7267 732e 7761 6c6c 6574 5f73 746f 7261  rgs.wallet_stora
+0000f8b0: 6765 5f63 6f6e 6669 6720 6f72 206e 6f74  ge_config or not
+0000f8c0: 2061 7267 732e 7761 6c6c 6574 5f73 746f   args.wallet_sto
+0000f8d0: 7261 6765 5f63 7265 6473 3a0a 2020 2020  rage_creds:.    
+0000f8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f8f0: 7261 6973 6520 4172 6773 5061 7273 6545  raise ArgsParseE
+0000f900: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+0000f910: 2020 2020 2020 2020 2020 2020 2020 2250                "P
+0000f920: 6172 616d 6574 6572 7320 2d2d 7761 6c6c  arameters --wall
+0000f930: 6574 2d73 746f 7261 6765 2d63 6f6e 6669  et-storage-confi
+0000f940: 6720 616e 6420 2d2d 7761 6c6c 6574 2d73  g and --wallet-s
+0000f950: 746f 7261 6765 2d63 7265 6473 2022 0a20  torage-creds ". 
+0000f960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f970: 2020 2020 2020 2022 6d75 7374 2062 6520         "must be 
+0000f980: 7072 6f76 6964 6564 2066 6f72 2069 6e64  provided for ind
+0000f990: 7920 706f 7374 6772 6573 2077 616c 6c65  y postgres walle
+0000f9a0: 7473 220a 2020 2020 2020 2020 2020 2020  ts".            
+0000f9b0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000f9c0: 2020 7265 7475 726e 2073 6574 7469 6e67    return setting
+0000f9d0: 730a 0a0a 4067 726f 7570 2843 4154 5f53  s...@group(CAT_S
+0000f9e0: 5441 5254 290a 636c 6173 7320 4d75 6c74  TART).class Mult
+0000f9f0: 6974 656e 616e 7447 726f 7570 2841 7267  itenantGroup(Arg
+0000fa00: 756d 656e 7447 726f 7570 293a 0a20 2020  umentGroup):.   
+0000fa10: 2022 2222 4d75 6c74 6974 656e 616e 7420   """Multitenant 
+0000fa20: 7365 7474 696e 6773 2e22 2222 0a0a 2020  settings."""..  
+0000fa30: 2020 4752 4f55 505f 4e41 4d45 203d 2022    GROUP_NAME = "
+0000fa40: 4d75 6c74 6974 656e 616e 7422 0a0a 2020  Multitenant"..  
+0000fa50: 2020 6465 6620 6164 645f 6172 6775 6d65    def add_argume
+0000fa60: 6e74 7328 7365 6c66 2c20 7061 7273 6572  nts(self, parser
+0000fa70: 3a20 4172 6775 6d65 6e74 5061 7273 6572  : ArgumentParser
+0000fa80: 293a 0a20 2020 2020 2020 2022 2222 4164  ):.        """Ad
+0000fa90: 6420 6d75 6c74 6974 656e 616e 742d 7370  d multitenant-sp
+0000faa0: 6563 6966 6963 2063 6f6d 6d61 6e64 206c  ecific command l
+0000fab0: 696e 6520 6172 6775 6d65 6e74 7320 746f  ine arguments to
+0000fac0: 2074 6865 2070 6172 7365 722e 2222 220a   the parser.""".
+0000fad0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
+0000fae0: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
+0000faf0: 2020 2020 2020 2020 2022 2d2d 6d75 6c74           "--mult
+0000fb00: 6974 656e 616e 7422 2c0a 2020 2020 2020  itenant",.      
+0000fb10: 2020 2020 2020 6163 7469 6f6e 3d22 7374        action="st
+0000fb20: 6f72 655f 7472 7565 222c 0a20 2020 2020  ore_true",.     
+0000fb30: 2020 2020 2020 2065 6e76 5f76 6172 3d22         env_var="
+0000fb40: 4143 4150 595f 4d55 4c54 4954 454e 414e  ACAPY_MULTITENAN
+0000fb50: 5422 2c0a 2020 2020 2020 2020 2020 2020  T",.            
+0000fb60: 6865 6c70 3d22 456e 6162 6c65 206d 756c  help="Enable mul
+0000fb70: 7469 7465 6e61 6e74 206d 6f64 652e 222c  titenant mode.",
+0000fb80: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0000fb90: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+0000fba0: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+0000fbb0: 2020 2020 222d 2d6a 7774 2d73 6563 7265      "--jwt-secre
+0000fbc0: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
+0000fbd0: 7479 7065 3d73 7472 2c0a 2020 2020 2020  type=str,.      
+0000fbe0: 2020 2020 2020 6d65 7461 7661 723d 223c        metavar="<
+0000fbf0: 6a77 742d 7365 6372 6574 3e22 2c0a 2020  jwt-secret>",.  
+0000fc00: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+0000fc10: 723d 2241 4341 5059 5f4d 554c 5449 5445  r="ACAPY_MULTITE
+0000fc20: 4e41 4e54 5f4a 5754 5f53 4543 5245 5422  NANT_JWT_SECRET"
+0000fc30: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
+0000fc40: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
+0000fc50: 2020 2020 2022 5370 6563 6966 7920 7468       "Specify th
+0000fc60: 6520 7365 6372 6574 2074 6f20 6265 2075  e secret to be u
+0000fc70: 7365 6420 666f 7220 4a73 6f6e 2057 6562  sed for Json Web
+0000fc80: 2054 6f6b 656e 2028 4a57 5429 2063 7265   Token (JWT) cre
+0000fc90: 6174 696f 6e20 616e 6420 220a 2020 2020  ation and ".    
+0000fca0: 2020 2020 2020 2020 2020 2020 2276 6572              "ver
+0000fcb0: 6966 6963 6174 696f 6e2e 2054 6865 204a  ification. The J
+0000fcc0: 5754 7320 6172 6520 7573 6564 2074 6f20  WTs are used to 
+0000fcd0: 6175 7468 656e 7469 6361 7465 2061 6e64  authenticate and
+0000fce0: 2061 7574 686f 7269 7a65 2022 0a20 2020   authorize ".   
+0000fcf0: 2020 2020 2020 2020 2020 2020 2022 6d75               "mu
+0000fd00: 6c74 6974 656e 616e 7420 7761 6c6c 6574  ltitenant wallet
+0000fd10: 732e 220a 2020 2020 2020 2020 2020 2020  s.".            
+0000fd20: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
+0000fd30: 2020 2020 2070 6172 7365 722e 6164 645f       parser.add_
+0000fd40: 6172 6775 6d65 6e74 280a 2020 2020 2020  argument(.      
+0000fd50: 2020 2020 2020 222d 2d6d 756c 7469 7465        "--multite
+0000fd60: 6e61 6e74 2d61 646d 696e 222c 0a20 2020  nant-admin",.   
+0000fd70: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+0000fd80: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
+0000fd90: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+0000fda0: 723d 2241 4341 5059 5f4d 554c 5449 5445  r="ACAPY_MULTITE
+0000fdb0: 4e41 4e54 5f41 444d 494e 222c 0a20 2020  NANT_ADMIN",.   
+0000fdc0: 2020 2020 2020 2020 2068 656c 703d 2253           help="S
+0000fdd0: 7065 6369 6679 2077 6865 7468 6572 2074  pecify whether t
+0000fde0: 6f20 656e 6162 6c65 2074 6865 206d 756c  o enable the mul
+0000fdf0: 7469 7465 6e61 6e74 2061 646d 696e 2061  titenant admin a
+0000fe00: 7069 2e22 2c0a 2020 2020 2020 2020 290a  pi.",.        ).
+0000fe10: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
+0000fe20: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
+0000fe30: 2020 2020 2020 2020 2022 2d2d 6d75 6c74           "--mult
+0000fe40: 6974 656e 616e 6379 2d63 6f6e 6669 6722  itenancy-config"
+0000fe50: 2c0a 2020 2020 2020 2020 2020 2020 7479  ,.            ty
+0000fe60: 7065 3d73 7472 2c0a 2020 2020 2020 2020  pe=str,.        
+0000fe70: 2020 2020 6e61 7267 733d 222b 222c 0a20      nargs="+",. 
+0000fe80: 2020 2020 2020 2020 2020 206d 6574 6176             metav
+0000fe90: 6172 3d22 6b65 793d 7661 6c75 6522 2c0a  ar="key=value",.
+0000fea0: 2020 2020 2020 2020 2020 2020 656e 765f              env_
+0000feb0: 7661 723d 2241 4341 5059 5f4d 554c 5449  var="ACAPY_MULTI
+0000fec0: 5445 4e41 4e43 595f 434f 4e46 4947 5552  TENANCY_CONFIGUR
+0000fed0: 4154 494f 4e22 2c0a 2020 2020 2020 2020  ATION",.        
+0000fee0: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
+0000fef0: 2020 2020 2020 2020 2020 2022 5370 6563             "Spec
+0000ff00: 6966 7920 6d75 6c74 6974 656e 616e 6379  ify multitenancy
+0000ff10: 2063 6f6e 6669 6775 7261 7469 6f6e 2069   configuration i
+0000ff20: 6e20 6b65 793d 7661 6c75 6520 7061 6972  n key=value pair
+0000ff30: 732e 2022 0a20 2020 2020 2020 2020 2020  s. ".           
+0000ff40: 2020 2020 2027 466f 7220 6578 616d 706c       'For exampl
+0000ff50: 653a 2022 7761 6c6c 6574 5f74 7970 653d  e: "wallet_type=
+0000ff60: 6173 6b61 722d 7072 6f66 696c 6520 7761  askar-profile wa
+0000ff70: 6c6c 6574 5f6e 616d 653d 6173 6b61 722d  llet_name=askar-
+0000ff80: 7072 6f66 696c 652d 6e61 6d65 2220 270a  profile-name" '.
+0000ff90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ffa0: 2250 6f73 7369 626c 6520 7661 6c75 6573  "Possible values
+0000ffb0: 3a20 7761 6c6c 6574 5f6e 616d 652c 2077  : wallet_name, w
+0000ffc0: 616c 6c65 745f 6b65 792c 2063 6163 6865  allet_key, cache
+0000ffd0: 5f73 697a 652c 2022 0a20 2020 2020 2020  _size, ".       
+0000ffe0: 2020 2020 2020 2020 2027 6b65 795f 6465           'key_de
+0000fff0: 7269 7661 7469 6f6e 5f6d 6574 686f 642e  rivation_method.
+00010000: 2022 7761 6c6c 6574 5f6e 616d 6522 2069   "wallet_name" i
+00010010: 7320 6f6e 6c79 2075 7365 6420 7768 656e  s only used when
+00010020: 2027 0a20 2020 2020 2020 2020 2020 2020   '.             
+00010030: 2020 2027 2277 616c 6c65 745f 7479 7065     '"wallet_type
+00010040: 2220 6973 2022 6173 6b61 722d 7072 6f66  " is "askar-prof
+00010050: 696c 6522 270a 2020 2020 2020 2020 2020  ile"'.          
+00010060: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
+00010070: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
+00010080: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
+00010090: 2020 2020 2020 2020 222d 2d62 6173 652d          "--base-
+000100a0: 7761 6c6c 6574 2d72 6f75 7465 7322 2c0a  wallet-routes",.
+000100b0: 2020 2020 2020 2020 2020 2020 7479 7065              type
+000100c0: 3d73 7472 2c0a 2020 2020 2020 2020 2020  =str,.          
+000100d0: 2020 6e61 7267 733d 222b 222c 0a20 2020    nargs="+",.   
+000100e0: 2020 2020 2020 2020 2072 6571 7569 7265           require
+000100f0: 643d 4661 6c73 652c 0a20 2020 2020 2020  d=False,.       
+00010100: 2020 2020 206d 6574 6176 6172 3d22 3c52       metavar="<R
+00010110: 4547 4558 3e22 2c0a 2020 2020 2020 2020  EGEX>",.        
+00010120: 2020 2020 6865 6c70 3d28 0a20 2020 2020      help=(.     
+00010130: 2020 2020 2020 2020 2020 2022 5061 7474             "Patt
+00010140: 6572 6e73 206d 6174 6368 696e 6720 6164  erns matching ad
+00010150: 6d69 6e20 726f 7574 6573 2074 6861 7420  min routes that 
+00010160: 7368 6f75 6c64 2062 6520 7065 726d 6974  should be permit
+00010170: 7465 6420 666f 7220 220a 2020 2020 2020  ted for ".      
+00010180: 2020 2020 2020 2020 2020 2262 6173 6520            "base 
+00010190: 7761 6c6c 6574 2e20 5468 6520 6261 7365  wallet. The base
+000101a0: 2077 616c 6c65 7420 6973 2070 7265 636f   wallet is preco
+000101b0: 6e66 6967 7572 6564 2074 6f20 6861 7665  nfigured to have
+000101c0: 2061 6363 6573 7320 746f 2022 0a20 2020   access to ".   
+000101d0: 2020 2020 2020 2020 2020 2020 2022 6573               "es
+000101e0: 7365 6e74 6961 6c20 656e 6470 6f69 6e74  sential endpoint
+000101f0: 732e 2054 6869 7320 6172 6775 6d65 6e74  s. This argument
+00010200: 2073 686f 756c 6420 6265 2075 7365 6420   should be used 
+00010210: 7370 6172 696e 676c 792e 220a 2020 2020  sparingly.".    
+00010220: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+00010230: 2020 2029 0a0a 2020 2020 6465 6620 6765     )..    def ge
+00010240: 745f 7365 7474 696e 6773 2873 656c 662c  t_settings(self,
+00010250: 2061 7267 733a 204e 616d 6573 7061 6365   args: Namespace
+00010260: 293a 0a20 2020 2020 2020 2022 2222 4578  ):.        """Ex
+00010270: 7472 6163 7420 6d75 6c74 6974 656e 616e  tract multitenan
+00010280: 7420 7365 7474 696e 6773 2e22 2222 0a20  t settings.""". 
+00010290: 2020 2020 2020 2073 6574 7469 6e67 7320         settings 
+000102a0: 3d20 7b7d 0a20 2020 2020 2020 2069 6620  = {}.        if 
+000102b0: 6172 6773 2e6d 756c 7469 7465 6e61 6e74  args.multitenant
+000102c0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000102d0: 7474 696e 6773 5b22 6d75 6c74 6974 656e  ttings["multiten
+000102e0: 616e 742e 656e 6162 6c65 6422 5d20 3d20  ant.enabled"] = 
+000102f0: 5472 7565 0a0a 2020 2020 2020 2020 2020  True..          
+00010300: 2020 6966 2061 7267 732e 6a77 745f 7365    if args.jwt_se
+00010310: 6372 6574 3a0a 2020 2020 2020 2020 2020  cret:.          
+00010320: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00010330: 6d75 6c74 6974 656e 616e 742e 6a77 745f  multitenant.jwt_
+00010340: 7365 6372 6574 225d 203d 2061 7267 732e  secret"] = args.
+00010350: 6a77 745f 7365 6372 6574 0a20 2020 2020  jwt_secret.     
+00010360: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00010370: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+00010380: 7365 2041 7267 7350 6172 7365 4572 726f  se ArgsParseErro
+00010390: 7228 0a20 2020 2020 2020 2020 2020 2020  r(.             
+000103a0: 2020 2020 2020 2022 5061 7261 6d65 7465         "Paramete
+000103b0: 7220 2d2d 6a77 742d 7365 6372 6574 206d  r --jwt-secret m
+000103c0: 7573 7420 6265 2070 726f 7669 6465 6420  ust be provided 
+000103d0: 696e 206d 756c 7469 7465 6e61 6e74 206d  in multitenant m
+000103e0: 6f64 6522 0a20 2020 2020 2020 2020 2020  ode".           
+000103f0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+00010400: 2020 2020 6966 2061 7267 732e 6d75 6c74      if args.mult
+00010410: 6974 656e 616e 745f 6164 6d69 6e3a 0a20  itenant_admin:. 
+00010420: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00010430: 6574 7469 6e67 735b 226d 756c 7469 7465  ettings["multite
+00010440: 6e61 6e74 2e61 646d 696e 5f65 6e61 626c  nant.admin_enabl
+00010450: 6564 225d 203d 2054 7275 650a 0a20 2020  ed"] = True..   
+00010460: 2020 2020 2020 2020 2069 6620 6172 6773           if args
+00010470: 2e6d 756c 7469 7465 6e61 6e63 795f 636f  .multitenancy_co
+00010480: 6e66 6967 3a0a 2020 2020 2020 2020 2020  nfig:.          
+00010490: 2020 2020 2020 2320 4c65 6761 6379 2073        # Legacy s
+000104a0: 7570 706f 7274 0a20 2020 2020 2020 2020  upport.         
+000104b0: 2020 2020 2020 2069 6620 280a 2020 2020         if (.    
+000104c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000104d0: 6c65 6e28 6172 6773 2e6d 756c 7469 7465  len(args.multite
+000104e0: 6e61 6e63 795f 636f 6e66 6967 2920 3d3d  nancy_config) ==
+000104f0: 2031 0a20 2020 2020 2020 2020 2020 2020   1.             
+00010500: 2020 2020 2020 2061 6e64 2061 7267 732e         and args.
+00010510: 6d75 6c74 6974 656e 616e 6379 5f63 6f6e  multitenancy_con
+00010520: 6669 675b 305d 5b30 5d20 3d3d 2022 7b22  fig[0][0] == "{"
+00010530: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010540: 2029 3a0a 2020 2020 2020 2020 2020 2020   ):.            
+00010550: 2020 2020 2020 2020 6d75 6c74 6974 656e          multiten
+00010560: 616e 6379 5f63 6f6e 6669 6720 3d20 6a73  ancy_config = js
+00010570: 6f6e 2e6c 6f61 6473 2861 7267 732e 6d75  on.loads(args.mu
+00010580: 6c74 6974 656e 616e 6379 5f63 6f6e 6669  ltitenancy_confi
+00010590: 675b 305d 290a 2020 2020 2020 2020 2020  g[0]).          
+000105a0: 2020 2020 2020 2020 2020 6966 206d 756c            if mul
+000105b0: 7469 7465 6e61 6e63 795f 636f 6e66 6967  titenancy_config
+000105c0: 2e67 6574 2822 7761 6c6c 6574 5f74 7970  .get("wallet_typ
+000105d0: 6522 293a 0a20 2020 2020 2020 2020 2020  e"):.           
+000105e0: 2020 2020 2020 2020 2020 2020 2073 6574               set
+000105f0: 7469 6e67 735b 226d 756c 7469 7465 6e61  tings["multitena
+00010600: 6e74 2e77 616c 6c65 745f 7479 7065 225d  nt.wallet_type"]
+00010610: 203d 206d 756c 7469 7465 6e61 6e63 795f   = multitenancy_
+00010620: 636f 6e66 6967 2e67 6574 280a 2020 2020  config.get(.    
+00010630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010640: 2020 2020 2020 2020 2277 616c 6c65 745f          "wallet_
+00010650: 7479 7065 220a 2020 2020 2020 2020 2020  type".          
+00010660: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+00010670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010680: 2020 2020 2069 6620 6d75 6c74 6974 656e       if multiten
+00010690: 616e 6379 5f63 6f6e 6669 672e 6765 7428  ancy_config.get(
+000106a0: 2277 616c 6c65 745f 6e61 6d65 2229 3a0a  "wallet_name"):.
+000106b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000106c0: 2020 2020 2020 2020 7365 7474 696e 6773          settings
+000106d0: 5b22 6d75 6c74 6974 656e 616e 742e 7761  ["multitenant.wa
+000106e0: 6c6c 6574 5f6e 616d 6522 5d20 3d20 6d75  llet_name"] = mu
+000106f0: 6c74 6974 656e 616e 6379 5f63 6f6e 6669  ltitenancy_confi
+00010700: 672e 6765 7428 0a20 2020 2020 2020 2020  g.get(.         
+00010710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010720: 2020 2022 7761 6c6c 6574 5f6e 616d 6522     "wallet_name"
+00010730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010740: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00010750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010760: 6966 206d 756c 7469 7465 6e61 6e63 795f  if multitenancy_
+00010770: 636f 6e66 6967 2e67 6574 2822 6361 6368  config.get("cach
+00010780: 655f 7369 7a65 2229 3a0a 2020 2020 2020  e_size"):.      
+00010790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107a0: 2020 7365 7474 696e 6773 5b22 6d75 6c74    settings["mult
+000107b0: 6974 656e 616e 742e 6361 6368 655f 7369  itenant.cache_si
+000107c0: 7a65 225d 203d 206d 756c 7469 7465 6e61  ze"] = multitena
+000107d0: 6e63 795f 636f 6e66 6967 2e67 6574 280a  ncy_config.get(.
+000107e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107f0: 2020 2020 2020 2020 2020 2020 2263 6163              "cac
+00010800: 6865 5f73 697a 6522 0a20 2020 2020 2020  he_size".       
+00010810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010820: 2029 0a0a 2020 2020 2020 2020 2020 2020   )..            
+00010830: 2020 2020 2020 2020 6966 206d 756c 7469          if multi
+00010840: 7465 6e61 6e63 795f 636f 6e66 6967 2e67  tenancy_config.g
+00010850: 6574 2822 6b65 795f 6465 7269 7661 7469  et("key_derivati
+00010860: 6f6e 5f6d 6574 686f 6422 293a 0a20 2020  on_method"):.   
+00010870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010880: 2020 2020 2073 6574 7469 6e67 735b 0a20       settings[. 
+00010890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000108a0: 2020 2020 2020 2020 2020 2022 6d75 6c74             "mult
+000108b0: 6974 656e 616e 742e 6b65 795f 6465 7269  itenant.key_deri
+000108c0: 7661 7469 6f6e 5f6d 6574 686f 6422 0a20  vation_method". 
+000108d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000108e0: 2020 2020 2020 205d 203d 206d 756c 7469         ] = multi
+000108f0: 7465 6e61 6e63 795f 636f 6e66 6967 2e67  tenancy_config.g
+00010900: 6574 2822 6b65 795f 6465 7269 7661 7469  et("key_derivati
+00010910: 6f6e 5f6d 6574 686f 6422 290a 0a20 2020  on_method")..   
+00010920: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+00010930: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00010940: 2020 2020 2020 2066 6f72 2076 616c 7565         for value
+00010950: 5f73 7472 2069 6e20 6172 6773 2e6d 756c  _str in args.mul
+00010960: 7469 7465 6e61 6e63 795f 636f 6e66 6967  titenancy_config
+00010970: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010980: 2020 2020 2020 2020 2020 6b65 792c 2076            key, v
+00010990: 616c 7565 203d 2076 616c 7565 5f73 7472  alue = value_str
+000109a0: 2e73 706c 6974 2822 3d22 2c20 6d61 7873  .split("=", maxs
+000109b0: 706c 6974 3d31 290a 2020 2020 2020 2020  plit=1).        
+000109c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000109d0: 7661 6c75 6520 3d20 7961 6d6c 2e73 6166  value = yaml.saf
+000109e0: 655f 6c6f 6164 2876 616c 7565 290a 2020  e_load(value).  
+000109f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010a00: 2020 2020 2020 7365 7474 696e 6773 5b66        settings[f
+00010a10: 226d 756c 7469 7465 6e61 6e74 2e7b 6b65  "multitenant.{ke
+00010a20: 797d 225d 203d 2076 616c 7565 0a0a 2020  y}"] = value..  
+00010a30: 2020 2020 2020 2020 2020 6966 2061 7267            if arg
+00010a40: 732e 6261 7365 5f77 616c 6c65 745f 726f  s.base_wallet_ro
+00010a50: 7574 6573 3a0a 2020 2020 2020 2020 2020  utes:.          
+00010a60: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00010a70: 6d75 6c74 6974 656e 616e 742e 6261 7365  multitenant.base
+00010a80: 5f77 616c 6c65 745f 726f 7574 6573 225d  _wallet_routes"]
+00010a90: 203d 2061 7267 732e 6261 7365 5f77 616c   = args.base_wal
+00010aa0: 6c65 745f 726f 7574 6573 0a0a 2020 2020  let_routes..    
+00010ab0: 2020 2020 7265 7475 726e 2073 6574 7469      return setti
+00010ac0: 6e67 730a 0a0a 4067 726f 7570 2843 4154  ngs...@group(CAT
+00010ad0: 5f53 5441 5254 290a 636c 6173 7320 456e  _START).class En
+00010ae0: 646f 7273 656d 656e 7447 726f 7570 2841  dorsementGroup(A
+00010af0: 7267 756d 656e 7447 726f 7570 293a 0a20  rgumentGroup):. 
+00010b00: 2020 2022 2222 456e 646f 7273 656d 656e     """Endorsemen
+00010b10: 7420 7365 7474 696e 6773 2e22 2222 0a0a  t settings."""..
+00010b20: 2020 2020 4752 4f55 505f 4e41 4d45 203d      GROUP_NAME =
+00010b30: 2022 456e 646f 7273 656d 656e 7422 0a0a   "Endorsement"..
+00010b40: 2020 2020 6465 6620 6164 645f 6172 6775      def add_argu
+00010b50: 6d65 6e74 7328 7365 6c66 2c20 7061 7273  ments(self, pars
+00010b60: 6572 3a20 4172 6775 6d65 6e74 5061 7273  er: ArgumentPars
+00010b70: 6572 293a 0a20 2020 2020 2020 2022 2222  er):.        """
+00010b80: 4164 6420 656e 646f 7273 656d 656e 742d  Add endorsement-
+00010b90: 7370 6563 6966 6963 2063 6f6d 6d61 6e64  specific command
+00010ba0: 206c 696e 6520 6172 6775 6d65 6e74 7320   line arguments 
+00010bb0: 746f 2074 6865 2070 6172 7365 722e 2222  to the parser.""
+00010bc0: 220a 2020 2020 2020 2020 7061 7273 6572  ".        parser
+00010bd0: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+00010be0: 2020 2020 2020 2020 2020 2022 2d2d 656e             "--en
+00010bf0: 646f 7273 6572 2d70 726f 746f 636f 6c2d  dorser-protocol-
+00010c00: 726f 6c65 222c 0a20 2020 2020 2020 2020  role",.         
+00010c10: 2020 2074 7970 653d 7374 722e 6c6f 7765     type=str.lowe
+00010c20: 722c 0a20 2020 2020 2020 2020 2020 2063  r,.            c
+00010c30: 686f 6963 6573 3d5b 454e 444f 5253 4552  hoices=[ENDORSER
+00010c40: 5f41 5554 484f 522c 2045 4e44 4f52 5345  _AUTHOR, ENDORSE
+00010c50: 525f 454e 444f 5253 4552 2c20 454e 444f  R_ENDORSER, ENDO
+00010c60: 5253 4552 5f4e 4f4e 455d 2c0a 2020 2020  RSER_NONE],.    
+00010c70: 2020 2020 2020 2020 6d65 7461 7661 723d          metavar=
+00010c80: 223c 656e 646f 7273 6572 2d72 6f6c 653e  "<endorser-role>
+00010c90: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00010ca0: 6e76 5f76 6172 3d22 4143 4150 595f 454e  nv_var="ACAPY_EN
+00010cb0: 444f 5253 4552 5f52 4f4c 4522 2c0a 2020  DORSER_ROLE",.  
+00010cc0: 2020 2020 2020 2020 2020 6865 6c70 3d28            help=(
+00010cd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00010ce0: 2022 5370 6563 6966 7920 7468 6520 726f   "Specify the ro
+00010cf0: 6c65 2028 2761 7574 686f 7227 206f 7220  le ('author' or 
+00010d00: 2765 6e64 6f72 7365 7227 2920 7768 6963  'endorser') whic
+00010d10: 6820 7468 6973 2061 6765 6e74 2077 696c  h this agent wil
+00010d20: 6c20 220a 2020 2020 2020 2020 2020 2020  l ".            
+00010d30: 2020 2020 2270 6172 7469 6369 7061 7465      "participate
+00010d40: 2e20 4175 7468 6f72 7320 7769 6c6c 2072  . Authors will r
+00010d50: 6571 7565 7374 2074 7261 6e73 6163 7469  equest transacti
+00010d60: 6f6e 2065 6e64 6f72 656d 656e 7420 6672  on endorement fr
+00010d70: 6f6d 2061 6e20 220a 2020 2020 2020 2020  om an ".        
+00010d80: 2020 2020 2020 2020 2245 6e64 6f72 7365          "Endorse
+00010d90: 722e 2045 6e64 6f72 7365 7273 2077 696c  r. Endorsers wil
+00010da0: 6c20 656e 646f 7273 6520 7472 616e 7361  l endorse transa
+00010db0: 6374 696f 6e73 2066 726f 6d20 4175 7468  ctions from Auth
+00010dc0: 6f72 732c 2061 6e64 2022 0a20 2020 2020  ors, and ".     
+00010dd0: 2020 2020 2020 2020 2020 2022 6d61 7920             "may 
+00010de0: 7772 6974 6520 7468 6569 7220 6f77 6e20  write their own 
+00010df0: 2074 7261 6e73 6163 7469 6f6e 7320 746f   transactions to
+00010e00: 2074 6865 206c 6564 6765 722e 2049 6620   the ledger. If 
+00010e10: 6e6f 2072 6f6c 6520 220a 2020 2020 2020  no role ".      
+00010e20: 2020 2020 2020 2020 2020 2228 6f72 2027            "(or '
+00010e30: 6e6f 6e65 2729 2069 7320 7370 6563 6966  none') is specif
+00010e40: 6965 6420 7468 656e 2074 6865 2065 6e64  ied then the end
+00010e50: 6f72 7365 6d65 6e74 2070 726f 746f 636f  orsement protoco
+00010e60: 6c20 7769 6c6c 206e 6f74 2022 0a20 2020  l will not ".   
+00010e70: 2020 2020 2020 2020 2020 2020 2022 2062               " b
+00010e80: 6520 7573 6564 2061 6e64 2074 6869 7320  e used and this 
+00010e90: 6167 656e 7420 7769 6c6c 2077 7269 7465  agent will write
+00010ea0: 2074 7261 6e73 6163 7469 6f6e 7320 746f   transactions to
+00010eb0: 2074 6865 206c 6564 6765 7220 220a 2020   the ledger ".  
+00010ec0: 2020 2020 2020 2020 2020 2020 2020 2264                "d
+00010ed0: 6972 6563 746c 792e 220a 2020 2020 2020  irectly.".      
+00010ee0: 2020 2020 2020 292c 0a20 2020 2020 2020        ),.       
+00010ef0: 2029 0a20 2020 2020 2020 2070 6172 7365   ).        parse
+00010f00: 722e 6164 645f 6172 6775 6d65 6e74 280a  r.add_argument(.
+00010f10: 2020 2020 2020 2020 2020 2020 222d 2d65              "--e
+00010f20: 6e64 6f72 7365 722d 696e 7669 7461 7469  ndorser-invitati
+00010f30: 6f6e 222c 0a20 2020 2020 2020 2020 2020  on",.           
+00010f40: 2074 7970 653d 7374 722c 0a20 2020 2020   type=str,.     
+00010f50: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
+00010f60: 3c65 6e64 6f72 7365 722d 696e 7669 7461  <endorser-invita
+00010f70: 7469 6f6e 3e22 2c0a 2020 2020 2020 2020  tion>",.        
+00010f80: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+00010f90: 5059 5f45 4e44 4f52 5345 525f 494e 5649  PY_ENDORSER_INVI
+00010fa0: 5441 5449 4f4e 222c 0a20 2020 2020 2020  TATION",.       
+00010fb0: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
+00010fc0: 2020 2020 2020 2020 2020 2020 2246 6f72              "For
+00010fd0: 2074 7261 6e73 6163 7469 6f6e 2041 7574   transaction Aut
+00010fe0: 686f 7273 2c20 7370 6563 6966 7920 7468  hors, specify th
+00010ff0: 6520 696e 7669 7461 7469 6f6e 2075 7365  e invitation use
+00011000: 6420 746f 2022 0a20 2020 2020 2020 2020  d to ".         
+00011010: 2020 2020 2020 2022 636f 6e6e 6563 7420         "connect 
+00011020: 746f 2074 6865 2045 6e64 6f72 7365 7220  to the Endorser 
+00011030: 6167 656e 7420 7768 6f20 7769 6c6c 2062  agent who will b
+00011040: 6520 656e 646f 7273 696e 6720 7472 616e  e endorsing tran
+00011050: 7361 6374 696f 6e73 2e20 220a 2020 2020  sactions. ".    
+00011060: 2020 2020 2020 2020 2020 2020 224e 6f74              "Not
+00011070: 6520 7468 6973 2069 7320 6120 6d75 6c74  e this is a mult
+00011080: 692d 7573 6520 696e 7669 7461 7469 6f6e  i-use invitation
+00011090: 2063 7265 6174 6564 2062 7920 7468 6520   created by the 
+000110a0: 456e 646f 7273 6572 2061 6765 6e74 2e22  Endorser agent."
+000110b0: 0a20 2020 2020 2020 2020 2020 2029 2c0a  .            ),.
+000110c0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+000110d0: 2020 7061 7273 6572 2e61 6464 5f61 7267    parser.add_arg
+000110e0: 756d 656e 7428 0a20 2020 2020 2020 2020  ument(.         
+000110f0: 2020 2022 2d2d 656e 646f 7273 6572 2d70     "--endorser-p
+00011100: 7562 6c69 632d 6469 6422 2c0a 2020 2020  ublic-did",.    
+00011110: 2020 2020 2020 2020 7479 7065 3d73 7472          type=str
+00011120: 2c0a 2020 2020 2020 2020 2020 2020 6d65  ,.            me
+00011130: 7461 7661 723d 223c 656e 646f 7273 6572  tavar="<endorser
+00011140: 2d70 7562 6c69 632d 6469 643e 222c 0a20  -public-did>",. 
+00011150: 2020 2020 2020 2020 2020 2065 6e76 5f76             env_v
+00011160: 6172 3d22 4143 4150 595f 454e 444f 5253  ar="ACAPY_ENDORS
+00011170: 4552 5f50 5542 4c49 435f 4449 4422 2c0a  ER_PUBLIC_DID",.
+00011180: 2020 2020 2020 2020 2020 2020 6865 6c70              help
+00011190: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
+000111a0: 2020 2022 466f 7220 7472 616e 7361 6374     "For transact
+000111b0: 696f 6e20 4175 7468 6f72 732c 2073 7065  ion Authors, spe
+000111c0: 6369 6679 2074 6865 2070 7562 6c69 6320  cify the public 
+000111d0: 4449 4420 6f66 2074 6865 2045 6e64 6f72  DID of the Endor
+000111e0: 7365 7220 220a 2020 2020 2020 2020 2020  ser ".          
+000111f0: 2020 2020 2020 2261 6765 6e74 2077 686f        "agent who
+00011200: 2077 696c 6c20 6265 2065 6e64 6f72 7369   will be endorsi
+00011210: 6e67 2074 7261 6e73 6163 7469 6f6e 732e  ng transactions.
+00011220: 220a 2020 2020 2020 2020 2020 2020 292c  ".            ),
+00011230: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00011240: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+00011250: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+00011260: 2020 2020 222d 2d65 6e64 6f72 7365 722d      "--endorser-
+00011270: 656e 646f 7273 652d 7769 7468 2d64 6964  endorse-with-did
+00011280: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+00011290: 7970 653d 7374 722c 0a20 2020 2020 2020  ype=str,.       
+000112a0: 2020 2020 206d 6574 6176 6172 3d22 3c65       metavar="<e
+000112b0: 6e64 6f72 7365 722d 656e 646f 7273 652d  ndorser-endorse-
+000112c0: 7769 7468 2d64 6964 3e22 2c0a 2020 2020  with-did>",.    
+000112d0: 2020 2020 2020 2020 656e 765f 7661 723d          env_var=
+000112e0: 2241 4341 5059 5f45 4e44 4f52 5345 525f  "ACAPY_ENDORSER_
+000112f0: 454e 444f 5253 455f 5749 5448 5f44 4944  ENDORSE_WITH_DID
+00011300: 222c 0a20 2020 2020 2020 2020 2020 2068  ",.            h
+00011310: 656c 703d 280a 2020 2020 2020 2020 2020  elp=(.          
+00011320: 2020 2020 2020 2246 6f72 2074 7261 6e73        "For trans
+00011330: 6163 7469 6f6e 2045 6e64 6f72 7365 7273  action Endorsers
+00011340: 2c20 7370 6563 6966 7920 7468 6520 2044  , specify the  D
+00011350: 4944 2074 6f20 7573 6520 746f 2065 6e64  ID to use to end
+00011360: 6f72 7365 2022 0a20 2020 2020 2020 2020  orse ".         
+00011370: 2020 2020 2020 2022 7472 616e 7361 6374         "transact
+00011380: 696f 6e73 2e20 2054 6865 2064 6566 6175  ions.  The defau
+00011390: 6c74 2028 6966 206e 6f74 2073 7065 6369  lt (if not speci
+000113a0: 6669 6564 2920 6973 2074 6f20 7573 6520  fied) is to use 
+000113b0: 7468 6520 220a 2020 2020 2020 2020 2020  the ".          
+000113c0: 2020 2020 2020 2245 6e64 6f72 7365 7227        "Endorser'
+000113d0: 7320 5075 626c 6963 2044 4944 2e22 0a20  s Public DID.". 
+000113e0: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
+000113f0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00011400: 7061 7273 6572 2e61 6464 5f61 7267 756d  parser.add_argum
+00011410: 656e 7428 0a20 2020 2020 2020 2020 2020  ent(.           
+00011420: 2022 2d2d 656e 646f 7273 6572 2d61 6c69   "--endorser-ali
+00011430: 6173 222c 0a20 2020 2020 2020 2020 2020  as",.           
+00011440: 2074 7970 653d 7374 722c 0a20 2020 2020   type=str,.     
+00011450: 2020 2020 2020 206d 6574 6176 6172 3d22         metavar="
+00011460: 3c65 6e64 6f72 7365 722d 616c 6961 733e  <endorser-alias>
+00011470: 222c 0a20 2020 2020 2020 2020 2020 2065  ",.            e
+00011480: 6e76 5f76 6172 3d22 4143 4150 595f 454e  nv_var="ACAPY_EN
+00011490: 444f 5253 4552 5f41 4c49 4153 222c 0a20  DORSER_ALIAS",. 
+000114a0: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+000114b0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000114c0: 2020 2246 6f72 2074 7261 6e73 6163 7469    "For transacti
+000114d0: 6f6e 2041 7574 686f 7273 2c20 7370 6563  on Authors, spec
+000114e0: 6966 7920 7468 6520 616c 6961 7320 6f66  ify the alias of
+000114f0: 2074 6865 2045 6e64 6f72 7365 7220 220a   the Endorser ".
+00011500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011510: 2263 6f6e 6e65 6374 696f 6e20 7468 6174  "connection that
+00011520: 2077 696c 6c20 6265 2075 7365 6420 746f   will be used to
+00011530: 2065 6e64 6f72 7365 2074 7261 6e73 6163   endorse transac
+00011540: 7469 6f6e 732e 220a 2020 2020 2020 2020  tions.".        
+00011550: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+00011560: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+00011570: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+00011580: 2020 2020 2020 2020 2020 222d 2d61 7574            "--aut
+00011590: 6f2d 7265 7175 6573 742d 656e 646f 7273  o-request-endors
+000115a0: 656d 656e 7422 2c0a 2020 2020 2020 2020  ement",.        
+000115b0: 2020 2020 6163 7469 6f6e 3d22 7374 6f72      action="stor
+000115c0: 655f 7472 7565 222c 0a20 2020 2020 2020  e_true",.       
+000115d0: 2020 2020 2065 6e76 5f76 6172 3d22 4143       env_var="AC
+000115e0: 4150 595f 4155 544f 5f52 4551 5545 5354  APY_AUTO_REQUEST
+000115f0: 5f45 4e44 4f52 5345 4d45 4e54 222c 0a20  _ENDORSEMENT",. 
+00011600: 2020 2020 2020 2020 2020 2068 656c 703d             help=
+00011610: 2246 6f72 2041 7574 686f 7273 2c20 7370  "For Authors, sp
+00011620: 6563 6966 7920 7768 6574 6865 7220 746f  ecify whether to
+00011630: 2061 7574 6f6d 6174 6963 616c 6c79 2072   automatically r
+00011640: 6571 7565 7374 2022 0a20 2020 2020 2020  equest ".       
+00011650: 2020 2020 2022 656e 646f 7273 656d 656e       "endorsemen
+00011660: 7420 666f 7220 616c 6c20 7472 616e 7361  t for all transa
+00011670: 6374 696f 6e73 2e20 2849 6620 6e6f 7420  ctions. (If not 
+00011680: 7370 6563 6966 6965 642c 2074 6865 2063  specified, the c
+00011690: 6f6e 7472 6f6c 6c65 7220 220a 2020 2020  ontroller ".    
+000116a0: 2020 2020 2020 2020 2220 6d75 7374 2069          " must i
+000116b0: 6e76 6f6b 6520 7468 6520 7265 7175 6573  nvoke the reques
+000116c0: 7420 656e 646f 7273 6520 6f70 6572 6174  t endorse operat
+000116d0: 696f 6e20 666f 7220 6561 6368 2074 7261  ion for each tra
+000116e0: 6e73 6163 7469 6f6e 2e29 222c 0a20 2020  nsaction.)",.   
+000116f0: 2020 2020 2029 0a20 2020 2020 2020 2070       ).        p
+00011700: 6172 7365 722e 6164 645f 6172 6775 6d65  arser.add_argume
+00011710: 6e74 280a 2020 2020 2020 2020 2020 2020  nt(.            
+00011720: 222d 2d61 7574 6f2d 656e 646f 7273 652d  "--auto-endorse-
+00011730: 7472 616e 7361 6374 696f 6e73 222c 0a20  transactions",. 
+00011740: 2020 2020 2020 2020 2020 2061 6374 696f             actio
+00011750: 6e3d 2273 746f 7265 5f74 7275 6522 2c0a  n="store_true",.
+00011760: 2020 2020 2020 2020 2020 2020 656e 765f              env_
+00011770: 7661 723d 2241 4341 5059 5f41 5554 4f5f  var="ACAPY_AUTO_
+00011780: 454e 444f 5253 455f 5452 414e 5341 4354  ENDORSE_TRANSACT
+00011790: 494f 4e53 222c 0a20 2020 2020 2020 2020  IONS",.         
+000117a0: 2020 2068 656c 703d 2246 6f72 2045 6e64     help="For End
+000117b0: 6f72 7365 7273 2c20 7370 6563 6966 7920  orsers, specify 
+000117c0: 7768 6574 6865 7220 746f 2061 7574 6f6d  whether to autom
+000117d0: 6174 6963 616c 6c79 2065 6e64 6f72 7365  atically endorse
+000117e0: 2061 6e79 2022 0a20 2020 2020 2020 2020   any ".         
+000117f0: 2020 2022 7265 6365 6976 6564 2065 6e64     "received end
+00011800: 6f72 7365 6d65 6e74 2072 6571 7565 7374  orsement request
+00011810: 732e 2028 4966 206e 6f74 2073 7065 6369  s. (If not speci
+00011820: 6669 6564 2c20 7468 6520 636f 6e74 726f  fied, the contro
+00011830: 6c6c 6572 2022 0a20 2020 2020 2020 2020  ller ".         
+00011840: 2020 2022 206d 7573 7420 696e 766f 6b65     " must invoke
+00011850: 2074 6865 2065 6e64 6f72 7365 6d65 6e74   the endorsement
+00011860: 206f 7065 7261 7469 6f6e 2066 6f72 2065   operation for e
+00011870: 6163 6820 7472 616e 7361 6374 696f 6e2e  ach transaction.
+00011880: 2922 2c0a 2020 2020 2020 2020 290a 2020  )",.        ).  
+00011890: 2020 2020 2020 7061 7273 6572 2e61 6464        parser.add
+000118a0: 5f61 7267 756d 656e 7428 0a20 2020 2020  _argument(.     
+000118b0: 2020 2020 2020 2022 2d2d 6175 746f 2d77         "--auto-w
+000118c0: 7269 7465 2d74 7261 6e73 6163 7469 6f6e  rite-transaction
+000118d0: 7322 2c0a 2020 2020 2020 2020 2020 2020  s",.            
+000118e0: 6163 7469 6f6e 3d22 7374 6f72 655f 7472  action="store_tr
+000118f0: 7565 222c 0a20 2020 2020 2020 2020 2020  ue",.           
+00011900: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
+00011910: 4155 544f 5f57 5249 5445 5f54 5241 4e53  AUTO_WRITE_TRANS
+00011920: 4143 5449 4f4e 5322 2c0a 2020 2020 2020  ACTIONS",.      
+00011930: 2020 2020 2020 6865 6c70 3d22 466f 7220        help="For 
+00011940: 4175 7468 6f72 732c 2073 7065 6369 6679  Authors, specify
+00011950: 2077 6865 7468 6572 2074 6f20 6175 746f   whether to auto
+00011960: 6d61 7469 6361 6c6c 7920 7772 6974 6520  matically write 
+00011970: 616e 7920 220a 2020 2020 2020 2020 2020  any ".          
+00011980: 2020 2265 6e64 6f72 7365 6420 7472 616e    "endorsed tran
+00011990: 7361 6374 696f 6e73 2e20 2849 6620 6e6f  sactions. (If no
+000119a0: 7420 7370 6563 6966 6965 642c 2074 6865  t specified, the
+000119b0: 2063 6f6e 7472 6f6c 6c65 7220 220a 2020   controller ".  
+000119c0: 2020 2020 2020 2020 2020 2220 6d75 7374            " must
+000119d0: 2069 6e76 6f6b 6520 7468 6520 7772 6974   invoke the writ
+000119e0: 6520 7472 616e 7361 6374 696f 6e20 6f70  e transaction op
+000119f0: 6572 6174 696f 6e20 666f 7220 6561 6368  eration for each
+00011a00: 2074 7261 6e73 6163 7469 6f6e 2e29 222c   transaction.)",
+00011a10: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00011a20: 2020 2070 6172 7365 722e 6164 645f 6172     parser.add_ar
+00011a30: 6775 6d65 6e74 280a 2020 2020 2020 2020  gument(.        
+00011a40: 2020 2020 222d 2d61 7574 6f2d 6372 6561      "--auto-crea
+00011a50: 7465 2d72 6576 6f63 6174 696f 6e2d 7472  te-revocation-tr
+00011a60: 616e 7361 6374 696f 6e73 222c 0a20 2020  ansactions",.   
+00011a70: 2020 2020 2020 2020 2061 6374 696f 6e3d           action=
+00011a80: 2273 746f 7265 5f74 7275 6522 2c0a 2020  "store_true",.  
+00011a90: 2020 2020 2020 2020 2020 656e 765f 7661            env_va
+00011aa0: 723d 2241 4341 5059 5f43 5245 4154 455f  r="ACAPY_CREATE_
+00011ab0: 5245 564f 4341 5449 4f4e 5f54 5241 4e53  REVOCATION_TRANS
+00011ac0: 4143 5449 4f4e 5322 2c0a 2020 2020 2020  ACTIONS",.      
+00011ad0: 2020 2020 2020 6865 6c70 3d22 466f 7220        help="For 
+00011ae0: 4175 7468 6f72 732c 2073 7065 6369 6679  Authors, specify
+00011af0: 2077 6865 7468 6572 2074 6f20 6175 746f   whether to auto
+00011b00: 6d61 7469 6361 6c6c 7920 6372 6561 7465  matically create
+00011b10: 220a 2020 2020 2020 2020 2020 2020 2220  ".            " 
+00011b20: 7472 616e 7361 6374 696f 6e73 2066 6f72  transactions for
+00011b30: 2061 2063 7265 6420 6465 6627 7320 7265   a cred def's re
+00011b40: 766f 6361 7469 6f6e 2072 6567 6973 7472  vocation registr
+00011b50: 792e 2028 4966 206e 6f74 2073 7065 6369  y. (If not speci
+00011b60: 6669 6564 2c22 0a20 2020 2020 2020 2020  fied,".         
+00011b70: 2020 2022 2074 6865 2063 6f6e 7472 6f6c     " the control
+00011b80: 6c65 7220 6d75 7374 2069 6e76 6f6b 6520  ler must invoke 
+00011b90: 7468 6520 656e 6470 6f69 6e74 7320 7265  the endpoints re
+00011ba0: 7175 6972 6564 2074 6f20 6372 6561 7465  quired to create
+00011bb0: 2074 6865 220a 2020 2020 2020 2020 2020   the".          
+00011bc0: 2020 2220 7265 766f 6361 7469 6f6e 2072    " revocation r
+00011bd0: 6567 6973 7472 7920 616e 6420 6173 7369  egistry and assi
+00011be0: 676e 2074 6f20 7468 6520 6372 6564 2064  gn to the cred d
+00011bf0: 6566 2e29 222c 0a20 2020 2020 2020 2029  ef.)",.        )
+00011c00: 0a20 2020 2020 2020 2070 6172 7365 722e  .        parser.
+00011c10: 6164 645f 6172 6775 6d65 6e74 280a 2020  add_argument(.  
+00011c20: 2020 2020 2020 2020 2020 222d 2d61 7574            "--aut
+00011c30: 6f2d 7072 6f6d 6f74 652d 6175 7468 6f72  o-promote-author
+00011c40: 2d64 6964 222c 0a20 2020 2020 2020 2020  -did",.         
+00011c50: 2020 2061 6374 696f 6e3d 2273 746f 7265     action="store
+00011c60: 5f74 7275 6522 2c0a 2020 2020 2020 2020  _true",.        
+00011c70: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+00011c80: 5059 5f41 5554 4f5f 5052 4f4d 4f54 455f  PY_AUTO_PROMOTE_
+00011c90: 4155 5448 4f52 5f44 4944 222c 0a20 2020  AUTHOR_DID",.   
+00011ca0: 2020 2020 2020 2020 2068 656c 703d 2246           help="F
+00011cb0: 6f72 2041 7574 686f 7273 2c20 7370 6563  or Authors, spec
+00011cc0: 6966 7920 7768 6574 6865 7220 746f 2061  ify whether to a
+00011cd0: 7574 6f6d 6174 6963 616c 6c79 2070 726f  utomatically pro
+00011ce0: 6d6f 7465 220a 2020 2020 2020 2020 2020  mote".          
+00011cf0: 2020 2220 6120 4449 4420 746f 2074 6865    " a DID to the
+00011d00: 2077 616c 6c65 7420 7075 626c 6963 2044   wallet public D
+00011d10: 4944 2061 6674 6572 2077 7269 7469 6e67  ID after writing
+00011d20: 2074 6f20 7468 6520 6c65 6467 6572 2e22   to the ledger."
+00011d30: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
+00011d40: 2064 6566 2067 6574 5f73 6574 7469 6e67   def get_setting
+00011d50: 7328 7365 6c66 2c20 6172 6773 3a20 4e61  s(self, args: Na
+00011d60: 6d65 7370 6163 6529 3a0a 2020 2020 2020  mespace):.      
+00011d70: 2020 2222 2245 7874 7261 6374 2065 6e64    """Extract end
+00011d80: 6f72 7365 7220 7365 7474 696e 6773 2e22  orser settings."
+00011d90: 2222 0a20 2020 2020 2020 2073 6574 7469  "".        setti
+00011da0: 6e67 7320 3d20 7b7d 0a20 2020 2020 2020  ngs = {}.       
+00011db0: 2073 6574 7469 6e67 735b 2265 6e64 6f72   settings["endor
+00011dc0: 7365 722e 6175 7468 6f72 225d 203d 2046  ser.author"] = F
+00011dd0: 616c 7365 0a20 2020 2020 2020 2073 6574  alse.        set
+00011de0: 7469 6e67 735b 2265 6e64 6f72 7365 722e  tings["endorser.
+00011df0: 656e 646f 7273 6572 225d 203d 2046 616c  endorser"] = Fal
+00011e00: 7365 0a20 2020 2020 2020 2073 6574 7469  se.        setti
+00011e10: 6e67 735b 2265 6e64 6f72 7365 722e 6175  ngs["endorser.au
+00011e20: 746f 5f65 6e64 6f72 7365 225d 203d 2046  to_endorse"] = F
+00011e30: 616c 7365 0a20 2020 2020 2020 2073 6574  alse.        set
 00011e40: 7469 6e67 735b 2265 6e64 6f72 7365 722e  tings["endorser.
-00011e50: 6175 746f 5f77 7269 7465 225d 203d 2054  auto_write"] = T
-00011e60: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
-00011e70: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00011e80: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
-00011e90: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
-00011ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011eb0: 2250 6172 616d 6574 6572 202d 2d61 7574  "Parameter --aut
-00011ec0: 6f2d 7772 6974 652d 7472 616e 7361 6374  o-write-transact
-00011ed0: 696f 6e73 2073 686f 756c 6420 6f6e 6c79  ions should only
-00011ee0: 2062 6520 7365 7420 666f 7220 220a 2020   be set for ".  
-00011ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f00: 2020 2274 7261 6e73 6163 7469 6f6e 2041    "transaction A
-00011f10: 7574 686f 7273 220a 2020 2020 2020 2020  uthors".        
-00011f20: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-00011f30: 2020 2069 6620 6172 6773 2e61 7574 6f5f     if args.auto_
-00011f40: 6372 6561 7465 5f72 6576 6f63 6174 696f  create_revocatio
-00011f50: 6e5f 7472 616e 7361 6374 696f 6e73 3a0a  n_transactions:.
-00011f60: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00011f70: 6574 7469 6e67 735b 2265 6e64 6f72 7365  ettings["endorse
-00011f80: 722e 6175 7468 6f72 225d 3a0a 2020 2020  r.author"]:.    
-00011f90: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00011fa0: 696e 6773 5b22 656e 646f 7273 6572 2e61  ings["endorser.a
-00011fb0: 7574 6f5f 6372 6561 7465 5f72 6576 5f72  uto_create_rev_r
-00011fc0: 6567 225d 203d 2054 7275 650a 2020 2020  eg"] = True.    
-00011fd0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-00011fe0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00011ff0: 6973 6520 4172 6773 5061 7273 6545 7272  ise ArgsParseErr
-00012000: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00012010: 2020 2020 2020 2020 2250 6172 616d 6574          "Paramet
-00012020: 6572 202d 2d61 7574 6f2d 6372 6561 7465  er --auto-create
-00012030: 2d72 6576 6f63 6174 696f 6e2d 7472 616e  -revocation-tran
-00012040: 7361 6374 696f 6e73 2073 686f 756c 6420  sactions should 
-00012050: 6f6e 6c79 2062 6520 7365 7420 220a 2020  only be set ".  
-00012060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012070: 2020 2266 6f72 2074 7261 6e73 6163 7469    "for transacti
-00012080: 6f6e 2041 7574 686f 7273 220a 2020 2020  on Authors".    
-00012090: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-000120a0: 2020 2020 2020 2069 6620 6172 6773 2e61         if args.a
-000120b0: 7574 6f5f 7072 6f6d 6f74 655f 6175 7468  uto_promote_auth
-000120c0: 6f72 5f64 6964 3a0a 2020 2020 2020 2020  or_did:.        
-000120d0: 2020 2020 6966 2073 6574 7469 6e67 735b      if settings[
-000120e0: 2265 6e64 6f72 7365 722e 6175 7468 6f72  "endorser.author
-000120f0: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-00012100: 2020 2020 7365 7474 696e 6773 5b22 656e      settings["en
-00012110: 646f 7273 6572 2e61 7574 6f5f 7072 6f6d  dorser.auto_prom
-00012120: 6f74 655f 6175 7468 6f72 5f64 6964 225d  ote_author_did"]
-00012130: 203d 2054 7275 650a 2020 2020 2020 2020   = True.        
-00012140: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00012150: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00012160: 4172 6773 5061 7273 6545 7272 6f72 280a  ArgsParseError(.
-00012170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012180: 2020 2020 2250 6172 616d 6574 6572 202d      "Parameter -
-00012190: 2d61 7574 6f2d 7072 6f6d 6f74 652d 6175  -auto-promote-au
-000121a0: 7468 6f72 2d64 6964 2073 686f 756c 6420  thor-did should 
-000121b0: 6f6e 6c79 2062 6520 7365 7420 220a 2020  only be set ".  
-000121c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000121d0: 2020 2266 6f72 2074 7261 6e73 6163 7469    "for transacti
-000121e0: 6f6e 2041 7574 686f 7273 220a 2020 2020  on Authors".    
-000121f0: 2020 2020 2020 2020 2020 2020 290a 0a20              ).. 
-00012200: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-00012210: 7474 696e 6773 0a0a 0a40 6772 6f75 7028  ttings...@group(
-00012220: 4341 545f 5550 4752 4144 4529 0a63 6c61  CAT_UPGRADE).cla
-00012230: 7373 2055 7067 7261 6465 4772 6f75 7028  ss UpgradeGroup(
-00012240: 4172 6775 6d65 6e74 4772 6f75 7029 3a0a  ArgumentGroup):.
-00012250: 2020 2020 2222 2241 4341 2d50 7920 5570      """ACA-Py Up
-00012260: 6772 6164 6520 7072 6f63 6573 7320 7365  grade process se
-00012270: 7474 696e 6773 2e22 2222 0a0a 2020 2020  ttings."""..    
-00012280: 4752 4f55 505f 4e41 4d45 203d 2022 5570  GROUP_NAME = "Up
-00012290: 6772 6164 6522 0a0a 2020 2020 6465 6620  grade"..    def 
-000122a0: 6164 645f 6172 6775 6d65 6e74 7328 7365  add_arguments(se
-000122b0: 6c66 2c20 7061 7273 6572 3a20 4172 6775  lf, parser: Argu
-000122c0: 6d65 6e74 5061 7273 6572 293a 0a20 2020  mentParser):.   
-000122d0: 2020 2020 2022 2222 4164 6420 4143 412d       """Add ACA-
-000122e0: 5079 2075 7067 7261 6465 2070 726f 6365  Py upgrade proce
-000122f0: 7373 2073 7065 6369 6669 6320 6172 6775  ss specific argu
-00012300: 6d65 6e74 7320 746f 2074 6865 2070 6172  ments to the par
-00012310: 7365 722e 2222 220a 0a20 2020 2020 2020  ser."""..       
-00012320: 2070 6172 7365 722e 6164 645f 6172 6775   parser.add_argu
-00012330: 6d65 6e74 280a 2020 2020 2020 2020 2020  ment(.          
-00012340: 2020 222d 2d75 7067 7261 6465 2d63 6f6e    "--upgrade-con
-00012350: 6669 672d 7061 7468 222c 0a20 2020 2020  fig-path",.     
-00012360: 2020 2020 2020 2074 7970 653d 7374 722c         type=str,
-00012370: 0a20 2020 2020 2020 2020 2020 2064 6573  .            des
-00012380: 743d 2275 7067 7261 6465 5f63 6f6e 6669  t="upgrade_confi
-00012390: 675f 7061 7468 222c 0a20 2020 2020 2020  g_path",.       
-000123a0: 2020 2020 2072 6571 7569 7265 643d 4661       required=Fa
-000123b0: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
-000123c0: 2065 6e76 5f76 6172 3d22 4143 4150 595f   env_var="ACAPY_
-000123d0: 5550 4752 4144 455f 434f 4e46 4947 5f50  UPGRADE_CONFIG_P
-000123e0: 4154 4822 2c0a 2020 2020 2020 2020 2020  ATH",.          
-000123f0: 2020 6865 6c70 3d28 0a20 2020 2020 2020    help=(.       
-00012400: 2020 2020 2020 2020 2022 5941 4d4c 2066           "YAML f
-00012410: 696c 6520 7061 7468 2074 6861 7420 7370  ile path that sp
-00012420: 6563 6966 6965 7320 636f 6e66 6967 2074  ecifies config t
-00012430: 6f20 6861 6e64 6c65 2075 7067 7261 6465  o handle upgrade
-00012440: 2063 6861 6e67 6573 2e22 0a20 2020 2020   changes.".     
-00012450: 2020 2020 2020 2020 2020 2022 4465 6661             "Defa
-00012460: 756c 743a 202e 2f61 7269 6573 5f63 6c6f  ult: ./aries_clo
-00012470: 7564 6167 656e 742f 636f 6d6d 616e 6473  udagent/commands
-00012480: 2f64 6566 6175 6c74 5f76 6572 7369 6f6e  /default_version
-00012490: 5f75 7067 7261 6465 5f63 6f6e 6669 672e  _upgrade_config.
-000124a0: 796d 6c22 0a20 2020 2020 2020 2020 2020  yml".           
-000124b0: 2029 2c0a 2020 2020 2020 2020 290a 0a20   ),.        ).. 
-000124c0: 2020 2020 2020 2070 6172 7365 722e 6164         parser.ad
-000124d0: 645f 6172 6775 6d65 6e74 280a 2020 2020  d_argument(.    
-000124e0: 2020 2020 2020 2020 222d 2d66 726f 6d2d          "--from-
-000124f0: 7665 7273 696f 6e22 2c0a 2020 2020 2020  version",.      
-00012500: 2020 2020 2020 7479 7065 3d73 7472 2c0a        type=str,.
-00012510: 2020 2020 2020 2020 2020 2020 656e 765f              env_
-00012520: 7661 723d 2241 4341 5059 5f55 5047 5241  var="ACAPY_UPGRA
-00012530: 4445 5f46 524f 4d5f 5645 5253 494f 4e22  DE_FROM_VERSION"
-00012540: 2c0a 2020 2020 2020 2020 2020 2020 6865  ,.            he
-00012550: 6c70 3d28 0a20 2020 2020 2020 2020 2020  lp=(.           
-00012560: 2020 2020 2022 5370 6563 6966 7920 7768       "Specify wh
-00012570: 6963 6820 4143 412d 5079 2076 6572 7369  ich ACA-Py versi
-00012580: 6f6e 2074 6f20 7570 6772 6164 6520 6672  on to upgrade fr
-00012590: 6f6d 2c20 220a 2020 2020 2020 2020 2020  om, ".          
-000125a0: 2020 2020 2020 2274 6869 7320 7665 7273        "this vers
-000125b0: 696f 6e20 7368 6f75 6c64 2062 6520 7375  ion should be su
-000125c0: 7070 6f72 7465 642f 696e 636c 7564 6564  pported/included
-000125d0: 2069 6e20 220a 2020 2020 2020 2020 2020   in ".          
-000125e0: 2020 2020 2020 2274 6865 202d 2d75 7067        "the --upg
-000125f0: 7261 6465 2d63 6f6e 6669 6720 6669 6c65  rade-config file
-00012600: 2e22 0a20 2020 2020 2020 2020 2020 2029  .".            )
-00012610: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
-00012620: 2064 6566 2067 6574 5f73 6574 7469 6e67   def get_setting
-00012630: 7328 7365 6c66 2c20 6172 6773 3a20 4e61  s(self, args: Na
-00012640: 6d65 7370 6163 6529 202d 3e20 6469 6374  mespace) -> dict
-00012650: 3a0a 2020 2020 2020 2020 2222 2245 7874  :.        """Ext
-00012660: 7261 6374 2041 4341 2d50 7920 7570 6772  ract ACA-Py upgr
-00012670: 6164 6520 7072 6f63 6573 7320 7365 7474  ade process sett
-00012680: 696e 6773 2e22 2222 0a20 2020 2020 2020  ings.""".       
-00012690: 2073 6574 7469 6e67 7320 3d20 7b7d 0a20   settings = {}. 
-000126a0: 2020 2020 2020 2069 6620 6172 6773 2e75         if args.u
-000126b0: 7067 7261 6465 5f63 6f6e 6669 675f 7061  pgrade_config_pa
-000126c0: 7468 3a0a 2020 2020 2020 2020 2020 2020  th:.            
-000126d0: 7365 7474 696e 6773 5b22 7570 6772 6164  settings["upgrad
-000126e0: 652e 636f 6e66 6967 5f70 6174 6822 5d20  e.config_path"] 
-000126f0: 3d20 6172 6773 2e75 7067 7261 6465 5f63  = args.upgrade_c
-00012700: 6f6e 6669 675f 7061 7468 0a20 2020 2020  onfig_path.     
-00012710: 2020 2069 6620 6172 6773 2e66 726f 6d5f     if args.from_
-00012720: 7665 7273 696f 6e3a 0a20 2020 2020 2020  version:.       
-00012730: 2020 2020 2073 6574 7469 6e67 735b 2275       settings["u
-00012740: 7067 7261 6465 2e66 726f 6d5f 7665 7273  pgrade.from_vers
-00012750: 696f 6e22 5d20 3d20 6172 6773 2e66 726f  ion"] = args.fro
-00012760: 6d5f 7665 7273 696f 6e0a 2020 2020 2020  m_version.      
-00012770: 2020 7265 7475 726e 2073 6574 7469 6e67    return setting
-00012780: 730a                                     s.
+00011e50: 6175 746f 5f77 7269 7465 225d 203d 2046  auto_write"] = F
+00011e60: 616c 7365 0a20 2020 2020 2020 2073 6574  alse.        set
+00011e70: 7469 6e67 735b 2265 6e64 6f72 7365 722e  tings["endorser.
+00011e80: 6175 746f 5f63 7265 6174 655f 7265 765f  auto_create_rev_
+00011e90: 7265 6722 5d20 3d20 4661 6c73 650a 2020  reg"] = False.  
+00011ea0: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
+00011eb0: 656e 646f 7273 6572 2e61 7574 6f5f 7072  endorser.auto_pr
+00011ec0: 6f6d 6f74 655f 6175 7468 6f72 5f64 6964  omote_author_did
+00011ed0: 225d 203d 2046 616c 7365 0a0a 2020 2020  "] = False..    
+00011ee0: 2020 2020 6966 2061 7267 732e 656e 646f      if args.endo
+00011ef0: 7273 6572 5f70 726f 746f 636f 6c5f 726f  rser_protocol_ro
+00011f00: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
+00011f10: 6966 2061 7267 732e 656e 646f 7273 6572  if args.endorser
+00011f20: 5f70 726f 746f 636f 6c5f 726f 6c65 203d  _protocol_role =
+00011f30: 3d20 454e 444f 5253 4552 5f41 5554 484f  = ENDORSER_AUTHO
+00011f40: 523a 0a20 2020 2020 2020 2020 2020 2020  R:.             
+00011f50: 2020 2073 6574 7469 6e67 735b 2265 6e64     settings["end
+00011f60: 6f72 7365 722e 6175 7468 6f72 225d 203d  orser.author"] =
+00011f70: 2054 7275 650a 2020 2020 2020 2020 2020   True.          
+00011f80: 2020 656c 6966 2061 7267 732e 656e 646f    elif args.endo
+00011f90: 7273 6572 5f70 726f 746f 636f 6c5f 726f  rser_protocol_ro
+00011fa0: 6c65 203d 3d20 454e 444f 5253 4552 5f45  le == ENDORSER_E
+00011fb0: 4e44 4f52 5345 523a 0a20 2020 2020 2020  NDORSER:.       
+00011fc0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+00011fd0: 735b 2265 6e64 6f72 7365 722e 656e 646f  s["endorser.endo
+00011fe0: 7273 6572 225d 203d 2054 7275 650a 0a20  rser"] = True.. 
+00011ff0: 2020 2020 2020 2069 6620 6172 6773 2e65         if args.e
+00012000: 6e64 6f72 7365 725f 7075 626c 6963 5f64  ndorser_public_d
+00012010: 6964 3a0a 2020 2020 2020 2020 2020 2020  id:.            
+00012020: 6966 2073 6574 7469 6e67 735b 2265 6e64  if settings["end
+00012030: 6f72 7365 722e 6175 7468 6f72 225d 3a0a  orser.author"]:.
+00012040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012050: 7365 7474 696e 6773 5b22 656e 646f 7273  settings["endors
+00012060: 6572 2e65 6e64 6f72 7365 725f 7075 626c  er.endorser_publ
+00012070: 6963 5f64 6964 225d 203d 2061 7267 732e  ic_did"] = args.
+00012080: 656e 646f 7273 6572 5f70 7562 6c69 635f  endorser_public_
+00012090: 6469 640a 2020 2020 2020 2020 2020 2020  did.            
+000120a0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000120b0: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
+000120c0: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
+000120d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000120e0: 2250 6172 616d 6574 6572 202d 2d65 6e64  "Parameter --end
+000120f0: 6f72 7365 722d 7075 626c 6963 2d64 6964  orser-public-did
+00012100: 2073 686f 756c 6420 6f6e 6c79 2062 6520   should only be 
+00012110: 7365 7420 666f 7220 7472 616e 7361 6374  set for transact
+00012120: 696f 6e20 220a 2020 2020 2020 2020 2020  ion ".          
+00012130: 2020 2020 2020 2020 2020 2241 7574 686f            "Autho
+00012140: 7273 220a 2020 2020 2020 2020 2020 2020  rs".            
+00012150: 2020 2020 290a 0a20 2020 2020 2020 2069      )..        i
+00012160: 6620 6172 6773 2e65 6e64 6f72 7365 725f  f args.endorser_
+00012170: 656e 646f 7273 655f 7769 7468 5f64 6964  endorse_with_did
+00012180: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00012190: 2073 6574 7469 6e67 735b 2265 6e64 6f72   settings["endor
+000121a0: 7365 722e 656e 646f 7273 6572 225d 3a0a  ser.endorser"]:.
+000121b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000121c0: 7365 7474 696e 6773 5b0a 2020 2020 2020  settings[.      
+000121d0: 2020 2020 2020 2020 2020 2020 2020 2265                "e
+000121e0: 6e64 6f72 7365 722e 656e 646f 7273 6572  ndorser.endorser
+000121f0: 5f65 6e64 6f72 7365 5f77 6974 685f 6469  _endorse_with_di
+00012200: 6422 0a20 2020 2020 2020 2020 2020 2020  d".             
+00012210: 2020 205d 203d 2061 7267 732e 656e 646f     ] = args.endo
+00012220: 7273 6572 5f65 6e64 6f72 7365 5f77 6974  rser_endorse_wit
+00012230: 685f 6469 640a 2020 2020 2020 2020 2020  h_did.          
+00012240: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00012250: 2020 2020 2020 2020 7261 6973 6520 4172          raise Ar
+00012260: 6773 5061 7273 6545 7272 6f72 280a 2020  gsParseError(.  
+00012270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012280: 2020 2250 6172 616d 6574 6572 202d 2d65    "Parameter --e
+00012290: 6e64 6f72 7365 722d 656e 646f 7273 652d  ndorser-endorse-
+000122a0: 7769 7468 2d64 6964 2073 686f 756c 6420  with-did should 
+000122b0: 6f6e 6c79 2062 6520 7365 7420 666f 7220  only be set for 
+000122c0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+000122d0: 2020 2020 2020 2274 7261 6e73 6163 7469        "transacti
+000122e0: 6f6e 2045 6e64 6f72 7365 7273 220a 2020  on Endorsers".  
+000122f0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+00012300: 0a20 2020 2020 2020 2069 6620 6172 6773  .        if args
+00012310: 2e65 6e64 6f72 7365 725f 616c 6961 733a  .endorser_alias:
+00012320: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00012330: 7365 7474 696e 6773 5b22 656e 646f 7273  settings["endors
+00012340: 6572 2e61 7574 686f 7222 5d3a 0a20 2020  er.author"]:.   
+00012350: 2020 2020 2020 2020 2020 2020 2073 6574               set
+00012360: 7469 6e67 735b 2265 6e64 6f72 7365 722e  tings["endorser.
+00012370: 656e 646f 7273 6572 5f61 6c69 6173 225d  endorser_alias"]
+00012380: 203d 2061 7267 732e 656e 646f 7273 6572   = args.endorser
+00012390: 5f61 6c69 6173 0a20 2020 2020 2020 2020  _alias.         
+000123a0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+000123b0: 2020 2020 2020 2020 2072 6169 7365 2041           raise A
+000123c0: 7267 7350 6172 7365 4572 726f 7228 0a20  rgsParseError(. 
+000123d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000123e0: 2020 2022 5061 7261 6d65 7465 7220 2d2d     "Parameter --
+000123f0: 656e 646f 7273 6572 2d61 6c69 6173 2073  endorser-alias s
+00012400: 686f 756c 6420 6f6e 6c79 2062 6520 7365  hould only be se
+00012410: 7420 666f 7220 7472 616e 7361 6374 696f  t for transactio
+00012420: 6e20 220a 2020 2020 2020 2020 2020 2020  n ".            
+00012430: 2020 2020 2020 2020 2241 7574 686f 7273          "Authors
+00012440: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00012450: 2020 290a 0a20 2020 2020 2020 2069 6620    )..        if 
+00012460: 6172 6773 2e65 6e64 6f72 7365 725f 696e  args.endorser_in
+00012470: 7669 7461 7469 6f6e 3a0a 2020 2020 2020  vitation:.      
+00012480: 2020 2020 2020 6966 2073 6574 7469 6e67        if setting
+00012490: 735b 2265 6e64 6f72 7365 722e 6175 7468  s["endorser.auth
+000124a0: 6f72 225d 3a0a 2020 2020 2020 2020 2020  or"]:.          
+000124b0: 2020 2020 2020 6966 206e 6f74 2073 6574        if not set
+000124c0: 7469 6e67 732e 6765 7428 2265 6e64 6f72  tings.get("endor
+000124d0: 7365 722e 656e 646f 7273 6572 5f70 7562  ser.endorser_pub
+000124e0: 6c69 635f 6469 6422 293a 0a20 2020 2020  lic_did"):.     
+000124f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00012500: 6169 7365 2041 7267 7350 6172 7365 4572  aise ArgsParseEr
+00012510: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+00012520: 2020 2020 2020 2020 2020 2020 2022 5061               "Pa
+00012530: 7261 6d65 7465 7220 2d2d 656e 646f 7273  rameter --endors
+00012540: 6572 2d70 7562 6c69 632d 6469 6420 6d75  er-public-did mu
+00012550: 7374 2062 6520 7072 6f76 6964 6564 2069  st be provided i
+00012560: 6620 220a 2020 2020 2020 2020 2020 2020  f ".            
+00012570: 2020 2020 2020 2020 2020 2020 222d 2d65              "--e
+00012580: 6e64 6f72 7365 722d 696e 7669 7461 7469  ndorser-invitati
+00012590: 6f6e 2069 7320 7365 742e 220a 2020 2020  on is set.".    
+000125a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000125b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000125c0: 2020 6966 206e 6f74 2073 6574 7469 6e67    if not setting
+000125d0: 732e 6765 7428 2265 6e64 6f72 7365 722e  s.get("endorser.
+000125e0: 656e 646f 7273 6572 5f61 6c69 6173 2229  endorser_alias")
+000125f0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012600: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
+00012610: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
+00012620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012630: 2020 2020 2250 6172 616d 6574 6572 202d      "Parameter -
+00012640: 2d65 6e64 6f72 7365 722d 616c 6961 7320  -endorser-alias 
+00012650: 6d75 7374 2062 6520 7072 6f76 6964 6564  must be provided
+00012660: 2069 6620 220a 2020 2020 2020 2020 2020   if ".          
+00012670: 2020 2020 2020 2020 2020 2020 2020 222d                "-
+00012680: 2d65 6e64 6f72 7365 722d 696e 7669 7461  -endorser-invita
+00012690: 7469 6f6e 2069 7320 7365 742e 220a 2020  tion is set.".  
+000126a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000126b0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+000126c0: 2020 2020 7365 7474 696e 6773 5b22 656e      settings["en
+000126d0: 646f 7273 6572 2e65 6e64 6f72 7365 725f  dorser.endorser_
+000126e0: 696e 7669 7461 7469 6f6e 225d 203d 2061  invitation"] = a
+000126f0: 7267 732e 656e 646f 7273 6572 5f69 6e76  rgs.endorser_inv
+00012700: 6974 6174 696f 6e0a 2020 2020 2020 2020  itation.        
+00012710: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00012720: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+00012730: 4172 6773 5061 7273 6545 7272 6f72 280a  ArgsParseError(.
+00012740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012750: 2020 2020 2250 6172 616d 6574 6572 202d      "Parameter -
+00012760: 2d65 6e64 6f72 7365 722d 696e 7669 7461  -endorser-invita
+00012770: 7469 6f6e 2073 686f 756c 6420 6f6e 6c79  tion should only
+00012780: 2062 6520 7365 7420 666f 7220 7472 616e   be set for tran
+00012790: 7361 6374 696f 6e20 220a 2020 2020 2020  saction ".      
+000127a0: 2020 2020 2020 2020 2020 2020 2020 2241                "A
+000127b0: 7574 686f 7273 220a 2020 2020 2020 2020  uthors".        
+000127c0: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+000127d0: 2020 2069 6620 6172 6773 2e61 7574 6f5f     if args.auto_
+000127e0: 7265 7175 6573 745f 656e 646f 7273 656d  request_endorsem
+000127f0: 656e 743a 0a20 2020 2020 2020 2020 2020  ent:.           
+00012800: 2069 6620 7365 7474 696e 6773 5b22 656e   if settings["en
+00012810: 646f 7273 6572 2e61 7574 686f 7222 5d3a  dorser.author"]:
+00012820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012830: 2073 6574 7469 6e67 735b 2265 6e64 6f72   settings["endor
+00012840: 7365 722e 6175 746f 5f72 6571 7565 7374  ser.auto_request
+00012850: 225d 203d 2054 7275 650a 2020 2020 2020  "] = True.      
+00012860: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00012870: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+00012880: 6520 4172 6773 5061 7273 6545 7272 6f72  e ArgsParseError
+00012890: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000128a0: 2020 2020 2020 2250 6172 616d 6574 6572        "Parameter
+000128b0: 202d 2d61 7574 6f2d 7265 7175 6573 742d   --auto-request-
+000128c0: 656e 646f 7273 656d 656e 7420 7368 6f75  endorsement shou
+000128d0: 6c64 206f 6e6c 7920 6265 2073 6574 2066  ld only be set f
+000128e0: 6f72 2022 0a20 2020 2020 2020 2020 2020  or ".           
+000128f0: 2020 2020 2020 2020 2022 7472 616e 7361           "transa
+00012900: 6374 696f 6e20 4175 7468 6f72 7322 0a20  ction Authors". 
+00012910: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00012920: 0a0a 2020 2020 2020 2020 6966 2061 7267  ..        if arg
+00012930: 732e 6175 746f 5f65 6e64 6f72 7365 5f74  s.auto_endorse_t
+00012940: 7261 6e73 6163 7469 6f6e 733a 0a20 2020  ransactions:.   
+00012950: 2020 2020 2020 2020 2069 6620 7365 7474           if sett
+00012960: 696e 6773 5b22 656e 646f 7273 6572 2e65  ings["endorser.e
+00012970: 6e64 6f72 7365 7222 5d3a 0a20 2020 2020  ndorser"]:.     
+00012980: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+00012990: 6e67 735b 2265 6e64 6f72 7365 722e 6175  ngs["endorser.au
+000129a0: 746f 5f65 6e64 6f72 7365 225d 203d 2054  to_endorse"] = T
+000129b0: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+000129c0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+000129d0: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
+000129e0: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
+000129f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012a00: 2250 6172 616d 6574 6572 202d 2d61 7574  "Parameter --aut
+00012a10: 6f2d 656e 646f 7273 6572 2d74 7261 6e73  o-endorser-trans
+00012a20: 6163 7469 6f6e 7320 7368 6f75 6c64 206f  actions should o
+00012a30: 6e6c 7920 6265 2073 6574 2066 6f72 2022  nly be set for "
+00012a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012a50: 2020 2020 2022 7472 616e 7361 6374 696f       "transactio
+00012a60: 6e20 456e 646f 7273 6572 7322 0a20 2020  n Endorsers".   
+00012a70: 2020 2020 2020 2020 2020 2020 2029 0a0a               )..
+00012a80: 2020 2020 2020 2020 6966 2061 7267 732e          if args.
+00012a90: 6175 746f 5f77 7269 7465 5f74 7261 6e73  auto_write_trans
+00012aa0: 6163 7469 6f6e 733a 0a20 2020 2020 2020  actions:.       
+00012ab0: 2020 2020 2069 6620 7365 7474 696e 6773       if settings
+00012ac0: 5b22 656e 646f 7273 6572 2e61 7574 686f  ["endorser.autho
+00012ad0: 7222 5d3a 0a20 2020 2020 2020 2020 2020  r"]:.           
+00012ae0: 2020 2020 2073 6574 7469 6e67 735b 2265       settings["e
+00012af0: 6e64 6f72 7365 722e 6175 746f 5f77 7269  ndorser.auto_wri
+00012b00: 7465 225d 203d 2054 7275 650a 2020 2020  te"] = True.    
+00012b10: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00012b20: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+00012b30: 6973 6520 4172 6773 5061 7273 6545 7272  ise ArgsParseErr
+00012b40: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+00012b50: 2020 2020 2020 2020 2250 6172 616d 6574          "Paramet
+00012b60: 6572 202d 2d61 7574 6f2d 7772 6974 652d  er --auto-write-
+00012b70: 7472 616e 7361 6374 696f 6e73 2073 686f  transactions sho
+00012b80: 756c 6420 6f6e 6c79 2062 6520 7365 7420  uld only be set 
+00012b90: 666f 7220 220a 2020 2020 2020 2020 2020  for ".          
+00012ba0: 2020 2020 2020 2020 2020 2274 7261 6e73            "trans
+00012bb0: 6163 7469 6f6e 2041 7574 686f 7273 220a  action Authors".
+00012bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012bd0: 290a 0a20 2020 2020 2020 2069 6620 6172  )..        if ar
+00012be0: 6773 2e61 7574 6f5f 6372 6561 7465 5f72  gs.auto_create_r
+00012bf0: 6576 6f63 6174 696f 6e5f 7472 616e 7361  evocation_transa
+00012c00: 6374 696f 6e73 3a0a 2020 2020 2020 2020  ctions:.        
+00012c10: 2020 2020 6966 2073 6574 7469 6e67 735b      if settings[
+00012c20: 2265 6e64 6f72 7365 722e 6175 7468 6f72  "endorser.author
+00012c30: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
+00012c40: 2020 2020 7365 7474 696e 6773 5b22 656e      settings["en
+00012c50: 646f 7273 6572 2e61 7574 6f5f 6372 6561  dorser.auto_crea
+00012c60: 7465 5f72 6576 5f72 6567 225d 203d 2054  te_rev_reg"] = T
+00012c70: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
+00012c80: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00012c90: 2020 2020 2020 7261 6973 6520 4172 6773        raise Args
+00012ca0: 5061 7273 6545 7272 6f72 280a 2020 2020  ParseError(.    
+00012cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012cc0: 2250 6172 616d 6574 6572 202d 2d61 7574  "Parameter --aut
+00012cd0: 6f2d 6372 6561 7465 2d72 6576 6f63 6174  o-create-revocat
+00012ce0: 696f 6e2d 7472 616e 7361 6374 696f 6e73  ion-transactions
+00012cf0: 2073 686f 756c 6420 6f6e 6c79 2062 6520   should only be 
+00012d00: 7365 7420 220a 2020 2020 2020 2020 2020  set ".          
+00012d10: 2020 2020 2020 2020 2020 2266 6f72 2074            "for t
+00012d20: 7261 6e73 6163 7469 6f6e 2041 7574 686f  ransaction Autho
+00012d30: 7273 220a 2020 2020 2020 2020 2020 2020  rs".            
+00012d40: 2020 2020 290a 0a20 2020 2020 2020 2069      )..        i
+00012d50: 6620 6172 6773 2e61 7574 6f5f 7072 6f6d  f args.auto_prom
+00012d60: 6f74 655f 6175 7468 6f72 5f64 6964 3a0a  ote_author_did:.
+00012d70: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00012d80: 6574 7469 6e67 735b 2265 6e64 6f72 7365  ettings["endorse
+00012d90: 722e 6175 7468 6f72 225d 3a0a 2020 2020  r.author"]:.    
+00012da0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
+00012db0: 696e 6773 5b22 656e 646f 7273 6572 2e61  ings["endorser.a
+00012dc0: 7574 6f5f 7072 6f6d 6f74 655f 6175 7468  uto_promote_auth
+00012dd0: 6f72 5f64 6964 225d 203d 2054 7275 650a  or_did"] = True.
+00012de0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+00012df0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00012e00: 2020 7261 6973 6520 4172 6773 5061 7273    raise ArgsPars
+00012e10: 6545 7272 6f72 280a 2020 2020 2020 2020  eError(.        
+00012e20: 2020 2020 2020 2020 2020 2020 2250 6172              "Par
+00012e30: 616d 6574 6572 202d 2d61 7574 6f2d 7072  ameter --auto-pr
+00012e40: 6f6d 6f74 652d 6175 7468 6f72 2d64 6964  omote-author-did
+00012e50: 2073 686f 756c 6420 6f6e 6c79 2062 6520   should only be 
+00012e60: 7365 7420 220a 2020 2020 2020 2020 2020  set ".          
+00012e70: 2020 2020 2020 2020 2020 2266 6f72 2074            "for t
+00012e80: 7261 6e73 6163 7469 6f6e 2041 7574 686f  ransaction Autho
+00012e90: 7273 220a 2020 2020 2020 2020 2020 2020  rs".            
+00012ea0: 2020 2020 290a 0a20 2020 2020 2020 2072      )..        r
+00012eb0: 6574 7572 6e20 7365 7474 696e 6773 0a0a  eturn settings..
+00012ec0: 0a40 6772 6f75 7028 4341 545f 5354 4152  .@group(CAT_STAR
+00012ed0: 542c 2043 4154 5f55 5047 5241 4445 290a  T, CAT_UPGRADE).
+00012ee0: 636c 6173 7320 5570 6772 6164 6547 726f  class UpgradeGro
+00012ef0: 7570 2841 7267 756d 656e 7447 726f 7570  up(ArgumentGroup
+00012f00: 293a 0a20 2020 2022 2222 4143 412d 5079  ):.    """ACA-Py
+00012f10: 2055 7067 7261 6465 2070 726f 6365 7373   Upgrade process
+00012f20: 2073 6574 7469 6e67 732e 2222 220a 0a20   settings.""".. 
+00012f30: 2020 2047 524f 5550 5f4e 414d 4520 3d20     GROUP_NAME = 
+00012f40: 2255 7067 7261 6465 220a 0a20 2020 2064  "Upgrade"..    d
+00012f50: 6566 2061 6464 5f61 7267 756d 656e 7473  ef add_arguments
+00012f60: 2873 656c 662c 2070 6172 7365 723a 2041  (self, parser: A
+00012f70: 7267 756d 656e 7450 6172 7365 7229 3a0a  rgumentParser):.
+00012f80: 2020 2020 2020 2020 2222 2241 6464 2041          """Add A
+00012f90: 4341 2d50 7920 7570 6772 6164 6520 7072  CA-Py upgrade pr
+00012fa0: 6f63 6573 7320 7370 6563 6966 6963 2061  ocess specific a
+00012fb0: 7267 756d 656e 7473 2074 6f20 7468 6520  rguments to the 
+00012fc0: 7061 7273 6572 2e22 2222 0a0a 2020 2020  parser."""..    
+00012fd0: 2020 2020 7061 7273 6572 2e61 6464 5f61      parser.add_a
+00012fe0: 7267 756d 656e 7428 0a20 2020 2020 2020  rgument(.       
+00012ff0: 2020 2020 2022 2d2d 7570 6772 6164 652d       "--upgrade-
+00013000: 636f 6e66 6967 2d70 6174 6822 2c0a 2020  config-path",.  
+00013010: 2020 2020 2020 2020 2020 7479 7065 3d73            type=s
+00013020: 7472 2c0a 2020 2020 2020 2020 2020 2020  tr,.            
+00013030: 6465 7374 3d22 7570 6772 6164 655f 636f  dest="upgrade_co
+00013040: 6e66 6967 5f70 6174 6822 2c0a 2020 2020  nfig_path",.    
+00013050: 2020 2020 2020 2020 7265 7175 6972 6564          required
+00013060: 3d46 616c 7365 2c0a 2020 2020 2020 2020  =False,.        
+00013070: 2020 2020 656e 765f 7661 723d 2241 4341      env_var="ACA
+00013080: 5059 5f55 5047 5241 4445 5f43 4f4e 4649  PY_UPGRADE_CONFI
+00013090: 475f 5041 5448 222c 0a20 2020 2020 2020  G_PATH",.       
+000130a0: 2020 2020 2068 656c 703d 280a 2020 2020       help=(.    
+000130b0: 2020 2020 2020 2020 2020 2020 2259 414d              "YAM
+000130c0: 4c20 6669 6c65 2070 6174 6820 7468 6174  L file path that
+000130d0: 2073 7065 6369 6669 6573 2063 6f6e 6669   specifies confi
+000130e0: 6720 746f 2068 616e 646c 6520 7570 6772  g to handle upgr
+000130f0: 6164 6520 6368 616e 6765 732e 220a 2020  ade changes.".  
+00013100: 2020 2020 2020 2020 2020 2020 2020 2244                "D
+00013110: 6566 6175 6c74 3a20 2e2f 6172 6965 735f  efault: ./aries_
+00013120: 636c 6f75 6461 6765 6e74 2f63 6f6d 6d61  cloudagent/comma
+00013130: 6e64 732f 6465 6661 756c 745f 7665 7273  nds/default_vers
+00013140: 696f 6e5f 7570 6772 6164 655f 636f 6e66  ion_upgrade_conf
+00013150: 6967 2e79 6d6c 220a 2020 2020 2020 2020  ig.yml".        
+00013160: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+00013170: 0a0a 2020 2020 2020 2020 7061 7273 6572  ..        parser
+00013180: 2e61 6464 5f61 7267 756d 656e 7428 0a20  .add_argument(. 
+00013190: 2020 2020 2020 2020 2020 2022 2d2d 6672             "--fr
+000131a0: 6f6d 2d76 6572 7369 6f6e 222c 0a20 2020  om-version",.   
+000131b0: 2020 2020 2020 2020 2074 7970 653d 7374           type=st
+000131c0: 722c 0a20 2020 2020 2020 2020 2020 2065  r,.            e
+000131d0: 6e76 5f76 6172 3d22 4143 4150 595f 5550  nv_var="ACAPY_UP
+000131e0: 4752 4144 455f 4652 4f4d 5f56 4552 5349  GRADE_FROM_VERSI
+000131f0: 4f4e 222c 0a20 2020 2020 2020 2020 2020  ON",.           
+00013200: 2068 656c 703d 280a 2020 2020 2020 2020   help=(.        
+00013210: 2020 2020 2020 2020 2253 7065 6369 6679          "Specify
+00013220: 2077 6869 6368 2041 4341 2d50 7920 7665   which ACA-Py ve
+00013230: 7273 696f 6e20 746f 2075 7067 7261 6465  rsion to upgrade
+00013240: 2066 726f 6d2c 2022 0a20 2020 2020 2020   from, ".       
+00013250: 2020 2020 2020 2020 2022 7468 6973 2076           "this v
+00013260: 6572 7369 6f6e 2073 686f 756c 6420 6265  ersion should be
+00013270: 2073 7570 706f 7274 6564 2f69 6e63 6c75   supported/inclu
+00013280: 6465 6420 696e 2022 0a20 2020 2020 2020  ded in ".       
+00013290: 2020 2020 2020 2020 2022 7468 6520 2d2d           "the --
+000132a0: 7570 6772 6164 652d 636f 6e66 6967 2066  upgrade-config f
+000132b0: 696c 652e 220a 2020 2020 2020 2020 2020  ile.".          
+000132c0: 2020 292c 0a20 2020 2020 2020 2029 0a0a    ),.        )..
+000132d0: 2020 2020 2020 2020 7061 7273 6572 2e61          parser.a
+000132e0: 6464 5f61 7267 756d 656e 7428 0a20 2020  dd_argument(.   
+000132f0: 2020 2020 2020 2020 2022 2d2d 666f 7263           "--forc
+00013300: 652d 7570 6772 6164 6522 2c0a 2020 2020  e-upgrade",.    
+00013310: 2020 2020 2020 2020 6163 7469 6f6e 3d22          action="
+00013320: 7374 6f72 655f 7472 7565 222c 0a20 2020  store_true",.   
+00013330: 2020 2020 2020 2020 2065 6e76 5f76 6172           env_var
+00013340: 3d22 4143 4150 595f 5550 4752 4144 455f  ="ACAPY_UPGRADE_
+00013350: 464f 5243 455f 5550 4752 4144 4522 2c0a  FORCE_UPGRADE",.
+00013360: 2020 2020 2020 2020 2020 2020 6865 6c70              help
+00013370: 3d28 0a20 2020 2020 2020 2020 2020 2020  =(.             
+00013380: 2020 2022 466f 7263 6573 2074 6865 2027     "Forces the '
+00013390: e280 9466 726f 6d2d 7665 7273 696f 6e27  ...from-version'
+000133a0: 2061 7267 756d 656e 7420 746f 206f 7665   argument to ove
+000133b0: 7272 6964 6520 7468 6520 7665 7273 696f  rride the versio
+000133c0: 6e20 220a 2020 2020 2020 2020 2020 2020  n ".            
+000133d0: 2020 2020 2272 6574 7269 6576 6564 2066      "retrieved f
+000133e0: 726f 6d20 7365 6375 7265 2073 746f 7261  rom secure stora
+000133f0: 6765 2077 6865 6e20 6361 6c63 756c 6174  ge when calculat
+00013400: 696e 6720 7570 6772 6164 6573 2074 6f20  ing upgrades to 
+00013410: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00013420: 2020 2262 6520 7275 6e2e 220a 2020 2020    "be run.".    
+00013430: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+00013440: 2020 2029 0a0a 2020 2020 6465 6620 6765     )..    def ge
+00013450: 745f 7365 7474 696e 6773 2873 656c 662c  t_settings(self,
+00013460: 2061 7267 733a 204e 616d 6573 7061 6365   args: Namespace
+00013470: 2920 2d3e 2064 6963 743a 0a20 2020 2020  ) -> dict:.     
+00013480: 2020 2022 2222 4578 7472 6163 7420 4143     """Extract AC
+00013490: 412d 5079 2075 7067 7261 6465 2070 726f  A-Py upgrade pro
+000134a0: 6365 7373 2073 6574 7469 6e67 732e 2222  cess settings.""
+000134b0: 220a 2020 2020 2020 2020 7365 7474 696e  ".        settin
+000134c0: 6773 203d 207b 7d0a 2020 2020 2020 2020  gs = {}.        
+000134d0: 6966 2061 7267 732e 7570 6772 6164 655f  if args.upgrade_
+000134e0: 636f 6e66 6967 5f70 6174 683a 0a20 2020  config_path:.   
+000134f0: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+00013500: 735b 2275 7067 7261 6465 2e63 6f6e 6669  s["upgrade.confi
+00013510: 675f 7061 7468 225d 203d 2061 7267 732e  g_path"] = args.
+00013520: 7570 6772 6164 655f 636f 6e66 6967 5f70  upgrade_config_p
+00013530: 6174 680a 2020 2020 2020 2020 6966 2061  ath.        if a
+00013540: 7267 732e 6672 6f6d 5f76 6572 7369 6f6e  rgs.from_version
+00013550: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00013560: 7474 696e 6773 5b22 7570 6772 6164 652e  ttings["upgrade.
+00013570: 6672 6f6d 5f76 6572 7369 6f6e 225d 203d  from_version"] =
+00013580: 2061 7267 732e 6672 6f6d 5f76 6572 7369   args.from_versi
+00013590: 6f6e 0a20 2020 2020 2020 2069 6620 6172  on.        if ar
+000135a0: 6773 2e66 6f72 6365 5f75 7067 7261 6465  gs.force_upgrade
+000135b0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+000135c0: 7474 696e 6773 5b22 7570 6772 6164 652e  ttings["upgrade.
+000135d0: 666f 7263 655f 7570 6772 6164 6522 5d20  force_upgrade"] 
+000135e0: 3d20 6172 6773 2e66 6f72 6365 5f75 7067  = args.force_upg
+000135f0: 7261 6465 0a20 2020 2020 2020 2072 6574  rade.        ret
+00013600: 7572 6e20 7365 7474 696e 6773 0a         urn settings.
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/banner.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/banner.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/base_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/base_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/default_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/default_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/injection_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/injection_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/injector.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/injector.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/ledger.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/ledger.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/logging.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/logging.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/plugin_settings.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/plugin_settings.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/provider.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/provider.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/settings.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/settings.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_argparse.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_argparse.py`

 * *Files 0% similar despite different names*

```diff
@@ -107,21 +107,23 @@
 
         result = parser.parse_args(
             [
                 "--upgrade-config-path",
                 "./aries_cloudagent/config/tests/test-acapy-upgrade-config.yml",
                 "--from-version",
                 "v0.7.2",
+                "--force-upgrade",
             ]
         )
 
         assert (
             result.upgrade_config_path
             == "./aries_cloudagent/config/tests/test-acapy-upgrade-config.yml"
         )
+        assert result.force_upgrade is True
 
         settings = group.get_settings(result)
 
         assert (
             settings.get("upgrade.config_path")
             == "./aries_cloudagent/config/tests/test-acapy-upgrade-config.yml"
         )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_default_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_default_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_injection_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_injection_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_injector.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_injector.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_ledger.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_ledger.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_logging.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_logging.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_provider.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_provider.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_settings.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_settings.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/tests/test_wallet.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/tests/test_wallet.py`

 * *Files 0% similar despite different names*

```diff
@@ -183,15 +183,14 @@
         with async_mock.patch.object(
             test_module,
             "seed_to_did",
             async_mock.MagicMock(return_value="XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"),
         ) as mock_seed_to_did, async_mock.patch.object(
             test_module, "add_or_update_version_to_storage", async_mock.CoroutineMock()
         ):
-
             with self.assertRaises(test_module.ConfigError):
                 await test_module.wallet_config(self.context, provision=True)
 
     async def test_wallet_config_seed_local(self):
         self.context.update_settings(
             {
                 "wallet.seed": "00000000000000000000000000000000",
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/config/wallet.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/config/wallet.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/base_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/base_manager.py`

 * *Files 5% similar despite different names*

```diff
@@ -9,15 +9,15 @@
 
 from pydid import (
     BaseDIDDocument as ResolvedDocument,
     DIDCommService,
     VerificationMethod,
 )
 import pydid
-from pydid.verification_method import Ed25519VerificationKey2018
+from pydid.verification_method import Ed25519VerificationKey2018, JsonWebKey2020
 
 from ..core.error import BaseError
 from ..core.profile import Profile
 from ..did.did_key import DIDKey
 from ..protocols.connections.v1_0.messages.connection_invitation import (
     ConnectionInvitation,
 )
@@ -33,26 +33,26 @@
 from ..storage.error import StorageNotFoundError
 from ..storage.record import StorageRecord
 from ..wallet.base import BaseWallet
 from ..wallet.did_info import DIDInfo
 from .models.conn_record import ConnRecord
 from .models.connection_target import ConnectionTarget
 from .models.diddoc import DIDDoc, PublicKey, PublicKeyType, Service
+from ..wallet.util import bytes_to_b58, b64_to_bytes
 
 
 class BaseConnectionManagerError(BaseError):
     """BaseConnectionManager error."""
 
 
 class BaseConnectionManager:
     """Class to provide utilities regarding connection_targets."""
 
     RECORD_TYPE_DID_DOC = "did_doc"
     RECORD_TYPE_DID_KEY = "did_key"
-    SUPPORTED_KEY_TYPES = (Ed25519VerificationKey2018,)
 
     def __init__(self, profile: Profile):
         """
         Initialize a BaseConnectionManager.
 
         Args:
             session: The profile session for this presentation
@@ -146,15 +146,15 @@
                     )
                     for idx, key in enumerate(mediation_record.routing_keys)
                 ]
 
                 routing_keys = [*routing_keys, *mediator_routing_keys]
                 svc_endpoints = [mediation_record.endpoint]
 
-        for (endpoint_index, svc_endpoint) in enumerate(svc_endpoints or []):
+        for endpoint_index, svc_endpoint in enumerate(svc_endpoints or []):
             endpoint_ident = "indy" if endpoint_index == 0 else f"indy{endpoint_index}"
             service = Service(
                 did_info.did,
                 endpoint_ident,
                 "IndyAgent",
                 [pk],
                 routing_keys,
@@ -265,32 +265,48 @@
                 "Cannot connect via public DID that has no associated DIDComm services"
             )
 
         first_didcomm_service, *_ = didcomm_services
 
         endpoint = first_didcomm_service.service_endpoint
         recipient_keys: List[VerificationMethod] = [
-            doc.dereference(url) for url in first_didcomm_service.recipient_keys
+            await resolver.dereference(self._profile, url, document=doc)
+            for url in first_didcomm_service.recipient_keys
         ]
         routing_keys: List[VerificationMethod] = [
-            doc.dereference(url) for url in first_didcomm_service.routing_keys
+            await resolver.dereference(self._profile, url, document=doc)
+            for url in first_didcomm_service.routing_keys
         ]
 
-        for key in [*recipient_keys, *routing_keys]:
-            if not isinstance(key, self.SUPPORTED_KEY_TYPES):
-                raise BaseConnectionManagerError(
-                    f"Key type {key.type} is not supported"
-                )
-
         return (
             endpoint,
-            [key.material for key in recipient_keys],
-            [key.material for key in routing_keys],
+            [
+                self._extract_key_material_in_base58_format(key)
+                for key in recipient_keys
+            ],
+            [self._extract_key_material_in_base58_format(key) for key in routing_keys],
         )
 
+    @staticmethod
+    def _extract_key_material_in_base58_format(method: VerificationMethod) -> str:
+        if isinstance(method, Ed25519VerificationKey2018):
+            return method.material
+        elif isinstance(method, JsonWebKey2020):
+            if method.public_key_jwk.get("kty") == "OKP":
+                return bytes_to_b58(b64_to_bytes(method.public_key_jwk.get("x"), True))
+            else:
+                raise BaseConnectionManagerError(
+                    f"Key type {type(method).__name__}"
+                    f"with kty {method.public_key_jwk.get('kty')} is not supported"
+                )
+        else:
+            raise BaseConnectionManagerError(
+                f"Key type {type(method).__name__} is not supported"
+            )
+
     async def fetch_connection_targets(
         self, connection: ConnRecord
     ) -> Sequence[ConnectionTarget]:
         """Get a list of connection targets from a `ConnRecord`.
 
         Args:
             connection: The connection record (with associated `DIDDoc`)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/conn_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/conn_record.py`

 * *Files 1% similar despite different names*

```diff
@@ -170,14 +170,15 @@
     TAG_NAMES = {
         "my_did",
         "their_did",
         "request_id",
         "invitation_key",
         "their_public_did",
         "invitation_msg_id",
+        "state",
         "their_role",
     }
 
     RECORD_TYPE = "connection"
     RECORD_TYPE_INVITATION = "connection_invitation"
     RECORD_TYPE_REQUEST = "connection_request"
     RECORD_TYPE_METADATA = "connection_metadata"
@@ -318,19 +319,23 @@
         """Retrieve a connection record by invitation key.
 
         Args:
             session: The active profile session
             invitation_key: The key on the originating invitation
             initiator: Filter by the initiator value
         """
-        tag_filter = {"invitation_key": invitation_key}
+        tag_filter = {
+            "invitation_key": invitation_key,
+            "state": cls.State.INVITATION.rfc160,
+        }
         post_filter = {"state": cls.State.INVITATION.rfc160}
 
         if their_role:
             post_filter["their_role"] = cls.Role.get(their_role).rfc160
+            tag_filter["their_role"] = cls.Role.get(their_role).rfc160
 
         return await cls.retrieve_by_tag_filter(session, tag_filter, post_filter)
 
     @classmethod
     async def retrieve_by_invitation_msg_id(
         cls, session: ProfileSession, invitation_msg_id: str, their_role: str = None
     ) -> Optional["ConnRecord"]:
@@ -673,49 +678,37 @@
         description="Connection request identifier",
         example=UUIDFour.EXAMPLE,
     )
     routing_state = fields.Str(
         required=False,
         description="Routing state of connection",
         validate=validate.OneOf(
-            [
-                getattr(ConnRecord, m)
-                for m in vars(ConnRecord)
-                if m.startswith("ROUTING_STATE_")
-            ]
+            ConnRecord.get_attributes_by_prefix("ROUTING_STATE_", walk_mro=False)
         ),
         example=ConnRecord.ROUTING_STATE_ACTIVE,
     )
     accept = fields.Str(
         required=False,
         description="Connection acceptance: manual or auto",
         example=ConnRecord.ACCEPT_AUTO,
         validate=validate.OneOf(
-            [
-                getattr(ConnRecord, a)
-                for a in vars(ConnRecord)
-                if a.startswith("ACCEPT_")
-            ]
+            ConnRecord.get_attributes_by_prefix("ACCEPT_", walk_mro=False)
         ),
     )
     error_msg = fields.Str(
         required=False,
         description="Error message",
         example="No DIDDoc provided; cannot connect to public DID",
     )
     invitation_mode = fields.Str(
         required=False,
         description="Invitation mode",
         example=ConnRecord.INVITATION_MODE_ONCE,
         validate=validate.OneOf(
-            [
-                getattr(ConnRecord, i)
-                for i in vars(ConnRecord)
-                if i.startswith("INVITATION_MODE_")
-            ]
+            ConnRecord.get_attributes_by_prefix("INVITATION_MODE_", walk_mro=False)
         ),
     )
     alias = fields.Str(
         required=False,
         description="Optional alias to apply to connection for later use",
         example="Bob, providing quotes",
     )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/connection_target.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/connection_target.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 """Record used to handle routing of messages to another agent."""
 
 from typing import Sequence
 
 from marshmallow import EXCLUDE, fields
 
 from ...messaging.models.base import BaseModel, BaseModelSchema
-from ...messaging.valid import INDY_DID, INDY_RAW_PUBLIC_KEY
+from ...messaging.valid import INDY_RAW_PUBLIC_KEY, GENERIC_DID
 
 
 class ConnectionTarget(BaseModel):
     """Record used to handle routing of messages to another agent."""
 
     class Meta:
         """ConnectionTarget metadata."""
@@ -49,15 +49,15 @@
 
     class Meta:
         """ConnectionTargetSchema metadata."""
 
         model_class = ConnectionTarget
         unknown = EXCLUDE
 
-    did = fields.Str(required=False, description="", **INDY_DID)
+    did = fields.Str(required=False, description="", **GENERIC_DID)
     endpoint = fields.Str(
         required=False,
         description="Connection endpoint",
         example="http://192.168.56.102:8020",
     )
     label = fields.Str(required=False, description="Connection label", example="Bob")
     recipient_keys = fields.List(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/diddoc.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/diddoc.py`

 * *Files 0% similar despite different names*

```diff
@@ -172,15 +172,14 @@
 
         Returns: list of public keys from the document service specification
 
         """
 
         rv = []
         for tag in [tags] if isinstance(tags, str) else list(tags):
-
             for svc_key in service.get(tag, {}):
                 canon_key = canon_ref(self.did, svc_key)
                 pubkey = None
 
                 if "#" in svc_key:
                     if canon_key in self.pubkey:
                         pubkey = self.pubkey[canon_key]
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/publickey.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/publickey.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/service.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/tests/test_diddoc.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/tests/test_diddoc.py`

 * *Files 0% similar despite different names*

```diff
@@ -22,15 +22,14 @@
 
 from .. import DIDDoc, PublicKey, PublicKeyType, Service
 from ..util import canon_did, canon_ref
 
 
 class TestDIDDoc(AsyncTestCase):
     async def test_basic(self):
-
         # One authn key by reference
         dd_in = {
             "@context": "https://w3id.org/did/v1",
             "id": "did:sov:LjgpST2rjsoxYegQDRm7EL",
             "publicKey": [
                 {
                     "id": "3",
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/diddoc/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/diddoc/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/connections/models/tests/test_conn_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/connections/models/tests/test_conn_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/conductor.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/conductor.py`

 * *Files 6% similar despite different names*

```diff
@@ -8,31 +8,37 @@
 
 """
 
 import hashlib
 import json
 import logging
 
+from packaging import version as package_version
 from qrcode import QRCode
 
 from ..admin.base_server import BaseAdminServer
 from ..admin.server import AdminResponder, AdminServer
 from ..config.default_context import ContextBuilder
 from ..config.injection_context import InjectionContext
 from ..config.ledger import (
     get_genesis_transactions,
     ledger_config,
     load_multiple_genesis_transactions_from_config,
 )
 from ..config.logging import LoggingConfigurator
 from ..config.provider import ClassProvider
 from ..config.wallet import wallet_config
+from ..commands.upgrade import (
+    get_upgrade_version_list,
+    add_version_record,
+    upgrade,
+)
 from ..core.profile import Profile
 from ..indy.verifier import IndyVerifier
-from ..ledger.base import BaseLedger
+
 from ..ledger.error import LedgerConfigError, LedgerTransactionError
 from ..ledger.multiple_ledger.base_manager import (
     BaseMultipleLedgerManager,
     MultipleLedgerManagerError,
 )
 from ..ledger.multiple_ledger.ledger_requests_executor import IndyLedgerRequestsExecutor
 from ..ledger.multiple_ledger.manager_provider import MultiIndyLedgerManagerProvider
@@ -69,14 +75,17 @@
 from ..version import RECORD_TYPE_ACAPY_VERSION, __version__
 from ..wallet.did_info import DIDInfo
 from .dispatcher import Dispatcher
 from .oob_processor import OobMessageProcessor
 from .util import SHUTDOWN_EVENT_TOPIC, STARTUP_EVENT_TOPIC
 
 LOGGER = logging.getLogger(__name__)
+# Refer ACA-Py issue #2197
+# When the from version is not found
+DEFAULT_ACAPY_VERSION = "v0.7.5"
 
 
 class Conductor:
     """
     Conductor class.
 
     Class responsible for initializing concrete implementations
@@ -140,27 +149,25 @@
                         BaseMultipleLedgerManager
                     ).get_write_ledger()
                 )[1]
                 if (
                     self.root_profile.BACKEND_NAME == "askar"
                     and ledger.BACKEND_NAME == "indy-vdr"
                 ):
-                    context.injector.bind_instance(BaseLedger, ledger)
                     context.injector.bind_provider(
                         IndyVerifier,
                         ClassProvider(
                             "aries_cloudagent.indy.credx.verifier.IndyCredxVerifier",
                             self.root_profile,
                         ),
                     )
                 elif (
                     self.root_profile.BACKEND_NAME == "indy"
                     and ledger.BACKEND_NAME == "indy"
                 ):
-                    context.injector.bind_instance(BaseLedger, ledger)
                     context.injector.bind_provider(
                         IndyVerifier,
                         ClassProvider(
                             "aries_cloudagent.indy.sdk.verifier.IndySdkVerifier",
                             self.root_profile,
                         ),
                     )
@@ -309,34 +316,66 @@
             self.inbound_transport_manager.registered_transports,
             self.outbound_transport_manager.registered_transports,
             self.setup_public_did and self.setup_public_did.did,
             self.admin_server,
         )
 
         # record ACA-Py version in Wallet, if needed
+        from_version_storage = None
+        from_version = None
+        agent_version = f"v{__version__}"
         async with self.root_profile.session() as session:
             storage: BaseStorage = session.context.inject(BaseStorage)
-            agent_version = f"v{__version__}"
             try:
                 record = await storage.find_record(
                     type_filter=RECORD_TYPE_ACAPY_VERSION,
                     tag_query={},
                 )
-                if record.value != agent_version:
-                    LOGGER.exception(
-                        (
-                            f"Wallet storage version {record.value} "
-                            "does not match this ACA-Py agent "
-                            f"version {agent_version}. Run aca-py "
-                            "upgrade command to fix this."
-                        )
-                    )
-                    raise
+                from_version_storage = record.value
+                LOGGER.info(
+                    "Existing acapy_version storage record found, "
+                    f"version set to {from_version_storage}"
+                )
             except StorageNotFoundError:
-                pass
+                LOGGER.warning("Wallet version storage record not found.")
+        from_version_config = self.root_profile.settings.get("upgrade.from_version")
+        force_upgrade_flag = (
+            self.root_profile.settings.get("upgrade.force_upgrade") or False
+        )
+
+        if force_upgrade_flag and from_version_config:
+            if from_version_storage:
+                if package_version.parse(from_version_storage) > package_version.parse(
+                    from_version_config
+                ):
+                    from_version = from_version_config
+                else:
+                    from_version = from_version_storage
+            else:
+                from_version = from_version_config
+        else:
+            from_version = from_version_storage or from_version_config
+        if not from_version:
+            LOGGER.warning(
+                (
+                    "No upgrade from version was found from wallet or via"
+                    " --from-version startup argument. Defaulting to "
+                    f"{DEFAULT_ACAPY_VERSION}."
+                )
+            )
+            from_version = DEFAULT_ACAPY_VERSION
+            self.root_profile.settings.set_value("upgrade.from_version", from_version)
+        config_available_list = get_upgrade_version_list(
+            config_path=self.root_profile.settings.get("upgrade.config_path"),
+            from_version=from_version,
+        )
+        if len(config_available_list) >= 1:
+            await upgrade(profile=self.root_profile)
+        elif not (from_version_storage and from_version_storage == agent_version):
+            await add_version_record(profile=self.root_profile, version=agent_version)
 
         # Create a static connection for use by the test-suite
         if context.settings.get("debug.test_suite_endpoint"):
             mgr = ConnectionManager(self.root_profile)
             their_endpoint = context.settings["debug.test_suite_endpoint"]
             test_conn = await mgr.create_static_connection(
                 my_seed=hashlib.sha256(b"aries-protocol-test-subject").digest(),
@@ -453,19 +492,17 @@
                     record = await mgr.receive_invitation(
                         invitation=invitation_handler.from_url(
                             mediation_invite_record.invite
                         ),
                         auto_accept=True,
                     )
                     async with self.root_profile.session() as session:
-                        await (
-                            MediationInviteStore(
-                                session.context.inject(BaseStorage)
-                            ).mark_default_invite_as_used()
-                        )
+                        await MediationInviteStore(
+                            session.context.inject(BaseStorage)
+                        ).mark_default_invite_as_used()
 
                         await record.metadata_set(
                             session, MediationManager.SEND_REQ_AFTER_CONNECTION, True
                         )
                         await record.metadata_set(
                             session, MediationManager.SET_TO_DEFAULT_ON_GRANTED, True
                         )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/dispatcher.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/dispatcher.py`

 * *Files 3% similar despite different names*

```diff
@@ -11,23 +11,22 @@
 import warnings
 
 from typing import Callable, Coroutine, Optional, Union, Tuple
 import weakref
 
 from aiohttp.web import HTTPException
 
-
 from ..connections.models.conn_record import ConnRecord
 from ..core.profile import Profile
 from ..messaging.agent_message import AgentMessage
 from ..messaging.base_message import BaseMessage
 from ..messaging.error import MessageParseError
 from ..messaging.models.base import BaseModelError
 from ..messaging.request_context import RequestContext
-from ..messaging.responder import BaseResponder
+from ..messaging.responder import BaseResponder, SKIP_ACTIVE_CONN_CHECK_MSG_TYPES
 from ..messaging.util import datetime_now
 from ..protocols.connections.v1_0.manager import ConnectionManager
 from ..protocols.problem_report.v1_0.message import ProblemReport
 from ..transport.inbound.message import InboundMessage
 from ..transport.outbound.message import OutboundMessage
 from ..transport.outbound.status import OutboundSendStatus
 from ..utils.stats import Collector
@@ -373,25 +372,44 @@
                 message._decorators["timing"] = {
                     "in_time": in_time,
                     "out_time": datetime_now(),
                 }
 
         return await super().create_outbound(message, **kwargs)
 
-    async def send_outbound(self, message: OutboundMessage) -> OutboundSendStatus:
+    async def send_outbound(
+        self, message: OutboundMessage, **kwargs
+    ) -> OutboundSendStatus:
         """
         Send outbound message.
 
         Args:
             message: The `OutboundMessage` to be sent
         """
         context = self._context()
         if not context:
             raise RuntimeError("weakref to context has expired")
 
+        msg_type = kwargs.get("message_type")
+        msg_id = kwargs.get("message_id")
+
+        if (
+            message.connection_id
+            and msg_type
+            and msg_type not in SKIP_ACTIVE_CONN_CHECK_MSG_TYPES
+            and not await super().conn_rec_active_state_check(
+                profile=context.profile,
+                connection_id=message.connection_id,
+            )
+        ):
+            raise RuntimeError(
+                f"Connection {message.connection_id} is not ready"
+                " which is required for sending outbound"
+                f" message {msg_id} of type {msg_type}."
+            )
         return await self._send(context.profile, message, self._inbound_message)
 
     async def send_webhook(self, topic: str, payload: dict):
         """
         Dispatch a webhook. DEPRECATED: use the event bus instead.
 
         Args:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/error.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/error.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/event_bus.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/event_bus.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/goal_code_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/goal_code_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/derive_1pu.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/derive_1pu.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/derive_ecdh.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/derive_ecdh.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/tests/test_1pu.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/tests/test_1pu.py`

 * *Files 0% similar despite different names*

```diff
@@ -2,15 +2,14 @@
 
 from .....wallet.util import b64_to_bytes
 
 from ..derive_1pu import *
 
 
 def test_1pu_hex_example():
-
     # Previously randomly generated 3 sets of keys
     aliceSecretKey = "23832cbef38641b8754a35f1f79bbcbc248e09ac93b01c2eaf12474f2ac406b6"
     alicePublicKey = "04fd4ca9eb7954a03517ac8249e6070aa3112e582f596b10f0d45d757b56d5dc0395a7d207d06503a4d6ad6e2ad3a1fd8cc233c072c0dc0f32213deb712c32cbdf"
 
     bobSecretKey = "2d1b242281944aa58c251ce12db6df8babd703b5c0a1fc0b9a34f5b7b9ad6030"
     bobPublicKey = "04e35cde5e3761d075fc87b3b0983a179e1b8e09da242e79965d657cba48f792dfc9b446a098ab0194888cd9d53a21c873c00264275dba925c2db6c458c87ca3d6"
 
@@ -37,15 +36,14 @@
     assert (
         aliceKey == bobKey
     ), "Both parties should generate the same key using ECDH-1PU"
 
 
 # Example key exchange in https://tools.ietf.org/id/draft-madden-jose-ecdh-1pu-03.html#rfc.appendix.A
 def test_1pu_appendix_example():
-
     # Convert the three JWK keys into hex encoded byte format
 
     # Alice Key
     d = "Hndv7ZZjs_ke8o9zXYo3iq-Yr8SewI5vrqd0pAvEPqg"
     x = "WKn-ZIGevcwGIyyrzFoZNBdaq9_TsqzGl96oc0CWuis"
     y = "y77t-RvAHRKTsSGdIYUfweuOvwrvDD-Q3Hv5J0fSKbE"
 
@@ -102,15 +100,14 @@
     ), "Both parties should generate the same key using ECDH-1PU"
     assert (
         aliceKey == expected_result
     ), "Generated key should match the appendix A example"
 
 
 def main():
-
     test_1pu_hex_example()
     test_1pu_appendix_example()
 
 
 if __name__ == "__main__":
     main()
     print("All tests passed")
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/didcomm/tests/test_ecdh.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/didcomm/tests/test_ecdh.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 from ecdsa import ECDH, NIST256p, SigningKey
 
 from ..derive_ecdh import *
 
+
 # Generate the same shared secret from imported generated keys
 def test_ecdh_derive_shared_secret():
-
     # Import keys for two participating users
     aliceSecretKey = "23832cbef38641b8754a35f1f79bbcbc248e09ac93b01c2eaf12474f2ac406b6"
     alicePublicKey = "04fd4ca9eb7954a03517ac8249e6070aa3112e582f596b10f0d45d757b56d5dc0395a7d207d06503a4d6ad6e2ad3a1fd8cc233c072c0dc0f32213deb712c32cbdf"
 
     bobSecretKey = "2d1b242281944aa58c251ce12db6df8babd703b5c0a1fc0b9a34f5b7b9ad6030"
     bobPublicKey = "04e35cde5e3761d075fc87b3b0983a179e1b8e09da242e79965d657cba48f792dfc9b446a098ab0194888cd9d53a21c873c00264275dba925c2db6c458c87ca3d6"
 
@@ -19,15 +19,14 @@
     print("Bob secret: ", bobSecret.hex())
 
     assert aliceSecret == bobSecret, "Both parties should generate the same secret"
 
 
 # Generate the same shared secret from random keys
 def test_ecdh_derive_shared_secret_random():
-
     # Generate random keys for the two participating users
     aliceSecretKey = SigningKey.generate(curve=NIST256p)
     alice = ECDH(curve=NIST256p)
     alice.load_private_key(aliceSecretKey)
     alicePublicKey = alice.get_public_key()
 
     bobSecretKey = SigningKey.generate(curve=NIST256p)
@@ -42,15 +41,14 @@
     print("Bob secret: ", bobSecret.hex())
 
     assert aliceSecret == bobSecret, "Both parties should generate the same secret"
 
 
 # Test the entire key generation flow, DeriveECDHSecret() into ConcatKDF()
 def test_ecdh_generate_key():
-
     aliceSecretKey = "23832cbef38641b8754a35f1f79bbcbc248e09ac93b01c2eaf12474f2ac406b6"
     alicePublicKey = "04fd4ca9eb7954a03517ac8249e6070aa3112e582f596b10f0d45d757b56d5dc0395a7d207d06503a4d6ad6e2ad3a1fd8cc233c072c0dc0f32213deb712c32cbdf"
 
     bobSecretKey = "2d1b242281944aa58c251ce12db6df8babd703b5c0a1fc0b9a34f5b7b9ad6030"
     bobPublicKey = "04e35cde5e3761d075fc87b3b0983a179e1b8e09da242e79965d657cba48f792dfc9b446a098ab0194888cd9d53a21c873c00264275dba925c2db6c458c87ca3d6"
 
     aliceSecret = derive_shared_secret(aliceSecretKey, bobPublicKey)
@@ -74,15 +72,14 @@
     assert (
         aliceKey == bobKey
     ), "Both parties should generate the same key from the same secret"
 
 
 # Test the entire key generation flow, derive_shared_secret() into concat_kdf()
 def test_ecdh_generate_key_random():
-
     aliceSecretKey = SigningKey.generate(curve=NIST256p)
     alice = ECDH(curve=NIST256p)
     alice.load_private_key(aliceSecretKey)
     alicePublicKey = alice.get_public_key()
 
     bobSecretKey = SigningKey.generate(curve=NIST256p)
     bob = ECDH(curve=NIST256p)
@@ -109,15 +106,14 @@
 
     assert (
         aliceKey == bobKey
     ), "Both parties should generate the same key from the same secret"
 
 
 def main():
-
     test_ecdh_derive_shared_secret()
     test_ecdh_derive_shared_secret_random()
     test_ecdh_generate_key()
     test_ecdh_generate_key_random()
 
 
 if __name__ == "__main__":
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/in_memory/tests/test_profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/in_memory/tests/test_profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/oob_processor.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/oob_processor.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/plugin_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/plugin_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/protocol_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/protocol_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_conductor.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_conductor.py`

 * *Files 9% similar despite different names*

```diff
@@ -32,15 +32,15 @@
 from ...transport.outbound.message import OutboundMessage
 from ...transport.outbound.status import OutboundSendStatus
 from ...transport.pack_format import PackWireFormat
 from ...transport.wire_format import BaseWireFormat
 from ...utils.stats import Collector
 from ...version import __version__
 from ...wallet.base import BaseWallet
-from ...wallet.did_method import SOV
+from ...wallet.did_method import SOV, DIDMethods
 from ...wallet.key_type import ED25519
 from .. import conductor as test_module
 
 
 class Config:
     test_settings = {"admin.webhook_urls": ["http://sample.webhook.ca"]}
     test_settings_admin = {
@@ -83,43 +83,280 @@
         self.wire_format = async_mock.create_autospec(PackWireFormat())
 
     async def build_context(self) -> InjectionContext:
         context = InjectionContext(settings=self.settings, enforce_typing=False)
         context.injector.bind_instance(ProfileManager, InMemoryProfileManager())
         context.injector.bind_instance(ProtocolRegistry, ProtocolRegistry())
         context.injector.bind_instance(BaseWireFormat, self.wire_format)
+        context.injector.bind_instance(DIDMethods, DIDMethods())
         context.injector.bind_instance(DIDResolver, DIDResolver([]))
         context.injector.bind_instance(EventBus, MockEventBus())
         return context
 
 
 class StubCollectorContextBuilder(StubContextBuilder):
     async def build_context(self) -> InjectionContext:
         context = await super().build_context()
         context.injector.bind_instance(Collector, Collector())
         return context
 
 
 class TestConductor(IsolatedAsyncioTestCase, Config, TestDIDs):
-    async def test_startup(self):
+    async def test_startup_version_record_exists(self):
         builder: ContextBuilder = StubContextBuilder(self.test_settings)
         conductor = test_module.Conductor(builder)
 
         with async_mock.patch.object(
             test_module, "InboundTransportManager", autospec=True
         ) as mock_inbound_mgr, async_mock.patch.object(
             test_module, "OutboundTransportManager", autospec=True
         ) as mock_outbound_mgr, async_mock.patch.object(
             test_module, "LoggingConfigurator", autospec=True
         ) as mock_logger, async_mock.patch.object(
             BaseStorage,
             "find_record",
+            async_mock.AsyncMock(return_value=async_mock.MagicMock(value="v0.7.3")),
+        ), async_mock.patch.object(
+            test_module,
+            "get_upgrade_version_list",
+            async_mock.MagicMock(
+                return_value=["v0.7.4", "0.7.5", "v0.8.0-rc1", "v8.0.0", "v0.8.1-rc2"]
+            ),
+        ), async_mock.patch.object(
+            test_module,
+            "upgrade",
+            async_mock.AsyncMock(),
+        ):
+            mock_outbound_mgr.return_value.registered_transports = {
+                "test": async_mock.MagicMock(schemes=["http"])
+            }
+            await conductor.setup()
+
+            session = await conductor.root_profile.session()
+
+            wallet = session.inject(BaseWallet)
+            await wallet.create_public_did(
+                SOV,
+                ED25519,
+            )
+
+            mock_inbound_mgr.return_value.setup.assert_awaited_once()
+            mock_outbound_mgr.return_value.setup.assert_awaited_once()
+
+            mock_inbound_mgr.return_value.registered_transports = {}
+            mock_outbound_mgr.return_value.registered_transports = {}
+
+            await conductor.start()
+
+            mock_inbound_mgr.return_value.start.assert_awaited_once_with()
+            mock_outbound_mgr.return_value.start.assert_awaited_once_with()
+
+            mock_logger.print_banner.assert_called_once()
+
+            await conductor.stop()
+
+            mock_inbound_mgr.return_value.stop.assert_awaited_once_with()
+            mock_outbound_mgr.return_value.stop.assert_awaited_once_with()
+
+    async def test_startup_version_no_upgrade_add_record(self):
+        builder: ContextBuilder = StubContextBuilder(self.test_settings)
+        conductor = test_module.Conductor(builder)
+
+        with async_mock.patch.object(
+            test_module, "InboundTransportManager", autospec=True
+        ) as mock_inbound_mgr, async_mock.patch.object(
+            test_module, "OutboundTransportManager", autospec=True
+        ) as mock_outbound_mgr, async_mock.patch.object(
+            BaseStorage,
+            "find_record",
+            async_mock.AsyncMock(return_value=async_mock.MagicMock(value="v0.8.1")),
+        ), async_mock.patch.object(
+            test_module,
+            "get_upgrade_version_list",
+            async_mock.MagicMock(return_value=[]),
+        ), async_mock.patch.object(
+            test_module,
+            "add_version_record",
+            async_mock.AsyncMock(),
+        ):
+            mock_outbound_mgr.return_value.registered_transports = {
+                "test": async_mock.MagicMock(schemes=["http"])
+            }
+            await conductor.setup()
+            session = await conductor.root_profile.session()
+            wallet = session.inject(BaseWallet)
+            await wallet.create_public_did(
+                SOV,
+                ED25519,
+            )
+            mock_inbound_mgr.return_value.registered_transports = {}
+            mock_outbound_mgr.return_value.registered_transports = {}
+            await conductor.start()
+            await conductor.stop()
+
+        with async_mock.patch.object(
+            test_module, "InboundTransportManager", autospec=True
+        ) as mock_inbound_mgr, async_mock.patch.object(
+            test_module, "OutboundTransportManager", autospec=True
+        ) as mock_outbound_mgr, async_mock.patch.object(
+            BaseStorage,
+            "find_record",
             async_mock.AsyncMock(
                 return_value=async_mock.MagicMock(value=f"v{__version__}")
             ),
+        ), async_mock.patch.object(
+            test_module,
+            "get_upgrade_version_list",
+            async_mock.MagicMock(return_value=[]),
+        ):
+            mock_outbound_mgr.return_value.registered_transports = {
+                "test": async_mock.MagicMock(schemes=["http"])
+            }
+            await conductor.setup()
+            session = await conductor.root_profile.session()
+            wallet = session.inject(BaseWallet)
+            await wallet.create_public_did(
+                SOV,
+                ED25519,
+            )
+            mock_inbound_mgr.return_value.registered_transports = {}
+            mock_outbound_mgr.return_value.registered_transports = {}
+            await conductor.start()
+            await conductor.stop()
+
+    async def test_startup_version_force_upgrade(self):
+        test_settings = {
+            "admin.webhook_urls": ["http://sample.webhook.ca"],
+            "upgrade.from_version": "v0.7.5",
+            "upgrade.force_upgrade": True,
+        }
+        builder: ContextBuilder = StubContextBuilder(test_settings)
+        conductor = test_module.Conductor(builder)
+        with async_mock.patch.object(
+            test_module, "InboundTransportManager", autospec=True
+        ) as mock_inbound_mgr, async_mock.patch.object(
+            test_module, "OutboundTransportManager", autospec=True
+        ) as mock_outbound_mgr, async_mock.patch.object(
+            test_module, "LoggingConfigurator", autospec=True
+        ) as mock_logger, async_mock.patch.object(
+            BaseStorage,
+            "find_record",
+            async_mock.AsyncMock(return_value=async_mock.MagicMock(value="v0.8.0")),
+        ), async_mock.patch.object(
+            test_module,
+            "get_upgrade_version_list",
+            async_mock.MagicMock(return_value=["v0.8.0-rc1", "v8.0.0", "v0.8.1-rc1"]),
+        ), async_mock.patch.object(
+            test_module,
+            "upgrade",
+            async_mock.AsyncMock(),
+        ):
+            mock_outbound_mgr.return_value.registered_transports = {
+                "test": async_mock.MagicMock(schemes=["http"])
+            }
+            await conductor.setup()
+            session = await conductor.root_profile.session()
+            wallet = session.inject(BaseWallet)
+            await wallet.create_public_did(
+                SOV,
+                ED25519,
+            )
+            mock_inbound_mgr.return_value.registered_transports = {}
+            mock_outbound_mgr.return_value.registered_transports = {}
+            await conductor.start()
+            await conductor.stop()
+
+        with async_mock.patch.object(
+            test_module, "InboundTransportManager", autospec=True
+        ) as mock_inbound_mgr, async_mock.patch.object(
+            test_module, "OutboundTransportManager", autospec=True
+        ) as mock_outbound_mgr, async_mock.patch.object(
+            test_module, "LoggingConfigurator", autospec=True
+        ) as mock_logger, async_mock.patch.object(
+            BaseStorage,
+            "find_record",
+            async_mock.AsyncMock(return_value=async_mock.MagicMock(value="v0.7.0")),
+        ), async_mock.patch.object(
+            test_module,
+            "get_upgrade_version_list",
+            async_mock.MagicMock(return_value=["v0.7.2", "v0.7.3", "v0.7.4"]),
+        ), async_mock.patch.object(
+            test_module,
+            "upgrade",
+            async_mock.AsyncMock(),
+        ):
+            mock_outbound_mgr.return_value.registered_transports = {
+                "test": async_mock.MagicMock(schemes=["http"])
+            }
+            await conductor.setup()
+            session = await conductor.root_profile.session()
+            wallet = session.inject(BaseWallet)
+            await wallet.create_public_did(
+                SOV,
+                ED25519,
+            )
+            mock_inbound_mgr.return_value.registered_transports = {}
+            mock_outbound_mgr.return_value.registered_transports = {}
+            await conductor.start()
+            await conductor.stop()
+
+        with async_mock.patch.object(
+            test_module, "InboundTransportManager", autospec=True
+        ) as mock_inbound_mgr, async_mock.patch.object(
+            test_module, "OutboundTransportManager", autospec=True
+        ) as mock_outbound_mgr, async_mock.patch.object(
+            test_module, "LoggingConfigurator", autospec=True
+        ) as mock_logger, async_mock.patch.object(
+            BaseStorage,
+            "find_record",
+            async_mock.AsyncMock(side_effect=StorageNotFoundError()),
+        ), async_mock.patch.object(
+            test_module,
+            "get_upgrade_version_list",
+            async_mock.MagicMock(return_value=["v0.8.0-rc1", "v8.0.0", "v0.8.1-rc1"]),
+        ), async_mock.patch.object(
+            test_module,
+            "upgrade",
+            async_mock.AsyncMock(),
+        ):
+            await conductor.setup()
+            session = await conductor.root_profile.session()
+            wallet = session.inject(BaseWallet)
+            await wallet.create_public_did(
+                SOV,
+                ED25519,
+            )
+            mock_inbound_mgr.return_value.registered_transports = {}
+            mock_outbound_mgr.return_value.registered_transports = {}
+            await conductor.start()
+            mock_logger.print_banner.assert_called_once()
+            await conductor.stop()
+
+    async def test_startup_version_record_not_exists(self):
+        builder: ContextBuilder = StubContextBuilder(self.test_settings)
+        conductor = test_module.Conductor(builder)
+
+        with async_mock.patch.object(
+            test_module, "InboundTransportManager", autospec=True
+        ) as mock_inbound_mgr, async_mock.patch.object(
+            test_module, "OutboundTransportManager", autospec=True
+        ) as mock_outbound_mgr, async_mock.patch.object(
+            test_module, "LoggingConfigurator", autospec=True
+        ) as mock_logger, async_mock.patch.object(
+            BaseStorage,
+            "find_record",
+            async_mock.AsyncMock(side_effect=StorageNotFoundError()),
+        ), async_mock.patch.object(
+            test_module,
+            "get_upgrade_version_list",
+            async_mock.MagicMock(return_value=["v0.8.0-rc1", "v8.0.0", "v0.8.1-rc1"]),
+        ), async_mock.patch.object(
+            test_module,
+            "upgrade",
+            async_mock.AsyncMock(),
         ):
             mock_outbound_mgr.return_value.registered_transports = {
                 "test": async_mock.MagicMock(schemes=["http"])
             }
             await conductor.setup()
 
             session = await conductor.root_profile.session()
@@ -217,15 +454,14 @@
         with async_mock.patch.object(
             test_module, "InboundTransportManager", autospec=True
         ) as mock_inbound_mgr, async_mock.patch.object(
             test_module, "OutboundTransportManager", autospec=True
         ) as mock_outbound_mgr, async_mock.patch.object(
             test_module, "LoggingConfigurator", autospec=True
         ) as mock_logger:
-
             mock_inbound_mgr.return_value.sessions = ["dummy"]
             mock_outbound_mgr.return_value.outbound_buffer = [
                 async_mock.MagicMock(state=QueuedOutboundMessage.STATE_ENCODE),
                 async_mock.MagicMock(state=QueuedOutboundMessage.STATE_DELIVER),
             ]
             mock_outbound_mgr.return_value.registered_transports = {
                 "test": async_mock.MagicMock(schemes=["http"])
@@ -258,15 +494,14 @@
                 "test": async_mock.MagicMock(schemes=["http"])
             }
             await conductor.setup()
 
         with async_mock.patch.object(
             conductor.dispatcher, "queue_message", autospec=True
         ) as mock_dispatch_q:
-
             message_body = "{}"
             receipt = MessageReceipt(direct_response_mode="snail mail")
             message = InboundMessage(message_body, receipt)
 
             conductor.inbound_message_router(
                 conductor.context, message, can_respond=False
             )
@@ -1367,65 +1602,32 @@
         ) as mock_outbound_mgr:
             mock_outbound_mgr.return_value.registered_transports = {
                 "test": async_mock.MagicMock(schemes=["http"])
             }
             await conductor.setup()
             mock_genesis_load.assert_called_once()
 
-    async def test_startup_x_version_mismatch(self):
-        builder: ContextBuilder = StubContextBuilder(self.test_settings)
-        conductor = test_module.Conductor(builder)
-
-        with async_mock.patch.object(
-            test_module, "InboundTransportManager", autospec=True
-        ) as mock_inbound_mgr, async_mock.patch.object(
-            test_module, "OutboundTransportManager", autospec=True
-        ) as mock_outbound_mgr, async_mock.patch.object(
-            test_module, "LOGGER"
-        ) as mock_logger, async_mock.patch.object(
-            BaseStorage,
-            "find_record",
-            async_mock.AsyncMock(return_value=async_mock.MagicMock(value=f"v0.6.0")),
-        ):
-            mock_outbound_mgr.return_value.registered_transports = {
-                "test": async_mock.MagicMock(schemes=["http"])
-            }
-            await conductor.setup()
-
-            session = await conductor.root_profile.session()
-
-            wallet = session.inject(BaseWallet)
-            await wallet.create_public_did(
-                SOV,
-                ED25519,
-            )
-
-            mock_inbound_mgr.return_value.setup.assert_awaited_once()
-            mock_outbound_mgr.return_value.setup.assert_awaited_once()
-
-            mock_inbound_mgr.return_value.registered_transports = {}
-            mock_outbound_mgr.return_value.registered_transports = {}
-            with self.assertRaises(RuntimeError):
-                await conductor.start()
-                mock_logger.exception.assert_called_once()
-
     async def test_startup_x_no_storage_version(self):
         builder: ContextBuilder = StubContextBuilder(self.test_settings)
         conductor = test_module.Conductor(builder)
 
         with async_mock.patch.object(
             test_module, "InboundTransportManager", autospec=True
         ) as mock_inbound_mgr, async_mock.patch.object(
             test_module, "OutboundTransportManager", autospec=True
         ) as mock_outbound_mgr, async_mock.patch.object(
             test_module, "LOGGER"
         ) as mock_logger, async_mock.patch.object(
             BaseStorage,
             "find_record",
             async_mock.AsyncMock(side_effect=StorageNotFoundError()),
+        ), async_mock.patch.object(
+            test_module,
+            "upgrade",
+            async_mock.AsyncMock(),
         ):
             mock_outbound_mgr.return_value.registered_transports = {
                 "test": async_mock.MagicMock(schemes=["http"])
             }
             await conductor.setup()
 
             session = await conductor.root_profile.session()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_dispatcher.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_dispatcher.py`

 * *Files 14% similar despite different names*

```diff
@@ -2,14 +2,16 @@
 
 from async_case import IsolatedAsyncioTestCase
 import mock as async_mock
 import pytest
 
 from marshmallow import EXCLUDE
 
+from ...cache.base import BaseCache
+from ...cache.in_memory import InMemoryCache
 from ...config.injection_context import InjectionContext
 from ...core.event_bus import EventBus
 from ...core.in_memory import InMemoryProfile
 from ...core.profile import Profile
 from ...core.protocol_registry import ProtocolRegistry
 from ...messaging.agent_message import AgentMessage, AgentMessageSchema
 from ...messaging.request_context import RequestContext
@@ -409,38 +411,176 @@
 
     async def test_create_send_outbound(self):
         profile = make_profile()
         context = RequestContext(
             profile,
             settings={"timing.enabled": True},
         )
+        registry = profile.inject(ProtocolRegistry)
+        registry.register_message_types(
+            {
+                pfx.qualify(StubAgentMessage.Meta.message_type): StubAgentMessage
+                for pfx in DIDCommPrefix
+            }
+        )
         message = StubAgentMessage()
         responder = test_module.DispatcherResponder(context, message, None)
-        outbound_message = await responder.create_outbound(message)
-        with async_mock.patch.object(responder, "_send", async_mock.AsyncMock()):
+        outbound_message = await responder.create_outbound(
+            json.dumps(message.serialize())
+        )
+        with async_mock.patch.object(
+            responder, "_send", async_mock.AsyncMock()
+        ), async_mock.patch.object(
+            test_module.BaseResponder,
+            "conn_rec_active_state_check",
+            async_mock.AsyncMock(return_value=True),
+        ):
             await responder.send_outbound(outbound_message)
 
+    async def test_create_send_outbound_with_msg_attrs(self):
+        profile = make_profile()
+        context = RequestContext(
+            profile,
+            settings={"timing.enabled": True},
+        )
+        registry = profile.inject(ProtocolRegistry)
+        registry.register_message_types(
+            {
+                pfx.qualify(StubAgentMessage.Meta.message_type): StubAgentMessage
+                for pfx in DIDCommPrefix
+            }
+        )
+        message = StubAgentMessage()
+        responder = test_module.DispatcherResponder(context, message, None)
+        outbound_message = await responder.create_outbound(message)
+        with async_mock.patch.object(
+            responder, "_send", async_mock.AsyncMock()
+        ), async_mock.patch.object(
+            test_module.BaseResponder,
+            "conn_rec_active_state_check",
+            async_mock.AsyncMock(return_value=True),
+        ):
+            await responder.send_outbound(
+                message=outbound_message,
+                message_type=message._message_type,
+                message_id=message._id,
+            )
+
+    async def test_create_send_outbound_with_msg_attrs_x(self):
+        profile = make_profile()
+        context = RequestContext(
+            profile,
+            settings={"timing.enabled": True},
+        )
+        registry = profile.inject(ProtocolRegistry)
+        registry.register_message_types(
+            {
+                pfx.qualify(StubAgentMessage.Meta.message_type): StubAgentMessage
+                for pfx in DIDCommPrefix
+            }
+        )
+        message = StubAgentMessage()
+        responder = test_module.DispatcherResponder(context, message, None)
+        outbound_message = await responder.create_outbound(message)
+        outbound_message.connection_id = "123"
+        with async_mock.patch.object(
+            test_module.BaseResponder,
+            "conn_rec_active_state_check",
+            async_mock.AsyncMock(return_value=False),
+        ):
+            with self.assertRaises(RuntimeError):
+                await responder.send_outbound(
+                    message=outbound_message,
+                    message_type=message._message_type,
+                    message_id=message._id,
+                )
+
     async def test_create_send_webhook(self):
         profile = make_profile()
         context = RequestContext(profile)
         message = StubAgentMessage()
         responder = test_module.DispatcherResponder(context, message, None)
         with pytest.deprecated_call():
             await responder.send_webhook("topic", {"pay": "load"})
 
+    async def test_conn_rec_active_state_check_a(self):
+        profile = make_profile()
+        profile.context.injector.bind_instance(BaseCache, InMemoryCache())
+        context = RequestContext(profile)
+        message = StubAgentMessage()
+        responder = test_module.DispatcherResponder(context, message, None)
+        with async_mock.patch.object(
+            test_module.ConnRecord, "retrieve_by_id", async_mock.AsyncMock()
+        ) as mock_conn_ret_by_id:
+            conn_rec = test_module.ConnRecord()
+            conn_rec.state = test_module.ConnRecord.State.COMPLETED
+            mock_conn_ret_by_id.return_value = conn_rec
+            check_flag = await responder.conn_rec_active_state_check(
+                profile,
+                "conn-id",
+            )
+            assert check_flag
+            check_flag = await responder.conn_rec_active_state_check(
+                profile,
+                "conn-id",
+            )
+            assert check_flag
+
+    async def test_conn_rec_active_state_check_b(self):
+        profile = make_profile()
+        profile.context.injector.bind_instance(BaseCache, InMemoryCache())
+        profile.context.injector.bind_instance(
+            EventBus, async_mock.MagicMock(notify=async_mock.AsyncMock())
+        )
+        context = RequestContext(profile)
+        message = StubAgentMessage()
+        responder = test_module.DispatcherResponder(context, message, None)
+        with async_mock.patch.object(
+            test_module.ConnRecord, "retrieve_by_id", async_mock.AsyncMock()
+        ) as mock_conn_ret_by_id:
+            conn_rec_a = test_module.ConnRecord()
+            conn_rec_a.state = test_module.ConnRecord.State.REQUEST
+            conn_rec_b = test_module.ConnRecord()
+            conn_rec_b.state = test_module.ConnRecord.State.COMPLETED
+            mock_conn_ret_by_id.side_effect = [conn_rec_a, conn_rec_b]
+            check_flag = await responder.conn_rec_active_state_check(
+                profile,
+                "conn-id",
+            )
+            assert check_flag
+
     async def test_create_enc_outbound(self):
         profile = make_profile()
         context = RequestContext(profile)
-        message = b"abc123xyz7890000"
+        message = StubAgentMessage()
         responder = test_module.DispatcherResponder(context, message, None)
         with async_mock.patch.object(
             responder, "send_outbound", async_mock.AsyncMock()
         ) as mock_send_outbound:
             await responder.send(message)
             assert mock_send_outbound.called_once()
+        msg_json = json.dumps(StubAgentMessage().serialize())
+        message = msg_json.encode("utf-8")
+        with async_mock.patch.object(
+            responder, "send_outbound", async_mock.AsyncMock()
+        ) as mock_send_outbound:
+            await responder.send(message)
+
+        message = StubAgentMessage()
+        with async_mock.patch.object(
+            responder, "send_outbound", async_mock.AsyncMock()
+        ) as mock_send_outbound:
+            await responder.send_reply(message)
+            assert mock_send_outbound.called_once()
+
+        message = json.dumps(StubAgentMessage().serialize())
+        with async_mock.patch.object(
+            responder, "send_outbound", async_mock.AsyncMock()
+        ) as mock_send_outbound:
+            await responder.send_reply(message)
 
     async def test_expired_context_x(self):
         def _smaller_scope():
             profile = make_profile()
             context = RequestContext(profile)
             message = b"abc123xyz7890000"
             return test_module.DispatcherResponder(context, message, None)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_error.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_error.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_event_bus.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_event_bus.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_goal_code_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_goal_code_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_oob_processor.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_oob_processor.py`

 * *Files 1% similar despite different names*

```diff
@@ -55,15 +55,14 @@
         )
 
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(return_value=mock_oob),
         ) as mock_retrieve_oob:
-
             await self.oob_processor.clean_finished_oob_record(
                 self.profile, test_message
             )
 
             assert mock_oob.state == OobRecord.STATE_DONE
             mock_oob.emit_event.assert_called_once()
             mock_oob.delete_record.assert_called_once()
@@ -84,15 +83,14 @@
         )
 
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(return_value=mock_oob),
         ) as mock_retrieve_oob:
-
             await self.oob_processor.clean_finished_oob_record(
                 self.profile, test_message
             )
 
             mock_oob.emit_event.assert_not_called()
             mock_oob.delete_record.assert_not_called()
 
@@ -139,15 +137,14 @@
         outbound = OutboundMessage(reply_thread_id="the-thid", payload=message)
 
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(return_value=mock_oob),
         ) as mock_retrieve_oob:
-
             target = await self.oob_processor.find_oob_target_for_outbound_message(
                 self.profile, outbound
             )
 
             assert target
             assert target.endpoint == "http://their-service-endpoint.com"
             assert target.recipient_keys == [
@@ -178,15 +175,14 @@
         outbound = OutboundMessage(reply_thread_id="the-thid", payload=message)
 
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(side_effect=(StorageNotFoundError(),)),
         ) as mock_retrieve_oob:
-
             target = await self.oob_processor.find_oob_target_for_outbound_message(
                 self.profile, outbound
             )
 
             assert not target
             mock_retrieve_oob.assert_called_once_with(
                 ANY, {"attach_thread_id": "the-thid"}
@@ -213,15 +209,14 @@
         )
 
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(return_value=mock_oob),
         ):
-
             message = json.dumps({})
             outbound = OutboundMessage(reply_thread_id="the-thid", payload=message)
             await self.oob_processor.find_oob_target_for_outbound_message(
                 self.profile, outbound
             )
             payload = json.loads(outbound.payload)
 
@@ -521,15 +516,14 @@
             )
             mock_retrieve.assert_called_once()
             mock_retrieve.assert_called_once_with(ANY, {"invi_msg_id": "the-pthid"})
 
     async def test_find_oob_record_for_inbound_message_not_attach_thread_id_matching(
         self,
     ):
-
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(return_value=self.oob_record),
         ) as mock_retrieve:
             self.context.message_receipt = MessageReceipt(
                 thread_id="the-thid", parent_thread_id="the-pthid"
@@ -635,15 +629,14 @@
                 "recipientKeys": ["9WCgWKUaAJj3VWxxtzvvMQN3AoFxoBtBDo9ntwJnVVCC"],
                 "routingKeys": ["9WCgWKUaAJj3VWxxtzvvMQN3AoFxoBtBDo9ntwJnVVCC"],
             }
 
     async def test_find_oob_record_for_inbound_message_session_emit_delete(
         self,
     ):
-
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(return_value=self.oob_record),
         ) as mock_retrieve:
             self.context.message_receipt = MessageReceipt(
                 thread_id="the-thid",
@@ -660,15 +653,14 @@
             self.oob_record.emit_event.assert_called_once()
             self.oob_record.delete_record.assert_called_once()
             self.oob_record.save.assert_not_called()
 
     async def test_find_oob_record_for_inbound_message_session_connectionless_save(
         self,
     ):
-
         self.oob_record.connection_id = None
 
         with async_mock.patch.object(
             OobRecord,
             "retrieve_by_tag_filter",
             async_mock.CoroutineMock(return_value=self.oob_record),
         ) as mock_retrieve:
@@ -747,15 +739,14 @@
         }
 
         oob_record.save.assert_called_once()
 
         self.inbound_message_router.assert_called_once_with(self.profile, ANY, False)
 
     async def test_handle_message_unsupported_message_type(self):
-
         with self.assertRaises(OobMessageProcessorError) as err:
             await self.oob_processor.handle_message(
                 self.profile, [{"@type": "unsupported"}], async_mock.MagicMock()
             )
         assert (
             "None of the oob attached messages supported. Supported message types are issue-credential/1.0/offer-credential, issue-credential/2.0/offer-credential, present-proof/1.0/request-presentation, present-proof/2.0/request-presentation"
             in err.exception.message
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_plugin_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_plugin_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_protocol_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_protocol_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/tests/test_util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/tests/test_util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/core/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/core/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/did/did_key.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/did/did_key.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_bls12381g1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_bls12381g1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_bls12381g1g2.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_bls12381g1g2.py`

 * *Files 0% similar despite different names*

```diff
@@ -22,14 +22,15 @@
 TEST_BLS12381G2_BASE58_KEY = "26d2BdqELsXg7ZHCWKL2D5Y2S7mYrpkdhJemSEEvokd4qy4TULJeeU44hYPGKo4x4DbBp5ARzkv1D6xuB3bmhpdpKAXuXtode67wzh9PCtW8kTqQhH19VSiFZkLNkhe9rtf3"
 TEST_BLS12381G2_FINGERPRINT = "zUC7LTa4hWtaE9YKyDsMVGiRNqPMN3s4rjBdB3MFi6PcVWReNfR72y3oGW2NhNcaKNVhMobh7aHp8oZB3qdJCs7RebM2xsodrSm8MmePbN25NTGcpjkJMwKbcWfYDX7eHCJjPGM"
 TEST_BLS12381G2_DID = f"did:key:{TEST_BLS12381G2_FINGERPRINT}"
 TEST_BLS12381G1G2_PREFIX_BYTES = b"".join(
     [b"\xee\x01", b58_to_bytes(TEST_BLS12381G1G2_BASE58_KEY)]
 )
 
+
 # The tests here are a bit quirky because g1g2 is a concatenation of g1 and g2 public key bytes
 # but it works with the already existing did key implementation.
 class TestDIDKey(TestCase):
     def test_bls12381g1g2_from_public_key(self):
         key_bytes = b58_to_bytes(TEST_BLS12381G1G2_BASE58_KEY)
         did_key = DIDKey.from_public_key(key_bytes, BLS12381G1G2)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_bls12381g2.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_bls12381g2.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_ed25519.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_ed25519.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_did_key_x25519.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_did_key_x25519.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/did/tests/test_dids.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/did/tests/test_dids.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/holder/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/holder/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/holder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/holder.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/issuer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/issuer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/tests/test_cred_issuance.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/tests/test_cred_issuance.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/credx/verifier.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/credx/verifier.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/holder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/holder.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/issuer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/issuer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_abstract.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_abstract.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_def.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_def.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_precis.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_precis.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/cred_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/cred_request.py`

 * *Files 1% similar despite different names*

```diff
@@ -40,15 +40,15 @@
     class Meta:
         """Indy credential request schema metadata."""
 
         model_class = IndyCredRequest
         unknown = EXCLUDE
 
     prover_did = fields.Str(
-        requred=True,
+        required=True,
         description="Prover DID",
         **INDY_DID,
     )
     cred_def_id = fields.Str(
         required=True,
         description="Credential definition identifier",
         **INDY_CRED_DEF_ID,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/non_rev_interval.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/non_rev_interval.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/predicate.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/predicate.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/pres_preview.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/pres_preview.py`

 * *Files 0% similar despite different names*

```diff
@@ -399,15 +399,15 @@
                     **{
                         "non_revoked": interval.serialize()
                         for _ in [""]
                         if revoc_support
                     },
                 }
 
-        for (reft, attr_spec) in attr_specs_names.items():
+        for reft, attr_spec in attr_specs_names.items():
             proof_req["requested_attributes"][
                 "{}_{}_uuid".format(
                     len(proof_req["requested_attributes"]), canon(attr_spec["names"][0])
                 )
             ] = attr_spec
 
         for pred_spec in self.predicates:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/proof.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/proof.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/proof_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/proof_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/requested_creds.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/requested_creds.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/revocation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/revocation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/schema.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/schema.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_cred.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_cred.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_cred_precis.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_cred_precis.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_non_rev_interval.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_non_rev_interval.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_pred.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_pred.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_pres_preview.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_pres_preview.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_proof.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_proof.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/tests/test_proof_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/tests/test_proof_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/models/xform.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/models/xform.py`

 * *Files 1% similar despite different names*

```diff
@@ -26,15 +26,15 @@
     """
     req_creds = {
         "self_attested_attributes": {},
         "requested_attributes": {},
         "requested_predicates": {},
     }
 
-    for (referent, req_item) in indy_proof_req["requested_attributes"].items():
+    for referent, req_item in indy_proof_req["requested_attributes"].items():
         credentials = await holder.get_credentials_for_presentation_request_by_referent(
             presentation_request=indy_proof_req,
             referents=(referent,),
             start=0,
             count=100,
         )
         if not credentials:
@@ -112,15 +112,15 @@
     return req_creds
 
 
 def indy_proof_req2non_revoc_intervals(indy_proof_req: dict):
     """Return non-revocation intervals by requested item referent in proof request."""
     non_revoc_intervals = {}
     for req_item_type in ("requested_attributes", "requested_predicates"):
-        for (reft, req_item) in indy_proof_req[req_item_type].items():
+        for reft, req_item in indy_proof_req[req_item_type].items():
             interval = req_item.get(
                 "non_revoked",
                 indy_proof_req.get("non_revoked"),
             )
             if interval:
                 fro = interval.get("from")
                 to = interval.get("to")
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/error.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/error.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/holder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/holder.py`

 * *Files 0% similar despite different names*

```diff
@@ -222,19 +222,21 @@
                     if len(batch) < CHUNK:
                         break
             return creds
 
         with IndyErrorHandler(
             "Error when constructing wallet credential query", IndyHolderError
         ):
-            search_handle = await (
-                indy.anoncreds.prover_search_credentials_for_proof_req(
-                    self.wallet.handle,
-                    json.dumps(presentation_request),
-                    json.dumps(extra_query),
+            search_handle = (
+                await (
+                    indy.anoncreds.prover_search_credentials_for_proof_req(
+                        self.wallet.handle,
+                        json.dumps(presentation_request),
+                        json.dumps(extra_query),
+                    )
                 )
             )
 
             if not referents:
                 referents = (
                     *presentation_request["requested_attributes"],
                     *presentation_request["requested_predicates"],
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/issuer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/issuer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_holder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_holder.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_issuer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_issuer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_profile.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_profile.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_verifier.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_verifier.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/tests/test_wallet_plugin.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/tests/test_wallet_plugin.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/verifier.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/verifier.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/wallet_plugin.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/wallet_plugin.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/sdk/wallet_setup.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/sdk/wallet_setup.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/tests/test_verifier.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/tests/test_verifier.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/indy/verifier.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/indy/verifier.py`

 * *Files 2% similar despite different names*

```diff
@@ -55,20 +55,20 @@
 
         Args:
             pres_req: presentation request
             pres: corresponding presentation
 
         """
         msgs = []
-        for (req_proof_key, pres_key) in {
+        for req_proof_key, pres_key in {
             "revealed_attrs": "requested_attributes",
             "revealed_attr_groups": "requested_attributes",
             "predicates": "requested_predicates",
         }.items():
-            for (uuid, spec) in pres["requested_proof"].get(req_proof_key, {}).items():
+            for uuid, spec in pres["requested_proof"].get(req_proof_key, {}).items():
                 if (
                     "revocation"
                     not in cred_defs[
                         pres["identifiers"][spec["sub_proof_index"]]["cred_def_id"]
                     ]["value"]
                 ):
                     if uuid in pres_req[pres_key] and pres_req[pres_key][uuid].pop(
@@ -128,15 +128,15 @@
         """
         msgs = []
         now = int(time())
         non_revoc_intervals = indy_proof_req2non_revoc_intervals(pres_req)
         LOGGER.debug(f">>> got non-revoc intervals: {non_revoc_intervals}")
         # timestamp for irrevocable credential
         cred_defs = []
-        for (index, ident) in enumerate(pres["identifiers"]):
+        for index, ident in enumerate(pres["identifiers"]):
             LOGGER.debug(f">>> got (index, ident): ({index},{ident})")
             cred_def_id = ident["cred_def_id"]
             multitenant_mgr = profile.inject_or(BaseMultitenantManager)
             if multitenant_mgr:
                 ledger_exec_inst = IndyLedgerRequestsExecutor(profile)
             else:
                 ledger_exec_inst = profile.inject(IndyLedgerRequestsExecutor)
@@ -180,15 +180,15 @@
 
         # timestamp superfluous, missing, or outside non-revocation interval
         revealed_attrs = pres["requested_proof"].get("revealed_attrs", {})
         unrevealed_attrs = pres["requested_proof"].get("unrevealed_attrs", {})
         revealed_groups = pres["requested_proof"].get("revealed_attr_groups", {})
         self_attested = pres["requested_proof"].get("self_attested_attrs", {})
         preds = pres["requested_proof"].get("predicates", {})
-        for (uuid, req_attr) in pres_req["requested_attributes"].items():
+        for uuid, req_attr in pres_req["requested_attributes"].items():
             if "name" in req_attr:
                 if uuid in revealed_attrs:
                     index = revealed_attrs[uuid]["sub_proof_index"]
                     if cred_defs[index]["value"].get("revocation"):
                         timestamp = pres["identifiers"][index].get("timestamp")
                         if (timestamp is not None) ^ bool(
                             non_revoc_intervals.get(uuid)
@@ -254,15 +254,15 @@
                         )
                         LOGGER.warning(
                             f"Timestamp {timestamp} from ledger for item"
                             f"{uuid} falls outside non-revocation interval "
                             f"{non_revoc_intervals[uuid]}"
                         )
 
-        for (uuid, req_pred) in pres_req["requested_predicates"].items():
+        for uuid, req_pred in pres_req["requested_predicates"].items():
             pred_spec = preds.get(uuid)
             if pred_spec is None or "sub_proof_index" not in pred_spec:
                 raise ValueError(
                     f"Presentation predicates mismatch requested predicate {uuid}"
                 )
             index = pred_spec["sub_proof_index"]
             if cred_defs[index]["value"].get("revocation"):
@@ -310,15 +310,15 @@
         if not pres:
             raise ValueError("No proof provided")
         if "requested_proof" not in pres:
             raise ValueError("Presentation missing 'requested_proof'")
         if "proof" not in pres:
             raise ValueError("Presentation missing 'proof'")
 
-        for (uuid, req_pred) in pres_req["requested_predicates"].items():
+        for uuid, req_pred in pres_req["requested_predicates"].items():
             try:
                 canon_attr = canon(req_pred["name"])
                 matched = False
                 found = False
                 for ge_proof in pres["proof"]["proofs"][
                     pres["requested_proof"]["predicates"][uuid]["sub_proof_index"]
                 ]["primary_proof"]["ge_proofs"]:
@@ -336,15 +336,15 @@
             except (KeyError, TypeError):
                 raise ValueError(f"Missing requested predicate '{uuid}'")
 
         revealed_attrs = pres["requested_proof"].get("revealed_attrs", {})
         unrevealed_attrs = pres["requested_proof"].get("unrevealed_attrs", {})
         revealed_groups = pres["requested_proof"].get("revealed_attr_groups", {})
         self_attested = pres["requested_proof"].get("self_attested_attrs", {})
-        for (uuid, req_attr) in pres_req["requested_attributes"].items():
+        for uuid, req_attr in pres_req["requested_attributes"].items():
             if "name" in req_attr:
                 if uuid in revealed_attrs:
                     pres_req_attr_spec = {req_attr["name"]: revealed_attrs[uuid]}
                 elif uuid in unrevealed_attrs:
                     # unrevealed attribute, nothing to do
                     pres_req_attr_spec = {}
                     msgs.append(
@@ -371,15 +371,15 @@
                     for attr in req_attr["names"]
                 }
             else:
                 raise ValueError(
                     f"Request attribute missing 'name' and 'names': '{uuid}'"
                 )
 
-            for (attr, spec) in pres_req_attr_spec.items():
+            for attr, spec in pres_req_attr_spec.items():
                 try:
                     primary_enco = pres["proof"]["proofs"][spec["sub_proof_index"]][
                         "primary_proof"
                     ]["eq_proof"]["revealed_attrs"][canon(attr)]
                 except (KeyError, TypeError):
                     raise ValueError(f"Missing revealed attribute: '{attr}'")
                 if primary_enco != spec["encoded"]:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/endpoint_type.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/endpoint_type.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/indy.py`

 * *Files 0% similar despite different names*

```diff
@@ -385,24 +385,27 @@
 
         if sign:
             if not sign_did:
                 raise BadLedgerRequestError("Cannot sign request without a public DID")
             if taa_accept:
                 acceptance = await self.get_latest_txn_author_acceptance()
                 if acceptance:
+                    # flake8 and black 23.1.0 check collision fix
+                    # fmt: off
                     request_json = await (
                         indy.ledger.append_txn_author_agreement_acceptance_to_request(
                             request_json,
                             acceptance["text"],
                             acceptance["version"],
                             acceptance["digest"],
                             acceptance["mechanism"],
                             acceptance["time"],
                         )
                     )
+                    # fmt: on
             if write_ledger:
                 submit_op = indy.ledger.sign_and_submit_request(
                     self.pool.handle,
                     self.profile.wallet.handle,
                     sign_did.did,
                     request_json,
                 )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/indy_vdr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/indy_vdr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/constants.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/constants.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/domain_txn_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/domain_txn_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/hasher.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/hasher.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/merkel_verifier.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/merkel_verifier.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/test_data.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/test_data.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/test_domain_txn_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/test_domain_txn_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/tests/test_trie.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/tests/test_trie.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/trie.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/trie.py`

 * *Files 4% similar despite different names*

```diff
@@ -75,15 +75,15 @@
                             return True
                     # leaf or extension node
                     if SubTrie._get_node_type(decoded_node) == NODE_TYPE_LEAF:
                         if (
                             json.loads(rlp_decode(decoded_node[1])[0].decode("utf-8"))
                         ) == expected_value:
                             return True
-                except (DecodingError):
+                except DecodingError:
                     continue
             return False
         except Exception:
             return False
 
     @staticmethod
     async def get_new_trie_with_proof_nodes(proof_nodes):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/merkel_validation/utils.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/merkel_validation/utils.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/base_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/base_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/indy_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/indy_manager.py`

 * *Files 3% similar despite different names*

```diff
@@ -5,14 +5,15 @@
 import json
 
 from collections import OrderedDict
 from typing import Optional, Tuple, Mapping
 
 from ...cache.base import BaseCache
 from ...core.profile import Profile
+from ...ledger.base import BaseLedger
 from ...ledger.error import LedgerError
 from ...wallet.crypto import did_is_self_certified
 
 from ..indy import IndySdkLedger
 from ..merkel_validation.domain_txn_handler import (
     prepare_for_state_read,
     get_proof_nodes,
@@ -49,15 +50,19 @@
         self.non_production_ledgers = non_production_ledgers
         self.write_ledger_info = write_ledger_info
         self.executor = concurrent.futures.ThreadPoolExecutor(max_workers=5)
         self.cache_ttl = cache_ttl
 
     async def get_write_ledger(self) -> Optional[Tuple[str, IndySdkLedger]]:
         """Return the write IndySdkLedger instance."""
-        return self.write_ledger_info
+        # return self.write_ledger_info
+        if self.write_ledger_info:
+            return (self.write_ledger_info[0], self.profile.inject_or(BaseLedger))
+        else:
+            return None
 
     async def get_prod_ledgers(self) -> Mapping:
         """Return production ledgers mapping."""
         return self.production_ledgers
 
     async def get_nonprod_ledgers(self) -> Mapping:
         """Return non_production ledgers mapping."""
@@ -79,15 +84,19 @@
             did: provided DID
 
         Return:
             (str, IndySdkLedger, bool) or None
         """
         try:
             indy_sdk_ledger = None
-            if ledger_id in self.production_ledgers:
+            if self.write_ledger_info and ledger_id == self.write_ledger_info[0]:
+                indy_sdk_ledger = await self.get_write_ledger()
+                if indy_sdk_ledger:
+                    indy_sdk_ledger = indy_sdk_ledger[1]
+            elif ledger_id in self.production_ledgers:
                 indy_sdk_ledger = self.production_ledgers.get(ledger_id)
             else:
                 indy_sdk_ledger = self.non_production_ledgers.get(ledger_id)
             async with indy_sdk_ledger:
                 request = await indy_sdk_ledger.build_and_return_get_nym_request(
                     None, did
                 )
@@ -130,15 +139,17 @@
         self, did: str, cache_did: bool = True
     ) -> Tuple[str, IndySdkLedger]:
         """Lookup given DID in configured ledgers in parallel."""
         self.cache = self.profile.inject_or(BaseCache)
         cache_key = f"did_ledger_id_resolver::{did}"
         if bool(cache_did and self.cache and await self.cache.get(cache_key)):
             cached_ledger_id = await self.cache.get(cache_key)
-            if cached_ledger_id in self.production_ledgers:
+            if self.write_ledger_info and cached_ledger_id == self.write_ledger_info[0]:
+                return self.get_write_ledger()
+            elif cached_ledger_id in self.production_ledgers:
                 return (cached_ledger_id, self.production_ledgers.get(cached_ledger_id))
             elif cached_ledger_id in self.non_production_ledgers:
                 return (
                     cached_ledger_id,
                     self.non_production_ledgers.get(cached_ledger_id),
                 )
             else:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/indy_vdr_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/indy_vdr_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/ledger_config_schema.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/ledger_config_schema.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/ledger_requests_executor.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/ledger_requests_executor.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/manager_provider.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/manager_provider.py`

 * *Files 1% similar despite different names*

```diff
@@ -80,32 +80,35 @@
                         socks_proxy = config.get("socks_proxy")
                         genesis_transactions = config.get("genesis_transactions")
                         cache = injector.inject_or(BaseCache)
                         ledger_id = config.get("id")
                         pool_name = config.get("pool_name")
                         ledger_is_production = config.get("is_production")
                         ledger_is_write = config.get("is_write")
-                        ledger_pool = pool_class(
-                            pool_name,
-                            keepalive=keepalive,
-                            cache=cache,
-                            genesis_transactions=genesis_transactions,
-                            read_only=read_only,
-                            socks_proxy=socks_proxy,
-                        )
-                        ledger_instance = ledger_class(
-                            pool=ledger_pool,
-                            profile=self.root_profile,
-                        )
                         if ledger_is_write:
-                            write_ledger_info = (ledger_id, ledger_instance)
-                        if ledger_is_production:
-                            indy_sdk_production_ledgers[ledger_id] = ledger_instance
+                            write_ledger_info = (ledger_id, None)
                         else:
-                            indy_sdk_non_production_ledgers[ledger_id] = ledger_instance
+                            ledger_pool = pool_class(
+                                pool_name,
+                                keepalive=keepalive,
+                                cache=cache,
+                                genesis_transactions=genesis_transactions,
+                                read_only=read_only,
+                                socks_proxy=socks_proxy,
+                            )
+                            ledger_instance = ledger_class(
+                                pool=ledger_pool,
+                                profile=self.root_profile,
+                            )
+                            if ledger_is_production:
+                                indy_sdk_production_ledgers[ledger_id] = ledger_instance
+                            else:
+                                indy_sdk_non_production_ledgers[
+                                    ledger_id
+                                ] = ledger_instance
                     if settings.get_value("ledger.genesis_transactions"):
                         ledger_instance = self.root_profile.inject_or(BaseLedger)
                         ledger_id = "startup::" + ledger_instance.pool.name
                         indy_sdk_production_ledgers[ledger_id] = ledger_instance
                         if not write_ledger_info:
                             write_ledger_info = (ledger_id, ledger_instance)
                             indy_sdk_production_ledgers.move_to_end(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_ledger_requests.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_ledger_requests.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -7,14 +7,15 @@
 from asynctest import mock as async_mock
 
 from collections import OrderedDict
 
 from ....cache.base import BaseCache
 from ....cache.in_memory import InMemoryCache
 from ....core.in_memory import InMemoryProfile
+from ....ledger.base import BaseLedger
 from ....messaging.responder import BaseResponder
 
 from ...error import LedgerError
 from ...indy import IndySdkLedger, IndySdkLedgerPool
 from ...merkel_validation.tests.test_data import GET_NYM_REPLY
 
 from .. import indy_manager as test_module
@@ -32,14 +33,15 @@
         self.context.injector.bind_instance(BaseResponder, self.responder)
         self.production_ledger = OrderedDict()
         self.non_production_ledger = OrderedDict()
         test_prod_ledger = IndySdkLedger(
             IndySdkLedgerPool("test_prod_1", checked=True), self.profile
         )
         test_write_ledger = ("test_prod_1", test_prod_ledger)
+        self.context.injector.bind_instance(BaseLedger, test_prod_ledger)
         self.production_ledger["test_prod_1"] = test_prod_ledger
         self.production_ledger["test_prod_2"] = IndySdkLedger(
             IndySdkLedgerPool("test_prod_2", checked=True), self.profile
         )
         self.non_production_ledger["test_non_prod_1"] = IndySdkLedger(
             IndySdkLedgerPool("test_non_prod_1", checked=True), self.profile
         )
@@ -381,29 +383,35 @@
                 "Av63wJYM7xYR4AiygYq4c3", cache_did=False
             )
             assert ledger_id == "test_prod_1"
             assert ledger_inst.pool.name == "test_prod_1"
 
     async def test_lookup_did_in_configured_ledgers_cached_prod_ledger(self):
         cache = InMemoryCache()
-        await cache.set("did_ledger_id_resolver::Av63wJYM7xYR4AiygYq4c3", "test_prod_1")
+        await cache.set("did_ledger_id_resolver::Av63wJYM7xYR4AiygYq4c3", "test_prod_2")
         self.profile.context.injector.bind_instance(BaseCache, cache)
-        (ledger_id, ledger_inst,) = await self.manager.lookup_did_in_configured_ledgers(
+        (
+            ledger_id,
+            ledger_inst,
+        ) = await self.manager.lookup_did_in_configured_ledgers(
             "Av63wJYM7xYR4AiygYq4c3", cache_did=True
         )
-        assert ledger_id == "test_prod_1"
-        assert ledger_inst.pool.name == "test_prod_1"
+        assert ledger_id == "test_prod_2"
+        assert ledger_inst.pool.name == "test_prod_2"
 
     async def test_lookup_did_in_configured_ledgers_cached_non_prod_ledger(self):
         cache = InMemoryCache()
         await cache.set(
             "did_ledger_id_resolver::Av63wJYM7xYR4AiygYq4c3", "test_non_prod_2", None
         )
         self.profile.context.injector.bind_instance(BaseCache, cache)
-        (ledger_id, ledger_inst,) = await self.manager.lookup_did_in_configured_ledgers(
+        (
+            ledger_id,
+            ledger_inst,
+        ) = await self.manager.lookup_did_in_configured_ledgers(
             "Av63wJYM7xYR4AiygYq4c3", cache_did=True
         )
         assert ledger_id == "test_non_prod_2"
         assert ledger_inst.pool.name == "test_non_prod_2"
 
     async def test_lookup_did_in_configured_ledgers_cached_x(self):
         cache = InMemoryCache()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_vdr_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_indy_vdr_manager.py`

 * *Files 0% similar despite different names*

```diff
@@ -439,27 +439,33 @@
             assert ledger_id == "test_prod_1"
             assert ledger_inst.pool.name == "test_prod_1"
 
     async def test_lookup_did_in_configured_ledgers_cached_prod_ledger(self):
         cache = InMemoryCache()
         await cache.set("did_ledger_id_resolver::Av63wJYM7xYR4AiygYq4c3", "test_prod_1")
         self.profile.context.injector.bind_instance(BaseCache, cache)
-        (ledger_id, ledger_inst,) = await self.manager.lookup_did_in_configured_ledgers(
+        (
+            ledger_id,
+            ledger_inst,
+        ) = await self.manager.lookup_did_in_configured_ledgers(
             "Av63wJYM7xYR4AiygYq4c3", cache_did=True
         )
         assert ledger_id == "test_prod_1"
         assert ledger_inst.pool.name == "test_prod_1"
 
     async def test_lookup_did_in_configured_ledgers_cached_non_prod_ledger(self):
         cache = InMemoryCache()
         await cache.set(
             "did_ledger_id_resolver::Av63wJYM7xYR4AiygYq4c3", "test_non_prod_2", None
         )
         self.profile.context.injector.bind_instance(BaseCache, cache)
-        (ledger_id, ledger_inst,) = await self.manager.lookup_did_in_configured_ledgers(
+        (
+            ledger_id,
+            ledger_inst,
+        ) = await self.manager.lookup_did_in_configured_ledgers(
             "Av63wJYM7xYR4AiygYq4c3", cache_did=True
         )
         assert ledger_id == "test_non_prod_2"
         assert ledger_inst.pool.name == "test_non_prod_2"
 
     async def test_lookup_did_in_configured_ledgers_cached_x(self):
         cache = InMemoryCache()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/multiple_ledger/tests/test_manager_provider.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/multiple_ledger/tests/test_manager_provider.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_endpoint_type.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_endpoint_type.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_indy.py`

 * *Files 0% similar despite different names*

```diff
@@ -333,15 +333,14 @@
         mock_append_taa,
         mock_sign_submit,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_append_taa.return_value = "{}"
         mock_sign_submit.return_value = '{"op": "REPLY"}'
 
         mock_wallet = async_mock.MagicMock()
         self.session.context.injector.bind_provider(BaseWallet, mock_wallet)
         with async_mock.patch.object(
             IndySdkWallet, "get_public_did"
@@ -383,15 +382,14 @@
         self,
         mock_submit,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_did = async_mock.MagicMock()
 
         future = asyncio.Future()
         future.set_result(mock_did)
 
         mock_submit.return_value = '{"op": "REPLY"}'
 
@@ -415,15 +413,14 @@
         self,
         mock_submit,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_did = async_mock.MagicMock()
 
         future = asyncio.Future()
         future.set_result(mock_did)
 
         mock_submit.return_value = '{"op": "NO-SUCH-OP"}'
 
@@ -450,15 +447,14 @@
         self,
         mock_submit,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_did = async_mock.MagicMock()
 
         future = asyncio.Future()
         future.set_result(mock_did)
 
         mock_submit.return_value = '{"op": "REQNACK", "reason": "a reason"}'
 
@@ -686,15 +682,14 @@
         mock_add_record,
         mock_check_existing,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_wallet = async_mock.MagicMock()
         self.session.context.injector.bind_provider(BaseWallet, mock_wallet)
         mock_is_ledger_read_only.return_value = False
 
         issuer = async_mock.MagicMock(IndyIssuer)
         issuer.create_schema.return_value = ("1", "{}")
         ledger = IndySdkLedger(IndySdkLedgerPool("name", checked=True), self.profile)
@@ -732,15 +727,14 @@
         self,
         mock_check_existing,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_wallet = async_mock.MagicMock()
         self.session.context.injector.bind_provider(BaseWallet, mock_wallet)
 
         issuer = async_mock.MagicMock(IndyIssuer)
         issuer.create_schema.return_value = ("1", "{}")
         ledger = IndySdkLedger(
             IndySdkLedgerPool("name", checked=True, read_only=True), self.profile
@@ -774,15 +768,14 @@
         mock_is_ledger_read_only,
         mock_check_existing,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_wallet = async_mock.MagicMock()
         self.session.context.injector.bind_provider(BaseWallet, mock_wallet)
         mock_is_ledger_read_only.return_value = False
 
         issuer = async_mock.MagicMock(IndyIssuer)
         issuer.create_schema = async_mock.CoroutineMock(
             side_effect=IndyIssuerError("dummy error")
@@ -819,15 +812,14 @@
         mock_add_record,
         mock_check_existing,
         mock_close_pool,
         mock_open_ledger,
         mock_create_config,
         mock_set_proto,
     ):
-
         mock_wallet = async_mock.MagicMock()
         self.session.context.injector.bind_provider(BaseWallet, mock_wallet)
 
         issuer = async_mock.MagicMock(IndyIssuer)
         issuer.create_schema.return_value = ("1", "{}")
         ledger = IndySdkLedger(IndySdkLedgerPool("name", checked=True), self.profile)
         ledger._submit = async_mock.CoroutineMock(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_indy_vdr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_indy_vdr.py`

 * *Files 0% similar despite different names*

```diff
@@ -24,15 +24,15 @@
     Role,
     VdrError,
 )
 
 
 @pytest.fixture()
 def ledger():
-    profile = InMemoryProfile.test_profile()
+    profile = InMemoryProfile.test_profile(bind={DIDMethods: DIDMethods()})
     ledger = IndyVdrLedger(IndyVdrLedgerPool("test-ledger"), profile)
 
     async def open():
         ledger.pool.handle = async_mock.MagicMock(indy_vdr.Pool)
 
     async def close():
         ledger.pool.handle = None
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_role.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_role.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/ledger/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/ledger/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -414,15 +414,14 @@
         }
 
         with async_mock.patch.object(
             ConnRecord, "retrieve_by_id", async_mock.AsyncMock()
         ) as mock_conn_rec_retrieve, async_mock.patch.object(
             test_module, "TransactionManager", async_mock.MagicMock()
         ) as mock_txn_mgr:
-
             mock_txn_mgr.return_value = async_mock.MagicMock(
                 create_record=async_mock.AsyncMock(
                     side_effect=test_module.StorageError()
                 )
             )
             mock_conn_rec_retrieve.return_value = async_mock.MagicMock(
                 metadata_get=async_mock.AsyncMock(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/agent_message.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/agent_message.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/base_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/base_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/base_message.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/base_message.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -154,15 +154,14 @@
         }
 
         with async_mock.patch.object(
             ConnRecord, "retrieve_by_id", async_mock.CoroutineMock()
         ) as mock_conn_rec_retrieve, async_mock.patch.object(
             test_module, "TransactionManager", async_mock.MagicMock()
         ) as mock_txn_mgr:
-
             mock_conn_rec_retrieve.return_value = async_mock.MagicMock(
                 metadata_get=async_mock.CoroutineMock(
                     return_value={
                         "endorser_did": ("did"),
                         "endorser_name": ("name"),
                     }
                 )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/credential_definitions/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/credential_definitions/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/attach_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/attach_decorator.py`

 * *Files 2% similar despite different names*

```diff
@@ -26,14 +26,15 @@
 )
 from ...wallet.key_type import ED25519
 from ...did.did_key import DIDKey
 from ..models.base import BaseModel, BaseModelError, BaseModelSchema
 from ..valid import (
     BASE64,
     BASE64URL_NO_PAD,
+    DictOrDictListField,
     INDY_ISO8601_DATETIME,
     JWS_HEADER_KID,
     SHA256,
     UUIDFour,
 )
 
 
@@ -224,15 +225,15 @@
     def __init__(
         self,
         *,
         jws_: AttachDecoratorDataJWS = None,
         sha256_: str = None,
         links_: Union[Sequence[str], str] = None,
         base64_: str = None,
-        json_: dict = None,
+        json_: Union[Sequence[dict], dict] = None,
     ):
         """
         Initialize decorator data.
 
         Specify content for one of:
 
             - `base64_`
@@ -484,15 +485,15 @@
     )
     jws_ = fields.Nested(
         AttachDecoratorDataJWSSchema,
         description="Detached Java Web Signature",
         required=False,
         data_key="jws",
     )
-    json_ = fields.Dict(
+    json_ = DictOrDictListField(
         description="JSON-serialized data",
         required=False,
         example='{"sample": "content"}',
         data_key="json",
     )
     links_ = fields.List(
         fields.Str(example="https://link.to/data"),
@@ -611,15 +612,15 @@
                 base64_=bytes_to_b64(json.dumps(mapping).encode())
             ),
         )
 
     @classmethod
     def data_json(
         cls,
-        mapping: dict,
+        mapping: Union[Sequence[dict], dict],
         *,
         ident: str = None,
         description: str = None,
         filename: str = None,
         lastmod_time: str = None,
         byte_count: int = None,
     ):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/default.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/default.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/localization_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/localization_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/please_ack_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/please_ack_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/service_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/service_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/signature_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/signature_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_attach_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_attach_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_decorator_set.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_decorator_set.py`

 * *Files 2% similar despite different names*

```diff
@@ -29,52 +29,48 @@
 
 class TestDecoratorSet(TestCase):
     def test_deco_set(self):
         deco_set = DecoratorSet()
         assert all(k in deco_set.models for k in DEFAULT_MODELS)
 
     def test_extract(self):
-
         decor_value = {}
         message = {"~decorator": decor_value, "one": "TWO"}
 
         decors = BaseDecoratorSet()
         remain = decors.extract_decorators(message)
 
         # check original is unmodified
         assert "~decorator" in message
 
         assert decors["decorator"] is decor_value
         assert remain == {"one": "TWO"}
 
     def test_dict(self):
-
         decors = BaseDecoratorSet()
         decors["test"] = "TEST"
         assert decors["test"] == "TEST"
         result = decors.to_dict()
         assert result == {"~test": "TEST"}
 
     def test_decorator_model(self):
-
         decor_value = {}
         message = {"~test": {"value": "TEST"}}
 
         decors = BaseDecoratorSet()
         decors.add_model("test", SimpleModel)
         remain = decors.extract_decorators(message, SimpleModelSchema)
 
         tested = decors["test"]
         assert isinstance(tested, SimpleModel) and tested.value == "TEST"
 
         result = decors.to_dict()
         assert result == message
 
     def test_field_decorator(self):
-
         decor_value = {}
         message = {"test~decorator": decor_value, "one": "TWO"}
 
         decors = BaseDecoratorSet()
         remain = decors.extract_decorators(message, SimpleModelSchema)
 
         # check original is unmodified
@@ -82,15 +78,14 @@
 
         assert decors.field("test")
         assert decors.field("test")["decorator"] is decor_value
         assert remain == {"one": "TWO"}
         assert "test~decorator" in decors.to_dict()
 
     def test_skip_decorator(self):
-
         decor_value = {}
         message = {"handled~decorator": decor_value, "one": "TWO"}
 
         decors = BaseDecoratorSet()
         remain = decors.extract_decorators(message, SimpleModelSchema)
 
         # check original is unmodified
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_localization_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_localization_decorator.py`

 * *Files 7% similar despite different names*

```diff
@@ -1,14 +1,13 @@
 from ..localization_decorator import LocalizationDecorator
 
 from unittest import TestCase
 
 
 class TestThreadDecorator(TestCase):
-
     LOCALE = "en-ca"
     LOCALIZABLE = ["a", "b"]
     CATALOGS = ["http://192.168.56.111/my-project/catalog.json"]
 
     def test_init(self):
         decorator = LocalizationDecorator()
         assert decorator.locale is None
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_please_ack_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_please_ack_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_signature_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_signature_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_thread_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_thread_decorator.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,34 +1,31 @@
 from ..thread_decorator import ThreadDecorator
 
 from unittest import TestCase
 
 
 class TestThreadDecorator(TestCase):
-
     thread_id = "tid-001"
     parent_id = "tid-000"
     sender_order = 1
     received_orders = {"did": 2}
 
     def test_init(self):
-
         decorator = ThreadDecorator(
             thid=self.thread_id,
             pthid=self.parent_id,
             sender_order=self.sender_order,
             received_orders=self.received_orders,
         )
         assert decorator.thid == self.thread_id
         assert decorator.pthid == self.parent_id
         assert decorator.sender_order == self.sender_order
         assert decorator.received_orders == self.received_orders
 
     def test_serialize_load(self):
-
         decorator = ThreadDecorator(
             thid=self.thread_id,
             pthid=self.parent_id,
             sender_order=self.sender_order,
             received_orders=self.received_orders,
         )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_timing_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_timing_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_trace_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_trace_decorator.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,13 @@
 from ..trace_decorator import TraceDecorator, TraceReport, TRACE_MESSAGE_TARGET
 
 from unittest import TestCase
 
 
 class TestTraceDecorator(TestCase):
-
     target_api = "http://example.com/api/trace/"
     full_thread_api = False
     target_msg = TRACE_MESSAGE_TARGET
     full_thread_msg = True
 
     msg_id = "msg-001"
     thread_id = "thid-001"
@@ -16,24 +15,22 @@
     timestamp = "123456789.123456"
     str_time = "2018-03-27 18:23:45.123Z"
     handler = "agent name"
     ellapsed_milli = 27
     outcome = "OK ..."
 
     def test_init_api(self):
-
         decorator = TraceDecorator(
             target=self.target_api,
             full_thread=self.full_thread_api,
         )
         assert decorator.target == self.target_api
         assert decorator.full_thread == self.full_thread_api
 
     def test_init_message(self):
-
         x_msg_id = self.msg_id
         x_thread_id = self.thread_id
         x_trace_report = TraceReport(
             msg_id=x_msg_id,
             thread_id=x_thread_id,
             traced_type=self.traced_type,
             timestamp=self.timestamp,
@@ -60,15 +57,14 @@
         assert trace_report.timestamp == self.timestamp
         assert trace_report.str_time == self.str_time
         assert trace_report.handler == self.handler
         assert trace_report.ellapsed_milli == self.ellapsed_milli
         assert trace_report.outcome == self.outcome
 
     def test_serialize_load(self):
-
         x_msg_id = self.msg_id
         x_thread_id = self.thread_id
         x_trace_report = TraceReport(
             msg_id=x_msg_id,
             thread_id=x_thread_id,
             traced_type=self.traced_type,
             timestamp=self.timestamp,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/tests/test_transport_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/tests/test_transport_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/thread_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/thread_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/timing_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/timing_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/trace_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/trace_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/decorators/transport_decorator.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/decorators/transport_decorator.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/create_verify_data.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/create_verify_data.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/credential.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/credential.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/error.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/error.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/routes.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,15 +1,14 @@
 """jsonld admin routes."""
 
 from aiohttp import web
 from aiohttp_apispec import docs, request_schema, response_schema
 from marshmallow import INCLUDE, Schema, fields
 from pydid.verification_method import (
     Ed25519VerificationKey2018,
-    KnownVerificationMethods,
 )
 
 from ...admin.request_context import AdminRequestContext
 from ...config.base import InjectionError
 from ...resolver.base import ResolverError
 from ...resolver.did_resolver import DIDResolver
 from ...wallet.error import WalletError
@@ -81,15 +80,15 @@
     try:
         context: AdminRequestContext = request["context"]
         async with context.session() as session:
             doc_with_proof = await sign_credential(
                 session, doc.get("credential"), doc.get("options"), body.get("verkey")
             )
             response["signed_doc"] = doc_with_proof
-    except (BaseJSONLDMessagingError) as err:
+    except BaseJSONLDMessagingError as err:
         response["error"] = str(err)
     except (WalletError, InjectionError):
         raise web.HTTPForbidden(reason="No wallet available")
     return web.json_response(response)
 
 
 class SignedDocSchema(OpenAPISchema):
@@ -144,15 +143,14 @@
         doc = body.get("doc")
         async with context.session() as session:
             if verkey is None:
                 resolver = session.inject(DIDResolver)
                 vmethod = await resolver.dereference(
                     profile,
                     doc["proof"]["verificationMethod"],
-                    cls=KnownVerificationMethods,
                 )
 
                 if not isinstance(vmethod, SUPPORTED_VERIFICATION_METHOD_TYPES):
                     raise web.HTTPBadRequest(
                         reason="{} is not supported".format(vmethod.type)
                     )
                 verkey = vmethod.material
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/document_loader.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/document_loader.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/test_credential.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/test_credential.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/jsonld/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/jsonld/tests/test_routes.py`

 * *Files 1% similar despite different names*

```diff
@@ -10,15 +10,15 @@
 from .. import routes as test_module
 from ....admin.request_context import AdminRequestContext
 from ....config.base import InjectionError
 from ....resolver.base import DIDMethodNotSupported, DIDNotFound, ResolverError
 from ....resolver.did_resolver import DIDResolver
 from ....vc.ld_proofs.document_loader import DocumentLoader
 from ....wallet.base import BaseWallet
-from ....wallet.did_method import SOV
+from ....wallet.did_method import SOV, DIDMethods
 from ....wallet.error import WalletError
 from ....wallet.key_type import ED25519
 from ..error import (
     BadJWSHeaderError,
     DroppedAttributeError,
     MissingVerificationMethodError,
 )
@@ -230,30 +230,30 @@
     mock_resolver, mock_verify_request, mock_response
 ):
     mock_resolver.dereference = async_mock.CoroutineMock(side_effect=ResolverError)
     await test_module.verify(mock_verify_request())
     assert "error" in mock_response.call_args[0][0]
 
 
-@pytest.mark.asyncio
-async def test_verify_bad_ver_meth_not_ver_meth(
-    mock_resolver, mock_verify_request, mock_response, request_body
-):
-    request_body["doc"]["proof"][
-        "verificationMethod"
-    ] = "did:example:1234abcd#did-communication"
-    await test_module.verify(mock_verify_request(request_body))
-    assert "error" in mock_response.call_args[0][0]
-
-
+@pytest.mark.parametrize(
+    "vmethod",
+    [
+        "did:example:1234abcd#key-2",
+        "did:example:1234abcd#did-communication",
+    ],
+)
 @pytest.mark.asyncio
 async def test_verify_bad_vmethod_unsupported(
-    mock_resolver, mock_verify_request, mock_response, request_body
+    mock_resolver,
+    mock_verify_request,
+    mock_response,
+    request_body,
+    vmethod,
 ):
-    request_body["doc"]["proof"]["verificationMethod"] = "did:example:1234abcd#key-2"
+    request_body["doc"]["proof"]["verificationMethod"] = vmethod
     with pytest.raises(web.HTTPBadRequest):
         await test_module.verify(mock_verify_request(request_body))
 
 
 @pytest.mark.asyncio
 async def test_register():
     mock_app = async_mock.MagicMock()
@@ -270,14 +270,15 @@
 
 class TestJSONLDRoutes(AsyncTestCase):
     async def setUp(self):
         self.context = AdminRequestContext.test_context()
         self.context.profile.context.injector.bind_instance(
             DocumentLoader, custom_document_loader
         )
+        self.context.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
         self.did_info = await (await self.context.session()).wallet.create_local_did(
             SOV, ED25519
         )
         self.request_dict = {
             "context": self.context,
             "outbound_message_router": async_mock.CoroutineMock(),
         }
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/base_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/base_record.py`

 * *Files 2% similar despite different names*

```diff
@@ -77,14 +77,15 @@
     DEFAULT_CACHE_TTL = 60
     RECORD_ID_NAME = "id"
     RECORD_TYPE = None
     RECORD_TOPIC: Optional[str] = None
     EVENT_NAMESPACE: str = "acapy::record"
     LOG_STATE_FLAG = None
     TAG_NAMES = {"state"}
+    STATE_DELETED = "deleted"
 
     def __init__(
         self,
         id: str = None,
         state: str = None,
         *,
         created_at: Union[str, datetime] = None,
@@ -416,15 +417,15 @@
             session: The profile session to use
         """
 
         if self._id:
             storage = session.inject(BaseStorage)
             if self.state:
                 self._previous_state = self.state
-                self.state = "deleted"
+                self.state = BaseRecord.STATE_DELETED
                 await self.emit_event(session, self.serialize())
             await storage.delete_record(self.storage_record)
 
     async def emit_event(self, session: ProfileSession, payload: Any = None):
         """
         Emit an event.
 
@@ -493,14 +494,32 @@
     def __eq__(self, other: Any) -> bool:
         """Comparison between records."""
 
         if type(other) is type(self):
             return self.value == other.value and self.tags == other.tags
         return False
 
+    @classmethod
+    def get_attributes_by_prefix(cls, prefix: str, walk_mro: bool = True):
+        """
+        List all values for attributes with common prefix.
+
+        Args:
+            prefix: Common prefix to look for
+            walk_mro: Walk MRO to find attributes inherited from superclasses
+        """
+
+        bases = cls.__mro__ if walk_mro else [cls]
+        return [
+            vars(base)[name]
+            for base in bases
+            for name in vars(base)
+            if name.startswith(prefix)
+        ]
+
 
 class BaseExchangeRecord(BaseRecord):
     """Represents a base record with event tracing capability."""
 
     def __init__(
         self,
         id: str = None,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/tests/test_base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/tests/test_base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/models/tests/test_base_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/models/tests/test_base_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/request_context.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/request_context.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/responder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/responder.py`

 * *Files 20% similar despite different names*

```diff
@@ -1,25 +1,37 @@
 """
 A message responder.
 
 The responder is provided to message handlers to enable them to send a new message
 in response to the message being handled.
 """
+import asyncio
+import json
 
 from abc import ABC, abstractmethod
-import json
-from typing import Sequence, Union
+from typing import Sequence, Union, Optional, Tuple
 
+from ..cache.base import BaseCache
 from ..connections.models.connection_target import ConnectionTarget
+from ..connections.models.conn_record import ConnRecord
 from ..core.error import BaseError
+from ..core.profile import Profile
 from ..transport.outbound.message import OutboundMessage
 
 from .base_message import BaseMessage
 from ..transport.outbound.status import OutboundSendStatus
 
+SKIP_ACTIVE_CONN_CHECK_MSG_TYPES = [
+    "didexchange/1.0/request",
+    "didexchange/1.0/response",
+    "connections/1.0/invitation",
+    "connections/1.0/request",
+    "connections/1.0/response",
+]
+
 
 class ResponderError(BaseError):
     """Responder error."""
 
 
 class BaseResponder(ABC):
     """Interface for message handlers to send responses."""
@@ -75,15 +87,26 @@
         )
 
     async def send(
         self, message: Union[BaseMessage, str, bytes], **kwargs
     ) -> OutboundSendStatus:
         """Convert a message to an OutboundMessage and send it."""
         outbound = await self.create_outbound(message, **kwargs)
-        return await self.send_outbound(outbound)
+        if isinstance(message, BaseMessage):
+            msg_type = message._message_type
+            msg_id = message._id
+        else:
+            msg_dict = json.loads(message)
+            msg_type = msg_dict.get("@type")
+            msg_id = msg_dict.get("@id")
+        return await self.send_outbound(
+            message=outbound,
+            message_type=msg_type,
+            message_id=msg_id,
+        )
 
     async def send_reply(
         self,
         message: Union[BaseMessage, str, bytes],
         *,
         connection_id: str = None,
         target: ConnectionTarget = None,
@@ -105,18 +128,67 @@
             message,
             connection_id=connection_id or self.connection_id,
             reply_session_id=self.reply_session_id,
             reply_to_verkey=self.reply_to_verkey,
             target=target,
             target_list=target_list,
         )
-        return await self.send_outbound(outbound)
+        if isinstance(message, BaseMessage):
+            msg_type = message._message_type
+            msg_id = message._id
+        else:
+            msg_dict = json.loads(message)
+            msg_type = msg_dict.get("@type")
+            msg_id = msg_dict.get("@id")
+        return await self.send_outbound(
+            message=outbound, message_type=msg_type, message_id=msg_id
+        )
+
+    async def conn_rec_active_state_check(
+        self, profile: Profile, connection_id: str, timeout: int = 7
+    ) -> bool:
+        """Check if the connection record is ready for sending outbound message."""
+
+        async def _wait_for_state() -> Tuple[bool, Optional[str]]:
+            while True:
+                async with profile.session() as session:
+                    conn_record = await ConnRecord.retrieve_by_id(
+                        session, connection_id
+                    )
+                    if conn_record.is_ready:
+                        # if ConnRecord.State.get(conn_record.state) in (
+                        #     ConnRecord.State.COMPLETED,
+                        # ):
+                        return (True, conn_record.state)
+                    await asyncio.sleep(1)
+
+        try:
+            cache_key = f"conn_rec_state::{connection_id}"
+            connection_state = None
+            cache = profile.inject_or(BaseCache)
+            if cache:
+                connection_state = await cache.get(cache_key)
+            if connection_state and ConnRecord.State.get(connection_state) in (
+                ConnRecord.State.COMPLETED,
+                ConnRecord.State.RESPONSE,
+            ):
+                return True
+            check_flag, connection_state = await asyncio.wait_for(
+                _wait_for_state(), timeout
+            )
+            if cache and connection_state:
+                await cache.set(cache_key, connection_state)
+            return check_flag
+        except asyncio.TimeoutError:
+            return False
 
     @abstractmethod
-    async def send_outbound(self, message: OutboundMessage) -> OutboundSendStatus:
+    async def send_outbound(
+        self, message: OutboundMessage, **kwargs
+    ) -> OutboundSendStatus:
         """
         Send an outbound message.
 
         Args:
             message: The `OutboundMessage` to be sent
         """
 
@@ -148,15 +220,17 @@
     async def send_reply(
         self, message: Union[BaseMessage, str, bytes], **kwargs
     ) -> OutboundSendStatus:
         """Send a reply to an incoming message."""
         self.messages.append((message, kwargs))
         return OutboundSendStatus.QUEUED_FOR_DELIVERY
 
-    async def send_outbound(self, message: OutboundMessage) -> OutboundSendStatus:
+    async def send_outbound(
+        self, message: OutboundMessage, **kwargs
+    ) -> OutboundSendStatus:
         """Send an outbound message."""
         self.messages.append((message, None))
         return OutboundSendStatus.QUEUED_FOR_DELIVERY
 
     async def send_webhook(self, topic: str, payload: dict):
         """Send an outbound message."""
         raise Exception(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -153,15 +153,14 @@
         }
 
         with async_mock.patch.object(
             ConnRecord, "retrieve_by_id", async_mock.CoroutineMock()
         ) as mock_conn_rec_retrieve, async_mock.patch.object(
             test_module, "TransactionManager", async_mock.MagicMock()
         ) as mock_txn_mgr:
-
             mock_txn_mgr.return_value = async_mock.MagicMock(
                 create_record=async_mock.CoroutineMock(
                     side_effect=test_module.StorageError()
                 )
             )
             mock_conn_rec_retrieve.return_value = async_mock.MagicMock(
                 metadata_get=async_mock.CoroutineMock(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/schemas/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/schemas/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/test_agent_message.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/test_agent_message.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/test_util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/test_util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/tests/test_valid.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/tests/test_valid.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/messaging/valid.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/messaging/valid.py`

 * *Files 2% similar despite different names*

```diff
@@ -19,68 +19,49 @@
 
 EXAMPLE_TIMESTAMP = 1640995199  # 2021-12-31 23:59:59Z
 
 
 class StrOrDictField(Field):
     """URI or Dict field for Marshmallow."""
 
-    def _serialize(self, value, attr, obj, **kwargs):
-        return value
-
     def _deserialize(self, value, attr, data, **kwargs):
-        if isinstance(value, (str, dict)):
-            return value
-        else:
+        if not isinstance(value, (str, dict)):
             raise ValidationError("Field should be str or dict")
+        return super()._deserialize(value, attr, data, **kwargs)
 
 
 class StrOrNumberField(Field):
     """String or Number field for Marshmallow."""
 
-    def _serialize(self, value, attr, obj, **kwargs):
-        return value
-
     def _deserialize(self, value, attr, data, **kwargs):
-        if isinstance(value, (str, float, int)):
-            return value
-        else:
+        if not isinstance(value, (str, float, int)):
             raise ValidationError("Field should be str or int or float")
+        return super()._deserialize(value, attr, data, **kwargs)
 
 
 class DictOrDictListField(Field):
     """Dict or Dict List field for Marshmallow."""
 
-    def _serialize(self, value, attr, obj, **kwargs):
-        return value
-
     def _deserialize(self, value, attr, data, **kwargs):
-        # dict
-        if isinstance(value, dict):
-            return value
-        # list of dicts
-        elif isinstance(value, list) and all(isinstance(item, dict) for item in value):
-            return value
-        else:
-            raise ValidationError("Field should be dict or list of dicts")
+        if not isinstance(value, dict):
+            if not isinstance(value, list) or not all(
+                isinstance(item, dict) for item in value
+            ):
+                raise ValidationError("Field should be dict or list of dicts")
+        return super()._deserialize(value, attr, data, **kwargs)
 
 
 class UriOrDictField(StrOrDictField):
     """URI or Dict field for Marshmallow."""
 
-    def __init__(self, *args, **kwargs):
-        """Initialize new UriOrDictField instance."""
-        super().__init__(*args, **kwargs)
-
-        # Insert validation into self.validators so that multiple errors can be stored.
-        self.validators.insert(0, self._uri_validator)
-
-    def _uri_validator(self, value):
-        # Check if URI when
+    def _deserialize(self, value, attr, data, **kwargs):
         if isinstance(value, str):
-            return Uri()(value)
+            # Check regex
+            Uri()(value)
+        return super()._deserialize(value, attr, data, **kwargs)
 
 
 class IntEpoch(Range):
     """Validate value against (integer) epoch format."""
 
     EXAMPLE = EXAMPLE_TIMESTAMP
 
@@ -771,15 +752,15 @@
             if "id" in subject:
                 uri_validator = Uri()
                 try:
                     uri_validator(value["id"])
                 except ValidationError:
                     raise ValidationError(
                         f"credential subject id {value[0]} must be URI"
-                    )
+                    ) from None
 
         return value
 
 
 class IndyOrKeyDID(Regexp):
     """Indy or Key DID class."""
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/admin/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/admin/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/askar_profile_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/askar_profile_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/base.py`

 * *Files 1% similar despite different names*

```diff
@@ -195,15 +195,15 @@
 
             # subwallet context
             async with profile.session() as session:
                 wallet = session.inject(BaseWallet)
                 public_did_info = await wallet.get_public_did()
 
             if public_did_info:
-                await profile.inject(RouteManager).route_public_did(
+                await profile.inject(RouteManager).route_verkey(
                     profile, public_did_info.verkey
                 )
         except Exception:
             await wallet_record.delete_record(session)
             raise
 
         return wallet_record
@@ -374,15 +374,15 @@
             routing_record = await routing_mgr.get_recipient(recipient_key)
             async with self._profile.session() as session:
                 wallet = await WalletRecord.retrieve_by_id(
                     session, routing_record.wallet_id
                 )
 
             return wallet
-        except (RouteNotFoundError):
+        except RouteNotFoundError:
             pass
 
     async def get_profile_for_key(
         self, context: InjectionContext, recipient_key: str
     ) -> Optional[Profile]:
         """Retrieve a wallet profile by recipient key."""
         wallet = await self._get_wallet_by_key(recipient_key)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/cache.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/cache.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/manager_provider.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/manager_provider.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/route_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/route_manager.py`

 * *Files 6% similar despite different names*

```diff
@@ -62,31 +62,40 @@
         if skip_if_exists:
             try:
                 async with self.root_profile.session() as session:
                     await RouteRecord.retrieve_by_recipient_key(session, recipient_key)
 
                 # If no error is thrown, it means there is already a record
                 return None
-            except (StorageNotFoundError):
+            except StorageNotFoundError:
                 pass
 
         await routing_mgr.create_route_record(
             recipient_key=recipient_key, internal_wallet_id=wallet_id
         )
 
         # External mediation
         keylist_updates = None
         if mediation_record:
             keylist_updates = await mediation_mgr.add_key(recipient_key)
             if replace_key:
                 keylist_updates = await mediation_mgr.remove_key(
                     replace_key, keylist_updates
                 )
-
-            responder = self.root_profile.inject(BaseResponder)
+            # in order to locate the correct verkey for message packing we need
+            # to use the correct profile.
+            # if we are using default/base mediation then we need
+            # the root_profile to create the responder.
+            # if sub-wallets are configuring their own mediation, then
+            # we need the sub-wallet (profile) to create the responder.
+            responder = (
+                self.root_profile.inject(BaseResponder)
+                if base_mediation_record
+                else profile.inject(BaseResponder)
+            )
             await responder.send(
                 keylist_updates, connection_id=mediation_record.connection_id
             )
 
         return keylist_updates
 
     async def routing_info(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_askar_profile_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_askar_profile_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_base.py`

 * *Files 0% similar despite different names*

```diff
@@ -205,17 +205,16 @@
                 msg="Wallet with name test_wallet already exists",
             ):
                 await self.manager.create_wallet(
                     {"wallet.name": "test_wallet"}, WalletRecord.MODE_MANAGED
                 )
 
     async def test_create_wallet_saves_wallet_record_creates_profile(self):
-
         mock_route_manager = async_mock.MagicMock()
-        mock_route_manager.route_public_did = async_mock.CoroutineMock()
+        mock_route_manager.route_verkey = async_mock.CoroutineMock()
         self.context.injector.bind_instance(RouteManager, mock_route_manager)
 
         with async_mock.patch.object(
             WalletRecord, "save"
         ) as wallet_record_save, async_mock.patch.object(
             self.manager, "get_wallet_profile"
         ) as get_wallet_profile:
@@ -229,15 +228,15 @@
             wallet_record_save.assert_called_once()
             get_wallet_profile.assert_called_once_with(
                 self.profile.context,
                 wallet_record,
                 {"wallet.key": "test_key"},
                 provision=True,
             )
-            mock_route_manager.route_public_did.assert_not_called()
+            mock_route_manager.route_verkey.assert_not_called()
             assert isinstance(wallet_record, WalletRecord)
             assert wallet_record.wallet_name == "test_wallet"
             assert wallet_record.key_management_mode == WalletRecord.MODE_MANAGED
             assert wallet_record.wallet_key == "test_key"
 
     async def test_create_wallet_adds_wallet_route(self):
         did_info = DIDInfo(
@@ -245,15 +244,15 @@
             verkey="test_verkey",
             metadata={"meta": "data"},
             method=SOV,
             key_type=ED25519,
         )
 
         mock_route_manager = async_mock.MagicMock()
-        mock_route_manager.route_public_did = async_mock.CoroutineMock()
+        mock_route_manager.route_verkey = async_mock.CoroutineMock()
 
         with async_mock.patch.object(
             WalletRecord, "save"
         ) as wallet_record_save, async_mock.patch.object(
             self.manager, "get_wallet_profile"
         ) as get_wallet_profile, async_mock.patch.object(
             InMemoryWallet, "get_public_did"
@@ -264,15 +263,15 @@
             get_public_did.return_value = did_info
 
             wallet_record = await self.manager.create_wallet(
                 {"wallet.name": "test_wallet", "wallet.key": "test_key"},
                 WalletRecord.MODE_MANAGED,
             )
 
-            mock_route_manager.route_public_did.assert_called_once_with(
+            mock_route_manager.route_verkey.assert_called_once_with(
                 get_wallet_profile.return_value, did_info.verkey
             )
 
             wallet_record_save.assert_called_once()
             get_wallet_profile.assert_called_once_with(
                 self.profile.context,
                 wallet_record,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_cache.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_cache.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_manager_provider.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_manager_provider.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/multitenant/tests/test_route_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/multitenant/tests/test_route_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/base_service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/base_service.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/controller.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/controller.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/driver_service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/driver_service.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/menu_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/perform_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/perform_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_menu_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_perform_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/handlers/tests/test_perform_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/menu_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/perform.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/perform.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_menu_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_perform.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/messages/tests/test_perform.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form_param.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_form_param.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_option.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/models/menu_option.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_controller.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_controller.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_routes.py`

 * *Files 1% similar despite different names*

```diff
@@ -74,15 +74,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Perform", autospec=True
         ) as mock_perform, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock()
 
             res = await test_module.actionmenu_perform(self.request)
             mock_response.assert_called_once_with({})
             self.request["outbound_message_router"].assert_called_once_with(
                 mock_perform.return_value,
                 connection_id=self.request.match_info["conn_id"],
@@ -93,15 +92,14 @@
         self.request.match_info = {"conn_id": "dummy"}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Perform", autospec=True
         ) as mock_perform:
-
             # Emulate storage not found (bad connection id)
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
 
             with self.assertRaises(test_module.web.HTTPNotFound):
                 await test_module.actionmenu_perform(self.request)
@@ -111,15 +109,14 @@
         self.request.match_info = {"conn_id": "dummy"}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Perform", autospec=True
         ) as mock_perform:
-
             # Emulate connection not ready
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_record.retrieve_by_id.return_value.is_ready = False
 
             with self.assertRaises(test_module.web.HTTPForbidden):
                 await test_module.actionmenu_perform(self.request)
 
@@ -130,15 +127,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "MenuRequest", autospec=True
         ) as menu_request, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock()
 
             res = await test_module.actionmenu_request(self.request)
             mock_response.assert_called_once_with({})
             self.request["outbound_message_router"].assert_called_once_with(
                 menu_request.return_value,
                 connection_id=self.request.match_info["conn_id"],
@@ -149,15 +145,14 @@
         self.request.match_info = {"conn_id": "dummy"}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Perform", autospec=True
         ) as mock_perform:
-
             # Emulate storage not found (bad connection id)
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
 
             with self.assertRaises(test_module.web.HTTPNotFound):
                 await test_module.actionmenu_request(self.request)
@@ -167,15 +162,14 @@
         self.request.match_info = {"conn_id": "dummy"}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Perform", autospec=True
         ) as mock_perform:
-
             # Emulate connection not ready
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_record.retrieve_by_id.return_value.is_ready = False
 
             with self.assertRaises(test_module.web.HTTPForbidden):
                 await test_module.actionmenu_request(self.request)
 
@@ -186,15 +180,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Menu", autospec=True
         ) as mock_menu, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_menu.deserialize = async_mock.MagicMock()
 
             res = await test_module.actionmenu_send(self.request)
             mock_response.assert_called_once_with({})
             self.request["outbound_message_router"].assert_called_once_with(
                 mock_menu.deserialize.return_value,
@@ -206,15 +199,14 @@
         self.request.match_info = {"conn_id": "dummy"}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Menu", autospec=True
         ) as mock_menu:
-
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_menu.deserialize = async_mock.MagicMock(
                 side_effect=test_module.BaseModelError("cannot deserialize")
             )
 
             with self.assertRaises(test_module.web.HTTPBadRequest):
                 await test_module.actionmenu_send(self.request)
@@ -224,15 +216,14 @@
         self.request.match_info = {"conn_id": "dummy"}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Menu", autospec=True
         ) as mock_menu:
-
             mock_menu.deserialize = async_mock.MagicMock()
 
             # Emulate storage not found (bad connection id)
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
 
@@ -244,15 +235,14 @@
         self.request.match_info = {"conn_id": "dummy"}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_record, async_mock.patch.object(
             test_module, "Menu", autospec=True
         ) as mock_menu:
-
             mock_menu.deserialize = async_mock.MagicMock()
 
             # Emulate connection not ready
             mock_conn_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_record.retrieve_by_id.return_value.is_ready = False
 
             with self.assertRaises(test_module.web.HTTPForbidden):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_service.py`

 * *Files 1% similar despite different names*

```diff
@@ -13,16 +13,16 @@
         self.session = InMemoryProfile.test_session()
         self.context = RequestContext(self.session.profile)
 
     async def test_get_active_menu(self):
         mock_event_bus = MockEventBus()
         self.context.profile.context.injector.bind_instance(EventBus, mock_event_bus)
 
-        self.menu_service = await (
-            test_module.DriverMenuService.service_handler()(self.context)
+        self.menu_service = await test_module.DriverMenuService.service_handler()(
+            self.context
         )
 
         connection = async_mock.MagicMock()
         connection.connection_id = "connid"
         thread_id = "thid"
 
         await self.menu_service.get_active_menu(
@@ -37,16 +37,16 @@
             "thread_id": thread_id,
         }
 
     async def test_perform_menu_action(self):
         mock_event_bus = MockEventBus()
         self.context.profile.context.injector.bind_instance(EventBus, mock_event_bus)
 
-        self.menu_service = await (
-            test_module.DriverMenuService.service_handler()(self.context)
+        self.menu_service = await test_module.DriverMenuService.service_handler()(
+            self.context
         )
 
         action_name = "action"
         action_params = {"a": 1, "b": 2}
         connection = async_mock.MagicMock()
         connection.connection_id = "connid"
         thread_id = "thid"
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/tests/test_util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/actionmenu/v1_0/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/actionmenu/v1_0/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/basicmessage_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/basicmessage_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/test_basicmessage_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/handlers/tests/test_basicmessage_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/basicmessage.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/basicmessage.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/test_basic_message.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/messages/tests/test_basic_message.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/basicmessage/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/basicmessage/v1_0/tests/test_routes.py`

 * *Files 2% similar despite different names*

```diff
@@ -30,15 +30,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_connection_record, async_mock.patch.object(
             test_module, "BasicMessage", autospec=True
         ) as mock_basic_message, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock()
 
             res = await test_module.connections_send_message(self.request)
             mock_response.assert_called_once_with({})
             mock_basic_message.assert_called_once()
 
     async def test_connections_send_message_no_conn_record(self):
@@ -46,15 +45,14 @@
         self.request.match_info = {"conn_id": self.test_conn_id}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_connection_record, async_mock.patch.object(
             test_module, "BasicMessage", autospec=True
         ) as mock_basic_message:
-
             # Emulate storage not found (bad connection id)
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
 
             with self.assertRaises(test_module.web.HTTPNotFound):
                 await test_module.connections_send_message(self.request)
@@ -64,15 +62,14 @@
         self.request.match_info = {"conn_id": self.test_conn_id}
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_connection_record, async_mock.patch.object(
             test_module, "BasicMessage", autospec=True
         ) as mock_basic_message:
-
             # Emulate connection not ready
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_connection_record.retrieve_by_id.return_value.is_ready = False
 
             await test_module.connections_send_message(self.request)
             mock_basic_message.assert_not_called()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/connection_invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/connection_invitation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/connection_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/connection_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/connection_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/connection_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_invitation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/handlers/tests/test_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -123,113 +123,120 @@
         # mediation id passed and no default
         mediation_record = await self._route_manager.mediation_record_if_id(
             self.profile,
             mediation_id,
             or_default=True,
         )
         image_url = self.profile.context.settings.get("image_url")
+        invitation = None
+        connection = None
+
+        invitation_mode = ConnRecord.INVITATION_MODE_ONCE
+        if multi_use:
+            invitation_mode = ConnRecord.INVITATION_MODE_MULTI
 
         if not my_label:
             my_label = self.profile.settings.get("default_label")
 
+        accept = (
+            ConnRecord.ACCEPT_AUTO
+            if (
+                auto_accept
+                or (
+                    auto_accept is None
+                    and self.profile.settings.get("debug.auto_accept_requests")
+                )
+            )
+            else ConnRecord.ACCEPT_MANUAL
+        )
+
+        if recipient_keys:
+            # TODO: register recipient keys for relay
+            # TODO: check that recipient keys are in wallet
+            invitation_key = recipient_keys[0]  # TODO first key appropriate?
+        else:
+            # Create and store new invitation key
+            async with self.profile.session() as session:
+                wallet = session.inject(BaseWallet)
+                invitation_signing_key = await wallet.create_signing_key(
+                    key_type=ED25519
+                )
+            invitation_key = invitation_signing_key.verkey
+            recipient_keys = [invitation_key]
+
         if public:
             if not self.profile.settings.get("public_invites"):
                 raise ConnectionManagerError("Public invitations are not enabled")
 
             async with self.profile.session() as session:
                 wallet = session.inject(BaseWallet)
                 public_did = await wallet.get_public_did()
             if not public_did:
                 raise ConnectionManagerError(
                     "Cannot create public invitation with no public DID"
                 )
 
-            if multi_use:
-                raise ConnectionManagerError(
-                    "Cannot use public and multi_use at the same time"
-                )
-
-            if metadata:
-                raise ConnectionManagerError(
-                    "Cannot use public and set metadata at the same time"
-                )
-
             # FIXME - allow ledger instance to format public DID with prefix?
             invitation = ConnectionInvitation(
                 label=my_label, did=f"did:sov:{public_did.did}", image_url=image_url
             )
 
-            # Add mapping for multitenant relaying.
-            # Mediation of public keys is not supported yet
-            await self._route_manager.route_public_did(self.profile, public_did.verkey)
+            connection = ConnRecord(  # create connection record
+                invitation_key=public_did.verkey,
+                invitation_msg_id=invitation._id,
+                invitation_mode=invitation_mode,
+                their_role=ConnRecord.Role.REQUESTER.rfc23,
+                state=ConnRecord.State.INVITATION.rfc23,
+                accept=accept,
+                alias=alias,
+                connection_protocol=CONN_PROTO,
+            )
 
-            return None, invitation
+            async with self.profile.session() as session:
+                await connection.save(session, reason="Created new invitation")
 
-        invitation_mode = ConnRecord.INVITATION_MODE_ONCE
-        if multi_use:
-            invitation_mode = ConnRecord.INVITATION_MODE_MULTI
+            # Add mapping for multitenant relaying.
+            # Mediation of public keys is not supported yet
+            await self._route_manager.route_verkey(self.profile, public_did.verkey)
 
-        if recipient_keys:
-            # TODO: register recipient keys for relay
-            # TODO: check that recipient keys are in wallet
-            invitation_key = recipient_keys[0]  # TODO first key appropriate?
         else:
-            # Create and store new invitation key
-            async with self.profile.session() as session:
-                wallet = session.inject(BaseWallet)
-                invitation_signing_key = await wallet.create_signing_key(
-                    key_type=ED25519
-                )
-            invitation_key = invitation_signing_key.verkey
-            recipient_keys = [invitation_key]
-
-        accept = (
-            ConnRecord.ACCEPT_AUTO
-            if (
-                auto_accept
-                or (
-                    auto_accept is None
-                    and self.profile.settings.get("debug.auto_accept_requests")
-                )
+            # Create connection record
+            connection = ConnRecord(
+                invitation_key=invitation_key,  # TODO: determine correct key to use
+                their_role=ConnRecord.Role.REQUESTER.rfc160,
+                state=ConnRecord.State.INVITATION.rfc160,
+                accept=accept,
+                invitation_mode=invitation_mode,
+                alias=alias,
+                connection_protocol=CONN_PROTO,
+            )
+            async with self.profile.session() as session:
+                await connection.save(session, reason="Created new invitation")
+
+            await self._route_manager.route_invitation(
+                self.profile, connection, mediation_record
+            )
+            routing_keys, my_endpoint = await self._route_manager.routing_info(
+                self.profile,
+                my_endpoint or cast(str, self.profile.settings.get("default_endpoint")),
+                mediation_record,
+            )
+
+            # Create connection invitation message
+            # Note: Need to split this into two stages
+            # to support inbound routing of invites
+            # Would want to reuse create_did_document and convert the result
+            invitation = ConnectionInvitation(
+                label=my_label,
+                recipient_keys=recipient_keys,
+                routing_keys=routing_keys,
+                endpoint=my_endpoint,
+                image_url=image_url,
             )
-            else ConnRecord.ACCEPT_MANUAL
-        )
-
-        # Create connection record
-        connection = ConnRecord(
-            invitation_key=invitation_key,  # TODO: determine correct key to use
-            their_role=ConnRecord.Role.REQUESTER.rfc160,
-            state=ConnRecord.State.INVITATION.rfc160,
-            accept=accept,
-            invitation_mode=invitation_mode,
-            alias=alias,
-            connection_protocol=CONN_PROTO,
-        )
-        async with self.profile.session() as session:
-            await connection.save(session, reason="Created new invitation")
 
-        await self._route_manager.route_invitation(
-            self.profile, connection, mediation_record
-        )
-        routing_keys, my_endpoint = await self._route_manager.routing_info(
-            self.profile,
-            my_endpoint or cast(str, self.profile.settings.get("default_endpoint")),
-            mediation_record,
-        )
-
-        # Create connection invitation message
-        # Note: Need to split this into two stages to support inbound routing of invites
-        # Would want to reuse create_did_document and convert the result
-        invitation = ConnectionInvitation(
-            label=my_label,
-            recipient_keys=recipient_keys,
-            routing_keys=routing_keys,
-            endpoint=my_endpoint,
-            image_url=image_url,
-        )
         async with self.profile.session() as session:
             await connection.attach_invitation(session, invitation)
 
             if metadata:
                 for key, value in metadata.items():
                     await connection.metadata_set(session, key, value)
 
@@ -468,25 +475,26 @@
                 async with self.profile.session() as session:
                     wallet = session.inject(BaseWallet)
                     my_info = await wallet.create_local_did(SOV, ED25519)
 
                 new_connection = ConnRecord(
                     invitation_key=connection_key,
                     my_did=my_info.did,
-                    state=ConnRecord.State.INVITATION.rfc160,
+                    state=ConnRecord.State.REQUEST.rfc160,
                     accept=connection.accept,
                     their_role=connection.their_role,
                     connection_protocol=CONN_PROTO,
                 )
                 async with self.profile.session() as session:
                     await new_connection.save(
                         session,
                         reason=(
                             "Received connection request from multi-use invitation DID"
                         ),
+                        event=False,
                     )
 
                 # Transfer metadata from multi-use to new connection
                 # Must come after save so there's an ID to associate with metadata
                 async with self.profile.session() as session:
                     for key, value in (
                         await connection.metadata_get_all(session)
@@ -525,14 +533,19 @@
             async with self.profile.session() as session:
                 connection = await ConnRecord.retrieve_by_invitation_msg_id(
                     session=session,
                     invitation_msg_id=request._thread.pthid,
                     their_role=ConnRecord.Role.REQUESTER.rfc160,
                 )
             if not connection:
+                if not self.profile.settings.get("requests_through_public_did"):
+                    raise ConnectionManagerError(
+                        "Unsolicited connection requests to "
+                        "public DID is not enabled"
+                    )
                 connection = ConnRecord()
             connection.invitation_key = connection_key
             connection.my_did = my_info.did
             connection.their_role = ConnRecord.Role.RESPONDER.rfc160
             connection.their_did = request.connection.did
             connection.their_label = request.label
             connection.accept = (
@@ -1071,15 +1084,21 @@
                         async with self.profile.session() as session:
                             connection = await ConnRecord.retrieve_by_id(
                                 session, connection_id
                             )
 
                     targets = await self.fetch_connection_targets(connection)
 
-                    await entry.set_result([row.serialize() for row in targets], 3600)
+                    if connection.state == ConnRecord.State.COMPLETED.rfc160:
+                        # Only set cache if connection has reached completed state
+                        # Otherwise, a replica that participated early in exchange
+                        # may have bad data set in cache.
+                        await entry.set_result(
+                            [row.serialize() for row in targets], 3600
+                        )
         else:
             targets = await self.fetch_connection_targets(connection)
         return targets
 
     async def establish_inbound(
         self,
         connection: ConnRecord,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/connection_invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/connection_invitation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/connection_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/connection_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/connection_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/connection_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_invitation.py`

 * *Files 1% similar despite different names*

```diff
@@ -80,15 +80,14 @@
 
     def test_from_no_url(self):
         url = "http://aries.ca/no_ci"
         assert ConnectionInvitation.from_url(url) is None
 
 
 class TestConnectionInvitationSchema(TestCase):
-
     connection_invitation = ConnectionInvitation(
         label="label", did="did:sov:QmWbsNYhMrjHiqZDTUTEJs"
     )
 
     def test_make_model(self):
         data = self.connection_invitation.serialize()
         model_instance = ConnectionInvitation.deserialize(data)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/messages/tests/test_connection_response.py`

 * *Files 1% similar despite different names*

```diff
@@ -15,15 +15,14 @@
 from ...message_types import CONNECTION_RESPONSE
 from ...models.connection_detail import ConnectionDetail
 
 from ..connection_response import ConnectionResponse
 
 
 class TestConfig:
-
     test_seed = "testseed000000000000000000000001"
     test_did = "55GkHamhTU1ZbTbV2ab9DE"
     test_verkey = "3Dn1SJNPaCXcvvJvSbsFWP2xaCjMom3can8CQNhWrTRx"
     test_endpoint = "http://localhost"
 
     def make_did_doc(self):
         doc = DIDDoc(did=self.test_did)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/models/connection_detail.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/models/connection_detail.py`

 * *Files 5% similar despite different names*

```diff
@@ -19,15 +19,15 @@
 
         Returns:
             The serialized DIDDoc
 
         """
         return value.serialize()
 
-    def _deserialize(self, value, attr, data, **kwargs):
+    def _deserialize(self, value, attr=None, data=None, **kwargs):
         """
         Deserialize a value into a DIDDoc.
 
         Args:
             value: The value to deserialize
 
         Returns:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/routes.py`

 * *Files 1% similar despite different names*

```diff
@@ -11,14 +11,15 @@
     response_schema,
 )
 from typing import cast
 from marshmallow import fields, validate, validates_schema
 
 from ....admin.request_context import AdminRequestContext
 from ....connections.models.conn_record import ConnRecord, ConnRecordSchema
+from ....cache.base import BaseCache
 from ....messaging.models.base import BaseModelError
 from ....messaging.models.openapi import OpenAPISchema
 from ....messaging.valid import (
     ENDPOINT,
     INDY_DID,
     INDY_RAW_PUBLIC_KEY,
     UUIDFour,
@@ -735,14 +736,17 @@
     connection_id = request.match_info["conn_id"]
     profile = context.profile
 
     try:
         async with profile.session() as session:
             connection = await ConnRecord.retrieve_by_id(session, connection_id)
             await connection.delete_record(session)
+            cache = session.inject_or(BaseCache)
+            if cache:
+                await cache.clear(f"conn_rec_state::{connection_id}")
     except StorageNotFoundError as err:
         raise web.HTTPNotFound(reason=err.roll_up) from err
     except StorageError as err:
         raise web.HTTPBadRequest(reason=err.roll_up) from err
 
     return web.json_response({})
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/tests/test_manager.py`

 * *Files 4% similar despite different names*

```diff
@@ -19,29 +19,31 @@
 from .....multitenant.base import BaseMultitenantManager
 from .....multitenant.manager import MultitenantManager
 from .....protocols.routing.v1_0.manager import RoutingManager
 from .....resolver.did_resolver import DIDResolver
 from .....storage.error import StorageNotFoundError
 from .....transport.inbound.receipt import MessageReceipt
 from .....wallet.base import DIDInfo
-from .....wallet.did_method import SOV
+from .....wallet.did_method import SOV, DIDMethods
 from .....wallet.error import WalletNotFoundError
 from .....wallet.in_memory import InMemoryWallet
 from .....wallet.key_type import ED25519
 from ....coordinate_mediation.v1_0.manager import MediationManager
 from ....coordinate_mediation.v1_0.route_manager import RouteManager
 from ....coordinate_mediation.v1_0.messages.mediate_request import MediationRequest
 from ....coordinate_mediation.v1_0.models.mediation_record import MediationRecord
 from ....discovery.v2_0.manager import V20DiscoveryMgr
 
 from ..manager import ConnectionManager, ConnectionManagerError
+from .. import manager as test_module
 from ..messages.connection_invitation import ConnectionInvitation
 from ..messages.connection_request import ConnectionRequest
 from ..messages.connection_response import ConnectionResponse
 from ..models.connection_detail import ConnectionDetail
+from .....wallet.util import bytes_to_b64, b58_to_bytes
 
 
 class TestConnectionManager(AsyncTestCase):
     def make_did_doc(self, did, verkey):
         doc = DIDDoc(did=did)
         controller = did
         ident = "1"
@@ -89,14 +91,15 @@
                 "debug.auto_accept_requests": True,
             },
             bind={
                 BaseResponder: self.responder,
                 BaseCache: InMemoryCache(),
                 OobMessageProcessor: self.oob_mock,
                 RouteManager: self.route_manager,
+                DIDMethods: DIDMethods(),
             },
         )
         self.context = self.profile.context
 
         self.multitenant_mgr = async_mock.MagicMock(MultitenantManager, autospec=True)
         self.context.injector.bind_instance(
             BaseMultitenantManager, self.multitenant_mgr
@@ -107,29 +110,14 @@
         ]
         self.test_mediator_conn_id = "mediator-conn-id"
         self.test_mediator_endpoint = "http://mediator.example.com"
 
         self.manager = ConnectionManager(self.profile)
         assert self.manager.profile
 
-    async def test_create_invitation_public_and_multi_use_fails(self):
-        self.context.update_settings({"public_invites": True})
-        with async_mock.patch.object(
-            InMemoryWallet, "get_public_did", autospec=True
-        ) as mock_wallet_get_public_did:
-            mock_wallet_get_public_did.return_value = DIDInfo(
-                self.test_did,
-                self.test_verkey,
-                None,
-                method=SOV,
-                key_type=ED25519,
-            )
-            with self.assertRaises(ConnectionManagerError):
-                await self.manager.create_invitation(public=True, multi_use=True)
-
     async def test_create_invitation_non_multi_use_invitation_fails_on_reuse(self):
         connect_record, connect_invite = await self.manager.create_invitation()
 
         receipt = MessageReceipt(recipient_verkey=connect_record.invitation_key)
 
         requestA = ConnectionRequest(
             connection=ConnectionDetail(
@@ -154,32 +142,32 @@
         # requestB fails because the invitation was not set to multi-use
         rr_awaitable = self.manager.receive_request(requestB, receipt)
         await self.assertAsyncRaises(ConnectionManagerError, rr_awaitable)
 
     async def test_create_invitation_public(self):
         self.context.update_settings({"public_invites": True})
 
-        self.route_manager.route_public_did = async_mock.CoroutineMock()
+        self.route_manager.route_verkey = async_mock.CoroutineMock()
         with async_mock.patch.object(
             InMemoryWallet, "get_public_did", autospec=True
         ) as mock_wallet_get_public_did:
             mock_wallet_get_public_did.return_value = DIDInfo(
                 self.test_did,
                 self.test_verkey,
                 None,
                 method=SOV,
                 key_type=ED25519,
             )
             connect_record, connect_invite = await self.manager.create_invitation(
                 public=True, my_endpoint="testendpoint"
             )
 
-            assert connect_record is None
+            assert connect_record
             assert connect_invite.did.endswith(self.test_did)
-            self.route_manager.route_public_did.assert_called_once_with(
+            self.route_manager.route_verkey.assert_called_once_with(
                 self.profile, self.test_verkey
             )
 
     async def test_create_invitation_public_no_public_invites(self):
         self.context.update_settings({"public_invites": False})
 
         with self.assertRaises(ConnectionManagerError):
@@ -261,31 +249,14 @@
         async with self.profile.session() as session:
             record, invite = await self.manager.create_invitation(
                 metadata={"hello": "world"}
             )
 
             assert await record.metadata_get_all(session) == {"hello": "world"}
 
-    async def test_create_invitation_public_and_metadata_fails(self):
-        self.context.update_settings({"public_invites": True})
-        with async_mock.patch.object(
-            InMemoryWallet, "get_public_did", autospec=True
-        ) as mock_wallet_get_public_did:
-            mock_wallet_get_public_did.return_value = DIDInfo(
-                self.test_did,
-                self.test_verkey,
-                None,
-                method=SOV,
-                key_type=ED25519,
-            )
-            with self.assertRaises(ConnectionManagerError):
-                await self.manager.create_invitation(
-                    public=True, metadata={"hello": "world"}
-                )
-
     async def test_create_invitation_multi_use_metadata_transfers_to_connection(self):
         async with self.profile.session() as session:
             connect_record, _ = await self.manager.create_invitation(
                 my_endpoint="testendpoint", multi_use=True, metadata={"test": "value"}
             )
 
             receipt = MessageReceipt(recipient_verkey=connect_record.invitation_key)
@@ -638,14 +609,49 @@
                 conn_rec = await self.manager.receive_request(mock_request, receipt)
                 assert conn_rec
 
                 self.oob_mock.clean_finished_oob_record.assert_called_once_with(
                     self.profile, mock_request
                 )
 
+    async def test_receive_request_public_did_unsolicited_fails(self):
+        async with self.profile.session() as session:
+            mock_request = async_mock.MagicMock()
+            mock_request.connection = async_mock.MagicMock()
+            mock_request.connection.did = self.test_did
+            mock_request.connection.did_doc = async_mock.MagicMock()
+            mock_request.connection.did_doc.did = self.test_did
+
+            receipt = MessageReceipt(
+                recipient_did=self.test_did, recipient_did_public=True
+            )
+            await session.wallet.create_local_did(
+                method=SOV,
+                key_type=ED25519,
+                seed=None,
+                did=self.test_did,
+            )
+
+            self.context.update_settings({"public_invites": True})
+            with self.assertRaises(ConnectionManagerError), async_mock.patch.object(
+                ConnRecord, "connection_id", autospec=True
+            ), async_mock.patch.object(
+                ConnRecord, "save", autospec=True
+            ) as mock_conn_rec_save, async_mock.patch.object(
+                ConnRecord, "attach_request", autospec=True
+            ) as mock_conn_attach_request, async_mock.patch.object(
+                ConnRecord, "retrieve_by_id", autospec=True
+            ) as mock_conn_retrieve_by_id, async_mock.patch.object(
+                ConnRecord, "retrieve_request", autospec=True
+            ), async_mock.patch.object(
+                ConnRecord, "retrieve_by_invitation_msg_id", async_mock.CoroutineMock()
+            ) as mock_conn_retrieve_by_invitation_msg_id:
+                mock_conn_retrieve_by_invitation_msg_id.return_value = None
+                conn_rec = await self.manager.receive_request(mock_request, receipt)
+
     async def test_receive_request_public_did_conn_invite(self):
         async with self.profile.session() as session:
             mock_request = async_mock.MagicMock()
             mock_request.connection = async_mock.MagicMock()
             mock_request.connection.did = self.test_did
             mock_request.connection.did_doc = async_mock.MagicMock()
             mock_request.connection.did_doc.did = self.test_did
@@ -656,15 +662,57 @@
             await session.wallet.create_local_did(
                 method=SOV,
                 key_type=ED25519,
                 seed=None,
                 did=self.test_did,
             )
 
+            mock_connection_record = async_mock.MagicMock()
+            mock_connection_record.save = async_mock.CoroutineMock()
+            mock_connection_record.attach_request = async_mock.CoroutineMock()
+
+            self.context.update_settings({"public_invites": True})
+            with async_mock.patch.object(
+                ConnRecord, "connection_id", autospec=True
+            ), async_mock.patch.object(
+                ConnRecord, "save", autospec=True
+            ) as mock_conn_rec_save, async_mock.patch.object(
+                ConnRecord, "attach_request", autospec=True
+            ) as mock_conn_attach_request, async_mock.patch.object(
+                ConnRecord, "retrieve_by_id", autospec=True
+            ) as mock_conn_retrieve_by_id, async_mock.patch.object(
+                ConnRecord, "retrieve_request", autospec=True
+            ), async_mock.patch.object(
+                ConnRecord,
+                "retrieve_by_invitation_msg_id",
+                async_mock.CoroutineMock(return_value=mock_connection_record),
+            ) as mock_conn_retrieve_by_invitation_msg_id:
+                conn_rec = await self.manager.receive_request(mock_request, receipt)
+                assert conn_rec
+
+    async def test_receive_request_public_did_unsolicited(self):
+        async with self.profile.session() as session:
+            mock_request = async_mock.MagicMock()
+            mock_request.connection = async_mock.MagicMock()
+            mock_request.connection.did = self.test_did
+            mock_request.connection.did_doc = async_mock.MagicMock()
+            mock_request.connection.did_doc.did = self.test_did
+
+            receipt = MessageReceipt(
+                recipient_did=self.test_did, recipient_did_public=True
+            )
+            await session.wallet.create_local_did(
+                method=SOV,
+                key_type=ED25519,
+                seed=None,
+                did=self.test_did,
+            )
+
             self.context.update_settings({"public_invites": True})
+            self.context.update_settings({"requests_through_public_did": True})
             with async_mock.patch.object(
                 ConnRecord, "connection_id", autospec=True
             ), async_mock.patch.object(
                 ConnRecord, "save", autospec=True
             ) as mock_conn_rec_save, async_mock.patch.object(
                 ConnRecord, "attach_request", autospec=True
             ) as mock_conn_attach_request, async_mock.patch.object(
@@ -2064,14 +2112,17 @@
             )
             did_doc = builder.build()
             self.resolver = async_mock.MagicMock()
             self.resolver.get_endpoint_for_did = async_mock.CoroutineMock(
                 return_value=self.test_endpoint
             )
             self.resolver.resolve = async_mock.CoroutineMock(return_value=did_doc)
+            self.resolver.dereference = async_mock.CoroutineMock(
+                return_value=did_doc.verification_method[0]
+            )
             self.context.injector.bind_instance(DIDResolver, self.resolver)
 
             local_did = await session.wallet.create_local_did(
                 method=SOV,
                 key_type=ED25519,
                 seed=self.test_seed,
                 did=self.test_did,
@@ -2133,14 +2184,17 @@
             did_doc = builder.build()
 
             self.resolver = async_mock.MagicMock()
             self.resolver.get_endpoint_for_did = async_mock.CoroutineMock(
                 return_value=self.test_endpoint
             )
             self.resolver.resolve = async_mock.CoroutineMock(return_value=did_doc)
+            self.resolver.dereference = async_mock.CoroutineMock(
+                return_value=did_doc.verification_method[0]
+            )
             self.context.injector.bind_instance(DIDResolver, self.resolver)
             local_did = await session.wallet.create_local_did(
                 method=SOV,
                 key_type=ED25519,
                 seed=self.test_seed,
                 did=did_doc.id,
                 metadata=None,
@@ -2265,33 +2319,104 @@
                 their_role=ConnRecord.Role.RESPONDER.rfc23,
                 state=ConnRecord.State.INVITATION.rfc23,
                 retrieve_invitation=async_mock.CoroutineMock(return_value=conn_invite),
             )
             with self.assertRaises(BaseConnectionManagerError):
                 await self.manager.fetch_connection_targets(mock_conn)
 
+    async def test_fetch_connection_targets_conn_invitation_supported_JsonWebKey2020_key_type(
+        self,
+    ):
+        async with self.profile.session() as session:
+            builder = DIDDocumentBuilder("did:btcr:x705-jznz-q3nl-srs")
+            vmethod = builder.verification_method.add(
+                JsonWebKey2020,
+                ident="1",
+                public_key_jwk={
+                    "kty": "OKP",
+                    "crv": "Ed25519",
+                    "x": bytes_to_b64(b58_to_bytes(self.test_target_verkey), True),
+                },
+            )
+            builder.service.add_didcomm(
+                type_="IndyAgent",
+                service_endpoint=self.test_endpoint,
+                recipient_keys=[vmethod],
+            )
+            did_doc = builder.build()
+            self.resolver = async_mock.MagicMock()
+            self.resolver.get_endpoint_for_did = async_mock.CoroutineMock(
+                return_value=self.test_endpoint
+            )
+            self.resolver.resolve = async_mock.CoroutineMock(return_value=did_doc)
+            self.resolver.dereference = async_mock.CoroutineMock(
+                return_value=did_doc.verification_method[0]
+            )
+            self.context.injector.bind_instance(DIDResolver, self.resolver)
+            local_did = await session.wallet.create_local_did(
+                method=SOV,
+                key_type=ED25519,
+                seed=self.test_seed,
+                did=did_doc.id,
+                metadata=None,
+            )
+
+            conn_invite = ConnectionInvitation(
+                did=did_doc.id,
+                endpoint=self.test_endpoint,
+                recipient_keys=[vmethod.public_key_jwk],
+                routing_keys=[self.test_verkey],
+                label="label",
+            )
+            mock_conn = async_mock.MagicMock(
+                my_did=did_doc.id,
+                their_did=self.test_target_did,
+                connection_id="dummy",
+                their_role=ConnRecord.Role.RESPONDER.rfc23,
+                state=ConnRecord.State.INVITATION.rfc23,
+                retrieve_invitation=async_mock.CoroutineMock(return_value=conn_invite),
+            )
+
+            targets = await self.manager.fetch_connection_targets(mock_conn)
+            assert len(targets) == 1
+            target = targets[0]
+            assert target.did == mock_conn.their_did
+            assert target.endpoint == self.test_endpoint
+            assert target.label == conn_invite.label
+            assert target.recipient_keys == [self.test_target_verkey]
+            assert target.routing_keys == []
+            assert target.sender_key == local_did.verkey
+
     async def test_fetch_connection_targets_conn_invitation_unsupported_key_type(self):
         async with self.profile.session() as session:
             builder = DIDDocumentBuilder("did:btcr:x705-jznz-q3nl-srs")
             vmethod = builder.verification_method.add(
                 JsonWebKey2020,
                 ident="1",
-                public_key_jwk={"jwk": "stuff"},
+                public_key_jwk={
+                    "kty": "EC",
+                    "crv": "P-256",
+                    "x": "2syLh57B-dGpa0F8p1JrO6JU7UUSF6j7qL-vfk1eOoY",
+                    "y": "BgsGtI7UPsObMRjdElxLOrgAO9JggNMjOcfzEPox18w",
+                },
             )
             builder.service.add_didcomm(
                 type_="IndyAgent",
                 service_endpoint=self.test_endpoint,
                 recipient_keys=[vmethod],
             )
             did_doc = builder.build()
             self.resolver = async_mock.MagicMock()
             self.resolver.get_endpoint_for_did = async_mock.CoroutineMock(
                 return_value=self.test_endpoint
             )
             self.resolver.resolve = async_mock.CoroutineMock(return_value=did_doc)
+            self.resolver.dereference = async_mock.CoroutineMock(
+                return_value=did_doc.verification_method[0]
+            )
             self.context.injector.bind_instance(DIDResolver, self.resolver)
             local_did = await session.wallet.create_local_did(
                 method=SOV,
                 key_type=ED25519,
                 seed=self.test_seed,
                 did=did_doc.id,
                 metadata=None,
@@ -2353,14 +2478,17 @@
                 service_endpoint=self.test_endpoint,
                 recipient_keys=[vmethod],
             )
             did_doc = builder.build()
 
             self.resolver = async_mock.MagicMock()
             self.resolver.resolve = async_mock.CoroutineMock(return_value=did_doc)
+            self.resolver.dereference = async_mock.CoroutineMock(
+                return_value=did_doc.verification_method[0]
+            )
             self.context.injector.bind_instance(DIDResolver, self.resolver)
 
             local_did = await session.wallet.create_local_did(
                 method=SOV,
                 key_type=ED25519,
                 seed=self.test_seed,
                 did=self.test_did,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/connections/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/connections/v1_0/tests/test_routes.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,16 @@
 import json
 
 from unittest.mock import ANY
 from asynctest import TestCase as AsyncTestCase
 from asynctest import mock as async_mock
 
 from .....admin.request_context import AdminRequestContext
+from .....cache.base import BaseCache
+from .....cache.in_memory import InMemoryCache
 from .....connections.models.conn_record import ConnRecord
 from .....storage.error import StorageNotFoundError
 
 from .. import routes as test_module
 
 
 class TestConnectionRoutes(AsyncTestCase):
@@ -356,15 +358,14 @@
         }
 
         with async_mock.patch.object(
             test_module, "ConnectionManager", autospec=True
         ) as mock_conn_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_conn_mgr.return_value.create_invitation = async_mock.CoroutineMock(
                 return_value=(
                     async_mock.MagicMock(  # connection record
                         connection_id="dummy", alias="conn-alias"
                     ),
                     async_mock.MagicMock(  # invitation
                         serialize=async_mock.MagicMock(return_value={"a": "value"}),
@@ -539,15 +540,14 @@
         with async_mock.patch.object(
             test_module.ConnRecord, "retrieve_by_id", async_mock.CoroutineMock()
         ) as mock_conn_rec_retrieve_by_id, async_mock.patch.object(
             test_module, "ConnectionManager", autospec=True
         ) as mock_conn_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_conn_rec_retrieve_by_id.return_value = mock_conn_rec
             mock_conn_mgr.return_value.create_request = async_mock.CoroutineMock()
 
             await test_module.connections_accept_invitation(self.request)
             mock_response.assert_called_once_with(mock_conn_rec.serialize.return_value)
 
     async def test_connections_accept_invitation_not_found(self):
@@ -703,14 +703,34 @@
             test_module.web, "json_response"
         ) as mock_response:
             mock_conn_rec_retrieve_by_id.return_value = mock_conn_rec
 
             await test_module.connections_remove(self.request)
             mock_response.assert_called_once_with({})
 
+    async def test_connections_remove_cache_key(self):
+        cache = InMemoryCache()
+        profile = self.context.profile
+        await cache.set("conn_rec_state::dummy", "active")
+        profile.context.injector.bind_instance(BaseCache, cache)
+        self.request.match_info = {"conn_id": "dummy"}
+        mock_conn_rec = async_mock.MagicMock()
+        mock_conn_rec.delete_record = async_mock.CoroutineMock()
+        assert (await cache.get("conn_rec_state::dummy")) == "active"
+        with async_mock.patch.object(
+            test_module.ConnRecord, "retrieve_by_id", async_mock.CoroutineMock()
+        ) as mock_conn_rec_retrieve_by_id, async_mock.patch.object(
+            test_module.web, "json_response"
+        ) as mock_response:
+            mock_conn_rec_retrieve_by_id.return_value = mock_conn_rec
+
+            await test_module.connections_remove(self.request)
+            mock_response.assert_called_once_with({})
+            assert not (await cache.get("conn_rec_state::dummy"))
+
     async def test_connections_remove_not_found(self):
         self.request.match_info = {"conn_id": "dummy"}
 
         mock_conn_rec = async_mock.MagicMock()
 
         with async_mock.patch.object(
             test_module.ConnRecord, "retrieve_by_id", async_mock.CoroutineMock()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/mediation_invite_store.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/mediation_invite_store.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_query_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_query_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/keylist_update_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_deny_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_deny_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_grant_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_grant_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/mediation_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_query_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_query_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_keylist_update_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_deny_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_deny_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_grant_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_grant_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_mediation_request_handler.py`

 * *Files 2% similar despite different names*

```diff
@@ -9,25 +9,27 @@
 
 from ...messages.mediate_grant import MediationGrant
 from ...messages.mediate_request import MediationRequest
 from ...messages.problem_report import CMProblemReport
 from ...models.mediation_record import MediationRecord
 
 from ..mediation_request_handler import MediationRequestHandler
+from ......wallet.did_method import DIDMethods
 
 TEST_CONN_ID = "conn-id"
 TEST_VERKEY = "3Dn1SJNPaCXcvvJvSbsFWP2xaCjMom3can8CQNhWrTRx"
 
 
 class TestMediationRequestHandler(AsyncTestCase):
     """Test mediate request message handler."""
 
     async def setUp(self):
         """setup dependencies of messaging"""
         self.context = RequestContext.test_context()
+        self.context.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
         self.session = await self.context.session()
         self.context.message = MediationRequest()
         self.context.connection_ready = True
         self.context.connection_record = ConnRecord(connection_id=TEST_CONN_ID)
 
     async def test_handler_no_active_connection(self):
         """test mediation handler"""
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/handlers/tests/test_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_key.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_key.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_query_paginate.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_query_paginate.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_update_rule.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_update_rule.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_updated.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/inner/keylist_updated.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_query.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_query.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/keylist_update_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_deny.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_deny.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_grant.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_grant.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/mediate_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_query.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_query.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_keylist_update_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_grant.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_mediate_grant.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/messages/tests/test_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/mediation_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/models/mediation_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/normalization.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/normalization.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager.py`

 * *Files 2% similar despite different names*

```diff
@@ -193,18 +193,25 @@
                 conn_record.invitation_key,
                 mediation_record,
                 skip_if_exists=True,
             )
 
         raise ValueError("Expected connection to have invitation_key")
 
-    async def route_public_did(self, profile: Profile, verkey: str):
+    async def route_verkey(self, profile: Profile, verkey: str):
         """Establish routing for a public DID."""
         return await self._route_for_key(profile, verkey, skip_if_exists=True)
 
+    async def route_public_did(self, profile: Profile, verkey: str):
+        """Establish routing for a public DID.
+
+        [DEPRECATED] Establish routing for a public DID. Use route_verkey() instead.
+        """
+        return await self._route_for_key(profile, verkey, skip_if_exists=True)
+
     async def route_static(
         self,
         profile: Profile,
         conn_record: ConnRecord,
         mediation_record: Optional[MediationRecord] = None,
     ) -> Optional[KeylistUpdate]:
         """Establish routing for a static connection."""
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager_provider.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/route_manager_provider.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_invite_store.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_invite_store.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_mediation_manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -22,14 +22,15 @@
 from ..messages.inner.keylist_update_rule import KeylistUpdateRule
 from ..messages.inner.keylist_updated import KeylistUpdated
 from ..messages.keylist_update_response import KeylistUpdateResponse
 from ..messages.mediate_deny import MediationDeny
 from ..messages.mediate_grant import MediationGrant
 from ..messages.mediate_request import MediationRequest
 from ..models.mediation_record import MediationRecord
+from .....wallet.did_method import DIDMethods
 
 TEST_CONN_ID = "conn-id"
 TEST_THREAD_ID = "thread-id"
 TEST_ENDPOINT = "https://example.com"
 TEST_RECORD_VERKEY = "3Dn1SJNPaCXcvvJvSbsFWP2xaCjMom3can8CQNhWrTRx"
 TEST_VERKEY = "did:key:z6Mkgg342Ycpuk263R9d8Aq6MUaxPn1DDeHyGo38EefXmgDL"
 TEST_ROUTE_RECORD_VERKEY = "9WCgWKUaAJj3VWxxtzvvMQN3AoFxoBtBDo9ntwJnVVCC"
@@ -38,15 +39,17 @@
 pytestmark = pytest.mark.asyncio
 
 
 @pytest.fixture
 def profile() -> Iterable[Profile]:
     """Fixture for profile used in tests."""
     # pylint: disable=W0621
-    yield InMemoryProfile.test_profile(bind={EventBus: MockEventBus()})
+    yield InMemoryProfile.test_profile(
+        bind={EventBus: MockEventBus(), DIDMethods: DIDMethods()}
+    )
 
 
 @pytest.fixture
 def mock_event_bus(profile: Profile):
     yield profile.inject(EventBus)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_route_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_route_manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -391,14 +391,22 @@
     await route_manager.route_public_did(profile, "test-verkey")
     route_manager._route_for_key.assert_called_once_with(
         profile, "test-verkey", skip_if_exists=True
     )
 
 
 @pytest.mark.asyncio
+async def test_route_verkey(profile: Profile, route_manager: RouteManager):
+    await route_manager.route_verkey(profile, "test-verkey")
+    route_manager._route_for_key.assert_called_once_with(
+        profile, "test-verkey", skip_if_exists=True
+    )
+
+
+@pytest.mark.asyncio
 async def test_route_static(
     profile: Profile, route_manager: RouteManager, conn_record: ConnRecord
 ):
     mediation_record = MediationRecord(mediation_id="test-mediation-id")
     mock_did_info = mock.MagicMock(DIDInfo)
     conn_record.invitation_key = "test-invitation-key"
     with mock.patch.object(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/coordinate_mediation/v1_0/tests/test_routes.py`

 * *Files 1% similar despite different names*

```diff
@@ -2,19 +2,21 @@
 
 from .. import routes as test_module
 from .....admin.request_context import AdminRequestContext
 from .....core.in_memory import InMemoryProfile
 from .....storage.error import StorageError, StorageNotFoundError
 from ..models.mediation_record import MediationRecord
 from ..route_manager import RouteManager
+from .....wallet.did_method import DIDMethods
 
 
 class TestCoordinateMediationRoutes(AsyncTestCase):
     def setUp(self):
         self.profile = InMemoryProfile.test_profile()
+        self.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
         self.context = AdminRequestContext.test_context(profile=self.profile)
         self.outbound_message_router = async_mock.CoroutineMock()
         self.request_dict = {
             "context": self.context,
             "outbound_message_router": self.outbound_message_router,
         }
         self.request = async_mock.MagicMock(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didcomm_prefix.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didcomm_prefix.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/complete_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/complete_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/invitation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_complete_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_complete_handler.py`

 * *Files 10% similar despite different names*

```diff
@@ -6,19 +6,21 @@
 from ......transport.inbound.receipt import MessageReceipt
 
 from ...manager import DIDXManagerError
 from ...messages.complete import DIDXComplete
 from ...messages.problem_report_reason import ProblemReportReason
 
 from .. import complete_handler as test_module
+from ......wallet.did_method import DIDMethods
 
 
 @pytest.fixture()
 def request_context() -> RequestContext:
     ctx = RequestContext.test_context()
+    ctx.injector.bind_instance(DIDMethods, DIDMethods())
     ctx.message_receipt = MessageReceipt()
     yield ctx
 
 
 class TestDIDXCompleteHandler:
     """Class unit testing complete handler."""
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_invitation_handler.py`

 * *Files 27% similar despite different names*

```diff
@@ -5,19 +5,21 @@
 from ......transport.inbound.receipt import MessageReceipt
 
 from .....out_of_band.v1_0.messages.invitation import InvitationMessage
 from .....problem_report.v1_0.message import ProblemReport
 
 from ...handlers.invitation_handler import InvitationHandler
 from ...messages.problem_report_reason import ProblemReportReason
+from ......wallet.did_method import DIDMethods
 
 
 @pytest.fixture()
 def request_context() -> RequestContext:
     ctx = RequestContext.test_context()
+    ctx.injector.bind_instance(DIDMethods, DIDMethods())
     ctx.message_receipt = MessageReceipt()
     yield ctx
 
 
 class TestDIDXInvitationHandler:
     @pytest.mark.asyncio
     async def test_problem_report(self, request_context):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_request_handler.py`

 * *Files 1% similar despite different names*

```diff
@@ -5,15 +5,15 @@
 from ......connections.models.diddoc import (
     DIDDoc,
     PublicKey,
     PublicKeyType,
     Service,
 )
 from ......core.in_memory import InMemoryProfile
-from ......wallet.did_method import SOV
+from ......wallet.did_method import SOV, DIDMethods
 from ......wallet.key_type import ED25519
 from ......messaging.decorators.attach_decorator import AttachDecorator
 from ......messaging.request_context import RequestContext
 from ......messaging.responder import MockResponder
 from ......transport.inbound.receipt import MessageReceipt
 
 from .....problem_report.v1_0.message import ProblemReport
@@ -72,14 +72,15 @@
                 "default_label": "This guy",
                 "additional_endpoints": ["http://aries.ca/another-endpoint"],
                 "debug.auto_accept_invites": True,
                 "debug.auto_accept_requests_peer": True,
                 "debug.auto_accept_requests_public": True,
             }
         )
+        self.session.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
 
         self.conn_rec = conn_record.ConnRecord(
             my_did="55GkHamhTU1ZbTbV2ab9DE",
             their_did="GbuDUYXaUZRfHD2jeDuQuP",
             their_public_did="55GkHamhTU1ZbTbV2ab9DE",
             invitation_msg_id="12345678-1234-5678-1234-567812345678",
             their_role=conn_record.ConnRecord.Role.REQUESTER,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/handlers/tests/test_response_handler.py`

 * *Files 2% similar despite different names*

```diff
@@ -9,15 +9,15 @@
     PublicKeyType,
     Service,
 )
 from ......messaging.decorators.attach_decorator import AttachDecorator
 from ......messaging.request_context import RequestContext
 from ......messaging.responder import MockResponder
 from ......transport.inbound.receipt import MessageReceipt
-from ......wallet.did_method import SOV
+from ......wallet.did_method import SOV, DIDMethods
 from ......wallet.key_type import ED25519
 
 from .....problem_report.v1_0.message import ProblemReport
 from .....trustping.v1_0.messages.ping import Ping
 
 from ...handlers import response_handler as test_module
 from ...manager import DIDXManagerError
@@ -59,14 +59,15 @@
         doc.set(service)
         return doc
 
     async def setUp(self):
         self.ctx = RequestContext.test_context()
         self.ctx.message_receipt = MessageReceipt()
 
+        self.ctx.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
         wallet = (await self.ctx.session()).wallet
         self.did_info = await wallet.create_local_did(
             method=SOV,
             key_type=ED25519,
         )
 
         self.did_doc_attach = AttachDecorator.data_base64(self.did_doc().serialize())
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/manager.py`

 * *Files 0% similar despite different names*

```diff
@@ -479,14 +479,18 @@
             conn_rec.request_id = request._id
             async with self.profile.session() as session:
                 await conn_rec.save(
                     session, reason="Received connection request from invitation"
                 )
         else:
             # request is against implicit invitation on public DID
+            if not self.profile.settings.get("requests_through_public_did"):
+                raise DIDXManagerError(
+                    "Unsolicited connection requests to " "public DID is not enabled"
+                )
             async with self.profile.session() as session:
                 wallet = session.inject(BaseWallet)
                 my_info = await wallet.create_local_did(
                     method=SOV,
                     key_type=ED25519,
                 )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/complete.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/complete.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_complete.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_complete.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_request.py`

 * *Files 8% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 from unittest import mock
 
 from asynctest import TestCase as AsyncTestCase
 
 from ......connections.models.diddoc import DIDDoc, PublicKey, PublicKeyType, Service
 from ......core.in_memory import InMemoryProfile
 from ......messaging.decorators.attach_decorator import AttachDecorator
-from ......wallet.did_method import SOV
+from ......wallet.did_method import SOV, DIDMethods
 from ......wallet.key_type import ED25519
 from .....didcomm_prefix import DIDCommPrefix
 from ...message_types import DIDX_REQUEST
 from ..request import DIDXRequest
 
 
 class TestConfig:
@@ -45,15 +45,17 @@
         )
         doc.set(service)
         return doc
 
 
 class TestDIDXRequest(AsyncTestCase, TestConfig):
     async def setUp(self):
-        self.wallet = InMemoryProfile.test_session().wallet
+        self.session = InMemoryProfile.test_session()
+        self.session.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
+        self.wallet = self.session.wallet
         self.did_info = await self.wallet.create_local_did(
             method=SOV,
             key_type=ED25519,
         )
 
         did_doc_attach = AttachDecorator.data_base64(self.make_did_doc().serialize())
         await did_doc_attach.data.sign(self.did_info.verkey, self.wallet)
@@ -102,15 +104,17 @@
         assert request_dict is mock_request_schema_dump.return_value
 
 
 class TestDIDXRequestSchema(AsyncTestCase, TestConfig):
     """Test request schema."""
 
     async def setUp(self):
-        self.wallet = InMemoryProfile.test_session().wallet
+        self.session = InMemoryProfile.test_session()
+        self.session.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
+        self.wallet = self.session.wallet
         self.did_info = await self.wallet.create_local_did(
             method=SOV,
             key_type=ED25519,
         )
 
         did_doc_attach = AttachDecorator.data_base64(self.make_did_doc().serialize())
         await did_doc_attach.data.sign(self.did_info.verkey, self.wallet)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/messages/tests/test_response.py`

 * *Files 5% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 from unittest import mock
 
 from asynctest import TestCase as AsyncTestCase
 
 from ......connections.models.diddoc import DIDDoc, PublicKey, PublicKeyType, Service
 from ......core.in_memory import InMemoryProfile
 from ......messaging.decorators.attach_decorator import AttachDecorator
-from ......wallet.did_method import SOV
+from ......wallet.did_method import SOV, DIDMethods
 from ......wallet.key_type import ED25519
 from .....didcomm_prefix import DIDCommPrefix
 from ...message_types import DIDX_RESPONSE
 from ..response import DIDXResponse
 
 
 class TestConfig:
@@ -44,15 +44,18 @@
         )
         doc.set(service)
         return doc
 
 
 class TestDIDXResponse(AsyncTestCase, TestConfig):
     async def setUp(self):
-        self.wallet = InMemoryProfile.test_session().wallet
+        self.session = InMemoryProfile.test_session()
+        self.session.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
+        self.wallet = self.session.wallet
+
         self.did_info = await self.wallet.create_local_did(
             method=SOV,
             key_type=ED25519,
         )
 
         did_doc_attach = AttachDecorator.data_base64(self.make_did_doc().serialize())
         await did_doc_attach.data.sign(self.did_info.verkey, self.wallet)
@@ -98,15 +101,18 @@
         assert response_dict is mock_response_schema_dump.return_value
 
 
 class TestDIDXResponseSchema(AsyncTestCase, TestConfig):
     """Test response schema."""
 
     async def setUp(self):
-        self.wallet = InMemoryProfile.test_session().wallet
+        self.session = InMemoryProfile.test_session()
+        self.session.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
+        self.wallet = self.session.wallet
+
         self.did_info = await self.wallet.create_local_did(
             method=SOV,
             key_type=ED25519,
         )
 
         did_doc_attach = AttachDecorator.data_base64(self.make_did_doc().serialize())
         await did_doc_attach.data.sign(self.did_info.verkey, self.wallet)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/tests/test_manager.py`

 * *Files 2% similar despite different names*

```diff
@@ -20,15 +20,15 @@
 from .....multitenant.manager import MultitenantManager
 from .....resolver.base import ResolverError
 from .....resolver.did_resolver import DIDResolver
 from .....resolver.tests import DOC
 from .....storage.error import StorageNotFoundError
 from .....transport.inbound.receipt import MessageReceipt
 from .....wallet.did_info import DIDInfo
-from .....wallet.did_method import SOV
+from .....wallet.did_method import SOV, DIDMethods
 from .....wallet.error import WalletError
 from .....wallet.in_memory import InMemoryWallet
 from .....wallet.key_type import ED25519
 from ....coordinate_mediation.v1_0.manager import MediationManager
 from ....coordinate_mediation.v1_0.models.mediation_record import MediationRecord
 from ....coordinate_mediation.v1_0.route_manager import RouteManager
 from ....didcomm_prefix import DIDCommPrefix
@@ -37,15 +37,14 @@
 from ....out_of_band.v1_0.messages.invitation import HSProto, InvitationMessage
 from ....out_of_band.v1_0.messages.service import Service as OOBService
 from .. import manager as test_module
 from ..manager import DIDXManager, DIDXManagerError
 
 
 class TestConfig:
-
     test_seed = "testseed000000000000000000000001"
     test_did = "55GkHamhTU1ZbTbV2ab9DE"
     test_verkey = "3Dn1SJNPaCXcvvJvSbsFWP2xaCjMom3can8CQNhWrTRx"
     test_endpoint = "http://localhost"
 
     test_target_did = "GbuDUYXaUZRfHD2jeDuQuP"
     test_target_verkey = "9WCgWKUaAJj3VWxxtzvvMQN3AoFxoBtBDo9ntwJnVVCC"
@@ -98,14 +97,15 @@
                 "wallet.id": True,
             },
             bind={
                 BaseResponder: self.responder,
                 BaseCache: InMemoryCache(),
                 OobMessageProcessor: self.oob_mock,
                 RouteManager: self.route_manager,
+                DIDMethods: DIDMethods(),
             },
         )
         self.context = self.profile.context
         async with self.profile.session() as session:
             self.did_info = await session.wallet.create_local_did(
                 method=SOV,
                 key_type=ED25519,
@@ -960,14 +960,159 @@
                     auto_accept_implicit=False,
                 )
                 assert conn_rec
 
             messages = self.responder.messages
             assert not messages
 
+    async def test_receive_request_implicit_public_did_not_enabled(self):
+        async with self.profile.session() as session:
+            mock_request = async_mock.MagicMock(
+                did=TestConfig.test_did,
+                did_doc_attach=async_mock.MagicMock(
+                    data=async_mock.MagicMock(
+                        verify=async_mock.CoroutineMock(return_value=True),
+                        signed=async_mock.MagicMock(
+                            decode=async_mock.MagicMock(return_value="dummy-did-doc")
+                        ),
+                    )
+                ),
+                _thread=async_mock.MagicMock(pthid="did:sov:publicdid0000000000000"),
+            )
+            mediation_record = MediationRecord(
+                role=MediationRecord.ROLE_CLIENT,
+                state=MediationRecord.STATE_GRANTED,
+                connection_id=self.test_mediator_conn_id,
+                routing_keys=self.test_mediator_routing_keys,
+                endpoint=self.test_mediator_endpoint,
+            )
+            await mediation_record.save(session)
+
+            await session.wallet.create_local_did(
+                method=SOV,
+                key_type=ED25519,
+                seed=None,
+                did=TestConfig.test_did,
+            )
+
+            self.profile.context.update_settings({"public_invites": True})
+
+            with async_mock.patch.object(
+                test_module, "ConnRecord", async_mock.MagicMock()
+            ) as mock_conn_rec_cls, async_mock.patch.object(
+                test_module, "DIDDoc", autospec=True
+            ) as mock_did_doc, async_mock.patch.object(
+                test_module, "DIDPosture", autospec=True
+            ) as mock_did_posture, async_mock.patch.object(
+                self.manager,
+                "verify_diddoc",
+                async_mock.CoroutineMock(return_value=DIDDoc(TestConfig.test_did)),
+            ):
+                mock_did_posture.get = async_mock.MagicMock(
+                    return_value=test_module.DIDPosture.PUBLIC
+                )
+                mock_conn_rec_cls.retrieve_by_invitation_key = async_mock.CoroutineMock(
+                    side_effect=StorageNotFoundError()
+                )
+                mock_conn_rec_cls.retrieve_by_invitation_msg_id = (
+                    async_mock.CoroutineMock(return_value=None)
+                )
+
+                with self.assertRaises(DIDXManagerError) as context:
+                    await self.manager.receive_request(
+                        request=mock_request,
+                        recipient_did=TestConfig.test_did,
+                        my_endpoint=None,
+                        alias=None,
+                        auto_accept_implicit=None,
+                    )
+                assert "Unsolicited connection requests" in str(context.exception)
+
+    async def test_receive_request_implicit_public_did(self):
+        async with self.profile.session() as session:
+            mock_request = async_mock.MagicMock(
+                did=TestConfig.test_did,
+                did_doc_attach=async_mock.MagicMock(
+                    data=async_mock.MagicMock(
+                        verify=async_mock.CoroutineMock(return_value=True),
+                        signed=async_mock.MagicMock(
+                            decode=async_mock.MagicMock(return_value="dummy-did-doc")
+                        ),
+                    )
+                ),
+                _thread=async_mock.MagicMock(pthid="did:sov:publicdid0000000000000"),
+            )
+            mediation_record = MediationRecord(
+                role=MediationRecord.ROLE_CLIENT,
+                state=MediationRecord.STATE_GRANTED,
+                connection_id=self.test_mediator_conn_id,
+                routing_keys=self.test_mediator_routing_keys,
+                endpoint=self.test_mediator_endpoint,
+            )
+            await mediation_record.save(session)
+
+            await session.wallet.create_local_did(
+                method=SOV,
+                key_type=ED25519,
+                seed=None,
+                did=TestConfig.test_did,
+            )
+
+            self.profile.context.update_settings({"public_invites": True})
+            self.profile.context.update_settings({"requests_through_public_did": True})
+            ACCEPT_AUTO = ConnRecord.ACCEPT_AUTO
+            STATE_REQUEST = ConnRecord.State.REQUEST
+
+            with async_mock.patch.object(
+                test_module, "ConnRecord", async_mock.MagicMock()
+            ) as mock_conn_rec_cls, async_mock.patch.object(
+                test_module, "DIDDoc", autospec=True
+            ) as mock_did_doc, async_mock.patch.object(
+                test_module, "DIDPosture", autospec=True
+            ) as mock_did_posture, async_mock.patch.object(
+                self.manager,
+                "verify_diddoc",
+                async_mock.CoroutineMock(return_value=DIDDoc(TestConfig.test_did)),
+            ):
+                mock_did_posture.get = async_mock.MagicMock(
+                    return_value=test_module.DIDPosture.PUBLIC
+                )
+                mock_conn_rec_cls.retrieve_by_invitation_key = async_mock.CoroutineMock(
+                    side_effect=StorageNotFoundError()
+                )
+                mock_conn_rec_cls.retrieve_by_invitation_msg_id = (
+                    async_mock.CoroutineMock(return_value=None)
+                )
+
+                mock_conn_record = async_mock.MagicMock(
+                    accept=ACCEPT_AUTO,
+                    my_did=None,
+                    state=STATE_REQUEST.rfc23,
+                    attach_request=async_mock.CoroutineMock(),
+                    retrieve_request=async_mock.CoroutineMock(),
+                    metadata_get_all=async_mock.CoroutineMock(return_value={}),
+                    metadata_get=async_mock.CoroutineMock(return_value=True),
+                    save=async_mock.CoroutineMock(),
+                )
+
+                mock_conn_rec_cls.return_value = mock_conn_record
+
+                conn_rec = await self.manager.receive_request(
+                    request=mock_request,
+                    recipient_did=TestConfig.test_did,
+                    recipient_verkey=None,
+                    my_endpoint=None,
+                    alias=None,
+                    auto_accept_implicit=None,
+                )
+                assert conn_rec
+                self.oob_mock.clean_finished_oob_record.assert_called_once_with(
+                    self.profile, mock_request
+                )
+
     async def test_receive_request_peer_did(self):
         async with self.profile.session() as session:
             mock_request = async_mock.MagicMock(
                 did=TestConfig.test_did,
                 did_doc_attach=async_mock.MagicMock(
                     data=async_mock.MagicMock(
                         signed=async_mock.MagicMock(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/didexchange/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/didexchange/v1_0/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -39,15 +39,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec_class, async_mock.patch.object(
             test_module, "DIDXManager", autospec=True
         ) as mock_didx_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_conn_rec_class.retrieve_by_id.return_value = mock_conn_rec
             mock_didx_mgr.return_value.create_request = async_mock.CoroutineMock()
 
             await test_module.didx_accept_invitation(self.request)
             mock_response.assert_called_once_with(mock_conn_rec.serialize.return_value)
 
     async def test_didx_accept_invitation_not_found(self):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/disclose_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/disclose_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/query_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/query_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_disclose_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_disclose_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_query_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/handlers/tests/test_query_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/disclose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/disclose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/query.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/query.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_disclose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_disclose.py`

 * *Files 0% similar despite different names*

```diff
@@ -38,14 +38,13 @@
         disclose_dict = disclose.serialize()
         mock_disclose_schema_dump.assert_called_once_with(disclose)
 
         assert disclose_dict is mock_disclose_schema_dump.return_value
 
 
 class TestDiscloseSchema(TestCase):
-
     disclose = Disclose(protocols=[])
 
     def test_make_model(self):
         data = self.disclose.serialize()
         model_instance = Disclose.deserialize(data)
         assert isinstance(model_instance, Disclose)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_query.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/messages/tests/test_query.py`

 * *Files 0% similar despite different names*

```diff
@@ -35,14 +35,13 @@
         query_dict = query.serialize()
         mock_query_schema_dump.assert_called_once_with(query)
 
         assert query_dict is mock_query_schema_dump.return_value
 
 
 class TestQuerySchema(TestCase):
-
     query = Query(query="*", comment="comment")
 
     def test_make_model(self):
         data = self.query.serialize()
         model_instance = Query.deserialize(data)
         assert isinstance(model_instance, Query)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/discovery_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/discovery_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/models/tests/test_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/models/tests/test_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/tests/test_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v1_0/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/disclosures_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/disclosures_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/queries_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/queries_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_disclosures_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_disclosures_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_queries_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/handlers/tests/test_queries_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/disclosures.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/disclosures.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/queries.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/queries.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_disclosures.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_disclosures.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_queries.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/messages/tests/test_queries.py`

 * *Files 2% similar despite different names*

```diff
@@ -56,15 +56,14 @@
         queries_dict = queries.serialize()
         mock_queries_schema_dump.assert_called_once_with(queries)
 
         assert queries_dict is mock_queries_schema_dump.return_value
 
 
 class TestQuerySchema(TestCase):
-
     test_queries = [
         QueryItem(feature_type="protocol", match=TEST_QUERY_PROTOCOL),
         QueryItem(feature_type="goal-code", match=TEST_QUERY_GOAL_CODE),
     ]
     queries = Queries(queries=test_queries)
 
     def test_make_model(self):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/discovery_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/discovery_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/models/tests/test_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/models/tests/test_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/tests/test_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/discovery/v2_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/discovery/v2_0/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/controller.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/controller.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/endorsed_transaction_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/endorsed_transaction_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/refused_transaction_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/refused_transaction_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_endorsed_transaction_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_endorsed_transaction_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_refused_transaction_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_refused_transaction_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_acknowledgement_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_acknowledgement_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_cancel_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_cancel_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_job_to_send_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_job_to_send_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_resend_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/tests/test_transaction_resend_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_acknowledgement_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_acknowledgement_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_cancel_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_cancel_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_job_to_send_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_job_to_send_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_resend_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/handlers/transaction_resend_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/cancel_transaction.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/cancel_transaction.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/endorsed_transaction_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/endorsed_transaction_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/messages_attach.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/messages_attach.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/refused_transaction_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/refused_transaction_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_cancel_transaction.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_cancel_transaction.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_endorsed_transaction_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_endorsed_transaction_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_messages_attach.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_messages_attach.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_refused_transaction_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_refused_transaction_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_acknowledgement.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_acknowledgement.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_job_to_send.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_job_to_send.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_resend.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/tests/test_transaction_resend.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_acknowledgement.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_acknowledgement.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_job_to_send.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_job_to_send.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_resend.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/messages/transaction_resend.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/models/transaction_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/models/transaction_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_manager.py`

 * *Files 0% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 from .....admin.request_context import AdminRequestContext
 from .....cache.base import BaseCache
 from .....cache.in_memory import InMemoryCache
 from .....connections.models.conn_record import ConnRecord
 from .....ledger.base import BaseLedger
 from .....storage.error import StorageNotFoundError
 from .....wallet.base import BaseWallet
-from .....wallet.did_method import SOV
+from .....wallet.did_method import SOV, DIDMethods
 from .....wallet.key_type import ED25519
 from ..manager import TransactionManager, TransactionManagerError
 from ..models.transaction_record import TransactionRecord
 from ..transaction_jobs import TransactionJob
 
 TEST_DID = "LjgpST2rjsoxYegQDRm7EL"
 SCHEMA_NAME = "bc-reg"
@@ -108,14 +108,15 @@
         )
         self.ledger.register_nym = async_mock.CoroutineMock(return_value=(True, {}))
 
         self.context = AdminRequestContext.test_context()
         self.profile = self.context.profile
         injector = self.profile.context.injector
         injector.bind_instance(BaseLedger, self.ledger)
+        injector.bind_instance(DIDMethods, DIDMethods())
 
         async with self.profile.session() as session:
             self.wallet: BaseWallet = session.inject_or(BaseWallet)
             await self.wallet.create_local_did(
                 SOV,
                 ED25519,
                 did="DJGEjaMunDtFtBVrn1qJMT",
@@ -491,15 +492,14 @@
         )
 
         with async_mock.patch.object(
             TransactionRecord, "save", autospec=True
         ) as save_record, async_mock.patch.object(
             ConnRecord, "retrieve_by_id"
         ) as mock_conn_rec_retrieve:
-
             mock_conn_rec_retrieve.return_value = async_mock.MagicMock(
                 metadata_get=async_mock.CoroutineMock(
                     return_value={
                         "transaction_their_job": (
                             TransactionJob.TRANSACTION_ENDORSER.name
                         ),
                         "transaction_my_job": (TransactionJob.TRANSACTION_AUTHOR.name),
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -1549,15 +1549,14 @@
         with async_mock.patch.object(
             TransactionRecord, "retrieve_by_id", async_mock.CoroutineMock()
         ) as mock_txn_rec_retrieve, async_mock.patch.object(
             test_module, "TransactionManager", async_mock.MagicMock()
         ) as mock_txn_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_txn_mgr.return_value.complete_transaction = async_mock.CoroutineMock()
 
             mock_txn_mgr.return_value.complete_transaction.return_value = (
                 async_mock.CoroutineMock(
                     serialize=async_mock.MagicMock(return_value={"...": "..."})
                 ),
                 async_mock.CoroutineMock(),
@@ -1596,15 +1595,14 @@
                 await test_module.transaction_write(self.request)
 
     async def test_transaction_write_wrong_state_x(self):
         self.request.match_info = {"tran_id": "dummy"}
         with async_mock.patch.object(
             TransactionRecord, "retrieve_by_id", async_mock.CoroutineMock()
         ) as mock_txn_rec_retrieve:
-
             mock_txn_rec_retrieve.return_value = async_mock.MagicMock(
                 serialize=async_mock.MagicMock(return_value={"...": "..."}),
                 state=TransactionRecord.STATE_TRANSACTION_CREATED,
                 messages_attach=[
                     {"data": {"json": json.dumps({"message": "attached"})}}
                 ],
             )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/endorse_transaction/v1_0/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/endorse_transaction/v1_0/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/base_service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/base_service.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/demo_service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/demo_service.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/forward_invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/forward_invitation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/invitation_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_forward_invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_forward_invitation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/handlers/tests/test_invitation_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/forward_invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/forward_invitation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/invitation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/invitation_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/invitation_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_forward_invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_forward_invitation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/messages/tests/test_invitation_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/introduction/v0_1/tests/test_service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/introduction/v0_1/tests/test_service.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_issue_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_issue_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_offer_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_offer_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/credential_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_issue_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_issue_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_offer_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_offer_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/manager.py`

 * *Files 0% similar despite different names*

```diff
@@ -352,21 +352,23 @@
             cred_def_id=cred_def_id,
         )
 
         async with self._profile.transaction() as txn:
             # Get credential exchange record (holder sent proposal first)
             # or create it (issuer sent offer first)
             try:
-                cred_ex_record = await (
-                    V10CredentialExchange.retrieve_by_connection_and_thread(
-                        txn,
-                        connection_id,
-                        message._thread_id,
-                        role=V10CredentialExchange.ROLE_HOLDER,
-                        for_update=True,
+                cred_ex_record = (
+                    await (
+                        V10CredentialExchange.retrieve_by_connection_and_thread(
+                            txn,
+                            connection_id,
+                            message._thread_id,
+                            role=V10CredentialExchange.ROLE_HOLDER,
+                            for_update=True,
+                        )
                     )
                 )
             except StorageNotFoundError:  # issuer sent this offer free of any proposal
                 cred_ex_record = V10CredentialExchange(
                     connection_id=connection_id,
                     thread_id=message._thread_id,
                     initiator=V10CredentialExchange.INITIATOR_EXTERNAL,
@@ -528,21 +530,23 @@
         # connection_id is None in the record if this is in response to
         # an request~attach from an OOB message. If so, we do not want to filter
         # the record by connection_id.
         connection_id = None if oob_record else connection_record.connection_id
 
         async with self._profile.transaction() as txn:
             try:
-                cred_ex_record = await (
-                    V10CredentialExchange.retrieve_by_connection_and_thread(
-                        txn,
-                        connection_id,
-                        message._thread_id,
-                        role=V10CredentialExchange.ROLE_ISSUER,
-                        for_update=True,
+                cred_ex_record = (
+                    await (
+                        V10CredentialExchange.retrieve_by_connection_and_thread(
+                            txn,
+                            connection_id,
+                            message._thread_id,
+                            role=V10CredentialExchange.ROLE_ISSUER,
+                            for_update=True,
+                        )
                     )
                 )
             except StorageNotFoundError:
                 raise CredentialManagerError(
                     "Indy issue credential format can't start from credential request"
                 ) from None
             if cred_ex_record.state != V10CredentialExchange.STATE_OFFER_SENT:
@@ -737,21 +741,23 @@
 
         """
         assert len(message.credentials_attach or []) == 1
         raw_credential = message.indy_credential(0)
 
         async with self._profile.transaction() as txn:
             try:
-                cred_ex_record = await (
-                    V10CredentialExchange.retrieve_by_connection_and_thread(
-                        txn,
-                        connection_id,
-                        message._thread_id,
-                        role=V10CredentialExchange.ROLE_HOLDER,
-                        for_update=True,
+                cred_ex_record = (
+                    await (
+                        V10CredentialExchange.retrieve_by_connection_and_thread(
+                            txn,
+                            connection_id,
+                            message._thread_id,
+                            role=V10CredentialExchange.ROLE_HOLDER,
+                            for_update=True,
+                        )
                     )
                 )
             except StorageNotFoundError:
                 raise CredentialManagerError(
                     "No credential exchange record found for received credential"
                 ) from None
             if cred_ex_record.state != V10CredentialExchange.STATE_REQUEST_SENT:
@@ -943,21 +949,23 @@
 
         Returns:
             credential exchange record, retrieved and updated
 
         """
         async with self._profile.transaction() as txn:
             try:
-                cred_ex_record = await (
-                    V10CredentialExchange.retrieve_by_connection_and_thread(
-                        txn,
-                        connection_id,
-                        message._thread_id,
-                        role=V10CredentialExchange.ROLE_ISSUER,
-                        for_update=True,
+                cred_ex_record = (
+                    await (
+                        V10CredentialExchange.retrieve_by_connection_and_thread(
+                            txn,
+                            connection_id,
+                            message._thread_id,
+                            role=V10CredentialExchange.ROLE_ISSUER,
+                            for_update=True,
+                        )
                     )
                 )
             except StorageNotFoundError:
                 LOGGER.warning(
                     "Skip ack message on credential exchange, record not found %s",
                     message._thread_id,
                 )
@@ -983,17 +991,19 @@
 
         Returns:
             credential exchange record, retrieved and updated
 
         """
         async with self._profile.transaction() as txn:
             try:
-                cred_ex_record = await (
-                    V10CredentialExchange.retrieve_by_connection_and_thread(
-                        txn, connection_id, message._thread_id, for_update=True
+                cred_ex_record = (
+                    await (
+                        V10CredentialExchange.retrieve_by_connection_and_thread(
+                            txn, connection_id, message._thread_id, for_update=True
+                        )
                     )
                 )
             except StorageNotFoundError:
                 LOGGER.warning(
                     "Skip problem report on credential exchange, record not found %s",
                     message._thread_id,
                 )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_issue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_issue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_offer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_offer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/credential_preview.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/credential_preview.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/test_credential_preview.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/tests/test_credential_preview.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_issue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_issue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_offer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_offer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/messages/tests/test_credential_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/credential_exchange.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/credential_exchange.py`

 * *Files 5% similar despite different names*

```diff
@@ -13,14 +13,17 @@
 from .....indy.models.cred_request import IndyCredRequest, IndyCredRequestSchema
 from .....messaging.models.base_record import BaseExchangeRecord, BaseExchangeSchema
 from .....messaging.valid import INDY_CRED_DEF_ID, INDY_SCHEMA_ID, UUIDFour
 from .....storage.base import StorageError
 
 from ..messages.credential_proposal import CredentialProposal, CredentialProposalSchema
 from ..messages.credential_offer import CredentialOffer, CredentialOfferSchema
+from ..messages.credential_exchange_webhook import (
+    V10CredentialExchangeWebhook,
+)
 
 from . import UNENCRYPTED_TAGS
 
 LOGGER = logging.getLogger(__name__)
 
 
 class V10CredentialExchange(BaseExchangeRecord):
@@ -217,14 +220,41 @@
                 reason=reason,
                 log_params=log_params,
                 log_override=log_override,
             )
         except StorageError:
             LOGGER.exception("Error saving credential exchange error state")
 
+    # Override
+    async def emit_event(self, session: ProfileSession, payload: Any = None):
+        """
+        Emit an event.
+
+        Args:
+            session: The profile session to use
+            payload: The event payload
+        """
+
+        if not self.RECORD_TOPIC:
+            return
+
+        if self.state:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}::{self.state}"
+        else:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}"
+
+        if session.profile.settings.get("debug.webhooks"):
+            if not payload:
+                payload = self.serialize()
+        else:
+            payload = V10CredentialExchangeWebhook(**self.__dict__)
+            payload = payload.__dict__
+
+        await session.profile.notify(topic, payload)
+
     @property
     def record_value(self) -> dict:
         """Accessor for the JSON record value generated for this invitation."""
         return {
             **{
                 prop: getattr(self, prop)
                 for prop in (
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/test_credential_exchange.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/models/tests/test_credential_exchange.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -378,15 +378,18 @@
         )
 
     return web.json_response(result)
 
 
 @docs(
     tags=["issue-credential v1.0"],
-    summary="Send holder a credential, automating entire flow",
+    summary=(
+        "Create a credential record without "
+        "sending (generally for use with Out-Of-Band)"
+    ),
 )
 @request_schema(V10CredentialCreateSchema())
 @response_schema(V10CredentialExchangeSchema(), 200, description="")
 async def credential_exchange_create(request: web.BaseRequest):
     """
     Request handler for creating a credential from attr values.
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/tests/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_manager.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,15 +1,14 @@
 import asyncio
 import json
 
 from copy import deepcopy
 from time import time
 
 from asynctest import mock as async_mock, TestCase as AsyncTestCase
-from more_itertools import side_effect
 
 from .....core.in_memory import InMemoryProfile
 from .....cache.base import BaseCache
 from .....cache.in_memory import InMemoryCache
 from .....indy.holder import IndyHolder
 from .....indy.issuer import IndyIssuer
 from .....messaging.decorators.thread_decorator import ThreadDecorator
@@ -1353,15 +1352,14 @@
         with async_mock.patch.object(
             test_module, "RevocationRegistry", autospec=True
         ) as mock_rev_reg, async_mock.patch.object(
             V10CredentialExchange, "save", autospec=True
         ) as save_ex, async_mock.patch.object(
             V10CredentialExchange, "delete_record", autospec=True
         ) as delete_ex:
-
             mock_rev_reg.from_definition = async_mock.MagicMock(
                 return_value=async_mock.MagicMock(
                     get_or_fetch_local_tails_path=async_mock.CoroutineMock()
                 )
             )
             ret_exchange = await self.manager.store_credential(
                 stored_exchange, credential_id=cred_id
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v1_0/tests/test_routes.py`

 * *Files 2% similar despite different names*

```diff
@@ -249,15 +249,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager:
-
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
             mock_credential_manager.return_value.create_offer.return_value = (
                 async_mock.MagicMock(),
@@ -276,15 +275,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager:
-
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id.return_value.is_ready = False
 
             mock_credential_manager.return_value.create_offer.return_value = (
                 async_mock.MagicMock(),
                 async_mock.MagicMock(),
             )
@@ -339,15 +337,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_ex_record = async_mock.MagicMock()
             mock_credential_manager.return_value.create_proposal.return_value = (
                 mock_cred_ex_record
             )
             await test_module.credential_exchange_send_proposal(self.request)
 
             self.request["outbound_message_router"].assert_awaited_once_with(
@@ -363,15 +360,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module.CredentialPreview, "deserialize", autospec=True
         ) as mock_preview_deserialize:
-
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
             mock_credential_manager.return_value.create_proposal.return_value = (
                 async_mock.MagicMock()
@@ -401,15 +397,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module.CredentialPreview, "deserialize", autospec=True
         ) as mock_preview_deserialize:
-
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_rec.retrieve_by_id.return_value.is_ready = False
 
             mock_credential_manager.return_value.create_proposal.return_value = (
                 async_mock.MagicMock()
             )
@@ -591,15 +586,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_credential_manager.return_value.create_offer = (
                 async_mock.CoroutineMock()
             )
 
             mock_cred_ex_record = async_mock.MagicMock()
 
             mock_credential_manager.return_value.create_offer.return_value = (
@@ -643,15 +637,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager:
-
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
             mock_credential_manager.return_value.create_offer = (
                 async_mock.CoroutineMock()
@@ -669,15 +662,14 @@
         self.request.json.return_value["auto_issue"] = True
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager:
-
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_rec.retrieve_by_id.return_value.is_ready = False
 
             mock_credential_manager.return_value.create_offer = (
                 async_mock.CoroutineMock()
             )
@@ -735,15 +727,14 @@
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
                 mock_cred_ex.STATE_PROPOSAL_RECEIVED
             )
 
             mock_credential_manager.return_value.create_offer = (
                 async_mock.CoroutineMock()
@@ -874,15 +865,14 @@
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
                 mock_cred_ex.STATE_OFFER_RECEIVED
             )
 
             mock_cred_ex_record = async_mock.MagicMock()
 
@@ -908,15 +898,14 @@
         ) as mock_default_did_from_verkey, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_oob_rec.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(our_recipient_key="our-recipient_key")
             )
             mock_default_did_from_verkey.return_value = "holder-did"
 
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
@@ -1033,15 +1022,14 @@
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
                 mock_cred_ex.STATE_REQUEST_RECEIVED
             )
 
             mock_cred_ex_record = async_mock.MagicMock()
 
@@ -1083,15 +1071,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex_cls:
-
             mock_cred_ex_rec.state = mock_cred_ex_cls.STATE_REQUEST_RECEIVED
             mock_cred_ex_cls.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=mock_cred_ex_rec
             )
 
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
@@ -1116,15 +1103,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex:
-
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
                 mock_cred_ex.STATE_REQUEST_RECEIVED
             )
 
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
@@ -1212,15 +1198,14 @@
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
                 mock_cred_ex.STATE_CREDENTIAL_RECEIVED
             )
 
             mock_cred_ex_record = async_mock.MagicMock()
 
@@ -1249,15 +1234,14 @@
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "CredentialManager", autospec=True
         ) as mock_credential_manager, async_mock.patch.object(
             test_module, "V10CredentialExchange", autospec=True
         ) as mock_cred_ex, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
                 mock_cred_ex.STATE_CREDENTIAL_RECEIVED
             )
 
             mock_cred_ex_record = async_mock.MagicMock()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/test_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/indy/tests/test_handler.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,15 +1,14 @@
 import asyncio
 from copy import deepcopy
 from time import time
 import json
 from asynctest import TestCase as AsyncTestCase
 from asynctest import mock as async_mock
 from marshmallow import ValidationError
-from more_itertools import side_effect
 
 from .. import handler as test_module
 
 from .......core.in_memory import InMemoryProfile
 from .......ledger.base import BaseLedger
 from .......ledger.multiple_ledger.ledger_requests_executor import (
     IndyLedgerRequestsExecutor,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/handler.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 """V2.0 issue-credential linked data proof credential format handler."""
 
 
 from ......vc.ld_proofs.error import LinkedDataProofException
 from ......vc.ld_proofs.check import get_properties_without_context
 import logging
 
-from typing import Mapping
+from typing import Mapping, Optional
 
 from marshmallow import EXCLUDE, INCLUDE
 
 from pyld import jsonld
 from pyld.jsonld import JsonLdProcessor
 
 from ......did.did_key import DIDKey
@@ -249,30 +249,34 @@
             # If the did starts with did:sov we need to query without
             if did.startswith("did:sov:"):
                 return await wallet.get_local_did(did.replace("did:sov:", ""))
 
             # All other methods we can just query
             return await wallet.get_local_did(did)
 
-    async def _get_suite_for_detail(self, detail: LDProofVCDetail) -> LinkedDataProof:
+    async def _get_suite_for_detail(
+        self, detail: LDProofVCDetail, verification_method: Optional[str] = None
+    ) -> LinkedDataProof:
         issuer_id = detail.credential.issuer_id
         proof_type = detail.options.proof_type
 
         # Assert we can issue the credential based on issuer + proof_type
         await self._assert_can_issue_with_id_and_proof_type(issuer_id, proof_type)
 
         # Create base proof object with options from detail
         proof = LDProof(
             created=detail.options.created,
             domain=detail.options.domain,
             challenge=detail.options.challenge,
         )
 
         did_info = await self._did_info_for_did(issuer_id)
-        verification_method = self._get_verification_method(issuer_id)
+        verification_method = verification_method or self._get_verification_method(
+            issuer_id
+        )
 
         suite = await self._get_suite(
             proof_type=proof_type,
             verification_method=verification_method,
             proof=proof.serialize(),
             did_info=did_info,
         )
@@ -453,30 +457,34 @@
 
     async def receive_request(
         self, cred_ex_record: V20CredExRecord, cred_request_message: V20CredRequest
     ) -> None:
         """Receive linked data proof request."""
 
     async def issue_credential(
-        self, cred_ex_record: V20CredExRecord, retries: int = 5
+        self,
+        cred_ex_record: V20CredExRecord,
+        retries: int = 5,
     ) -> CredFormatAttachment:
         """Issue linked data proof credential."""
         if not cred_ex_record.cred_request:
             raise V20CredFormatError(
                 "Cannot issue credential without credential request"
             )
 
         detail_dict = cred_ex_record.cred_request.attachment(
             LDProofCredFormatHandler.format
         )
         detail = LDProofVCDetail.deserialize(detail_dict)
         detail = await self._prepare_detail(detail)
 
         # Get signature suite, proof purpose and document loader
-        suite = await self._get_suite_for_detail(detail)
+        suite = await self._get_suite_for_detail(
+            detail, cred_ex_record.verification_method
+        )
         proof_purpose = self._get_proof_purpose(
             proof_purpose=detail.options.proof_purpose,
             challenge=detail.options.challenge,
             domain=detail.options.domain,
         )
         document_loader = self.profile.inject(DocumentLoader)
 
@@ -588,15 +596,15 @@
             purpose=purpose,
         )
 
         if not result.verified:
             raise V20CredFormatError(f"Received invalid credential: {result}")
 
         # Saving expanded type as a cred_tag
-        expanded = jsonld.expand(cred_dict)
+        expanded = jsonld.expand(cred_dict, options={"documentLoader": document_loader})
         types = JsonLdProcessor.get_values(
             expanded[0],
             "@type",
         )
 
         # create VC record for storage
         vc_record = VCRecord(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail_options.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/cred_detail_options.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/test_cred_detail.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/models/tests/test_cred_detail.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/test_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/formats/ld_proof/tests/test_handler.py`

 * *Files 0% similar despite different names*

```diff
@@ -270,15 +270,14 @@
             "_assert_can_issue_with_id_and_proof_type",
             async_mock.CoroutineMock(),
         ) as mock_can_issue, async_mock.patch.object(
             LDProofCredFormatHandler,
             "_did_info_for_did",
             async_mock.CoroutineMock(),
         ) as mock_did_info:
-
             suite = await self.handler._get_suite_for_detail(detail)
 
             assert suite.signature_type == detail.options.proof_type
             assert type(suite) == Ed25519Signature2018
             assert suite.verification_method == DIDKey.from_did(TEST_DID_KEY).key_id
             assert suite.proof == {"created": LD_PROOF_VC_DETAIL["options"]["created"]}
             assert suite.key_pair.key_type == ED25519
@@ -585,15 +584,15 @@
         ) as mock_get_proof_purpose:
             (cred_format, attachment) = await self.handler.issue_credential(
                 cred_ex_record
             )
 
             detail = LDProofVCDetail.deserialize(LD_PROOF_VC_DETAIL)
 
-            mock_get_suite.assert_called_once_with(detail)
+            mock_get_suite.assert_called_once_with(detail, None)
             mock_issue.assert_called_once_with(
                 credential=LD_PROOF_VC_DETAIL["credential"],
                 suite=mock_get_suite.return_value,
                 document_loader=custom_document_loader,
                 purpose=mock_get_proof_purpose.return_value,
             )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_issue_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_issue_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_offer_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_offer_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/cred_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_issue_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_issue_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_offer_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_offer_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -51,45 +51,47 @@
         """
         return self._profile
 
     async def prepare_send(
         self,
         connection_id: str,
         cred_proposal: V20CredProposal,
+        verification_method: Optional[str] = None,
         auto_remove: bool = None,
     ) -> Tuple[V20CredExRecord, V20CredOffer]:
         """
         Set up a new credential exchange record for an automated send.
 
         Args:
             connection_id: connection for which to create offer
             cred_proposal: credential proposal with preview
+            verification_method: an optional verification method to be used when issuing
             auto_remove: flag to remove the record automatically on completion
 
         Returns:
             A tuple of the new credential exchange record and credential offer message
 
         """
         if auto_remove is None:
             auto_remove = not self._profile.settings.get("preserve_exchange_records")
         cred_ex_record = V20CredExRecord(
             connection_id=connection_id,
+            verification_method=verification_method,
             initiator=V20CredExRecord.INITIATOR_SELF,
             role=V20CredExRecord.ROLE_ISSUER,
             cred_proposal=cred_proposal,
             auto_issue=True,
             auto_remove=auto_remove,
             trace=(cred_proposal._trace is not None),
         )
-        (cred_ex_record, cred_offer) = await self.create_offer(
+        return await self.create_offer(
             cred_ex_record=cred_ex_record,
             counter_proposal=None,
             comment="create automated v2.0 credential exchange record",
         )
-        return (cred_ex_record, cred_offer)
 
     async def create_proposal(
         self,
         connection_id: str,
         *,
         auto_remove: bool = None,
         comment: str = None,
@@ -280,21 +282,19 @@
 
         """
 
         # Get credential exchange record (holder sent proposal first)
         # or create it (issuer sent offer first)
         try:
             async with self._profile.session() as session:
-                cred_ex_record = await (
-                    V20CredExRecord.retrieve_by_conn_and_thread(
-                        session,
-                        connection_id,
-                        cred_offer_message._thread_id,
-                        role=V20CredExRecord.ROLE_HOLDER,
-                    )
+                cred_ex_record = await V20CredExRecord.retrieve_by_conn_and_thread(
+                    session,
+                    connection_id,
+                    cred_offer_message._thread_id,
+                    role=V20CredExRecord.ROLE_HOLDER,
                 )
         except StorageNotFoundError:  # issuer sent this offer free of any proposal
             cred_ex_record = V20CredExRecord(
                 connection_id=connection_id,
                 thread_id=cred_offer_message._thread_id,
                 initiator=V20CredExRecord.INITIATOR_EXTERNAL,
                 role=V20CredExRecord.ROLE_HOLDER,
@@ -416,21 +416,19 @@
         # connection_id is None in the record if this is in response to
         # an request~attach from an OOB message. If so, we do not want to filter
         # the record by connection_id.
         connection_id = None if oob_record else connection_record.connection_id
 
         async with self._profile.session() as session:
             try:
-                cred_ex_record = await (
-                    V20CredExRecord.retrieve_by_conn_and_thread(
-                        session,
-                        connection_id,
-                        cred_request_message._thread_id,
-                        role=V20CredExRecord.ROLE_ISSUER,
-                    )
+                cred_ex_record = await V20CredExRecord.retrieve_by_conn_and_thread(
+                    session,
+                    connection_id,
+                    cred_request_message._thread_id,
+                    role=V20CredExRecord.ROLE_ISSUER,
                 )
             except StorageNotFoundError:
                 # holder sent this request free of any offer
                 cred_ex_record = V20CredExRecord(
                     connection_id=connection_id,
                     thread_id=cred_request_message._thread_id,
                     initiator=V20CredExRecord.INITIATOR_EXTERNAL,
@@ -549,21 +547,19 @@
             Credential exchange record, retrieved and updated
 
         """
         assert cred_issue_message.credentials_attach
 
         # FIXME use transaction, fetch for_update
         async with self._profile.session() as session:
-            cred_ex_record = await (
-                V20CredExRecord.retrieve_by_conn_and_thread(
-                    session,
-                    connection_id,
-                    cred_issue_message._thread_id,
-                    role=V20CredExRecord.ROLE_HOLDER,
-                )
+            cred_ex_record = await V20CredExRecord.retrieve_by_conn_and_thread(
+                session,
+                connection_id,
+                cred_issue_message._thread_id,
+                role=V20CredExRecord.ROLE_HOLDER,
             )
 
         cred_request_message = cred_ex_record.cred_request
         req_formats = [
             V20CredFormat.Format.get(fmt.format)
             for fmt in cred_request_message.formats
             if V20CredFormat.Format.get(fmt.format)
@@ -693,21 +689,19 @@
 
         Returns:
             credential exchange record, retrieved and updated
 
         """
         # FIXME use transaction, fetch for_update
         async with self._profile.session() as session:
-            cred_ex_record = await (
-                V20CredExRecord.retrieve_by_conn_and_thread(
-                    session,
-                    connection_id,
-                    cred_ack_message._thread_id,
-                    role=V20CredExRecord.ROLE_ISSUER,
-                )
+            cred_ex_record = await V20CredExRecord.retrieve_by_conn_and_thread(
+                session,
+                connection_id,
+                cred_ack_message._thread_id,
+                role=V20CredExRecord.ROLE_ISSUER,
             )
 
             cred_ex_record.state = V20CredExRecord.STATE_DONE
             await cred_ex_record.save(session, reason="receive credential ack v2.0")
 
         if cred_ex_record.auto_remove:
             await self.delete_cred_ex_record(cred_ex_record.cred_ex_id)
@@ -736,20 +730,18 @@
 
         Returns:
             credential exchange record, retrieved and updated
 
         """
         # FIXME use transaction, fetch for_update
         async with self._profile.session() as session:
-            cred_ex_record = await (
-                V20CredExRecord.retrieve_by_conn_and_thread(
-                    session,
-                    connection_id,
-                    message._thread_id,
-                )
+            cred_ex_record = await V20CredExRecord.retrieve_by_conn_and_thread(
+                session,
+                connection_id,
+                message._thread_id,
             )
 
             cred_ex_record.state = V20CredExRecord.STATE_ABANDONED
             code = message.description.get(
                 "code",
                 ProblemReportReason.ISSUANCE_ABANDONED.value,
             )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_format.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_format.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_issue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_issue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_offer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_offer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/cred_preview.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/cred_preview.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/test_cred_preview.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/tests/test_cred_preview.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_format.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_format.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_issue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_issue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_offer.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_offer.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/messages/tests/test_cred_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/cred_ex_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/cred_ex_record.py`

 * *Files 4% similar despite different names*

```diff
@@ -13,14 +13,15 @@
 
 from ..messages.cred_format import V20CredFormat
 from ..messages.cred_issue import V20CredIssue, V20CredIssueSchema
 from ..messages.cred_proposal import V20CredProposal, V20CredProposalSchema
 from ..messages.cred_offer import V20CredOffer, V20CredOfferSchema
 from ..messages.cred_request import V20CredRequest, V20CredRequestSchema
 from ..messages.inner.cred_preview import V20CredPreviewSchema
+from ..messages.cred_ex_record_webhook import V20CredExRecordWebhook
 
 from . import UNENCRYPTED_TAGS
 
 LOGGER = logging.getLogger(__name__)
 
 
 class V20CredExRecord(BaseExchangeRecord):
@@ -54,14 +55,15 @@
     STATE_ABANDONED = "abandoned"
 
     def __init__(
         self,
         *,
         cred_ex_id: str = None,
         connection_id: str = None,
+        verification_method: Optional[str] = None,
         thread_id: str = None,
         parent_thread_id: str = None,
         initiator: str = None,
         role: str = None,
         state: str = None,
         cred_proposal: Union[Mapping, V20CredProposal] = None,  # aries message
         cred_offer: Union[Mapping, V20CredOffer] = None,  # aries message
@@ -77,14 +79,15 @@
         by_format: Mapping = None,  # backward compat: BaseRecord.from_storage()
         **kwargs,
     ):
         """Initialize a new V20CredExRecord."""
         super().__init__(cred_ex_id, state, trace=trace, **kwargs)
         self._id = cred_ex_id
         self.connection_id = connection_id or conn_id
+        self.verification_method = verification_method
         self.thread_id = thread_id
         self.parent_thread_id = parent_thread_id
         self.initiator = initiator
         self.role = role
         self.state = state
         self._cred_proposal = V20CredProposal.serde(cred_proposal)
         self._cred_offer = V20CredOffer.serde(cred_offer)
@@ -177,22 +180,50 @@
                 reason=reason,
                 log_params=log_params,
                 log_override=log_override,
             )
         except StorageError as err:
             LOGGER.exception(err)
 
+    # Override
+    async def emit_event(self, session: ProfileSession, payload: Any = None):
+        """
+        Emit an event.
+
+        Args:
+            session: The profile session to use
+            payload: The event payload
+        """
+
+        if not self.RECORD_TOPIC:
+            return
+
+        if self.state:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}::{self.state}"
+        else:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}"
+
+        if session.profile.settings.get("debug.webhooks"):
+            if not payload:
+                payload = self.serialize()
+        else:
+            payload = V20CredExRecordWebhook(**self.__dict__)
+            payload = payload.__dict__
+
+        await session.profile.notify(topic, payload)
+
     @property
     def record_value(self) -> Mapping:
         """Accessor for the JSON record value generated for this credential exchange."""
         return {
             **{
                 prop: getattr(self, prop)
                 for prop in (
                     "connection_id",
+                    "verification_method",
                     "parent_thread_id",
                     "initiator",
                     "role",
                     "state",
                     "auto_offer",
                     "auto_issue",
                     "auto_remove",
@@ -292,43 +323,31 @@
         required=False, description="Parent thread identifier", example=UUIDFour.EXAMPLE
     )
     initiator = fields.Str(
         required=False,
         description="Issue-credential exchange initiator: self or external",
         example=V20CredExRecord.INITIATOR_SELF,
         validate=validate.OneOf(
-            [
-                getattr(V20CredExRecord, m)
-                for m in vars(V20CredExRecord)
-                if m.startswith("INITIATOR_")
-            ]
+            V20CredExRecord.get_attributes_by_prefix("INITIATOR_", walk_mro=False)
         ),
     )
     role = fields.Str(
         required=False,
         description="Issue-credential exchange role: holder or issuer",
         example=V20CredExRecord.ROLE_ISSUER,
         validate=validate.OneOf(
-            [
-                getattr(V20CredExRecord, m)
-                for m in vars(V20CredExRecord)
-                if m.startswith("ROLE_")
-            ]
+            V20CredExRecord.get_attributes_by_prefix("ROLE_", walk_mro=False)
         ),
     )
     state = fields.Str(
         required=False,
         description="Issue-credential exchange state",
         example=V20CredExRecord.STATE_DONE,
         validate=validate.OneOf(
-            [
-                getattr(V20CredExRecord, m)
-                for m in vars(V20CredExRecord)
-                if m.startswith("STATE_")
-            ]
+            V20CredExRecord.get_attributes_by_prefix("STATE_", walk_mro=True)
         ),
     )
     cred_preview = fields.Nested(
         V20CredPreviewSchema(),
         required=False,
         dump_only=True,
         description="Credential preview from credential proposal",
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/ld_proof.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/ld_proof.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_ld_proof.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/detail/tests/test_ld_proof.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/test_cred_ex_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/models/tests/test_cred_ex_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/routes.py`

 * *Files 2% similar despite different names*

```diff
@@ -273,14 +273,21 @@
 
     connection_id = fields.UUID(
         description="Connection identifier",
         required=True,
         example=UUIDFour.EXAMPLE,  # typically but not necessarily a UUID4
     )
 
+    verification_method = fields.Str(
+        required=False,
+        default=None,
+        allow_none=True,
+        description="For ld-proofs. Verification method for signing.",
+    )
+
 
 class V20CredBoundOfferRequestSchema(OpenAPISchema):
     """Request schema for sending bound credential offer admin message."""
 
     filter_ = fields.Nested(
         V20CredFilterSchema,
         required=False,
@@ -517,15 +524,18 @@
         )
 
     return web.json_response(result)
 
 
 @docs(
     tags=["issue-credential v2.0"],
-    summary="Create credential from attribute values",
+    summary=(
+        "Create a credential record without "
+        "sending (generally for use with Out-Of-Band)"
+    ),
 )
 @request_schema(V20IssueCredSchemaCore())
 @response_schema(V20CredExRecordSchema(), 200, description="")
 async def credential_exchange_create(request: web.BaseRequest):
     """
     Request handler for creating a credential from attr values.
 
@@ -621,14 +631,16 @@
     profile = context.profile
     outbound_handler = request["outbound_message_router"]
 
     body = await request.json()
 
     comment = body.get("comment")
     connection_id = body.get("connection_id")
+    verification_method = body.get("verification_method")
+
     filt_spec = body.get("filter")
     if not filt_spec:
         raise web.HTTPBadRequest(reason="Missing filter")
     preview_spec = body.get("credential_preview")
     auto_remove = body.get("auto_remove")
     trace_msg = body.get("trace")
 
@@ -661,14 +673,15 @@
             cred_proposal,
             outcome="credential_exchange_send.START",
         )
 
         cred_manager = V20CredManager(profile)
         (cred_ex_record, cred_offer_message) = await cred_manager.prepare_send(
             connection_id,
+            verification_method=verification_method,
             cred_proposal=cred_proposal,
             auto_remove=auto_remove,
         )
         result = cred_ex_record.serialize()
 
     except (
         BaseModelError,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/tests/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -161,15 +161,14 @@
         )
 
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.create_proposal = async_mock.CoroutineMock(
                 return_value=(
                     V20CredFormat(
                         attach_id=V20CredFormat.Format.INDY.api,
                         format_=ATTACHMENT_FORMAT[CRED_20_PROPOSAL][
                             V20CredFormat.Format.INDY.api
                         ],
@@ -205,15 +204,14 @@
         comment = "comment"
 
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.create_proposal = async_mock.CoroutineMock(
                 return_value=(
                     V20CredFormat(
                         attach_id=V20CredFormat.Format.LD_PROOF.api,
                         format_=ATTACHMENT_FORMAT[CRED_20_PROPOSAL][
                             V20CredFormat.Format.LD_PROOF.api
                         ],
@@ -257,15 +255,14 @@
         )
 
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.receive_proposal = async_mock.CoroutineMock()
 
             cred_proposal = V20CredProposal(
                 credential_preview=cred_preview,
                 formats=[
                     V20CredFormat(
                         attach_id="0",
@@ -331,15 +328,14 @@
         )
 
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.create_offer = async_mock.CoroutineMock(
                 return_value=(
                     V20CredFormat(
                         attach_id=V20CredFormat.Format.INDY.api,
                         format_=ATTACHMENT_FORMAT[CRED_20_PROPOSAL][
                             V20CredFormat.Format.INDY.api
                         ],
@@ -623,15 +619,14 @@
         self.context.injector.bind_instance(BaseCache, self.cache)
 
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.create_request = async_mock.CoroutineMock(
                 return_value=(
                     V20CredFormat(
                         attach_id=V20CredFormat.Format.INDY.api,
                         format_=ATTACHMENT_FORMAT[CRED_20_REQUEST][
                             V20CredFormat.Format.INDY.api
                         ],
@@ -711,15 +706,14 @@
         self.context.injector.bind_instance(BaseCache, self.cache)
 
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.create_request = async_mock.CoroutineMock(
                 return_value=(
                     V20CredFormat(
                         attach_id=V20CredFormat.Format.LD_PROOF.api,
                         format_=ATTACHMENT_FORMAT[CRED_20_REQUEST][
                             V20CredFormat.Format.LD_PROOF.api
                         ],
@@ -982,15 +976,14 @@
         self.context.injector.bind_instance(IndyIssuer, issuer)
 
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.issue_credential = async_mock.CoroutineMock(
                 return_value=(
                     V20CredFormat(
                         attach_id=V20CredFormat.Format.INDY.api,
                         format_=ATTACHMENT_FORMAT[CRED_20_ISSUE][
                             V20CredFormat.Format.INDY.api
                         ],
@@ -1095,15 +1088,14 @@
         ) as mock_save, async_mock.patch.object(
             V20CredExRecord,
             "retrieve_by_conn_and_thread",
             async_mock.CoroutineMock(),
         ) as mock_retrieve, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.receive_credential = async_mock.CoroutineMock()
             mock_retrieve.return_value = stored_cx_rec
             ret_cx_rec = await self.manager.receive_credential(
                 cred_issue,
                 connection_id,
             )
 
@@ -1243,15 +1235,14 @@
         with async_mock.patch.object(
             V20CredExRecord, "save", autospec=True
         ) as mock_save, async_mock.patch.object(
             test_module.V20CredManager, "delete_cred_ex_record", autospec=True
         ) as mock_delete, async_mock.patch.object(
             V20CredFormat.Format, "handler"
         ) as mock_handler:
-
             mock_handler.return_value.store_credential = async_mock.CoroutineMock()
 
             ret_cx_rec = await self.manager.store_credential(
                 stored_cx_rec, cred_id=cred_id
             )
 
             mock_handler.return_value.store_credential.assert_called_once_with(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/issue_credential/v2_0/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -358,15 +358,14 @@
         ) as mock_default_did_from_verkey, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module, "V20CredExRecord", autospec=True
         ) as mock_cred_ex, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_oob_rec.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(our_recipient_key="our-recipient_key")
             )
             mock_default_did_from_verkey.return_value = "holder-did"
 
             mock_cred_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_cred_ex.retrieve_by_id.return_value.state = (
@@ -403,15 +402,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr:
-
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
             mock_cred_mgr.return_value.create_offer.return_value = (
                 async_mock.MagicMock(),
@@ -580,15 +578,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module.V20CredPreview, "deserialize", autospec=True
         ) as mock_preview_deser:
-
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_rec.retrieve_by_id.return_value.is_ready = False
 
             mock_cred_mgr.return_value.create_proposal.return_value = (
                 async_mock.MagicMock()
             )
@@ -727,15 +724,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr:
-
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
             mock_cred_mgr.return_value.create_offer = async_mock.CoroutineMock()
             mock_cred_mgr.return_value.create_offer.return_value = (
@@ -758,15 +754,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr:
-
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_rec.retrieve_by_id.return_value.is_ready = False
 
             mock_cred_mgr.return_value.create_offer = async_mock.CoroutineMock()
             mock_cred_mgr.return_value.create_offer.return_value = (
                 async_mock.MagicMock(),
@@ -982,15 +977,14 @@
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module, "V20CredExRecord", autospec=True
         ) as mock_cx_rec_cls, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cx_rec_cls.retrieve_by_id = async_mock.CoroutineMock()
             mock_cx_rec_cls.retrieve_by_id.return_value.state = (
                 test_module.V20CredExRecord.STATE_OFFER_RECEIVED
             )
 
             mock_cx_rec = async_mock.MagicMock()
 
@@ -1092,15 +1086,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_mgr.return_value.create_request = async_mock.CoroutineMock()
 
             mock_cx_rec = async_mock.MagicMock()
 
             mock_cred_mgr.return_value.create_request.return_value = (
                 mock_cx_rec,
                 async_mock.MagicMock(),
@@ -1127,15 +1120,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr:
-
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
             mock_cred_mgr.return_value.create_request = async_mock.CoroutineMock()
             mock_cred_mgr.return_value.create_request.return_value = (
@@ -1154,15 +1146,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr:
-
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_rec.retrieve_by_id.return_value.is_ready = False
 
             mock_cred_mgr.return_value.create_request = async_mock.CoroutineMock()
             mock_cred_mgr.return_value.create_request.return_value = (
                 async_mock.MagicMock(),
@@ -1182,15 +1173,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_cred_mgr.return_value.create_request = async_mock.CoroutineMock(
                 side_effect=[
                     test_module.LedgerError(),
                     test_module.StorageError(),
                 ]
             )
 
@@ -1273,15 +1263,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module, "V20CredExRecord", autospec=True
         ) as mock_cx_rec_cls:
-
             mock_cx_rec.state = mock_cx_rec_cls.STATE_REQUEST_RECEIVED
             mock_cx_rec_cls.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=mock_cx_rec
             )
 
             # Emulate storage not found (bad connection id)
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock(
@@ -1304,15 +1293,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module, "V20CredExRecord", autospec=True
         ) as mock_cx_rec:
-
             mock_cx_rec.retrieve_by_id = async_mock.CoroutineMock()
             mock_cx_rec.retrieve_by_id.return_value.state = (
                 test_module.V20CredExRecord.STATE_REQUEST_RECEIVED
             )
 
             # Emulate connection not ready
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
@@ -1339,15 +1327,14 @@
         with async_mock.patch.object(
             test_module, "ConnRecord", autospec=True
         ) as mock_conn_rec, async_mock.patch.object(
             test_module, "V20CredManager", autospec=True
         ) as mock_cred_mgr, async_mock.patch.object(
             test_module, "V20CredExRecord", autospec=True
         ) as mock_cx_rec_cls:
-
             mock_cx_rec.state = mock_cx_rec_cls.STATE_REQUEST_RECEIVED
             mock_cx_rec_cls.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=mock_cx_rec
             )
 
             mock_conn_rec.retrieve_by_id = async_mock.CoroutineMock()
             mock_conn_rec.retrieve_by_id.return_value.is_ready = True
@@ -1460,15 +1447,14 @@
         ) as mock_cx_rec_cls, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response, async_mock.patch.object(
             LDProofCredFormatHandler, "get_detail_record", autospec=True
         ) as mock_ld_proof_get_detail_record, async_mock.patch.object(
             IndyCredFormatHandler, "get_detail_record", autospec=True
         ) as mock_indy_get_detail_record:
-
             mock_cx_rec_cls.retrieve_by_id = async_mock.CoroutineMock()
             mock_cx_rec_cls.retrieve_by_id.return_value.state = (
                 test_module.V20CredExRecord.STATE_CREDENTIAL_RECEIVED
             )
 
             mock_cx_rec = async_mock.MagicMock()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/handlers/tests/test_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/handlers/tests/test_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/notification/v1_0/messages/ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/notification/v1_0/messages/ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_accept_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_accept_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/reuse_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_accept_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_accept_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/handlers/tests/test_reuse_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -136,23 +136,14 @@
                 and self.profile.settings.get("debug.auto_accept_requests")
             )
         )
         if not hs_protos and metadata:
             raise OutOfBandManagerError(
                 "Cannot store metadata without handshake protocols"
             )
-        if public:
-            if multi_use:
-                raise OutOfBandManagerError(
-                    "Cannot create public invitation with multi_use"
-                )
-            if metadata:
-                raise OutOfBandManagerError(
-                    "Cannot store metadata on public invitations"
-                )
 
         if attachments and multi_use:
             raise OutOfBandManagerError(
                 "Cannot create multi use invitation with attachments"
             )
 
         invitation_message_id = str(uuid.uuid4())
@@ -219,14 +210,15 @@
         if public:
             if not self.profile.settings.get("public_invites"):
                 raise OutOfBandManagerError("Public invitations are not enabled")
 
             async with self.profile.session() as session:
                 wallet = session.inject(BaseWallet)
                 public_did = await wallet.get_public_did()
+
             if not public_did:
                 raise OutOfBandManagerError(
                     "Cannot create public invitation with no public DID"
                 )
 
             invi_msg = InvitationMessage(  # create invitation message
                 _id=invitation_message_id,
@@ -242,38 +234,49 @@
             our_recipient_key = public_did.verkey
 
             endpoint, *_ = await self.resolve_invitation(public_did.did)
             invi_url = invi_msg.to_url(endpoint)
 
             # Only create connection record if hanshake_protocols is defined
             if handshake_protocols:
+                invitation_mode = (
+                    ConnRecord.INVITATION_MODE_MULTI
+                    if multi_use
+                    else ConnRecord.INVITATION_MODE_ONCE
+                )
                 conn_rec = ConnRecord(  # create connection record
                     invitation_key=public_did.verkey,
                     invitation_msg_id=invi_msg._id,
+                    invitation_mode=invitation_mode,
                     their_role=ConnRecord.Role.REQUESTER.rfc23,
                     state=ConnRecord.State.INVITATION.rfc23,
                     accept=ConnRecord.ACCEPT_AUTO
                     if auto_accept
                     else ConnRecord.ACCEPT_MANUAL,
                     alias=alias,
                     connection_protocol=connection_protocol,
                 )
 
                 async with self.profile.session() as session:
                     await conn_rec.save(session, reason="Created new invitation")
                     await conn_rec.attach_invitation(session, invi_msg)
+
+                    await conn_rec.attach_invitation(session, invi_msg)
+
+                    if metadata:
+                        for key, value in metadata.items():
+                            await conn_rec.metadata_set(session, key, value)
             else:
                 our_service = ServiceDecorator(
                     recipient_keys=[our_recipient_key],
                     endpoint=endpoint,
                     routing_keys=[],
                 ).serialize()
 
         else:
-
             if not my_endpoint:
                 my_endpoint = self.profile.settings.get("default_endpoint")
 
             # Create and store new key for exchange
             async with self.profile.session() as session:
                 wallet = session.inject(BaseWallet)
                 connection_key = await wallet.create_signing_key(ED25519)
@@ -315,14 +318,18 @@
 
             if not conn_rec:
                 our_service = ServiceDecorator(
                     recipient_keys=[our_recipient_key],
                     endpoint=my_endpoint,
                     routing_keys=routing_keys,
                 ).serialize()
+                # Need to make sure the created key is routed by the base wallet
+                await self._route_manager.route_verkey(
+                    self.profile, connection_key.verkey
+                )
 
             routing_keys = [
                 key
                 if len(key.split(":")) == 3
                 else DIDKey.from_public_key_b58(key, ED25519).did
                 for key in routing_keys
             ]
@@ -536,14 +543,19 @@
                     connection_key = await wallet.create_signing_key(ED25519)
                     oob_record.our_recipient_key = connection_key.verkey
                     oob_record.our_service = ServiceDecorator(
                         recipient_keys=[connection_key.verkey],
                         endpoint=self.profile.settings.get("default_endpoint"),
                         routing_keys=[],
                     ).serialize()
+
+                    # Need to make sure the created key is routed by the base wallet
+                    await self._route_manager.route_verkey(
+                        self.profile, connection_key.verkey
+                    )
                     await oob_record.save(session)
 
             await self._process_request_attach(oob_record)
 
         return oob_record
 
     async def _process_request_attach(self, oob_record: OobRecord):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/invitation.py`

 * *Files 2% similar despite different names*

```diff
@@ -92,21 +92,25 @@
         if isinstance(value, Service):
             return value.serialize()
         return value
 
     def _deserialize(self, value, attr, data, **kwargs):
         if isinstance(value, dict):
             return Service.deserialize(value)
+        elif isinstance(value, Service):
+            return value
         elif isinstance(value, str):
-            if bool(DIDValidation.PATTERN.match(value)):
-                return value
-            else:
+            if not DIDValidation.PATTERN.match(value):
                 raise ValidationError(
                     "Service item must be a valid decentralized identifier (DID)"
                 )
+            return value
+        raise ValidationError(
+            "Service item must be a valid decentralized identifier (DID) or object"
+        )
 
 
 class InvitationMessage(AgentMessage):
     """Class representing an out of band invitation message."""
 
     class Meta:
         """InvitationMessage metadata."""
@@ -217,17 +221,14 @@
         description="Optional image URL for out-of-band invitation",
         example="http://192.168.56.101/img/logo.jpg",
     )
     handshake_protocols = fields.List(
         fields.Str(
             description="Handshake protocol",
             example=DIDCommPrefix.qualify_current(HSProto.RFC23.name),
-            validate=lambda hsp: (
-                DIDCommPrefix.unqualify(hsp) in [p.name for p in HSProto]
-            ),
         ),
         required=False,
     )
     accept = fields.List(
         fields.Str(),
         example=["didcomm/aip1", "didcomm/aip2;env=rfc19"],
         description=("List of mime type in order of preference"),
@@ -272,21 +273,18 @@
         Args:
             data: The data to validate
         Raises:
             ValidationError: If any of the fields do not validate
         """
         handshake_protocols = data.get("handshake_protocols")
         requests_attach = data.get("requests_attach")
-        if not (
-            (handshake_protocols and len(handshake_protocols) > 0)
-            or (requests_attach and len(requests_attach) > 0)
-        ):
+        if not handshake_protocols and not requests_attach:
             raise ValidationError(
                 "Model must include non-empty "
-                "handshake_protocols or requests_attach or both"
+                "handshake_protocols or requests~attach or both"
             )
 
         # services = data.get("services")
         # if not ((services and len(services) > 0)):
         #     raise ValidationError(
         #         "Model must include non-empty services array"
         #     )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse_accept.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/reuse_accept.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/service.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/service.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_invitation.py`

 * *Files 2% similar despite different names*

```diff
@@ -135,17 +135,16 @@
         deco = InvitationMessage.wrap_message(msg)
         obj_x = {
             "label": "label",
             "requests~attach": [deco.serialize()],
             "services": [123],
         }
 
-        invi_schema = InvitationMessageSchema()
-        with pytest.raises(test_module.ValidationError):
-            invi_schema.validate_fields(obj_x)
+        errs = InvitationMessageSchema().validate(obj_x)
+        assert errs and "services" in errs
 
     def test_assign_msg_type_version_to_model_inst(self):
         test_msg = InvitationMessage()
         assert "1.1" in test_msg._type
         assert "1.1" in InvitationMessage.Meta.message_type
         test_msg = InvitationMessage(version="1.2")
         assert "1.2" in test_msg._type
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse_accept.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/messages/tests/test_reuse_accept.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/invitation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/oob_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/oob_record.py`

 * *Files 10% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 """Record for out of band invitations."""
 
 import json
 from typing import Any, Mapping, Optional, Union
 
-from marshmallow import fields
+from marshmallow import fields, validate
 
 from .....connections.models.conn_record import ConnRecord
 from .....core.profile import ProfileSession
 from .....messaging.decorators.service_decorator import (
     ServiceDecorator,
     ServiceDecoratorSchema,
 )
@@ -244,14 +244,17 @@
         description="Oob record identifier",
         example=UUIDFour.EXAMPLE,
     )
     state = fields.Str(
         required=True,
         description="Out of band message exchange state",
         example=OobRecord.STATE_AWAIT_RESPONSE,
+        validate=validate.OneOf(
+            OobRecord.get_attributes_by_prefix("STATE_", walk_mro=True)
+        ),
     )
     invi_msg_id = fields.Str(
         required=True,
         description="Invitation message identifier",
         example=UUIDFour.EXAMPLE,
     )
     invitation = fields.Nested(
@@ -283,8 +286,11 @@
         example=UUIDFour.EXAMPLE,
     )
 
     role = fields.Str(
         description="OOB Role",
         required=False,
         example=OobRecord.ROLE_RECEIVER,
+        validate=validate.OneOf(
+            OobRecord.get_attributes_by_prefix("ROLE_", walk_mro=False)
+        ),
     )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/test_invitation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/models/tests/test_invitation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_manager.py`

 * *Files 0% similar despite different names*

```diff
@@ -87,15 +87,14 @@
 from ..messages.reuse import HandshakeReuse
 from ..messages.reuse_accept import HandshakeReuseAccept
 from ..models.invitation import InvitationRecord
 from ..models.oob_record import OobRecord
 
 
 class TestConfig:
-
     test_did = "55GkHamhTU1ZbTbV2ab9DE"
     test_verkey = "3Dn1SJNPaCXcvvJvSbsFWP2xaCjMom3can8CQNhWrTRx"
     test_endpoint = "http://localhost"
     test_target_did = "GbuDUYXaUZRfHD2jeDuQuP"
     their_public_did = "55GkHamhTU1ZbTbV2ab9DE"
     test_service = OobService(
         recipient_keys=[test_verkey],
@@ -708,15 +707,14 @@
                 my_endpoint="testendpoint",
                 hs_protos=[test_module.HSProto.RFC23],
                 multi_use=True,
             )
         assert "Cannot create public invitation with" in str(context.exception)
 
     async def test_create_invitation_requests_attach_x_multi_use(self):
-
         with self.assertRaises(OutOfBandManagerError) as context:
             await self.manager.create_invitation(
                 public=False,
                 my_endpoint="testendpoint",
                 hs_protos=[test_module.HSProto.RFC23],
                 attachments=[{"some": "attachment"}],
                 multi_use=True,
@@ -1090,15 +1088,14 @@
             self.profile, "notify", autospec=True
         ) as mock_notify, async_mock.patch.object(
             OobRecord, "retrieve_by_tag_filter", autospec=True
         ) as mock_retrieve_oob:
             mock_retrieve_oob.side_effect = (StorageNotFoundError,)
 
             with self.assertRaises(test_module.OutOfBandManagerError) as err:
-
                 await self.manager.receive_reuse_accepted_message(
                     reuse_msg_accepted, receipt, self.test_conn_rec
                 )
             assert "Error processing reuse accepted message " in err.exception.message
 
             mock_notify.assert_called_once_with(
                 REUSE_ACCEPTED_WEBHOOK_TOPIC,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/out_of_band/v1_0/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_exch.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_exch.py`

 * *Files 0% similar despite different names*

```diff
@@ -833,15 +833,15 @@
     id = fields.Str(
         description="ID",
         required=False,
     )
     fmt = fields.Str(
         description="Format",
         required=False,
-        default="ldp_vp",
+        default="ldp_vc",
         data_key="format",
     )
     path = fields.Str(
         description="Path",
         required=False,
     )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_exch_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_exch_handler.py`

 * *Files 5% similar despite different names*

```diff
@@ -490,15 +490,16 @@
             cred_dict["credentialSubject"] = {}
 
         # Schemas
         schemas = cred_dict.get("credentialSchema", [])
         if type(schemas) is dict:
             schemas = [schemas]
         schema_ids = [schema.get("id") for schema in schemas]
-        expanded = jsonld.expand(cred_dict)
+        document_loader = self.profile.inject(DocumentLoader)
+        expanded = jsonld.expand(cred_dict, options={"documentLoader": document_loader})
         types = JsonLdProcessor.get_values(
             expanded[0],
             "@type",
         )
         return VCRecord(
             contexts=contexts,
             expanded_types=types,
@@ -1226,100 +1227,121 @@
     async def create_vp(
         self,
         credentials: Sequence[VCRecord],
         pd: PresentationDefinition,
         challenge: str = None,
         domain: str = None,
         records_filter: dict = None,
-    ) -> dict:
+    ) -> Union[Sequence[dict], dict]:
         """
         Create VerifiablePresentation.
 
         Args:
             credentials: Sequence of VCRecords
             pd: PresentationDefinition
         Return:
             VerifiablePresentation
         """
         document_loader = self.profile.inject(DocumentLoader)
         req = await self.make_requirement(
             srs=pd.submission_requirements, descriptors=pd.input_descriptors
         )
-        result = await self.apply_requirements(
-            req=req, credentials=credentials, records_filter=records_filter
-        )
-        applicable_creds, descriptor_maps = await self.merge(result)
-        applicable_creds_list = []
-        for credential in applicable_creds:
-            applicable_creds_list.append(credential.cred_value)
-        if (
-            not self.profile.settings.get("debug.auto_respond_presentation_request")
-            and not records_filter
-            and len(applicable_creds_list) > 1
-        ):
-            raise DIFPresExchError(
-                "Multiple credentials are applicable for presentation_definition "
-                f"{pd.id} and --auto-respond-presentation-request setting is not "
-                "enabled. Please specify which credentials should be applied to "
-                "which input_descriptors using record_ids filter."
+        result = []
+        if req.nested_req:
+            for nested_req in req.nested_req:
+                res = await self.apply_requirements(
+                    req=nested_req,
+                    credentials=credentials,
+                    records_filter=records_filter,
+                )
+                result.append(res)
+        else:
+            res = await self.apply_requirements(
+                req=req, credentials=credentials, records_filter=records_filter
             )
-        # submission_property
-        submission_property = PresentationSubmission(
-            id=str(uuid4()), definition_id=pd.id, descriptor_maps=descriptor_maps
-        )
-        if self.is_holder:
-            (
-                issuer_id,
-                filtered_creds_list,
-            ) = await self.get_sign_key_credential_subject_id(
-                applicable_creds=applicable_creds
+            result.append(res)
+
+        result_vp = []
+        for res in result:
+            applicable_creds, descriptor_maps = await self.merge(res)
+            applicable_creds_list = []
+            for credential in applicable_creds:
+                applicable_creds_list.append(credential.cred_value)
+            if (
+                not self.profile.settings.get("debug.auto_respond_presentation_request")
+                and not records_filter
+                and len(applicable_creds_list) > 1
+            ):
+                raise DIFPresExchError(
+                    "Multiple credentials are applicable for presentation_definition "
+                    f"{pd.id} and --auto-respond-presentation-request setting is not "
+                    "enabled. Please specify which credentials should be applied to "
+                    "which input_descriptors using record_ids filter."
+                )
+            # submission_property
+            submission_property = PresentationSubmission(
+                id=str(uuid4()), definition_id=pd.id, descriptor_maps=descriptor_maps
             )
-            if not issuer_id and len(filtered_creds_list) == 0:
-                vp = await create_presentation(credentials=applicable_creds_list)
-                vp["presentation_submission"] = submission_property.serialize()
-                if self.proof_type is BbsBlsSignature2020.signature_type:
-                    vp["@context"].append(SECURITY_CONTEXT_BBS_URL)
-                return vp
-            else:
-                vp = await create_presentation(credentials=filtered_creds_list)
-        else:
-            if not self.pres_signing_did:
+            if self.is_holder:
                 (
                     issuer_id,
                     filtered_creds_list,
                 ) = await self.get_sign_key_credential_subject_id(
                     applicable_creds=applicable_creds
                 )
-                if not issuer_id:
+                if not issuer_id and len(filtered_creds_list) == 0:
                     vp = await create_presentation(credentials=applicable_creds_list)
                     vp["presentation_submission"] = submission_property.serialize()
                     if self.proof_type is BbsBlsSignature2020.signature_type:
                         vp["@context"].append(SECURITY_CONTEXT_BBS_URL)
-                    return vp
+                    result_vp.append(vp)
+                    continue
                 else:
                     vp = await create_presentation(credentials=filtered_creds_list)
             else:
-                issuer_id = self.pres_signing_did
-                vp = await create_presentation(credentials=applicable_creds_list)
-        vp["presentation_submission"] = submission_property.serialize()
-        if self.proof_type is BbsBlsSignature2020.signature_type:
-            vp["@context"].append(SECURITY_CONTEXT_BBS_URL)
-        async with self.profile.session() as session:
-            wallet = session.inject(BaseWallet)
-            issue_suite = await self._get_issue_suite(
-                wallet=wallet,
-                issuer_id=issuer_id,
-            )
-            signed_vp = await sign_presentation(
-                presentation=vp,
-                suite=issue_suite,
-                challenge=challenge,
-                document_loader=document_loader,
-            )
-            return signed_vp
+                if not self.pres_signing_did:
+                    (
+                        issuer_id,
+                        filtered_creds_list,
+                    ) = await self.get_sign_key_credential_subject_id(
+                        applicable_creds=applicable_creds
+                    )
+                    if not issuer_id:
+                        vp = await create_presentation(
+                            credentials=applicable_creds_list
+                        )
+                        vp["presentation_submission"] = submission_property.serialize()
+                        if self.proof_type is BbsBlsSignature2020.signature_type:
+                            vp["@context"].append(SECURITY_CONTEXT_BBS_URL)
+                        result_vp.append(vp)
+                        continue
+                    else:
+                        vp = await create_presentation(credentials=filtered_creds_list)
+                else:
+                    issuer_id = self.pres_signing_did
+                    vp = await create_presentation(credentials=applicable_creds_list)
+            vp["presentation_submission"] = submission_property.serialize()
+            if self.proof_type is BbsBlsSignature2020.signature_type:
+                vp["@context"].append(SECURITY_CONTEXT_BBS_URL)
+            async with self.profile.session() as session:
+                wallet = session.inject(BaseWallet)
+                issue_suite = await self._get_issue_suite(
+                    wallet=wallet,
+                    issuer_id=issuer_id,
+                )
+                signed_vp = await sign_presentation(
+                    presentation=vp,
+                    suite=issue_suite,
+                    challenge=challenge,
+                    document_loader=document_loader,
+                )
+            result_vp.append(signed_vp)
+        if len(result_vp) == 1:
+            return result_vp[0]
+        return result_vp
 
     def check_if_cred_id_derived(self, id: str) -> bool:
         """Check if credential or credentialSubjet id is derived."""
         if id.startswith("urn:bnid:_:c14n"):
             return True
         return False
 
@@ -1352,36 +1374,52 @@
                 if cred_id:
                     if cred_id not in dict_of_creds:
                         result.append(cred)
                         dict_of_creds[cred_id] = len(descriptors)
                     if f"{cred_id}-{cred_id}" not in dict_of_descriptors:
                         descriptor_map = InputDescriptorMapping(
                             id=desc_id,
-                            fmt="ldp_vp",
+                            fmt="ldp_vc",
                             path=(f"$.verifiableCredential[{dict_of_creds[cred_id]}]"),
                         )
                         descriptors.append(descriptor_map)
 
         descriptors = sorted(descriptors, key=lambda i: i.id)
         return (result, descriptors)
 
     async def verify_received_pres(
         self,
         pd: PresentationDefinition,
-        pres: dict,
+        pres: Union[Sequence[dict], dict],
     ):
         """
         Verify credentials received in presentation.
 
         Args:
             pres: received VerifiablePresentation
             pd: PresentationDefinition
         """
-        descriptor_map_list = pres["presentation_submission"].get("descriptor_map")
         input_descriptors = pd.input_descriptors
+        if isinstance(pres, Sequence):
+            for pr in pres:
+                descriptor_map_list = pr["presentation_submission"].get(
+                    "descriptor_map"
+                )
+                await self.__verify_desc_map_list(
+                    descriptor_map_list, pr, input_descriptors
+                )
+        else:
+            descriptor_map_list = pres["presentation_submission"].get("descriptor_map")
+            await self.__verify_desc_map_list(
+                descriptor_map_list, pres, input_descriptors
+            )
+
+    async def __verify_desc_map_list(
+        self, descriptor_map_list, pres, input_descriptors
+    ):
         inp_desc_id_contraint_map = {}
         inp_desc_id_schema_one_of_filter = set()
         inp_desc_id_schemas_map = {}
         for input_descriptor in input_descriptors:
             inp_desc_id_contraint_map[input_descriptor.id] = input_descriptor.constraint
             inp_desc_id_schemas_map[input_descriptor.id] = input_descriptor.schemas
             if input_descriptor.schemas.oneof_filter:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_proposal_schema.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_proposal_schema.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_request_schema.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_request_schema.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/pres_schema.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/pres_schema.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_data.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_data.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch.py`

 * *Files 1% similar despite different names*

```diff
@@ -359,15 +359,15 @@
             ],
             "presentation_submission": {
                 "id": "a5fcfe44-2c30-497d-af02-98e539da9a0f",
                 "definition_id": "32f54163-7166-48f1-93d8-ff217bdb0653",
                 "descriptor_map": [
                     {
                         "id": "citizenship_input_1",
-                        "format": "ldp_vp",
+                        "format": "ldp_vc",
                         "path": "$.verifiableCredential[0]",
                     }
                 ],
             },
             "proof": {
                 "type": "Ed25519Signature2018",
                 "verificationMethod": "did:sov:4QxzWk3ajdnEA37NdNU5Kt#key-1",
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_exch_handler.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,24 +1,25 @@
 import asyncio
 from copy import deepcopy
 from datetime import datetime
+from typing import Sequence
 from uuid import uuid4
 
 import mock as async_mock
 import pytest
 
 from aries_cloudagent.wallet.key_type import BLS12381G2, ED25519
 
 from .....core.in_memory import InMemoryProfile
 from .....did.did_key import DIDKey
 from .....resolver.did_resolver import DIDResolver
 from .....storage.vc_holder.vc_record import VCRecord
 from .....wallet.base import BaseWallet, DIDInfo
 from .....wallet.crypto import KeyType
-from .....wallet.did_method import SOV, KEY
+from .....wallet.did_method import SOV, KEY, DIDMethods
 from .....wallet.error import WalletNotFoundError
 from .....vc.ld_proofs import (
     BbsBlsSignature2020,
 )
 from .....vc.ld_proofs.document_loader import DocumentLoader
 from .....vc.ld_proofs.error import LinkedDataProofException
 from .....vc.ld_proofs.constants import SECURITY_CONTEXT_BBS_URL
@@ -64,15 +65,15 @@
     loop = asyncio.get_event_loop_policy().new_event_loop()
     yield loop
     loop.close()
 
 
 @pytest.fixture(scope="class")
 def profile():
-    profile = InMemoryProfile.test_profile()
+    profile = InMemoryProfile.test_profile(bind={DIDMethods: DIDMethods()})
     context = profile.context
     context.injector.bind_instance(DIDResolver, DIDResolver([]))
     context.injector.bind_instance(DocumentLoader, custom_document_loader)
     context.settings["debug.auto_respond_presentation_request"] = True
     return profile
 
 
@@ -101,15 +102,25 @@
         for tmp_pd in pd_list:
             # tmp_pd is tuple of presentation_definition and expected number of VCs
             tmp_vp = await dif_pres_exch_handler.create_vp(
                 credentials=cred_list,
                 pd=tmp_pd[0],
                 challenge="1f44d55f-f161-4938-a659-f8026467f126",
             )
-            assert len(tmp_vp.get("verifiableCredential")) == tmp_pd[1]
+
+            if isinstance(tmp_vp, Sequence):
+                cred_count_list = []
+                for tmp_vp_single in tmp_vp:
+                    cred_count_list.append(
+                        len(tmp_vp_single.get("verifiableCredential"))
+                    )
+
+                assert min(cred_count_list) == tmp_pd[1]
+            else:
+                assert len(tmp_vp.get("verifiableCredential")) == tmp_pd[1]
 
     @pytest.mark.asyncio
     @pytest.mark.ursa_bbs_signatures
     async def test_load_cred_json_b(self, setup_tuple, profile):
         cred_list, pd_list = setup_tuple
         dif_pres_exch_handler = DIFPresExchHandler(
             profile, pres_signing_did="did:sov:WgWxqztrNooG92RXvxSTWv"
@@ -118,15 +129,25 @@
         for tmp_pd in pd_list:
             # tmp_pd is tuple of presentation_definition and expected number of VCs
             tmp_vp = await dif_pres_exch_handler.create_vp(
                 credentials=cred_list,
                 pd=tmp_pd[0],
                 challenge="1f44d55f-f161-4938-a659-f8026467f126",
             )
-            assert len(tmp_vp.get("verifiableCredential")) == tmp_pd[1]
+
+            if isinstance(tmp_vp, Sequence):
+                cred_count_list = []
+                for tmp_vp_single in tmp_vp:
+                    cred_count_list.append(
+                        len(tmp_vp_single.get("verifiableCredential"))
+                    )
+
+                assert min(cred_count_list) == tmp_pd[1]
+            else:
+                assert len(tmp_vp.get("verifiableCredential")) == tmp_pd[1]
 
     @pytest.mark.asyncio
     async def test_to_requirement_catch_errors(self, profile):
         dif_pres_exch_handler = DIFPresExchHandler(profile)
         test_json_pd = """
             {
                 "submission_requirements": [
@@ -2262,19 +2283,20 @@
             )
             mock_did_info.return_value = did_info
             vp = await dif_pres_exch_handler.create_vp(
                 VC_RECORDS,
                 pd=pd_list[0][0],
                 challenge="3fa85f64-5717-4562-b3fc-2c963f66afa7",
             )
-            assert vp["test"] == "1"
-            assert (
-                vp["presentation_submission"]["definition_id"]
-                == "32f54163-7166-48f1-93d8-ff217bdb0653"
-            )
+            for vp_single in vp:
+                assert vp_single["test"] == "1"
+                assert (
+                    vp_single["presentation_submission"]["definition_id"]
+                    == "32f54163-7166-48f1-93d8-ff217bdb0653"
+                )
 
     @pytest.mark.asyncio
     @pytest.mark.ursa_bbs_signatures
     async def test_create_vp_with_bbs_suite(self, profile, setup_tuple):
         dif_pres_exch_handler = DIFPresExchHandler(
             profile, proof_type=BbsBlsSignature2020.signature_type
         )
@@ -2322,16 +2344,17 @@
             )
             mock_did_info.return_value = did_info
             vp = await dif_pres_exch_handler.create_vp(
                 cred_list,
                 pd=pd_list[0][0],
                 challenge="3fa85f64-5717-4562-b3fc-2c963f66afa7",
             )
-            assert vp["test"] == "1"
-            assert SECURITY_CONTEXT_BBS_URL in vp["@context"]
+            for vp_single in vp:
+                assert vp_single["test"] == "1"
+                assert SECURITY_CONTEXT_BBS_URL in vp_single["@context"]
 
     @pytest.mark.asyncio
     @pytest.mark.ursa_bbs_signatures
     async def test_create_vp_no_issuer_with_bbs_suite(self, profile, setup_tuple):
         dif_pres_exch_handler = DIFPresExchHandler(
             profile, proof_type=BbsBlsSignature2020.signature_type
         )
@@ -2376,16 +2399,18 @@
             )
             mock_did_info.return_value = did_info
             vp = await dif_pres_exch_handler.create_vp(
                 cred_list,
                 pd=pd_list[0][0],
                 challenge="3fa85f64-5717-4562-b3fc-2c963f66afa7",
             )
-            assert vp["test"] == "1"
-            assert SECURITY_CONTEXT_BBS_URL in vp["@context"]
+            # 2 sub_reqs, vp is a sequence
+            for vp_single in vp:
+                assert vp_single["test"] == "1"
+                assert SECURITY_CONTEXT_BBS_URL in vp_single["@context"]
 
     @pytest.mark.asyncio
     @pytest.mark.ursa_bbs_signatures
     async def test_no_filter(self, setup_tuple, profile):
         cred_list, pd_list = setup_tuple
         dif_pres_exch_handler = DIFPresExchHandler(profile)
         test_pd_no_filter = """
@@ -3053,14 +3078,16 @@
 
         tmp_pd = pd_list[6]
         tmp_vp = await dif_pres_exch_handler.create_vp(
             credentials=test_creds,
             pd=tmp_pd[0],
             challenge="1f44d55f-f161-4938-a659-f8026467f126",
         )
+        # only 1 sub_req
+        assert isinstance(tmp_vp, dict)
         assert len(tmp_vp["verifiableCredential"]) == 2
         assert (
             tmp_vp.get("verifiableCredential")[0]
             .get("credentialSubject")
             .get("givenName")
             == "TEST"
         )
@@ -3073,27 +3100,30 @@
 
         tmp_pd = pd_list[2]
         tmp_vp = await dif_pres_exch_handler.create_vp(
             credentials=test_creds,
             pd=tmp_pd[0],
             challenge="1f44d55f-f161-4938-a659-f8026467f126",
         )
-        assert len(tmp_vp["verifiableCredential"]) == 2
-        assert (
-            tmp_vp.get("verifiableCredential")[0]
-            .get("credentialSubject")
-            .get("givenName")
-            == "TEST"
-        )
-        assert (
-            tmp_vp.get("verifiableCredential")[1]
-            .get("credentialSubject")
-            .get("givenName")
-            == "TEST"
-        )
+        assert isinstance(tmp_vp, Sequence)
+        # 1 for each submission requirement group
+        assert len(tmp_vp) == 3
+        for tmp_vp_single in tmp_vp:
+            assert (
+                tmp_vp_single.get("verifiableCredential")[0]
+                .get("credentialSubject")
+                .get("givenName")
+                == "TEST"
+            )
+            assert (
+                tmp_vp_single.get("verifiableCredential")[1]
+                .get("credentialSubject")
+                .get("givenName")
+                == "TEST"
+            )
 
     @pytest.mark.asyncio
     @pytest.mark.ursa_bbs_signatures
     async def test_multiple_applicable_creds_with_no_auto_and_no_record_ids(
         self, profile, setup_tuple
     ):
         cred_list, pd_list = setup_tuple
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/dif/tests/test_pres_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/indy/pres_exch_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/indy/pres_exch_handler.py`

 * *Files 0% similar despite different names*

```diff
@@ -190,15 +190,15 @@
                     )
                 )
             except IndyHolderError as e:
                 LOGGER.error(
                     f"Failed to create revocation state: {e.error_code}, {e.message}"
                 )
                 raise e
-        for (referent, precis) in requested_referents.items():
+        for referent, precis in requested_referents.items():
             if "timestamp" not in precis:
                 continue
             if referent in requested_credentials["requested_attributes"]:
                 requested_credentials["requested_attributes"][referent][
                     "timestamp"
                 ] = precis["timestamp"]
             if referent in requested_credentials["requested_predicates"]:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_handler.py`

 * *Files 4% similar despite different names*

```diff
@@ -60,18 +60,22 @@
             context.settings,
             context.message,
             outcome="PresentationHandler.handle.END",
             perf_counter=r_time,
         )
 
         # Automatically move to next state if flag is set
-        if presentation_exchange_record and presentation_exchange_record.auto_verify:
+        if (
+            presentation_exchange_record
+            and presentation_exchange_record.auto_verify
+            or context.settings.get("debug.auto_verify_presentation")
+        ):
             try:
                 await presentation_manager.verify_presentation(
-                    presentation_exchange_record
+                    presentation_exchange_record, responder
                 )
             except (BaseModelError, LedgerError, StorageError) as err:
                 self._logger.exception(err)
                 if presentation_exchange_record:
                     async with profile.session() as session:
                         await presentation_exchange_record.save_error_state(
                             session,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/presentation_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_request_handler.py`

 * *Files 0% similar despite different names*

```diff
@@ -98,15 +98,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
 
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock()
             )
@@ -159,15 +158,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
             mock_pres_ex_cls.return_value = px_rec_instance
 
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock()
@@ -331,15 +329,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.return_value = mock_px_rec
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
@@ -411,15 +408,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.return_value = px_rec_instance
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -487,15 +483,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.return_value = px_rec_instance
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -561,15 +556,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.return_value = px_rec_instance
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -642,15 +636,14 @@
         request_context.injector.bind_instance(OobMessageProcessor, mock_oob_processor)
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.return_value = px_rec_instance
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -774,15 +767,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.return_value = px_rec_instance
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -888,15 +880,14 @@
         request_context.injector.bind_instance(OobMessageProcessor, mock_oob_processor)
 
         with async_mock.patch.object(
             test_module, "PresentationManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V10PresentationExchange", autospec=True
         ) as mock_pres_ex_cls:
-
             mock_pres_ex_cls.return_value = px_rec_instance
             mock_pres_ex_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -350,15 +350,15 @@
         if presentation_exchange_record.presentation_proposal_dict:
             exchange_pres_proposal = (
                 presentation_exchange_record.presentation_proposal_dict
             )
             presentation_preview = exchange_pres_proposal.presentation_proposal
 
             proof_req = presentation_exchange_record._presentation_request.ser
-            for (reft, attr_spec) in presentation["requested_proof"][
+            for reft, attr_spec in presentation["requested_proof"][
                 "revealed_attrs"
             ].items():
                 name = proof_req["requested_attributes"][reft]["name"]
                 value = attr_spec["raw"]
                 if not presentation_preview.has_attr_spec(
                     cred_def_id=presentation["identifiers"][
                         attr_spec["sub_proof_index"]
@@ -389,15 +389,17 @@
             await presentation_exchange_record.save(
                 session, reason="receive presentation"
             )
 
         return presentation_exchange_record
 
     async def verify_presentation(
-        self, presentation_exchange_record: V10PresentationExchange
+        self,
+        presentation_exchange_record: V10PresentationExchange,
+        responder: Optional[BaseResponder] = None,
     ):
         """
         Verify a presentation.
 
         Args:
             presentation_exchange_record: presentation exchange record
                 with presentation request and presentation to verify
@@ -432,28 +434,30 @@
         presentation_exchange_record.state = V10PresentationExchange.STATE_VERIFIED
 
         async with self._profile.session() as session:
             await presentation_exchange_record.save(
                 session, reason="verify presentation"
             )
 
-        await self.send_presentation_ack(presentation_exchange_record)
+        await self.send_presentation_ack(presentation_exchange_record, responder)
         return presentation_exchange_record
 
     async def send_presentation_ack(
-        self, presentation_exchange_record: V10PresentationExchange
+        self,
+        presentation_exchange_record: V10PresentationExchange,
+        responder: Optional[BaseResponder] = None,
     ):
         """
         Send acknowledgement of presentation receipt.
 
         Args:
             presentation_exchange_record: presentation exchange record with thread id
 
         """
-        responder = self._profile.inject_or(BaseResponder)
+        responder = responder or self._profile.inject_or(BaseResponder)
 
         if not presentation_exchange_record.connection_id:
             # Find associated oob record. If this presentation exchange is created
             # without oob (aip1 style connectionless) we can't send a presentation ack
             # because we don't have their service
             try:
                 async with self._profile.session() as session:
@@ -536,20 +540,18 @@
 
         Returns:
             presentation exchange record, retrieved and updated
 
         """
         # FIXME use transaction, fetch for_update
         async with self._profile.session() as session:
-            pres_ex_record = await (
-                V10PresentationExchange.retrieve_by_tag_filter(
-                    session,
-                    {"thread_id": message._thread_id},
-                    {"connection_id": connection_id},
-                )
+            pres_ex_record = await V10PresentationExchange.retrieve_by_tag_filter(
+                session,
+                {"thread_id": message._thread_id},
+                {"connection_id": connection_id},
             )
 
             pres_ex_record.state = V10PresentationExchange.STATE_ABANDONED
             code = message.description.get("code", ProblemReportReason.ABANDONED.value)
             pres_ex_record.error_msg = f"{code}: {message.description.get('en', code)}"
             await pres_ex_record.save(session, reason="received problem report")
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/presentation_exchange.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/presentation_exchange.py`

 * *Files 4% similar despite different names*

```diff
@@ -17,14 +17,15 @@
     PresentationProposal,
     PresentationProposalSchema,
 )
 from ..messages.presentation_request import (
     PresentationRequest,
     PresentationRequestSchema,
 )
+from ..messages.presentation_webhook import V10PresentationExchangeWebhook
 
 from . import UNENCRYPTED_TAGS
 
 LOGGER = logging.getLogger(__name__)
 
 
 class V10PresentationExchange(BaseExchangeRecord):
@@ -191,14 +192,41 @@
                 reason=reason,
                 log_params=log_params,
                 log_override=log_override,
             )
         except StorageError as err:
             LOGGER.exception(err)
 
+    # Override
+    async def emit_event(self, session: ProfileSession, payload: Any = None):
+        """
+        Emit an event.
+
+        Args:
+            session: The profile session to use
+            payload: The event payload
+        """
+
+        if not self.RECORD_TOPIC:
+            return
+
+        if self.state:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}::{self.state}"
+        else:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}"
+
+        if session.profile.settings.get("debug.webhooks"):
+            if not payload:
+                payload = self.serialize()
+        else:
+            payload = V10PresentationExchangeWebhook(**self.__dict__)
+            payload = payload.__dict__
+
+        await session.profile.notify(topic, payload)
+
     @property
     def record_value(self) -> Mapping:
         """Accessor for the JSON record value generated for this credential exchange."""
         retval = {
             **{
                 prop: getattr(self, prop)
                 for prop in (
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/models/tests/test_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/models/tests/test_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/tests/test_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v1_0/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -63,15 +63,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.query = async_mock.CoroutineMock()
             mock_presentation_exchange.query.return_value = [mock_presentation_exchange]
             mock_presentation_exchange.serialize = async_mock.MagicMock()
             mock_presentation_exchange.serialize.return_value = {
@@ -97,15 +96,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.query = async_mock.CoroutineMock(
                 side_effect=test_module.StorageError()
             )
 
@@ -118,15 +116,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock()
 
             # Emulate storage not found (bad presentation exchange id)
             mock_presentation_exchange.retrieve_by_id.side_effect = StorageNotFoundError
@@ -154,15 +151,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id.return_value = mock_px_rec
 
             with self.assertRaises(test_module.web.HTTPBadRequest):
                 await test_module.presentation_exchange_credentials_list(self.request)
@@ -187,15 +183,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.return_value.retrieve_by_id.return_value = (
                 mock_presentation_exchange
             )
 
@@ -225,15 +220,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.return_value.retrieve_by_id.return_value = (
                 mock_presentation_exchange
             )
 
@@ -249,15 +243,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_pres_ex:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_pres_ex.retrieve_by_id = async_mock.CoroutineMock()
             mock_pres_ex.retrieve_by_id.return_value = mock_pres_ex
             mock_pres_ex.serialize = async_mock.MagicMock()
             mock_pres_ex.serialize.return_value = {"thread_id": "sample-thread-id"}
@@ -276,15 +269,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_pres_ex:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_pres_ex.retrieve_by_id = async_mock.CoroutineMock()
 
             # Emulate storage not found (bad presentation exchange id)
             mock_pres_ex.retrieve_by_id.side_effect = StorageNotFoundError
@@ -303,15 +295,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_pres_ex:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_pres_ex.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=mock_pres_ex_rec
             )
             mock_pres_ex_rec.serialize = async_mock.MagicMock(
@@ -330,15 +321,14 @@
         ) as mock_connection_record, async_mock.patch(
             "aries_cloudagent.protocols.present_proof.v1_0.manager.PresentationManager",
             autospec=True,
         ) as mock_presentation_manager, async_mock.patch(
             "aries_cloudagent.indy.models.pres_preview.IndyPresPreview",
             autospec=True,
         ) as mock_preview:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange_record = async_mock.MagicMock()
             mock_presentation_manager.return_value.create_exchange_for_proposal = (
                 async_mock.CoroutineMock(return_value=mock_presentation_exchange_record)
             )
@@ -356,15 +346,14 @@
     async def test_presentation_exchange_send_proposal_no_conn_record(self):
         self.request.json = async_mock.CoroutineMock()
 
         with async_mock.patch(
             "aries_cloudagent.connections.models.conn_record.ConnRecord",
             autospec=True,
         ) as mock_connection_record:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             # Emulate storage not found (bad connection id)
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
@@ -384,15 +373,14 @@
         ) as mock_preview, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "messages.presentation_proposal.PresentationProposal"
             ),
             autospec=True,
         ) as mock_proposal:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_connection_record.retrieve_by_id.return_value.is_ready = False
 
             with self.assertRaises(test_module.web.HTTPForbidden):
@@ -407,15 +395,14 @@
         ) as mock_connection_record, async_mock.patch(
             "aries_cloudagent.protocols.present_proof.v1_0.manager.PresentationManager",
             autospec=True,
         ) as mock_presentation_manager, async_mock.patch(
             "aries_cloudagent.indy.models.pres_preview.IndyPresPreview",
             autospec=True,
         ) as mock_preview:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange_record = async_mock.MagicMock()
             mock_presentation_manager.return_value.create_exchange_for_proposal = (
                 async_mock.CoroutineMock(
                     return_value=async_mock.MagicMock(
@@ -452,15 +439,14 @@
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange, async_mock.patch(
             "aries_cloudagent.indy.util.generate_pr_nonce",
             autospec=True,
         ) as mock_generate_nonce:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_generate_nonce = async_mock.CoroutineMock()
 
             mock_attach_decorator.data_base64 = async_mock.MagicMock(
                 return_value=mock_attach_decorator
@@ -506,15 +492,14 @@
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange, async_mock.patch(
             "aries_cloudagent.indy.util.generate_pr_nonce",
             autospec=True,
         ) as mock_generate_nonce:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange_record = async_mock.MagicMock()
             mock_presentation_manager.return_value.create_exchange_for_request = (
                 async_mock.CoroutineMock(
                     return_value=async_mock.MagicMock(
@@ -558,15 +543,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=mock_connection_record
             )
             mock_attach_decorator.data_base64 = async_mock.MagicMock(
@@ -597,15 +581,14 @@
             return_value={"connection_id": "dummy"}
         )
 
         with async_mock.patch(
             "aries_cloudagent.connections.models.conn_record.ConnRecord",
             autospec=True,
         ) as mock_connection_record:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock()
             mock_connection_record.retrieve_by_id.side_effect = StorageNotFoundError
 
             with self.assertRaises(test_module.web.HTTPBadRequest):
@@ -616,15 +599,14 @@
             return_value={"connection_id": "dummy", "proof_request": {}}
         )
 
         with async_mock.patch(
             "aries_cloudagent.connections.models.conn_record.ConnRecord",
             autospec=True,
         ) as mock_connection_record:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_connection_record.is_ready = False
             mock_connection_record.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=mock_connection_record
             )
@@ -660,15 +642,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_generate_nonce = async_mock.CoroutineMock()
 
             mock_presentation_exchange_record = async_mock.MagicMock()
             mock_presentation_manager.return_value.create_exchange_for_request = (
@@ -727,15 +708,14 @@
             "aries_cloudagent.messaging.decorators.attach_decorator.AttachDecorator",
             autospec=True,
         ) as mock_attach_decorator, async_mock.patch(
             "aries_cloudagent.protocols.present_proof.v1_0."
             "models.presentation_exchange.V10PresentationExchange",
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.connection_id = "dummy"
             mock_presentation_exchange.state = (
                 test_module.V10PresentationExchange.STATE_PROPOSAL_RECEIVED
             )
@@ -789,15 +769,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.connection_id = "dummy"
             mock_presentation_exchange.state = (
                 test_module.V10PresentationExchange.STATE_PROPOSAL_RECEIVED
             )
@@ -834,15 +813,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.connection_id = "dummy"
             mock_presentation_exchange.state = (
                 test_module.V10PresentationExchange.STATE_PROPOSAL_RECEIVED
             )
@@ -879,15 +857,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.connection_id = "dummy"
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_PRESENTATION_ACKED
@@ -919,15 +896,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.connection_id = "dummy"
             mock_presentation_exchange.state = (
                 test_module.V10PresentationExchange.STATE_PROPOSAL_RECEIVED
             )
@@ -994,15 +970,14 @@
         ) as mock_presentation_proposal, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.state = (
                 test_module.V10PresentationExchange.STATE_REQUEST_RECEIVED
             )
             mock_presentation_exchange.connection_id = "dummy"
@@ -1071,15 +1046,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_REQUEST_RECEIVED,
                     connection_id="dummy",
@@ -1116,15 +1090,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_REQUEST_RECEIVED,
                     connection_id="dummy",
@@ -1146,15 +1119,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_PRESENTATION_ACKED
                 )
@@ -1192,15 +1164,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_REQUEST_RECEIVED,
                     connection_id="dummy",
@@ -1247,15 +1218,14 @@
         ) as mock_attach_decorator, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_PRESENTATION_RECEIVED,
                     connection_id="dummy",
@@ -1307,15 +1277,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_PRESENTATION_ACKED
                 )
@@ -1350,15 +1319,14 @@
         ) as mock_presentation_manager, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_PRESENTATION_RECEIVED,
                     connection_id="dummy",
@@ -1408,15 +1376,14 @@
             "aries_cloudagent.protocols.present_proof.v1_0.manager.PresentationManager",
             autospec=True,
         ) as mock_pres_mgr_cls, async_mock.patch.object(
             test_module, "problem_report_for_record", async_mock.MagicMock()
         ) as mock_problem_report, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_pres_ex.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     save_error_state=async_mock.CoroutineMock()
                 )
@@ -1440,15 +1407,14 @@
         ) as mock_pres_mgr_cls, async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_pres_ex:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_pres_ex.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
@@ -1470,15 +1436,14 @@
             "aries_cloudagent.protocols.present_proof.v1_0.manager.PresentationManager",
             autospec=True,
         ) as mock_pres_mgr_cls, async_mock.patch.object(
             test_module, "problem_report_for_record", async_mock.MagicMock()
         ) as mock_problem_report, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             # Since we are mocking import
             importlib.reload(test_module)
             mock_pres_ex.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=test_module.StorageError()
             )
 
             with self.assertRaises(test_module.web.HTTPBadRequest):
@@ -1490,15 +1455,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_VERIFIED,
                     connection_id="dummy",
@@ -1519,15 +1483,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             # Emulate storage not found (bad pres ex id)
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
@@ -1541,15 +1504,14 @@
         with async_mock.patch(
             (
                 "aries_cloudagent.protocols.present_proof.v1_0."
                 "models.presentation_exchange.V10PresentationExchange"
             ),
             autospec=True,
         ) as mock_presentation_exchange:
-
             # Since we are mocking import
             importlib.reload(test_module)
 
             mock_presentation_exchange.retrieve_by_id = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(
                     state=mock_presentation_exchange.STATE_VERIFIED,
                     connection_id="dummy",
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py`

 * *Files 2% similar despite different names*

```diff
@@ -468,15 +468,26 @@
                 DIFPresFormatHandler.format
             )
             challenge = None
             if "options" in pres_request:
                 challenge = pres_request["options"].get("challenge", str(uuid4()))
             if not challenge:
                 challenge = str(uuid4())
-            pres_ver_result = await verify_presentation(
-                presentation=dif_proof,
-                suites=await self._get_all_suites(wallet=wallet),
-                document_loader=self._profile.inject(DocumentLoader),
-                challenge=challenge,
-            )
+            if isinstance(dif_proof, Sequence):
+                for proof in dif_proof:
+                    pres_ver_result = await verify_presentation(
+                        presentation=proof,
+                        suites=await self._get_all_suites(wallet=wallet),
+                        document_loader=self._profile.inject(DocumentLoader),
+                        challenge=challenge,
+                    )
+                    if not pres_ver_result.verified:
+                        break
+            else:
+                pres_ver_result = await verify_presentation(
+                    presentation=dif_proof,
+                    suites=await self._get_all_suites(wallet=wallet),
+                    document_loader=self._profile.inject(DocumentLoader),
+                    challenge=challenge,
+                )
             pres_ex_record.verified = json.dumps(pres_ver_result.verified)
             return pres_ex_record
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/test_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/tests/test_handler.py`

 * *Files 2% similar despite different names*

```diff
@@ -293,4590 +293,5187 @@
 00001240: 2020 207d 2c0a 2020 2020 2020 2020 2020     },.          
 00001250: 2020 2020 2020 2020 2020 2020 2020 7d0a                }.
 00001260: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00001270: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
 00001280: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
 00001290: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
 000012a0: 5d2c 0a20 2020 207d 2c0a 7d0a 0a44 4946  ],.    },.}..DIF
-000012b0: 5f50 5245 535f 5052 4f50 4f53 414c 203d  _PRES_PROPOSAL =
-000012c0: 207b 0a20 2020 2022 696e 7075 745f 6465   {.    "input_de
-000012d0: 7363 7269 7074 6f72 7322 3a20 5b0a 2020  scriptors": [.  
-000012e0: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
-000012f0: 2020 2020 2269 6422 3a20 2263 6974 697a      "id": "citiz
-00001300: 656e 7368 6970 5f69 6e70 7574 5f31 222c  enship_input_1",
-00001310: 0a20 2020 2020 2020 2020 2020 2022 6e61  .            "na
-00001320: 6d65 223a 2022 4555 2044 7269 7665 7227  me": "EU Driver'
-00001330: 7320 4c69 6365 6e73 6522 2c0a 2020 2020  s License",.    
-00001340: 2020 2020 2020 2020 2267 726f 7570 223a          "group":
-00001350: 205b 2241 225d 2c0a 2020 2020 2020 2020   ["A"],.        
-00001360: 2020 2020 2273 6368 656d 6122 3a20 5b0a      "schema": [.
-00001370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001380: 7b22 7572 6922 3a20 2268 7474 7073 3a2f  {"uri": "https:/
-00001390: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
-000013a0: 2f63 7265 6465 6e74 6961 6c73 2356 6572  /credentials#Ver
-000013b0: 6966 6961 626c 6543 7265 6465 6e74 6961  ifiableCredentia
-000013c0: 6c22 7d2c 0a20 2020 2020 2020 2020 2020  l"},.           
-000013d0: 2020 2020 207b 2275 7269 223a 2022 6874       {"uri": "ht
-000013e0: 7470 733a 2f2f 7733 6964 2e6f 7267 2f63  tps://w3id.org/c
-000013f0: 6974 697a 656e 7368 6970 2350 6572 6d61  itizenship#Perma
-00001400: 6e65 6e74 5265 7369 6465 6e74 4361 7264  nentResidentCard
-00001410: 227d 2c0a 2020 2020 2020 2020 2020 2020  "},.            
-00001420: 5d2c 0a20 2020 2020 2020 2020 2020 2022  ],.            "
-00001430: 636f 6e73 7472 6169 6e74 7322 3a20 7b0a  constraints": {.
-00001440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001450: 2266 6965 6c64 7322 3a20 5b0a 2020 2020  "fields": [.    
-00001460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001470: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-00001480: 2020 2020 2020 2020 2020 2270 6174 6822            "path"
-00001490: 3a20 5b22 242e 6973 7375 6572 2e69 6422  : ["$.issuer.id"
-000014a0: 2c20 2224 2e76 632e 6973 7375 6572 2e69  , "$.vc.issuer.i
-000014b0: 6422 2c20 2224 2e69 7373 7565 7222 5d2c  d", "$.issuer"],
-000014c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000014d0: 2020 2020 2020 2020 2022 7075 7270 6f73           "purpos
-000014e0: 6522 3a20 2254 6865 2063 6c61 696d 206d  e": "The claim m
-000014f0: 7573 7420 6265 2066 726f 6d20 6f6e 6520  ust be from one 
-00001500: 6f66 2074 6865 2073 7065 6369 6669 6564  of the specified
-00001510: 2069 7373 7565 7273 222c 0a20 2020 2020   issuers",.     
-00001520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001530: 2020 2022 6669 6c74 6572 223a 207b 0a20     "filter": {. 
-00001540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001550: 2020 2020 2020 2020 2020 2022 7479 7065             "type
-00001560: 223a 2022 7374 7269 6e67 222c 0a20 2020  ": "string",.   
-00001570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001580: 2020 2020 2020 2020 2022 656e 756d 223a           "enum":
-00001590: 205b 0a20 2020 2020 2020 2020 2020 2020   [.             
-000015a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000015b0: 2020 2022 6469 643a 6578 616d 706c 653a     "did:example:
-000015c0: 3438 3933 3938 3539 3322 2c0a 2020 2020  489398593",.    
-000015d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000015e0: 2020 2020 2020 2020 2020 2020 2264 6964              "did
-000015f0: 3a6b 6579 3a7a 5543 3732 5137 5844 3450  :key:zUC72Q7XD4P
-00001600: 4534 4372 4d69 4456 5875 765a 6e67 3373  E4CrMiDVXuvZng3s
-00001610: 4276 4d6d 6147 674e 6554 554a 757a 6176  BvMmaGgNeTUJuzav
-00001620: 4832 4253 3754 6862 484c 3946 6873 5a4d  H2BS7ThbHL9FhsZM
-00001630: 3951 5959 3566 7141 5134 4d42 384d 396f  9QYY5fqAQ4MB8M9o
-00001640: 7564 7a33 7466 7561 5833 3641 6a72 3937  udz3tfuaX36Ajr97
-00001650: 5152 5737 4c42 7436 5757 6d72 7445 5365  QRW7LBt6WWmrtESe
-00001660: 3642 7335 4e59 7a46 744c 5745 6d65 5674  6Bs5NYzFtLWEmeVt
-00001670: 7652 5956 4167 6a46 634a 5361 222c 0a20  vRYVAgjFcJSa",. 
-00001680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001690: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000016a0: 6469 643a 736f 763a 3277 4a50 7955 4c66  did:sov:2wJPyULf
-000016b0: 4c4c 6e59 5445 4659 7a42 7966 5552 222c  LLnYTEFYzByfUR",
-000016c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000016d0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
-000016e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000016f0: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
-00001700: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-00001710: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00001720: 205d 0a20 2020 2020 2020 2020 2020 207d   ].            }
-00001730: 2c0a 2020 2020 2020 2020 7d0a 2020 2020  ,.        }.    
-00001740: 5d0a 7d0a 0a44 4946 5f50 5245 5320 3d20  ].}..DIF_PRES = 
-00001750: 7b0a 2020 2020 2240 636f 6e74 6578 7422  {.    "@context"
-00001760: 3a20 5b22 6874 7470 733a 2f2f 7777 772e  : ["https://www.
-00001770: 7733 2e6f 7267 2f32 3031 382f 6372 6564  w3.org/2018/cred
-00001780: 656e 7469 616c 732f 7631 225d 2c0a 2020  entials/v1"],.  
-00001790: 2020 2274 7970 6522 3a20 5b22 5665 7269    "type": ["Veri
-000017a0: 6669 6162 6c65 5072 6573 656e 7461 7469  fiablePresentati
-000017b0: 6f6e 225d 2c0a 2020 2020 2276 6572 6966  on"],.    "verif
-000017c0: 6961 626c 6543 7265 6465 6e74 6961 6c22  iableCredential"
-000017d0: 3a20 5b0a 2020 2020 2020 2020 7b0a 2020  : [.        {.  
-000017e0: 2020 2020 2020 2020 2020 2240 636f 6e74            "@cont
-000017f0: 6578 7422 3a20 5b0a 2020 2020 2020 2020  ext": [.        
-00001800: 2020 2020 2020 2020 2268 7474 7073 3a2f          "https:/
-00001810: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
-00001820: 2f63 7265 6465 6e74 6961 6c73 2f76 3122  /credentials/v1"
-00001830: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00001840: 2020 2268 7474 7073 3a2f 2f77 3369 642e    "https://w3id.
-00001850: 6f72 672f 6369 7469 7a65 6e73 6869 702f  org/citizenship/
-00001860: 7631 222c 0a20 2020 2020 2020 2020 2020  v1",.           
-00001870: 2020 2020 2022 6874 7470 733a 2f2f 7733       "https://w3
-00001880: 6964 2e6f 7267 2f73 6563 7572 6974 792f  id.org/security/
-00001890: 6262 732f 7631 222c 0a20 2020 2020 2020  bbs/v1",.       
-000018a0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-000018b0: 2020 2020 2269 6422 3a20 2268 7474 7073      "id": "https
-000018c0: 3a2f 2f69 7373 7565 722e 6f69 6470 2e75  ://issuer.oidp.u
-000018d0: 7363 6973 2e67 6f76 2f63 7265 6465 6e74  scis.gov/credent
-000018e0: 6961 6c73 2f38 3336 3237 3436 3522 2c0a  ials/83627465",.
-000018f0: 2020 2020 2020 2020 2020 2020 2274 7970              "typ
-00001900: 6522 3a20 5b22 5065 726d 616e 656e 7452  e": ["PermanentR
-00001910: 6573 6964 656e 7443 6172 6422 2c20 2256  esidentCard", "V
-00001920: 6572 6966 6961 626c 6543 7265 6465 6e74  erifiableCredent
-00001930: 6961 6c22 5d2c 0a20 2020 2020 2020 2020  ial"],.         
-00001940: 2020 2022 6372 6564 656e 7469 616c 5375     "credentialSu
-00001950: 626a 6563 7422 3a20 7b0a 2020 2020 2020  bject": {.      
-00001960: 2020 2020 2020 2020 2020 2269 6422 3a20            "id": 
-00001970: 2264 6964 3a65 7861 6d70 6c65 3a62 3334  "did:example:b34
-00001980: 6361 3663 6433 3762 6266 3233 222c 0a20  ca6cd37bbf23",. 
-00001990: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000019a0: 7479 7065 223a 205b 2250 6572 736f 6e22  type": ["Person"
-000019b0: 2c20 2250 6572 6d61 6e65 6e74 5265 7369  , "PermanentResi
-000019c0: 6465 6e74 225d 2c0a 2020 2020 2020 2020  dent"],.        
-000019d0: 2020 2020 2020 2020 2267 6976 656e 4e61          "givenNa
-000019e0: 6d65 223a 2022 4a4f 484e 222c 0a20 2020  me": "JOHN",.   
-000019f0: 2020 2020 2020 2020 207d 2c0a 2020 2020           },.    
-00001a00: 2020 2020 2020 2020 2269 7373 7561 6e63          "issuanc
-00001a10: 6544 6174 6522 3a20 2232 3031 302d 3031  eDate": "2010-01
-00001a20: 2d30 3154 3139 3a35 333a 3234 5a22 2c0a  -01T19:53:24Z",.
-00001a30: 2020 2020 2020 2020 2020 2020 2269 7373              "iss
-00001a40: 7565 7222 3a20 2264 6964 3a6b 6579 3a7a  uer": "did:key:z
-00001a50: 5543 3734 6267 6566 5464 6334 334b 5331  UC74bgefTdc43KS1
-00001a60: 7073 5867 5866 346a 4c61 4879 616a 3271  psXgXf4jLaHyaj2q
-00001a70: 4351 7151 5458 7274 6d53 5947 6631 5078  CQqQTXrtmSYGf1Px
-00001a80: 694a 6872 4836 4c47 7061 424d 796a 3674  iJhrH6LGpaBMyj6t
-00001a90: 7141 4b6d 6a47 794d 6153 3452 664e 6f32  qAKmjGyMaS4RfNo2
-00001aa0: 616e 3737 7654 3148 667a 4a55 4e50 6b34  an77vT1HfzJUNPk4
-00001ab0: 4837 5443 754a 7653 7034 7665 7434 4375  H7TCuJvSp4vet4Cu
-00001ac0: 3637 6b6e 324a 5365 676f 514e 4653 4131  67kn2JSegoQNFSA1
-00001ad0: 7462 7755 3876 222c 0a20 2020 2020 2020  tbwU8v",.       
-00001ae0: 2020 2020 2022 7072 6f6f 6622 3a20 7b0a       "proof": {.
-00001af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00001b00: 2274 7970 6522 3a20 2242 6273 426c 7353  "type": "BbsBlsS
-00001b10: 6967 6e61 7475 7265 5072 6f6f 6632 3032  ignatureProof202
-00001b20: 3022 2c0a 2020 2020 2020 2020 2020 2020  0",.            
-00001b30: 2020 2020 226e 6f6e 6365 223a 2022 3341      "nonce": "3A
-00001b40: 7572 7568 4a51 7258 7445 6769 6167 694a  uruhJQrXtEgiagiJ
-00001b50: 2b46 7756 6632 5330 536e 7a55 444a 766e  +FwVf2S0SnzUDJvn
-00001b60: 4f36 3159 6563 5173 4a37 496d 5231 6d50  O61YecQsJ7ImR1mP
-00001b70: 636f 566a 4a4a 3048 4f68 666b 4670 6f59  coVjJJ0HOhfkFpoY
-00001b80: 493d 222c 0a20 2020 2020 2020 2020 2020  I=",.           
-00001b90: 2020 2020 2022 7072 6f6f 6656 616c 7565       "proofValue
-00001ba0: 223a 2022 4142 6b42 7541 6150 6c50 3541  ": "ABkBuAaPlP5A
-00001bb0: 374a 5759 3738 5866 3639 6f42 6e73 4d4c  7JWY78Xf69oBnsML
-00001bc0: 6344 3152 5862 4946 5968 634c 6f58 5058  cD1RXbIFYhcLoXPX
-00001bd0: 5731 3243 4739 676c 6e6e 716e 504c 7347  W12CG9glnnqnPLsG
-00001be0: 7269 3578 7341 334c 6350 306b 6737 3458  ri5xsA3LcP0kg74X
-00001bf0: 2b73 416a 4b58 4752 4779 3375 7670 3431  +sAjKXGRGy3uvp41
-00001c00: 3244 6d30 4675 6f68 594e 626f 5163 4c6e  2Dm0FuohYNboQcLn
-00001c10: 6535 4b4f 4161 3541 7855 3462 6a6d 7751  e5KOAa5AxU4bjmwQ
-00001c20: 7378 6466 6475 5671 6872 6972 6f31 4e2b  sxdfduVqhriro1N+
-00001c30: 5954 6b75 4234 534d 6d4f 2f35 6f6f 4c30  YTkuB4SMmO/5ooL0
-00001c40: 4e33 4f48 7359 6445 7867 376e 537a 5771  N3OHsYdExg7nSzWq
-00001c50: 6d5a 6f71 6770 2b33 4377 4978 4630 612f  mZoqgp+3CwIxF0a/
-00001c60: 6f79 4b54 6378 4a4f 5275 4971 4141 4141  oyKTcxJORuIqAAAA
-00001c70: 6449 6e6c 4c39 7465 5349 5834 394e 4a47  dInlL9teSIX49NJG
-00001c80: 455a 6642 4f37 4972 646a 5432 6967 6748  EZfBO7IrdjT2iggH
-00001c90: 2f47 3041 6c50 576f 4576 7257 4962 7543  /G0AlPWoEvrWIbuC
-00001ca0: 5251 3639 4b38 336e 356f 376f 4a56 6a71  RQ69K83n5o7oJVjq
-00001cb0: 6841 4141 4141 4961 566d 6c41 4436 2b46  hAAAAAIaVmlAD6+F
-00001cc0: 454b 4134 6567 304f 6157 4f4b 5072 6435  EKA4eg0OaWOKPrd5
-00001cd0: 4b71 3872 7630 7649 776a 4a37 3165 6778  Kq8rv0vIwjJ71egx
-00001ce0: 6c6c 3046 7171 347a 4457 512f 2b79 6c33  ll0Fqq4zDWQ/+yl3
-00001cf0: 5074 6568 3057 7975 7976 706d 3139 2f73  Pteh0Wyuyvpm19/s
-00001d00: 6a36 7469 4357 6a34 506b 412b 7270 7874  j6tiCWj4PkA+rpxt
-00001d10: 5232 6258 706e 7243 544b 5566 6646 464e  R2bXpnrCTKUffFFN
-00001d20: 426a 5676 567a 6958 4453 304b 576b 4755  BjVvVziXDS0KWkGU
-00001d30: 4237 5855 396d 6a55 6134 5553 4337 4975  B7XU9mjUa4USC7Iu
-00001d40: 6233 625a 5a43 6e46 6a51 4135 4141 4141  b3bZZCnFjQA5AAAA
-00001d50: 447a 6b47 7747 4438 3337 7233 3365 374f  DzkGwGD837r33e7O
-00001d60: 5472 4745 7469 3865 416b 7646 4463 7943  TrGEti8eAkvFDcyC
-00001d70: 6741 3463 6b2f 582b 3548 4a6a 414a 636c  gA4ck/X+5HJjAJcl
-00001d80: 4857 626c 3453 4e51 5238 4369 4e5a 797a  HWbl4SNQR8CiNZyz
-00001d90: 4a70 7678 572b 6a62 4e42 6377 6d45 766f  JpvxW+jbNBcwmEvo
-00001da0: 6359 4172 6464 6b33 4637 384b 6930 516e  cYArddk3F78Ki0Qn
-00001db0: 7036 6155 3965 4467 664f 4f78 3169 5732  p6aU9eDgfOOx1iW2
-00001dc0: 4258 4c55 6a72 6871 3549 3268 5035 2f57  BXLUjrhq5I2hP5/W
-00001dd0: 5146 3343 4544 5952 6a63 7a47 6a7a 4d39  QF3CEDYRjczGjzM9
-00001de0: 5438 2f63 6f65 4333 3659 4170 307a 4a75  T8/coeC36YAp0zJu
-00001df0: 6e49 5855 4b62 3853 5044 534f 4953 6166  nIXUKb8SPDSOISaf
-00001e00: 6962 5952 5946 4234 7868 6c57 4b58 576c  ibYRYFB4xhlWKXWl
-00001e10: 6f44 656c 6166 7975 6a4f 4253 5438 4b5a  oDelafyujOBST8KZ
-00001e20: 4e4d 3846 6d46 3444 5362 5872 4f38 766d  NM8FmF4DSbXrO8vm
-00001e30: 5a62 6a75 522f 386e 7455 6355 4b37 5832  ZbjuR/8ntUcUK7X2
-00001e40: 724e 6275 5a33 4d35 6557 5a44 4638 704c  rNbuZ3M5eWZDF8pL
-00001e50: 2b53 4139 6751 6974 4b66 5048 456f 636f  +SA9gQitKfPHEoco
-00001e60: 5941 6468 6745 414d 375a 4e41 4a2b 5467  YAdhgEAM7ZNAJ+Tg
-00001e70: 4f63 7839 6774 5a49 6844 574b 444e 6e46  Ocx9gtZIhDWKDNnF
-00001e80: 7849 656f 4f41 796c 6244 3178 5a64 3978  xIeoOAylbD1xZd9x
-00001e90: 6257 7471 3342 6b33 5237 3978 7173 4b78  bWtq3Bk3R79xqsKx
-00001ea0: 4652 4a52 4e78 6b2f 3962 3666 4a72 7550  FRJRNxk/9b6fJruP
-00001eb0: 3239 322b 714d 356c 7863 5a31 6a55 7a2f  292+qM5lxcZ1jUz/
-00001ec0: 644a 5559 4649 3933 6848 344d 736f 3735  dJUYFI93hH4Mso75
-00001ed0: 436a 4752 4e37 384d 4159 3953 4e69 666c  CjGRN78MAY9SNifl
-00001ee0: 3648 3871 6378 5470 426e 3433 3332 4c6c  6H8qcxTpBn4332Ll
-00001ef0: 4668 527a 6e4c 6274 6e63 3459 5357 412f  FhRznLbtnc4YSWA/
-00001f00: 6676 5671 614e 3968 327a 4348 2f36 4164  fvVqaN9h2zCH/6Ad
-00001f10: 624c 4b58 4766 6656 3334 4546 3744 6164  bLKXGffV34EF7Dad
-00001f20: 774a 7369 396a 7363 2b59 6c53 4d6e 3671  wJsi9jsc+YlSMn6q
-00001f30: 6149 5549 4454 6447 4c77 6834 4b4b 7053  aIUIDTdGLwh4KKpS
-00001f40: 4835 6256 6267 2f6d 5643 6358 5054 4a70  H5bVbg/mVCcXPTJp
-00001f50: 6c46 6759 7752 734f 6469 5162 5a59 2f37  lFgYwRsOdiQbZY/7
-00001f60: 3430 644a 796f 316c 506a 5130 4c76 6469  40dJyo1lPjQ0Lvdi
-00001f70: 6f38 5732 4d38 6337 3375 6a65 4a55 3730  o8W2M8c73ujeJU70
-00001f80: 434e 4c6b 676a 4a41 4d55 5047 7243 4674  CNLkgjJAMUPGrCFt
-00001f90: 4778 4248 3265 654c 4251 3050 3935 7152  GxBH2eeLBQ0P95qR
-00001fa0: 5a41 4963 4a37 5530 4d69 625a 4c61 526a  ZAIcJ7U0MibZLaRj
-00001fb0: 6f55 4f75 546c 6135 4249 7432 3033 3850  oUOuTla5BIt2038P
-00001fc0: 4a36 5868 6359 3642 454a 614c 794a 4f50  J6XhcY6BEJaLyJOP
-00001fd0: 4551 3d3d 222c 0a20 2020 2020 2020 2020  EQ==",.         
-00001fe0: 2020 2020 2020 2022 7665 7269 6669 6361         "verifica
-00001ff0: 7469 6f6e 4d65 7468 6f64 223a 2022 6469  tionMethod": "di
-00002000: 643a 6b65 793a 7a55 4337 3462 6765 6654  d:key:zUC74bgefT
-00002010: 6463 3433 4b53 3170 7358 6758 6634 6a4c  dc43KS1psXgXf4jL
-00002020: 6148 7961 6a32 7143 5171 5154 5872 746d  aHyaj2qCQqQTXrtm
-00002030: 5359 4766 3150 7869 4a68 7248 364c 4770  SYGf1PxiJhrH6LGp
-00002040: 6142 4d79 6a36 7471 414b 6d6a 4779 4d61  aBMyj6tqAKmjGyMa
-00002050: 5334 5266 4e6f 3261 6e37 3776 5431 4866  S4RfNo2an77vT1Hf
-00002060: 7a4a 554e 506b 3448 3754 4375 4a76 5370  zJUNPk4H7TCuJvSp
-00002070: 3476 6574 3443 7536 376b 6e32 4a53 6567  4vet4Cu67kn2JSeg
-00002080: 6f51 4e46 5341 3174 6277 5538 7623 7a55  oQNFSA1tbwU8v#zU
-00002090: 4337 3462 6765 6654 6463 3433 4b53 3170  C74bgefTdc43KS1p
-000020a0: 7358 6758 6634 6a4c 6148 7961 6a32 7143  sXgXf4jLaHyaj2qC
-000020b0: 5171 5154 5872 746d 5359 4766 3150 7869  QqQTXrtmSYGf1Pxi
-000020c0: 4a68 7248 364c 4770 6142 4d79 6a36 7471  JhrH6LGpaBMyj6tq
-000020d0: 414b 6d6a 4779 4d61 5334 5266 4e6f 3261  AKmjGyMaS4RfNo2a
-000020e0: 6e37 3776 5431 4866 7a4a 554e 506b 3448  n77vT1HfzJUNPk4H
-000020f0: 3754 4375 4a76 5370 3476 6574 3443 7536  7TCuJvSp4vet4Cu6
-00002100: 376b 6e32 4a53 6567 6f51 4e46 5341 3174  7kn2JSegoQNFSA1t
-00002110: 6277 5538 7622 2c0a 2020 2020 2020 2020  bwU8v",.        
-00002120: 2020 2020 2020 2020 2270 726f 6f66 5075          "proofPu
-00002130: 7270 6f73 6522 3a20 2261 7373 6572 7469  rpose": "asserti
-00002140: 6f6e 4d65 7468 6f64 222c 0a20 2020 2020  onMethod",.     
-00002150: 2020 2020 2020 2020 2020 2022 6372 6561             "crea
-00002160: 7465 6422 3a20 2232 3032 312d 3035 2d30  ted": "2021-05-0
-00002170: 3554 3135 3a32 323a 3330 2e35 3233 3436  5T15:22:30.52346
-00002180: 3522 2c0a 2020 2020 2020 2020 2020 2020  5",.            
-00002190: 7d2c 0a20 2020 2020 2020 207d 0a20 2020  },.        }.   
-000021a0: 205d 2c0a 2020 2020 2270 7265 7365 6e74   ],.    "present
-000021b0: 6174 696f 6e5f 7375 626d 6973 7369 6f6e  ation_submission
-000021c0: 223a 207b 0a20 2020 2020 2020 2022 6964  ": {.        "id
-000021d0: 223a 2022 6135 6663 6665 3434 2d32 6333  ": "a5fcfe44-2c3
-000021e0: 302d 3439 3764 2d61 6630 322d 3938 6535  0-497d-af02-98e5
-000021f0: 3339 6461 3961 3066 222c 0a20 2020 2020  39da9a0f",.     
-00002200: 2020 2022 6465 6669 6e69 7469 6f6e 5f69     "definition_i
-00002210: 6422 3a20 2233 3266 3534 3136 332d 3731  d": "32f54163-71
-00002220: 3636 2d34 3866 312d 3933 6438 2d66 6632  66-48f1-93d8-ff2
-00002230: 3137 6264 6230 3635 3322 2c0a 2020 2020  17bdb0653",.    
-00002240: 2020 2020 2264 6573 6372 6970 746f 725f      "descriptor_
-00002250: 6d61 7022 3a20 5b0a 2020 2020 2020 2020  map": [.        
-00002260: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
-00002270: 2020 2020 2020 2269 6422 3a20 2263 6974        "id": "cit
-00002280: 697a 656e 7368 6970 5f69 6e70 7574 5f31  izenship_input_1
-00002290: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-000022a0: 2020 2022 666f 726d 6174 223a 2022 6c64     "format": "ld
-000022b0: 705f 7670 222c 0a20 2020 2020 2020 2020  p_vp",.         
-000022c0: 2020 2020 2020 2022 7061 7468 223a 2022         "path": "
-000022d0: 242e 7665 7269 6669 6162 6c65 4372 6564  $.verifiableCred
-000022e0: 656e 7469 616c 5b30 5d22 2c0a 2020 2020  ential[0]",.    
-000022f0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-00002300: 2020 5d2c 0a20 2020 207d 2c0a 2020 2020    ],.    },.    
-00002310: 2270 726f 6f66 223a 207b 0a20 2020 2020  "proof": {.     
-00002320: 2020 2022 7479 7065 223a 2022 4564 3235     "type": "Ed25
-00002330: 3531 3953 6967 6e61 7475 7265 3230 3138  519Signature2018
-00002340: 222c 0a20 2020 2020 2020 2022 7665 7269  ",.        "veri
-00002350: 6669 6361 7469 6f6e 4d65 7468 6f64 223a  ficationMethod":
-00002360: 2022 6469 643a 736f 763a 3451 787a 576b   "did:sov:4QxzWk
-00002370: 3361 6a64 6e45 4133 374e 644e 5535 4b74  3ajdnEA37NdNU5Kt
-00002380: 236b 6579 2d31 222c 0a20 2020 2020 2020  #key-1",.       
-00002390: 2022 6372 6561 7465 6422 3a20 2232 3032   "created": "202
-000023a0: 312d 3035 2d30 3554 3135 3a32 333a 3033  1-05-05T15:23:03
-000023b0: 2e30 3233 3937 3122 2c0a 2020 2020 2020  .023971",.      
-000023c0: 2020 2270 726f 6f66 5075 7270 6f73 6522    "proofPurpose"
-000023d0: 3a20 2261 7574 6865 6e74 6963 6174 696f  : "authenticatio
-000023e0: 6e22 2c0a 2020 2020 2020 2020 2263 6861  n",.        "cha
-000023f0: 6c6c 656e 6765 223a 2022 3430 3432 3964  llenge": "40429d
-00002400: 3439 2d35 6538 662d 3466 6663 2d62 6166  49-5e8f-4ffc-baf
-00002410: 382d 6533 3332 3431 3266 3132 3437 222c  8-e332412f1247",
-00002420: 0a20 2020 2020 2020 2022 6a77 7322 3a20  .        "jws": 
-00002430: 2265 794a 6862 4763 694f 6941 6952 5752  "eyJhbGciOiAiRWR
-00002440: 4555 3045 694c 4341 6959 6a59 3049 6a6f  EU0EiLCAiYjY0Ijo
-00002450: 675a 6d46 7363 3255 7349 434a 6a63 6d6c  gZmFsc2UsICJjcml
-00002460: 3049 6a6f 6757 794a 694e 6a51 6958 5830  0IjogWyJiNjQiXX0
-00002470: 2e2e 3275 4259 6d67 376d 7545 395a 5056  ..2uBYmg7muE9ZPV
-00002480: 6541 476f 5f69 6256 664c 6b43 6a66 3268  eAGo_ibVfLkCjf2h
-00002490: 4773 6872 326f 3569 3870 4177 4679 4e42  Gshr2o5i8pAwFyNB
-000024a0: 4d2d 6b44 4858 6f66 7571 314d 7a4a 6762  M-kDHXofuq1MzJgb
-000024b0: 3139 777a 6230 3156 4975 3931 6859 5f61  19wzb01VIu91hY_a
-000024c0: 6a6a 7439 4b46 4141 222c 0a20 2020 207d  jjt9KFAA",.    }
-000024d0: 2c0a 7d0a 0a54 4553 545f 4352 4544 203d  ,.}..TEST_CRED =
-000024e0: 207b 0a20 2020 2022 4063 6f6e 7465 7874   {.    "@context
-000024f0: 223a 205b 0a20 2020 2020 2020 2022 6874  ": [.        "ht
-00002500: 7470 733a 2f2f 7777 772e 7733 2e6f 7267  tps://www.w3.org
-00002510: 2f32 3031 382f 6372 6564 656e 7469 616c  /2018/credential
-00002520: 732f 7631 222c 0a20 2020 2020 2020 2022  s/v1",.        "
-00002530: 6874 7470 733a 2f2f 7733 6964 2e6f 7267  https://w3id.org
-00002540: 2f63 6974 697a 656e 7368 6970 2f76 3122  /citizenship/v1"
-00002550: 2c0a 2020 2020 2020 2020 2268 7474 7073  ,.        "https
-00002560: 3a2f 2f77 3369 642e 6f72 672f 7365 6375  ://w3id.org/secu
-00002570: 7269 7479 2f62 6273 2f76 3122 2c0a 2020  rity/bbs/v1",.  
-00002580: 2020 5d2c 0a20 2020 2022 6964 223a 2022    ],.    "id": "
-00002590: 6874 7470 733a 2f2f 6973 7375 6572 2e6f  https://issuer.o
-000025a0: 6964 702e 7573 6369 732e 676f 762f 6372  idp.uscis.gov/cr
-000025b0: 6564 656e 7469 616c 732f 3833 3632 3734  edentials/836274
-000025c0: 3635 222c 0a20 2020 2022 7479 7065 223a  65",.    "type":
-000025d0: 205b 2256 6572 6966 6961 626c 6543 7265   ["VerifiableCre
-000025e0: 6465 6e74 6961 6c22 2c20 2250 6572 6d61  dential", "Perma
-000025f0: 6e65 6e74 5265 7369 6465 6e74 4361 7264  nentResidentCard
-00002600: 225d 2c0a 2020 2020 2269 7373 7565 7222  "],.    "issuer"
-00002610: 3a20 2264 6964 3a6b 6579 3a7a 5543 3736  : "did:key:zUC76
-00002620: 6558 3836 334e 5431 4245 4659 4566 534d  eX863NT1BEFYEfSM
-00002630: 5259 3443 5356 7752 6d52 644b 4274 7633  RY4CSVwRmRdKBtv3
-00002640: 6377 5477 7974 4458 4e45 4176 4a78 4672  cwTwytDXNEAvJxFr
-00002650: 3347 426a 6b70 4b52 7333 7867 3946 7a6e  3GBjkpKRs3xg9Fzn
-00002660: 5568 7858 6b77 444c 4c75 3755 6a44 6e65  UhxXkwDLLu7UjDne
-00002670: 7453 514e 7647 6954 3169 7648 6444 4642  tSQNvGiT1ivHdDFB
-00002680: 795a 6458 6f57 4c59 7044 4452 7068 3565  yZdXoWLYpDDRph5e
-00002690: 5a44 5854 474e 7765 7571 335a 3875 416f  ZDXTGNweuq3Z8uAo
-000026a0: 336f 222c 0a20 2020 2022 6964 656e 7469  3o",.    "identi
-000026b0: 6669 6572 223a 2022 3833 3632 3734 3635  fier": "83627465
-000026c0: 222c 0a20 2020 2022 6e61 6d65 223a 2022  ",.    "name": "
-000026d0: 5065 726d 616e 656e 7420 5265 7369 6465  Permanent Reside
-000026e0: 6e74 2043 6172 6422 2c0a 2020 2020 2264  nt Card",.    "d
-000026f0: 6573 6372 6970 7469 6f6e 223a 2022 476f  escription": "Go
-00002700: 7665 726e 6d65 6e74 206f 6620 4578 616d  vernment of Exam
-00002710: 706c 6520 5065 726d 616e 656e 7420 5265  ple Permanent Re
-00002720: 7369 6465 6e74 2043 6172 642e 222c 0a20  sident Card.",. 
-00002730: 2020 2022 6973 7375 616e 6365 4461 7465     "issuanceDate
-00002740: 223a 2022 3230 3130 2d30 312d 3031 5431  ": "2010-01-01T1
-00002750: 393a 3533 3a32 345a 222c 0a20 2020 2022  9:53:24Z",.    "
-00002760: 6578 7069 7261 7469 6f6e 4461 7465 223a  expirationDate":
-00002770: 2022 3230 3239 2d31 322d 3033 5431 323a   "2029-12-03T12:
-00002780: 3139 3a35 325a 222c 0a20 2020 2022 6372  19:52Z",.    "cr
-00002790: 6564 656e 7469 616c 5375 626a 6563 7422  edentialSubject"
-000027a0: 3a20 7b0a 2020 2020 2020 2020 2269 6422  : {.        "id"
-000027b0: 3a20 2264 6964 3a73 6f76 3a34 5178 7a57  : "did:sov:4QxzW
-000027c0: 6b33 616a 646e 4541 3337 4e64 4e55 354b  k3ajdnEA37NdNU5K
-000027d0: 7422 2c0a 2020 2020 2020 2020 2274 7970  t",.        "typ
-000027e0: 6522 3a20 5b22 5065 726d 616e 656e 7452  e": ["PermanentR
-000027f0: 6573 6964 656e 7422 2c20 2250 6572 736f  esident", "Perso
-00002800: 6e22 5d2c 0a20 2020 2020 2020 2022 6769  n"],.        "gi
-00002810: 7665 6e4e 616d 6522 3a20 224a 4f48 4e22  venName": "JOHN"
-00002820: 2c0a 2020 2020 2020 2020 2266 616d 696c  ,.        "famil
-00002830: 794e 616d 6522 3a20 2253 4d49 5448 222c  yName": "SMITH",
-00002840: 0a20 2020 2020 2020 2022 6765 6e64 6572  .        "gender
-00002850: 223a 2022 4d61 6c65 222c 0a20 2020 2020  ": "Male",.     
-00002860: 2020 2022 696d 6167 6522 3a20 2264 6174     "image": "dat
-00002870: 613a 696d 6167 652f 706e 673b 6261 7365  a:image/png;base
-00002880: 3634 2c69 5642 4f52 7730 4b47 676f 6b4a  64,iVBORw0KGgokJ
-00002890: 6767 673d 3d22 2c0a 2020 2020 2020 2020  ggg==",.        
-000028a0: 2272 6573 6964 656e 7453 696e 6365 223a  "residentSince":
-000028b0: 2022 3230 3135 2d30 312d 3031 222c 0a20   "2015-01-01",. 
-000028c0: 2020 2020 2020 2022 6c70 7243 6174 6567         "lprCateg
-000028d0: 6f72 7922 3a20 2243 3039 222c 0a20 2020  ory": "C09",.   
-000028e0: 2020 2020 2022 6c70 724e 756d 6265 7222       "lprNumber"
-000028f0: 3a20 2239 3939 2d39 3939 2d39 3939 222c  : "999-999-999",
-00002900: 0a20 2020 2020 2020 2022 636f 6d6d 7574  .        "commut
-00002910: 6572 436c 6173 7369 6669 6361 7469 6f6e  erClassification
-00002920: 223a 2022 4331 222c 0a20 2020 2020 2020  ": "C1",.       
-00002930: 2022 6269 7274 6843 6f75 6e74 7279 223a   "birthCountry":
-00002940: 2022 4261 6861 6d61 7322 2c0a 2020 2020   "Bahamas",.    
-00002950: 2020 2020 2262 6972 7468 4461 7465 223a      "birthDate":
-00002960: 2022 3139 3538 2d30 372d 3137 222c 0a20   "1958-07-17",. 
-00002970: 2020 207d 2c0a 7d0a 0a0a 636c 6173 7320     },.}...class 
-00002980: 5465 7374 4449 4646 6f72 6d61 7448 616e  TestDIFFormatHan
-00002990: 646c 6572 2841 7379 6e63 5465 7374 4361  dler(AsyncTestCa
-000029a0: 7365 293a 0a20 2020 2061 7379 6e63 2064  se):.    async d
-000029b0: 6566 2073 6574 5570 2873 656c 6629 3a0a  ef setUp(self):.
-000029c0: 2020 2020 2020 2020 7365 6c66 2e68 6f6c          self.hol
-000029d0: 6465 7220 3d20 6173 796e 635f 6d6f 636b  der = async_mock
-000029e0: 2e4d 6167 6963 4d6f 636b 2829 0a20 2020  .MagicMock().   
-000029f0: 2020 2020 2073 656c 662e 7761 6c6c 6574       self.wallet
-00002a00: 203d 2061 7379 6e63 5f6d 6f63 6b2e 4d61   = async_mock.Ma
-00002a10: 6769 634d 6f63 6b28 4261 7365 5761 6c6c  gicMock(BaseWall
-00002a20: 6574 2c20 6175 746f 7370 6563 3d54 7275  et, autospec=Tru
-00002a30: 6529 0a0a 2020 2020 2020 2020 7365 6c66  e)..        self
-00002a40: 2e73 6573 7369 6f6e 203d 2049 6e4d 656d  .session = InMem
-00002a50: 6f72 7950 726f 6669 6c65 2e74 6573 745f  oryProfile.test_
-00002a60: 7365 7373 696f 6e28 0a20 2020 2020 2020  session(.       
-00002a70: 2020 2020 2062 696e 643d 7b56 4348 6f6c       bind={VCHol
-00002a80: 6465 723a 2073 656c 662e 686f 6c64 6572  der: self.holder
-00002a90: 2c20 4261 7365 5761 6c6c 6574 3a20 7365  , BaseWallet: se
-00002aa0: 6c66 2e77 616c 6c65 747d 0a20 2020 2020  lf.wallet}.     
-00002ab0: 2020 2029 0a20 2020 2020 2020 2073 656c     ).        sel
-00002ac0: 662e 7072 6f66 696c 6520 3d20 7365 6c66  f.profile = self
-00002ad0: 2e73 6573 7369 6f6e 2e70 726f 6669 6c65  .session.profile
-00002ae0: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
-00002af0: 6e74 6578 7420 3d20 7365 6c66 2e70 726f  ntext = self.pro
-00002b00: 6669 6c65 2e63 6f6e 7465 7874 0a20 2020  file.context.   
-00002b10: 2020 2020 2073 6574 6174 7472 280a 2020       setattr(.  
-00002b20: 2020 2020 2020 2020 2020 7365 6c66 2e70            self.p
-00002b30: 726f 6669 6c65 2c20 2273 6573 7369 6f6e  rofile, "session
-00002b40: 222c 2061 7379 6e63 5f6d 6f63 6b2e 4d61  ", async_mock.Ma
-00002b50: 6769 634d 6f63 6b28 7265 7475 726e 5f76  gicMock(return_v
-00002b60: 616c 7565 3d73 656c 662e 7365 7373 696f  alue=self.sessio
-00002b70: 6e29 0a20 2020 2020 2020 2029 0a0a 2020  n).        )..  
-00002b80: 2020 2020 2020 2320 5365 7420 6375 7374        # Set cust
-00002b90: 6f6d 2064 6f63 756d 656e 7420 6c6f 6164  om document load
-00002ba0: 6572 0a20 2020 2020 2020 2073 656c 662e  er.        self.
-00002bb0: 636f 6e74 6578 742e 696e 6a65 6374 6f72  context.injector
-00002bc0: 2e62 696e 645f 696e 7374 616e 6365 2844  .bind_instance(D
-00002bd0: 6f63 756d 656e 744c 6f61 6465 722c 2063  ocumentLoader, c
-00002be0: 7573 746f 6d5f 646f 6375 6d65 6e74 5f6c  ustom_document_l
-00002bf0: 6f61 6465 7229 0a20 2020 2020 2020 2073  oader).        s
-00002c00: 656c 662e 636f 6e74 6578 742e 696e 6a65  elf.context.inje
-00002c10: 6374 6f72 2e62 696e 645f 696e 7374 616e  ctor.bind_instan
-00002c20: 6365 2842 6173 6552 6573 706f 6e64 6572  ce(BaseResponder
-00002c30: 2c20 4d6f 636b 5265 7370 6f6e 6465 7228  , MockResponder(
-00002c40: 2929 0a0a 2020 2020 2020 2020 7365 6c66  ))..        self
-00002c50: 2e68 616e 646c 6572 203d 2044 4946 5072  .handler = DIFPr
-00002c60: 6573 466f 726d 6174 4861 6e64 6c65 7228  esFormatHandler(
-00002c70: 7365 6c66 2e70 726f 6669 6c65 290a 2020  self.profile).  
-00002c80: 2020 2020 2020 6173 7365 7274 2073 656c        assert sel
-00002c90: 662e 6861 6e64 6c65 722e 7072 6f66 696c  f.handler.profil
-00002ca0: 650a 0a20 2020 2064 6566 2074 6573 745f  e..    def test_
-00002cb0: 7661 6c69 6461 7465 5f66 6965 6c64 7328  validate_fields(
-00002cc0: 7365 6c66 293a 0a20 2020 2020 2020 2073  self):.        s
-00002cd0: 656c 662e 6861 6e64 6c65 722e 7661 6c69  elf.handler.vali
-00002ce0: 6461 7465 5f66 6965 6c64 7328 5052 4553  date_fields(PRES
-00002cf0: 5f32 302c 2044 4946 5f50 5245 5329 0a20  _20, DIF_PRES). 
-00002d00: 2020 2020 2020 2073 656c 662e 6861 6e64         self.hand
-00002d10: 6c65 722e 7661 6c69 6461 7465 5f66 6965  ler.validate_fie
-00002d20: 6c64 7328 5052 4553 5f32 305f 5052 4f50  lds(PRES_20_PROP
-00002d30: 4f53 414c 2c20 4449 465f 5052 4553 5f50  OSAL, DIF_PRES_P
-00002d40: 524f 504f 5341 4c29 0a20 2020 2020 2020  ROPOSAL).       
-00002d50: 2073 656c 662e 6861 6e64 6c65 722e 7661   self.handler.va
-00002d60: 6c69 6461 7465 5f66 6965 6c64 7328 5052  lidate_fields(PR
-00002d70: 4553 5f32 305f 5245 5155 4553 542c 2044  ES_20_REQUEST, D
-00002d80: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
-00002d90: 4129 0a20 2020 2020 2020 2073 656c 662e  A).        self.
-00002da0: 6861 6e64 6c65 722e 7661 6c69 6461 7465  handler.validate
-00002db0: 5f66 6965 6c64 7328 5052 4553 5f32 305f  _fields(PRES_20_
-00002dc0: 5245 5155 4553 542c 2044 4946 5f50 5245  REQUEST, DIF_PRE
-00002dd0: 535f 5245 5155 4553 545f 4229 0a0a 2020  S_REQUEST_B)..  
-00002de0: 2020 2020 2020 7769 7468 2073 656c 662e        with self.
-00002df0: 6173 7365 7274 5261 6973 6573 2856 616c  assertRaises(Val
-00002e00: 6964 6174 696f 6e45 7272 6f72 293a 0a20  idationError):. 
-00002e10: 2020 2020 2020 2020 2020 2069 6e63 6f72             incor
-00002e20: 7265 6374 5f70 7265 7320 3d20 4449 465f  rect_pres = DIF_
-00002e30: 5052 4553 2e63 6f70 7928 290a 2020 2020  PRES.copy().    
-00002e40: 2020 2020 2020 2020 696e 636f 7272 6563          incorrec
-00002e50: 745f 7072 6573 2e70 6f70 2822 4063 6f6e  t_pres.pop("@con
-00002e60: 7465 7874 2229 0a20 2020 2020 2020 2020  text").         
-00002e70: 2020 2073 656c 662e 6861 6e64 6c65 722e     self.handler.
-00002e80: 7661 6c69 6461 7465 5f66 6965 6c64 7328  validate_fields(
-00002e90: 5052 4553 5f32 302c 2069 6e63 6f72 7265  PRES_20, incorre
-00002ea0: 6374 5f70 7265 7329 0a0a 2020 2020 6173  ct_pres)..    as
-00002eb0: 796e 6320 6465 6620 7465 7374 5f67 6574  ync def test_get
-00002ec0: 5f61 6c6c 5f73 7569 7465 7328 7365 6c66  _all_suites(self
-00002ed0: 293a 0a20 2020 2020 2020 2073 7569 7465  ):.        suite
-00002ee0: 7320 3d20 6177 6169 7420 7365 6c66 2e68  s = await self.h
-00002ef0: 616e 646c 6572 2e5f 6765 745f 616c 6c5f  andler._get_all_
-00002f00: 7375 6974 6573 2873 656c 662e 7761 6c6c  suites(self.wall
-00002f10: 6574 290a 2020 2020 2020 2020 6173 7365  et).        asse
-00002f20: 7274 206c 656e 2873 7569 7465 7329 203d  rt len(suites) =
-00002f30: 3d20 330a 2020 2020 2020 2020 7479 7065  = 3.        type
-00002f40: 7320 3d20 5b45 6432 3535 3139 5369 676e  s = [Ed25519Sign
-00002f50: 6174 7572 6532 3031 382c 2042 6273 426c  ature2018, BbsBl
-00002f60: 7353 6967 6e61 7475 7265 3230 3230 2c20  sSignature2020, 
-00002f70: 4262 7342 6c73 5369 676e 6174 7572 6550  BbsBlsSignatureP
-00002f80: 726f 6f66 3230 3230 5d0a 2020 2020 2020  roof2020].      
-00002f90: 2020 666f 7220 7375 6974 6520 696e 2073    for suite in s
-00002fa0: 7569 7465 733a 0a20 2020 2020 2020 2020  uites:.         
-00002fb0: 2020 2061 7373 6572 7420 7479 7065 2873     assert type(s
-00002fc0: 7569 7465 2920 696e 2074 7970 6573 0a0a  uite) in types..
-00002fd0: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
-00002fe0: 7374 5f63 7265 6174 655f 626f 756e 645f  st_create_bound_
-00002ff0: 7265 7175 6573 745f 6128 7365 6c66 293a  request_a(self):
-00003000: 0a20 2020 2020 2020 2064 6966 5f70 726f  .        dif_pro
-00003010: 706f 7361 6c5f 6469 6374 203d 207b 0a20  posal_dict = {. 
-00003020: 2020 2020 2020 2020 2020 2022 696e 7075             "inpu
-00003030: 745f 6465 7363 7269 7074 6f72 7322 3a20  t_descriptors": 
-00003040: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00003050: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-00003060: 2020 2020 2020 2020 2269 6422 3a20 2263          "id": "c
-00003070: 6974 697a 656e 7368 6970 5f69 6e70 7574  itizenship_input
-00003080: 5f31 222c 0a20 2020 2020 2020 2020 2020  _1",.           
-00003090: 2020 2020 2020 2020 2022 6e61 6d65 223a           "name":
-000030a0: 2022 4555 2044 7269 7665 7227 7320 4c69   "EU Driver's Li
-000030b0: 6365 6e73 6522 2c0a 2020 2020 2020 2020  cense",.        
-000030c0: 2020 2020 2020 2020 2020 2020 2267 726f              "gro
-000030d0: 7570 223a 205b 2241 225d 2c0a 2020 2020  up": ["A"],.    
-000030e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000030f0: 2273 6368 656d 6122 3a20 5b0a 2020 2020  "schema": [.    
+000012b0: 5f50 5245 535f 5245 5155 4553 545f 5345  _PRES_REQUEST_SE
+000012c0: 5155 454e 4345 203d 207b 0a20 2020 2022  QUENCE = {.    "
+000012d0: 6f70 7469 6f6e 7322 3a20 7b0a 2020 2020  options": {.    
+000012e0: 2020 2020 2263 6861 6c6c 656e 6765 223a      "challenge":
+000012f0: 2022 3366 6138 3566 3634 2d35 3731 372d   "3fa85f64-5717-
+00001300: 3435 3632 2d62 3366 632d 3263 3936 3366  4562-b3fc-2c963f
+00001310: 3636 6166 6137 222c 0a20 2020 2020 2020  66afa7",.       
+00001320: 2022 646f 6d61 696e 223a 2022 346a 7437   "domain": "4jt7
+00001330: 3868 3437 6668 3437 222c 0a20 2020 207d  8h47fh47",.    }
+00001340: 2c0a 2020 2020 2270 7265 7365 6e74 6174  ,.    "presentat
+00001350: 696f 6e5f 6465 6669 6e69 7469 6f6e 223a  ion_definition":
+00001360: 207b 0a20 2020 2020 2020 2022 6964 223a   {.        "id":
+00001370: 2022 3332 6635 3431 3633 2d37 3136 362d   "32f54163-7166-
+00001380: 3438 6631 2d39 3364 382d 6666 3231 3762  48f1-93d8-ff217b
+00001390: 6462 3036 3534 222c 0a20 2020 2020 2020  db0654",.       
+000013a0: 2022 7375 626d 6973 7369 6f6e 5f72 6571   "submission_req
+000013b0: 7569 7265 6d65 6e74 7322 3a20 5b0a 2020  uirements": [.  
+000013c0: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+000013d0: 2020 2020 2020 2020 2020 2020 226e 616d              "nam
+000013e0: 6522 3a20 2243 6974 697a 656e 7368 6970  e": "Citizenship
+000013f0: 2049 6e66 6f72 6d61 7469 6f6e 222c 0a20   Information",. 
+00001400: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00001410: 7275 6c65 223a 2022 616c 6c22 2c0a 2020  rule": "all",.  
+00001420: 2020 2020 2020 2020 2020 2020 2020 2266                "f
+00001430: 726f 6d22 3a20 2241 222c 0a20 2020 2020  rom": "A",.     
+00001440: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+00001450: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
+00001460: 2020 2020 2020 2020 226e 616d 6522 3a20          "name": 
+00001470: 2243 6974 697a 656e 7368 6970 2049 6e66  "Citizenship Inf
+00001480: 6f72 6d61 7469 6f6e 2076 3222 2c0a 2020  ormation v2",.  
+00001490: 2020 2020 2020 2020 2020 2020 2020 2272                "r
+000014a0: 756c 6522 3a20 2270 6963 6b22 2c0a 2020  ule": "pick",.  
+000014b0: 2020 2020 2020 2020 2020 2020 2020 226d                "m
+000014c0: 696e 223a 2031 2c0a 2020 2020 2020 2020  in": 1,.        
+000014d0: 2020 2020 2020 2020 2266 726f 6d22 3a20          "from": 
+000014e0: 2242 222c 0a20 2020 2020 2020 2020 2020  "B",.           
+000014f0: 207d 2c0a 2020 2020 2020 2020 5d2c 0a20   },.        ],. 
+00001500: 2020 2020 2020 2022 696e 7075 745f 6465         "input_de
+00001510: 7363 7269 7074 6f72 7322 3a20 5b0a 2020  scriptors": [.  
+00001520: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00001530: 2020 2020 2020 2020 2020 2020 2269 6422              "id"
+00001540: 3a20 2263 6974 697a 656e 7368 6970 5f69  : "citizenship_i
+00001550: 6e70 7574 5f31 222c 0a20 2020 2020 2020  nput_1",.       
+00001560: 2020 2020 2020 2020 2022 6e61 6d65 223a           "name":
+00001570: 2022 4555 2044 7269 7665 7227 7320 4c69   "EU Driver's Li
+00001580: 6365 6e73 6522 2c0a 2020 2020 2020 2020  cense",.        
+00001590: 2020 2020 2020 2020 2267 726f 7570 223a          "group":
+000015a0: 205b 2241 225d 2c0a 2020 2020 2020 2020   ["A"],.        
+000015b0: 2020 2020 2020 2020 2273 6368 656d 6122          "schema"
+000015c0: 3a20 5b0a 2020 2020 2020 2020 2020 2020  : [.            
+000015d0: 2020 2020 2020 2020 7b22 7572 6922 3a20          {"uri": 
+000015e0: 2268 7474 7073 3a2f 2f77 7777 2e77 332e  "https://www.w3.
+000015f0: 6f72 672f 3230 3138 2f63 7265 6465 6e74  org/2018/credent
+00001600: 6961 6c73 2356 6572 6966 6961 626c 6543  ials#VerifiableC
+00001610: 7265 6465 6e74 6961 6c22 7d2c 0a20 2020  redential"},.   
+00001620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001630: 207b 2275 7269 223a 2022 6874 7470 733a   {"uri": "https:
+00001640: 2f2f 7733 6964 2e6f 7267 2f63 6974 697a  //w3id.org/citiz
+00001650: 656e 7368 6970 2350 6572 6d61 6e65 6e74  enship#Permanent
+00001660: 5265 7369 6465 6e74 4361 7264 227d 2c0a  ResidentCard"},.
+00001670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001680: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00001690: 2020 2022 636f 6e73 7472 6169 6e74 7322     "constraints"
+000016a0: 3a20 7b0a 2020 2020 2020 2020 2020 2020  : {.            
+000016b0: 2020 2020 2020 2020 226c 696d 6974 5f64          "limit_d
+000016c0: 6973 636c 6f73 7572 6522 3a20 2272 6571  isclosure": "req
+000016d0: 7569 7265 6422 2c0a 2020 2020 2020 2020  uired",.        
+000016e0: 2020 2020 2020 2020 2020 2020 2266 6965              "fie
+000016f0: 6c64 7322 3a20 5b0a 2020 2020 2020 2020  lds": [.        
+00001700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001710: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00001720: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+00001730: 6174 6822 3a20 5b22 242e 6372 6564 656e  ath": ["$.creden
+00001740: 7469 616c 5375 626a 6563 742e 6769 7665  tialSubject.give
+00001750: 6e4e 616d 6522 5d2c 0a20 2020 2020 2020  nName"],.       
+00001760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001770: 2020 2020 2022 7075 7270 6f73 6522 3a20       "purpose": 
+00001780: 2254 6865 2063 6c61 696d 206d 7573 7420  "The claim must 
+00001790: 6265 2066 726f 6d20 6f6e 6520 6f66 2074  be from one of t
+000017a0: 6865 2073 7065 6369 6669 6564 2069 7373  he specified iss
+000017b0: 7565 7273 222c 0a20 2020 2020 2020 2020  uers",.         
+000017c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017d0: 2020 2022 6669 6c74 6572 223a 207b 0a20     "filter": {. 
+000017e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000017f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00001800: 7479 7065 223a 2022 7374 7269 6e67 222c  type": "string",
+00001810: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001830: 2022 656e 756d 223a 205b 224a 4f48 4e22   "enum": ["JOHN"
+00001840: 2c20 2243 4149 225d 2c0a 2020 2020 2020  , "CAI"],.      
+00001850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001860: 2020 2020 2020 7d2c 0a20 2020 2020 2020        },.       
+00001870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001880: 207d 0a20 2020 2020 2020 2020 2020 2020   }.             
+00001890: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+000018a0: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+000018b0: 2020 2020 2020 2020 207d 2c0a 2020 2020           },.    
+000018c0: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+000018d0: 2020 2020 2020 2020 2020 2269 6422 3a20            "id": 
+000018e0: 2263 6974 697a 656e 7368 6970 5f69 6e70  "citizenship_inp
+000018f0: 7574 5f32 222c 0a20 2020 2020 2020 2020  ut_2",.         
+00001900: 2020 2020 2020 2022 6e61 6d65 223a 2022         "name": "
+00001910: 4555 2044 7269 7665 7227 7320 4c69 6365  EU Driver's Lice
+00001920: 6e73 6520 7632 222c 0a20 2020 2020 2020  nse v2",.       
+00001930: 2020 2020 2020 2020 2022 6772 6f75 7022           "group"
+00001940: 3a20 5b22 4222 5d2c 0a20 2020 2020 2020  : ["B"],.       
+00001950: 2020 2020 2020 2020 2022 7363 6865 6d61           "schema
+00001960: 223a 205b 0a20 2020 2020 2020 2020 2020  ": [.           
+00001970: 2020 2020 2020 2020 207b 2275 7269 223a           {"uri":
+00001980: 2022 6874 7470 733a 2f2f 7777 772e 7733   "https://www.w3
+00001990: 2e6f 7267 2f32 3031 382f 6372 6564 656e  .org/2018/creden
+000019a0: 7469 616c 7323 5665 7269 6669 6162 6c65  tials#Verifiable
+000019b0: 4372 6564 656e 7469 616c 227d 2c0a 2020  Credential"},.  
+000019c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000019d0: 2020 7b22 7572 6922 3a20 2268 7474 7073    {"uri": "https
+000019e0: 3a2f 2f77 3369 642e 6f72 672f 6369 7469  ://w3id.org/citi
+000019f0: 7a65 6e73 6869 7023 5065 726d 616e 656e  zenship#Permanen
+00001a00: 7452 6573 6964 656e 7443 6172 6422 7d2c  tResidentCard"},
+00001a10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001a20: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00001a30: 2020 2020 2263 6f6e 7374 7261 696e 7473      "constraints
+00001a40: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+00001a50: 2020 2020 2020 2020 2022 6c69 6d69 745f           "limit_
+00001a60: 6469 7363 6c6f 7375 7265 223a 2022 7265  disclosure": "re
+00001a70: 7175 6972 6564 222c 0a20 2020 2020 2020  quired",.       
+00001a80: 2020 2020 2020 2020 2020 2020 2022 6669               "fi
+00001a90: 656c 6473 223a 205b 0a20 2020 2020 2020  elds": [.       
+00001aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ab0: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+00001ac0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00001ad0: 7061 7468 223a 205b 2224 2e63 7265 6465  path": ["$.crede
+00001ae0: 6e74 6961 6c53 7562 6a65 6374 2e67 6976  ntialSubject.giv
+00001af0: 656e 4e61 6d65 225d 2c0a 2020 2020 2020  enName"],.      
+00001b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b10: 2020 2020 2020 2270 7572 706f 7365 223a        "purpose":
+00001b20: 2022 5468 6520 636c 6169 6d20 6d75 7374   "The claim must
+00001b30: 2062 6520 6672 6f6d 206f 6e65 206f 6620   be from one of 
+00001b40: 7468 6520 7370 6563 6966 6965 6420 6973  the specified is
+00001b50: 7375 6572 7322 2c0a 2020 2020 2020 2020  suers",.        
+00001b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b70: 2020 2020 2266 696c 7465 7222 3a20 7b0a      "filter": {.
+00001b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ba0: 2274 7970 6522 3a20 2273 7472 696e 6722  "type": "string"
+00001bb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00001bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001bd0: 2020 2265 6e75 6d22 3a20 5b22 4a4f 484e    "enum": ["JOHN
+00001be0: 222c 2022 4341 4922 5d2c 0a20 2020 2020  ", "CAI"],.     
+00001bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c00: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+00001c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001c20: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
+00001c30: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+00001c40: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+00001c50: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+00001c60: 2020 2020 205d 2c0a 2020 2020 7d2c 0a7d       ],.    },.}
+00001c70: 0a0a 4449 465f 5052 4553 5f50 524f 504f  ..DIF_PRES_PROPO
+00001c80: 5341 4c20 3d20 7b0a 2020 2020 2269 6e70  SAL = {.    "inp
+00001c90: 7574 5f64 6573 6372 6970 746f 7273 223a  ut_descriptors":
+00001ca0: 205b 0a20 2020 2020 2020 207b 0a20 2020   [.        {.   
+00001cb0: 2020 2020 2020 2020 2022 6964 223a 2022           "id": "
+00001cc0: 6369 7469 7a65 6e73 6869 705f 696e 7075  citizenship_inpu
+00001cd0: 745f 3122 2c0a 2020 2020 2020 2020 2020  t_1",.          
+00001ce0: 2020 226e 616d 6522 3a20 2245 5520 4472    "name": "EU Dr
+00001cf0: 6976 6572 2773 204c 6963 656e 7365 222c  iver's License",
+00001d00: 0a20 2020 2020 2020 2020 2020 2022 6772  .            "gr
+00001d10: 6f75 7022 3a20 5b22 4122 5d2c 0a20 2020  oup": ["A"],.   
+00001d20: 2020 2020 2020 2020 2022 7363 6865 6d61           "schema
+00001d30: 223a 205b 0a20 2020 2020 2020 2020 2020  ": [.           
+00001d40: 2020 2020 207b 2275 7269 223a 2022 6874       {"uri": "ht
+00001d50: 7470 733a 2f2f 7777 772e 7733 2e6f 7267  tps://www.w3.org
+00001d60: 2f32 3031 382f 6372 6564 656e 7469 616c  /2018/credential
+00001d70: 7323 5665 7269 6669 6162 6c65 4372 6564  s#VerifiableCred
+00001d80: 656e 7469 616c 227d 2c0a 2020 2020 2020  ential"},.      
+00001d90: 2020 2020 2020 2020 2020 7b22 7572 6922            {"uri"
+00001da0: 3a20 2268 7474 7073 3a2f 2f77 3369 642e  : "https://w3id.
+00001db0: 6f72 672f 6369 7469 7a65 6e73 6869 7023  org/citizenship#
+00001dc0: 5065 726d 616e 656e 7452 6573 6964 656e  PermanentResiden
+00001dd0: 7443 6172 6422 7d2c 0a20 2020 2020 2020  tCard"},.       
+00001de0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+00001df0: 2020 2020 2263 6f6e 7374 7261 696e 7473      "constraints
+00001e00: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+00001e10: 2020 2020 2022 6669 656c 6473 223a 205b       "fields": [
+00001e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001e30: 2020 2020 207b 0a20 2020 2020 2020 2020       {.         
+00001e40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00001e50: 7061 7468 223a 205b 2224 2e69 7373 7565  path": ["$.issue
+00001e60: 722e 6964 222c 2022 242e 7663 2e69 7373  r.id", "$.vc.iss
+00001e70: 7565 722e 6964 222c 2022 242e 6973 7375  uer.id", "$.issu
+00001e80: 6572 225d 2c0a 2020 2020 2020 2020 2020  er"],.          
+00001e90: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+00001ea0: 7572 706f 7365 223a 2022 5468 6520 636c  urpose": "The cl
+00001eb0: 6169 6d20 6d75 7374 2062 6520 6672 6f6d  aim must be from
+00001ec0: 206f 6e65 206f 6620 7468 6520 7370 6563   one of the spec
+00001ed0: 6966 6965 6420 6973 7375 6572 7322 2c0a  ified issuers",.
+00001ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001ef0: 2020 2020 2020 2020 2266 696c 7465 7222          "filter"
+00001f00: 3a20 7b0a 2020 2020 2020 2020 2020 2020  : {.            
+00001f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f20: 2274 7970 6522 3a20 2273 7472 696e 6722  "type": "string"
+00001f30: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00001f40: 2020 2020 2020 2020 2020 2020 2020 2265                "e
+00001f50: 6e75 6d22 3a20 5b0a 2020 2020 2020 2020  num": [.        
+00001f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001f70: 2020 2020 2020 2020 2264 6964 3a65 7861          "did:exa
+00001f80: 6d70 6c65 3a34 3839 3339 3835 3933 222c  mple:489398593",
+00001f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00001fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00001fb0: 2022 6469 643a 6b65 793a 7a55 4337 3251   "did:key:zUC72Q
+00001fc0: 3758 4434 5045 3443 724d 6944 5658 7576  7XD4PE4CrMiDVXuv
+00001fd0: 5a6e 6733 7342 764d 6d61 4767 4e65 5455  Zng3sBvMmaGgNeTU
+00001fe0: 4a75 7a61 7648 3242 5337 5468 6248 4c39  JuzavH2BS7ThbHL9
+00001ff0: 4668 735a 4d39 5159 5935 6671 4151 344d  FhsZM9QYY5fqAQ4M
+00002000: 4238 4d39 6f75 647a 3374 6675 6158 3336  B8M9oudz3tfuaX36
+00002010: 416a 7239 3751 5257 374c 4274 3657 576d  Ajr97QRW7LBt6WWm
+00002020: 7274 4553 6536 4273 354e 597a 4674 4c57  rtESe6Bs5NYzFtLW
+00002030: 456d 6556 7476 5259 5641 676a 4663 4a53  EmeVtvRYVAgjFcJS
+00002040: 6122 2c0a 2020 2020 2020 2020 2020 2020  a",.            
+00002050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002060: 2020 2020 2264 6964 3a73 6f76 3a32 774a      "did:sov:2wJ
+00002070: 5079 554c 664c 4c6e 5954 4546 597a 4279  PyULfLLnYTEFYzBy
+00002080: 6655 5222 2c0a 2020 2020 2020 2020 2020  fUR",.          
+00002090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020a0: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+000020b0: 2020 2020 2020 2020 2020 2020 207d 2c0a               },.
+000020c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000020d0: 2020 2020 7d0a 2020 2020 2020 2020 2020      }.          
+000020e0: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
+000020f0: 2020 2020 7d2c 0a20 2020 2020 2020 207d      },.        }
+00002100: 0a20 2020 205d 0a7d 0a0a 4449 465f 5052  .    ].}..DIF_PR
+00002110: 4553 203d 207b 0a20 2020 2022 4063 6f6e  ES = {.    "@con
+00002120: 7465 7874 223a 205b 2268 7474 7073 3a2f  text": ["https:/
+00002130: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
+00002140: 2f63 7265 6465 6e74 6961 6c73 2f76 3122  /credentials/v1"
+00002150: 5d2c 0a20 2020 2022 7479 7065 223a 205b  ],.    "type": [
+00002160: 2256 6572 6966 6961 626c 6550 7265 7365  "VerifiablePrese
+00002170: 6e74 6174 696f 6e22 5d2c 0a20 2020 2022  ntation"],.    "
+00002180: 7665 7269 6669 6162 6c65 4372 6564 656e  verifiableCreden
+00002190: 7469 616c 223a 205b 0a20 2020 2020 2020  tial": [.       
+000021a0: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
+000021b0: 4063 6f6e 7465 7874 223a 205b 0a20 2020  @context": [.   
+000021c0: 2020 2020 2020 2020 2020 2020 2022 6874               "ht
+000021d0: 7470 733a 2f2f 7777 772e 7733 2e6f 7267  tps://www.w3.org
+000021e0: 2f32 3031 382f 6372 6564 656e 7469 616c  /2018/credential
+000021f0: 732f 7631 222c 0a20 2020 2020 2020 2020  s/v1",.         
+00002200: 2020 2020 2020 2022 6874 7470 733a 2f2f         "https://
+00002210: 7733 6964 2e6f 7267 2f63 6974 697a 656e  w3id.org/citizen
+00002220: 7368 6970 2f76 3122 2c0a 2020 2020 2020  ship/v1",.      
+00002230: 2020 2020 2020 2020 2020 2268 7474 7073            "https
+00002240: 3a2f 2f77 3369 642e 6f72 672f 7365 6375  ://w3id.org/secu
+00002250: 7269 7479 2f62 6273 2f76 3122 2c0a 2020  rity/bbs/v1",.  
+00002260: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00002270: 2020 2020 2020 2020 2022 6964 223a 2022           "id": "
+00002280: 6874 7470 733a 2f2f 6973 7375 6572 2e6f  https://issuer.o
+00002290: 6964 702e 7573 6369 732e 676f 762f 6372  idp.uscis.gov/cr
+000022a0: 6564 656e 7469 616c 732f 3833 3632 3734  edentials/836274
+000022b0: 3635 222c 0a20 2020 2020 2020 2020 2020  65",.           
+000022c0: 2022 7479 7065 223a 205b 2250 6572 6d61   "type": ["Perma
+000022d0: 6e65 6e74 5265 7369 6465 6e74 4361 7264  nentResidentCard
+000022e0: 222c 2022 5665 7269 6669 6162 6c65 4372  ", "VerifiableCr
+000022f0: 6564 656e 7469 616c 225d 2c0a 2020 2020  edential"],.    
+00002300: 2020 2020 2020 2020 2263 7265 6465 6e74          "credent
+00002310: 6961 6c53 7562 6a65 6374 223a 207b 0a20  ialSubject": {. 
+00002320: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00002330: 6964 223a 2022 6469 643a 6578 616d 706c  id": "did:exampl
+00002340: 653a 6233 3463 6136 6364 3337 6262 6632  e:b34ca6cd37bbf2
+00002350: 3322 2c0a 2020 2020 2020 2020 2020 2020  3",.            
+00002360: 2020 2020 2274 7970 6522 3a20 5b22 5065      "type": ["Pe
+00002370: 7273 6f6e 222c 2022 5065 726d 616e 656e  rson", "Permanen
+00002380: 7452 6573 6964 656e 7422 5d2c 0a20 2020  tResident"],.   
+00002390: 2020 2020 2020 2020 2020 2020 2022 6769               "gi
+000023a0: 7665 6e4e 616d 6522 3a20 224a 4f48 4e22  venName": "JOHN"
+000023b0: 2c0a 2020 2020 2020 2020 2020 2020 7d2c  ,.            },
+000023c0: 0a20 2020 2020 2020 2020 2020 2022 6973  .            "is
+000023d0: 7375 616e 6365 4461 7465 223a 2022 3230  suanceDate": "20
+000023e0: 3130 2d30 312d 3031 5431 393a 3533 3a32  10-01-01T19:53:2
+000023f0: 345a 222c 0a20 2020 2020 2020 2020 2020  4Z",.           
+00002400: 2022 6973 7375 6572 223a 2022 6469 643a   "issuer": "did:
+00002410: 6b65 793a 7a55 4337 3462 6765 6654 6463  key:zUC74bgefTdc
+00002420: 3433 4b53 3170 7358 6758 6634 6a4c 6148  43KS1psXgXf4jLaH
+00002430: 7961 6a32 7143 5171 5154 5872 746d 5359  yaj2qCQqQTXrtmSY
+00002440: 4766 3150 7869 4a68 7248 364c 4770 6142  Gf1PxiJhrH6LGpaB
+00002450: 4d79 6a36 7471 414b 6d6a 4779 4d61 5334  Myj6tqAKmjGyMaS4
+00002460: 5266 4e6f 3261 6e37 3776 5431 4866 7a4a  RfNo2an77vT1HfzJ
+00002470: 554e 506b 3448 3754 4375 4a76 5370 3476  UNPk4H7TCuJvSp4v
+00002480: 6574 3443 7536 376b 6e32 4a53 6567 6f51  et4Cu67kn2JSegoQ
+00002490: 4e46 5341 3174 6277 5538 7622 2c0a 2020  NFSA1tbwU8v",.  
+000024a0: 2020 2020 2020 2020 2020 2270 726f 6f66            "proof
+000024b0: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+000024c0: 2020 2020 2022 7479 7065 223a 2022 4262       "type": "Bb
+000024d0: 7342 6c73 5369 676e 6174 7572 6550 726f  sBlsSignaturePro
+000024e0: 6f66 3230 3230 222c 0a20 2020 2020 2020  of2020",.       
+000024f0: 2020 2020 2020 2020 2022 6e6f 6e63 6522           "nonce"
+00002500: 3a20 2233 4175 7275 684a 5172 5874 4567  : "3AuruhJQrXtEg
+00002510: 6961 6769 4a2b 4677 5666 3253 3053 6e7a  iagiJ+FwVf2S0Snz
+00002520: 5544 4a76 6e4f 3631 5965 6351 734a 3749  UDJvnO61YecQsJ7I
+00002530: 6d52 316d 5063 6f56 6a4a 4a30 484f 6866  mR1mPcoVjJJ0HOhf
+00002540: 6b46 706f 5949 3d22 2c0a 2020 2020 2020  kFpoYI=",.      
+00002550: 2020 2020 2020 2020 2020 2270 726f 6f66            "proof
+00002560: 5661 6c75 6522 3a20 2241 426b 4275 4161  Value": "ABkBuAa
+00002570: 506c 5035 4137 4a57 5937 3858 6636 396f  PlP5A7JWY78Xf69o
+00002580: 426e 734d 4c63 4431 5258 6249 4659 6863  BnsMLcD1RXbIFYhc
+00002590: 4c6f 5850 5857 3132 4347 3967 6c6e 6e71  LoXPXW12CG9glnnq
+000025a0: 6e50 4c73 4772 6935 7873 4133 4c63 5030  nPLsGri5xsA3LcP0
+000025b0: 6b67 3734 582b 7341 6a4b 5847 5247 7933  kg74X+sAjKXGRGy3
+000025c0: 7576 7034 3132 446d 3046 756f 6859 4e62  uvp412Dm0FuohYNb
+000025d0: 6f51 634c 6e65 354b 4f41 6135 4178 5534  oQcLne5KOAa5AxU4
+000025e0: 626a 6d77 5173 7864 6664 7556 7168 7269  bjmwQsxdfduVqhri
+000025f0: 726f 314e 2b59 546b 7542 3453 4d6d 4f2f  ro1N+YTkuB4SMmO/
+00002600: 356f 6f4c 304e 334f 4873 5964 4578 6737  5ooL0N3OHsYdExg7
+00002610: 6e53 7a57 716d 5a6f 7167 702b 3343 7749  nSzWqmZoqgp+3CwI
+00002620: 7846 3061 2f6f 794b 5463 784a 4f52 7549  xF0a/oyKTcxJORuI
+00002630: 7141 4141 4164 496e 6c4c 3974 6553 4958  qAAAAdInlL9teSIX
+00002640: 3439 4e4a 4745 5a66 424f 3749 7264 6a54  49NJGEZfBO7IrdjT
+00002650: 3269 6767 482f 4730 416c 5057 6f45 7672  2iggH/G0AlPWoEvr
+00002660: 5749 6275 4352 5136 394b 3833 6e35 6f37  WIbuCRQ69K83n5o7
+00002670: 6f4a 566a 7168 4141 4141 4149 6156 6d6c  oJVjqhAAAAAIaVml
+00002680: 4144 362b 4645 4b41 3465 6730 4f61 574f  AD6+FEKA4eg0OaWO
+00002690: 4b50 7264 354b 7138 7276 3076 4977 6a4a  KPrd5Kq8rv0vIwjJ
+000026a0: 3731 6567 786c 6c30 4671 7134 7a44 5751  71egxll0Fqq4zDWQ
+000026b0: 2f2b 796c 3350 7465 6830 5779 7579 7670  /+yl3Pteh0Wyuyvp
+000026c0: 6d31 392f 736a 3674 6943 576a 3450 6b41  m19/sj6tiCWj4PkA
+000026d0: 2b72 7078 7452 3262 5870 6e72 4354 4b55  +rpxtR2bXpnrCTKU
+000026e0: 6666 4646 4e42 6a56 7656 7a69 5844 5330  ffFFNBjVvVziXDS0
+000026f0: 4b57 6b47 5542 3758 5539 6d6a 5561 3455  KWkGUB7XU9mjUa4U
+00002700: 5343 3749 7562 3362 5a5a 436e 466a 5141  SC7Iub3bZZCnFjQA
+00002710: 3541 4141 4144 7a6b 4777 4744 3833 3772  5AAAADzkGwGD837r
+00002720: 3333 6537 4f54 7247 4574 6938 6541 6b76  33e7OTrGEti8eAkv
+00002730: 4644 6379 4367 4134 636b 2f58 2b35 484a  FDcyCgA4ck/X+5HJ
+00002740: 6a41 4a63 6c48 5762 6c34 534e 5152 3843  jAJclHWbl4SNQR8C
+00002750: 694e 5a79 7a4a 7076 7857 2b6a 624e 4263  iNZyzJpvxW+jbNBc
+00002760: 776d 4576 6f63 5941 7264 646b 3346 3738  wmEvocYArddk3F78
+00002770: 4b69 3051 6e70 3661 5539 6544 6766 4f4f  Ki0Qnp6aU9eDgfOO
+00002780: 7831 6957 3242 584c 556a 7268 7135 4932  x1iW2BXLUjrhq5I2
+00002790: 6850 352f 5751 4633 4345 4459 526a 637a  hP5/WQF3CEDYRjcz
+000027a0: 476a 7a4d 3954 382f 636f 6543 3336 5941  GjzM9T8/coeC36YA
+000027b0: 7030 7a4a 756e 4958 554b 6238 5350 4453  p0zJunIXUKb8SPDS
+000027c0: 4f49 5361 6669 6259 5259 4642 3478 686c  OISafibYRYFB4xhl
+000027d0: 574b 5857 6c6f 4465 6c61 6679 756a 4f42  WKXWloDelafyujOB
+000027e0: 5354 384b 5a4e 4d38 466d 4634 4453 6258  ST8KZNM8FmF4DSbX
+000027f0: 724f 3876 6d5a 626a 7552 2f38 6e74 5563  rO8vmZbjuR/8ntUc
+00002800: 554b 3758 3272 4e62 755a 334d 3565 575a  UK7X2rNbuZ3M5eWZ
+00002810: 4446 3870 4c2b 5341 3967 5169 744b 6650  DF8pL+SA9gQitKfP
+00002820: 4845 6f63 6f59 4164 6867 4541 4d37 5a4e  HEocoYAdhgEAM7ZN
+00002830: 414a 2b54 674f 6378 3967 745a 4968 4457  AJ+TgOcx9gtZIhDW
+00002840: 4b44 4e6e 4678 4965 6f4f 4179 6c62 4431  KDNnFxIeoOAylbD1
+00002850: 785a 6439 7862 5774 7133 426b 3352 3739  xZd9xbWtq3Bk3R79
+00002860: 7871 734b 7846 524a 524e 786b 2f39 6236  xqsKxFRJRNxk/9b6
+00002870: 664a 7275 5032 3932 2b71 4d35 6c78 635a  fJruP292+qM5lxcZ
+00002880: 316a 557a 2f64 4a55 5946 4939 3368 4834  1jUz/dJUYFI93hH4
+00002890: 4d73 6f37 3543 6a47 524e 3738 4d41 5939  Mso75CjGRN78MAY9
+000028a0: 534e 6966 6c36 4838 7163 7854 7042 6e34  SNifl6H8qcxTpBn4
+000028b0: 3333 324c 6c46 6852 7a6e 4c62 746e 6334  332LlFhRznLbtnc4
+000028c0: 5953 5741 2f66 7656 7161 4e39 6832 7a43  YSWA/fvVqaN9h2zC
+000028d0: 482f 3641 6462 4c4b 5847 6666 5633 3445  H/6AdbLKXGffV34E
+000028e0: 4637 4461 6477 4a73 6939 6a73 632b 596c  F7DadwJsi9jsc+Yl
+000028f0: 534d 6e36 7161 4955 4944 5464 474c 7768  SMn6qaIUIDTdGLwh
+00002900: 344b 4b70 5348 3562 5662 672f 6d56 4363  4KKpSH5bVbg/mVCc
+00002910: 5850 544a 706c 4667 5977 5273 4f64 6951  XPTJplFgYwRsOdiQ
+00002920: 625a 592f 3734 3064 4a79 6f31 6c50 6a51  bZY/740dJyo1lPjQ
+00002930: 304c 7664 696f 3857 324d 3863 3733 756a  0Lvdio8W2M8c73uj
+00002940: 654a 5537 3043 4e4c 6b67 6a4a 414d 5550  eJU70CNLkgjJAMUP
+00002950: 4772 4346 7447 7842 4832 6565 4c42 5130  GrCFtGxBH2eeLBQ0
+00002960: 5039 3571 525a 4149 634a 3755 304d 6962  P95qRZAIcJ7U0Mib
+00002970: 5a4c 6152 6a6f 554f 7554 6c61 3542 4974  ZLaRjoUOuTla5BIt
+00002980: 3230 3338 504a 3658 6863 5936 4245 4a61  2038PJ6XhcY6BEJa
+00002990: 4c79 4a4f 5045 513d 3d22 2c0a 2020 2020  LyJOPEQ==",.    
+000029a0: 2020 2020 2020 2020 2020 2020 2276 6572              "ver
+000029b0: 6966 6963 6174 696f 6e4d 6574 686f 6422  ificationMethod"
+000029c0: 3a20 2264 6964 3a6b 6579 3a7a 5543 3734  : "did:key:zUC74
+000029d0: 6267 6566 5464 6334 334b 5331 7073 5867  bgefTdc43KS1psXg
+000029e0: 5866 346a 4c61 4879 616a 3271 4351 7151  Xf4jLaHyaj2qCQqQ
+000029f0: 5458 7274 6d53 5947 6631 5078 694a 6872  TXrtmSYGf1PxiJhr
+00002a00: 4836 4c47 7061 424d 796a 3674 7141 4b6d  H6LGpaBMyj6tqAKm
+00002a10: 6a47 794d 6153 3452 664e 6f32 616e 3737  jGyMaS4RfNo2an77
+00002a20: 7654 3148 667a 4a55 4e50 6b34 4837 5443  vT1HfzJUNPk4H7TC
+00002a30: 754a 7653 7034 7665 7434 4375 3637 6b6e  uJvSp4vet4Cu67kn
+00002a40: 324a 5365 676f 514e 4653 4131 7462 7755  2JSegoQNFSA1tbwU
+00002a50: 3876 237a 5543 3734 6267 6566 5464 6334  8v#zUC74bgefTdc4
+00002a60: 334b 5331 7073 5867 5866 346a 4c61 4879  3KS1psXgXf4jLaHy
+00002a70: 616a 3271 4351 7151 5458 7274 6d53 5947  aj2qCQqQTXrtmSYG
+00002a80: 6631 5078 694a 6872 4836 4c47 7061 424d  f1PxiJhrH6LGpaBM
+00002a90: 796a 3674 7141 4b6d 6a47 794d 6153 3452  yj6tqAKmjGyMaS4R
+00002aa0: 664e 6f32 616e 3737 7654 3148 667a 4a55  fNo2an77vT1HfzJU
+00002ab0: 4e50 6b34 4837 5443 754a 7653 7034 7665  NPk4H7TCuJvSp4ve
+00002ac0: 7434 4375 3637 6b6e 324a 5365 676f 514e  t4Cu67kn2JSegoQN
+00002ad0: 4653 4131 7462 7755 3876 222c 0a20 2020  FSA1tbwU8v",.   
+00002ae0: 2020 2020 2020 2020 2020 2020 2022 7072               "pr
+00002af0: 6f6f 6650 7572 706f 7365 223a 2022 6173  oofPurpose": "as
+00002b00: 7365 7274 696f 6e4d 6574 686f 6422 2c0a  sertionMethod",.
+00002b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002b20: 2263 7265 6174 6564 223a 2022 3230 3231  "created": "2021
+00002b30: 2d30 352d 3035 5431 353a 3232 3a33 302e  -05-05T15:22:30.
+00002b40: 3532 3334 3635 222c 0a20 2020 2020 2020  523465",.       
+00002b50: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
+00002b60: 7d0a 2020 2020 5d2c 0a20 2020 2022 7072  }.    ],.    "pr
+00002b70: 6573 656e 7461 7469 6f6e 5f73 7562 6d69  esentation_submi
+00002b80: 7373 696f 6e22 3a20 7b0a 2020 2020 2020  ssion": {.      
+00002b90: 2020 2269 6422 3a20 2261 3566 6366 6534    "id": "a5fcfe4
+00002ba0: 342d 3263 3330 2d34 3937 642d 6166 3032  4-2c30-497d-af02
+00002bb0: 2d39 3865 3533 3964 6139 6130 6622 2c0a  -98e539da9a0f",.
+00002bc0: 2020 2020 2020 2020 2264 6566 696e 6974          "definit
+00002bd0: 696f 6e5f 6964 223a 2022 3332 6635 3431  ion_id": "32f541
+00002be0: 3633 2d37 3136 362d 3438 6631 2d39 3364  63-7166-48f1-93d
+00002bf0: 382d 6666 3231 3762 6462 3036 3533 222c  8-ff217bdb0653",
+00002c00: 0a20 2020 2020 2020 2022 6465 7363 7269  .        "descri
+00002c10: 7074 6f72 5f6d 6170 223a 205b 0a20 2020  ptor_map": [.   
+00002c20: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
+00002c30: 2020 2020 2020 2020 2020 2022 6964 223a             "id":
+00002c40: 2022 6369 7469 7a65 6e73 6869 705f 696e   "citizenship_in
+00002c50: 7075 745f 3122 2c0a 2020 2020 2020 2020  put_1",.        
+00002c60: 2020 2020 2020 2020 2266 6f72 6d61 7422          "format"
+00002c70: 3a20 226c 6470 5f76 6322 2c0a 2020 2020  : "ldp_vc",.    
+00002c80: 2020 2020 2020 2020 2020 2020 2270 6174              "pat
+00002c90: 6822 3a20 2224 2e76 6572 6966 6961 626c  h": "$.verifiabl
+00002ca0: 6543 7265 6465 6e74 6961 6c5b 305d 222c  eCredential[0]",
+00002cb0: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
+00002cc0: 2020 2020 2020 205d 2c0a 2020 2020 7d2c         ],.    },
+00002cd0: 0a20 2020 2022 7072 6f6f 6622 3a20 7b0a  .    "proof": {.
+00002ce0: 2020 2020 2020 2020 2274 7970 6522 3a20          "type": 
+00002cf0: 2245 6432 3535 3139 5369 676e 6174 7572  "Ed25519Signatur
+00002d00: 6532 3031 3822 2c0a 2020 2020 2020 2020  e2018",.        
+00002d10: 2276 6572 6966 6963 6174 696f 6e4d 6574  "verificationMet
+00002d20: 686f 6422 3a20 2264 6964 3a73 6f76 3a34  hod": "did:sov:4
+00002d30: 5178 7a57 6b33 616a 646e 4541 3337 4e64  QxzWk3ajdnEA37Nd
+00002d40: 4e55 354b 7423 6b65 792d 3122 2c0a 2020  NU5Kt#key-1",.  
+00002d50: 2020 2020 2020 2263 7265 6174 6564 223a        "created":
+00002d60: 2022 3230 3231 2d30 352d 3035 5431 353a   "2021-05-05T15:
+00002d70: 3233 3a30 332e 3032 3339 3731 222c 0a20  23:03.023971",. 
+00002d80: 2020 2020 2020 2022 7072 6f6f 6650 7572         "proofPur
+00002d90: 706f 7365 223a 2022 6175 7468 656e 7469  pose": "authenti
+00002da0: 6361 7469 6f6e 222c 0a20 2020 2020 2020  cation",.       
+00002db0: 2022 6368 616c 6c65 6e67 6522 3a20 2234   "challenge": "4
+00002dc0: 3034 3239 6434 392d 3565 3866 2d34 6666  0429d49-5e8f-4ff
+00002dd0: 632d 6261 6638 2d65 3333 3234 3132 6631  c-baf8-e332412f1
+00002de0: 3234 3722 2c0a 2020 2020 2020 2020 226a  247",.        "j
+00002df0: 7773 223a 2022 6579 4a68 6247 6369 4f69  ws": "eyJhbGciOi
+00002e00: 4169 5257 5245 5530 4569 4c43 4169 596a  AiRWREU0EiLCAiYj
+00002e10: 5930 496a 6f67 5a6d 4673 6332 5573 4943  Y0IjogZmFsc2UsIC
+00002e20: 4a6a 636d 6c30 496a 6f67 5779 4a69 4e6a  Jjcml0IjogWyJiNj
+00002e30: 5169 5858 302e 2e32 7542 596d 6737 6d75  QiXX0..2uBYmg7mu
+00002e40: 4539 5a50 5665 4147 6f5f 6962 5666 4c6b  E9ZPVeAGo_ibVfLk
+00002e50: 436a 6632 6847 7368 7232 6f35 6938 7041  Cjf2hGshr2o5i8pA
+00002e60: 7746 794e 424d 2d6b 4448 586f 6675 7131  wFyNBM-kDHXofuq1
+00002e70: 4d7a 4a67 6231 3977 7a62 3031 5649 7539  MzJgb19wzb01VIu9
+00002e80: 3168 595f 616a 6a74 394b 4641 4122 2c0a  1hY_ajjt9KFAA",.
+00002e90: 2020 2020 7d2c 0a7d 0a0a 4449 465f 5052      },.}..DIF_PR
+00002ea0: 4553 5f53 4551 5545 4e43 4520 3d20 5b0a  ES_SEQUENCE = [.
+00002eb0: 2020 2020 4449 465f 5052 4553 2c0a 2020      DIF_PRES,.  
+00002ec0: 2020 7b0a 2020 2020 2020 2020 2240 636f    {.        "@co
+00002ed0: 6e74 6578 7422 3a20 5b22 6874 7470 733a  ntext": ["https:
+00002ee0: 2f2f 7777 772e 7733 2e6f 7267 2f32 3031  //www.w3.org/201
+00002ef0: 382f 6372 6564 656e 7469 616c 732f 7631  8/credentials/v1
+00002f00: 225d 2c0a 2020 2020 2020 2020 2274 7970  "],.        "typ
+00002f10: 6522 3a20 5b22 5665 7269 6669 6162 6c65  e": ["Verifiable
+00002f20: 5072 6573 656e 7461 7469 6f6e 225d 2c0a  Presentation"],.
+00002f30: 2020 2020 2020 2020 2276 6572 6966 6961          "verifia
+00002f40: 626c 6543 7265 6465 6e74 6961 6c22 3a20  bleCredential": 
+00002f50: 5b0a 2020 2020 2020 2020 2020 2020 7b0a  [.            {.
+00002f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002f70: 2240 636f 6e74 6578 7422 3a20 5b0a 2020  "@context": [.  
+00002f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002f90: 2020 2268 7474 7073 3a2f 2f77 7777 2e77    "https://www.w
+00002fa0: 332e 6f72 672f 3230 3138 2f63 7265 6465  3.org/2018/crede
+00002fb0: 6e74 6961 6c73 2f76 3122 2c0a 2020 2020  ntials/v1",.    
+00002fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00002fd0: 2268 7474 7073 3a2f 2f77 3369 642e 6f72  "https://w3id.or
+00002fe0: 672f 6369 7469 7a65 6e73 6869 702f 7631  g/citizenship/v1
+00002ff0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00003000: 2020 2020 2020 2022 6874 7470 733a 2f2f         "https://
+00003010: 7733 6964 2e6f 7267 2f73 6563 7572 6974  w3id.org/securit
+00003020: 792f 6262 732f 7631 222c 0a20 2020 2020  y/bbs/v1",.     
+00003030: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
+00003040: 2020 2020 2020 2020 2020 2020 2020 2269                "i
+00003050: 6422 3a20 2268 7474 7073 3a2f 2f69 7373  d": "https://iss
+00003060: 7565 722e 6f69 6470 2e75 7363 6973 2e67  uer.oidp.uscis.g
+00003070: 6f76 2f63 7265 6465 6e74 6961 6c73 2f38  ov/credentials/8
+00003080: 3336 3237 3436 3522 2c0a 2020 2020 2020  3627465",.      
+00003090: 2020 2020 2020 2020 2020 2274 7970 6522            "type"
+000030a0: 3a20 5b22 5065 726d 616e 656e 7452 6573  : ["PermanentRes
+000030b0: 6964 656e 7443 6172 6422 2c20 2256 6572  identCard", "Ver
+000030c0: 6966 6961 626c 6543 7265 6465 6e74 6961  ifiableCredentia
+000030d0: 6c22 5d2c 0a20 2020 2020 2020 2020 2020  l"],.           
+000030e0: 2020 2020 2022 6372 6564 656e 7469 616c       "credential
+000030f0: 5375 626a 6563 7422 3a20 7b0a 2020 2020  Subject": {.    
 00003100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003110: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
-00003120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003130: 2020 2275 7269 223a 2022 6874 7470 733a    "uri": "https:
-00003140: 2f2f 7777 772e 7733 2e6f 7267 2f32 3031  //www.w3.org/201
-00003150: 382f 6372 6564 656e 7469 616c 7323 5665  8/credentials#Ve
-00003160: 7269 6669 6162 6c65 4372 6564 656e 7469  rifiableCredenti
-00003170: 616c 220a 2020 2020 2020 2020 2020 2020  al".            
-00003180: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
-00003190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031a0: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
-000031b0: 2020 2020 2020 2020 2022 636f 6e73 7472           "constr
-000031c0: 6169 6e74 7322 3a20 7b0a 2020 2020 2020  aints": {.      
-000031d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000031e0: 2020 226c 696d 6974 5f64 6973 636c 6f73    "limit_disclos
-000031f0: 7572 6522 3a20 2272 6571 7569 7265 6422  ure": "required"
-00003200: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00003210: 2020 2020 2020 2020 2020 2266 6965 6c64            "field
-00003220: 7322 3a20 5b0a 2020 2020 2020 2020 2020  s": [.          
-00003230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003240: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-00003250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003260: 2020 2020 2270 6174 6822 3a20 5b22 242e      "path": ["$.
-00003270: 6372 6564 656e 7469 616c 5375 626a 6563  credentialSubjec
-00003280: 742e 6769 7665 6e4e 616d 6522 5d2c 0a20  t.givenName"],. 
-00003290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000032a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000032b0: 7075 7270 6f73 6522 3a20 2254 6865 2063  purpose": "The c
-000032c0: 6c61 696d 206d 7573 7420 6265 2066 726f  laim must be fro
-000032d0: 6d20 6f6e 6520 6f66 2074 6865 2073 7065  m one of the spe
-000032e0: 6369 6669 6564 2069 7373 7565 7273 222c  cified issuers",
-000032f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003310: 2022 6669 6c74 6572 223a 207b 2274 7970   "filter": {"typ
-00003320: 6522 3a20 2273 7472 696e 6722 2c20 2265  e": "string", "e
-00003330: 6e75 6d22 3a20 5b22 4a4f 484e 222c 2022  num": ["JOHN", "
-00003340: 4341 4922 5d7d 2c0a 2020 2020 2020 2020  CAI"]},.        
-00003350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003360: 2020 2020 7d0a 2020 2020 2020 2020 2020      }.          
-00003370: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-00003380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003390: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-000033a0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-000033b0: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
-000033c0: 7d0a 2020 2020 2020 2020 6469 665f 7072  }.        dif_pr
-000033d0: 6573 5f70 726f 706f 7361 6c20 3d20 5632  es_proposal = V2
-000033e0: 3050 7265 7350 726f 706f 7361 6c28 0a20  0PresProposal(. 
-000033f0: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
-00003400: 7473 3d5b 0a20 2020 2020 2020 2020 2020  ts=[.           
-00003410: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
-00003420: 6174 280a 2020 2020 2020 2020 2020 2020  at(.            
-00003430: 2020 2020 2020 2020 6174 7461 6368 5f69          attach_i
-00003440: 643d 2264 6966 222c 0a20 2020 2020 2020  d="dif",.       
-00003450: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00003460: 6d61 745f 3d41 5454 4143 484d 454e 545f  mat_=ATTACHMENT_
-00003470: 464f 524d 4154 5b50 5245 535f 3230 5f50  FORMAT[PRES_20_P
-00003480: 524f 504f 5341 4c5d 5b0a 2020 2020 2020  ROPOSAL][.      
-00003490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000034a0: 2020 5632 3050 7265 7346 6f72 6d61 742e    V20PresFormat.
-000034b0: 466f 726d 6174 2e44 4946 2e61 7069 0a20  Format.DIF.api. 
-000034c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000034d0: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
-000034e0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-000034f0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-00003500: 2020 2070 726f 706f 7361 6c73 5f61 7474     proposals_att
-00003510: 6163 683d 5b0a 2020 2020 2020 2020 2020  ach=[.          
-00003520: 2020 2020 2020 4174 7461 6368 4465 636f        AttachDeco
-00003530: 7261 746f 722e 6461 7461 5f6a 736f 6e28  rator.data_json(
-00003540: 6469 665f 7072 6f70 6f73 616c 5f64 6963  dif_proposal_dic
-00003550: 742c 2069 6465 6e74 3d22 6469 6622 290a  t, ident="dif").
-00003560: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00003570: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00003580: 2072 6563 6f72 6420 3d20 5632 3050 7265   record = V20Pre
-00003590: 7345 7852 6563 6f72 6428 0a20 2020 2020  sExRecord(.     
-000035a0: 2020 2020 2020 2070 7265 735f 6578 5f69         pres_ex_i
-000035b0: 643d 2270 7869 6422 2c0a 2020 2020 2020  d="pxid",.      
-000035c0: 2020 2020 2020 7468 7265 6164 5f69 643d        thread_id=
-000035d0: 2274 6869 6422 2c0a 2020 2020 2020 2020  "thid",.        
-000035e0: 2020 2020 636f 6e6e 6563 7469 6f6e 5f69      connection_i
-000035f0: 643d 2263 6f6e 6e5f 6964 222c 0a20 2020  d="conn_id",.   
-00003600: 2020 2020 2020 2020 2069 6e69 7469 6174           initiat
-00003610: 6f72 3d22 696e 6974 222c 0a20 2020 2020  or="init",.     
-00003620: 2020 2020 2020 2072 6f6c 653d 2272 6f6c         role="rol
-00003630: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00003640: 7374 6174 653d 2273 7461 7465 222c 0a20  state="state",. 
-00003650: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
-00003660: 7072 6f70 6f73 616c 3d64 6966 5f70 7265  proposal=dif_pre
-00003670: 735f 7072 6f70 6f73 616c 2c0a 2020 2020  s_proposal,.    
-00003680: 2020 2020 2020 2020 7665 7269 6669 6564          verified
-00003690: 3d22 6661 6c73 6522 2c0a 2020 2020 2020  ="false",.      
-000036a0: 2020 2020 2020 6175 746f 5f70 7265 7365        auto_prese
-000036b0: 6e74 3d54 7275 652c 0a20 2020 2020 2020  nt=True,.       
-000036c0: 2020 2020 2065 7272 6f72 5f6d 7367 3d22       error_msg="
-000036d0: 6572 726f 7222 2c0a 2020 2020 2020 2020  error",.        
-000036e0: 290a 2020 2020 2020 2020 6f75 7470 7574  ).        output
-000036f0: 203d 2061 7761 6974 2073 656c 662e 6861   = await self.ha
-00003700: 6e64 6c65 722e 6372 6561 7465 5f62 6f75  ndler.create_bou
-00003710: 6e64 5f72 6571 7565 7374 2870 7265 735f  nd_request(pres_
-00003720: 6578 5f72 6563 6f72 643d 7265 636f 7264  ex_record=record
-00003730: 290a 2020 2020 2020 2020 6173 7365 7274  ).        assert
-00003740: 2069 7369 6e73 7461 6e63 6528 6f75 7470   isinstance(outp
-00003750: 7574 5b30 5d2c 2056 3230 5072 6573 466f  ut[0], V20PresFo
-00003760: 726d 6174 2920 616e 6420 6973 696e 7374  rmat) and isinst
-00003770: 616e 6365 280a 2020 2020 2020 2020 2020  ance(.          
-00003780: 2020 6f75 7470 7574 5b31 5d2c 2041 7474    output[1], Att
-00003790: 6163 6844 6563 6f72 6174 6f72 0a20 2020  achDecorator.   
-000037a0: 2020 2020 2029 0a0a 2020 2020 6173 796e       )..    asyn
-000037b0: 6320 6465 6620 7465 7374 5f63 7265 6174  c def test_creat
-000037c0: 655f 626f 756e 645f 7265 7175 6573 745f  e_bound_request_
-000037d0: 6228 7365 6c66 293a 0a20 2020 2020 2020  b(self):.       
-000037e0: 2064 6966 5f70 726f 706f 7361 6c5f 6469   dif_proposal_di
-000037f0: 6374 203d 207b 0a20 2020 2020 2020 2020  ct = {.         
-00003800: 2020 2022 6f70 7469 6f6e 7322 3a20 7b22     "options": {"
-00003810: 6368 616c 6c65 6e67 6522 3a20 2274 6573  challenge": "tes
-00003820: 7431 3233 227d 2c0a 2020 2020 2020 2020  t123"},.        
-00003830: 2020 2020 2269 6e70 7574 5f64 6573 6372      "input_descr
-00003840: 6970 746f 7273 223a 205b 0a20 2020 2020  iptors": [.     
-00003850: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-00003860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003870: 2022 6964 223a 2022 6369 7469 7a65 6e73   "id": "citizens
-00003880: 6869 705f 696e 7075 745f 3122 2c0a 2020  hip_input_1",.  
-00003890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038a0: 2020 226e 616d 6522 3a20 2245 5520 4472    "name": "EU Dr
-000038b0: 6976 6572 2773 204c 6963 656e 7365 222c  iver's License",
-000038c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000038d0: 2020 2020 2022 6772 6f75 7022 3a20 5b22       "group": ["
-000038e0: 4122 5d2c 0a20 2020 2020 2020 2020 2020  A"],.           
-000038f0: 2020 2020 2020 2020 2022 7363 6865 6d61           "schema
-00003900: 223a 205b 0a20 2020 2020 2020 2020 2020  ": [.           
-00003910: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
+00003110: 2269 6422 3a20 2264 6964 3a65 7861 6d70  "id": "did:examp
+00003120: 6c65 3a62 3334 6361 3663 6433 3762 6266  le:b34ca6cd37bbf
+00003130: 3233 222c 0a20 2020 2020 2020 2020 2020  23",.           
+00003140: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
+00003150: 205b 2250 6572 736f 6e22 2c20 2250 6572   ["Person", "Per
+00003160: 6d61 6e65 6e74 5265 7369 6465 6e74 225d  manentResident"]
+00003170: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00003180: 2020 2020 2020 2267 6976 656e 4e61 6d65        "givenName
+00003190: 223a 2022 4a4f 484e 222c 0a20 2020 2020  ": "JOHN",.     
+000031a0: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+000031b0: 2020 2020 2020 2020 2020 2020 2020 2269                "i
+000031c0: 7373 7561 6e63 6544 6174 6522 3a20 2232  ssuanceDate": "2
+000031d0: 3031 302d 3031 2d30 3154 3139 3a35 333a  010-01-01T19:53:
+000031e0: 3234 5a22 2c0a 2020 2020 2020 2020 2020  24Z",.          
+000031f0: 2020 2020 2020 2269 7373 7565 7222 3a20        "issuer": 
+00003200: 2264 6964 3a6b 6579 3a7a 5543 3734 6267  "did:key:zUC74bg
+00003210: 6566 5464 6334 334b 5331 7073 5867 5866  efTdc43KS1psXgXf
+00003220: 346a 4c61 4879 616a 3271 4351 7151 5458  4jLaHyaj2qCQqQTX
+00003230: 7274 6d53 5947 6631 5078 694a 6872 4836  rtmSYGf1PxiJhrH6
+00003240: 4c47 7061 424d 796a 3674 7141 4b6d 6a47  LGpaBMyj6tqAKmjG
+00003250: 794d 6153 3452 664e 6f32 616e 3737 7654  yMaS4RfNo2an77vT
+00003260: 3148 667a 4a55 4e50 6b34 4837 5443 754a  1HfzJUNPk4H7TCuJ
+00003270: 7653 7034 7665 7434 4375 3637 6b6e 324a  vSp4vet4Cu67kn2J
+00003280: 5365 676f 514e 4653 4131 7462 7755 3876  SegoQNFSA1tbwU8v
+00003290: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+000032a0: 2020 2022 7072 6f6f 6622 3a20 7b0a 2020     "proof": {.  
+000032b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000032c0: 2020 2274 7970 6522 3a20 2242 6273 426c    "type": "BbsBl
+000032d0: 7353 6967 6e61 7475 7265 5072 6f6f 6632  sSignatureProof2
+000032e0: 3032 3022 2c0a 2020 2020 2020 2020 2020  020",.          
+000032f0: 2020 2020 2020 2020 2020 226e 6f6e 6365            "nonce
+00003300: 223a 2022 3341 7572 7568 4a51 7258 7445  ": "3AuruhJQrXtE
+00003310: 6769 6167 694a 2b46 7756 6632 5330 536e  giagiJ+FwVf2S0Sn
+00003320: 7a55 444a 766e 4f36 3159 6563 5173 4a37  zUDJvnO61YecQsJ7
+00003330: 496d 5231 6d50 636f 566a 4a4a 3048 4f68  ImR1mPcoVjJJ0HOh
+00003340: 666b 4670 6f59 493d 222c 0a20 2020 2020  fkFpoYI=",.     
+00003350: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00003360: 7072 6f6f 6656 616c 7565 223a 2022 4142  proofValue": "AB
+00003370: 6b42 7541 6150 6c50 3541 374a 5759 3738  kBuAaPlP5A7JWY78
+00003380: 5866 3639 6f42 6e73 4d4c 6344 3152 5862  Xf69oBnsMLcD1RXb
+00003390: 4946 5968 634c 6f58 5058 5731 3243 4739  IFYhcLoXPXW12CG9
+000033a0: 676c 6e6e 716e 504c 7347 7269 3578 7341  glnnqnPLsGri5xsA
+000033b0: 334c 6350 306b 6737 3458 2b73 416a 4b58  3LcP0kg74X+sAjKX
+000033c0: 4752 4779 3375 7670 3431 3244 6d30 4675  GRGy3uvp412Dm0Fu
+000033d0: 6f68 594e 626f 5163 4c6e 6535 4b4f 4161  ohYNboQcLne5KOAa
+000033e0: 3541 7855 3462 6a6d 7751 7378 6466 6475  5AxU4bjmwQsxdfdu
+000033f0: 5671 6872 6972 6f31 4e2b 5954 6b75 4234  Vqhriro1N+YTkuB4
+00003400: 534d 6d4f 2f35 6f6f 4c30 4e33 4f48 7359  SMmO/5ooL0N3OHsY
+00003410: 6445 7867 376e 537a 5771 6d5a 6f71 6770  dExg7nSzWqmZoqgp
+00003420: 2b33 4377 4978 4630 612f 6f79 4b54 6378  +3CwIxF0a/oyKTcx
+00003430: 4a4f 5275 4971 4141 4141 6449 6e6c 4c39  JORuIqAAAAdInlL9
+00003440: 7465 5349 5834 394e 4a47 455a 6642 4f37  teSIX49NJGEZfBO7
+00003450: 4972 646a 5432 6967 6748 2f47 3041 6c50  IrdjT2iggH/G0AlP
+00003460: 576f 4576 7257 4962 7543 5251 3639 4b38  WoEvrWIbuCRQ69K8
+00003470: 336e 356f 376f 4a56 6a71 6841 4141 4141  3n5o7oJVjqhAAAAA
+00003480: 4961 566d 6c41 4436 2b46 454b 4134 6567  IaVmlAD6+FEKA4eg
+00003490: 304f 6157 4f4b 5072 6435 4b71 3872 7630  0OaWOKPrd5Kq8rv0
+000034a0: 7649 776a 4a37 3165 6778 6c6c 3046 7171  vIwjJ71egxll0Fqq
+000034b0: 347a 4457 512f 2b79 6c33 5074 6568 3057  4zDWQ/+yl3Pteh0W
+000034c0: 7975 7976 706d 3139 2f73 6a36 7469 4357  yuyvpm19/sj6tiCW
+000034d0: 6a34 506b 412b 7270 7874 5232 6258 706e  j4PkA+rpxtR2bXpn
+000034e0: 7243 544b 5566 6646 464e 426a 5676 567a  rCTKUffFFNBjVvVz
+000034f0: 6958 4453 304b 576b 4755 4237 5855 396d  iXDS0KWkGUB7XU9m
+00003500: 6a55 6134 5553 4337 4975 6233 625a 5a43  jUa4USC7Iub3bZZC
+00003510: 6e46 6a51 4135 4141 4141 447a 6b47 7747  nFjQA5AAAADzkGwG
+00003520: 4438 3337 7233 3365 374f 5472 4745 7469  D837r33e7OTrGEti
+00003530: 3865 416b 7646 4463 7943 6741 3463 6b2f  8eAkvFDcyCgA4ck/
+00003540: 582b 3548 4a6a 414a 636c 4857 626c 3453  X+5HJjAJclHWbl4S
+00003550: 4e51 5238 4369 4e5a 797a 4a70 7678 572b  NQR8CiNZyzJpvxW+
+00003560: 6a62 4e42 6377 6d45 766f 6359 4172 6464  jbNBcwmEvocYArdd
+00003570: 6b33 4637 384b 6930 516e 7036 6155 3965  k3F78Ki0Qnp6aU9e
+00003580: 4467 664f 4f78 3169 5732 4258 4c55 6a72  DgfOOx1iW2BXLUjr
+00003590: 6871 3549 3268 5035 2f57 5146 3343 4544  hq5I2hP5/WQF3CED
+000035a0: 5952 6a63 7a47 6a7a 4d39 5438 2f63 6f65  YRjczGjzM9T8/coe
+000035b0: 4333 3659 4170 307a 4a75 6e49 5855 4b62  C36YAp0zJunIXUKb
+000035c0: 3853 5044 534f 4953 6166 6962 5952 5946  8SPDSOISafibYRYF
+000035d0: 4234 7868 6c57 4b58 576c 6f44 656c 6166  B4xhlWKXWloDelaf
+000035e0: 7975 6a4f 4253 5438 4b5a 4e4d 3846 6d46  yujOBST8KZNM8FmF
+000035f0: 3444 5362 5872 4f38 766d 5a62 6a75 522f  4DSbXrO8vmZbjuR/
+00003600: 386e 7455 6355 4b37 5832 724e 6275 5a33  8ntUcUK7X2rNbuZ3
+00003610: 4d35 6557 5a44 4638 704c 2b53 4139 6751  M5eWZDF8pL+SA9gQ
+00003620: 6974 4b66 5048 456f 636f 5941 6468 6745  itKfPHEocoYAdhgE
+00003630: 414d 375a 4e41 4a2b 5467 4f63 7839 6774  AM7ZNAJ+TgOcx9gt
+00003640: 5a49 6844 574b 444e 6e46 7849 656f 4f41  ZIhDWKDNnFxIeoOA
+00003650: 796c 6244 3178 5a64 3978 6257 7471 3342  ylbD1xZd9xbWtq3B
+00003660: 6b33 5237 3978 7173 4b78 4652 4a52 4e78  k3R79xqsKxFRJRNx
+00003670: 6b2f 3962 3666 4a72 7550 3239 322b 714d  k/9b6fJruP292+qM
+00003680: 356c 7863 5a31 6a55 7a2f 644a 5559 4649  5lxcZ1jUz/dJUYFI
+00003690: 3933 6848 344d 736f 3735 436a 4752 4e37  93hH4Mso75CjGRN7
+000036a0: 384d 4159 3953 4e69 666c 3648 3871 6378  8MAY9SNifl6H8qcx
+000036b0: 5470 426e 3433 3332 4c6c 4668 527a 6e4c  TpBn4332LlFhRznL
+000036c0: 6274 6e63 3459 5357 412f 6676 5671 614e  btnc4YSWA/fvVqaN
+000036d0: 3968 327a 4348 2f36 4164 624c 4b58 4766  9h2zCH/6AdbLKXGf
+000036e0: 6656 3334 4546 3744 6164 774a 7369 396a  fV34EF7DadwJsi9j
+000036f0: 7363 2b59 6c53 4d6e 3671 6149 5549 4454  sc+YlSMn6qaIUIDT
+00003700: 6447 4c77 6834 4b4b 7053 4835 6256 6267  dGLwh4KKpSH5bVbg
+00003710: 2f6d 5643 6358 5054 4a70 6c46 6759 7752  /mVCcXPTJplFgYwR
+00003720: 734f 6469 5162 5a59 2f37 3430 644a 796f  sOdiQbZY/740dJyo
+00003730: 316c 506a 5130 4c76 6469 6f38 5732 4d38  1lPjQ0Lvdio8W2M8
+00003740: 6337 3375 6a65 4a55 3730 434e 4c6b 676a  c73ujeJU70CNLkgj
+00003750: 4a41 4d55 5047 7243 4674 4778 4248 3265  JAMUPGrCFtGxBH2e
+00003760: 654c 4251 3050 3935 7152 5a41 4963 4a37  eLBQ0P95qRZAIcJ7
+00003770: 5530 4d69 625a 4c61 526a 6f55 4f75 546c  U0MibZLaRjoUOuTl
+00003780: 6135 4249 7432 3033 3850 4a36 5868 6359  a5BIt2038PJ6XhcY
+00003790: 3642 454a 614c 794a 4f50 4551 3d3d 222c  6BEJaLyJOPEQ==",
+000037a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000037b0: 2020 2020 2022 7665 7269 6669 6361 7469       "verificati
+000037c0: 6f6e 4d65 7468 6f64 223a 2022 6469 643a  onMethod": "did:
+000037d0: 6b65 793a 7a55 4337 3462 6765 6654 6463  key:zUC74bgefTdc
+000037e0: 3433 4b53 3170 7358 6758 6634 6a4c 6148  43KS1psXgXf4jLaH
+000037f0: 7961 6a32 7143 5171 5154 5872 746d 5359  yaj2qCQqQTXrtmSY
+00003800: 4766 3150 7869 4a68 7248 364c 4770 6142  Gf1PxiJhrH6LGpaB
+00003810: 4d79 6a36 7471 414b 6d6a 4779 4d61 5334  Myj6tqAKmjGyMaS4
+00003820: 5266 4e6f 3261 6e37 3776 5431 4866 7a4a  RfNo2an77vT1HfzJ
+00003830: 554e 506b 3448 3754 4375 4a76 5370 3476  UNPk4H7TCuJvSp4v
+00003840: 6574 3443 7536 376b 6e32 4a53 6567 6f51  et4Cu67kn2JSegoQ
+00003850: 4e46 5341 3174 6277 5538 7623 7a55 4337  NFSA1tbwU8v#zUC7
+00003860: 3462 6765 6654 6463 3433 4b53 3170 7358  4bgefTdc43KS1psX
+00003870: 6758 6634 6a4c 6148 7961 6a32 7143 5171  gXf4jLaHyaj2qCQq
+00003880: 5154 5872 746d 5359 4766 3150 7869 4a68  QTXrtmSYGf1PxiJh
+00003890: 7248 364c 4770 6142 4d79 6a36 7471 414b  rH6LGpaBMyj6tqAK
+000038a0: 6d6a 4779 4d61 5334 5266 4e6f 3261 6e37  mjGyMaS4RfNo2an7
+000038b0: 3776 5431 4866 7a4a 554e 506b 3448 3754  7vT1HfzJUNPk4H7T
+000038c0: 4375 4a76 5370 3476 6574 3443 7536 376b  CuJvSp4vet4Cu67k
+000038d0: 6e32 4a53 6567 6f51 4e46 5341 3174 6277  n2JSegoQNFSA1tbw
+000038e0: 5538 7622 2c0a 2020 2020 2020 2020 2020  U8v",.          
+000038f0: 2020 2020 2020 2020 2020 2270 726f 6f66            "proof
+00003900: 5075 7270 6f73 6522 3a20 2261 7373 6572  Purpose": "asser
+00003910: 7469 6f6e 4d65 7468 6f64 222c 0a20 2020  tionMethod",.   
 00003920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003930: 2020 2020 2020 2020 2020 2022 7572 6922             "uri"
-00003940: 3a20 2268 7474 7073 3a2f 2f77 7777 2e77  : "https://www.w
-00003950: 332e 6f72 672f 3230 3138 2f63 7265 6465  3.org/2018/crede
-00003960: 6e74 6961 6c73 2356 6572 6966 6961 626c  ntials#Verifiabl
-00003970: 6543 7265 6465 6e74 6961 6c22 0a20 2020  eCredential".   
-00003980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003990: 2020 2020 207d 0a20 2020 2020 2020 2020       }.         
-000039a0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-000039b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000039c0: 2020 2263 6f6e 7374 7261 696e 7473 223a    "constraints":
-000039d0: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
-000039e0: 2020 2020 2020 2020 2020 2022 6c69 6d69             "limi
-000039f0: 745f 6469 7363 6c6f 7375 7265 223a 2022  t_disclosure": "
-00003a00: 7265 7175 6972 6564 222c 0a20 2020 2020  required",.     
-00003a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a20: 2020 2022 6669 656c 6473 223a 205b 0a20     "fields": [. 
-00003a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a40: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-00003a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003a60: 2020 2020 2020 2020 2020 2020 2022 7061               "pa
-00003a70: 7468 223a 205b 2224 2e63 7265 6465 6e74  th": ["$.credent
-00003a80: 6961 6c53 7562 6a65 6374 2e67 6976 656e  ialSubject.given
-00003a90: 4e61 6d65 225d 2c0a 2020 2020 2020 2020  Name"],.        
-00003aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003ab0: 2020 2020 2020 2020 2270 7572 706f 7365          "purpose
-00003ac0: 223a 2022 5468 6520 636c 6169 6d20 6d75  ": "The claim mu
-00003ad0: 7374 2062 6520 6672 6f6d 206f 6e65 206f  st be from one o
-00003ae0: 6620 7468 6520 7370 6563 6966 6965 6420  f the specified 
-00003af0: 6973 7375 6572 7322 2c0a 2020 2020 2020  issuers",.      
-00003b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b10: 2020 2020 2020 2020 2020 2266 696c 7465            "filte
-00003b20: 7222 3a20 7b22 7479 7065 223a 2022 7374  r": {"type": "st
-00003b30: 7269 6e67 222c 2022 656e 756d 223a 205b  ring", "enum": [
-00003b40: 224a 4f48 4e22 2c20 2243 4149 225d 7d2c  "JOHN", "CAI"]},
-00003b50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003b60: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
-00003b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003b80: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-00003b90: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
-00003ba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00003bb0: 207d 0a20 2020 2020 2020 2020 2020 205d   }.            ]
-00003bc0: 2c0a 2020 2020 2020 2020 7d0a 2020 2020  ,.        }.    
-00003bd0: 2020 2020 6469 665f 7072 6573 5f70 726f      dif_pres_pro
-00003be0: 706f 7361 6c20 3d20 5632 3050 7265 7350  posal = V20PresP
-00003bf0: 726f 706f 7361 6c28 0a20 2020 2020 2020  roposal(.       
-00003c00: 2020 2020 2066 6f72 6d61 7473 3d5b 0a20       formats=[. 
-00003c10: 2020 2020 2020 2020 2020 2020 2020 2056                 V
-00003c20: 3230 5072 6573 466f 726d 6174 280a 2020  20PresFormat(.  
-00003c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003c40: 2020 6174 7461 6368 5f69 643d 2264 6966    attach_id="dif
-00003c50: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00003c60: 2020 2020 2020 2066 6f72 6d61 745f 3d41         format_=A
-00003c70: 5454 4143 484d 454e 545f 464f 524d 4154  TTACHMENT_FORMAT
-00003c80: 5b50 5245 535f 3230 5f50 524f 504f 5341  [PRES_20_PROPOSA
-00003c90: 4c5d 5b0a 2020 2020 2020 2020 2020 2020  L][.            
-00003ca0: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
-00003cb0: 7265 7346 6f72 6d61 742e 466f 726d 6174  resFormat.Format
-00003cc0: 2e44 4946 2e61 7069 0a20 2020 2020 2020  .DIF.api.       
-00003cd0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
-00003ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003cf0: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-00003d00: 0a20 2020 2020 2020 2020 2020 2070 726f  .            pro
-00003d10: 706f 7361 6c73 5f61 7474 6163 683d 5b0a  posals_attach=[.
-00003d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003d30: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
-00003d40: 6461 7461 5f6a 736f 6e28 6469 665f 7072  data_json(dif_pr
-00003d50: 6f70 6f73 616c 5f64 6963 742c 2069 6465  oposal_dict, ide
-00003d60: 6e74 3d22 6469 6622 290a 2020 2020 2020  nt="dif").      
-00003d70: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00003d80: 2029 0a20 2020 2020 2020 2072 6563 6f72   ).        recor
-00003d90: 6420 3d20 5632 3050 7265 7345 7852 6563  d = V20PresExRec
-00003da0: 6f72 6428 0a20 2020 2020 2020 2020 2020  ord(.           
-00003db0: 2070 7265 735f 6578 5f69 643d 2270 7869   pres_ex_id="pxi
-00003dc0: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-00003dd0: 7468 7265 6164 5f69 643d 2274 6869 6422  thread_id="thid"
-00003de0: 2c0a 2020 2020 2020 2020 2020 2020 636f  ,.            co
-00003df0: 6e6e 6563 7469 6f6e 5f69 643d 2263 6f6e  nnection_id="con
-00003e00: 6e5f 6964 222c 0a20 2020 2020 2020 2020  n_id",.         
-00003e10: 2020 2069 6e69 7469 6174 6f72 3d22 696e     initiator="in
-00003e20: 6974 222c 0a20 2020 2020 2020 2020 2020  it",.           
-00003e30: 2072 6f6c 653d 2272 6f6c 6522 2c0a 2020   role="role",.  
-00003e40: 2020 2020 2020 2020 2020 7374 6174 653d            state=
-00003e50: 2273 7461 7465 222c 0a20 2020 2020 2020  "state",.       
-00003e60: 2020 2020 2070 7265 735f 7072 6f70 6f73       pres_propos
-00003e70: 616c 3d64 6966 5f70 7265 735f 7072 6f70  al=dif_pres_prop
-00003e80: 6f73 616c 2c0a 2020 2020 2020 2020 2020  osal,.          
-00003e90: 2020 7665 7269 6669 6564 3d22 6661 6c73    verified="fals
-00003ea0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00003eb0: 6175 746f 5f70 7265 7365 6e74 3d54 7275  auto_present=Tru
-00003ec0: 652c 0a20 2020 2020 2020 2020 2020 2065  e,.            e
-00003ed0: 7272 6f72 5f6d 7367 3d22 6572 726f 7222  rror_msg="error"
-00003ee0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00003ef0: 2020 2020 6f75 7470 7574 203d 2061 7761      output = awa
-00003f00: 6974 2073 656c 662e 6861 6e64 6c65 722e  it self.handler.
-00003f10: 6372 6561 7465 5f62 6f75 6e64 5f72 6571  create_bound_req
-00003f20: 7565 7374 2870 7265 735f 6578 5f72 6563  uest(pres_ex_rec
-00003f30: 6f72 643d 7265 636f 7264 290a 2020 2020  ord=record).    
-00003f40: 2020 2020 6173 7365 7274 2069 7369 6e73      assert isins
-00003f50: 7461 6e63 6528 6f75 7470 7574 5b30 5d2c  tance(output[0],
-00003f60: 2056 3230 5072 6573 466f 726d 6174 2920   V20PresFormat) 
-00003f70: 616e 6420 6973 696e 7374 616e 6365 280a  and isinstance(.
-00003f80: 2020 2020 2020 2020 2020 2020 6f75 7470              outp
-00003f90: 7574 5b31 5d2c 2041 7474 6163 6844 6563  ut[1], AttachDec
-00003fa0: 6f72 6174 6f72 0a20 2020 2020 2020 2029  orator.        )
-00003fb0: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00003fc0: 7465 7374 5f63 7265 6174 655f 626f 756e  test_create_boun
-00003fd0: 645f 7265 7175 6573 745f 6328 7365 6c66  d_request_c(self
-00003fe0: 293a 0a20 2020 2020 2020 2064 6966 5f70  ):.        dif_p
-00003ff0: 726f 706f 7361 6c5f 6469 6374 203d 207b  roposal_dict = {
-00004000: 0a20 2020 2020 2020 2020 2020 2022 6f70  .            "op
-00004010: 7469 6f6e 7322 3a20 7b22 646f 6d61 696e  tions": {"domain
-00004020: 223a 2022 7465 7374 3132 3322 7d2c 0a20  ": "test123"},. 
-00004030: 2020 2020 2020 2020 2020 2022 696e 7075             "inpu
-00004040: 745f 6465 7363 7269 7074 6f72 7322 3a20  t_descriptors": 
-00004050: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00004060: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-00004070: 2020 2020 2020 2020 2269 6422 3a20 2263          "id": "c
-00004080: 6974 697a 656e 7368 6970 5f69 6e70 7574  itizenship_input
-00004090: 5f31 222c 0a20 2020 2020 2020 2020 2020  _1",.           
-000040a0: 2020 2020 2020 2020 2022 6e61 6d65 223a           "name":
-000040b0: 2022 4555 2044 7269 7665 7227 7320 4c69   "EU Driver's Li
-000040c0: 6365 6e73 6522 2c0a 2020 2020 2020 2020  cense",.        
-000040d0: 2020 2020 2020 2020 2020 2020 2267 726f              "gro
-000040e0: 7570 223a 205b 2241 225d 2c0a 2020 2020  up": ["A"],.    
-000040f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004100: 2273 6368 656d 6122 3a20 5b0a 2020 2020  "schema": [.    
-00004110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004120: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
-00004130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004140: 2020 2275 7269 223a 2022 6874 7470 733a    "uri": "https:
-00004150: 2f2f 7777 772e 7733 2e6f 7267 2f32 3031  //www.w3.org/201
-00004160: 382f 6372 6564 656e 7469 616c 7323 5665  8/credentials#Ve
-00004170: 7269 6669 6162 6c65 4372 6564 656e 7469  rifiableCredenti
-00004180: 616c 220a 2020 2020 2020 2020 2020 2020  al".            
-00004190: 2020 2020 2020 2020 2020 2020 7d0a 2020              }.  
-000041a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000041b0: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
-000041c0: 2020 2020 2020 2020 2022 636f 6e73 7472           "constr
-000041d0: 6169 6e74 7322 3a20 7b0a 2020 2020 2020  aints": {.      
-000041e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000041f0: 2020 226c 696d 6974 5f64 6973 636c 6f73    "limit_disclos
-00004200: 7572 6522 3a20 2272 6571 7569 7265 6422  ure": "required"
-00004210: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00004220: 2020 2020 2020 2020 2020 2266 6965 6c64            "field
-00004230: 7322 3a20 5b0a 2020 2020 2020 2020 2020  s": [.          
-00004240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004250: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-00004260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004270: 2020 2020 2270 6174 6822 3a20 5b22 242e      "path": ["$.
-00004280: 6372 6564 656e 7469 616c 5375 626a 6563  credentialSubjec
-00004290: 742e 6769 7665 6e4e 616d 6522 5d2c 0a20  t.givenName"],. 
-000042a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000042b0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000042c0: 7075 7270 6f73 6522 3a20 2254 6865 2063  purpose": "The c
-000042d0: 6c61 696d 206d 7573 7420 6265 2066 726f  laim must be fro
-000042e0: 6d20 6f6e 6520 6f66 2074 6865 2073 7065  m one of the spe
-000042f0: 6369 6669 6564 2069 7373 7565 7273 222c  cified issuers",
-00004300: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00004310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004320: 2022 6669 6c74 6572 223a 207b 2274 7970   "filter": {"typ
-00004330: 6522 3a20 2273 7472 696e 6722 2c20 2265  e": "string", "e
-00004340: 6e75 6d22 3a20 5b22 4a4f 484e 222c 2022  num": ["JOHN", "
-00004350: 4341 4922 5d7d 2c0a 2020 2020 2020 2020  CAI"]},.        
-00004360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004370: 2020 2020 7d0a 2020 2020 2020 2020 2020      }.          
-00004380: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-00004390: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000043a0: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-000043b0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-000043c0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-000043d0: 207d 0a20 2020 2020 2020 2064 6966 5f70   }.        dif_p
-000043e0: 7265 735f 7072 6f70 6f73 616c 203d 2056  res_proposal = V
-000043f0: 3230 5072 6573 5072 6f70 6f73 616c 280a  20PresProposal(.
-00004400: 2020 2020 2020 2020 2020 2020 666f 726d              form
-00004410: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
-00004420: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
-00004430: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
-00004440: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
-00004450: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
-00004460: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00004470: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
-00004480: 5f46 4f52 4d41 545b 5052 4553 5f32 305f  _FORMAT[PRES_20_
-00004490: 5052 4f50 4f53 414c 5d5b 0a20 2020 2020  PROPOSAL][.     
-000044a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044b0: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
-000044c0: 2e46 6f72 6d61 742e 4449 462e 6170 690a  .Format.DIF.api.
-000044d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044e0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-000044f0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00004500: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-00004510: 2020 2020 7072 6f70 6f73 616c 735f 6174      proposals_at
-00004520: 7461 6368 3d5b 0a20 2020 2020 2020 2020  tach=[.         
-00004530: 2020 2020 2020 2041 7474 6163 6844 6563         AttachDec
-00004540: 6f72 6174 6f72 2e64 6174 615f 6a73 6f6e  orator.data_json
-00004550: 2864 6966 5f70 726f 706f 7361 6c5f 6469  (dif_proposal_di
-00004560: 6374 2c20 6964 656e 743d 2264 6966 2229  ct, ident="dif")
-00004570: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
-00004580: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00004590: 2020 7265 636f 7264 203d 2056 3230 5072    record = V20Pr
-000045a0: 6573 4578 5265 636f 7264 280a 2020 2020  esExRecord(.    
-000045b0: 2020 2020 2020 2020 7072 6573 5f65 785f          pres_ex_
-000045c0: 6964 3d22 7078 6964 222c 0a20 2020 2020  id="pxid",.     
-000045d0: 2020 2020 2020 2074 6872 6561 645f 6964         thread_id
-000045e0: 3d22 7468 6964 222c 0a20 2020 2020 2020  ="thid",.       
-000045f0: 2020 2020 2063 6f6e 6e65 6374 696f 6e5f       connection_
-00004600: 6964 3d22 636f 6e6e 5f69 6422 2c0a 2020  id="conn_id",.  
-00004610: 2020 2020 2020 2020 2020 696e 6974 6961            initia
-00004620: 746f 723d 2269 6e69 7422 2c0a 2020 2020  tor="init",.    
-00004630: 2020 2020 2020 2020 726f 6c65 3d22 726f          role="ro
-00004640: 6c65 222c 0a20 2020 2020 2020 2020 2020  le",.           
-00004650: 2073 7461 7465 3d22 7374 6174 6522 2c0a   state="state",.
-00004660: 2020 2020 2020 2020 2020 2020 7072 6573              pres
-00004670: 5f70 726f 706f 7361 6c3d 6469 665f 7072  _proposal=dif_pr
-00004680: 6573 5f70 726f 706f 7361 6c2c 0a20 2020  es_proposal,.   
-00004690: 2020 2020 2020 2020 2076 6572 6966 6965           verifie
-000046a0: 643d 2266 616c 7365 222c 0a20 2020 2020  d="false",.     
-000046b0: 2020 2020 2020 2061 7574 6f5f 7072 6573         auto_pres
-000046c0: 656e 743d 5472 7565 2c0a 2020 2020 2020  ent=True,.      
-000046d0: 2020 2020 2020 6572 726f 725f 6d73 673d        error_msg=
-000046e0: 2265 7272 6f72 222c 0a20 2020 2020 2020  "error",.       
-000046f0: 2029 0a20 2020 2020 2020 206f 7574 7075   ).        outpu
-00004700: 7420 3d20 6177 6169 7420 7365 6c66 2e68  t = await self.h
-00004710: 616e 646c 6572 2e63 7265 6174 655f 626f  andler.create_bo
-00004720: 756e 645f 7265 7175 6573 7428 7072 6573  und_request(pres
-00004730: 5f65 785f 7265 636f 7264 3d72 6563 6f72  _ex_record=recor
-00004740: 6429 0a20 2020 2020 2020 2061 7373 6572  d).        asser
-00004750: 7420 6973 696e 7374 616e 6365 286f 7574  t isinstance(out
-00004760: 7075 745b 305d 2c20 5632 3050 7265 7346  put[0], V20PresF
-00004770: 6f72 6d61 7429 2061 6e64 2069 7369 6e73  ormat) and isins
-00004780: 7461 6e63 6528 0a20 2020 2020 2020 2020  tance(.         
-00004790: 2020 206f 7574 7075 745b 315d 2c20 4174     output[1], At
-000047a0: 7461 6368 4465 636f 7261 746f 720a 2020  tachDecorator.  
-000047b0: 2020 2020 2020 290a 0a20 2020 2061 7379        )..    asy
-000047c0: 6e63 2064 6566 2074 6573 745f 6372 6561  nc def test_crea
-000047d0: 7465 5f70 7265 7328 7365 6c66 293a 0a20  te_pres(self):. 
-000047e0: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
-000047f0: 7265 7175 6573 7420 3d20 5632 3050 7265  request = V20Pre
-00004800: 7352 6571 7565 7374 280a 2020 2020 2020  sRequest(.      
-00004810: 2020 2020 2020 666f 726d 6174 733d 5b0a        formats=[.
-00004820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004830: 5632 3050 7265 7346 6f72 6d61 7428 0a20  V20PresFormat(. 
-00004840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004850: 2020 2061 7474 6163 685f 6964 3d22 6469     attach_id="di
-00004860: 6622 2c0a 2020 2020 2020 2020 2020 2020  f",.            
-00004870: 2020 2020 2020 2020 666f 726d 6174 5f3d          format_=
-00004880: 4154 5441 4348 4d45 4e54 5f46 4f52 4d41  ATTACHMENT_FORMA
-00004890: 545b 5052 4553 5f32 305f 5245 5155 4553  T[PRES_20_REQUES
-000048a0: 545d 5b0a 2020 2020 2020 2020 2020 2020  T][.            
-000048b0: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
-000048c0: 7265 7346 6f72 6d61 742e 466f 726d 6174  resFormat.Format
-000048d0: 2e44 4946 2e61 7069 0a20 2020 2020 2020  .DIF.api.       
-000048e0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
+00003930: 2022 6372 6561 7465 6422 3a20 2232 3032   "created": "202
+00003940: 312d 3035 2d30 3554 3135 3a32 323a 3330  1-05-05T15:22:30
+00003950: 2e35 3233 3436 3522 2c0a 2020 2020 2020  .523465",.      
+00003960: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+00003970: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+00003980: 2020 205d 2c0a 2020 2020 2020 2020 2270     ],.        "p
+00003990: 7265 7365 6e74 6174 696f 6e5f 7375 626d  resentation_subm
+000039a0: 6973 7369 6f6e 223a 207b 0a20 2020 2020  ission": {.     
+000039b0: 2020 2020 2020 2022 6964 223a 2022 6135         "id": "a5
+000039c0: 6663 6665 3434 2d32 6333 302d 3439 3764  fcfe44-2c30-497d
+000039d0: 2d61 6630 322d 3938 6535 3339 6461 3961  -af02-98e539da9a
+000039e0: 3066 222c 0a20 2020 2020 2020 2020 2020  0f",.           
+000039f0: 2022 6465 6669 6e69 7469 6f6e 5f69 6422   "definition_id"
+00003a00: 3a20 2233 3266 3534 3136 332d 3731 3636  : "32f54163-7166
+00003a10: 2d34 3866 312d 3933 6438 2d66 6632 3137  -48f1-93d8-ff217
+00003a20: 6264 6230 3635 3322 2c0a 2020 2020 2020  bdb0653",.      
+00003a30: 2020 2020 2020 2264 6573 6372 6970 746f        "descripto
+00003a40: 725f 6d61 7022 3a20 5b0a 2020 2020 2020  r_map": [.      
+00003a50: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00003a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003a70: 2269 6422 3a20 2263 6974 697a 656e 7368  "id": "citizensh
+00003a80: 6970 5f69 6e70 7574 5f32 222c 0a20 2020  ip_input_2",.   
+00003a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00003aa0: 2022 666f 726d 6174 223a 2022 6c64 705f   "format": "ldp_
+00003ab0: 7670 222c 0a20 2020 2020 2020 2020 2020  vp",.           
+00003ac0: 2020 2020 2020 2020 2022 7061 7468 223a           "path":
+00003ad0: 2022 242e 7665 7269 6669 6162 6c65 4372   "$.verifiableCr
+00003ae0: 6564 656e 7469 616c 5b30 5d22 2c0a 2020  edential[0]",.  
+00003af0: 2020 2020 2020 2020 2020 2020 2020 7d0a                }.
+00003b00: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+00003b10: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+00003b20: 2020 2270 726f 6f66 223a 207b 0a20 2020    "proof": {.   
+00003b30: 2020 2020 2020 2020 2022 7479 7065 223a           "type":
+00003b40: 2022 4564 3235 3531 3953 6967 6e61 7475   "Ed25519Signatu
+00003b50: 7265 3230 3138 222c 0a20 2020 2020 2020  re2018",.       
+00003b60: 2020 2020 2022 7665 7269 6669 6361 7469       "verificati
+00003b70: 6f6e 4d65 7468 6f64 223a 2022 6469 643a  onMethod": "did:
+00003b80: 736f 763a 3451 787a 576b 3361 6a64 6e45  sov:4QxzWk3ajdnE
+00003b90: 4133 374e 644e 5535 4b74 236b 6579 2d31  A37NdNU5Kt#key-1
+00003ba0: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00003bb0: 6372 6561 7465 6422 3a20 2232 3032 312d  created": "2021-
+00003bc0: 3035 2d30 3554 3135 3a32 333a 3033 2e30  05-05T15:23:03.0
+00003bd0: 3233 3937 3122 2c0a 2020 2020 2020 2020  23971",.        
+00003be0: 2020 2020 2270 726f 6f66 5075 7270 6f73      "proofPurpos
+00003bf0: 6522 3a20 2261 7574 6865 6e74 6963 6174  e": "authenticat
+00003c00: 696f 6e22 2c0a 2020 2020 2020 2020 2020  ion",.          
+00003c10: 2020 2263 6861 6c6c 656e 6765 223a 2022    "challenge": "
+00003c20: 3430 3432 3964 3439 2d35 6538 662d 3466  40429d49-5e8f-4f
+00003c30: 6663 2d62 6166 382d 6533 3332 3431 3266  fc-baf8-e332412f
+00003c40: 3132 3437 222c 0a20 2020 2020 2020 2020  1247",.         
+00003c50: 2020 2022 6a77 7322 3a20 2265 794a 6862     "jws": "eyJhb
+00003c60: 4763 694f 6941 6952 5752 4555 3045 694c  GciOiAiRWREU0EiL
+00003c70: 4341 6959 6a59 3049 6a6f 675a 6d46 7363  CAiYjY0IjogZmFsc
+00003c80: 3255 7349 434a 6a63 6d6c 3049 6a6f 6757  2UsICJjcml0IjogW
+00003c90: 794a 694e 6a51 6958 5830 2e2e 3275 4259  yJiNjQiXX0..2uBY
+00003ca0: 6d67 376d 7545 395a 5056 6541 476f 5f69  mg7muE9ZPVeAGo_i
+00003cb0: 6256 664c 6b43 6a66 3268 4773 6872 326f  bVfLkCjf2hGshr2o
+00003cc0: 3569 3870 4177 4679 4e42 4d2d 6b44 4858  5i8pAwFyNBM-kDHX
+00003cd0: 6f66 7571 314d 7a4a 6762 3139 777a 6230  ofuq1MzJgb19wzb0
+00003ce0: 3156 4975 3931 6859 5f61 6a6a 7439 4b46  1VIu91hY_ajjt9KF
+00003cf0: 4141 222c 0a20 2020 2020 2020 207d 2c0a  AA",.        },.
+00003d00: 2020 2020 7d2c 0a5d 0a0a 0a54 4553 545f      },.]...TEST_
+00003d10: 4352 4544 203d 207b 0a20 2020 2022 4063  CRED = {.    "@c
+00003d20: 6f6e 7465 7874 223a 205b 0a20 2020 2020  ontext": [.     
+00003d30: 2020 2022 6874 7470 733a 2f2f 7777 772e     "https://www.
+00003d40: 7733 2e6f 7267 2f32 3031 382f 6372 6564  w3.org/2018/cred
+00003d50: 656e 7469 616c 732f 7631 222c 0a20 2020  entials/v1",.   
+00003d60: 2020 2020 2022 6874 7470 733a 2f2f 7733       "https://w3
+00003d70: 6964 2e6f 7267 2f63 6974 697a 656e 7368  id.org/citizensh
+00003d80: 6970 2f76 3122 2c0a 2020 2020 2020 2020  ip/v1",.        
+00003d90: 2268 7474 7073 3a2f 2f77 3369 642e 6f72  "https://w3id.or
+00003da0: 672f 7365 6375 7269 7479 2f62 6273 2f76  g/security/bbs/v
+00003db0: 3122 2c0a 2020 2020 5d2c 0a20 2020 2022  1",.    ],.    "
+00003dc0: 6964 223a 2022 6874 7470 733a 2f2f 6973  id": "https://is
+00003dd0: 7375 6572 2e6f 6964 702e 7573 6369 732e  suer.oidp.uscis.
+00003de0: 676f 762f 6372 6564 656e 7469 616c 732f  gov/credentials/
+00003df0: 3833 3632 3734 3635 222c 0a20 2020 2022  83627465",.    "
+00003e00: 7479 7065 223a 205b 2256 6572 6966 6961  type": ["Verifia
+00003e10: 626c 6543 7265 6465 6e74 6961 6c22 2c20  bleCredential", 
+00003e20: 2250 6572 6d61 6e65 6e74 5265 7369 6465  "PermanentReside
+00003e30: 6e74 4361 7264 225d 2c0a 2020 2020 2269  ntCard"],.    "i
+00003e40: 7373 7565 7222 3a20 2264 6964 3a6b 6579  ssuer": "did:key
+00003e50: 3a7a 5543 3736 6558 3836 334e 5431 4245  :zUC76eX863NT1BE
+00003e60: 4659 4566 534d 5259 3443 5356 7752 6d52  FYEfSMRY4CSVwRmR
+00003e70: 644b 4274 7633 6377 5477 7974 4458 4e45  dKBtv3cwTwytDXNE
+00003e80: 4176 4a78 4672 3347 426a 6b70 4b52 7333  AvJxFr3GBjkpKRs3
+00003e90: 7867 3946 7a6e 5568 7858 6b77 444c 4c75  xg9FznUhxXkwDLLu
+00003ea0: 3755 6a44 6e65 7453 514e 7647 6954 3169  7UjDnetSQNvGiT1i
+00003eb0: 7648 6444 4642 795a 6458 6f57 4c59 7044  vHdDFByZdXoWLYpD
+00003ec0: 4452 7068 3565 5a44 5854 474e 7765 7571  DRph5eZDXTGNweuq
+00003ed0: 335a 3875 416f 336f 222c 0a20 2020 2022  3Z8uAo3o",.    "
+00003ee0: 6964 656e 7469 6669 6572 223a 2022 3833  identifier": "83
+00003ef0: 3632 3734 3635 222c 0a20 2020 2022 6e61  627465",.    "na
+00003f00: 6d65 223a 2022 5065 726d 616e 656e 7420  me": "Permanent 
+00003f10: 5265 7369 6465 6e74 2043 6172 6422 2c0a  Resident Card",.
+00003f20: 2020 2020 2264 6573 6372 6970 7469 6f6e      "description
+00003f30: 223a 2022 476f 7665 726e 6d65 6e74 206f  ": "Government o
+00003f40: 6620 4578 616d 706c 6520 5065 726d 616e  f Example Perman
+00003f50: 656e 7420 5265 7369 6465 6e74 2043 6172  ent Resident Car
+00003f60: 642e 222c 0a20 2020 2022 6973 7375 616e  d.",.    "issuan
+00003f70: 6365 4461 7465 223a 2022 3230 3130 2d30  ceDate": "2010-0
+00003f80: 312d 3031 5431 393a 3533 3a32 345a 222c  1-01T19:53:24Z",
+00003f90: 0a20 2020 2022 6578 7069 7261 7469 6f6e  .    "expiration
+00003fa0: 4461 7465 223a 2022 3230 3239 2d31 322d  Date": "2029-12-
+00003fb0: 3033 5431 323a 3139 3a35 325a 222c 0a20  03T12:19:52Z",. 
+00003fc0: 2020 2022 6372 6564 656e 7469 616c 5375     "credentialSu
+00003fd0: 626a 6563 7422 3a20 7b0a 2020 2020 2020  bject": {.      
+00003fe0: 2020 2269 6422 3a20 2264 6964 3a73 6f76    "id": "did:sov
+00003ff0: 3a34 5178 7a57 6b33 616a 646e 4541 3337  :4QxzWk3ajdnEA37
+00004000: 4e64 4e55 354b 7422 2c0a 2020 2020 2020  NdNU5Kt",.      
+00004010: 2020 2274 7970 6522 3a20 5b22 5065 726d    "type": ["Perm
+00004020: 616e 656e 7452 6573 6964 656e 7422 2c20  anentResident", 
+00004030: 2250 6572 736f 6e22 5d2c 0a20 2020 2020  "Person"],.     
+00004040: 2020 2022 6769 7665 6e4e 616d 6522 3a20     "givenName": 
+00004050: 224a 4f48 4e22 2c0a 2020 2020 2020 2020  "JOHN",.        
+00004060: 2266 616d 696c 794e 616d 6522 3a20 2253  "familyName": "S
+00004070: 4d49 5448 222c 0a20 2020 2020 2020 2022  MITH",.        "
+00004080: 6765 6e64 6572 223a 2022 4d61 6c65 222c  gender": "Male",
+00004090: 0a20 2020 2020 2020 2022 696d 6167 6522  .        "image"
+000040a0: 3a20 2264 6174 613a 696d 6167 652f 706e  : "data:image/pn
+000040b0: 673b 6261 7365 3634 2c69 5642 4f52 7730  g;base64,iVBORw0
+000040c0: 4b47 676f 6b4a 6767 673d 3d22 2c0a 2020  KGgokJggg==",.  
+000040d0: 2020 2020 2020 2272 6573 6964 656e 7453        "residentS
+000040e0: 696e 6365 223a 2022 3230 3135 2d30 312d  ince": "2015-01-
+000040f0: 3031 222c 0a20 2020 2020 2020 2022 6c70  01",.        "lp
+00004100: 7243 6174 6567 6f72 7922 3a20 2243 3039  rCategory": "C09
+00004110: 222c 0a20 2020 2020 2020 2022 6c70 724e  ",.        "lprN
+00004120: 756d 6265 7222 3a20 2239 3939 2d39 3939  umber": "999-999
+00004130: 2d39 3939 222c 0a20 2020 2020 2020 2022  -999",.        "
+00004140: 636f 6d6d 7574 6572 436c 6173 7369 6669  commuterClassifi
+00004150: 6361 7469 6f6e 223a 2022 4331 222c 0a20  cation": "C1",. 
+00004160: 2020 2020 2020 2022 6269 7274 6843 6f75         "birthCou
+00004170: 6e74 7279 223a 2022 4261 6861 6d61 7322  ntry": "Bahamas"
+00004180: 2c0a 2020 2020 2020 2020 2262 6972 7468  ,.        "birth
+00004190: 4461 7465 223a 2022 3139 3538 2d30 372d  Date": "1958-07-
+000041a0: 3137 222c 0a20 2020 207d 2c0a 7d0a 0a0a  17",.    },.}...
+000041b0: 636c 6173 7320 5465 7374 4449 4646 6f72  class TestDIFFor
+000041c0: 6d61 7448 616e 646c 6572 2841 7379 6e63  matHandler(Async
+000041d0: 5465 7374 4361 7365 293a 0a20 2020 2061  TestCase):.    a
+000041e0: 7379 6e63 2064 6566 2073 6574 5570 2873  sync def setUp(s
+000041f0: 656c 6629 3a0a 2020 2020 2020 2020 7365  elf):.        se
+00004200: 6c66 2e68 6f6c 6465 7220 3d20 6173 796e  lf.holder = asyn
+00004210: 635f 6d6f 636b 2e4d 6167 6963 4d6f 636b  c_mock.MagicMock
+00004220: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+00004230: 7761 6c6c 6574 203d 2061 7379 6e63 5f6d  wallet = async_m
+00004240: 6f63 6b2e 4d61 6769 634d 6f63 6b28 4261  ock.MagicMock(Ba
+00004250: 7365 5761 6c6c 6574 2c20 6175 746f 7370  seWallet, autosp
+00004260: 6563 3d54 7275 6529 0a0a 2020 2020 2020  ec=True)..      
+00004270: 2020 7365 6c66 2e73 6573 7369 6f6e 203d    self.session =
+00004280: 2049 6e4d 656d 6f72 7950 726f 6669 6c65   InMemoryProfile
+00004290: 2e74 6573 745f 7365 7373 696f 6e28 0a20  .test_session(. 
+000042a0: 2020 2020 2020 2020 2020 2062 696e 643d             bind=
+000042b0: 7b56 4348 6f6c 6465 723a 2073 656c 662e  {VCHolder: self.
+000042c0: 686f 6c64 6572 2c20 4261 7365 5761 6c6c  holder, BaseWall
+000042d0: 6574 3a20 7365 6c66 2e77 616c 6c65 747d  et: self.wallet}
+000042e0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+000042f0: 2020 2073 656c 662e 7072 6f66 696c 6520     self.profile 
+00004300: 3d20 7365 6c66 2e73 6573 7369 6f6e 2e70  = self.session.p
+00004310: 726f 6669 6c65 0a20 2020 2020 2020 2073  rofile.        s
+00004320: 656c 662e 636f 6e74 6578 7420 3d20 7365  elf.context = se
+00004330: 6c66 2e70 726f 6669 6c65 2e63 6f6e 7465  lf.profile.conte
+00004340: 7874 0a20 2020 2020 2020 2073 6574 6174  xt.        setat
+00004350: 7472 280a 2020 2020 2020 2020 2020 2020  tr(.            
+00004360: 7365 6c66 2e70 726f 6669 6c65 2c20 2273  self.profile, "s
+00004370: 6573 7369 6f6e 222c 2061 7379 6e63 5f6d  ession", async_m
+00004380: 6f63 6b2e 4d61 6769 634d 6f63 6b28 7265  ock.MagicMock(re
+00004390: 7475 726e 5f76 616c 7565 3d73 656c 662e  turn_value=self.
+000043a0: 7365 7373 696f 6e29 0a20 2020 2020 2020  session).       
+000043b0: 2029 0a0a 2020 2020 2020 2020 2320 5365   )..        # Se
+000043c0: 7420 6375 7374 6f6d 2064 6f63 756d 656e  t custom documen
+000043d0: 7420 6c6f 6164 6572 0a20 2020 2020 2020  t loader.       
+000043e0: 2073 656c 662e 636f 6e74 6578 742e 696e   self.context.in
+000043f0: 6a65 6374 6f72 2e62 696e 645f 696e 7374  jector.bind_inst
+00004400: 616e 6365 2844 6f63 756d 656e 744c 6f61  ance(DocumentLoa
+00004410: 6465 722c 2063 7573 746f 6d5f 646f 6375  der, custom_docu
+00004420: 6d65 6e74 5f6c 6f61 6465 7229 0a20 2020  ment_loader).   
+00004430: 2020 2020 2073 656c 662e 636f 6e74 6578       self.contex
+00004440: 742e 696e 6a65 6374 6f72 2e62 696e 645f  t.injector.bind_
+00004450: 696e 7374 616e 6365 2842 6173 6552 6573  instance(BaseRes
+00004460: 706f 6e64 6572 2c20 4d6f 636b 5265 7370  ponder, MockResp
+00004470: 6f6e 6465 7228 2929 0a0a 2020 2020 2020  onder())..      
+00004480: 2020 7365 6c66 2e68 616e 646c 6572 203d    self.handler =
+00004490: 2044 4946 5072 6573 466f 726d 6174 4861   DIFPresFormatHa
+000044a0: 6e64 6c65 7228 7365 6c66 2e70 726f 6669  ndler(self.profi
+000044b0: 6c65 290a 2020 2020 2020 2020 6173 7365  le).        asse
+000044c0: 7274 2073 656c 662e 6861 6e64 6c65 722e  rt self.handler.
+000044d0: 7072 6f66 696c 650a 0a20 2020 2064 6566  profile..    def
+000044e0: 2074 6573 745f 7661 6c69 6461 7465 5f66   test_validate_f
+000044f0: 6965 6c64 7328 7365 6c66 293a 0a20 2020  ields(self):.   
+00004500: 2020 2020 2073 656c 662e 6861 6e64 6c65       self.handle
+00004510: 722e 7661 6c69 6461 7465 5f66 6965 6c64  r.validate_field
+00004520: 7328 5052 4553 5f32 302c 2044 4946 5f50  s(PRES_20, DIF_P
+00004530: 5245 5329 0a20 2020 2020 2020 2073 656c  RES).        sel
+00004540: 662e 6861 6e64 6c65 722e 7661 6c69 6461  f.handler.valida
+00004550: 7465 5f66 6965 6c64 7328 5052 4553 5f32  te_fields(PRES_2
+00004560: 305f 5052 4f50 4f53 414c 2c20 4449 465f  0_PROPOSAL, DIF_
+00004570: 5052 4553 5f50 524f 504f 5341 4c29 0a20  PRES_PROPOSAL). 
+00004580: 2020 2020 2020 2073 656c 662e 6861 6e64         self.hand
+00004590: 6c65 722e 7661 6c69 6461 7465 5f66 6965  ler.validate_fie
+000045a0: 6c64 7328 5052 4553 5f32 305f 5245 5155  lds(PRES_20_REQU
+000045b0: 4553 542c 2044 4946 5f50 5245 535f 5245  EST, DIF_PRES_RE
+000045c0: 5155 4553 545f 4129 0a20 2020 2020 2020  QUEST_A).       
+000045d0: 2073 656c 662e 6861 6e64 6c65 722e 7661   self.handler.va
+000045e0: 6c69 6461 7465 5f66 6965 6c64 7328 5052  lidate_fields(PR
+000045f0: 4553 5f32 305f 5245 5155 4553 542c 2044  ES_20_REQUEST, D
+00004600: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
+00004610: 4229 0a0a 2020 2020 2020 2020 7769 7468  B)..        with
+00004620: 2073 656c 662e 6173 7365 7274 5261 6973   self.assertRais
+00004630: 6573 2856 616c 6964 6174 696f 6e45 7272  es(ValidationErr
+00004640: 6f72 293a 0a20 2020 2020 2020 2020 2020  or):.           
+00004650: 2069 6e63 6f72 7265 6374 5f70 7265 7320   incorrect_pres 
+00004660: 3d20 4449 465f 5052 4553 2e63 6f70 7928  = DIF_PRES.copy(
+00004670: 290a 2020 2020 2020 2020 2020 2020 696e  ).            in
+00004680: 636f 7272 6563 745f 7072 6573 2e70 6f70  correct_pres.pop
+00004690: 2822 4063 6f6e 7465 7874 2229 0a20 2020  ("@context").   
+000046a0: 2020 2020 2020 2020 2073 656c 662e 6861           self.ha
+000046b0: 6e64 6c65 722e 7661 6c69 6461 7465 5f66  ndler.validate_f
+000046c0: 6965 6c64 7328 5052 4553 5f32 302c 2069  ields(PRES_20, i
+000046d0: 6e63 6f72 7265 6374 5f70 7265 7329 0a0a  ncorrect_pres)..
+000046e0: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
+000046f0: 7374 5f67 6574 5f61 6c6c 5f73 7569 7465  st_get_all_suite
+00004700: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
+00004710: 2073 7569 7465 7320 3d20 6177 6169 7420   suites = await 
+00004720: 7365 6c66 2e68 616e 646c 6572 2e5f 6765  self.handler._ge
+00004730: 745f 616c 6c5f 7375 6974 6573 2873 656c  t_all_suites(sel
+00004740: 662e 7761 6c6c 6574 290a 2020 2020 2020  f.wallet).      
+00004750: 2020 6173 7365 7274 206c 656e 2873 7569    assert len(sui
+00004760: 7465 7329 203d 3d20 330a 2020 2020 2020  tes) == 3.      
+00004770: 2020 7479 7065 7320 3d20 5b45 6432 3535    types = [Ed255
+00004780: 3139 5369 676e 6174 7572 6532 3031 382c  19Signature2018,
+00004790: 2042 6273 426c 7353 6967 6e61 7475 7265   BbsBlsSignature
+000047a0: 3230 3230 2c20 4262 7342 6c73 5369 676e  2020, BbsBlsSign
+000047b0: 6174 7572 6550 726f 6f66 3230 3230 5d0a  atureProof2020].
+000047c0: 2020 2020 2020 2020 666f 7220 7375 6974          for suit
+000047d0: 6520 696e 2073 7569 7465 733a 0a20 2020  e in suites:.   
+000047e0: 2020 2020 2020 2020 2061 7373 6572 7420           assert 
+000047f0: 7479 7065 2873 7569 7465 2920 696e 2074  type(suite) in t
+00004800: 7970 6573 0a0a 2020 2020 6173 796e 6320  ypes..    async 
+00004810: 6465 6620 7465 7374 5f63 7265 6174 655f  def test_create_
+00004820: 626f 756e 645f 7265 7175 6573 745f 6128  bound_request_a(
+00004830: 7365 6c66 293a 0a20 2020 2020 2020 2064  self):.        d
+00004840: 6966 5f70 726f 706f 7361 6c5f 6469 6374  if_proposal_dict
+00004850: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00004860: 2022 696e 7075 745f 6465 7363 7269 7074   "input_descript
+00004870: 6f72 7322 3a20 5b0a 2020 2020 2020 2020  ors": [.        
+00004880: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+00004890: 2020 2020 2020 2020 2020 2020 2020 2269                "i
+000048a0: 6422 3a20 2263 6974 697a 656e 7368 6970  d": "citizenship
+000048b0: 5f69 6e70 7574 5f31 222c 0a20 2020 2020  _input_1",.     
+000048c0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000048d0: 6e61 6d65 223a 2022 4555 2044 7269 7665  name": "EU Drive
+000048e0: 7227 7320 4c69 6365 6e73 6522 2c0a 2020  r's License",.  
 000048f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004900: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-00004910: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-00004920: 7565 7374 5f70 7265 7365 6e74 6174 696f  uest_presentatio
-00004930: 6e73 5f61 7474 6163 683d 5b0a 2020 2020  ns_attach=[.    
-00004940: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
-00004950: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
-00004960: 5f6a 736f 6e28 4449 465f 5052 4553 5f52  _json(DIF_PRES_R
-00004970: 4551 5545 5354 5f42 2c20 6964 656e 743d  EQUEST_B, ident=
-00004980: 2264 6966 2229 0a20 2020 2020 2020 2020  "dif").         
-00004990: 2020 205d 2c0a 2020 2020 2020 2020 290a     ],.        ).
-000049a0: 2020 2020 2020 2020 7265 636f 7264 203d          record =
-000049b0: 2056 3230 5072 6573 4578 5265 636f 7264   V20PresExRecord
-000049c0: 280a 2020 2020 2020 2020 2020 2020 7072  (.            pr
-000049d0: 6573 5f65 785f 6964 3d22 7078 6964 222c  es_ex_id="pxid",
-000049e0: 0a20 2020 2020 2020 2020 2020 2074 6872  .            thr
-000049f0: 6561 645f 6964 3d22 7468 6964 222c 0a20  ead_id="thid",. 
-00004a00: 2020 2020 2020 2020 2020 2063 6f6e 6e65             conne
-00004a10: 6374 696f 6e5f 6964 3d22 636f 6e6e 5f69  ction_id="conn_i
-00004a20: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-00004a30: 696e 6974 6961 746f 723d 2269 6e69 7422  initiator="init"
-00004a40: 2c0a 2020 2020 2020 2020 2020 2020 726f  ,.            ro
-00004a50: 6c65 3d22 726f 6c65 222c 0a20 2020 2020  le="role",.     
-00004a60: 2020 2020 2020 2073 7461 7465 3d22 7374         state="st
-00004a70: 6174 6522 2c0a 2020 2020 2020 2020 2020  ate",.          
-00004a80: 2020 7072 6573 5f72 6571 7565 7374 3d64    pres_request=d
-00004a90: 6966 5f70 7265 735f 7265 7175 6573 742c  if_pres_request,
-00004aa0: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
-00004ab0: 6966 6965 643d 2266 616c 7365 222c 0a20  ified="false",. 
-00004ac0: 2020 2020 2020 2020 2020 2061 7574 6f5f             auto_
-00004ad0: 7072 6573 656e 743d 5472 7565 2c0a 2020  present=True,.  
-00004ae0: 2020 2020 2020 2020 2020 6572 726f 725f            error_
-00004af0: 6d73 673d 2265 7272 6f72 222c 0a20 2020  msg="error",.   
-00004b00: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-00004b10: 7769 7468 2061 7379 6e63 5f6d 6f63 6b2e  with async_mock.
-00004b20: 7061 7463 682e 6f62 6a65 6374 280a 2020  patch.object(.  
-00004b30: 2020 2020 2020 2020 2020 4449 4650 7265            DIFPre
-00004b40: 7345 7863 6848 616e 646c 6572 2c0a 2020  sExchHandler,.  
-00004b50: 2020 2020 2020 2020 2020 2263 7265 6174            "creat
-00004b60: 655f 7670 222c 0a20 2020 2020 2020 2020  e_vp",.         
-00004b70: 2020 2061 7379 6e63 5f6d 6f63 6b2e 436f     async_mock.Co
-00004b80: 726f 7574 696e 654d 6f63 6b28 292c 0a20  routineMock(),. 
-00004b90: 2020 2020 2020 2029 2061 7320 6d6f 636b         ) as mock
-00004ba0: 5f63 7265 6174 655f 7670 3a0a 2020 2020  _create_vp:.    
-00004bb0: 2020 2020 2020 2020 6d6f 636b 5f63 7265          mock_cre
-00004bc0: 6174 655f 7670 2e72 6574 7572 6e5f 7661  ate_vp.return_va
-00004bd0: 6c75 6520 3d20 4449 465f 5052 4553 0a20  lue = DIF_PRES. 
-00004be0: 2020 2020 2020 2020 2020 206f 7574 7075             outpu
-00004bf0: 7420 3d20 6177 6169 7420 7365 6c66 2e68  t = await self.h
-00004c00: 616e 646c 6572 2e63 7265 6174 655f 7072  andler.create_pr
-00004c10: 6573 2872 6563 6f72 642c 207b 7d29 0a20  es(record, {}). 
-00004c20: 2020 2020 2020 2020 2020 2061 7373 6572             asser
-00004c30: 7420 6973 696e 7374 616e 6365 286f 7574  t isinstance(out
-00004c40: 7075 745b 305d 2c20 5632 3050 7265 7346  put[0], V20PresF
-00004c50: 6f72 6d61 7429 2061 6e64 2069 7369 6e73  ormat) and isins
-00004c60: 7461 6e63 6528 0a20 2020 2020 2020 2020  tance(.         
-00004c70: 2020 2020 2020 206f 7574 7075 745b 315d         output[1]
-00004c80: 2c20 4174 7461 6368 4465 636f 7261 746f  , AttachDecorato
-00004c90: 720a 2020 2020 2020 2020 2020 2020 290a  r.            ).
-00004ca0: 2020 2020 2020 2020 2020 2020 6173 7365              asse
-00004cb0: 7274 206f 7574 7075 745b 315d 2e64 6174  rt output[1].dat
-00004cc0: 612e 6a73 6f6e 5f20 3d3d 2044 4946 5f50  a.json_ == DIF_P
-00004cd0: 5245 530a 0a20 2020 2061 7379 6e63 2064  RES..    async d
-00004ce0: 6566 2074 6573 745f 6372 6561 7465 5f70  ef test_create_p
-00004cf0: 7265 735f 7064 5f73 6368 656d 615f 7572  res_pd_schema_ur
-00004d00: 6928 7365 6c66 293a 0a20 2020 2020 2020  i(self):.       
-00004d10: 2064 6966 5f70 7265 735f 7265 7120 3d20   dif_pres_req = 
-00004d20: 6465 6570 636f 7079 2844 4946 5f50 5245  deepcopy(DIF_PRE
-00004d30: 535f 5245 5155 4553 545f 4229 0a20 2020  S_REQUEST_B).   
-00004d40: 2020 2020 2064 6966 5f70 7265 735f 7265       dif_pres_re
-00004d50: 715b 2270 7265 7365 6e74 6174 696f 6e5f  q["presentation_
-00004d60: 6465 6669 6e69 7469 6f6e 225d 5b22 696e  definition"]["in
-00004d70: 7075 745f 6465 7363 7269 7074 6f72 7322  put_descriptors"
-00004d80: 5d5b 305d 5b22 7363 6865 6d61 225d 5b30  ][0]["schema"][0
-00004d90: 5d5b 0a20 2020 2020 2020 2020 2020 2022  ][.            "
-00004da0: 7572 6922 0a20 2020 2020 2020 205d 203d  uri".        ] =
-00004db0: 2022 7465 7374 2e6a 736f 6e22 0a20 2020   "test.json".   
-00004dc0: 2020 2020 2064 6966 5f70 7265 735f 7265       dif_pres_re
-00004dd0: 7175 6573 7420 3d20 5632 3050 7265 7352  quest = V20PresR
-00004de0: 6571 7565 7374 280a 2020 2020 2020 2020  equest(.        
-00004df0: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
-00004e00: 2020 2020 2020 2020 2020 2020 2020 5632                V2
-00004e10: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
-00004e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004e30: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
-00004e40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00004e50: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
-00004e60: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
-00004e70: 5052 4553 5f32 305f 5245 5155 4553 545d  PRES_20_REQUEST]
-00004e80: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00004e90: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
-00004ea0: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
-00004eb0: 4946 2e61 7069 0a20 2020 2020 2020 2020  IF.api.         
-00004ec0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00004ed0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-00004ee0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00004ef0: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-00004f00: 7374 5f70 7265 7365 6e74 6174 696f 6e73  st_presentations
-00004f10: 5f61 7474 6163 683d 5b0a 2020 2020 2020  _attach=[.      
-00004f20: 2020 2020 2020 2020 2020 4174 7461 6368            Attach
-00004f30: 4465 636f 7261 746f 722e 6461 7461 5f6a  Decorator.data_j
-00004f40: 736f 6e28 6469 665f 7072 6573 5f72 6571  son(dif_pres_req
-00004f50: 2c20 6964 656e 743d 2264 6966 2229 0a20  , ident="dif"). 
-00004f60: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00004f70: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00004f80: 7265 636f 7264 203d 2056 3230 5072 6573  record = V20Pres
-00004f90: 4578 5265 636f 7264 280a 2020 2020 2020  ExRecord(.      
-00004fa0: 2020 2020 2020 7072 6573 5f65 785f 6964        pres_ex_id
-00004fb0: 3d22 7078 6964 222c 0a20 2020 2020 2020  ="pxid",.       
-00004fc0: 2020 2020 2074 6872 6561 645f 6964 3d22       thread_id="
-00004fd0: 7468 6964 222c 0a20 2020 2020 2020 2020  thid",.         
-00004fe0: 2020 2063 6f6e 6e65 6374 696f 6e5f 6964     connection_id
-00004ff0: 3d22 636f 6e6e 5f69 6422 2c0a 2020 2020  ="conn_id",.    
-00005000: 2020 2020 2020 2020 696e 6974 6961 746f          initiato
-00005010: 723d 2269 6e69 7422 2c0a 2020 2020 2020  r="init",.      
-00005020: 2020 2020 2020 726f 6c65 3d22 726f 6c65        role="role
-00005030: 222c 0a20 2020 2020 2020 2020 2020 2073  ",.            s
-00005040: 7461 7465 3d22 7374 6174 6522 2c0a 2020  tate="state",.  
-00005050: 2020 2020 2020 2020 2020 7072 6573 5f72            pres_r
-00005060: 6571 7565 7374 3d64 6966 5f70 7265 735f  equest=dif_pres_
-00005070: 7265 7175 6573 742c 0a20 2020 2020 2020  request,.       
-00005080: 2020 2020 2076 6572 6966 6965 643d 2266       verified="f
-00005090: 616c 7365 222c 0a20 2020 2020 2020 2020  alse",.         
-000050a0: 2020 2061 7574 6f5f 7072 6573 656e 743d     auto_present=
-000050b0: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
-000050c0: 2020 6572 726f 725f 6d73 673d 2265 7272    error_msg="err
-000050d0: 6f72 222c 0a20 2020 2020 2020 2029 0a20  or",.        ). 
-000050e0: 2020 2020 2020 2072 6571 7565 7374 5f64         request_d
-000050f0: 6174 6120 3d20 7b7d 0a20 2020 2020 2020  ata = {}.       
-00005100: 2077 6974 6820 6173 796e 635f 6d6f 636b   with async_mock
-00005110: 2e70 6174 6368 2e6f 626a 6563 7428 0a20  .patch.object(. 
-00005120: 2020 2020 2020 2020 2020 2044 4946 5072             DIFPr
-00005130: 6573 4578 6368 4861 6e64 6c65 722c 0a20  esExchHandler,. 
-00005140: 2020 2020 2020 2020 2020 2022 6372 6561             "crea
-00005150: 7465 5f76 7022 2c0a 2020 2020 2020 2020  te_vp",.        
-00005160: 2020 2020 6173 796e 635f 6d6f 636b 2e43      async_mock.C
-00005170: 6f72 6f75 7469 6e65 4d6f 636b 2829 2c0a  oroutineMock(),.
-00005180: 2020 2020 2020 2020 2920 6173 206d 6f63          ) as moc
-00005190: 6b5f 6372 6561 7465 5f76 703a 0a20 2020  k_create_vp:.   
-000051a0: 2020 2020 2020 2020 206d 6f63 6b5f 6372           mock_cr
-000051b0: 6561 7465 5f76 702e 7265 7475 726e 5f76  eate_vp.return_v
-000051c0: 616c 7565 203d 2044 4946 5f50 5245 530a  alue = DIF_PRES.
-000051d0: 2020 2020 2020 2020 2020 2020 6f75 7470              outp
-000051e0: 7574 203d 2061 7761 6974 2073 656c 662e  ut = await self.
-000051f0: 6861 6e64 6c65 722e 6372 6561 7465 5f70  handler.create_p
-00005200: 7265 7328 7265 636f 7264 2c20 7265 7175  res(record, requ
-00005210: 6573 745f 6461 7461 290a 2020 2020 2020  est_data).      
-00005220: 2020 2020 2020 6173 7365 7274 2069 7369        assert isi
-00005230: 6e73 7461 6e63 6528 6f75 7470 7574 5b30  nstance(output[0
-00005240: 5d2c 2056 3230 5072 6573 466f 726d 6174  ], V20PresFormat
-00005250: 2920 616e 6420 6973 696e 7374 616e 6365  ) and isinstance
-00005260: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00005270: 2020 6f75 7470 7574 5b31 5d2c 2041 7474    output[1], Att
-00005280: 6163 6844 6563 6f72 6174 6f72 0a20 2020  achDecorator.   
-00005290: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-000052a0: 2020 2020 2020 2061 7373 6572 7420 6f75         assert ou
-000052b0: 7470 7574 5b31 5d2e 6461 7461 2e6a 736f  tput[1].data.jso
-000052c0: 6e5f 203d 3d20 4449 465f 5052 4553 0a0a  n_ == DIF_PRES..
-000052d0: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
-000052e0: 7374 5f63 7265 6174 655f 7072 6573 5f70  st_create_pres_p
-000052f0: 726f 7665 725f 7072 6f6f 665f 7370 6563  rover_proof_spec
-00005300: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00005310: 6469 665f 7072 6573 5f73 7065 6320 3d20  dif_pres_spec = 
-00005320: 6465 6570 636f 7079 2844 4946 5f50 5245  deepcopy(DIF_PRE
-00005330: 535f 5245 5155 4553 545f 4129 0a20 2020  S_REQUEST_A).   
-00005340: 2020 2020 2064 6966 5f70 7265 735f 7370       dif_pres_sp
-00005350: 6563 5b22 6973 7375 6572 5f69 6422 5d20  ec["issuer_id"] 
-00005360: 3d20 2274 6573 7431 3233 220a 2020 2020  = "test123".    
-00005370: 2020 2020 6469 665f 7072 6573 5f72 6571      dif_pres_req
-00005380: 7565 7374 203d 2056 3230 5072 6573 5265  uest = V20PresRe
-00005390: 7175 6573 7428 0a20 2020 2020 2020 2020  quest(.         
-000053a0: 2020 2066 6f72 6d61 7473 3d5b 0a20 2020     formats=[.   
-000053b0: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-000053c0: 5072 6573 466f 726d 6174 280a 2020 2020  PresFormat(.    
-000053d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000053e0: 6174 7461 6368 5f69 643d 2264 6966 222c  attach_id="dif",
-000053f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005400: 2020 2020 2066 6f72 6d61 745f 3d41 5454       format_=ATT
-00005410: 4143 484d 454e 545f 464f 524d 4154 5b50  ACHMENT_FORMAT[P
-00005420: 5245 535f 3230 5f52 4551 5545 5354 5d5b  RES_20_REQUEST][
-00005430: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005440: 2020 2020 2020 2020 2056 3230 5072 6573           V20Pres
-00005450: 466f 726d 6174 2e46 6f72 6d61 742e 4449  Format.Format.DI
-00005460: 462e 6170 690a 2020 2020 2020 2020 2020  F.api.          
-00005470: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-00005480: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-00005490: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-000054a0: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-000054b0: 745f 7072 6573 656e 7461 7469 6f6e 735f  t_presentations_
-000054c0: 6174 7461 6368 3d5b 0a20 2020 2020 2020  attach=[.       
-000054d0: 2020 2020 2020 2020 2041 7474 6163 6844           AttachD
-000054e0: 6563 6f72 6174 6f72 2e64 6174 615f 6a73  ecorator.data_js
-000054f0: 6f6e 2844 4946 5f50 5245 535f 5245 5155  on(DIF_PRES_REQU
-00005500: 4553 545f 422c 2069 6465 6e74 3d22 6469  EST_B, ident="di
-00005510: 6622 290a 2020 2020 2020 2020 2020 2020  f").            
-00005520: 5d2c 0a20 2020 2020 2020 2029 0a20 2020  ],.        ).   
-00005530: 2020 2020 2072 6563 6f72 6420 3d20 5632       record = V2
-00005540: 3050 7265 7345 7852 6563 6f72 6428 0a20  0PresExRecord(. 
-00005550: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
-00005560: 6578 5f69 643d 2270 7869 6422 2c0a 2020  ex_id="pxid",.  
-00005570: 2020 2020 2020 2020 2020 7468 7265 6164            thread
-00005580: 5f69 643d 2274 6869 6422 2c0a 2020 2020  _id="thid",.    
-00005590: 2020 2020 2020 2020 636f 6e6e 6563 7469          connecti
-000055a0: 6f6e 5f69 643d 2263 6f6e 6e5f 6964 222c  on_id="conn_id",
-000055b0: 0a20 2020 2020 2020 2020 2020 2069 6e69  .            ini
-000055c0: 7469 6174 6f72 3d22 696e 6974 222c 0a20  tiator="init",. 
-000055d0: 2020 2020 2020 2020 2020 2072 6f6c 653d             role=
-000055e0: 2272 6f6c 6522 2c0a 2020 2020 2020 2020  "role",.        
-000055f0: 2020 2020 7374 6174 653d 2273 7461 7465      state="state
-00005600: 222c 0a20 2020 2020 2020 2020 2020 2070  ",.            p
-00005610: 7265 735f 7265 7175 6573 743d 6469 665f  res_request=dif_
-00005620: 7072 6573 5f72 6571 7565 7374 2c0a 2020  pres_request,.  
-00005630: 2020 2020 2020 2020 2020 7665 7269 6669            verifi
-00005640: 6564 3d22 6661 6c73 6522 2c0a 2020 2020  ed="false",.    
-00005650: 2020 2020 2020 2020 6175 746f 5f70 7265          auto_pre
-00005660: 7365 6e74 3d54 7275 652c 0a20 2020 2020  sent=True,.     
-00005670: 2020 2020 2020 2065 7272 6f72 5f6d 7367         error_msg
-00005680: 3d22 6572 726f 7222 2c0a 2020 2020 2020  ="error",.      
-00005690: 2020 290a 2020 2020 2020 2020 7265 7175    ).        requ
-000056a0: 6573 745f 6461 7461 203d 207b 7d0a 2020  est_data = {}.  
-000056b0: 2020 2020 2020 7265 7175 6573 745f 6461        request_da
-000056c0: 7461 5b22 6469 6622 5d20 3d20 6469 665f  ta["dif"] = dif_
-000056d0: 7072 6573 5f73 7065 630a 2020 2020 2020  pres_spec.      
-000056e0: 2020 7769 7468 2061 7379 6e63 5f6d 6f63    with async_moc
-000056f0: 6b2e 7061 7463 682e 6f62 6a65 6374 280a  k.patch.object(.
-00005700: 2020 2020 2020 2020 2020 2020 4449 4650              DIFP
-00005710: 7265 7345 7863 6848 616e 646c 6572 2c0a  resExchHandler,.
-00005720: 2020 2020 2020 2020 2020 2020 2263 7265              "cre
-00005730: 6174 655f 7670 222c 0a20 2020 2020 2020  ate_vp",.       
-00005740: 2020 2020 2061 7379 6e63 5f6d 6f63 6b2e       async_mock.
-00005750: 436f 726f 7574 696e 654d 6f63 6b28 292c  CoroutineMock(),
-00005760: 0a20 2020 2020 2020 2029 2061 7320 6d6f  .        ) as mo
-00005770: 636b 5f63 7265 6174 655f 7670 3a0a 2020  ck_create_vp:.  
-00005780: 2020 2020 2020 2020 2020 6d6f 636b 5f63            mock_c
-00005790: 7265 6174 655f 7670 2e72 6574 7572 6e5f  reate_vp.return_
-000057a0: 7661 6c75 6520 3d20 4449 465f 5052 4553  value = DIF_PRES
-000057b0: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
-000057c0: 7075 7420 3d20 6177 6169 7420 7365 6c66  put = await self
-000057d0: 2e68 616e 646c 6572 2e63 7265 6174 655f  .handler.create_
-000057e0: 7072 6573 2872 6563 6f72 642c 2072 6571  pres(record, req
-000057f0: 7565 7374 5f64 6174 6129 0a20 2020 2020  uest_data).     
-00005800: 2020 2020 2020 2061 7373 6572 7420 6973         assert is
-00005810: 696e 7374 616e 6365 286f 7574 7075 745b  instance(output[
-00005820: 305d 2c20 5632 3050 7265 7346 6f72 6d61  0], V20PresForma
-00005830: 7429 2061 6e64 2069 7369 6e73 7461 6e63  t) and isinstanc
-00005840: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
-00005850: 2020 206f 7574 7075 745b 315d 2c20 4174     output[1], At
-00005860: 7461 6368 4465 636f 7261 746f 720a 2020  tachDecorator.  
-00005870: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-00005880: 2020 2020 2020 2020 6173 7365 7274 206f          assert o
-00005890: 7574 7075 745b 315d 2e64 6174 612e 6a73  utput[1].data.js
-000058a0: 6f6e 5f20 3d3d 2044 4946 5f50 5245 530a  on_ == DIF_PRES.
-000058b0: 0a20 2020 2061 7379 6e63 2064 6566 2074  .    async def t
-000058c0: 6573 745f 6372 6561 7465 5f70 7265 735f  est_create_pres_
-000058d0: 7072 6f76 6572 5f70 726f 6f66 5f73 7065  prover_proof_spe
-000058e0: 635f 7769 7468 5f72 6563 6f72 645f 6964  c_with_record_id
-000058f0: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
-00005900: 2064 6966 5f70 7265 735f 7370 6563 203d   dif_pres_spec =
-00005910: 2064 6565 7063 6f70 7928 4449 465f 5052   deepcopy(DIF_PR
-00005920: 4553 5f52 4551 5545 5354 5f41 290a 2020  ES_REQUEST_A).  
-00005930: 2020 2020 2020 6469 665f 7072 6573 5f73        dif_pres_s
-00005940: 7065 635b 2269 7373 7565 725f 6964 225d  pec["issuer_id"]
-00005950: 203d 2022 7465 7374 3132 3322 0a20 2020   = "test123".   
-00005960: 2020 2020 2064 6966 5f70 7265 735f 7370       dif_pres_sp
-00005970: 6563 5b22 7265 636f 7264 5f69 6473 225d  ec["record_ids"]
-00005980: 203d 207b 2274 6573 745f 696e 7075 745f   = {"test_input_
-00005990: 6465 7363 7269 7074 6f72 5f69 6422 3a20  descriptor_id": 
-000059a0: 5b22 7465 7374 3122 5d7d 0a20 2020 2020  ["test1"]}.     
-000059b0: 2020 2063 7265 645f 6c69 7374 203d 205b     cred_list = [
-000059c0: 0a20 2020 2020 2020 2020 2020 2056 4352  .            VCR
-000059d0: 6563 6f72 6428 0a20 2020 2020 2020 2020  ecord(.         
-000059e0: 2020 2020 2020 2063 6f6e 7465 7874 733d         contexts=
-000059f0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00005a00: 2020 2020 2020 2268 7474 7073 3a2f 2f77        "https://w
-00005a10: 7777 2e77 332e 6f72 672f 3230 3138 2f63  ww.w3.org/2018/c
-00005a20: 7265 6465 6e74 6961 6c73 2f76 3122 2c0a  redentials/v1",.
-00005a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a40: 2020 2020 2268 7474 7073 3a2f 2f77 7777      "https://www
-00005a50: 2e77 332e 6f72 672f 3230 3138 2f63 7265  .w3.org/2018/cre
-00005a60: 6465 6e74 6961 6c73 2f65 7861 6d70 6c65  dentials/example
-00005a70: 732f 7631 222c 0a20 2020 2020 2020 2020  s/v1",.         
-00005a80: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-00005a90: 2020 2020 2020 2020 2020 6578 7061 6e64            expand
-00005aa0: 6564 5f74 7970 6573 3d5b 0a20 2020 2020  ed_types=[.     
-00005ab0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00005ac0: 6874 7470 733a 2f2f 7777 772e 7733 2e6f  https://www.w3.o
-00005ad0: 7267 2f32 3031 382f 6372 6564 656e 7469  rg/2018/credenti
-00005ae0: 616c 7323 5665 7269 6669 6162 6c65 4372  als#VerifiableCr
-00005af0: 6564 656e 7469 616c 222c 0a20 2020 2020  edential",.     
-00005b00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00005b10: 6874 7470 733a 2f2f 6578 616d 706c 652e  https://example.
-00005b20: 6f72 672f 6578 616d 706c 6573 2355 6e69  org/examples#Uni
-00005b30: 7665 7273 6974 7944 6567 7265 6543 7265  versityDegreeCre
-00005b40: 6465 6e74 6961 6c22 2c0a 2020 2020 2020  dential",.      
-00005b50: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-00005b60: 2020 2020 2020 2020 2020 2020 2069 7373               iss
-00005b70: 7565 725f 6964 3d22 6469 643a 6578 616d  uer_id="did:exam
-00005b80: 706c 653a 3438 3933 3938 3539 3322 2c0a  ple:489398593",.
+00004900: 2020 2267 726f 7570 223a 205b 2241 225d    "group": ["A"]
+00004910: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00004920: 2020 2020 2020 2273 6368 656d 6122 3a20        "schema": 
+00004930: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+00004940: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00004950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004960: 2020 2020 2020 2020 2275 7269 223a 2022          "uri": "
+00004970: 6874 7470 733a 2f2f 7777 772e 7733 2e6f  https://www.w3.o
+00004980: 7267 2f32 3031 382f 6372 6564 656e 7469  rg/2018/credenti
+00004990: 616c 7323 5665 7269 6669 6162 6c65 4372  als#VerifiableCr
+000049a0: 6564 656e 7469 616c 220a 2020 2020 2020  edential".      
+000049b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000049c0: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
+000049d0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+000049e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000049f0: 636f 6e73 7472 6169 6e74 7322 3a20 7b0a  constraints": {.
+00004a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a10: 2020 2020 2020 2020 226c 696d 6974 5f64          "limit_d
+00004a20: 6973 636c 6f73 7572 6522 3a20 2272 6571  isclosure": "req
+00004a30: 7569 7265 6422 2c0a 2020 2020 2020 2020  uired",.        
+00004a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a50: 2266 6965 6c64 7322 3a20 5b0a 2020 2020  "fields": [.    
+00004a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a70: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+00004a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004a90: 2020 2020 2020 2020 2020 2270 6174 6822            "path"
+00004aa0: 3a20 5b22 242e 6372 6564 656e 7469 616c  : ["$.credential
+00004ab0: 5375 626a 6563 742e 6769 7665 6e4e 616d  Subject.givenNam
+00004ac0: 6522 5d2c 0a20 2020 2020 2020 2020 2020  e"],.           
+00004ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004ae0: 2020 2020 2022 7075 7270 6f73 6522 3a20       "purpose": 
+00004af0: 2254 6865 2063 6c61 696d 206d 7573 7420  "The claim must 
+00004b00: 6265 2066 726f 6d20 6f6e 6520 6f66 2074  be from one of t
+00004b10: 6865 2073 7065 6369 6669 6564 2069 7373  he specified iss
+00004b20: 7565 7273 222c 0a20 2020 2020 2020 2020  uers",.         
+00004b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b40: 2020 2020 2020 2022 6669 6c74 6572 223a         "filter":
+00004b50: 207b 2274 7970 6522 3a20 2273 7472 696e   {"type": "strin
+00004b60: 6722 2c20 2265 6e75 6d22 3a20 5b22 4a4f  g", "enum": ["JO
+00004b70: 484e 222c 2022 4341 4922 5d7d 2c0a 2020  HN", "CAI"]},.  
+00004b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004b90: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
+00004ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004bb0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+00004bc0: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+00004bd0: 2020 2020 2020 2020 2020 2020 2020 7d0a                }.
+00004be0: 2020 2020 2020 2020 2020 2020 5d0a 2020              ].  
+00004bf0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+00004c00: 6469 665f 7072 6573 5f70 726f 706f 7361  dif_pres_proposa
+00004c10: 6c20 3d20 5632 3050 7265 7350 726f 706f  l = V20PresPropo
+00004c20: 7361 6c28 0a20 2020 2020 2020 2020 2020  sal(.           
+00004c30: 2066 6f72 6d61 7473 3d5b 0a20 2020 2020   formats=[.     
+00004c40: 2020 2020 2020 2020 2020 2056 3230 5072             V20Pr
+00004c50: 6573 466f 726d 6174 280a 2020 2020 2020  esFormat(.      
+00004c60: 2020 2020 2020 2020 2020 2020 2020 6174                at
+00004c70: 7461 6368 5f69 643d 2264 6966 222c 0a20  tach_id="dif",. 
+00004c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004c90: 2020 2066 6f72 6d61 745f 3d41 5454 4143     format_=ATTAC
+00004ca0: 484d 454e 545f 464f 524d 4154 5b50 5245  HMENT_FORMAT[PRE
+00004cb0: 535f 3230 5f50 524f 504f 5341 4c5d 5b0a  S_20_PROPOSAL][.
+00004cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00004cd0: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
+00004ce0: 6f72 6d61 742e 466f 726d 6174 2e44 4946  ormat.Format.DIF
+00004cf0: 2e61 7069 0a20 2020 2020 2020 2020 2020  .api.           
+00004d00: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+00004d10: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00004d20: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00004d30: 2020 2020 2020 2020 2070 726f 706f 7361           proposa
+00004d40: 6c73 5f61 7474 6163 683d 5b0a 2020 2020  ls_attach=[.    
+00004d50: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
+00004d60: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
+00004d70: 5f6a 736f 6e28 6469 665f 7072 6f70 6f73  _json(dif_propos
+00004d80: 616c 5f64 6963 742c 2069 6465 6e74 3d22  al_dict, ident="
+00004d90: 6469 6622 290a 2020 2020 2020 2020 2020  dif").          
+00004da0: 2020 5d2c 0a20 2020 2020 2020 2029 0a20    ],.        ). 
+00004db0: 2020 2020 2020 2072 6563 6f72 6420 3d20         record = 
+00004dc0: 5632 3050 7265 7345 7852 6563 6f72 6428  V20PresExRecord(
+00004dd0: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+00004de0: 735f 6578 5f69 643d 2270 7869 6422 2c0a  s_ex_id="pxid",.
+00004df0: 2020 2020 2020 2020 2020 2020 7468 7265              thre
+00004e00: 6164 5f69 643d 2274 6869 6422 2c0a 2020  ad_id="thid",.  
+00004e10: 2020 2020 2020 2020 2020 636f 6e6e 6563            connec
+00004e20: 7469 6f6e 5f69 643d 2263 6f6e 6e5f 6964  tion_id="conn_id
+00004e30: 222c 0a20 2020 2020 2020 2020 2020 2069  ",.            i
+00004e40: 6e69 7469 6174 6f72 3d22 696e 6974 222c  nitiator="init",
+00004e50: 0a20 2020 2020 2020 2020 2020 2072 6f6c  .            rol
+00004e60: 653d 2272 6f6c 6522 2c0a 2020 2020 2020  e="role",.      
+00004e70: 2020 2020 2020 7374 6174 653d 2273 7461        state="sta
+00004e80: 7465 222c 0a20 2020 2020 2020 2020 2020  te",.           
+00004e90: 2070 7265 735f 7072 6f70 6f73 616c 3d64   pres_proposal=d
+00004ea0: 6966 5f70 7265 735f 7072 6f70 6f73 616c  if_pres_proposal
+00004eb0: 2c0a 2020 2020 2020 2020 2020 2020 7665  ,.            ve
+00004ec0: 7269 6669 6564 3d22 6661 6c73 6522 2c0a  rified="false",.
+00004ed0: 2020 2020 2020 2020 2020 2020 6175 746f              auto
+00004ee0: 5f70 7265 7365 6e74 3d54 7275 652c 0a20  _present=True,. 
+00004ef0: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+00004f00: 5f6d 7367 3d22 6572 726f 7222 2c0a 2020  _msg="error",.  
+00004f10: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00004f20: 6f75 7470 7574 203d 2061 7761 6974 2073  output = await s
+00004f30: 656c 662e 6861 6e64 6c65 722e 6372 6561  elf.handler.crea
+00004f40: 7465 5f62 6f75 6e64 5f72 6571 7565 7374  te_bound_request
+00004f50: 2870 7265 735f 6578 5f72 6563 6f72 643d  (pres_ex_record=
+00004f60: 7265 636f 7264 290a 2020 2020 2020 2020  record).        
+00004f70: 6173 7365 7274 2069 7369 6e73 7461 6e63  assert isinstanc
+00004f80: 6528 6f75 7470 7574 5b30 5d2c 2056 3230  e(output[0], V20
+00004f90: 5072 6573 466f 726d 6174 2920 616e 6420  PresFormat) and 
+00004fa0: 6973 696e 7374 616e 6365 280a 2020 2020  isinstance(.    
+00004fb0: 2020 2020 2020 2020 6f75 7470 7574 5b31          output[1
+00004fc0: 5d2c 2041 7474 6163 6844 6563 6f72 6174  ], AttachDecorat
+00004fd0: 6f72 0a20 2020 2020 2020 2029 0a0a 2020  or.        )..  
+00004fe0: 2020 6173 796e 6320 6465 6620 7465 7374    async def test
+00004ff0: 5f63 7265 6174 655f 626f 756e 645f 7265  _create_bound_re
+00005000: 7175 6573 745f 6228 7365 6c66 293a 0a20  quest_b(self):. 
+00005010: 2020 2020 2020 2064 6966 5f70 726f 706f         dif_propo
+00005020: 7361 6c5f 6469 6374 203d 207b 0a20 2020  sal_dict = {.   
+00005030: 2020 2020 2020 2020 2022 6f70 7469 6f6e           "option
+00005040: 7322 3a20 7b22 6368 616c 6c65 6e67 6522  s": {"challenge"
+00005050: 3a20 2274 6573 7431 3233 227d 2c0a 2020  : "test123"},.  
+00005060: 2020 2020 2020 2020 2020 2269 6e70 7574            "input
+00005070: 5f64 6573 6372 6970 746f 7273 223a 205b  _descriptors": [
+00005080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005090: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+000050a0: 2020 2020 2020 2022 6964 223a 2022 6369         "id": "ci
+000050b0: 7469 7a65 6e73 6869 705f 696e 7075 745f  tizenship_input_
+000050c0: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
+000050d0: 2020 2020 2020 2020 226e 616d 6522 3a20          "name": 
+000050e0: 2245 5520 4472 6976 6572 2773 204c 6963  "EU Driver's Lic
+000050f0: 656e 7365 222c 0a20 2020 2020 2020 2020  ense",.         
+00005100: 2020 2020 2020 2020 2020 2022 6772 6f75             "grou
+00005110: 7022 3a20 5b22 4122 5d2c 0a20 2020 2020  p": ["A"],.     
+00005120: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00005130: 7363 6865 6d61 223a 205b 0a20 2020 2020  schema": [.     
+00005140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005150: 2020 207b 0a20 2020 2020 2020 2020 2020     {.           
+00005160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005170: 2022 7572 6922 3a20 2268 7474 7073 3a2f   "uri": "https:/
+00005180: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
+00005190: 2f63 7265 6465 6e74 6961 6c73 2356 6572  /credentials#Ver
+000051a0: 6966 6961 626c 6543 7265 6465 6e74 6961  ifiableCredentia
+000051b0: 6c22 0a20 2020 2020 2020 2020 2020 2020  l".             
+000051c0: 2020 2020 2020 2020 2020 207d 0a20 2020             }.   
+000051d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000051e0: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+000051f0: 2020 2020 2020 2020 2263 6f6e 7374 7261          "constra
+00005200: 696e 7473 223a 207b 0a20 2020 2020 2020  ints": {.       
+00005210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005220: 2022 6c69 6d69 745f 6469 7363 6c6f 7375   "limit_disclosu
+00005230: 7265 223a 2022 7265 7175 6972 6564 222c  re": "required",
+00005240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005250: 2020 2020 2020 2020 2022 6669 656c 6473           "fields
+00005260: 223a 205b 0a20 2020 2020 2020 2020 2020  ": [.           
+00005270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005280: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+00005290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000052a0: 2020 2022 7061 7468 223a 205b 2224 2e63     "path": ["$.c
+000052b0: 7265 6465 6e74 6961 6c53 7562 6a65 6374  redentialSubject
+000052c0: 2e67 6976 656e 4e61 6d65 225d 2c0a 2020  .givenName"],.  
+000052d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000052e0: 2020 2020 2020 2020 2020 2020 2020 2270                "p
+000052f0: 7572 706f 7365 223a 2022 5468 6520 636c  urpose": "The cl
+00005300: 6169 6d20 6d75 7374 2062 6520 6672 6f6d  aim must be from
+00005310: 206f 6e65 206f 6620 7468 6520 7370 6563   one of the spec
+00005320: 6966 6965 6420 6973 7375 6572 7322 2c0a  ified issuers",.
+00005330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005350: 2266 696c 7465 7222 3a20 7b22 7479 7065  "filter": {"type
+00005360: 223a 2022 7374 7269 6e67 222c 2022 656e  ": "string", "en
+00005370: 756d 223a 205b 224a 4f48 4e22 2c20 2243  um": ["JOHN", "C
+00005380: 4149 225d 7d2c 0a20 2020 2020 2020 2020  AI"]},.         
+00005390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053a0: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
+000053b0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
+000053c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000053d0: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+000053e0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+000053f0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+00005400: 7d0a 2020 2020 2020 2020 6469 665f 7072  }.        dif_pr
+00005410: 6573 5f70 726f 706f 7361 6c20 3d20 5632  es_proposal = V2
+00005420: 3050 7265 7350 726f 706f 7361 6c28 0a20  0PresProposal(. 
+00005430: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+00005440: 7473 3d5b 0a20 2020 2020 2020 2020 2020  ts=[.           
+00005450: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
+00005460: 6174 280a 2020 2020 2020 2020 2020 2020  at(.            
+00005470: 2020 2020 2020 2020 6174 7461 6368 5f69          attach_i
+00005480: 643d 2264 6966 222c 0a20 2020 2020 2020  d="dif",.       
+00005490: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+000054a0: 6d61 745f 3d41 5454 4143 484d 454e 545f  mat_=ATTACHMENT_
+000054b0: 464f 524d 4154 5b50 5245 535f 3230 5f50  FORMAT[PRES_20_P
+000054c0: 524f 504f 5341 4c5d 5b0a 2020 2020 2020  ROPOSAL][.      
+000054d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000054e0: 2020 5632 3050 7265 7346 6f72 6d61 742e    V20PresFormat.
+000054f0: 466f 726d 6174 2e44 4946 2e61 7069 0a20  Format.DIF.api. 
+00005500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005510: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+00005520: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00005530: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+00005540: 2020 2070 726f 706f 7361 6c73 5f61 7474     proposals_att
+00005550: 6163 683d 5b0a 2020 2020 2020 2020 2020  ach=[.          
+00005560: 2020 2020 2020 4174 7461 6368 4465 636f        AttachDeco
+00005570: 7261 746f 722e 6461 7461 5f6a 736f 6e28  rator.data_json(
+00005580: 6469 665f 7072 6f70 6f73 616c 5f64 6963  dif_proposal_dic
+00005590: 742c 2069 6465 6e74 3d22 6469 6622 290a  t, ident="dif").
+000055a0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+000055b0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+000055c0: 2072 6563 6f72 6420 3d20 5632 3050 7265   record = V20Pre
+000055d0: 7345 7852 6563 6f72 6428 0a20 2020 2020  sExRecord(.     
+000055e0: 2020 2020 2020 2070 7265 735f 6578 5f69         pres_ex_i
+000055f0: 643d 2270 7869 6422 2c0a 2020 2020 2020  d="pxid",.      
+00005600: 2020 2020 2020 7468 7265 6164 5f69 643d        thread_id=
+00005610: 2274 6869 6422 2c0a 2020 2020 2020 2020  "thid",.        
+00005620: 2020 2020 636f 6e6e 6563 7469 6f6e 5f69      connection_i
+00005630: 643d 2263 6f6e 6e5f 6964 222c 0a20 2020  d="conn_id",.   
+00005640: 2020 2020 2020 2020 2069 6e69 7469 6174           initiat
+00005650: 6f72 3d22 696e 6974 222c 0a20 2020 2020  or="init",.     
+00005660: 2020 2020 2020 2072 6f6c 653d 2272 6f6c         role="rol
+00005670: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+00005680: 7374 6174 653d 2273 7461 7465 222c 0a20  state="state",. 
+00005690: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
+000056a0: 7072 6f70 6f73 616c 3d64 6966 5f70 7265  proposal=dif_pre
+000056b0: 735f 7072 6f70 6f73 616c 2c0a 2020 2020  s_proposal,.    
+000056c0: 2020 2020 2020 2020 7665 7269 6669 6564          verified
+000056d0: 3d22 6661 6c73 6522 2c0a 2020 2020 2020  ="false",.      
+000056e0: 2020 2020 2020 6175 746f 5f70 7265 7365        auto_prese
+000056f0: 6e74 3d54 7275 652c 0a20 2020 2020 2020  nt=True,.       
+00005700: 2020 2020 2065 7272 6f72 5f6d 7367 3d22       error_msg="
+00005710: 6572 726f 7222 2c0a 2020 2020 2020 2020  error",.        
+00005720: 290a 2020 2020 2020 2020 6f75 7470 7574  ).        output
+00005730: 203d 2061 7761 6974 2073 656c 662e 6861   = await self.ha
+00005740: 6e64 6c65 722e 6372 6561 7465 5f62 6f75  ndler.create_bou
+00005750: 6e64 5f72 6571 7565 7374 2870 7265 735f  nd_request(pres_
+00005760: 6578 5f72 6563 6f72 643d 7265 636f 7264  ex_record=record
+00005770: 290a 2020 2020 2020 2020 6173 7365 7274  ).        assert
+00005780: 2069 7369 6e73 7461 6e63 6528 6f75 7470   isinstance(outp
+00005790: 7574 5b30 5d2c 2056 3230 5072 6573 466f  ut[0], V20PresFo
+000057a0: 726d 6174 2920 616e 6420 6973 696e 7374  rmat) and isinst
+000057b0: 616e 6365 280a 2020 2020 2020 2020 2020  ance(.          
+000057c0: 2020 6f75 7470 7574 5b31 5d2c 2041 7474    output[1], Att
+000057d0: 6163 6844 6563 6f72 6174 6f72 0a20 2020  achDecorator.   
+000057e0: 2020 2020 2029 0a0a 2020 2020 6173 796e       )..    asyn
+000057f0: 6320 6465 6620 7465 7374 5f63 7265 6174  c def test_creat
+00005800: 655f 626f 756e 645f 7265 7175 6573 745f  e_bound_request_
+00005810: 6328 7365 6c66 293a 0a20 2020 2020 2020  c(self):.       
+00005820: 2064 6966 5f70 726f 706f 7361 6c5f 6469   dif_proposal_di
+00005830: 6374 203d 207b 0a20 2020 2020 2020 2020  ct = {.         
+00005840: 2020 2022 6f70 7469 6f6e 7322 3a20 7b22     "options": {"
+00005850: 646f 6d61 696e 223a 2022 7465 7374 3132  domain": "test12
+00005860: 3322 7d2c 0a20 2020 2020 2020 2020 2020  3"},.           
+00005870: 2022 696e 7075 745f 6465 7363 7269 7074   "input_descript
+00005880: 6f72 7322 3a20 5b0a 2020 2020 2020 2020  ors": [.        
+00005890: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+000058a0: 2020 2020 2020 2020 2020 2020 2020 2269                "i
+000058b0: 6422 3a20 2263 6974 697a 656e 7368 6970  d": "citizenship
+000058c0: 5f69 6e70 7574 5f31 222c 0a20 2020 2020  _input_1",.     
+000058d0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000058e0: 6e61 6d65 223a 2022 4555 2044 7269 7665  name": "EU Drive
+000058f0: 7227 7320 4c69 6365 6e73 6522 2c0a 2020  r's License",.  
+00005900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005910: 2020 2267 726f 7570 223a 205b 2241 225d    "group": ["A"]
+00005920: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00005930: 2020 2020 2020 2273 6368 656d 6122 3a20        "schema": 
+00005940: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+00005950: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00005960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005970: 2020 2020 2020 2020 2275 7269 223a 2022          "uri": "
+00005980: 6874 7470 733a 2f2f 7777 772e 7733 2e6f  https://www.w3.o
+00005990: 7267 2f32 3031 382f 6372 6564 656e 7469  rg/2018/credenti
+000059a0: 616c 7323 5665 7269 6669 6162 6c65 4372  als#VerifiableCr
+000059b0: 6564 656e 7469 616c 220a 2020 2020 2020  edential".      
+000059c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000059d0: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
+000059e0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+000059f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00005a00: 636f 6e73 7472 6169 6e74 7322 3a20 7b0a  constraints": {.
+00005a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a20: 2020 2020 2020 2020 226c 696d 6974 5f64          "limit_d
+00005a30: 6973 636c 6f73 7572 6522 3a20 2272 6571  isclosure": "req
+00005a40: 7569 7265 6422 2c0a 2020 2020 2020 2020  uired",.        
+00005a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a60: 2266 6965 6c64 7322 3a20 5b0a 2020 2020  "fields": [.    
+00005a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005a80: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
+00005a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005aa0: 2020 2020 2020 2020 2020 2270 6174 6822            "path"
+00005ab0: 3a20 5b22 242e 6372 6564 656e 7469 616c  : ["$.credential
+00005ac0: 5375 626a 6563 742e 6769 7665 6e4e 616d  Subject.givenNam
+00005ad0: 6522 5d2c 0a20 2020 2020 2020 2020 2020  e"],.           
+00005ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005af0: 2020 2020 2022 7075 7270 6f73 6522 3a20       "purpose": 
+00005b00: 2254 6865 2063 6c61 696d 206d 7573 7420  "The claim must 
+00005b10: 6265 2066 726f 6d20 6f6e 6520 6f66 2074  be from one of t
+00005b20: 6865 2073 7065 6369 6669 6564 2069 7373  he specified iss
+00005b30: 7565 7273 222c 0a20 2020 2020 2020 2020  uers",.         
+00005b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005b50: 2020 2020 2020 2022 6669 6c74 6572 223a         "filter":
+00005b60: 207b 2274 7970 6522 3a20 2273 7472 696e   {"type": "strin
+00005b70: 6722 2c20 2265 6e75 6d22 3a20 5b22 4a4f  g", "enum": ["JO
+00005b80: 484e 222c 2022 4341 4922 5d7d 2c0a 2020  HN", "CAI"]},.  
 00005b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005ba0: 7375 626a 6563 745f 6964 733d 5b0a 2020  subject_ids=[.  
+00005ba0: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
 00005bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005bc0: 2020 2264 6964 3a73 6f76 3a57 6757 7871    "did:sov:WgWxq
-00005bd0: 7a74 724e 6f6f 4739 3252 5876 7853 5457  ztrNooG92RXvxSTW
-00005be0: 7622 2c0a 2020 2020 2020 2020 2020 2020  v",.            
-00005bf0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-00005c00: 2020 2020 2020 2070 726f 6f66 5f74 7970         proof_typ
-00005c10: 6573 3d5b 2245 6432 3535 3139 5369 676e  es=["Ed25519Sign
-00005c20: 6174 7572 6532 3031 3822 5d2c 0a20 2020  ature2018"],.   
-00005c30: 2020 2020 2020 2020 2020 2020 2073 6368               sch
-00005c40: 656d 615f 6964 733d 5b22 6874 7470 733a  ema_ids=["https:
-00005c50: 2f2f 6578 616d 706c 652e 6f72 672f 6578  //example.org/ex
-00005c60: 616d 706c 6573 2f64 6567 7265 652e 6a73  amples/degree.js
-00005c70: 6f6e 225d 2c0a 2020 2020 2020 2020 2020  on"],.          
-00005c80: 2020 2020 2020 6372 6564 5f76 616c 7565        cred_value
-00005c90: 3d7b 222e 2e2e 222c 2022 2e2e 2e22 7d2c  ={"...", "..."},
-00005ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005cb0: 2067 6976 656e 5f69 643d 2268 7474 703a   given_id="http:
-00005cc0: 2f2f 6578 616d 706c 652e 6564 752f 6372  //example.edu/cr
-00005cd0: 6564 656e 7469 616c 732f 3337 3332 222c  edentials/3732",
-00005ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005cf0: 2063 7265 645f 7461 6773 3d7b 2273 6f6d   cred_tags={"som
-00005d00: 6522 3a20 2274 6167 227d 2c0a 2020 2020  e": "tag"},.    
-00005d10: 2020 2020 2020 2020 2020 2020 7265 636f              reco
-00005d20: 7264 5f69 643d 2274 6573 7431 222c 0a20  rd_id="test1",. 
-00005d30: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-00005d40: 2020 2020 205d 0a20 2020 2020 2020 2064       ].        d
-00005d50: 6966 5f70 7265 735f 7265 7175 6573 7420  if_pres_request 
-00005d60: 3d20 5632 3050 7265 7352 6571 7565 7374  = V20PresRequest
-00005d70: 280a 2020 2020 2020 2020 2020 2020 666f  (.            fo
-00005d80: 726d 6174 733d 5b0a 2020 2020 2020 2020  rmats=[.        
-00005d90: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
-00005da0: 6f72 6d61 7428 0a20 2020 2020 2020 2020  ormat(.         
-00005db0: 2020 2020 2020 2020 2020 2061 7474 6163             attac
-00005dc0: 685f 6964 3d22 6469 6622 2c0a 2020 2020  h_id="dif",.    
-00005dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005de0: 666f 726d 6174 5f3d 4154 5441 4348 4d45  format_=ATTACHME
-00005df0: 4e54 5f46 4f52 4d41 545b 5052 4553 5f32  NT_FORMAT[PRES_2
-00005e00: 305f 5245 5155 4553 545d 5b0a 2020 2020  0_REQUEST][.    
-00005e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005e20: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
-00005e30: 742e 466f 726d 6174 2e44 4946 2e61 7069  t.Format.DIF.api
-00005e40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005e50: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-00005e60: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00005e70: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00005e80: 2020 2020 2072 6571 7565 7374 5f70 7265       request_pre
-00005e90: 7365 6e74 6174 696f 6e73 5f61 7474 6163  sentations_attac
-00005ea0: 683d 5b0a 2020 2020 2020 2020 2020 2020  h=[.            
-00005eb0: 2020 2020 4174 7461 6368 4465 636f 7261      AttachDecora
-00005ec0: 746f 722e 6461 7461 5f6a 736f 6e28 4449  tor.data_json(DI
-00005ed0: 465f 5052 4553 5f52 4551 5545 5354 5f42  F_PRES_REQUEST_B
-00005ee0: 2c20 6964 656e 743d 2264 6966 2229 0a20  , ident="dif"). 
-00005ef0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00005f00: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00005f10: 7265 636f 7264 203d 2056 3230 5072 6573  record = V20Pres
-00005f20: 4578 5265 636f 7264 280a 2020 2020 2020  ExRecord(.      
-00005f30: 2020 2020 2020 7072 6573 5f65 785f 6964        pres_ex_id
-00005f40: 3d22 7078 6964 222c 0a20 2020 2020 2020  ="pxid",.       
-00005f50: 2020 2020 2074 6872 6561 645f 6964 3d22       thread_id="
-00005f60: 7468 6964 222c 0a20 2020 2020 2020 2020  thid",.         
-00005f70: 2020 2063 6f6e 6e65 6374 696f 6e5f 6964     connection_id
-00005f80: 3d22 636f 6e6e 5f69 6422 2c0a 2020 2020  ="conn_id",.    
-00005f90: 2020 2020 2020 2020 696e 6974 6961 746f          initiato
-00005fa0: 723d 2269 6e69 7422 2c0a 2020 2020 2020  r="init",.      
-00005fb0: 2020 2020 2020 726f 6c65 3d22 726f 6c65        role="role
-00005fc0: 222c 0a20 2020 2020 2020 2020 2020 2073  ",.            s
-00005fd0: 7461 7465 3d22 7374 6174 6522 2c0a 2020  tate="state",.  
-00005fe0: 2020 2020 2020 2020 2020 7072 6573 5f72            pres_r
-00005ff0: 6571 7565 7374 3d64 6966 5f70 7265 735f  equest=dif_pres_
-00006000: 7265 7175 6573 742c 0a20 2020 2020 2020  request,.       
-00006010: 2020 2020 2076 6572 6966 6965 643d 2266       verified="f
-00006020: 616c 7365 222c 0a20 2020 2020 2020 2020  alse",.         
-00006030: 2020 2061 7574 6f5f 7072 6573 656e 743d     auto_present=
-00006040: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
-00006050: 2020 6572 726f 725f 6d73 673d 2265 7272    error_msg="err
-00006060: 6f72 222c 0a20 2020 2020 2020 2029 0a20  or",.        ). 
-00006070: 2020 2020 2020 2072 6571 7565 7374 5f64         request_d
-00006080: 6174 6120 3d20 7b7d 0a20 2020 2020 2020  ata = {}.       
-00006090: 2072 6571 7565 7374 5f64 6174 615b 2264   request_data["d
-000060a0: 6966 225d 203d 2064 6966 5f70 7265 735f  if"] = dif_pres_
-000060b0: 7370 6563 0a0a 2020 2020 2020 2020 7365  spec..        se
-000060c0: 6c66 2e63 6f6e 7465 7874 2e69 6e6a 6563  lf.context.injec
-000060d0: 746f 722e 6269 6e64 5f69 6e73 7461 6e63  tor.bind_instanc
-000060e0: 6528 0a20 2020 2020 2020 2020 2020 2056  e(.            V
-000060f0: 4348 6f6c 6465 722c 0a20 2020 2020 2020  CHolder,.       
-00006100: 2020 2020 2061 7379 6e63 5f6d 6f63 6b2e       async_mock.
-00006110: 4d61 6769 634d 6f63 6b28 0a20 2020 2020  MagicMock(.     
-00006120: 2020 2020 2020 2020 2020 2073 6561 7263             searc
-00006130: 685f 6372 6564 656e 7469 616c 733d 6173  h_credentials=as
-00006140: 796e 635f 6d6f 636b 2e4d 6167 6963 4d6f  ync_mock.MagicMo
-00006150: 636b 280a 2020 2020 2020 2020 2020 2020  ck(.            
-00006160: 2020 2020 2020 2020 7265 7475 726e 5f76          return_v
-00006170: 616c 7565 3d61 7379 6e63 5f6d 6f63 6b2e  alue=async_mock.
-00006180: 4d61 6769 634d 6f63 6b28 0a20 2020 2020  MagicMock(.     
-00006190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000061a0: 2020 2066 6574 6368 3d61 7379 6e63 5f6d     fetch=async_m
-000061b0: 6f63 6b2e 436f 726f 7574 696e 654d 6f63  ock.CoroutineMoc
-000061c0: 6b28 7265 7475 726e 5f76 616c 7565 3d63  k(return_value=c
-000061d0: 7265 645f 6c69 7374 290a 2020 2020 2020  red_list).      
-000061e0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-000061f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006200: 290a 2020 2020 2020 2020 2020 2020 292c  ).            ),
-00006210: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-00006220: 2020 2020 7769 7468 2061 7379 6e63 5f6d      with async_m
-00006230: 6f63 6b2e 7061 7463 682e 6f62 6a65 6374  ock.patch.object
-00006240: 280a 2020 2020 2020 2020 2020 2020 4449  (.            DI
-00006250: 4650 7265 7345 7863 6848 616e 646c 6572  FPresExchHandler
-00006260: 2c0a 2020 2020 2020 2020 2020 2020 2263  ,.            "c
-00006270: 7265 6174 655f 7670 222c 0a20 2020 2020  reate_vp",.     
-00006280: 2020 2020 2020 2061 7379 6e63 5f6d 6f63         async_moc
-00006290: 6b2e 436f 726f 7574 696e 654d 6f63 6b28  k.CoroutineMock(
-000062a0: 292c 0a20 2020 2020 2020 2029 2061 7320  ),.        ) as 
-000062b0: 6d6f 636b 5f63 7265 6174 655f 7670 3a0a  mock_create_vp:.
-000062c0: 2020 2020 2020 2020 2020 2020 6d6f 636b              mock
-000062d0: 5f63 7265 6174 655f 7670 2e72 6574 7572  _create_vp.retur
-000062e0: 6e5f 7661 6c75 6520 3d20 4449 465f 5052  n_value = DIF_PR
-000062f0: 4553 0a20 2020 2020 2020 2020 2020 206f  ES.            o
-00006300: 7574 7075 7420 3d20 6177 6169 7420 7365  utput = await se
-00006310: 6c66 2e68 616e 646c 6572 2e63 7265 6174  lf.handler.creat
-00006320: 655f 7072 6573 2872 6563 6f72 642c 2072  e_pres(record, r
-00006330: 6571 7565 7374 5f64 6174 6129 0a20 2020  equest_data).   
-00006340: 2020 2020 2020 2020 2061 7373 6572 7420           assert 
-00006350: 6973 696e 7374 616e 6365 286f 7574 7075  isinstance(outpu
-00006360: 745b 305d 2c20 5632 3050 7265 7346 6f72  t[0], V20PresFor
-00006370: 6d61 7429 2061 6e64 2069 7369 6e73 7461  mat) and isinsta
-00006380: 6e63 6528 0a20 2020 2020 2020 2020 2020  nce(.           
-00006390: 2020 2020 206f 7574 7075 745b 315d 2c20       output[1], 
-000063a0: 4174 7461 6368 4465 636f 7261 746f 720a  AttachDecorator.
-000063b0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000063c0: 2020 2020 2020 2020 2020 6173 7365 7274            assert
-000063d0: 206f 7574 7075 745b 315d 2e64 6174 612e   output[1].data.
-000063e0: 6a73 6f6e 5f20 3d3d 2044 4946 5f50 5245  json_ == DIF_PRE
-000063f0: 530a 0a20 2020 2061 7379 6e63 2064 6566  S..    async def
-00006400: 2074 6573 745f 6372 6561 7465 5f70 7265   test_create_pre
-00006410: 735f 7072 6f76 6572 5f70 726f 6f66 5f73  s_prover_proof_s
-00006420: 7065 635f 7769 7468 5f72 6576 6561 6c5f  pec_with_reveal_
-00006430: 646f 6328 7365 6c66 293a 0a20 2020 2020  doc(self):.     
-00006440: 2020 2064 6966 5f70 7265 735f 7370 6563     dif_pres_spec
-00006450: 203d 2064 6565 7063 6f70 7928 4449 465f   = deepcopy(DIF_
-00006460: 5052 4553 5f52 4551 5545 5354 5f41 290a  PRES_REQUEST_A).
-00006470: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-00006480: 5f73 7065 635b 2269 7373 7565 725f 6964  _spec["issuer_id
-00006490: 225d 203d 2022 7465 7374 3132 3322 0a20  "] = "test123". 
-000064a0: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
-000064b0: 7370 6563 5b22 7265 7665 616c 5f64 6f63  spec["reveal_doc
-000064c0: 225d 203d 207b 0a20 2020 2020 2020 2020  "] = {.         
-000064d0: 2020 2022 4063 6f6e 7465 7874 223a 205b     "@context": [
-000064e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000064f0: 2022 6874 7470 733a 2f2f 7777 772e 7733   "https://www.w3
-00006500: 2e6f 7267 2f32 3031 382f 6372 6564 656e  .org/2018/creden
-00006510: 7469 616c 732f 7631 222c 0a20 2020 2020  tials/v1",.     
-00006520: 2020 2020 2020 2020 2020 2022 6874 7470             "http
-00006530: 733a 2f2f 7733 6964 2e6f 7267 2f73 6563  s://w3id.org/sec
-00006540: 7572 6974 792f 6262 732f 7631 222c 0a20  urity/bbs/v1",. 
-00006550: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00006560: 2020 2020 2020 2020 2020 2274 7970 6522            "type"
-00006570: 3a20 5b22 5665 7269 6669 6162 6c65 4372  : ["VerifiableCr
-00006580: 6564 656e 7469 616c 222c 2022 4c61 6252  edential", "LabR
-00006590: 6570 6f72 7422 5d2c 0a20 2020 2020 2020  eport"],.       
-000065a0: 2020 2020 2022 4065 7870 6c69 6369 7422       "@explicit"
-000065b0: 3a20 5472 7565 2c0a 2020 2020 2020 2020  : True,.        
-000065c0: 2020 2020 2240 7265 7175 6972 6541 6c6c      "@requireAll
-000065d0: 223a 2054 7275 652c 0a20 2020 2020 2020  ": True,.       
-000065e0: 2020 2020 2022 6973 7375 616e 6365 4461       "issuanceDa
-000065f0: 7465 223a 207b 7d2c 0a20 2020 2020 2020  te": {},.       
-00006600: 2020 2020 2022 6973 7375 6572 223a 207b       "issuer": {
-00006610: 7d2c 0a20 2020 2020 2020 2020 2020 2022  },.            "
-00006620: 6372 6564 656e 7469 616c 5375 626a 6563  credentialSubjec
-00006630: 7422 3a20 7b0a 2020 2020 2020 2020 2020  t": {.          
-00006640: 2020 2020 2020 224f 6273 6572 7661 7469        "Observati
-00006650: 6f6e 223a 205b 0a20 2020 2020 2020 2020  on": [.         
-00006660: 2020 2020 2020 2020 2020 207b 2265 6666             {"eff
-00006670: 6563 7469 7665 4461 7465 5469 6d65 223a  ectiveDateTime":
-00006680: 207b 7d2c 2022 4065 7870 6c69 6369 7422   {}, "@explicit"
-00006690: 3a20 5472 7565 2c20 2240 7265 7175 6972  : True, "@requir
-000066a0: 6541 6c6c 223a 2054 7275 657d 0a20 2020  eAll": True}.   
-000066b0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
+00005bc0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+00005bd0: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+00005be0: 2020 2020 2020 2020 2020 2020 2020 7d0a                }.
+00005bf0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+00005c00: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+00005c10: 2064 6966 5f70 7265 735f 7072 6f70 6f73   dif_pres_propos
+00005c20: 616c 203d 2056 3230 5072 6573 5072 6f70  al = V20PresProp
+00005c30: 6f73 616c 280a 2020 2020 2020 2020 2020  osal(.          
+00005c40: 2020 666f 726d 6174 733d 5b0a 2020 2020    formats=[.    
+00005c50: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
+00005c60: 7265 7346 6f72 6d61 7428 0a20 2020 2020  resFormat(.     
+00005c70: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00005c80: 7474 6163 685f 6964 3d22 6469 6622 2c0a  ttach_id="dif",.
+00005c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005ca0: 2020 2020 666f 726d 6174 5f3d 4154 5441      format_=ATTA
+00005cb0: 4348 4d45 4e54 5f46 4f52 4d41 545b 5052  CHMENT_FORMAT[PR
+00005cc0: 4553 5f32 305f 5052 4f50 4f53 414c 5d5b  ES_20_PROPOSAL][
+00005cd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005ce0: 2020 2020 2020 2020 2056 3230 5072 6573           V20Pres
+00005cf0: 466f 726d 6174 2e46 6f72 6d61 742e 4449  Format.Format.DI
+00005d00: 462e 6170 690a 2020 2020 2020 2020 2020  F.api.          
+00005d10: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00005d20: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+00005d30: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
+00005d40: 2020 2020 2020 2020 2020 7072 6f70 6f73            propos
+00005d50: 616c 735f 6174 7461 6368 3d5b 0a20 2020  als_attach=[.   
+00005d60: 2020 2020 2020 2020 2020 2020 2041 7474               Att
+00005d70: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
+00005d80: 615f 6a73 6f6e 2864 6966 5f70 726f 706f  a_json(dif_propo
+00005d90: 7361 6c5f 6469 6374 2c20 6964 656e 743d  sal_dict, ident=
+00005da0: 2264 6966 2229 0a20 2020 2020 2020 2020  "dif").         
+00005db0: 2020 205d 2c0a 2020 2020 2020 2020 290a     ],.        ).
+00005dc0: 2020 2020 2020 2020 7265 636f 7264 203d          record =
+00005dd0: 2056 3230 5072 6573 4578 5265 636f 7264   V20PresExRecord
+00005de0: 280a 2020 2020 2020 2020 2020 2020 7072  (.            pr
+00005df0: 6573 5f65 785f 6964 3d22 7078 6964 222c  es_ex_id="pxid",
+00005e00: 0a20 2020 2020 2020 2020 2020 2074 6872  .            thr
+00005e10: 6561 645f 6964 3d22 7468 6964 222c 0a20  ead_id="thid",. 
+00005e20: 2020 2020 2020 2020 2020 2063 6f6e 6e65             conne
+00005e30: 6374 696f 6e5f 6964 3d22 636f 6e6e 5f69  ction_id="conn_i
+00005e40: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+00005e50: 696e 6974 6961 746f 723d 2269 6e69 7422  initiator="init"
+00005e60: 2c0a 2020 2020 2020 2020 2020 2020 726f  ,.            ro
+00005e70: 6c65 3d22 726f 6c65 222c 0a20 2020 2020  le="role",.     
+00005e80: 2020 2020 2020 2073 7461 7465 3d22 7374         state="st
+00005e90: 6174 6522 2c0a 2020 2020 2020 2020 2020  ate",.          
+00005ea0: 2020 7072 6573 5f70 726f 706f 7361 6c3d    pres_proposal=
+00005eb0: 6469 665f 7072 6573 5f70 726f 706f 7361  dif_pres_proposa
+00005ec0: 6c2c 0a20 2020 2020 2020 2020 2020 2076  l,.            v
+00005ed0: 6572 6966 6965 643d 2266 616c 7365 222c  erified="false",
+00005ee0: 0a20 2020 2020 2020 2020 2020 2061 7574  .            aut
+00005ef0: 6f5f 7072 6573 656e 743d 5472 7565 2c0a  o_present=True,.
+00005f00: 2020 2020 2020 2020 2020 2020 6572 726f              erro
+00005f10: 725f 6d73 673d 2265 7272 6f72 222c 0a20  r_msg="error",. 
+00005f20: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00005f30: 206f 7574 7075 7420 3d20 6177 6169 7420   output = await 
+00005f40: 7365 6c66 2e68 616e 646c 6572 2e63 7265  self.handler.cre
+00005f50: 6174 655f 626f 756e 645f 7265 7175 6573  ate_bound_reques
+00005f60: 7428 7072 6573 5f65 785f 7265 636f 7264  t(pres_ex_record
+00005f70: 3d72 6563 6f72 6429 0a20 2020 2020 2020  =record).       
+00005f80: 2061 7373 6572 7420 6973 696e 7374 616e   assert isinstan
+00005f90: 6365 286f 7574 7075 745b 305d 2c20 5632  ce(output[0], V2
+00005fa0: 3050 7265 7346 6f72 6d61 7429 2061 6e64  0PresFormat) and
+00005fb0: 2069 7369 6e73 7461 6e63 6528 0a20 2020   isinstance(.   
+00005fc0: 2020 2020 2020 2020 206f 7574 7075 745b           output[
+00005fd0: 315d 2c20 4174 7461 6368 4465 636f 7261  1], AttachDecora
+00005fe0: 746f 720a 2020 2020 2020 2020 290a 0a20  tor.        ).. 
+00005ff0: 2020 2061 7379 6e63 2064 6566 2074 6573     async def tes
+00006000: 745f 6372 6561 7465 5f70 7265 7328 7365  t_create_pres(se
+00006010: 6c66 293a 0a20 2020 2020 2020 2064 6966  lf):.        dif
+00006020: 5f70 7265 735f 7265 7175 6573 7420 3d20  _pres_request = 
+00006030: 5632 3050 7265 7352 6571 7565 7374 280a  V20PresRequest(.
+00006040: 2020 2020 2020 2020 2020 2020 666f 726d              form
+00006050: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
+00006060: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+00006070: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+00006080: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
+00006090: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
+000060a0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+000060b0: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
+000060c0: 5f46 4f52 4d41 545b 5052 4553 5f32 305f  _FORMAT[PRES_20_
+000060d0: 5245 5155 4553 545d 5b0a 2020 2020 2020  REQUEST][.      
+000060e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000060f0: 2020 5632 3050 7265 7346 6f72 6d61 742e    V20PresFormat.
+00006100: 466f 726d 6174 2e44 4946 2e61 7069 0a20  Format.DIF.api. 
+00006110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006120: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+00006130: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00006140: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+00006150: 2020 2072 6571 7565 7374 5f70 7265 7365     request_prese
+00006160: 6e74 6174 696f 6e73 5f61 7474 6163 683d  ntations_attach=
+00006170: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+00006180: 2020 4174 7461 6368 4465 636f 7261 746f    AttachDecorato
+00006190: 722e 6461 7461 5f6a 736f 6e28 4449 465f  r.data_json(DIF_
+000061a0: 5052 4553 5f52 4551 5545 5354 5f42 2c20  PRES_REQUEST_B, 
+000061b0: 6964 656e 743d 2264 6966 2229 0a20 2020  ident="dif").   
+000061c0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+000061d0: 2020 2020 290a 2020 2020 2020 2020 7265      ).        re
+000061e0: 636f 7264 203d 2056 3230 5072 6573 4578  cord = V20PresEx
+000061f0: 5265 636f 7264 280a 2020 2020 2020 2020  Record(.        
+00006200: 2020 2020 7072 6573 5f65 785f 6964 3d22      pres_ex_id="
+00006210: 7078 6964 222c 0a20 2020 2020 2020 2020  pxid",.         
+00006220: 2020 2074 6872 6561 645f 6964 3d22 7468     thread_id="th
+00006230: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00006240: 2063 6f6e 6e65 6374 696f 6e5f 6964 3d22   connection_id="
+00006250: 636f 6e6e 5f69 6422 2c0a 2020 2020 2020  conn_id",.      
+00006260: 2020 2020 2020 696e 6974 6961 746f 723d        initiator=
+00006270: 2269 6e69 7422 2c0a 2020 2020 2020 2020  "init",.        
+00006280: 2020 2020 726f 6c65 3d22 726f 6c65 222c      role="role",
+00006290: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+000062a0: 7465 3d22 7374 6174 6522 2c0a 2020 2020  te="state",.    
+000062b0: 2020 2020 2020 2020 7072 6573 5f72 6571          pres_req
+000062c0: 7565 7374 3d64 6966 5f70 7265 735f 7265  uest=dif_pres_re
+000062d0: 7175 6573 742c 0a20 2020 2020 2020 2020  quest,.         
+000062e0: 2020 2076 6572 6966 6965 643d 2266 616c     verified="fal
+000062f0: 7365 222c 0a20 2020 2020 2020 2020 2020  se",.           
+00006300: 2061 7574 6f5f 7072 6573 656e 743d 5472   auto_present=Tr
+00006310: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
+00006320: 6572 726f 725f 6d73 673d 2265 7272 6f72  error_msg="error
+00006330: 222c 0a20 2020 2020 2020 2029 0a0a 2020  ",.        )..  
+00006340: 2020 2020 2020 7769 7468 2061 7379 6e63        with async
+00006350: 5f6d 6f63 6b2e 7061 7463 682e 6f62 6a65  _mock.patch.obje
+00006360: 6374 280a 2020 2020 2020 2020 2020 2020  ct(.            
+00006370: 4449 4650 7265 7345 7863 6848 616e 646c  DIFPresExchHandl
+00006380: 6572 2c0a 2020 2020 2020 2020 2020 2020  er,.            
+00006390: 2263 7265 6174 655f 7670 222c 0a20 2020  "create_vp",.   
+000063a0: 2020 2020 2020 2020 2061 7379 6e63 5f6d           async_m
+000063b0: 6f63 6b2e 436f 726f 7574 696e 654d 6f63  ock.CoroutineMoc
+000063c0: 6b28 292c 0a20 2020 2020 2020 2029 2061  k(),.        ) a
+000063d0: 7320 6d6f 636b 5f63 7265 6174 655f 7670  s mock_create_vp
+000063e0: 3a0a 2020 2020 2020 2020 2020 2020 6d6f  :.            mo
+000063f0: 636b 5f63 7265 6174 655f 7670 2e72 6574  ck_create_vp.ret
+00006400: 7572 6e5f 7661 6c75 6520 3d20 4449 465f  urn_value = DIF_
+00006410: 5052 4553 0a20 2020 2020 2020 2020 2020  PRES.           
+00006420: 206f 7574 7075 7420 3d20 6177 6169 7420   output = await 
+00006430: 7365 6c66 2e68 616e 646c 6572 2e63 7265  self.handler.cre
+00006440: 6174 655f 7072 6573 2872 6563 6f72 642c  ate_pres(record,
+00006450: 207b 7d29 0a20 2020 2020 2020 2020 2020   {}).           
+00006460: 2061 7373 6572 7420 6973 696e 7374 616e   assert isinstan
+00006470: 6365 286f 7574 7075 745b 305d 2c20 5632  ce(output[0], V2
+00006480: 3050 7265 7346 6f72 6d61 7429 2061 6e64  0PresFormat) and
+00006490: 2069 7369 6e73 7461 6e63 6528 0a20 2020   isinstance(.   
+000064a0: 2020 2020 2020 2020 2020 2020 206f 7574               out
+000064b0: 7075 745b 315d 2c20 4174 7461 6368 4465  put[1], AttachDe
+000064c0: 636f 7261 746f 720a 2020 2020 2020 2020  corator.        
+000064d0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+000064e0: 2020 6173 7365 7274 206f 7574 7075 745b    assert output[
+000064f0: 315d 2e64 6174 612e 6a73 6f6e 5f20 3d3d  1].data.json_ ==
+00006500: 2044 4946 5f50 5245 530a 0a20 2020 2061   DIF_PRES..    a
+00006510: 7379 6e63 2064 6566 2074 6573 745f 6372  sync def test_cr
+00006520: 6561 7465 5f70 7265 735f 7064 5f73 6368  eate_pres_pd_sch
+00006530: 656d 615f 7572 6928 7365 6c66 293a 0a20  ema_uri(self):. 
+00006540: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
+00006550: 7265 7120 3d20 6465 6570 636f 7079 2844  req = deepcopy(D
+00006560: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
+00006570: 4229 0a20 2020 2020 2020 2064 6966 5f70  B).        dif_p
+00006580: 7265 735f 7265 715b 2270 7265 7365 6e74  res_req["present
+00006590: 6174 696f 6e5f 6465 6669 6e69 7469 6f6e  ation_definition
+000065a0: 225d 5b22 696e 7075 745f 6465 7363 7269  "]["input_descri
+000065b0: 7074 6f72 7322 5d5b 305d 5b22 7363 6865  ptors"][0]["sche
+000065c0: 6d61 225d 5b30 5d5b 0a20 2020 2020 2020  ma"][0][.       
+000065d0: 2020 2020 2022 7572 6922 0a20 2020 2020       "uri".     
+000065e0: 2020 205d 203d 2022 7465 7374 2e6a 736f     ] = "test.jso
+000065f0: 6e22 0a20 2020 2020 2020 2064 6966 5f70  n".        dif_p
+00006600: 7265 735f 7265 7175 6573 7420 3d20 5632  res_request = V2
+00006610: 3050 7265 7352 6571 7565 7374 280a 2020  0PresRequest(.  
+00006620: 2020 2020 2020 2020 2020 666f 726d 6174            format
+00006630: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+00006640: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
+00006650: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+00006660: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
+00006670: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
+00006680: 2020 2020 2020 2020 2020 2020 666f 726d              form
+00006690: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
+000066a0: 4f52 4d41 545b 5052 4553 5f32 305f 5245  ORMAT[PRES_20_RE
+000066b0: 5155 4553 545d 5b0a 2020 2020 2020 2020  QUEST][.        
 000066c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000066d0: 2240 6578 706c 6963 6974 223a 2054 7275  "@explicit": Tru
-000066e0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-000066f0: 2020 2022 4072 6571 7569 7265 416c 6c22     "@requireAll"
-00006700: 3a20 5472 7565 2c0a 2020 2020 2020 2020  : True,.        
-00006710: 2020 2020 7d2c 0a20 2020 2020 2020 207d      },.        }
-00006720: 0a20 2020 2020 2020 2063 7265 645f 6c69  .        cred_li
-00006730: 7374 203d 205b 0a20 2020 2020 2020 2020  st = [.         
-00006740: 2020 2056 4352 6563 6f72 6428 0a20 2020     VCRecord(.   
-00006750: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
-00006760: 7465 7874 733d 5b0a 2020 2020 2020 2020  texts=[.        
-00006770: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
-00006780: 7073 3a2f 2f77 7777 2e77 332e 6f72 672f  ps://www.w3.org/
-00006790: 3230 3138 2f63 7265 6465 6e74 6961 6c73  2018/credentials
-000067a0: 2f76 3122 2c0a 2020 2020 2020 2020 2020  /v1",.          
-000067b0: 2020 2020 2020 2020 2020 2268 7474 7073            "https
-000067c0: 3a2f 2f77 7777 2e77 332e 6f72 672f 3230  ://www.w3.org/20
-000067d0: 3138 2f63 7265 6465 6e74 6961 6c73 2f65  18/credentials/e
-000067e0: 7861 6d70 6c65 732f 7631 222c 0a20 2020  xamples/v1",.   
-000067f0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
-00006800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006810: 6578 7061 6e64 6564 5f74 7970 6573 3d5b  expanded_types=[
-00006820: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006830: 2020 2020 2022 6874 7470 733a 2f2f 7777       "https://ww
-00006840: 772e 7733 2e6f 7267 2f32 3031 382f 6372  w.w3.org/2018/cr
-00006850: 6564 656e 7469 616c 7323 5665 7269 6669  edentials#Verifi
-00006860: 6162 6c65 4372 6564 656e 7469 616c 222c  ableCredential",
-00006870: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006880: 2020 2020 2022 6874 7470 733a 2f2f 6578       "https://ex
-00006890: 616d 706c 652e 6f72 672f 6578 616d 706c  ample.org/exampl
-000068a0: 6573 2355 6e69 7665 7273 6974 7944 6567  es#UniversityDeg
-000068b0: 7265 6543 7265 6465 6e74 6961 6c22 2c0a  reeCredential",.
-000068c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000068d0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-000068e0: 2020 2069 7373 7565 725f 6964 3d22 6469     issuer_id="di
-000068f0: 643a 6578 616d 706c 653a 3438 3933 3938  d:example:489398
-00006900: 3539 3322 2c0a 2020 2020 2020 2020 2020  593",.          
-00006910: 2020 2020 2020 7375 626a 6563 745f 6964        subject_id
-00006920: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-00006930: 2020 2020 2020 2020 2264 6964 3a73 6f76          "did:sov
-00006940: 3a57 6757 7871 7a74 724e 6f6f 4739 3252  :WgWxqztrNooG92R
-00006950: 5876 7853 5457 7622 2c0a 2020 2020 2020  XvxSTWv",.      
-00006960: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-00006970: 2020 2020 2020 2020 2020 2020 2070 726f               pro
-00006980: 6f66 5f74 7970 6573 3d5b 2245 6432 3535  of_types=["Ed255
-00006990: 3139 5369 676e 6174 7572 6532 3031 3822  19Signature2018"
-000069a0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-000069b0: 2020 2073 6368 656d 615f 6964 733d 5b22     schema_ids=["
-000069c0: 6874 7470 733a 2f2f 6578 616d 706c 652e  https://example.
-000069d0: 6f72 672f 6578 616d 706c 6573 2f64 6567  org/examples/deg
-000069e0: 7265 652e 6a73 6f6e 225d 2c0a 2020 2020  ree.json"],.    
-000069f0: 2020 2020 2020 2020 2020 2020 6372 6564              cred
-00006a00: 5f76 616c 7565 3d7b 222e 2e2e 222c 2022  _value={"...", "
-00006a10: 2e2e 2e22 7d2c 0a20 2020 2020 2020 2020  ..."},.         
-00006a20: 2020 2020 2020 2067 6976 656e 5f69 643d         given_id=
-00006a30: 2268 7474 703a 2f2f 6578 616d 706c 652e  "http://example.
-00006a40: 6564 752f 6372 6564 656e 7469 616c 732f  edu/credentials/
-00006a50: 3337 3332 222c 0a20 2020 2020 2020 2020  3732",.         
-00006a60: 2020 2020 2020 2063 7265 645f 7461 6773         cred_tags
-00006a70: 3d7b 2273 6f6d 6522 3a20 2274 6167 227d  ={"some": "tag"}
-00006a80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00006a90: 2020 7265 636f 7264 5f69 643d 2274 6573    record_id="tes
-00006aa0: 7431 222c 0a20 2020 2020 2020 2020 2020  t1",.           
-00006ab0: 2029 0a20 2020 2020 2020 205d 0a20 2020   ).        ].   
-00006ac0: 2020 2020 2064 6966 5f70 7265 735f 7265       dif_pres_re
-00006ad0: 7175 6573 7420 3d20 5632 3050 7265 7352  quest = V20PresR
-00006ae0: 6571 7565 7374 280a 2020 2020 2020 2020  equest(.        
-00006af0: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
-00006b00: 2020 2020 2020 2020 2020 2020 2020 5632                V2
-00006b10: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
-00006b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006b30: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
-00006b40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00006b50: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
-00006b60: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
-00006b70: 5052 4553 5f32 305f 5245 5155 4553 545d  PRES_20_REQUEST]
-00006b80: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00006b90: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
-00006ba0: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
-00006bb0: 4946 2e61 7069 0a20 2020 2020 2020 2020  IF.api.         
-00006bc0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00006bd0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-00006be0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00006bf0: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-00006c00: 7374 5f70 7265 7365 6e74 6174 696f 6e73  st_presentations
-00006c10: 5f61 7474 6163 683d 5b0a 2020 2020 2020  _attach=[.      
-00006c20: 2020 2020 2020 2020 2020 4174 7461 6368            Attach
-00006c30: 4465 636f 7261 746f 722e 6461 7461 5f6a  Decorator.data_j
-00006c40: 736f 6e28 4449 465f 5052 4553 5f52 4551  son(DIF_PRES_REQ
-00006c50: 5545 5354 5f42 2c20 6964 656e 743d 2264  UEST_B, ident="d
-00006c60: 6966 2229 0a20 2020 2020 2020 2020 2020  if").           
-00006c70: 205d 2c0a 2020 2020 2020 2020 290a 2020   ],.        ).  
-00006c80: 2020 2020 2020 7265 636f 7264 203d 2056        record = V
-00006c90: 3230 5072 6573 4578 5265 636f 7264 280a  20PresExRecord(.
-00006ca0: 2020 2020 2020 2020 2020 2020 7072 6573              pres
-00006cb0: 5f65 785f 6964 3d22 7078 6964 222c 0a20  _ex_id="pxid",. 
-00006cc0: 2020 2020 2020 2020 2020 2074 6872 6561             threa
-00006cd0: 645f 6964 3d22 7468 6964 222c 0a20 2020  d_id="thid",.   
-00006ce0: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
-00006cf0: 696f 6e5f 6964 3d22 636f 6e6e 5f69 6422  ion_id="conn_id"
-00006d00: 2c0a 2020 2020 2020 2020 2020 2020 696e  ,.            in
-00006d10: 6974 6961 746f 723d 2269 6e69 7422 2c0a  itiator="init",.
-00006d20: 2020 2020 2020 2020 2020 2020 726f 6c65              role
-00006d30: 3d22 726f 6c65 222c 0a20 2020 2020 2020  ="role",.       
-00006d40: 2020 2020 2073 7461 7465 3d22 7374 6174       state="stat
-00006d50: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00006d60: 7072 6573 5f72 6571 7565 7374 3d64 6966  pres_request=dif
-00006d70: 5f70 7265 735f 7265 7175 6573 742c 0a20  _pres_request,. 
-00006d80: 2020 2020 2020 2020 2020 2076 6572 6966             verif
-00006d90: 6965 643d 2266 616c 7365 222c 0a20 2020  ied="false",.   
-00006da0: 2020 2020 2020 2020 2061 7574 6f5f 7072           auto_pr
-00006db0: 6573 656e 743d 5472 7565 2c0a 2020 2020  esent=True,.    
-00006dc0: 2020 2020 2020 2020 6572 726f 725f 6d73          error_ms
-00006dd0: 673d 2265 7272 6f72 222c 0a20 2020 2020  g="error",.     
-00006de0: 2020 2029 0a20 2020 2020 2020 2072 6571     ).        req
-00006df0: 7565 7374 5f64 6174 6120 3d20 7b7d 0a20  uest_data = {}. 
-00006e00: 2020 2020 2020 2072 6571 7565 7374 5f64         request_d
-00006e10: 6174 615b 2264 6966 225d 203d 2064 6966  ata["dif"] = dif
-00006e20: 5f70 7265 735f 7370 6563 0a0a 2020 2020  _pres_spec..    
-00006e30: 2020 2020 7365 6c66 2e63 6f6e 7465 7874      self.context
-00006e40: 2e69 6e6a 6563 746f 722e 6269 6e64 5f69  .injector.bind_i
-00006e50: 6e73 7461 6e63 6528 0a20 2020 2020 2020  nstance(.       
-00006e60: 2020 2020 2056 4348 6f6c 6465 722c 0a20       VCHolder,. 
-00006e70: 2020 2020 2020 2020 2020 2061 7379 6e63             async
-00006e80: 5f6d 6f63 6b2e 4d61 6769 634d 6f63 6b28  _mock.MagicMock(
-00006e90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006ea0: 2073 6561 7263 685f 6372 6564 656e 7469   search_credenti
-00006eb0: 616c 733d 6173 796e 635f 6d6f 636b 2e4d  als=async_mock.M
-00006ec0: 6167 6963 4d6f 636b 280a 2020 2020 2020  agicMock(.      
-00006ed0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00006ee0: 7475 726e 5f76 616c 7565 3d61 7379 6e63  turn_value=async
-00006ef0: 5f6d 6f63 6b2e 4d61 6769 634d 6f63 6b28  _mock.MagicMock(
-00006f00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00006f10: 2020 2020 2020 2020 2066 6574 6368 3d61           fetch=a
-00006f20: 7379 6e63 5f6d 6f63 6b2e 436f 726f 7574  sync_mock.Corout
-00006f30: 696e 654d 6f63 6b28 7265 7475 726e 5f76  ineMock(return_v
-00006f40: 616c 7565 3d63 7265 645f 6c69 7374 290a  alue=cred_list).
-00006f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006f60: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-00006f70: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00006f80: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
-00006f90: 0a0a 2020 2020 2020 2020 7769 7468 2061  ..        with a
-00006fa0: 7379 6e63 5f6d 6f63 6b2e 7061 7463 682e  sync_mock.patch.
-00006fb0: 6f62 6a65 6374 280a 2020 2020 2020 2020  object(.        
-00006fc0: 2020 2020 4449 4650 7265 7345 7863 6848      DIFPresExchH
-00006fd0: 616e 646c 6572 2c0a 2020 2020 2020 2020  andler,.        
-00006fe0: 2020 2020 2263 7265 6174 655f 7670 222c      "create_vp",
-00006ff0: 0a20 2020 2020 2020 2020 2020 2061 7379  .            asy
-00007000: 6e63 5f6d 6f63 6b2e 436f 726f 7574 696e  nc_mock.Coroutin
-00007010: 654d 6f63 6b28 292c 0a20 2020 2020 2020  eMock(),.       
-00007020: 2029 2061 7320 6d6f 636b 5f63 7265 6174   ) as mock_creat
-00007030: 655f 7670 3a0a 2020 2020 2020 2020 2020  e_vp:.          
-00007040: 2020 6d6f 636b 5f63 7265 6174 655f 7670    mock_create_vp
-00007050: 2e72 6574 7572 6e5f 7661 6c75 6520 3d20  .return_value = 
-00007060: 4449 465f 5052 4553 0a20 2020 2020 2020  DIF_PRES.       
-00007070: 2020 2020 206f 7574 7075 7420 3d20 6177       output = aw
-00007080: 6169 7420 7365 6c66 2e68 616e 646c 6572  ait self.handler
-00007090: 2e63 7265 6174 655f 7072 6573 2872 6563  .create_pres(rec
-000070a0: 6f72 642c 2072 6571 7565 7374 5f64 6174  ord, request_dat
-000070b0: 6129 0a20 2020 2020 2020 2020 2020 2061  a).            a
-000070c0: 7373 6572 7420 6973 696e 7374 616e 6365  ssert isinstance
-000070d0: 286f 7574 7075 745b 305d 2c20 5632 3050  (output[0], V20P
-000070e0: 7265 7346 6f72 6d61 7429 2061 6e64 2069  resFormat) and i
-000070f0: 7369 6e73 7461 6e63 6528 0a20 2020 2020  sinstance(.     
-00007100: 2020 2020 2020 2020 2020 206f 7574 7075             outpu
-00007110: 745b 315d 2c20 4174 7461 6368 4465 636f  t[1], AttachDeco
-00007120: 7261 746f 720a 2020 2020 2020 2020 2020  rator.          
-00007130: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-00007140: 6173 7365 7274 206f 7574 7075 745b 315d  assert output[1]
-00007150: 2e64 6174 612e 6a73 6f6e 5f20 3d3d 2044  .data.json_ == D
-00007160: 4946 5f50 5245 530a 0a20 2020 2061 7379  IF_PRES..    asy
-00007170: 6e63 2064 6566 2074 6573 745f 6372 6561  nc def test_crea
-00007180: 7465 5f70 7265 735f 6f6e 655f 6f66 5f66  te_pres_one_of_f
-00007190: 696c 7465 7228 7365 6c66 293a 0a20 2020  ilter(self):.   
-000071a0: 2020 2020 2063 7265 645f 6c69 7374 203d       cred_list =
-000071b0: 205b 0a20 2020 2020 2020 2020 2020 2056   [.            V
-000071c0: 4352 6563 6f72 6428 0a20 2020 2020 2020  CRecord(.       
-000071d0: 2020 2020 2020 2020 2063 6f6e 7465 7874           context
-000071e0: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-000071f0: 2020 2020 2020 2020 2268 7474 7073 3a2f          "https:/
-00007200: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
-00007210: 2f63 7265 6465 6e74 6961 6c73 2f76 3122  /credentials/v1"
-00007220: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00007230: 2020 2020 2020 2268 7474 7073 3a2f 2f77        "https://w
-00007240: 7777 2e77 332e 6f72 672f 3230 3138 2f63  ww.w3.org/2018/c
-00007250: 7265 6465 6e74 6961 6c73 2f65 7861 6d70  redentials/examp
-00007260: 6c65 732f 7631 222c 0a20 2020 2020 2020  les/v1",.       
-00007270: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
-00007280: 2020 2020 2020 2020 2020 2020 6578 7061              expa
-00007290: 6e64 6564 5f74 7970 6573 3d5b 0a20 2020  nded_types=[.   
-000072a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000072b0: 2022 6874 7470 733a 2f2f 7777 772e 7733   "https://www.w3
-000072c0: 2e6f 7267 2f32 3031 382f 6372 6564 656e  .org/2018/creden
-000072d0: 7469 616c 7323 5665 7269 6669 6162 6c65  tials#Verifiable
-000072e0: 4372 6564 656e 7469 616c 222c 0a20 2020  Credential",.   
-000072f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007300: 2022 6874 7470 733a 2f2f 6578 616d 706c   "https://exampl
-00007310: 652e 6f72 672f 6578 616d 706c 6573 2355  e.org/examples#U
-00007320: 6e69 7665 7273 6974 7944 6567 7265 6543  niversityDegreeC
-00007330: 7265 6465 6e74 6961 6c22 2c0a 2020 2020  redential",.    
-00007340: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00007350: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00007360: 7373 7565 725f 6964 3d22 6469 643a 6578  ssuer_id="did:ex
-00007370: 616d 706c 653a 3438 3933 3938 3539 3322  ample:489398593"
-00007380: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00007390: 2020 7375 626a 6563 745f 6964 733d 5b0a    subject_ids=[.
-000073a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073b0: 2020 2020 2264 6964 3a73 6f76 3a57 6757      "did:sov:WgW
-000073c0: 7871 7a74 724e 6f6f 4739 3252 5876 7853  xqztrNooG92RXvxS
-000073d0: 5457 7622 2c0a 2020 2020 2020 2020 2020  TWv",.          
-000073e0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-000073f0: 2020 2020 2020 2020 2070 726f 6f66 5f74           proof_t
-00007400: 7970 6573 3d5b 2245 6432 3535 3139 5369  ypes=["Ed25519Si
-00007410: 676e 6174 7572 6532 3031 3822 5d2c 0a20  gnature2018"],. 
-00007420: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00007430: 6368 656d 615f 6964 733d 5b22 6874 7470  chema_ids=["http
-00007440: 733a 2f2f 6578 616d 706c 652e 6f72 672f  s://example.org/
-00007450: 6578 616d 706c 6573 2f64 6567 7265 652e  examples/degree.
-00007460: 6a73 6f6e 225d 2c0a 2020 2020 2020 2020  json"],.        
-00007470: 2020 2020 2020 2020 6372 6564 5f76 616c          cred_val
-00007480: 7565 3d7b 222e 2e2e 222c 2022 2e2e 2e22  ue={"...", "..."
-00007490: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
-000074a0: 2020 2067 6976 656e 5f69 643d 2268 7474     given_id="htt
-000074b0: 703a 2f2f 6578 616d 706c 652e 6564 752f  p://example.edu/
-000074c0: 6372 6564 656e 7469 616c 732f 3337 3332  credentials/3732
-000074d0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-000074e0: 2020 2063 7265 645f 7461 6773 3d7b 2273     cred_tags={"s
-000074f0: 6f6d 6522 3a20 2274 6167 227d 2c0a 2020  ome": "tag"},.  
-00007500: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00007510: 636f 7264 5f69 643d 2274 6573 7431 222c  cord_id="test1",
-00007520: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00007530: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-00007540: 2070 7265 735f 7265 7175 6573 7420 3d20   pres_request = 
-00007550: 6465 6570 636f 7079 2844 4946 5f50 5245  deepcopy(DIF_PRE
-00007560: 535f 5245 5155 4553 545f 4229 0a20 2020  S_REQUEST_B).   
-00007570: 2020 2020 2070 7265 735f 7265 7175 6573       pres_reques
-00007580: 745b 2270 7265 7365 6e74 6174 696f 6e5f  t["presentation_
-00007590: 6465 6669 6e69 7469 6f6e 225d 5b22 696e  definition"]["in
-000075a0: 7075 745f 6465 7363 7269 7074 6f72 7322  put_descriptors"
-000075b0: 5d5b 305d 5b22 7363 6865 6d61 225d 203d  ][0]["schema"] =
-000075c0: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-000075d0: 6f6e 656f 665f 6669 6c74 6572 223a 205b  oneof_filter": [
-000075e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000075f0: 205b 0a20 2020 2020 2020 2020 2020 2020   [.             
-00007600: 2020 2020 2020 207b 2275 7269 223a 2022         {"uri": "
-00007610: 6874 7470 733a 2f2f 7777 772e 7733 2e6f  https://www.w3.o
-00007620: 7267 2f32 3031 382f 6372 6564 656e 7469  rg/2018/credenti
-00007630: 616c 7323 5665 7269 6669 6162 6c65 4372  als#VerifiableCr
-00007640: 6564 656e 7469 616c 227d 2c0a 2020 2020  edential"},.    
-00007650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007660: 7b22 7572 6922 3a20 2268 7474 7073 3a2f  {"uri": "https:/
-00007670: 2f77 3369 642e 6f72 672f 6369 7469 7a65  /w3id.org/citize
-00007680: 6e73 6869 7023 5065 726d 616e 656e 7452  nship#PermanentR
-00007690: 6573 6964 656e 7443 6172 6422 7d2c 0a20  esidentCard"},. 
-000076a0: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
-000076b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000076c0: 2020 5b7b 2275 7269 223a 2022 6874 7470    [{"uri": "http
-000076d0: 733a 2f2f 7777 772e 7733 2e6f 7267 2f54  s://www.w3.org/T
-000076e0: 6573 7423 5465 7374 227d 5d2c 0a20 2020  est#Test"}],.   
-000076f0: 2020 2020 2020 2020 205d 0a20 2020 2020           ].     
-00007700: 2020 207d 0a20 2020 2020 2020 2064 6966     }.        dif
-00007710: 5f70 7265 735f 7265 7175 6573 7420 3d20  _pres_request = 
-00007720: 5632 3050 7265 7352 6571 7565 7374 280a  V20PresRequest(.
-00007730: 2020 2020 2020 2020 2020 2020 666f 726d              form
-00007740: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
-00007750: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
-00007760: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
-00007770: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
-00007780: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
-00007790: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-000077a0: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
-000077b0: 5f46 4f52 4d41 545b 5052 4553 5f32 305f  _FORMAT[PRES_20_
-000077c0: 5245 5155 4553 545d 5b0a 2020 2020 2020  REQUEST][.      
-000077d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000077e0: 2020 5632 3050 7265 7346 6f72 6d61 742e    V20PresFormat.
-000077f0: 466f 726d 6174 2e44 4946 2e61 7069 0a20  Format.DIF.api. 
-00007800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007810: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
-00007820: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00007830: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-00007840: 2020 2072 6571 7565 7374 5f70 7265 7365     request_prese
-00007850: 6e74 6174 696f 6e73 5f61 7474 6163 683d  ntations_attach=
-00007860: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00007870: 2020 4174 7461 6368 4465 636f 7261 746f    AttachDecorato
-00007880: 722e 6461 7461 5f6a 736f 6e28 7072 6573  r.data_json(pres
-00007890: 5f72 6571 7565 7374 2c20 6964 656e 743d  _request, ident=
-000078a0: 2264 6966 2229 0a20 2020 2020 2020 2020  "dif").         
-000078b0: 2020 205d 2c0a 2020 2020 2020 2020 290a     ],.        ).
-000078c0: 2020 2020 2020 2020 7265 636f 7264 203d          record =
-000078d0: 2056 3230 5072 6573 4578 5265 636f 7264   V20PresExRecord
-000078e0: 280a 2020 2020 2020 2020 2020 2020 7072  (.            pr
-000078f0: 6573 5f65 785f 6964 3d22 7078 6964 222c  es_ex_id="pxid",
-00007900: 0a20 2020 2020 2020 2020 2020 2074 6872  .            thr
-00007910: 6561 645f 6964 3d22 7468 6964 222c 0a20  ead_id="thid",. 
-00007920: 2020 2020 2020 2020 2020 2063 6f6e 6e65             conne
-00007930: 6374 696f 6e5f 6964 3d22 636f 6e6e 5f69  ction_id="conn_i
-00007940: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-00007950: 696e 6974 6961 746f 723d 2269 6e69 7422  initiator="init"
-00007960: 2c0a 2020 2020 2020 2020 2020 2020 726f  ,.            ro
-00007970: 6c65 3d22 726f 6c65 222c 0a20 2020 2020  le="role",.     
-00007980: 2020 2020 2020 2073 7461 7465 3d22 7374         state="st
-00007990: 6174 6522 2c0a 2020 2020 2020 2020 2020  ate",.          
-000079a0: 2020 7072 6573 5f72 6571 7565 7374 3d64    pres_request=d
-000079b0: 6966 5f70 7265 735f 7265 7175 6573 742c  if_pres_request,
-000079c0: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
-000079d0: 6966 6965 643d 2266 616c 7365 222c 0a20  ified="false",. 
-000079e0: 2020 2020 2020 2020 2020 2061 7574 6f5f             auto_
-000079f0: 7072 6573 656e 743d 5472 7565 2c0a 2020  present=True,.  
-00007a00: 2020 2020 2020 2020 2020 6572 726f 725f            error_
-00007a10: 6d73 673d 2265 7272 6f72 222c 0a20 2020  msg="error",.   
-00007a20: 2020 2020 2029 0a20 2020 2020 2020 2072       ).        r
-00007a30: 6571 7565 7374 5f64 6174 6120 3d20 7b22  equest_data = {"
-00007a40: 6469 6622 3a20 7b7d 7d0a 0a20 2020 2020  dif": {}}..     
-00007a50: 2020 2073 656c 662e 636f 6e74 6578 742e     self.context.
-00007a60: 696e 6a65 6374 6f72 2e62 696e 645f 696e  injector.bind_in
-00007a70: 7374 616e 6365 280a 2020 2020 2020 2020  stance(.        
-00007a80: 2020 2020 5643 486f 6c64 6572 2c0a 2020      VCHolder,.  
-00007a90: 2020 2020 2020 2020 2020 6173 796e 635f            async_
-00007aa0: 6d6f 636b 2e4d 6167 6963 4d6f 636b 280a  mock.MagicMock(.
-00007ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ac0: 7365 6172 6368 5f63 7265 6465 6e74 6961  search_credentia
-00007ad0: 6c73 3d61 7379 6e63 5f6d 6f63 6b2e 4d61  ls=async_mock.Ma
-00007ae0: 6769 634d 6f63 6b28 0a20 2020 2020 2020  gicMock(.       
-00007af0: 2020 2020 2020 2020 2020 2020 2072 6574               ret
-00007b00: 7572 6e5f 7661 6c75 653d 6173 796e 635f  urn_value=async_
-00007b10: 6d6f 636b 2e4d 6167 6963 4d6f 636b 280a  mock.MagicMock(.
-00007b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b30: 2020 2020 2020 2020 6665 7463 683d 6173          fetch=as
-00007b40: 796e 635f 6d6f 636b 2e43 6f72 6f75 7469  ync_mock.Corouti
-00007b50: 6e65 4d6f 636b 2872 6574 7572 6e5f 7661  neMock(return_va
-00007b60: 6c75 653d 6372 6564 5f6c 6973 7429 0a20  lue=cred_list). 
-00007b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007b80: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00007b90: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-00007ba0: 2020 2029 2c0a 2020 2020 2020 2020 290a     ),.        ).
-00007bb0: 0a20 2020 2020 2020 2077 6974 6820 6173  .        with as
-00007bc0: 796e 635f 6d6f 636b 2e70 6174 6368 2e6f  ync_mock.patch.o
-00007bd0: 626a 6563 7428 0a20 2020 2020 2020 2020  bject(.         
-00007be0: 2020 2044 4946 5072 6573 4578 6368 4861     DIFPresExchHa
-00007bf0: 6e64 6c65 722c 0a20 2020 2020 2020 2020  ndler,.         
-00007c00: 2020 2022 6372 6561 7465 5f76 7022 2c0a     "create_vp",.
-00007c10: 2020 2020 2020 2020 2020 2020 6173 796e              asyn
-00007c20: 635f 6d6f 636b 2e43 6f72 6f75 7469 6e65  c_mock.Coroutine
-00007c30: 4d6f 636b 2829 2c0a 2020 2020 2020 2020  Mock(),.        
-00007c40: 2920 6173 206d 6f63 6b5f 6372 6561 7465  ) as mock_create
-00007c50: 5f76 703a 0a20 2020 2020 2020 2020 2020  _vp:.           
-00007c60: 206d 6f63 6b5f 6372 6561 7465 5f76 702e   mock_create_vp.
-00007c70: 7265 7475 726e 5f76 616c 7565 203d 2044  return_value = D
-00007c80: 4946 5f50 5245 530a 2020 2020 2020 2020  IF_PRES.        
-00007c90: 2020 2020 6f75 7470 7574 203d 2061 7761      output = awa
-00007ca0: 6974 2073 656c 662e 6861 6e64 6c65 722e  it self.handler.
-00007cb0: 6372 6561 7465 5f70 7265 7328 7265 636f  create_pres(reco
-00007cc0: 7264 2c20 7265 7175 6573 745f 6461 7461  rd, request_data
-00007cd0: 290a 2020 2020 2020 2020 2020 2020 6173  ).            as
-00007ce0: 7365 7274 2069 7369 6e73 7461 6e63 6528  sert isinstance(
-00007cf0: 6f75 7470 7574 5b30 5d2c 2056 3230 5072  output[0], V20Pr
-00007d00: 6573 466f 726d 6174 2920 616e 6420 6973  esFormat) and is
-00007d10: 696e 7374 616e 6365 280a 2020 2020 2020  instance(.      
-00007d20: 2020 2020 2020 2020 2020 6f75 7470 7574            output
-00007d30: 5b31 5d2c 2041 7474 6163 6844 6563 6f72  [1], AttachDecor
-00007d40: 6174 6f72 0a20 2020 2020 2020 2020 2020  ator.           
-00007d50: 2029 0a20 2020 2020 2020 2020 2020 2061   ).            a
-00007d60: 7373 6572 7420 6f75 7470 7574 5b31 5d2e  ssert output[1].
-00007d70: 6461 7461 2e6a 736f 6e5f 203d 3d20 4449  data.json_ == DI
-00007d80: 465f 5052 4553 0a0a 2020 2020 6173 796e  F_PRES..    asyn
-00007d90: 6320 6465 6620 7465 7374 5f63 7265 6174  c def test_creat
-00007da0: 655f 7072 6573 5f6e 6f5f 6368 616c 6c65  e_pres_no_challe
-00007db0: 6e67 6528 7365 6c66 293a 0a20 2020 2020  nge(self):.     
-00007dc0: 2020 2064 6966 5f70 7265 735f 7265 7120     dif_pres_req 
-00007dd0: 3d20 6465 6570 636f 7079 2844 4946 5f50  = deepcopy(DIF_P
-00007de0: 5245 535f 5245 5155 4553 545f 4229 0a20  RES_REQUEST_B). 
-00007df0: 2020 2020 2020 2064 656c 2064 6966 5f70         del dif_p
-00007e00: 7265 735f 7265 715b 226f 7074 696f 6e73  res_req["options
-00007e10: 225d 5b22 6368 616c 6c65 6e67 6522 5d0a  "]["challenge"].
-00007e20: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-00007e30: 5f72 6571 7565 7374 203d 2056 3230 5072  _request = V20Pr
-00007e40: 6573 5265 7175 6573 7428 0a20 2020 2020  esRequest(.     
-00007e50: 2020 2020 2020 2066 6f72 6d61 7473 3d5b         formats=[
-00007e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007e70: 2056 3230 5072 6573 466f 726d 6174 280a   V20PresFormat(.
-00007e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e90: 2020 2020 6174 7461 6368 5f69 643d 2264      attach_id="d
-00007ea0: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
-00007eb0: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
-00007ec0: 3d41 5454 4143 484d 454e 545f 464f 524d  =ATTACHMENT_FORM
-00007ed0: 4154 5b50 5245 535f 3230 5f52 4551 5545  AT[PRES_20_REQUE
-00007ee0: 5354 5d5b 0a20 2020 2020 2020 2020 2020  ST][.           
-00007ef0: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-00007f00: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
-00007f10: 742e 4449 462e 6170 690a 2020 2020 2020  t.DIF.api.      
-00007f20: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-00007f30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007f40: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
-00007f50: 2c0a 2020 2020 2020 2020 2020 2020 7265  ,.            re
-00007f60: 7175 6573 745f 7072 6573 656e 7461 7469  quest_presentati
-00007f70: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
-00007f80: 2020 2020 2020 2020 2020 2020 2041 7474               Att
-00007f90: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
-00007fa0: 615f 6a73 6f6e 2864 6966 5f70 7265 735f  a_json(dif_pres_
-00007fb0: 7265 712c 2069 6465 6e74 3d22 6469 6622  req, ident="dif"
-00007fc0: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-00007fd0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-00007fe0: 2020 2072 6563 6f72 6420 3d20 5632 3050     record = V20P
-00007ff0: 7265 7345 7852 6563 6f72 6428 0a20 2020  resExRecord(.   
-00008000: 2020 2020 2020 2020 2070 7265 735f 6578           pres_ex
-00008010: 5f69 643d 2270 7869 6422 2c0a 2020 2020  _id="pxid",.    
-00008020: 2020 2020 2020 2020 7468 7265 6164 5f69          thread_i
-00008030: 643d 2274 6869 6422 2c0a 2020 2020 2020  d="thid",.      
-00008040: 2020 2020 2020 636f 6e6e 6563 7469 6f6e        connection
-00008050: 5f69 643d 2263 6f6e 6e5f 6964 222c 0a20  _id="conn_id",. 
-00008060: 2020 2020 2020 2020 2020 2069 6e69 7469             initi
-00008070: 6174 6f72 3d22 696e 6974 222c 0a20 2020  ator="init",.   
-00008080: 2020 2020 2020 2020 2072 6f6c 653d 2272           role="r
-00008090: 6f6c 6522 2c0a 2020 2020 2020 2020 2020  ole",.          
-000080a0: 2020 7374 6174 653d 2273 7461 7465 222c    state="state",
-000080b0: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
-000080c0: 735f 7265 7175 6573 743d 6469 665f 7072  s_request=dif_pr
-000080d0: 6573 5f72 6571 7565 7374 2c0a 2020 2020  es_request,.    
-000080e0: 2020 2020 2020 2020 7665 7269 6669 6564          verified
-000080f0: 3d22 6661 6c73 6522 2c0a 2020 2020 2020  ="false",.      
-00008100: 2020 2020 2020 6175 746f 5f70 7265 7365        auto_prese
-00008110: 6e74 3d54 7275 652c 0a20 2020 2020 2020  nt=True,.       
-00008120: 2020 2020 2065 7272 6f72 5f6d 7367 3d22       error_msg="
-00008130: 6572 726f 7222 2c0a 2020 2020 2020 2020  error",.        
-00008140: 290a 2020 2020 2020 2020 7265 7175 6573  ).        reques
-00008150: 745f 6461 7461 203d 207b 7d0a 2020 2020  t_data = {}.    
-00008160: 2020 2020 7769 7468 2061 7379 6e63 5f6d      with async_m
-00008170: 6f63 6b2e 7061 7463 682e 6f62 6a65 6374  ock.patch.object
-00008180: 280a 2020 2020 2020 2020 2020 2020 4449  (.            DI
-00008190: 4650 7265 7345 7863 6848 616e 646c 6572  FPresExchHandler
-000081a0: 2c0a 2020 2020 2020 2020 2020 2020 2263  ,.            "c
-000081b0: 7265 6174 655f 7670 222c 0a20 2020 2020  reate_vp",.     
-000081c0: 2020 2020 2020 2061 7379 6e63 5f6d 6f63         async_moc
-000081d0: 6b2e 436f 726f 7574 696e 654d 6f63 6b28  k.CoroutineMock(
-000081e0: 292c 0a20 2020 2020 2020 2029 2061 7320  ),.        ) as 
-000081f0: 6d6f 636b 5f63 7265 6174 655f 7670 3a0a  mock_create_vp:.
-00008200: 2020 2020 2020 2020 2020 2020 6d6f 636b              mock
-00008210: 5f63 7265 6174 655f 7670 2e72 6574 7572  _create_vp.retur
-00008220: 6e5f 7661 6c75 6520 3d20 4449 465f 5052  n_value = DIF_PR
-00008230: 4553 0a20 2020 2020 2020 2020 2020 206f  ES.            o
-00008240: 7574 7075 7420 3d20 6177 6169 7420 7365  utput = await se
-00008250: 6c66 2e68 616e 646c 6572 2e63 7265 6174  lf.handler.creat
-00008260: 655f 7072 6573 2872 6563 6f72 642c 2072  e_pres(record, r
-00008270: 6571 7565 7374 5f64 6174 6129 0a20 2020  equest_data).   
-00008280: 2020 2020 2020 2020 2061 7373 6572 7420           assert 
-00008290: 6973 696e 7374 616e 6365 286f 7574 7075  isinstance(outpu
-000082a0: 745b 305d 2c20 5632 3050 7265 7346 6f72  t[0], V20PresFor
-000082b0: 6d61 7429 2061 6e64 2069 7369 6e73 7461  mat) and isinsta
-000082c0: 6e63 6528 0a20 2020 2020 2020 2020 2020  nce(.           
-000082d0: 2020 2020 206f 7574 7075 745b 315d 2c20       output[1], 
-000082e0: 4174 7461 6368 4465 636f 7261 746f 720a  AttachDecorator.
-000082f0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00008300: 2020 2020 2020 2020 2020 6173 7365 7274            assert
-00008310: 206f 7574 7075 745b 315d 2e64 6174 612e   output[1].data.
-00008320: 6a73 6f6e 5f20 3d3d 2044 4946 5f50 5245  json_ == DIF_PRE
-00008330: 530a 0a20 2020 2061 7379 6e63 2064 6566  S..    async def
-00008340: 2074 6573 745f 6372 6561 7465 5f70 7265   test_create_pre
-00008350: 735f 7374 6f72 6167 655f 6e6f 745f 666f  s_storage_not_fo
-00008360: 756e 6428 7365 6c66 293a 0a20 2020 2020  und(self):.     
-00008370: 2020 2064 6966 5f70 7265 735f 7265 7175     dif_pres_requ
-00008380: 6573 7420 3d20 5632 3050 7265 7352 6571  est = V20PresReq
-00008390: 7565 7374 280a 2020 2020 2020 2020 2020  uest(.          
-000083a0: 2020 666f 726d 6174 733d 5b0a 2020 2020    formats=[.    
-000083b0: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
-000083c0: 7265 7346 6f72 6d61 7428 0a20 2020 2020  resFormat(.     
-000083d0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000083e0: 7474 6163 685f 6964 3d22 6469 6622 2c0a  ttach_id="dif",.
+000066d0: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
+000066e0: 726d 6174 2e44 4946 2e61 7069 0a20 2020  rmat.DIF.api.   
+000066f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006700: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00006710: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00006720: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+00006730: 2072 6571 7565 7374 5f70 7265 7365 6e74   request_present
+00006740: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
+00006750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006760: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
+00006770: 6461 7461 5f6a 736f 6e28 6469 665f 7072  data_json(dif_pr
+00006780: 6573 5f72 6571 2c20 6964 656e 743d 2264  es_req, ident="d
+00006790: 6966 2229 0a20 2020 2020 2020 2020 2020  if").           
+000067a0: 205d 2c0a 2020 2020 2020 2020 290a 2020   ],.        ).  
+000067b0: 2020 2020 2020 7265 636f 7264 203d 2056        record = V
+000067c0: 3230 5072 6573 4578 5265 636f 7264 280a  20PresExRecord(.
+000067d0: 2020 2020 2020 2020 2020 2020 7072 6573              pres
+000067e0: 5f65 785f 6964 3d22 7078 6964 222c 0a20  _ex_id="pxid",. 
+000067f0: 2020 2020 2020 2020 2020 2074 6872 6561             threa
+00006800: 645f 6964 3d22 7468 6964 222c 0a20 2020  d_id="thid",.   
+00006810: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
+00006820: 696f 6e5f 6964 3d22 636f 6e6e 5f69 6422  ion_id="conn_id"
+00006830: 2c0a 2020 2020 2020 2020 2020 2020 696e  ,.            in
+00006840: 6974 6961 746f 723d 2269 6e69 7422 2c0a  itiator="init",.
+00006850: 2020 2020 2020 2020 2020 2020 726f 6c65              role
+00006860: 3d22 726f 6c65 222c 0a20 2020 2020 2020  ="role",.       
+00006870: 2020 2020 2073 7461 7465 3d22 7374 6174       state="stat
+00006880: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+00006890: 7072 6573 5f72 6571 7565 7374 3d64 6966  pres_request=dif
+000068a0: 5f70 7265 735f 7265 7175 6573 742c 0a20  _pres_request,. 
+000068b0: 2020 2020 2020 2020 2020 2076 6572 6966             verif
+000068c0: 6965 643d 2266 616c 7365 222c 0a20 2020  ied="false",.   
+000068d0: 2020 2020 2020 2020 2061 7574 6f5f 7072           auto_pr
+000068e0: 6573 656e 743d 5472 7565 2c0a 2020 2020  esent=True,.    
+000068f0: 2020 2020 2020 2020 6572 726f 725f 6d73          error_ms
+00006900: 673d 2265 7272 6f72 222c 0a20 2020 2020  g="error",.     
+00006910: 2020 2029 0a20 2020 2020 2020 2072 6571     ).        req
+00006920: 7565 7374 5f64 6174 6120 3d20 7b7d 0a20  uest_data = {}. 
+00006930: 2020 2020 2020 2077 6974 6820 6173 796e         with asyn
+00006940: 635f 6d6f 636b 2e70 6174 6368 2e6f 626a  c_mock.patch.obj
+00006950: 6563 7428 0a20 2020 2020 2020 2020 2020  ect(.           
+00006960: 2044 4946 5072 6573 4578 6368 4861 6e64   DIFPresExchHand
+00006970: 6c65 722c 0a20 2020 2020 2020 2020 2020  ler,.           
+00006980: 2022 6372 6561 7465 5f76 7022 2c0a 2020   "create_vp",.  
+00006990: 2020 2020 2020 2020 2020 6173 796e 635f            async_
+000069a0: 6d6f 636b 2e43 6f72 6f75 7469 6e65 4d6f  mock.CoroutineMo
+000069b0: 636b 2829 2c0a 2020 2020 2020 2020 2920  ck(),.        ) 
+000069c0: 6173 206d 6f63 6b5f 6372 6561 7465 5f76  as mock_create_v
+000069d0: 703a 0a20 2020 2020 2020 2020 2020 206d  p:.            m
+000069e0: 6f63 6b5f 6372 6561 7465 5f76 702e 7265  ock_create_vp.re
+000069f0: 7475 726e 5f76 616c 7565 203d 2044 4946  turn_value = DIF
+00006a00: 5f50 5245 530a 2020 2020 2020 2020 2020  _PRES.          
+00006a10: 2020 6f75 7470 7574 203d 2061 7761 6974    output = await
+00006a20: 2073 656c 662e 6861 6e64 6c65 722e 6372   self.handler.cr
+00006a30: 6561 7465 5f70 7265 7328 7265 636f 7264  eate_pres(record
+00006a40: 2c20 7265 7175 6573 745f 6461 7461 290a  , request_data).
+00006a50: 2020 2020 2020 2020 2020 2020 6173 7365              asse
+00006a60: 7274 2069 7369 6e73 7461 6e63 6528 6f75  rt isinstance(ou
+00006a70: 7470 7574 5b30 5d2c 2056 3230 5072 6573  tput[0], V20Pres
+00006a80: 466f 726d 6174 2920 616e 6420 6973 696e  Format) and isin
+00006a90: 7374 616e 6365 280a 2020 2020 2020 2020  stance(.        
+00006aa0: 2020 2020 2020 2020 6f75 7470 7574 5b31          output[1
+00006ab0: 5d2c 2041 7474 6163 6844 6563 6f72 6174  ], AttachDecorat
+00006ac0: 6f72 0a20 2020 2020 2020 2020 2020 2029  or.            )
+00006ad0: 0a20 2020 2020 2020 2020 2020 2061 7373  .            ass
+00006ae0: 6572 7420 6f75 7470 7574 5b31 5d2e 6461  ert output[1].da
+00006af0: 7461 2e6a 736f 6e5f 203d 3d20 4449 465f  ta.json_ == DIF_
+00006b00: 5052 4553 0a0a 2020 2020 6173 796e 6320  PRES..    async 
+00006b10: 6465 6620 7465 7374 5f63 7265 6174 655f  def test_create_
+00006b20: 7072 6573 5f70 726f 7665 725f 7072 6f6f  pres_prover_proo
+00006b30: 665f 7370 6563 2873 656c 6629 3a0a 2020  f_spec(self):.  
+00006b40: 2020 2020 2020 6469 665f 7072 6573 5f73        dif_pres_s
+00006b50: 7065 6320 3d20 6465 6570 636f 7079 2844  pec = deepcopy(D
+00006b60: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
+00006b70: 4129 0a20 2020 2020 2020 2064 6966 5f70  A).        dif_p
+00006b80: 7265 735f 7370 6563 5b22 6973 7375 6572  res_spec["issuer
+00006b90: 5f69 6422 5d20 3d20 2274 6573 7431 3233  _id"] = "test123
+00006ba0: 220a 2020 2020 2020 2020 6469 665f 7072  ".        dif_pr
+00006bb0: 6573 5f72 6571 7565 7374 203d 2056 3230  es_request = V20
+00006bc0: 5072 6573 5265 7175 6573 7428 0a20 2020  PresRequest(.   
+00006bd0: 2020 2020 2020 2020 2066 6f72 6d61 7473           formats
+00006be0: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+00006bf0: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
+00006c00: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00006c10: 2020 2020 2020 6174 7461 6368 5f69 643d        attach_id=
+00006c20: 2264 6966 222c 0a20 2020 2020 2020 2020  "dif",.         
+00006c30: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+00006c40: 745f 3d41 5454 4143 484d 454e 545f 464f  t_=ATTACHMENT_FO
+00006c50: 524d 4154 5b50 5245 535f 3230 5f52 4551  RMAT[PRES_20_REQ
+00006c60: 5545 5354 5d5b 0a20 2020 2020 2020 2020  UEST][.         
+00006c70: 2020 2020 2020 2020 2020 2020 2020 2056                 V
+00006c80: 3230 5072 6573 466f 726d 6174 2e46 6f72  20PresFormat.For
+00006c90: 6d61 742e 4449 462e 6170 690a 2020 2020  mat.DIF.api.    
+00006ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00006cb0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00006cc0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00006cd0: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00006ce0: 7265 7175 6573 745f 7072 6573 656e 7461  request_presenta
+00006cf0: 7469 6f6e 735f 6174 7461 6368 3d5b 0a20  tions_attach=[. 
+00006d00: 2020 2020 2020 2020 2020 2020 2020 2041                 A
+00006d10: 7474 6163 6844 6563 6f72 6174 6f72 2e64  ttachDecorator.d
+00006d20: 6174 615f 6a73 6f6e 2844 4946 5f50 5245  ata_json(DIF_PRE
+00006d30: 535f 5245 5155 4553 545f 422c 2069 6465  S_REQUEST_B, ide
+00006d40: 6e74 3d22 6469 6622 290a 2020 2020 2020  nt="dif").      
+00006d50: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+00006d60: 2029 0a20 2020 2020 2020 2072 6563 6f72   ).        recor
+00006d70: 6420 3d20 5632 3050 7265 7345 7852 6563  d = V20PresExRec
+00006d80: 6f72 6428 0a20 2020 2020 2020 2020 2020  ord(.           
+00006d90: 2070 7265 735f 6578 5f69 643d 2270 7869   pres_ex_id="pxi
+00006da0: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+00006db0: 7468 7265 6164 5f69 643d 2274 6869 6422  thread_id="thid"
+00006dc0: 2c0a 2020 2020 2020 2020 2020 2020 636f  ,.            co
+00006dd0: 6e6e 6563 7469 6f6e 5f69 643d 2263 6f6e  nnection_id="con
+00006de0: 6e5f 6964 222c 0a20 2020 2020 2020 2020  n_id",.         
+00006df0: 2020 2069 6e69 7469 6174 6f72 3d22 696e     initiator="in
+00006e00: 6974 222c 0a20 2020 2020 2020 2020 2020  it",.           
+00006e10: 2072 6f6c 653d 2272 6f6c 6522 2c0a 2020   role="role",.  
+00006e20: 2020 2020 2020 2020 2020 7374 6174 653d            state=
+00006e30: 2273 7461 7465 222c 0a20 2020 2020 2020  "state",.       
+00006e40: 2020 2020 2070 7265 735f 7265 7175 6573       pres_reques
+00006e50: 743d 6469 665f 7072 6573 5f72 6571 7565  t=dif_pres_reque
+00006e60: 7374 2c0a 2020 2020 2020 2020 2020 2020  st,.            
+00006e70: 7665 7269 6669 6564 3d22 6661 6c73 6522  verified="false"
+00006e80: 2c0a 2020 2020 2020 2020 2020 2020 6175  ,.            au
+00006e90: 746f 5f70 7265 7365 6e74 3d54 7275 652c  to_present=True,
+00006ea0: 0a20 2020 2020 2020 2020 2020 2065 7272  .            err
+00006eb0: 6f72 5f6d 7367 3d22 6572 726f 7222 2c0a  or_msg="error",.
+00006ec0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00006ed0: 2020 7265 7175 6573 745f 6461 7461 203d    request_data =
+00006ee0: 207b 7d0a 2020 2020 2020 2020 7265 7175   {}.        requ
+00006ef0: 6573 745f 6461 7461 5b22 6469 6622 5d20  est_data["dif"] 
+00006f00: 3d20 6469 665f 7072 6573 5f73 7065 630a  = dif_pres_spec.
+00006f10: 2020 2020 2020 2020 7769 7468 2061 7379          with asy
+00006f20: 6e63 5f6d 6f63 6b2e 7061 7463 682e 6f62  nc_mock.patch.ob
+00006f30: 6a65 6374 280a 2020 2020 2020 2020 2020  ject(.          
+00006f40: 2020 4449 4650 7265 7345 7863 6848 616e    DIFPresExchHan
+00006f50: 646c 6572 2c0a 2020 2020 2020 2020 2020  dler,.          
+00006f60: 2020 2263 7265 6174 655f 7670 222c 0a20    "create_vp",. 
+00006f70: 2020 2020 2020 2020 2020 2061 7379 6e63             async
+00006f80: 5f6d 6f63 6b2e 436f 726f 7574 696e 654d  _mock.CoroutineM
+00006f90: 6f63 6b28 292c 0a20 2020 2020 2020 2029  ock(),.        )
+00006fa0: 2061 7320 6d6f 636b 5f63 7265 6174 655f   as mock_create_
+00006fb0: 7670 3a0a 2020 2020 2020 2020 2020 2020  vp:.            
+00006fc0: 6d6f 636b 5f63 7265 6174 655f 7670 2e72  mock_create_vp.r
+00006fd0: 6574 7572 6e5f 7661 6c75 6520 3d20 4449  eturn_value = DI
+00006fe0: 465f 5052 4553 0a20 2020 2020 2020 2020  F_PRES.         
+00006ff0: 2020 206f 7574 7075 7420 3d20 6177 6169     output = awai
+00007000: 7420 7365 6c66 2e68 616e 646c 6572 2e63  t self.handler.c
+00007010: 7265 6174 655f 7072 6573 2872 6563 6f72  reate_pres(recor
+00007020: 642c 2072 6571 7565 7374 5f64 6174 6129  d, request_data)
+00007030: 0a20 2020 2020 2020 2020 2020 2061 7373  .            ass
+00007040: 6572 7420 6973 696e 7374 616e 6365 286f  ert isinstance(o
+00007050: 7574 7075 745b 305d 2c20 5632 3050 7265  utput[0], V20Pre
+00007060: 7346 6f72 6d61 7429 2061 6e64 2069 7369  sFormat) and isi
+00007070: 6e73 7461 6e63 6528 0a20 2020 2020 2020  nstance(.       
+00007080: 2020 2020 2020 2020 206f 7574 7075 745b           output[
+00007090: 315d 2c20 4174 7461 6368 4465 636f 7261  1], AttachDecora
+000070a0: 746f 720a 2020 2020 2020 2020 2020 2020  tor.            
+000070b0: 290a 2020 2020 2020 2020 2020 2020 6173  ).            as
+000070c0: 7365 7274 206f 7574 7075 745b 315d 2e64  sert output[1].d
+000070d0: 6174 612e 6a73 6f6e 5f20 3d3d 2044 4946  ata.json_ == DIF
+000070e0: 5f50 5245 530a 0a20 2020 2061 7379 6e63  _PRES..    async
+000070f0: 2064 6566 2074 6573 745f 6372 6561 7465   def test_create
+00007100: 5f70 7265 735f 7072 6f76 6572 5f70 726f  _pres_prover_pro
+00007110: 6f66 5f73 7065 635f 7769 7468 5f72 6563  of_spec_with_rec
+00007120: 6f72 645f 6964 7328 7365 6c66 293a 0a20  ord_ids(self):. 
+00007130: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
+00007140: 7370 6563 203d 2064 6565 7063 6f70 7928  spec = deepcopy(
+00007150: 4449 465f 5052 4553 5f52 4551 5545 5354  DIF_PRES_REQUEST
+00007160: 5f41 290a 2020 2020 2020 2020 6469 665f  _A).        dif_
+00007170: 7072 6573 5f73 7065 635b 2269 7373 7565  pres_spec["issue
+00007180: 725f 6964 225d 203d 2022 7465 7374 3132  r_id"] = "test12
+00007190: 3322 0a20 2020 2020 2020 2064 6966 5f70  3".        dif_p
+000071a0: 7265 735f 7370 6563 5b22 7265 636f 7264  res_spec["record
+000071b0: 5f69 6473 225d 203d 207b 2274 6573 745f  _ids"] = {"test_
+000071c0: 696e 7075 745f 6465 7363 7269 7074 6f72  input_descriptor
+000071d0: 5f69 6422 3a20 5b22 7465 7374 3122 5d7d  _id": ["test1"]}
+000071e0: 0a20 2020 2020 2020 2063 7265 645f 6c69  .        cred_li
+000071f0: 7374 203d 205b 0a20 2020 2020 2020 2020  st = [.         
+00007200: 2020 2056 4352 6563 6f72 6428 0a20 2020     VCRecord(.   
+00007210: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00007220: 7465 7874 733d 5b0a 2020 2020 2020 2020  texts=[.        
+00007230: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
+00007240: 7073 3a2f 2f77 7777 2e77 332e 6f72 672f  ps://www.w3.org/
+00007250: 3230 3138 2f63 7265 6465 6e74 6961 6c73  2018/credentials
+00007260: 2f76 3122 2c0a 2020 2020 2020 2020 2020  /v1",.          
+00007270: 2020 2020 2020 2020 2020 2268 7474 7073            "https
+00007280: 3a2f 2f77 7777 2e77 332e 6f72 672f 3230  ://www.w3.org/20
+00007290: 3138 2f63 7265 6465 6e74 6961 6c73 2f65  18/credentials/e
+000072a0: 7861 6d70 6c65 732f 7631 222c 0a20 2020  xamples/v1",.   
+000072b0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
+000072c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000072d0: 6578 7061 6e64 6564 5f74 7970 6573 3d5b  expanded_types=[
+000072e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000072f0: 2020 2020 2022 6874 7470 733a 2f2f 7777       "https://ww
+00007300: 772e 7733 2e6f 7267 2f32 3031 382f 6372  w.w3.org/2018/cr
+00007310: 6564 656e 7469 616c 7323 5665 7269 6669  edentials#Verifi
+00007320: 6162 6c65 4372 6564 656e 7469 616c 222c  ableCredential",
+00007330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007340: 2020 2020 2022 6874 7470 733a 2f2f 6578       "https://ex
+00007350: 616d 706c 652e 6f72 672f 6578 616d 706c  ample.org/exampl
+00007360: 6573 2355 6e69 7665 7273 6974 7944 6567  es#UniversityDeg
+00007370: 7265 6543 7265 6465 6e74 6961 6c22 2c0a  reeCredential",.
+00007380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007390: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000073a0: 2020 2069 7373 7565 725f 6964 3d22 6469     issuer_id="di
+000073b0: 643a 6578 616d 706c 653a 3438 3933 3938  d:example:489398
+000073c0: 3539 3322 2c0a 2020 2020 2020 2020 2020  593",.          
+000073d0: 2020 2020 2020 7375 626a 6563 745f 6964        subject_id
+000073e0: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+000073f0: 2020 2020 2020 2020 2264 6964 3a73 6f76          "did:sov
+00007400: 3a57 6757 7871 7a74 724e 6f6f 4739 3252  :WgWxqztrNooG92R
+00007410: 5876 7853 5457 7622 2c0a 2020 2020 2020  XvxSTWv",.      
+00007420: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00007430: 2020 2020 2020 2020 2020 2020 2070 726f               pro
+00007440: 6f66 5f74 7970 6573 3d5b 2245 6432 3535  of_types=["Ed255
+00007450: 3139 5369 676e 6174 7572 6532 3031 3822  19Signature2018"
+00007460: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00007470: 2020 2073 6368 656d 615f 6964 733d 5b22     schema_ids=["
+00007480: 6874 7470 733a 2f2f 6578 616d 706c 652e  https://example.
+00007490: 6f72 672f 6578 616d 706c 6573 2f64 6567  org/examples/deg
+000074a0: 7265 652e 6a73 6f6e 225d 2c0a 2020 2020  ree.json"],.    
+000074b0: 2020 2020 2020 2020 2020 2020 6372 6564              cred
+000074c0: 5f76 616c 7565 3d7b 222e 2e2e 222c 2022  _value={"...", "
+000074d0: 2e2e 2e22 7d2c 0a20 2020 2020 2020 2020  ..."},.         
+000074e0: 2020 2020 2020 2067 6976 656e 5f69 643d         given_id=
+000074f0: 2268 7474 703a 2f2f 6578 616d 706c 652e  "http://example.
+00007500: 6564 752f 6372 6564 656e 7469 616c 732f  edu/credentials/
+00007510: 3337 3332 222c 0a20 2020 2020 2020 2020  3732",.         
+00007520: 2020 2020 2020 2063 7265 645f 7461 6773         cred_tags
+00007530: 3d7b 2273 6f6d 6522 3a20 2274 6167 227d  ={"some": "tag"}
+00007540: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00007550: 2020 7265 636f 7264 5f69 643d 2274 6573    record_id="tes
+00007560: 7431 222c 0a20 2020 2020 2020 2020 2020  t1",.           
+00007570: 2029 0a20 2020 2020 2020 205d 0a20 2020   ).        ].   
+00007580: 2020 2020 2064 6966 5f70 7265 735f 7265       dif_pres_re
+00007590: 7175 6573 7420 3d20 5632 3050 7265 7352  quest = V20PresR
+000075a0: 6571 7565 7374 280a 2020 2020 2020 2020  equest(.        
+000075b0: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
+000075c0: 2020 2020 2020 2020 2020 2020 2020 5632                V2
+000075d0: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
+000075e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000075f0: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
+00007600: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00007610: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
+00007620: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
+00007630: 5052 4553 5f32 305f 5245 5155 4553 545d  PRES_20_REQUEST]
+00007640: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+00007650: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+00007660: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
+00007670: 4946 2e61 7069 0a20 2020 2020 2020 2020  IF.api.         
+00007680: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
+00007690: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+000076a0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+000076b0: 2020 2020 2020 2020 2020 2072 6571 7565             reque
+000076c0: 7374 5f70 7265 7365 6e74 6174 696f 6e73  st_presentations
+000076d0: 5f61 7474 6163 683d 5b0a 2020 2020 2020  _attach=[.      
+000076e0: 2020 2020 2020 2020 2020 4174 7461 6368            Attach
+000076f0: 4465 636f 7261 746f 722e 6461 7461 5f6a  Decorator.data_j
+00007700: 736f 6e28 4449 465f 5052 4553 5f52 4551  son(DIF_PRES_REQ
+00007710: 5545 5354 5f42 2c20 6964 656e 743d 2264  UEST_B, ident="d
+00007720: 6966 2229 0a20 2020 2020 2020 2020 2020  if").           
+00007730: 205d 2c0a 2020 2020 2020 2020 290a 2020   ],.        ).  
+00007740: 2020 2020 2020 7265 636f 7264 203d 2056        record = V
+00007750: 3230 5072 6573 4578 5265 636f 7264 280a  20PresExRecord(.
+00007760: 2020 2020 2020 2020 2020 2020 7072 6573              pres
+00007770: 5f65 785f 6964 3d22 7078 6964 222c 0a20  _ex_id="pxid",. 
+00007780: 2020 2020 2020 2020 2020 2074 6872 6561             threa
+00007790: 645f 6964 3d22 7468 6964 222c 0a20 2020  d_id="thid",.   
+000077a0: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
+000077b0: 696f 6e5f 6964 3d22 636f 6e6e 5f69 6422  ion_id="conn_id"
+000077c0: 2c0a 2020 2020 2020 2020 2020 2020 696e  ,.            in
+000077d0: 6974 6961 746f 723d 2269 6e69 7422 2c0a  itiator="init",.
+000077e0: 2020 2020 2020 2020 2020 2020 726f 6c65              role
+000077f0: 3d22 726f 6c65 222c 0a20 2020 2020 2020  ="role",.       
+00007800: 2020 2020 2073 7461 7465 3d22 7374 6174       state="stat
+00007810: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+00007820: 7072 6573 5f72 6571 7565 7374 3d64 6966  pres_request=dif
+00007830: 5f70 7265 735f 7265 7175 6573 742c 0a20  _pres_request,. 
+00007840: 2020 2020 2020 2020 2020 2076 6572 6966             verif
+00007850: 6965 643d 2266 616c 7365 222c 0a20 2020  ied="false",.   
+00007860: 2020 2020 2020 2020 2061 7574 6f5f 7072           auto_pr
+00007870: 6573 656e 743d 5472 7565 2c0a 2020 2020  esent=True,.    
+00007880: 2020 2020 2020 2020 6572 726f 725f 6d73          error_ms
+00007890: 673d 2265 7272 6f72 222c 0a20 2020 2020  g="error",.     
+000078a0: 2020 2029 0a20 2020 2020 2020 2072 6571     ).        req
+000078b0: 7565 7374 5f64 6174 6120 3d20 7b7d 0a20  uest_data = {}. 
+000078c0: 2020 2020 2020 2072 6571 7565 7374 5f64         request_d
+000078d0: 6174 615b 2264 6966 225d 203d 2064 6966  ata["dif"] = dif
+000078e0: 5f70 7265 735f 7370 6563 0a0a 2020 2020  _pres_spec..    
+000078f0: 2020 2020 7365 6c66 2e63 6f6e 7465 7874      self.context
+00007900: 2e69 6e6a 6563 746f 722e 6269 6e64 5f69  .injector.bind_i
+00007910: 6e73 7461 6e63 6528 0a20 2020 2020 2020  nstance(.       
+00007920: 2020 2020 2056 4348 6f6c 6465 722c 0a20       VCHolder,. 
+00007930: 2020 2020 2020 2020 2020 2061 7379 6e63             async
+00007940: 5f6d 6f63 6b2e 4d61 6769 634d 6f63 6b28  _mock.MagicMock(
+00007950: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007960: 2073 6561 7263 685f 6372 6564 656e 7469   search_credenti
+00007970: 616c 733d 6173 796e 635f 6d6f 636b 2e4d  als=async_mock.M
+00007980: 6167 6963 4d6f 636b 280a 2020 2020 2020  agicMock(.      
+00007990: 2020 2020 2020 2020 2020 2020 2020 7265                re
+000079a0: 7475 726e 5f76 616c 7565 3d61 7379 6e63  turn_value=async
+000079b0: 5f6d 6f63 6b2e 4d61 6769 634d 6f63 6b28  _mock.MagicMock(
+000079c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000079d0: 2020 2020 2020 2020 2066 6574 6368 3d61           fetch=a
+000079e0: 7379 6e63 5f6d 6f63 6b2e 436f 726f 7574  sync_mock.Corout
+000079f0: 696e 654d 6f63 6b28 7265 7475 726e 5f76  ineMock(return_v
+00007a00: 616c 7565 3d63 7265 645f 6c69 7374 290a  alue=cred_list).
+00007a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007a20: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00007a30: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00007a40: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+00007a50: 0a0a 2020 2020 2020 2020 7769 7468 2061  ..        with a
+00007a60: 7379 6e63 5f6d 6f63 6b2e 7061 7463 682e  sync_mock.patch.
+00007a70: 6f62 6a65 6374 280a 2020 2020 2020 2020  object(.        
+00007a80: 2020 2020 4449 4650 7265 7345 7863 6848      DIFPresExchH
+00007a90: 616e 646c 6572 2c0a 2020 2020 2020 2020  andler,.        
+00007aa0: 2020 2020 2263 7265 6174 655f 7670 222c      "create_vp",
+00007ab0: 0a20 2020 2020 2020 2020 2020 2061 7379  .            asy
+00007ac0: 6e63 5f6d 6f63 6b2e 436f 726f 7574 696e  nc_mock.Coroutin
+00007ad0: 654d 6f63 6b28 292c 0a20 2020 2020 2020  eMock(),.       
+00007ae0: 2029 2061 7320 6d6f 636b 5f63 7265 6174   ) as mock_creat
+00007af0: 655f 7670 3a0a 2020 2020 2020 2020 2020  e_vp:.          
+00007b00: 2020 6d6f 636b 5f63 7265 6174 655f 7670    mock_create_vp
+00007b10: 2e72 6574 7572 6e5f 7661 6c75 6520 3d20  .return_value = 
+00007b20: 4449 465f 5052 4553 0a20 2020 2020 2020  DIF_PRES.       
+00007b30: 2020 2020 206f 7574 7075 7420 3d20 6177       output = aw
+00007b40: 6169 7420 7365 6c66 2e68 616e 646c 6572  ait self.handler
+00007b50: 2e63 7265 6174 655f 7072 6573 2872 6563  .create_pres(rec
+00007b60: 6f72 642c 2072 6571 7565 7374 5f64 6174  ord, request_dat
+00007b70: 6129 0a20 2020 2020 2020 2020 2020 2061  a).            a
+00007b80: 7373 6572 7420 6973 696e 7374 616e 6365  ssert isinstance
+00007b90: 286f 7574 7075 745b 305d 2c20 5632 3050  (output[0], V20P
+00007ba0: 7265 7346 6f72 6d61 7429 2061 6e64 2069  resFormat) and i
+00007bb0: 7369 6e73 7461 6e63 6528 0a20 2020 2020  sinstance(.     
+00007bc0: 2020 2020 2020 2020 2020 206f 7574 7075             outpu
+00007bd0: 745b 315d 2c20 4174 7461 6368 4465 636f  t[1], AttachDeco
+00007be0: 7261 746f 720a 2020 2020 2020 2020 2020  rator.          
+00007bf0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00007c00: 6173 7365 7274 206f 7574 7075 745b 315d  assert output[1]
+00007c10: 2e64 6174 612e 6a73 6f6e 5f20 3d3d 2044  .data.json_ == D
+00007c20: 4946 5f50 5245 530a 0a20 2020 2061 7379  IF_PRES..    asy
+00007c30: 6e63 2064 6566 2074 6573 745f 6372 6561  nc def test_crea
+00007c40: 7465 5f70 7265 735f 7072 6f76 6572 5f70  te_pres_prover_p
+00007c50: 726f 6f66 5f73 7065 635f 7769 7468 5f72  roof_spec_with_r
+00007c60: 6576 6561 6c5f 646f 6328 7365 6c66 293a  eveal_doc(self):
+00007c70: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
+00007c80: 735f 7370 6563 203d 2064 6565 7063 6f70  s_spec = deepcop
+00007c90: 7928 4449 465f 5052 4553 5f52 4551 5545  y(DIF_PRES_REQUE
+00007ca0: 5354 5f41 290a 2020 2020 2020 2020 6469  ST_A).        di
+00007cb0: 665f 7072 6573 5f73 7065 635b 2269 7373  f_pres_spec["iss
+00007cc0: 7565 725f 6964 225d 203d 2022 7465 7374  uer_id"] = "test
+00007cd0: 3132 3322 0a20 2020 2020 2020 2064 6966  123".        dif
+00007ce0: 5f70 7265 735f 7370 6563 5b22 7265 7665  _pres_spec["reve
+00007cf0: 616c 5f64 6f63 225d 203d 207b 0a20 2020  al_doc"] = {.   
+00007d00: 2020 2020 2020 2020 2022 4063 6f6e 7465           "@conte
+00007d10: 7874 223a 205b 0a20 2020 2020 2020 2020  xt": [.         
+00007d20: 2020 2020 2020 2022 6874 7470 733a 2f2f         "https://
+00007d30: 7777 772e 7733 2e6f 7267 2f32 3031 382f  www.w3.org/2018/
+00007d40: 6372 6564 656e 7469 616c 732f 7631 222c  credentials/v1",
+00007d50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007d60: 2022 6874 7470 733a 2f2f 7733 6964 2e6f   "https://w3id.o
+00007d70: 7267 2f73 6563 7572 6974 792f 6262 732f  rg/security/bbs/
+00007d80: 7631 222c 0a20 2020 2020 2020 2020 2020  v1",.           
+00007d90: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00007da0: 2274 7970 6522 3a20 5b22 5665 7269 6669  "type": ["Verifi
+00007db0: 6162 6c65 4372 6564 656e 7469 616c 222c  ableCredential",
+00007dc0: 2022 4c61 6252 6570 6f72 7422 5d2c 0a20   "LabReport"],. 
+00007dd0: 2020 2020 2020 2020 2020 2022 4065 7870             "@exp
+00007de0: 6c69 6369 7422 3a20 5472 7565 2c0a 2020  licit": True,.  
+00007df0: 2020 2020 2020 2020 2020 2240 7265 7175            "@requ
+00007e00: 6972 6541 6c6c 223a 2054 7275 652c 0a20  ireAll": True,. 
+00007e10: 2020 2020 2020 2020 2020 2022 6973 7375             "issu
+00007e20: 616e 6365 4461 7465 223a 207b 7d2c 0a20  anceDate": {},. 
+00007e30: 2020 2020 2020 2020 2020 2022 6973 7375             "issu
+00007e40: 6572 223a 207b 7d2c 0a20 2020 2020 2020  er": {},.       
+00007e50: 2020 2020 2022 6372 6564 656e 7469 616c       "credential
+00007e60: 5375 626a 6563 7422 3a20 7b0a 2020 2020  Subject": {.    
+00007e70: 2020 2020 2020 2020 2020 2020 224f 6273              "Obs
+00007e80: 6572 7661 7469 6f6e 223a 205b 0a20 2020  ervation": [.   
+00007e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007ea0: 207b 2265 6666 6563 7469 7665 4461 7465   {"effectiveDate
+00007eb0: 5469 6d65 223a 207b 7d2c 2022 4065 7870  Time": {}, "@exp
+00007ec0: 6c69 6369 7422 3a20 5472 7565 2c20 2240  licit": True, "@
+00007ed0: 7265 7175 6972 6541 6c6c 223a 2054 7275  requireAll": Tru
+00007ee0: 657d 0a20 2020 2020 2020 2020 2020 2020  e}.             
+00007ef0: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+00007f00: 2020 2020 2020 2240 6578 706c 6963 6974        "@explicit
+00007f10: 223a 2054 7275 652c 0a20 2020 2020 2020  ": True,.       
+00007f20: 2020 2020 2020 2020 2022 4072 6571 7569           "@requi
+00007f30: 7265 416c 6c22 3a20 5472 7565 2c0a 2020  reAll": True,.  
+00007f40: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+00007f50: 2020 2020 207d 0a20 2020 2020 2020 2063       }.        c
+00007f60: 7265 645f 6c69 7374 203d 205b 0a20 2020  red_list = [.   
+00007f70: 2020 2020 2020 2020 2056 4352 6563 6f72           VCRecor
+00007f80: 6428 0a20 2020 2020 2020 2020 2020 2020  d(.             
+00007f90: 2020 2063 6f6e 7465 7874 733d 5b0a 2020     contexts=[.  
+00007fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007fb0: 2020 2268 7474 7073 3a2f 2f77 7777 2e77    "https://www.w
+00007fc0: 332e 6f72 672f 3230 3138 2f63 7265 6465  3.org/2018/crede
+00007fd0: 6e74 6961 6c73 2f76 3122 2c0a 2020 2020  ntials/v1",.    
+00007fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007ff0: 2268 7474 7073 3a2f 2f77 7777 2e77 332e  "https://www.w3.
+00008000: 6f72 672f 3230 3138 2f63 7265 6465 6e74  org/2018/credent
+00008010: 6961 6c73 2f65 7861 6d70 6c65 732f 7631  ials/examples/v1
+00008020: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008030: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+00008040: 2020 2020 2020 6578 7061 6e64 6564 5f74        expanded_t
+00008050: 7970 6573 3d5b 0a20 2020 2020 2020 2020  ypes=[.         
+00008060: 2020 2020 2020 2020 2020 2022 6874 7470             "http
+00008070: 733a 2f2f 7777 772e 7733 2e6f 7267 2f32  s://www.w3.org/2
+00008080: 3031 382f 6372 6564 656e 7469 616c 7323  018/credentials#
+00008090: 5665 7269 6669 6162 6c65 4372 6564 656e  VerifiableCreden
+000080a0: 7469 616c 222c 0a20 2020 2020 2020 2020  tial",.         
+000080b0: 2020 2020 2020 2020 2020 2022 6874 7470             "http
+000080c0: 733a 2f2f 6578 616d 706c 652e 6f72 672f  s://example.org/
+000080d0: 6578 616d 706c 6573 2355 6e69 7665 7273  examples#Univers
+000080e0: 6974 7944 6567 7265 6543 7265 6465 6e74  ityDegreeCredent
+000080f0: 6961 6c22 2c0a 2020 2020 2020 2020 2020  ial",.          
+00008100: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+00008110: 2020 2020 2020 2020 2069 7373 7565 725f           issuer_
+00008120: 6964 3d22 6469 643a 6578 616d 706c 653a  id="did:example:
+00008130: 3438 3933 3938 3539 3322 2c0a 2020 2020  489398593",.    
+00008140: 2020 2020 2020 2020 2020 2020 7375 626a              subj
+00008150: 6563 745f 6964 733d 5b0a 2020 2020 2020  ect_ids=[.      
+00008160: 2020 2020 2020 2020 2020 2020 2020 2264                "d
+00008170: 6964 3a73 6f76 3a57 6757 7871 7a74 724e  id:sov:WgWxqztrN
+00008180: 6f6f 4739 3252 5876 7853 5457 7622 2c0a  ooG92RXvxSTWv",.
+00008190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000081a0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000081b0: 2020 2070 726f 6f66 5f74 7970 6573 3d5b     proof_types=[
+000081c0: 2245 6432 3535 3139 5369 676e 6174 7572  "Ed25519Signatur
+000081d0: 6532 3031 3822 5d2c 0a20 2020 2020 2020  e2018"],.       
+000081e0: 2020 2020 2020 2020 2073 6368 656d 615f           schema_
+000081f0: 6964 733d 5b22 6874 7470 733a 2f2f 6578  ids=["https://ex
+00008200: 616d 706c 652e 6f72 672f 6578 616d 706c  ample.org/exampl
+00008210: 6573 2f64 6567 7265 652e 6a73 6f6e 225d  es/degree.json"]
+00008220: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00008230: 2020 6372 6564 5f76 616c 7565 3d7b 222e    cred_value={".
+00008240: 2e2e 222c 2022 2e2e 2e22 7d2c 0a20 2020  ..", "..."},.   
+00008250: 2020 2020 2020 2020 2020 2020 2067 6976               giv
+00008260: 656e 5f69 643d 2268 7474 703a 2f2f 6578  en_id="http://ex
+00008270: 616d 706c 652e 6564 752f 6372 6564 656e  ample.edu/creden
+00008280: 7469 616c 732f 3337 3332 222c 0a20 2020  tials/3732",.   
+00008290: 2020 2020 2020 2020 2020 2020 2063 7265               cre
+000082a0: 645f 7461 6773 3d7b 2273 6f6d 6522 3a20  d_tags={"some": 
+000082b0: 2274 6167 227d 2c0a 2020 2020 2020 2020  "tag"},.        
+000082c0: 2020 2020 2020 2020 7265 636f 7264 5f69          record_i
+000082d0: 643d 2274 6573 7431 222c 0a20 2020 2020  d="test1",.     
+000082e0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+000082f0: 205d 0a20 2020 2020 2020 2064 6966 5f70   ].        dif_p
+00008300: 7265 735f 7265 7175 6573 7420 3d20 5632  res_request = V2
+00008310: 3050 7265 7352 6571 7565 7374 280a 2020  0PresRequest(.  
+00008320: 2020 2020 2020 2020 2020 666f 726d 6174            format
+00008330: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+00008340: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
+00008350: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+00008360: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
+00008370: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
+00008380: 2020 2020 2020 2020 2020 2020 666f 726d              form
+00008390: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
+000083a0: 4f52 4d41 545b 5052 4553 5f32 305f 5245  ORMAT[PRES_20_RE
+000083b0: 5155 4553 545d 5b0a 2020 2020 2020 2020  QUEST][.        
+000083c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000083d0: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
+000083e0: 726d 6174 2e44 4946 2e61 7069 0a20 2020  rmat.DIF.api.   
 000083f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008400: 2020 2020 666f 726d 6174 5f3d 4154 5441      format_=ATTA
-00008410: 4348 4d45 4e54 5f46 4f52 4d41 545b 5052  CHMENT_FORMAT[PR
-00008420: 4553 5f32 305f 5245 5155 4553 545d 5b0a  ES_20_REQUEST][.
-00008430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008440: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
-00008450: 6f72 6d61 742e 466f 726d 6174 2e44 4946  ormat.Format.DIF
-00008460: 2e61 7069 0a20 2020 2020 2020 2020 2020  .api.           
-00008470: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
-00008480: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00008490: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-000084a0: 2020 2020 2020 2020 2072 6571 7565 7374           request
-000084b0: 5f70 7265 7365 6e74 6174 696f 6e73 5f61  _presentations_a
-000084c0: 7474 6163 683d 5b0a 2020 2020 2020 2020  ttach=[.        
-000084d0: 2020 2020 2020 2020 4174 7461 6368 4465          AttachDe
-000084e0: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
-000084f0: 6e28 4449 465f 5052 4553 5f52 4551 5545  n(DIF_PRES_REQUE
-00008500: 5354 5f42 2c20 6964 656e 743d 2264 6966  ST_B, ident="dif
-00008510: 2229 0a20 2020 2020 2020 2020 2020 205d  ").            ]
-00008520: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00008530: 2020 2020 7265 636f 7264 203d 2056 3230      record = V20
-00008540: 5072 6573 4578 5265 636f 7264 280a 2020  PresExRecord(.  
-00008550: 2020 2020 2020 2020 2020 7072 6573 5f65            pres_e
-00008560: 785f 6964 3d22 7078 6964 222c 0a20 2020  x_id="pxid",.   
-00008570: 2020 2020 2020 2020 2074 6872 6561 645f           thread_
-00008580: 6964 3d22 7468 6964 222c 0a20 2020 2020  id="thid",.     
-00008590: 2020 2020 2020 2063 6f6e 6e65 6374 696f         connectio
-000085a0: 6e5f 6964 3d22 636f 6e6e 5f69 6422 2c0a  n_id="conn_id",.
-000085b0: 2020 2020 2020 2020 2020 2020 696e 6974              init
-000085c0: 6961 746f 723d 2269 6e69 7422 2c0a 2020  iator="init",.  
-000085d0: 2020 2020 2020 2020 2020 726f 6c65 3d22            role="
-000085e0: 726f 6c65 222c 0a20 2020 2020 2020 2020  role",.         
-000085f0: 2020 2073 7461 7465 3d22 7374 6174 6522     state="state"
-00008600: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
-00008610: 6573 5f72 6571 7565 7374 3d64 6966 5f70  es_request=dif_p
-00008620: 7265 735f 7265 7175 6573 742c 0a20 2020  res_request,.   
-00008630: 2020 2020 2020 2020 2076 6572 6966 6965           verifie
-00008640: 643d 2266 616c 7365 222c 0a20 2020 2020  d="false",.     
-00008650: 2020 2020 2020 2061 7574 6f5f 7072 6573         auto_pres
-00008660: 656e 743d 5472 7565 2c0a 2020 2020 2020  ent=True,.      
-00008670: 2020 2020 2020 6572 726f 725f 6d73 673d        error_msg=
-00008680: 2265 7272 6f72 222c 0a20 2020 2020 2020  "error",.       
-00008690: 2029 0a0a 2020 2020 2020 2020 7365 6c66   )..        self
-000086a0: 2e63 6f6e 7465 7874 2e69 6e6a 6563 746f  .context.injecto
-000086b0: 722e 6269 6e64 5f69 6e73 7461 6e63 6528  r.bind_instance(
-000086c0: 0a20 2020 2020 2020 2020 2020 2056 4348  .            VCH
-000086d0: 6f6c 6465 722c 0a20 2020 2020 2020 2020  older,.         
-000086e0: 2020 2061 7379 6e63 5f6d 6f63 6b2e 4d61     async_mock.Ma
-000086f0: 6769 634d 6f63 6b28 0a20 2020 2020 2020  gicMock(.       
-00008700: 2020 2020 2020 2020 2073 6561 7263 685f           search_
-00008710: 6372 6564 656e 7469 616c 733d 6173 796e  credentials=asyn
-00008720: 635f 6d6f 636b 2e4d 6167 6963 4d6f 636b  c_mock.MagicMock
-00008730: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00008740: 2020 2020 2020 7265 7475 726e 5f76 616c        return_val
-00008750: 7565 3d61 7379 6e63 5f6d 6f63 6b2e 4d61  ue=async_mock.Ma
-00008760: 6769 634d 6f63 6b28 0a20 2020 2020 2020  gicMock(.       
-00008770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008780: 2066 6574 6368 3d61 7379 6e63 5f6d 6f63   fetch=async_moc
-00008790: 6b2e 436f 726f 7574 696e 654d 6f63 6b28  k.CoroutineMock(
-000087a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000087b0: 2020 2020 2020 2020 2020 2020 2073 6964               sid
-000087c0: 655f 6566 6665 6374 3d74 6573 745f 6d6f  e_effect=test_mo
-000087d0: 6475 6c65 2e53 746f 7261 6765 4e6f 7446  dule.StorageNotF
-000087e0: 6f75 6e64 4572 726f 7228 290a 2020 2020  oundError().    
-000087f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008800: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-00008810: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
-00008820: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00008830: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
-00008840: 2020 2020 2029 0a20 2020 2020 2020 2077       ).        w
-00008850: 6974 6820 7365 6c66 2e61 7373 6572 7452  ith self.assertR
-00008860: 6169 7365 7328 5632 3050 7265 7346 6f72  aises(V20PresFor
-00008870: 6d61 7448 616e 646c 6572 4572 726f 7229  matHandlerError)
-00008880: 3a0a 2020 2020 2020 2020 2020 2020 6177  :.            aw
-00008890: 6169 7420 7365 6c66 2e68 616e 646c 6572  ait self.handler
-000088a0: 2e63 7265 6174 655f 7072 6573 2872 6563  .create_pres(rec
-000088b0: 6f72 6429 0a0a 2020 2020 6173 796e 6320  ord)..    async 
-000088c0: 6465 6620 7465 7374 5f63 7265 6174 655f  def test_create_
-000088d0: 7072 6573 5f70 645f 636c 6169 6d5f 666f  pres_pd_claim_fo
-000088e0: 726d 6174 5f65 6432 3535 2873 656c 6629  rmat_ed255(self)
-000088f0: 3a0a 2020 2020 2020 2020 7465 7374 5f70  :.        test_p
-00008900: 6420 3d20 6465 6570 636f 7079 2844 4946  d = deepcopy(DIF
-00008910: 5f50 5245 535f 5245 5155 4553 545f 4229  _PRES_REQUEST_B)
-00008920: 0a20 2020 2020 2020 2074 6573 745f 7064  .        test_pd
-00008930: 5b22 7072 6573 656e 7461 7469 6f6e 5f64  ["presentation_d
-00008940: 6566 696e 6974 696f 6e22 5d5b 2266 6f72  efinition"]["for
-00008950: 6d61 7422 5d20 3d20 7b0a 2020 2020 2020  mat"] = {.      
-00008960: 2020 2020 2020 226c 6470 5f76 7022 3a20        "ldp_vp": 
-00008970: 7b22 7072 6f6f 665f 7479 7065 223a 205b  {"proof_type": [
-00008980: 2245 6432 3535 3139 5369 676e 6174 7572  "Ed25519Signatur
-00008990: 6532 3031 3822 5d7d 0a20 2020 2020 2020  e2018"]}.       
-000089a0: 207d 0a20 2020 2020 2020 2064 656c 2074   }.        del t
-000089b0: 6573 745f 7064 5b22 7072 6573 656e 7461  est_pd["presenta
-000089c0: 7469 6f6e 5f64 6566 696e 6974 696f 6e22  tion_definition"
-000089d0: 5d5b 2269 6e70 7574 5f64 6573 6372 6970  ]["input_descrip
-000089e0: 746f 7273 225d 5b30 5d5b 2263 6f6e 7374  tors"][0]["const
-000089f0: 7261 696e 7473 225d 5b0a 2020 2020 2020  raints"][.      
-00008a00: 2020 2020 2020 226c 696d 6974 5f64 6973        "limit_dis
-00008a10: 636c 6f73 7572 6522 0a20 2020 2020 2020  closure".       
-00008a20: 205d 0a20 2020 2020 2020 2064 6966 5f70   ].        dif_p
-00008a30: 7265 735f 7265 7175 6573 7420 3d20 5632  res_request = V2
-00008a40: 3050 7265 7352 6571 7565 7374 280a 2020  0PresRequest(.  
-00008a50: 2020 2020 2020 2020 2020 666f 726d 6174            format
-00008a60: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-00008a70: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
-00008a80: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
-00008a90: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
-00008aa0: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
-00008ab0: 2020 2020 2020 2020 2020 2020 666f 726d              form
-00008ac0: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
-00008ad0: 4f52 4d41 545b 5052 4553 5f32 305f 5245  ORMAT[PRES_20_RE
-00008ae0: 5155 4553 545d 5b0a 2020 2020 2020 2020  QUEST][.        
-00008af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008b00: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
-00008b10: 726d 6174 2e44 4946 2e61 7069 0a20 2020  rmat.DIF.api.   
-00008b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008b30: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
-00008b40: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-00008b50: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
-00008b60: 2072 6571 7565 7374 5f70 7265 7365 6e74   request_present
-00008b70: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
-00008b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008b90: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
-00008ba0: 6461 7461 5f6a 736f 6e28 7465 7374 5f70  data_json(test_p
-00008bb0: 642c 2069 6465 6e74 3d22 6469 6622 290a  d, ident="dif").
-00008bc0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00008bd0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00008be0: 2072 6563 6f72 6420 3d20 5632 3050 7265   record = V20Pre
-00008bf0: 7345 7852 6563 6f72 6428 0a20 2020 2020  sExRecord(.     
-00008c00: 2020 2020 2020 2070 7265 735f 6578 5f69         pres_ex_i
-00008c10: 643d 2270 7869 6422 2c0a 2020 2020 2020  d="pxid",.      
-00008c20: 2020 2020 2020 7468 7265 6164 5f69 643d        thread_id=
-00008c30: 2274 6869 6422 2c0a 2020 2020 2020 2020  "thid",.        
-00008c40: 2020 2020 636f 6e6e 6563 7469 6f6e 5f69      connection_i
-00008c50: 643d 2263 6f6e 6e5f 6964 222c 0a20 2020  d="conn_id",.   
-00008c60: 2020 2020 2020 2020 2069 6e69 7469 6174           initiat
-00008c70: 6f72 3d22 696e 6974 222c 0a20 2020 2020  or="init",.     
-00008c80: 2020 2020 2020 2072 6f6c 653d 2272 6f6c         role="rol
-00008c90: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-00008ca0: 7374 6174 653d 2273 7461 7465 222c 0a20  state="state",. 
-00008cb0: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
-00008cc0: 7265 7175 6573 743d 6469 665f 7072 6573  request=dif_pres
-00008cd0: 5f72 6571 7565 7374 2c0a 2020 2020 2020  _request,.      
-00008ce0: 2020 2020 2020 7665 7269 6669 6564 3d22        verified="
-00008cf0: 6661 6c73 6522 2c0a 2020 2020 2020 2020  false",.        
-00008d00: 2020 2020 6175 746f 5f70 7265 7365 6e74      auto_present
-00008d10: 3d54 7275 652c 0a20 2020 2020 2020 2020  =True,.         
-00008d20: 2020 2065 7272 6f72 5f6d 7367 3d22 6572     error_msg="er
-00008d30: 726f 7222 2c0a 2020 2020 2020 2020 290a  ror",.        ).
-00008d40: 0a20 2020 2020 2020 2077 6974 6820 6173  .        with as
-00008d50: 796e 635f 6d6f 636b 2e70 6174 6368 2e6f  ync_mock.patch.o
-00008d60: 626a 6563 7428 0a20 2020 2020 2020 2020  bject(.         
-00008d70: 2020 2044 4946 5072 6573 4578 6368 4861     DIFPresExchHa
-00008d80: 6e64 6c65 722c 0a20 2020 2020 2020 2020  ndler,.         
-00008d90: 2020 2022 6372 6561 7465 5f76 7022 2c0a     "create_vp",.
-00008da0: 2020 2020 2020 2020 2020 2020 6173 796e              asyn
-00008db0: 635f 6d6f 636b 2e43 6f72 6f75 7469 6e65  c_mock.Coroutine
-00008dc0: 4d6f 636b 2829 2c0a 2020 2020 2020 2020  Mock(),.        
-00008dd0: 2920 6173 206d 6f63 6b5f 6372 6561 7465  ) as mock_create
-00008de0: 5f76 703a 0a20 2020 2020 2020 2020 2020  _vp:.           
-00008df0: 206d 6f63 6b5f 6372 6561 7465 5f76 702e   mock_create_vp.
-00008e00: 7265 7475 726e 5f76 616c 7565 203d 2044  return_value = D
-00008e10: 4946 5f50 5245 530a 2020 2020 2020 2020  IF_PRES.        
-00008e20: 2020 2020 6f75 7470 7574 203d 2061 7761      output = awa
-00008e30: 6974 2073 656c 662e 6861 6e64 6c65 722e  it self.handler.
-00008e40: 6372 6561 7465 5f70 7265 7328 7265 636f  create_pres(reco
-00008e50: 7264 2c20 7b7d 290a 2020 2020 2020 2020  rd, {}).        
-00008e60: 2020 2020 6173 7365 7274 2069 7369 6e73      assert isins
-00008e70: 7461 6e63 6528 6f75 7470 7574 5b30 5d2c  tance(output[0],
-00008e80: 2056 3230 5072 6573 466f 726d 6174 2920   V20PresFormat) 
-00008e90: 616e 6420 6973 696e 7374 616e 6365 280a  and isinstance(.
-00008ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008eb0: 6f75 7470 7574 5b31 5d2c 2041 7474 6163  output[1], Attac
-00008ec0: 6844 6563 6f72 6174 6f72 0a20 2020 2020  hDecorator.     
-00008ed0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00008ee0: 2020 2020 2061 7373 6572 7420 6f75 7470       assert outp
-00008ef0: 7574 5b31 5d2e 6461 7461 2e6a 736f 6e5f  ut[1].data.json_
-00008f00: 203d 3d20 4449 465f 5052 4553 0a0a 2020   == DIF_PRES..  
-00008f10: 2020 6173 796e 6320 6465 6620 7465 7374    async def test
-00008f20: 5f63 7265 6174 655f 7072 6573 5f70 645f  _create_pres_pd_
-00008f30: 636c 6169 6d5f 666f 726d 6174 5f62 6c73  claim_format_bls
-00008f40: 3132 3338 3167 3228 7365 6c66 293a 0a20  12381g2(self):. 
-00008f50: 2020 2020 2020 2074 6573 745f 7064 203d         test_pd =
-00008f60: 2064 6565 7063 6f70 7928 4449 465f 5052   deepcopy(DIF_PR
-00008f70: 4553 5f52 4551 5545 5354 5f42 290a 2020  ES_REQUEST_B).  
-00008f80: 2020 2020 2020 7465 7374 5f70 645b 2270        test_pd["p
-00008f90: 7265 7365 6e74 6174 696f 6e5f 6465 6669  resentation_defi
-00008fa0: 6e69 7469 6f6e 225d 5b22 666f 726d 6174  nition"]["format
-00008fb0: 225d 203d 207b 0a20 2020 2020 2020 2020  "] = {.         
-00008fc0: 2020 2022 6c64 705f 7670 223a 207b 2270     "ldp_vp": {"p
-00008fd0: 726f 6f66 5f74 7970 6522 3a20 5b22 4262  roof_type": ["Bb
-00008fe0: 7342 6c73 5369 676e 6174 7572 6532 3032  sBlsSignature202
-00008ff0: 3022 5d7d 0a20 2020 2020 2020 207d 0a20  0"]}.        }. 
-00009000: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
-00009010: 7265 7175 6573 7420 3d20 5632 3050 7265  request = V20Pre
-00009020: 7352 6571 7565 7374 280a 2020 2020 2020  sRequest(.      
-00009030: 2020 2020 2020 666f 726d 6174 733d 5b0a        formats=[.
-00009040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009050: 5632 3050 7265 7346 6f72 6d61 7428 0a20  V20PresFormat(. 
-00009060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009070: 2020 2061 7474 6163 685f 6964 3d22 6469     attach_id="di
-00009080: 6622 2c0a 2020 2020 2020 2020 2020 2020  f",.            
-00009090: 2020 2020 2020 2020 666f 726d 6174 5f3d          format_=
-000090a0: 4154 5441 4348 4d45 4e54 5f46 4f52 4d41  ATTACHMENT_FORMA
-000090b0: 545b 5052 4553 5f32 305f 5245 5155 4553  T[PRES_20_REQUES
-000090c0: 545d 5b0a 2020 2020 2020 2020 2020 2020  T][.            
-000090d0: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
-000090e0: 7265 7346 6f72 6d61 742e 466f 726d 6174  resFormat.Format
-000090f0: 2e44 4946 2e61 7069 0a20 2020 2020 2020  .DIF.api.       
-00009100: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
-00009110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009120: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-00009130: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-00009140: 7565 7374 5f70 7265 7365 6e74 6174 696f  uest_presentatio
-00009150: 6e73 5f61 7474 6163 683d 5b0a 2020 2020  ns_attach=[.    
-00009160: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
-00009170: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
-00009180: 5f6a 736f 6e28 7465 7374 5f70 642c 2069  _json(test_pd, i
-00009190: 6465 6e74 3d22 6469 6622 290a 2020 2020  dent="dif").    
-000091a0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
-000091b0: 2020 2029 0a20 2020 2020 2020 2072 6563     ).        rec
-000091c0: 6f72 6420 3d20 5632 3050 7265 7345 7852  ord = V20PresExR
-000091d0: 6563 6f72 6428 0a20 2020 2020 2020 2020  ecord(.         
-000091e0: 2020 2070 7265 735f 6578 5f69 643d 2270     pres_ex_id="p
-000091f0: 7869 6422 2c0a 2020 2020 2020 2020 2020  xid",.          
-00009200: 2020 7468 7265 6164 5f69 643d 2274 6869    thread_id="thi
-00009210: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-00009220: 636f 6e6e 6563 7469 6f6e 5f69 643d 2263  connection_id="c
-00009230: 6f6e 6e5f 6964 222c 0a20 2020 2020 2020  onn_id",.       
-00009240: 2020 2020 2069 6e69 7469 6174 6f72 3d22       initiator="
-00009250: 696e 6974 222c 0a20 2020 2020 2020 2020  init",.         
-00009260: 2020 2072 6f6c 653d 2272 6f6c 6522 2c0a     role="role",.
-00009270: 2020 2020 2020 2020 2020 2020 7374 6174              stat
-00009280: 653d 2273 7461 7465 222c 0a20 2020 2020  e="state",.     
-00009290: 2020 2020 2020 2070 7265 735f 7265 7175         pres_requ
-000092a0: 6573 743d 6469 665f 7072 6573 5f72 6571  est=dif_pres_req
-000092b0: 7565 7374 2c0a 2020 2020 2020 2020 2020  uest,.          
-000092c0: 2020 7665 7269 6669 6564 3d22 6661 6c73    verified="fals
-000092d0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-000092e0: 6175 746f 5f70 7265 7365 6e74 3d54 7275  auto_present=Tru
-000092f0: 652c 0a20 2020 2020 2020 2020 2020 2065  e,.            e
-00009300: 7272 6f72 5f6d 7367 3d22 6572 726f 7222  rror_msg="error"
-00009310: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
-00009320: 2020 2020 2077 6974 6820 6173 796e 635f       with async_
-00009330: 6d6f 636b 2e70 6174 6368 2e6f 626a 6563  mock.patch.objec
-00009340: 7428 0a20 2020 2020 2020 2020 2020 2044  t(.            D
-00009350: 4946 5072 6573 4578 6368 4861 6e64 6c65  IFPresExchHandle
-00009360: 722c 0a20 2020 2020 2020 2020 2020 2022  r,.            "
-00009370: 6372 6561 7465 5f76 7022 2c0a 2020 2020  create_vp",.    
-00009380: 2020 2020 2020 2020 6173 796e 635f 6d6f          async_mo
-00009390: 636b 2e43 6f72 6f75 7469 6e65 4d6f 636b  ck.CoroutineMock
-000093a0: 2829 2c0a 2020 2020 2020 2020 2920 6173  (),.        ) as
-000093b0: 206d 6f63 6b5f 6372 6561 7465 5f76 703a   mock_create_vp:
-000093c0: 0a20 2020 2020 2020 2020 2020 206d 6f63  .            moc
-000093d0: 6b5f 6372 6561 7465 5f76 702e 7265 7475  k_create_vp.retu
-000093e0: 726e 5f76 616c 7565 203d 2044 4946 5f50  rn_value = DIF_P
-000093f0: 5245 530a 2020 2020 2020 2020 2020 2020  RES.            
-00009400: 6f75 7470 7574 203d 2061 7761 6974 2073  output = await s
-00009410: 656c 662e 6861 6e64 6c65 722e 6372 6561  elf.handler.crea
-00009420: 7465 5f70 7265 7328 7265 636f 7264 2c20  te_pres(record, 
-00009430: 7b7d 290a 2020 2020 2020 2020 2020 2020  {}).            
-00009440: 6173 7365 7274 2069 7369 6e73 7461 6e63  assert isinstanc
-00009450: 6528 6f75 7470 7574 5b30 5d2c 2056 3230  e(output[0], V20
-00009460: 5072 6573 466f 726d 6174 2920 616e 6420  PresFormat) and 
-00009470: 6973 696e 7374 616e 6365 280a 2020 2020  isinstance(.    
-00009480: 2020 2020 2020 2020 2020 2020 6f75 7470              outp
-00009490: 7574 5b31 5d2c 2041 7474 6163 6844 6563  ut[1], AttachDec
-000094a0: 6f72 6174 6f72 0a20 2020 2020 2020 2020  orator.         
-000094b0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-000094c0: 2061 7373 6572 7420 6f75 7470 7574 5b31   assert output[1
-000094d0: 5d2e 6461 7461 2e6a 736f 6e5f 203d 3d20  ].data.json_ == 
-000094e0: 4449 465f 5052 4553 0a0a 2020 2020 6173  DIF_PRES..    as
-000094f0: 796e 6320 6465 6620 7465 7374 5f76 6572  ync def test_ver
-00009500: 6966 795f 7072 6573 2873 656c 6629 3a0a  ify_pres(self):.
-00009510: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-00009520: 203d 2056 3230 5072 6573 280a 2020 2020   = V20Pres(.    
-00009530: 2020 2020 2020 2020 666f 726d 6174 733d          formats=
-00009540: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00009550: 2020 5632 3050 7265 7346 6f72 6d61 7428    V20PresFormat(
-00009560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009570: 2020 2020 2061 7474 6163 685f 6964 3d22       attach_id="
-00009580: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
-00009590: 2020 2020 2020 2020 2020 666f 726d 6174            format
-000095a0: 5f3d 4154 5441 4348 4d45 4e54 5f46 4f52  _=ATTACHMENT_FOR
-000095b0: 4d41 545b 5052 4553 5f32 305d 5b56 3230  MAT[PRES_20][V20
-000095c0: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
-000095d0: 742e 4449 462e 6170 695d 2c0a 2020 2020  t.DIF.api],.    
-000095e0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000095f0: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-00009600: 2020 2020 2020 2020 2070 7265 7365 6e74           present
-00009610: 6174 696f 6e73 5f61 7474 6163 683d 5b41  ations_attach=[A
-00009620: 7474 6163 6844 6563 6f72 6174 6f72 2e64  ttachDecorator.d
-00009630: 6174 615f 6a73 6f6e 2844 4946 5f50 5245  ata_json(DIF_PRE
-00009640: 532c 2069 6465 6e74 3d22 6469 6622 295d  S, ident="dif")]
-00009650: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00009660: 2020 2020 6469 665f 7072 6573 5f72 6571      dif_pres_req
-00009670: 7565 7374 203d 2056 3230 5072 6573 5265  uest = V20PresRe
-00009680: 7175 6573 7428 0a20 2020 2020 2020 2020  quest(.         
-00009690: 2020 2066 6f72 6d61 7473 3d5b 0a20 2020     formats=[.   
-000096a0: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-000096b0: 5072 6573 466f 726d 6174 280a 2020 2020  PresFormat(.    
-000096c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000096d0: 6174 7461 6368 5f69 643d 2264 6966 222c  attach_id="dif",
-000096e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000096f0: 2020 2020 2066 6f72 6d61 745f 3d41 5454       format_=ATT
-00009700: 4143 484d 454e 545f 464f 524d 4154 5b50  ACHMENT_FORMAT[P
-00009710: 5245 535f 3230 5f52 4551 5545 5354 5d5b  RES_20_REQUEST][
-00009720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009730: 2020 2020 2020 2020 2056 3230 5072 6573           V20Pres
-00009740: 466f 726d 6174 2e46 6f72 6d61 742e 4449  Format.Format.DI
-00009750: 462e 6170 690a 2020 2020 2020 2020 2020  F.api.          
-00009760: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-00009770: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-00009780: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00009790: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-000097a0: 745f 7072 6573 656e 7461 7469 6f6e 735f  t_presentations_
-000097b0: 6174 7461 6368 3d5b 0a20 2020 2020 2020  attach=[.       
-000097c0: 2020 2020 2020 2020 2041 7474 6163 6844           AttachD
-000097d0: 6563 6f72 6174 6f72 2e64 6174 615f 6a73  ecorator.data_js
-000097e0: 6f6e 2844 4946 5f50 5245 535f 5245 5155  on(DIF_PRES_REQU
-000097f0: 4553 545f 422c 2069 6465 6e74 3d22 6469  EST_B, ident="di
-00009800: 6622 290a 2020 2020 2020 2020 2020 2020  f").            
-00009810: 5d2c 0a20 2020 2020 2020 2029 0a20 2020  ],.        ).   
-00009820: 2020 2020 2072 6563 6f72 6420 3d20 5632       record = V2
-00009830: 3050 7265 7345 7852 6563 6f72 6428 0a20  0PresExRecord(. 
-00009840: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
-00009850: 6578 5f69 643d 2270 7869 6422 2c0a 2020  ex_id="pxid",.  
-00009860: 2020 2020 2020 2020 2020 7468 7265 6164            thread
-00009870: 5f69 643d 2274 6869 6422 2c0a 2020 2020  _id="thid",.    
-00009880: 2020 2020 2020 2020 636f 6e6e 6563 7469          connecti
-00009890: 6f6e 5f69 643d 2263 6f6e 6e5f 6964 222c  on_id="conn_id",
-000098a0: 0a20 2020 2020 2020 2020 2020 2069 6e69  .            ini
-000098b0: 7469 6174 6f72 3d22 696e 6974 222c 0a20  tiator="init",. 
-000098c0: 2020 2020 2020 2020 2020 2072 6f6c 653d             role=
-000098d0: 2272 6f6c 6522 2c0a 2020 2020 2020 2020  "role",.        
-000098e0: 2020 2020 7374 6174 653d 2273 7461 7465      state="state
-000098f0: 222c 0a20 2020 2020 2020 2020 2020 2070  ",.            p
-00009900: 7265 735f 7265 7175 6573 743d 6469 665f  res_request=dif_
-00009910: 7072 6573 5f72 6571 7565 7374 2c0a 2020  pres_request,.  
-00009920: 2020 2020 2020 2020 2020 7072 6573 3d64            pres=d
-00009930: 6966 5f70 7265 732c 0a20 2020 2020 2020  if_pres,.       
-00009940: 2020 2020 2076 6572 6966 6965 643d 2266       verified="f
-00009950: 616c 7365 222c 0a20 2020 2020 2020 2020  alse",.         
-00009960: 2020 2061 7574 6f5f 7072 6573 656e 743d     auto_present=
-00009970: 5472 7565 2c0a 2020 2020 2020 2020 2020  True,.          
-00009980: 2020 6572 726f 725f 6d73 673d 2265 7272    error_msg="err
-00009990: 6f72 222c 0a20 2020 2020 2020 2029 0a0a  or",.        )..
-000099a0: 2020 2020 2020 2020 7769 7468 2061 7379          with asy
-000099b0: 6e63 5f6d 6f63 6b2e 7061 7463 682e 6f62  nc_mock.patch.ob
-000099c0: 6a65 6374 280a 2020 2020 2020 2020 2020  ject(.          
-000099d0: 2020 7465 7374 5f6d 6f64 756c 652c 0a20    test_module,. 
-000099e0: 2020 2020 2020 2020 2020 2022 7665 7269             "veri
-000099f0: 6679 5f70 7265 7365 6e74 6174 696f 6e22  fy_presentation"
-00009a00: 2c0a 2020 2020 2020 2020 2020 2020 6173  ,.            as
-00009a10: 796e 635f 6d6f 636b 2e43 6f72 6f75 7469  ync_mock.Corouti
-00009a20: 6e65 4d6f 636b 280a 2020 2020 2020 2020  neMock(.        
-00009a30: 2020 2020 2020 2020 7265 7475 726e 5f76          return_v
-00009a40: 616c 7565 3d50 7265 7365 6e74 6174 696f  alue=Presentatio
-00009a50: 6e56 6572 6966 6963 6174 696f 6e52 6573  nVerificationRes
-00009a60: 756c 7428 7665 7269 6669 6564 3d54 7275  ult(verified=Tru
-00009a70: 6529 0a20 2020 2020 2020 2020 2020 2029  e).            )
-00009a80: 2c0a 2020 2020 2020 2020 2920 6173 206d  ,.        ) as m
-00009a90: 6f63 6b5f 7672 3a0a 2020 2020 2020 2020  ock_vr:.        
-00009aa0: 2020 2020 6f75 7470 7574 203d 2061 7761      output = awa
-00009ab0: 6974 2073 656c 662e 6861 6e64 6c65 722e  it self.handler.
-00009ac0: 7665 7269 6679 5f70 7265 7328 7265 636f  verify_pres(reco
-00009ad0: 7264 290a 2020 2020 2020 2020 2020 2020  rd).            
-00009ae0: 6173 7365 7274 206f 7574 7075 742e 7665  assert output.ve
-00009af0: 7269 6669 6564 0a0a 2020 2020 6173 796e  rified..    asyn
-00009b00: 6320 6465 6620 7465 7374 5f76 6572 6966  c def test_verif
-00009b10: 795f 7072 6573 5f6e 6f5f 6368 616c 6c65  y_pres_no_challe
-00009b20: 6e67 6528 7365 6c66 293a 0a20 2020 2020  nge(self):.     
-00009b30: 2020 2074 6573 745f 7064 203d 2064 6565     test_pd = dee
-00009b40: 7063 6f70 7928 4449 465f 5052 4553 5f52  pcopy(DIF_PRES_R
-00009b50: 4551 5545 5354 5f42 290a 2020 2020 2020  EQUEST_B).      
-00009b60: 2020 6465 6c20 7465 7374 5f70 645b 226f    del test_pd["o
-00009b70: 7074 696f 6e73 225d 5b22 6368 616c 6c65  ptions"]["challe
-00009b80: 6e67 6522 5d0a 2020 2020 2020 2020 6469  nge"].        di
-00009b90: 665f 7072 6573 5f72 6571 7565 7374 203d  f_pres_request =
-00009ba0: 2056 3230 5072 6573 5265 7175 6573 7428   V20PresRequest(
-00009bb0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00009bc0: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
-00009bd0: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
-00009be0: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
-00009bf0: 2020 2020 2020 2020 2020 6174 7461 6368            attach
-00009c00: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
-00009c10: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00009c20: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
-00009c30: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
-00009c40: 5f52 4551 5545 5354 5d5b 0a20 2020 2020  _REQUEST][.     
-00009c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009c60: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
-00009c70: 2e46 6f72 6d61 742e 4449 462e 6170 690a  .Format.DIF.api.
-00009c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009c90: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-00009ca0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00009cb0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-00009cc0: 2020 2020 7265 7175 6573 745f 7072 6573      request_pres
-00009cd0: 656e 7461 7469 6f6e 735f 6174 7461 6368  entations_attach
-00009ce0: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
-00009cf0: 2020 2041 7474 6163 6844 6563 6f72 6174     AttachDecorat
-00009d00: 6f72 2e64 6174 615f 6a73 6f6e 2874 6573  or.data_json(tes
-00009d10: 745f 7064 2c20 6964 656e 743d 2264 6966  t_pd, ident="dif
-00009d20: 2229 0a20 2020 2020 2020 2020 2020 205d  ").            ]
-00009d30: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00009d40: 2020 2020 6469 665f 7072 6573 203d 2056      dif_pres = V
-00009d50: 3230 5072 6573 280a 2020 2020 2020 2020  20Pres(.        
-00009d60: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
-00009d70: 2020 2020 2020 2020 2020 2020 2020 5632                V2
-00009d80: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
-00009d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009da0: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
-00009db0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00009dc0: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
-00009dd0: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
-00009de0: 5052 4553 5f32 305d 5b56 3230 5072 6573  PRES_20][V20Pres
-00009df0: 466f 726d 6174 2e46 6f72 6d61 742e 4449  Format.Format.DI
-00009e00: 462e 6170 695d 2c0a 2020 2020 2020 2020  F.api],.        
-00009e10: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00009e20: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00009e30: 2020 2020 2070 7265 7365 6e74 6174 696f       presentatio
-00009e40: 6e73 5f61 7474 6163 683d 5b41 7474 6163  ns_attach=[Attac
-00009e50: 6844 6563 6f72 6174 6f72 2e64 6174 615f  hDecorator.data_
-00009e60: 6a73 6f6e 2844 4946 5f50 5245 532c 2069  json(DIF_PRES, i
-00009e70: 6465 6e74 3d22 6469 6622 295d 2c0a 2020  dent="dif")],.  
-00009e80: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00009e90: 7265 636f 7264 203d 2056 3230 5072 6573  record = V20Pres
-00009ea0: 4578 5265 636f 7264 280a 2020 2020 2020  ExRecord(.      
-00009eb0: 2020 2020 2020 7072 6573 5f65 785f 6964        pres_ex_id
-00009ec0: 3d22 7078 6964 222c 0a20 2020 2020 2020  ="pxid",.       
-00009ed0: 2020 2020 2074 6872 6561 645f 6964 3d22       thread_id="
-00009ee0: 7468 6964 222c 0a20 2020 2020 2020 2020  thid",.         
-00009ef0: 2020 2063 6f6e 6e65 6374 696f 6e5f 6964     connection_id
-00009f00: 3d22 636f 6e6e 5f69 6422 2c0a 2020 2020  ="conn_id",.    
-00009f10: 2020 2020 2020 2020 696e 6974 6961 746f          initiato
-00009f20: 723d 2269 6e69 7422 2c0a 2020 2020 2020  r="init",.      
-00009f30: 2020 2020 2020 726f 6c65 3d22 726f 6c65        role="role
-00009f40: 222c 0a20 2020 2020 2020 2020 2020 2073  ",.            s
-00009f50: 7461 7465 3d22 7374 6174 6522 2c0a 2020  tate="state",.  
-00009f60: 2020 2020 2020 2020 2020 7072 6573 5f72            pres_r
-00009f70: 6571 7565 7374 3d64 6966 5f70 7265 735f  equest=dif_pres_
-00009f80: 7265 7175 6573 742c 0a20 2020 2020 2020  request,.       
-00009f90: 2020 2020 2070 7265 733d 6469 665f 7072       pres=dif_pr
-00009fa0: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
-00009fb0: 7665 7269 6669 6564 3d22 6661 6c73 6522  verified="false"
-00009fc0: 2c0a 2020 2020 2020 2020 2020 2020 6175  ,.            au
-00009fd0: 746f 5f70 7265 7365 6e74 3d54 7275 652c  to_present=True,
-00009fe0: 0a20 2020 2020 2020 2020 2020 2065 7272  .            err
-00009ff0: 6f72 5f6d 7367 3d22 6572 726f 7222 2c0a  or_msg="error",.
-0000a000: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-0000a010: 2020 2061 7373 6572 7420 6177 6169 7420     assert await 
-0000a020: 7365 6c66 2e68 616e 646c 6572 2e76 6572  self.handler.ver
-0000a030: 6966 795f 7072 6573 2872 6563 6f72 6429  ify_pres(record)
-0000a040: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-0000a050: 7465 7374 5f63 7265 6174 655f 7072 6573  test_create_pres
-0000a060: 5f63 7265 645f 6c69 6d69 745f 6469 7363  _cred_limit_disc
-0000a070: 6c6f 7375 7265 5f6e 6f5f 6262 7328 7365  losure_no_bbs(se
-0000a080: 6c66 293a 0a20 2020 2020 2020 2074 6573  lf):.        tes
-0000a090: 745f 7064 203d 2064 6565 7063 6f70 7928  t_pd = deepcopy(
-0000a0a0: 4449 465f 5052 4553 5f52 4551 5545 5354  DIF_PRES_REQUEST
-0000a0b0: 5f42 290a 2020 2020 2020 2020 7465 7374  _B).        test
-0000a0c0: 5f70 645b 2270 7265 7365 6e74 6174 696f  _pd["presentatio
-0000a0d0: 6e5f 6465 6669 6e69 7469 6f6e 225d 5b22  n_definition"]["
-0000a0e0: 666f 726d 6174 225d 203d 207b 0a20 2020  format"] = {.   
-0000a0f0: 2020 2020 2020 2020 2022 6c64 705f 7670           "ldp_vp
-0000a100: 223a 207b 2270 726f 6f66 5f74 7970 6522  ": {"proof_type"
-0000a110: 3a20 5b22 4564 3235 3531 3953 6967 6e61  : ["Ed25519Signa
-0000a120: 7475 7265 3230 3138 225d 7d0a 2020 2020  ture2018"]}.    
-0000a130: 2020 2020 7d0a 2020 2020 2020 2020 6469      }.        di
-0000a140: 665f 7072 6573 5f72 6571 7565 7374 203d  f_pres_request =
-0000a150: 2056 3230 5072 6573 5265 7175 6573 7428   V20PresRequest(
-0000a160: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-0000a170: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
-0000a180: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
-0000a190: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
-0000a1a0: 2020 2020 2020 2020 2020 6174 7461 6368            attach
-0000a1b0: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
-0000a1c0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000a1d0: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
-0000a1e0: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
-0000a1f0: 5f52 4551 5545 5354 5d5b 0a20 2020 2020  _REQUEST][.     
-0000a200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a210: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
-0000a220: 2e46 6f72 6d61 742e 4449 462e 6170 690a  .Format.DIF.api.
-0000a230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a240: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-0000a250: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000a260: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-0000a270: 2020 2020 7265 7175 6573 745f 7072 6573      request_pres
-0000a280: 656e 7461 7469 6f6e 735f 6174 7461 6368  entations_attach
-0000a290: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
-0000a2a0: 2020 2041 7474 6163 6844 6563 6f72 6174     AttachDecorat
-0000a2b0: 6f72 2e64 6174 615f 6a73 6f6e 2874 6573  or.data_json(tes
-0000a2c0: 745f 7064 2c20 6964 656e 743d 2264 6966  t_pd, ident="dif
-0000a2d0: 2229 0a20 2020 2020 2020 2020 2020 205d  ").            ]
-0000a2e0: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-0000a2f0: 2020 2020 7265 636f 7264 203d 2056 3230      record = V20
-0000a300: 5072 6573 4578 5265 636f 7264 280a 2020  PresExRecord(.  
-0000a310: 2020 2020 2020 2020 2020 7072 6573 5f65            pres_e
-0000a320: 785f 6964 3d22 7078 6964 222c 0a20 2020  x_id="pxid",.   
-0000a330: 2020 2020 2020 2020 2074 6872 6561 645f           thread_
-0000a340: 6964 3d22 7468 6964 222c 0a20 2020 2020  id="thid",.     
-0000a350: 2020 2020 2020 2063 6f6e 6e65 6374 696f         connectio
-0000a360: 6e5f 6964 3d22 636f 6e6e 5f69 6422 2c0a  n_id="conn_id",.
-0000a370: 2020 2020 2020 2020 2020 2020 696e 6974              init
-0000a380: 6961 746f 723d 2269 6e69 7422 2c0a 2020  iator="init",.  
-0000a390: 2020 2020 2020 2020 2020 726f 6c65 3d22            role="
-0000a3a0: 726f 6c65 222c 0a20 2020 2020 2020 2020  role",.         
-0000a3b0: 2020 2073 7461 7465 3d22 7374 6174 6522     state="state"
-0000a3c0: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
-0000a3d0: 6573 5f72 6571 7565 7374 3d64 6966 5f70  es_request=dif_p
-0000a3e0: 7265 735f 7265 7175 6573 742c 0a20 2020  res_request,.   
-0000a3f0: 2020 2020 2020 2020 2076 6572 6966 6965           verifie
-0000a400: 643d 2266 616c 7365 222c 0a20 2020 2020  d="false",.     
-0000a410: 2020 2020 2020 2061 7574 6f5f 7072 6573         auto_pres
-0000a420: 656e 743d 5472 7565 2c0a 2020 2020 2020  ent=True,.      
-0000a430: 2020 2020 2020 6572 726f 725f 6d73 673d        error_msg=
-0000a440: 2265 7272 6f72 222c 0a20 2020 2020 2020  "error",.       
-0000a450: 2029 0a0a 2020 2020 2020 2020 7769 7468   )..        with
-0000a460: 2073 656c 662e 6173 7365 7274 5261 6973   self.assertRais
-0000a470: 6573 2856 3230 5072 6573 466f 726d 6174  es(V20PresFormat
-0000a480: 4861 6e64 6c65 7245 7272 6f72 293a 0a20  HandlerError):. 
-0000a490: 2020 2020 2020 2020 2020 2061 7761 6974             await
-0000a4a0: 2073 656c 662e 6861 6e64 6c65 722e 6372   self.handler.cr
-0000a4b0: 6561 7465 5f70 7265 7328 7265 636f 7264  eate_pres(record
-0000a4c0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
-0000a4d0: 2074 6573 745f 6372 6561 7465 5f70 7265   test_create_pre
-0000a4e0: 735f 6372 6564 5f63 6c61 696d 5f66 6f72  s_cred_claim_for
-0000a4f0: 6d61 745f 7369 6e67 6c65 5f6c 6470 5f76  mat_single_ldp_v
-0000a500: 705f 6572 726f 7228 7365 6c66 293a 0a20  p_error(self):. 
-0000a510: 2020 2020 2020 2074 6573 745f 7064 203d         test_pd =
-0000a520: 2064 6565 7063 6f70 7928 4449 465f 5052   deepcopy(DIF_PR
-0000a530: 4553 5f52 4551 5545 5354 5f42 290a 2020  ES_REQUEST_B).  
-0000a540: 2020 2020 2020 7465 7374 5f70 645b 2270        test_pd["p
-0000a550: 7265 7365 6e74 6174 696f 6e5f 6465 6669  resentation_defi
-0000a560: 6e69 7469 6f6e 225d 5b22 666f 726d 6174  nition"]["format
-0000a570: 225d 203d 207b 0a20 2020 2020 2020 2020  "] = {.         
-0000a580: 2020 2022 6c64 705f 7670 223a 207b 2270     "ldp_vp": {"p
-0000a590: 726f 6f66 5f74 7970 6522 3a20 5b22 7465  roof_type": ["te
-0000a5a0: 7374 225d 7d0a 2020 2020 2020 2020 7d0a  st"]}.        }.
-0000a5b0: 2020 2020 2020 2020 6465 6c20 7465 7374          del test
-0000a5c0: 5f70 645b 2270 7265 7365 6e74 6174 696f  _pd["presentatio
-0000a5d0: 6e5f 6465 6669 6e69 7469 6f6e 225d 5b22  n_definition"]["
-0000a5e0: 696e 7075 745f 6465 7363 7269 7074 6f72  input_descriptor
-0000a5f0: 7322 5d5b 305d 5b22 636f 6e73 7472 6169  s"][0]["constrai
-0000a600: 6e74 7322 5d5b 0a20 2020 2020 2020 2020  nts"][.         
-0000a610: 2020 2022 6c69 6d69 745f 6469 7363 6c6f     "limit_disclo
-0000a620: 7375 7265 220a 2020 2020 2020 2020 5d0a  sure".        ].
-0000a630: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-0000a640: 5f72 6571 7565 7374 203d 2056 3230 5072  _request = V20Pr
-0000a650: 6573 5265 7175 6573 7428 0a20 2020 2020  esRequest(.     
-0000a660: 2020 2020 2020 2066 6f72 6d61 7473 3d5b         formats=[
-0000a670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a680: 2056 3230 5072 6573 466f 726d 6174 280a   V20PresFormat(.
-0000a690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a6a0: 2020 2020 6174 7461 6368 5f69 643d 2264      attach_id="d
-0000a6b0: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
-0000a6c0: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
-0000a6d0: 3d41 5454 4143 484d 454e 545f 464f 524d  =ATTACHMENT_FORM
-0000a6e0: 4154 5b50 5245 535f 3230 5f52 4551 5545  AT[PRES_20_REQUE
-0000a6f0: 5354 5d5b 0a20 2020 2020 2020 2020 2020  ST][.           
-0000a700: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-0000a710: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
-0000a720: 742e 4449 462e 6170 690a 2020 2020 2020  t.DIF.api.      
-0000a730: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-0000a740: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a750: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
-0000a760: 2c0a 2020 2020 2020 2020 2020 2020 7265  ,.            re
-0000a770: 7175 6573 745f 7072 6573 656e 7461 7469  quest_presentati
-0000a780: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
-0000a790: 2020 2020 2020 2020 2020 2020 2041 7474               Att
-0000a7a0: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
-0000a7b0: 615f 6a73 6f6e 2874 6573 745f 7064 2c20  a_json(test_pd, 
-0000a7c0: 6964 656e 743d 2264 6966 2229 0a20 2020  ident="dif").   
-0000a7d0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
-0000a7e0: 2020 2020 290a 2020 2020 2020 2020 7265      ).        re
-0000a7f0: 636f 7264 203d 2056 3230 5072 6573 4578  cord = V20PresEx
-0000a800: 5265 636f 7264 280a 2020 2020 2020 2020  Record(.        
-0000a810: 2020 2020 7072 6573 5f65 785f 6964 3d22      pres_ex_id="
-0000a820: 7078 6964 222c 0a20 2020 2020 2020 2020  pxid",.         
-0000a830: 2020 2074 6872 6561 645f 6964 3d22 7468     thread_id="th
-0000a840: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
-0000a850: 2063 6f6e 6e65 6374 696f 6e5f 6964 3d22   connection_id="
-0000a860: 636f 6e6e 5f69 6422 2c0a 2020 2020 2020  conn_id",.      
-0000a870: 2020 2020 2020 696e 6974 6961 746f 723d        initiator=
-0000a880: 2269 6e69 7422 2c0a 2020 2020 2020 2020  "init",.        
-0000a890: 2020 2020 726f 6c65 3d22 726f 6c65 222c      role="role",
-0000a8a0: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-0000a8b0: 7465 3d22 7374 6174 6522 2c0a 2020 2020  te="state",.    
-0000a8c0: 2020 2020 2020 2020 7072 6573 5f72 6571          pres_req
-0000a8d0: 7565 7374 3d64 6966 5f70 7265 735f 7265  uest=dif_pres_re
-0000a8e0: 7175 6573 742c 0a20 2020 2020 2020 2020  quest,.         
-0000a8f0: 2020 2076 6572 6966 6965 643d 2266 616c     verified="fal
-0000a900: 7365 222c 0a20 2020 2020 2020 2020 2020  se",.           
-0000a910: 2061 7574 6f5f 7072 6573 656e 743d 5472   auto_present=Tr
-0000a920: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
-0000a930: 6572 726f 725f 6d73 673d 2265 7272 6f72  error_msg="error
-0000a940: 222c 0a20 2020 2020 2020 2029 0a0a 2020  ",.        )..  
-0000a950: 2020 2020 2020 7769 7468 2073 656c 662e        with self.
-0000a960: 6173 7365 7274 5261 6973 6573 2856 3230  assertRaises(V20
-0000a970: 5072 6573 466f 726d 6174 4861 6e64 6c65  PresFormatHandle
-0000a980: 7245 7272 6f72 293a 0a20 2020 2020 2020  rError):.       
-0000a990: 2020 2020 2061 7761 6974 2073 656c 662e       await self.
-0000a9a0: 6861 6e64 6c65 722e 6372 6561 7465 5f70  handler.create_p
-0000a9b0: 7265 7328 7265 636f 7264 290a 0a20 2020  res(record)..   
-0000a9c0: 2061 7379 6e63 2064 6566 2074 6573 745f   async def test_
-0000a9d0: 6372 6561 7465 5f70 7265 735f 6372 6564  create_pres_cred
-0000a9e0: 5f63 6c61 696d 5f66 6f72 6d61 745f 646f  _claim_format_do
-0000a9f0: 7562 6c65 5f6c 6470 5f76 705f 6572 726f  uble_ldp_vp_erro
-0000aa00: 7228 7365 6c66 293a 0a20 2020 2020 2020  r(self):.       
-0000aa10: 2074 6573 745f 7064 203d 2064 6565 7063   test_pd = deepc
-0000aa20: 6f70 7928 4449 465f 5052 4553 5f52 4551  opy(DIF_PRES_REQ
-0000aa30: 5545 5354 5f42 290a 2020 2020 2020 2020  UEST_B).        
-0000aa40: 7465 7374 5f70 645b 2270 7265 7365 6e74  test_pd["present
-0000aa50: 6174 696f 6e5f 6465 6669 6e69 7469 6f6e  ation_definition
-0000aa60: 225d 5b22 666f 726d 6174 225d 203d 207b  "]["format"] = {
-0000aa70: 0a20 2020 2020 2020 2020 2020 2022 6c64  .            "ld
-0000aa80: 705f 7670 223a 207b 2270 726f 6f66 5f74  p_vp": {"proof_t
-0000aa90: 7970 6522 3a20 5b22 7465 7374 3122 2c20  ype": ["test1", 
-0000aaa0: 2274 6573 7432 225d 7d0a 2020 2020 2020  "test2"]}.      
-0000aab0: 2020 7d0a 2020 2020 2020 2020 6465 6c20    }.        del 
-0000aac0: 7465 7374 5f70 645b 2270 7265 7365 6e74  test_pd["present
-0000aad0: 6174 696f 6e5f 6465 6669 6e69 7469 6f6e  ation_definition
-0000aae0: 225d 5b22 696e 7075 745f 6465 7363 7269  "]["input_descri
-0000aaf0: 7074 6f72 7322 5d5b 305d 5b22 636f 6e73  ptors"][0]["cons
-0000ab00: 7472 6169 6e74 7322 5d5b 0a20 2020 2020  traints"][.     
-0000ab10: 2020 2020 2020 2022 6c69 6d69 745f 6469         "limit_di
-0000ab20: 7363 6c6f 7375 7265 220a 2020 2020 2020  sclosure".      
-0000ab30: 2020 5d0a 2020 2020 2020 2020 6469 665f    ].        dif_
-0000ab40: 7072 6573 5f72 6571 7565 7374 203d 2056  pres_request = V
-0000ab50: 3230 5072 6573 5265 7175 6573 7428 0a20  20PresRequest(. 
-0000ab60: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
-0000ab70: 7473 3d5b 0a20 2020 2020 2020 2020 2020  ts=[.           
-0000ab80: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
-0000ab90: 6174 280a 2020 2020 2020 2020 2020 2020  at(.            
-0000aba0: 2020 2020 2020 2020 6174 7461 6368 5f69          attach_i
-0000abb0: 643d 2264 6966 222c 0a20 2020 2020 2020  d="dif",.       
-0000abc0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-0000abd0: 6d61 745f 3d41 5454 4143 484d 454e 545f  mat_=ATTACHMENT_
-0000abe0: 464f 524d 4154 5b50 5245 535f 3230 5f52  FORMAT[PRES_20_R
-0000abf0: 4551 5545 5354 5d5b 0a20 2020 2020 2020  EQUEST][.       
-0000ac00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac10: 2056 3230 5072 6573 466f 726d 6174 2e46   V20PresFormat.F
-0000ac20: 6f72 6d61 742e 4449 462e 6170 690a 2020  ormat.DIF.api.  
-0000ac30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac40: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
-0000ac50: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-0000ac60: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
-0000ac70: 2020 7265 7175 6573 745f 7072 6573 656e    request_presen
-0000ac80: 7461 7469 6f6e 735f 6174 7461 6368 3d5b  tations_attach=[
-0000ac90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000aca0: 2041 7474 6163 6844 6563 6f72 6174 6f72   AttachDecorator
-0000acb0: 2e64 6174 615f 6a73 6f6e 2874 6573 745f  .data_json(test_
-0000acc0: 7064 2c20 6964 656e 743d 2264 6966 2229  pd, ident="dif")
-0000acd0: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
-0000ace0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0000acf0: 2020 7265 636f 7264 203d 2056 3230 5072    record = V20Pr
-0000ad00: 6573 4578 5265 636f 7264 280a 2020 2020  esExRecord(.    
-0000ad10: 2020 2020 2020 2020 7072 6573 5f65 785f          pres_ex_
-0000ad20: 6964 3d22 7078 6964 222c 0a20 2020 2020  id="pxid",.     
-0000ad30: 2020 2020 2020 2074 6872 6561 645f 6964         thread_id
-0000ad40: 3d22 7468 6964 222c 0a20 2020 2020 2020  ="thid",.       
-0000ad50: 2020 2020 2063 6f6e 6e65 6374 696f 6e5f       connection_
-0000ad60: 6964 3d22 636f 6e6e 5f69 6422 2c0a 2020  id="conn_id",.  
-0000ad70: 2020 2020 2020 2020 2020 696e 6974 6961            initia
-0000ad80: 746f 723d 2269 6e69 7422 2c0a 2020 2020  tor="init",.    
-0000ad90: 2020 2020 2020 2020 726f 6c65 3d22 726f          role="ro
-0000ada0: 6c65 222c 0a20 2020 2020 2020 2020 2020  le",.           
-0000adb0: 2073 7461 7465 3d22 7374 6174 6522 2c0a   state="state",.
-0000adc0: 2020 2020 2020 2020 2020 2020 7072 6573              pres
-0000add0: 5f72 6571 7565 7374 3d64 6966 5f70 7265  _request=dif_pre
-0000ade0: 735f 7265 7175 6573 742c 0a20 2020 2020  s_request,.     
-0000adf0: 2020 2020 2020 2076 6572 6966 6965 643d         verified=
-0000ae00: 2266 616c 7365 222c 0a20 2020 2020 2020  "false",.       
-0000ae10: 2020 2020 2061 7574 6f5f 7072 6573 656e       auto_presen
-0000ae20: 743d 5472 7565 2c0a 2020 2020 2020 2020  t=True,.        
-0000ae30: 2020 2020 6572 726f 725f 6d73 673d 2265      error_msg="e
-0000ae40: 7272 6f72 222c 0a20 2020 2020 2020 2029  rror",.        )
-0000ae50: 0a0a 2020 2020 2020 2020 7769 7468 2073  ..        with s
-0000ae60: 656c 662e 6173 7365 7274 5261 6973 6573  elf.assertRaises
-0000ae70: 2856 3230 5072 6573 466f 726d 6174 4861  (V20PresFormatHa
-0000ae80: 6e64 6c65 7245 7272 6f72 293a 0a20 2020  ndlerError):.   
-0000ae90: 2020 2020 2020 2020 2061 7761 6974 2073           await s
-0000aea0: 656c 662e 6861 6e64 6c65 722e 6372 6561  elf.handler.crea
-0000aeb0: 7465 5f70 7265 7328 7265 636f 7264 290a  te_pres(record).
-0000aec0: 0a20 2020 2061 7379 6e63 2064 6566 2074  .    async def t
-0000aed0: 6573 745f 6372 6561 7465 5f70 7265 735f  est_create_pres_
-0000aee0: 6372 6564 5f6e 6f5f 7461 675f 7175 6572  cred_no_tag_quer
-0000aef0: 7928 7365 6c66 293a 0a20 2020 2020 2020  y(self):.       
-0000af00: 2074 6573 745f 7064 203d 2064 6565 7063   test_pd = deepc
-0000af10: 6f70 7928 4449 465f 5052 4553 5f52 4551  opy(DIF_PRES_REQ
-0000af20: 5545 5354 5f42 290a 2020 2020 2020 2020  UEST_B).        
-0000af30: 7465 7374 5f70 645b 2270 7265 7365 6e74  test_pd["present
-0000af40: 6174 696f 6e5f 6465 6669 6e69 7469 6f6e  ation_definition
-0000af50: 225d 5b22 696e 7075 745f 6465 7363 7269  "]["input_descri
-0000af60: 7074 6f72 7322 5d5b 305d 5b22 7363 6865  ptors"][0]["sche
-0000af70: 6d61 225d 5b30 5d5b 0a20 2020 2020 2020  ma"][0][.       
-0000af80: 2020 2020 2022 7265 7175 6972 6564 220a       "required".
-0000af90: 2020 2020 2020 2020 5d20 3d20 4661 6c73          ] = Fals
-0000afa0: 650a 2020 2020 2020 2020 7465 7374 5f70  e.        test_p
-0000afb0: 645b 2270 7265 7365 6e74 6174 696f 6e5f  d["presentation_
-0000afc0: 6465 6669 6e69 7469 6f6e 225d 5b22 696e  definition"]["in
-0000afd0: 7075 745f 6465 7363 7269 7074 6f72 7322  put_descriptors"
-0000afe0: 5d5b 305d 5b22 7363 6865 6d61 225d 5b31  ][0]["schema"][1
-0000aff0: 5d5b 0a20 2020 2020 2020 2020 2020 2022  ][.            "
-0000b000: 7265 7175 6972 6564 220a 2020 2020 2020  required".      
-0000b010: 2020 5d20 3d20 4661 6c73 650a 2020 2020    ] = False.    
-0000b020: 2020 2020 6469 665f 7072 6573 5f72 6571      dif_pres_req
-0000b030: 7565 7374 203d 2056 3230 5072 6573 5265  uest = V20PresRe
-0000b040: 7175 6573 7428 0a20 2020 2020 2020 2020  quest(.         
-0000b050: 2020 2066 6f72 6d61 7473 3d5b 0a20 2020     formats=[.   
-0000b060: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-0000b070: 5072 6573 466f 726d 6174 280a 2020 2020  PresFormat(.    
-0000b080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b090: 6174 7461 6368 5f69 643d 2264 6966 222c  attach_id="dif",
-0000b0a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b0b0: 2020 2020 2066 6f72 6d61 745f 3d41 5454       format_=ATT
-0000b0c0: 4143 484d 454e 545f 464f 524d 4154 5b50  ACHMENT_FORMAT[P
-0000b0d0: 5245 535f 3230 5f52 4551 5545 5354 5d5b  RES_20_REQUEST][
-0000b0e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000b0f0: 2020 2020 2020 2020 2056 3230 5072 6573           V20Pres
-0000b100: 466f 726d 6174 2e46 6f72 6d61 742e 4449  Format.Format.DI
-0000b110: 462e 6170 690a 2020 2020 2020 2020 2020  F.api.          
-0000b120: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-0000b130: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-0000b140: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0000b150: 2020 2020 2020 2020 2020 7265 7175 6573            reques
-0000b160: 745f 7072 6573 656e 7461 7469 6f6e 735f  t_presentations_
-0000b170: 6174 7461 6368 3d5b 0a20 2020 2020 2020  attach=[.       
-0000b180: 2020 2020 2020 2020 2041 7474 6163 6844           AttachD
-0000b190: 6563 6f72 6174 6f72 2e64 6174 615f 6a73  ecorator.data_js
-0000b1a0: 6f6e 2874 6573 745f 7064 2c20 6964 656e  on(test_pd, iden
-0000b1b0: 743d 2264 6966 2229 0a20 2020 2020 2020  t="dif").       
-0000b1c0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-0000b1d0: 290a 2020 2020 2020 2020 7265 636f 7264  ).        record
-0000b1e0: 203d 2056 3230 5072 6573 4578 5265 636f   = V20PresExReco
-0000b1f0: 7264 280a 2020 2020 2020 2020 2020 2020  rd(.            
-0000b200: 7072 6573 5f65 785f 6964 3d22 7078 6964  pres_ex_id="pxid
-0000b210: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
-0000b220: 6872 6561 645f 6964 3d22 7468 6964 222c  hread_id="thid",
-0000b230: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0000b240: 6e65 6374 696f 6e5f 6964 3d22 636f 6e6e  nection_id="conn
-0000b250: 5f69 6422 2c0a 2020 2020 2020 2020 2020  _id",.          
-0000b260: 2020 696e 6974 6961 746f 723d 2269 6e69    initiator="ini
-0000b270: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
-0000b280: 726f 6c65 3d22 726f 6c65 222c 0a20 2020  role="role",.   
-0000b290: 2020 2020 2020 2020 2073 7461 7465 3d22           state="
-0000b2a0: 7374 6174 6522 2c0a 2020 2020 2020 2020  state",.        
-0000b2b0: 2020 2020 7072 6573 5f72 6571 7565 7374      pres_request
-0000b2c0: 3d64 6966 5f70 7265 735f 7265 7175 6573  =dif_pres_reques
-0000b2d0: 742c 0a20 2020 2020 2020 2020 2020 2076  t,.            v
-0000b2e0: 6572 6966 6965 643d 2266 616c 7365 222c  erified="false",
-0000b2f0: 0a20 2020 2020 2020 2020 2020 2061 7574  .            aut
-0000b300: 6f5f 7072 6573 656e 743d 5472 7565 2c0a  o_present=True,.
-0000b310: 2020 2020 2020 2020 2020 2020 6572 726f              erro
-0000b320: 725f 6d73 673d 2265 7272 6f72 222c 0a20  r_msg="error",. 
-0000b330: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
-0000b340: 2020 7769 7468 2061 7379 6e63 5f6d 6f63    with async_moc
-0000b350: 6b2e 7061 7463 682e 6f62 6a65 6374 280a  k.patch.object(.
-0000b360: 2020 2020 2020 2020 2020 2020 4449 4650              DIFP
-0000b370: 7265 7345 7863 6848 616e 646c 6572 2c0a  resExchHandler,.
-0000b380: 2020 2020 2020 2020 2020 2020 2263 7265              "cre
-0000b390: 6174 655f 7670 222c 0a20 2020 2020 2020  ate_vp",.       
-0000b3a0: 2020 2020 2061 7379 6e63 5f6d 6f63 6b2e       async_mock.
-0000b3b0: 436f 726f 7574 696e 654d 6f63 6b28 292c  CoroutineMock(),
-0000b3c0: 0a20 2020 2020 2020 2029 2061 7320 6d6f  .        ) as mo
-0000b3d0: 636b 5f63 7265 6174 655f 7670 3a0a 2020  ck_create_vp:.  
-0000b3e0: 2020 2020 2020 2020 2020 6d6f 636b 5f63            mock_c
-0000b3f0: 7265 6174 655f 7670 2e72 6574 7572 6e5f  reate_vp.return_
-0000b400: 7661 6c75 6520 3d20 4449 465f 5052 4553  value = DIF_PRES
-0000b410: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
-0000b420: 7075 7420 3d20 6177 6169 7420 7365 6c66  put = await self
-0000b430: 2e68 616e 646c 6572 2e63 7265 6174 655f  .handler.create_
-0000b440: 7072 6573 2872 6563 6f72 642c 207b 7d29  pres(record, {})
-0000b450: 0a20 2020 2020 2020 2020 2020 2061 7373  .            ass
-0000b460: 6572 7420 6973 696e 7374 616e 6365 286f  ert isinstance(o
-0000b470: 7574 7075 745b 305d 2c20 5632 3050 7265  utput[0], V20Pre
-0000b480: 7346 6f72 6d61 7429 2061 6e64 2069 7369  sFormat) and isi
-0000b490: 6e73 7461 6e63 6528 0a20 2020 2020 2020  nstance(.       
-0000b4a0: 2020 2020 2020 2020 206f 7574 7075 745b           output[
-0000b4b0: 315d 2c20 4174 7461 6368 4465 636f 7261  1], AttachDecora
-0000b4c0: 746f 720a 2020 2020 2020 2020 2020 2020  tor.            
-0000b4d0: 290a 2020 2020 2020 2020 2020 2020 6173  ).            as
-0000b4e0: 7365 7274 206f 7574 7075 745b 315d 2e64  sert output[1].d
-0000b4f0: 6174 612e 6a73 6f6e 5f20 3d3d 2044 4946  ata.json_ == DIF
-0000b500: 5f50 5245 530a 0a20 2020 2061 7379 6e63  _PRES..    async
-0000b510: 2064 6566 2074 6573 745f 6372 6561 7465   def test_create
-0000b520: 5f70 7265 735f 6372 6564 5f63 6c61 696d  _pres_cred_claim
-0000b530: 5f66 6f72 6d61 745f 6e6f 5f6c 6470 5f76  _format_no_ldp_v
-0000b540: 7028 7365 6c66 293a 0a20 2020 2020 2020  p(self):.       
-0000b550: 2074 6573 745f 7064 203d 2064 6565 7063   test_pd = deepc
-0000b560: 6f70 7928 4449 465f 5052 4553 5f52 4551  opy(DIF_PRES_REQ
-0000b570: 5545 5354 5f42 290a 2020 2020 2020 2020  UEST_B).        
-0000b580: 7465 7374 5f70 645b 2270 7265 7365 6e74  test_pd["present
-0000b590: 6174 696f 6e5f 6465 6669 6e69 7469 6f6e  ation_definition
-0000b5a0: 225d 5b22 666f 726d 6174 225d 203d 207b  "]["format"] = {
-0000b5b0: 0a20 2020 2020 2020 2020 2020 2022 6c64  .            "ld
-0000b5c0: 705f 7663 223a 207b 2270 726f 6f66 5f74  p_vc": {"proof_t
-0000b5d0: 7970 6522 3a20 5b22 7465 7374 225d 7d0a  ype": ["test"]}.
-0000b5e0: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-0000b5f0: 2020 6465 6c20 7465 7374 5f70 645b 2270    del test_pd["p
-0000b600: 7265 7365 6e74 6174 696f 6e5f 6465 6669  resentation_defi
-0000b610: 6e69 7469 6f6e 225d 5b22 696e 7075 745f  nition"]["input_
-0000b620: 6465 7363 7269 7074 6f72 7322 5d5b 305d  descriptors"][0]
-0000b630: 5b22 636f 6e73 7472 6169 6e74 7322 5d5b  ["constraints"][
-0000b640: 0a20 2020 2020 2020 2020 2020 2022 6c69  .            "li
-0000b650: 6d69 745f 6469 7363 6c6f 7375 7265 220a  mit_disclosure".
-0000b660: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
-0000b670: 2020 6469 665f 7072 6573 5f72 6571 7565    dif_pres_reque
-0000b680: 7374 203d 2056 3230 5072 6573 5265 7175  st = V20PresRequ
-0000b690: 6573 7428 0a20 2020 2020 2020 2020 2020  est(.           
-0000b6a0: 2066 6f72 6d61 7473 3d5b 0a20 2020 2020   formats=[.     
-0000b6b0: 2020 2020 2020 2020 2020 2056 3230 5072             V20Pr
-0000b6c0: 6573 466f 726d 6174 280a 2020 2020 2020  esFormat(.      
-0000b6d0: 2020 2020 2020 2020 2020 2020 2020 6174                at
-0000b6e0: 7461 6368 5f69 643d 2264 6966 222c 0a20  tach_id="dif",. 
+00008400: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00008410: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00008420: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+00008430: 2072 6571 7565 7374 5f70 7265 7365 6e74   request_present
+00008440: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
+00008450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008460: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
+00008470: 6461 7461 5f6a 736f 6e28 4449 465f 5052  data_json(DIF_PR
+00008480: 4553 5f52 4551 5545 5354 5f42 2c20 6964  ES_REQUEST_B, id
+00008490: 656e 743d 2264 6966 2229 0a20 2020 2020  ent="dif").     
+000084a0: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+000084b0: 2020 290a 2020 2020 2020 2020 7265 636f    ).        reco
+000084c0: 7264 203d 2056 3230 5072 6573 4578 5265  rd = V20PresExRe
+000084d0: 636f 7264 280a 2020 2020 2020 2020 2020  cord(.          
+000084e0: 2020 7072 6573 5f65 785f 6964 3d22 7078    pres_ex_id="px
+000084f0: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00008500: 2074 6872 6561 645f 6964 3d22 7468 6964   thread_id="thid
+00008510: 222c 0a20 2020 2020 2020 2020 2020 2063  ",.            c
+00008520: 6f6e 6e65 6374 696f 6e5f 6964 3d22 636f  onnection_id="co
+00008530: 6e6e 5f69 6422 2c0a 2020 2020 2020 2020  nn_id",.        
+00008540: 2020 2020 696e 6974 6961 746f 723d 2269      initiator="i
+00008550: 6e69 7422 2c0a 2020 2020 2020 2020 2020  nit",.          
+00008560: 2020 726f 6c65 3d22 726f 6c65 222c 0a20    role="role",. 
+00008570: 2020 2020 2020 2020 2020 2073 7461 7465             state
+00008580: 3d22 7374 6174 6522 2c0a 2020 2020 2020  ="state",.      
+00008590: 2020 2020 2020 7072 6573 5f72 6571 7565        pres_reque
+000085a0: 7374 3d64 6966 5f70 7265 735f 7265 7175  st=dif_pres_requ
+000085b0: 6573 742c 0a20 2020 2020 2020 2020 2020  est,.           
+000085c0: 2076 6572 6966 6965 643d 2266 616c 7365   verified="false
+000085d0: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
+000085e0: 7574 6f5f 7072 6573 656e 743d 5472 7565  uto_present=True
+000085f0: 2c0a 2020 2020 2020 2020 2020 2020 6572  ,.            er
+00008600: 726f 725f 6d73 673d 2265 7272 6f72 222c  ror_msg="error",
+00008610: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00008620: 2020 2072 6571 7565 7374 5f64 6174 6120     request_data 
+00008630: 3d20 7b7d 0a20 2020 2020 2020 2072 6571  = {}.        req
+00008640: 7565 7374 5f64 6174 615b 2264 6966 225d  uest_data["dif"]
+00008650: 203d 2064 6966 5f70 7265 735f 7370 6563   = dif_pres_spec
+00008660: 0a0a 2020 2020 2020 2020 7365 6c66 2e63  ..        self.c
+00008670: 6f6e 7465 7874 2e69 6e6a 6563 746f 722e  ontext.injector.
+00008680: 6269 6e64 5f69 6e73 7461 6e63 6528 0a20  bind_instance(. 
+00008690: 2020 2020 2020 2020 2020 2056 4348 6f6c             VCHol
+000086a0: 6465 722c 0a20 2020 2020 2020 2020 2020  der,.           
+000086b0: 2061 7379 6e63 5f6d 6f63 6b2e 4d61 6769   async_mock.Magi
+000086c0: 634d 6f63 6b28 0a20 2020 2020 2020 2020  cMock(.         
+000086d0: 2020 2020 2020 2073 6561 7263 685f 6372         search_cr
+000086e0: 6564 656e 7469 616c 733d 6173 796e 635f  edentials=async_
+000086f0: 6d6f 636b 2e4d 6167 6963 4d6f 636b 280a  mock.MagicMock(.
+00008700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008710: 2020 2020 7265 7475 726e 5f76 616c 7565      return_value
+00008720: 3d61 7379 6e63 5f6d 6f63 6b2e 4d61 6769  =async_mock.Magi
+00008730: 634d 6f63 6b28 0a20 2020 2020 2020 2020  cMock(.         
+00008740: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00008750: 6574 6368 3d61 7379 6e63 5f6d 6f63 6b2e  etch=async_mock.
+00008760: 436f 726f 7574 696e 654d 6f63 6b28 7265  CoroutineMock(re
+00008770: 7475 726e 5f76 616c 7565 3d63 7265 645f  turn_value=cred_
+00008780: 6c69 7374 290a 2020 2020 2020 2020 2020  list).          
+00008790: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+000087a0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+000087b0: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+000087c0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
+000087d0: 7769 7468 2061 7379 6e63 5f6d 6f63 6b2e  with async_mock.
+000087e0: 7061 7463 682e 6f62 6a65 6374 280a 2020  patch.object(.  
+000087f0: 2020 2020 2020 2020 2020 4449 4650 7265            DIFPre
+00008800: 7345 7863 6848 616e 646c 6572 2c0a 2020  sExchHandler,.  
+00008810: 2020 2020 2020 2020 2020 2263 7265 6174            "creat
+00008820: 655f 7670 222c 0a20 2020 2020 2020 2020  e_vp",.         
+00008830: 2020 2061 7379 6e63 5f6d 6f63 6b2e 436f     async_mock.Co
+00008840: 726f 7574 696e 654d 6f63 6b28 292c 0a20  routineMock(),. 
+00008850: 2020 2020 2020 2029 2061 7320 6d6f 636b         ) as mock
+00008860: 5f63 7265 6174 655f 7670 3a0a 2020 2020  _create_vp:.    
+00008870: 2020 2020 2020 2020 6d6f 636b 5f63 7265          mock_cre
+00008880: 6174 655f 7670 2e72 6574 7572 6e5f 7661  ate_vp.return_va
+00008890: 6c75 6520 3d20 4449 465f 5052 4553 0a20  lue = DIF_PRES. 
+000088a0: 2020 2020 2020 2020 2020 206f 7574 7075             outpu
+000088b0: 7420 3d20 6177 6169 7420 7365 6c66 2e68  t = await self.h
+000088c0: 616e 646c 6572 2e63 7265 6174 655f 7072  andler.create_pr
+000088d0: 6573 2872 6563 6f72 642c 2072 6571 7565  es(record, reque
+000088e0: 7374 5f64 6174 6129 0a20 2020 2020 2020  st_data).       
+000088f0: 2020 2020 2061 7373 6572 7420 6973 696e       assert isin
+00008900: 7374 616e 6365 286f 7574 7075 745b 305d  stance(output[0]
+00008910: 2c20 5632 3050 7265 7346 6f72 6d61 7429  , V20PresFormat)
+00008920: 2061 6e64 2069 7369 6e73 7461 6e63 6528   and isinstance(
+00008930: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00008940: 206f 7574 7075 745b 315d 2c20 4174 7461   output[1], Atta
+00008950: 6368 4465 636f 7261 746f 720a 2020 2020  chDecorator.    
+00008960: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00008970: 2020 2020 2020 6173 7365 7274 206f 7574        assert out
+00008980: 7075 745b 315d 2e64 6174 612e 6a73 6f6e  put[1].data.json
+00008990: 5f20 3d3d 2044 4946 5f50 5245 530a 0a20  _ == DIF_PRES.. 
+000089a0: 2020 2061 7379 6e63 2064 6566 2074 6573     async def tes
+000089b0: 745f 6372 6561 7465 5f70 7265 735f 6f6e  t_create_pres_on
+000089c0: 655f 6f66 5f66 696c 7465 7228 7365 6c66  e_of_filter(self
+000089d0: 293a 0a20 2020 2020 2020 2063 7265 645f  ):.        cred_
+000089e0: 6c69 7374 203d 205b 0a20 2020 2020 2020  list = [.       
+000089f0: 2020 2020 2056 4352 6563 6f72 6428 0a20       VCRecord(. 
+00008a00: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00008a10: 6f6e 7465 7874 733d 5b0a 2020 2020 2020  ontexts=[.      
+00008a20: 2020 2020 2020 2020 2020 2020 2020 2268                "h
+00008a30: 7474 7073 3a2f 2f77 7777 2e77 332e 6f72  ttps://www.w3.or
+00008a40: 672f 3230 3138 2f63 7265 6465 6e74 6961  g/2018/credentia
+00008a50: 6c73 2f76 3122 2c0a 2020 2020 2020 2020  ls/v1",.        
+00008a60: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
+00008a70: 7073 3a2f 2f77 7777 2e77 332e 6f72 672f  ps://www.w3.org/
+00008a80: 3230 3138 2f63 7265 6465 6e74 6961 6c73  2018/credentials
+00008a90: 2f65 7861 6d70 6c65 732f 7631 222c 0a20  /examples/v1",. 
+00008aa0: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
+00008ab0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00008ac0: 2020 6578 7061 6e64 6564 5f74 7970 6573    expanded_types
+00008ad0: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+00008ae0: 2020 2020 2020 2022 6874 7470 733a 2f2f         "https://
+00008af0: 7777 772e 7733 2e6f 7267 2f32 3031 382f  www.w3.org/2018/
+00008b00: 6372 6564 656e 7469 616c 7323 5665 7269  credentials#Veri
+00008b10: 6669 6162 6c65 4372 6564 656e 7469 616c  fiableCredential
+00008b20: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00008b30: 2020 2020 2020 2022 6874 7470 733a 2f2f         "https://
+00008b40: 6578 616d 706c 652e 6f72 672f 6578 616d  example.org/exam
+00008b50: 706c 6573 2355 6e69 7665 7273 6974 7944  ples#UniversityD
+00008b60: 6567 7265 6543 7265 6465 6e74 6961 6c22  egreeCredential"
+00008b70: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00008b80: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+00008b90: 2020 2020 2069 7373 7565 725f 6964 3d22       issuer_id="
+00008ba0: 6469 643a 6578 616d 706c 653a 3438 3933  did:example:4893
+00008bb0: 3938 3539 3322 2c0a 2020 2020 2020 2020  98593",.        
+00008bc0: 2020 2020 2020 2020 7375 626a 6563 745f          subject_
+00008bd0: 6964 733d 5b0a 2020 2020 2020 2020 2020  ids=[.          
+00008be0: 2020 2020 2020 2020 2020 2264 6964 3a73            "did:s
+00008bf0: 6f76 3a57 6757 7871 7a74 724e 6f6f 4739  ov:WgWxqztrNooG9
+00008c00: 3252 5876 7853 5457 7622 2c0a 2020 2020  2RXvxSTWv",.    
+00008c10: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+00008c20: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00008c30: 726f 6f66 5f74 7970 6573 3d5b 2245 6432  roof_types=["Ed2
+00008c40: 3535 3139 5369 676e 6174 7572 6532 3031  5519Signature201
+00008c50: 3822 5d2c 0a20 2020 2020 2020 2020 2020  8"],.           
+00008c60: 2020 2020 2073 6368 656d 615f 6964 733d       schema_ids=
+00008c70: 5b22 6874 7470 733a 2f2f 6578 616d 706c  ["https://exampl
+00008c80: 652e 6f72 672f 6578 616d 706c 6573 2f64  e.org/examples/d
+00008c90: 6567 7265 652e 6a73 6f6e 225d 2c0a 2020  egree.json"],.  
+00008ca0: 2020 2020 2020 2020 2020 2020 2020 6372                cr
+00008cb0: 6564 5f76 616c 7565 3d7b 222e 2e2e 222c  ed_value={"...",
+00008cc0: 2022 2e2e 2e22 7d2c 0a20 2020 2020 2020   "..."},.       
+00008cd0: 2020 2020 2020 2020 2067 6976 656e 5f69           given_i
+00008ce0: 643d 2268 7474 703a 2f2f 6578 616d 706c  d="http://exampl
+00008cf0: 652e 6564 752f 6372 6564 656e 7469 616c  e.edu/credential
+00008d00: 732f 3337 3332 222c 0a20 2020 2020 2020  s/3732",.       
+00008d10: 2020 2020 2020 2020 2063 7265 645f 7461           cred_ta
+00008d20: 6773 3d7b 2273 6f6d 6522 3a20 2274 6167  gs={"some": "tag
+00008d30: 227d 2c0a 2020 2020 2020 2020 2020 2020  "},.            
+00008d40: 2020 2020 7265 636f 7264 5f69 643d 2274      record_id="t
+00008d50: 6573 7431 222c 0a20 2020 2020 2020 2020  est1",.         
+00008d60: 2020 2029 0a20 2020 2020 2020 205d 0a20     ).        ]. 
+00008d70: 2020 2020 2020 2070 7265 735f 7265 7175         pres_requ
+00008d80: 6573 7420 3d20 6465 6570 636f 7079 2844  est = deepcopy(D
+00008d90: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
+00008da0: 4229 0a20 2020 2020 2020 2070 7265 735f  B).        pres_
+00008db0: 7265 7175 6573 745b 2270 7265 7365 6e74  request["present
+00008dc0: 6174 696f 6e5f 6465 6669 6e69 7469 6f6e  ation_definition
+00008dd0: 225d 5b22 696e 7075 745f 6465 7363 7269  "]["input_descri
+00008de0: 7074 6f72 7322 5d5b 305d 5b22 7363 6865  ptors"][0]["sche
+00008df0: 6d61 225d 203d 207b 0a20 2020 2020 2020  ma"] = {.       
+00008e00: 2020 2020 2022 6f6e 656f 665f 6669 6c74       "oneof_filt
+00008e10: 6572 223a 205b 0a20 2020 2020 2020 2020  er": [.         
+00008e20: 2020 2020 2020 205b 0a20 2020 2020 2020         [.       
+00008e30: 2020 2020 2020 2020 2020 2020 207b 2275               {"u
+00008e40: 7269 223a 2022 6874 7470 733a 2f2f 7777  ri": "https://ww
+00008e50: 772e 7733 2e6f 7267 2f32 3031 382f 6372  w.w3.org/2018/cr
+00008e60: 6564 656e 7469 616c 7323 5665 7269 6669  edentials#Verifi
+00008e70: 6162 6c65 4372 6564 656e 7469 616c 227d  ableCredential"}
+00008e80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00008e90: 2020 2020 2020 7b22 7572 6922 3a20 2268        {"uri": "h
+00008ea0: 7474 7073 3a2f 2f77 3369 642e 6f72 672f  ttps://w3id.org/
+00008eb0: 6369 7469 7a65 6e73 6869 7023 5065 726d  citizenship#Perm
+00008ec0: 616e 656e 7452 6573 6964 656e 7443 6172  anentResidentCar
+00008ed0: 6422 7d2c 0a20 2020 2020 2020 2020 2020  d"},.           
+00008ee0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+00008ef0: 2020 2020 2020 2020 5b7b 2275 7269 223a          [{"uri":
+00008f00: 2022 6874 7470 733a 2f2f 7777 772e 7733   "https://www.w3
+00008f10: 2e6f 7267 2f54 6573 7423 5465 7374 227d  .org/Test#Test"}
+00008f20: 5d2c 0a20 2020 2020 2020 2020 2020 205d  ],.            ]
+00008f30: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
+00008f40: 2020 2064 6966 5f70 7265 735f 7265 7175     dif_pres_requ
+00008f50: 6573 7420 3d20 5632 3050 7265 7352 6571  est = V20PresReq
+00008f60: 7565 7374 280a 2020 2020 2020 2020 2020  uest(.          
+00008f70: 2020 666f 726d 6174 733d 5b0a 2020 2020    formats=[.    
+00008f80: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
+00008f90: 7265 7346 6f72 6d61 7428 0a20 2020 2020  resFormat(.     
+00008fa0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00008fb0: 7474 6163 685f 6964 3d22 6469 6622 2c0a  ttach_id="dif",.
+00008fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008fd0: 2020 2020 666f 726d 6174 5f3d 4154 5441      format_=ATTA
+00008fe0: 4348 4d45 4e54 5f46 4f52 4d41 545b 5052  CHMENT_FORMAT[PR
+00008ff0: 4553 5f32 305f 5245 5155 4553 545d 5b0a  ES_20_REQUEST][.
+00009000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009010: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
+00009020: 6f72 6d61 742e 466f 726d 6174 2e44 4946  ormat.Format.DIF
+00009030: 2e61 7069 0a20 2020 2020 2020 2020 2020  .api.           
+00009040: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+00009050: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00009060: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00009070: 2020 2020 2020 2020 2072 6571 7565 7374           request
+00009080: 5f70 7265 7365 6e74 6174 696f 6e73 5f61  _presentations_a
+00009090: 7474 6163 683d 5b0a 2020 2020 2020 2020  ttach=[.        
+000090a0: 2020 2020 2020 2020 4174 7461 6368 4465          AttachDe
+000090b0: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
+000090c0: 6e28 7072 6573 5f72 6571 7565 7374 2c20  n(pres_request, 
+000090d0: 6964 656e 743d 2264 6966 2229 0a20 2020  ident="dif").   
+000090e0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+000090f0: 2020 2020 290a 2020 2020 2020 2020 7265      ).        re
+00009100: 636f 7264 203d 2056 3230 5072 6573 4578  cord = V20PresEx
+00009110: 5265 636f 7264 280a 2020 2020 2020 2020  Record(.        
+00009120: 2020 2020 7072 6573 5f65 785f 6964 3d22      pres_ex_id="
+00009130: 7078 6964 222c 0a20 2020 2020 2020 2020  pxid",.         
+00009140: 2020 2074 6872 6561 645f 6964 3d22 7468     thread_id="th
+00009150: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00009160: 2063 6f6e 6e65 6374 696f 6e5f 6964 3d22   connection_id="
+00009170: 636f 6e6e 5f69 6422 2c0a 2020 2020 2020  conn_id",.      
+00009180: 2020 2020 2020 696e 6974 6961 746f 723d        initiator=
+00009190: 2269 6e69 7422 2c0a 2020 2020 2020 2020  "init",.        
+000091a0: 2020 2020 726f 6c65 3d22 726f 6c65 222c      role="role",
+000091b0: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+000091c0: 7465 3d22 7374 6174 6522 2c0a 2020 2020  te="state",.    
+000091d0: 2020 2020 2020 2020 7072 6573 5f72 6571          pres_req
+000091e0: 7565 7374 3d64 6966 5f70 7265 735f 7265  uest=dif_pres_re
+000091f0: 7175 6573 742c 0a20 2020 2020 2020 2020  quest,.         
+00009200: 2020 2076 6572 6966 6965 643d 2266 616c     verified="fal
+00009210: 7365 222c 0a20 2020 2020 2020 2020 2020  se",.           
+00009220: 2061 7574 6f5f 7072 6573 656e 743d 5472   auto_present=Tr
+00009230: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
+00009240: 6572 726f 725f 6d73 673d 2265 7272 6f72  error_msg="error
+00009250: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+00009260: 2020 2020 2072 6571 7565 7374 5f64 6174       request_dat
+00009270: 6120 3d20 7b22 6469 6622 3a20 7b7d 7d0a  a = {"dif": {}}.
+00009280: 0a20 2020 2020 2020 2073 656c 662e 636f  .        self.co
+00009290: 6e74 6578 742e 696e 6a65 6374 6f72 2e62  ntext.injector.b
+000092a0: 696e 645f 696e 7374 616e 6365 280a 2020  ind_instance(.  
+000092b0: 2020 2020 2020 2020 2020 5643 486f 6c64            VCHold
+000092c0: 6572 2c0a 2020 2020 2020 2020 2020 2020  er,.            
+000092d0: 6173 796e 635f 6d6f 636b 2e4d 6167 6963  async_mock.Magic
+000092e0: 4d6f 636b 280a 2020 2020 2020 2020 2020  Mock(.          
+000092f0: 2020 2020 2020 7365 6172 6368 5f63 7265        search_cre
+00009300: 6465 6e74 6961 6c73 3d61 7379 6e63 5f6d  dentials=async_m
+00009310: 6f63 6b2e 4d61 6769 634d 6f63 6b28 0a20  ock.MagicMock(. 
+00009320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009330: 2020 2072 6574 7572 6e5f 7661 6c75 653d     return_value=
+00009340: 6173 796e 635f 6d6f 636b 2e4d 6167 6963  async_mock.Magic
+00009350: 4d6f 636b 280a 2020 2020 2020 2020 2020  Mock(.          
+00009360: 2020 2020 2020 2020 2020 2020 2020 6665                fe
+00009370: 7463 683d 6173 796e 635f 6d6f 636b 2e43  tch=async_mock.C
+00009380: 6f72 6f75 7469 6e65 4d6f 636b 2872 6574  oroutineMock(ret
+00009390: 7572 6e5f 7661 6c75 653d 6372 6564 5f6c  urn_value=cred_l
+000093a0: 6973 7429 0a20 2020 2020 2020 2020 2020  ist).           
+000093b0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+000093c0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+000093d0: 2020 2020 2020 2020 2029 2c0a 2020 2020           ),.    
+000093e0: 2020 2020 290a 0a20 2020 2020 2020 2077      )..        w
+000093f0: 6974 6820 6173 796e 635f 6d6f 636b 2e70  ith async_mock.p
+00009400: 6174 6368 2e6f 626a 6563 7428 0a20 2020  atch.object(.   
+00009410: 2020 2020 2020 2020 2044 4946 5072 6573           DIFPres
+00009420: 4578 6368 4861 6e64 6c65 722c 0a20 2020  ExchHandler,.   
+00009430: 2020 2020 2020 2020 2022 6372 6561 7465           "create
+00009440: 5f76 7022 2c0a 2020 2020 2020 2020 2020  _vp",.          
+00009450: 2020 6173 796e 635f 6d6f 636b 2e43 6f72    async_mock.Cor
+00009460: 6f75 7469 6e65 4d6f 636b 2829 2c0a 2020  outineMock(),.  
+00009470: 2020 2020 2020 2920 6173 206d 6f63 6b5f        ) as mock_
+00009480: 6372 6561 7465 5f76 703a 0a20 2020 2020  create_vp:.     
+00009490: 2020 2020 2020 206d 6f63 6b5f 6372 6561         mock_crea
+000094a0: 7465 5f76 702e 7265 7475 726e 5f76 616c  te_vp.return_val
+000094b0: 7565 203d 2044 4946 5f50 5245 530a 2020  ue = DIF_PRES.  
+000094c0: 2020 2020 2020 2020 2020 6f75 7470 7574            output
+000094d0: 203d 2061 7761 6974 2073 656c 662e 6861   = await self.ha
+000094e0: 6e64 6c65 722e 6372 6561 7465 5f70 7265  ndler.create_pre
+000094f0: 7328 7265 636f 7264 2c20 7265 7175 6573  s(record, reques
+00009500: 745f 6461 7461 290a 2020 2020 2020 2020  t_data).        
+00009510: 2020 2020 6173 7365 7274 2069 7369 6e73      assert isins
+00009520: 7461 6e63 6528 6f75 7470 7574 5b30 5d2c  tance(output[0],
+00009530: 2056 3230 5072 6573 466f 726d 6174 2920   V20PresFormat) 
+00009540: 616e 6420 6973 696e 7374 616e 6365 280a  and isinstance(.
+00009550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009560: 6f75 7470 7574 5b31 5d2c 2041 7474 6163  output[1], Attac
+00009570: 6844 6563 6f72 6174 6f72 0a20 2020 2020  hDecorator.     
+00009580: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00009590: 2020 2020 2061 7373 6572 7420 6f75 7470       assert outp
+000095a0: 7574 5b31 5d2e 6461 7461 2e6a 736f 6e5f  ut[1].data.json_
+000095b0: 203d 3d20 4449 465f 5052 4553 0a0a 2020   == DIF_PRES..  
+000095c0: 2020 6173 796e 6320 6465 6620 7465 7374    async def test
+000095d0: 5f63 7265 6174 655f 7072 6573 5f6e 6f5f  _create_pres_no_
+000095e0: 6368 616c 6c65 6e67 6528 7365 6c66 293a  challenge(self):
+000095f0: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
+00009600: 735f 7265 7120 3d20 6465 6570 636f 7079  s_req = deepcopy
+00009610: 2844 4946 5f50 5245 535f 5245 5155 4553  (DIF_PRES_REQUES
+00009620: 545f 4229 0a20 2020 2020 2020 2064 656c  T_B).        del
+00009630: 2064 6966 5f70 7265 735f 7265 715b 226f   dif_pres_req["o
+00009640: 7074 696f 6e73 225d 5b22 6368 616c 6c65  ptions"]["challe
+00009650: 6e67 6522 5d0a 2020 2020 2020 2020 6469  nge"].        di
+00009660: 665f 7072 6573 5f72 6571 7565 7374 203d  f_pres_request =
+00009670: 2056 3230 5072 6573 5265 7175 6573 7428   V20PresRequest(
+00009680: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+00009690: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
+000096a0: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
+000096b0: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+000096c0: 2020 2020 2020 2020 2020 6174 7461 6368            attach
+000096d0: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
+000096e0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+000096f0: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
+00009700: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
+00009710: 5f52 4551 5545 5354 5d5b 0a20 2020 2020  _REQUEST][.     
+00009720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009730: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
+00009740: 2e46 6f72 6d61 742e 4449 462e 6170 690a  .Format.DIF.api.
+00009750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009760: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+00009770: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00009780: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+00009790: 2020 2020 7265 7175 6573 745f 7072 6573      request_pres
+000097a0: 656e 7461 7469 6f6e 735f 6174 7461 6368  entations_attach
+000097b0: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+000097c0: 2020 2041 7474 6163 6844 6563 6f72 6174     AttachDecorat
+000097d0: 6f72 2e64 6174 615f 6a73 6f6e 2864 6966  or.data_json(dif
+000097e0: 5f70 7265 735f 7265 712c 2069 6465 6e74  _pres_req, ident
+000097f0: 3d22 6469 6622 290a 2020 2020 2020 2020  ="dif").        
+00009800: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
+00009810: 0a20 2020 2020 2020 2072 6563 6f72 6420  .        record 
+00009820: 3d20 5632 3050 7265 7345 7852 6563 6f72  = V20PresExRecor
+00009830: 6428 0a20 2020 2020 2020 2020 2020 2070  d(.            p
+00009840: 7265 735f 6578 5f69 643d 2270 7869 6422  res_ex_id="pxid"
+00009850: 2c0a 2020 2020 2020 2020 2020 2020 7468  ,.            th
+00009860: 7265 6164 5f69 643d 2274 6869 6422 2c0a  read_id="thid",.
+00009870: 2020 2020 2020 2020 2020 2020 636f 6e6e              conn
+00009880: 6563 7469 6f6e 5f69 643d 2263 6f6e 6e5f  ection_id="conn_
+00009890: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+000098a0: 2069 6e69 7469 6174 6f72 3d22 696e 6974   initiator="init
+000098b0: 222c 0a20 2020 2020 2020 2020 2020 2072  ",.            r
+000098c0: 6f6c 653d 2272 6f6c 6522 2c0a 2020 2020  ole="role",.    
+000098d0: 2020 2020 2020 2020 7374 6174 653d 2273          state="s
+000098e0: 7461 7465 222c 0a20 2020 2020 2020 2020  tate",.         
+000098f0: 2020 2070 7265 735f 7265 7175 6573 743d     pres_request=
+00009900: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
+00009910: 2c0a 2020 2020 2020 2020 2020 2020 7665  ,.            ve
+00009920: 7269 6669 6564 3d22 6661 6c73 6522 2c0a  rified="false",.
+00009930: 2020 2020 2020 2020 2020 2020 6175 746f              auto
+00009940: 5f70 7265 7365 6e74 3d54 7275 652c 0a20  _present=True,. 
+00009950: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+00009960: 5f6d 7367 3d22 6572 726f 7222 2c0a 2020  _msg="error",.  
+00009970: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00009980: 7265 7175 6573 745f 6461 7461 203d 207b  request_data = {
+00009990: 7d0a 2020 2020 2020 2020 7769 7468 2061  }.        with a
+000099a0: 7379 6e63 5f6d 6f63 6b2e 7061 7463 682e  sync_mock.patch.
+000099b0: 6f62 6a65 6374 280a 2020 2020 2020 2020  object(.        
+000099c0: 2020 2020 4449 4650 7265 7345 7863 6848      DIFPresExchH
+000099d0: 616e 646c 6572 2c0a 2020 2020 2020 2020  andler,.        
+000099e0: 2020 2020 2263 7265 6174 655f 7670 222c      "create_vp",
+000099f0: 0a20 2020 2020 2020 2020 2020 2061 7379  .            asy
+00009a00: 6e63 5f6d 6f63 6b2e 436f 726f 7574 696e  nc_mock.Coroutin
+00009a10: 654d 6f63 6b28 292c 0a20 2020 2020 2020  eMock(),.       
+00009a20: 2029 2061 7320 6d6f 636b 5f63 7265 6174   ) as mock_creat
+00009a30: 655f 7670 3a0a 2020 2020 2020 2020 2020  e_vp:.          
+00009a40: 2020 6d6f 636b 5f63 7265 6174 655f 7670    mock_create_vp
+00009a50: 2e72 6574 7572 6e5f 7661 6c75 6520 3d20  .return_value = 
+00009a60: 4449 465f 5052 4553 0a20 2020 2020 2020  DIF_PRES.       
+00009a70: 2020 2020 206f 7574 7075 7420 3d20 6177       output = aw
+00009a80: 6169 7420 7365 6c66 2e68 616e 646c 6572  ait self.handler
+00009a90: 2e63 7265 6174 655f 7072 6573 2872 6563  .create_pres(rec
+00009aa0: 6f72 642c 2072 6571 7565 7374 5f64 6174  ord, request_dat
+00009ab0: 6129 0a20 2020 2020 2020 2020 2020 2061  a).            a
+00009ac0: 7373 6572 7420 6973 696e 7374 616e 6365  ssert isinstance
+00009ad0: 286f 7574 7075 745b 305d 2c20 5632 3050  (output[0], V20P
+00009ae0: 7265 7346 6f72 6d61 7429 2061 6e64 2069  resFormat) and i
+00009af0: 7369 6e73 7461 6e63 6528 0a20 2020 2020  sinstance(.     
+00009b00: 2020 2020 2020 2020 2020 206f 7574 7075             outpu
+00009b10: 745b 315d 2c20 4174 7461 6368 4465 636f  t[1], AttachDeco
+00009b20: 7261 746f 720a 2020 2020 2020 2020 2020  rator.          
+00009b30: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00009b40: 6173 7365 7274 206f 7574 7075 745b 315d  assert output[1]
+00009b50: 2e64 6174 612e 6a73 6f6e 5f20 3d3d 2044  .data.json_ == D
+00009b60: 4946 5f50 5245 530a 0a20 2020 2061 7379  IF_PRES..    asy
+00009b70: 6e63 2064 6566 2074 6573 745f 6372 6561  nc def test_crea
+00009b80: 7465 5f70 7265 735f 7374 6f72 6167 655f  te_pres_storage_
+00009b90: 6e6f 745f 666f 756e 6428 7365 6c66 293a  not_found(self):
+00009ba0: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
+00009bb0: 735f 7265 7175 6573 7420 3d20 5632 3050  s_request = V20P
+00009bc0: 7265 7352 6571 7565 7374 280a 2020 2020  resRequest(.    
+00009bd0: 2020 2020 2020 2020 666f 726d 6174 733d          formats=
+00009be0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+00009bf0: 2020 5632 3050 7265 7346 6f72 6d61 7428    V20PresFormat(
+00009c00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00009c10: 2020 2020 2061 7474 6163 685f 6964 3d22       attach_id="
+00009c20: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
+00009c30: 2020 2020 2020 2020 2020 666f 726d 6174            format
+00009c40: 5f3d 4154 5441 4348 4d45 4e54 5f46 4f52  _=ATTACHMENT_FOR
+00009c50: 4d41 545b 5052 4553 5f32 305f 5245 5155  MAT[PRES_20_REQU
+00009c60: 4553 545d 5b0a 2020 2020 2020 2020 2020  EST][.          
+00009c70: 2020 2020 2020 2020 2020 2020 2020 5632                V2
+00009c80: 3050 7265 7346 6f72 6d61 742e 466f 726d  0PresFormat.Form
+00009c90: 6174 2e44 4946 2e61 7069 0a20 2020 2020  at.DIF.api.     
+00009ca0: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
+00009cb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00009cc0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+00009cd0: 5d2c 0a20 2020 2020 2020 2020 2020 2072  ],.            r
+00009ce0: 6571 7565 7374 5f70 7265 7365 6e74 6174  equest_presentat
+00009cf0: 696f 6e73 5f61 7474 6163 683d 5b0a 2020  ions_attach=[.  
+00009d00: 2020 2020 2020 2020 2020 2020 2020 4174                At
+00009d10: 7461 6368 4465 636f 7261 746f 722e 6461  tachDecorator.da
+00009d20: 7461 5f6a 736f 6e28 4449 465f 5052 4553  ta_json(DIF_PRES
+00009d30: 5f52 4551 5545 5354 5f42 2c20 6964 656e  _REQUEST_B, iden
+00009d40: 743d 2264 6966 2229 0a20 2020 2020 2020  t="dif").       
+00009d50: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+00009d60: 290a 2020 2020 2020 2020 7265 636f 7264  ).        record
+00009d70: 203d 2056 3230 5072 6573 4578 5265 636f   = V20PresExReco
+00009d80: 7264 280a 2020 2020 2020 2020 2020 2020  rd(.            
+00009d90: 7072 6573 5f65 785f 6964 3d22 7078 6964  pres_ex_id="pxid
+00009da0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+00009db0: 6872 6561 645f 6964 3d22 7468 6964 222c  hread_id="thid",
+00009dc0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+00009dd0: 6e65 6374 696f 6e5f 6964 3d22 636f 6e6e  nection_id="conn
+00009de0: 5f69 6422 2c0a 2020 2020 2020 2020 2020  _id",.          
+00009df0: 2020 696e 6974 6961 746f 723d 2269 6e69    initiator="ini
+00009e00: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
+00009e10: 726f 6c65 3d22 726f 6c65 222c 0a20 2020  role="role",.   
+00009e20: 2020 2020 2020 2020 2073 7461 7465 3d22           state="
+00009e30: 7374 6174 6522 2c0a 2020 2020 2020 2020  state",.        
+00009e40: 2020 2020 7072 6573 5f72 6571 7565 7374      pres_request
+00009e50: 3d64 6966 5f70 7265 735f 7265 7175 6573  =dif_pres_reques
+00009e60: 742c 0a20 2020 2020 2020 2020 2020 2076  t,.            v
+00009e70: 6572 6966 6965 643d 2266 616c 7365 222c  erified="false",
+00009e80: 0a20 2020 2020 2020 2020 2020 2061 7574  .            aut
+00009e90: 6f5f 7072 6573 656e 743d 5472 7565 2c0a  o_present=True,.
+00009ea0: 2020 2020 2020 2020 2020 2020 6572 726f              erro
+00009eb0: 725f 6d73 673d 2265 7272 6f72 222c 0a20  r_msg="error",. 
+00009ec0: 2020 2020 2020 2029 0a0a 2020 2020 2020         )..      
+00009ed0: 2020 7365 6c66 2e63 6f6e 7465 7874 2e69    self.context.i
+00009ee0: 6e6a 6563 746f 722e 6269 6e64 5f69 6e73  njector.bind_ins
+00009ef0: 7461 6e63 6528 0a20 2020 2020 2020 2020  tance(.         
+00009f00: 2020 2056 4348 6f6c 6465 722c 0a20 2020     VCHolder,.   
+00009f10: 2020 2020 2020 2020 2061 7379 6e63 5f6d           async_m
+00009f20: 6f63 6b2e 4d61 6769 634d 6f63 6b28 0a20  ock.MagicMock(. 
+00009f30: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00009f40: 6561 7263 685f 6372 6564 656e 7469 616c  earch_credential
+00009f50: 733d 6173 796e 635f 6d6f 636b 2e4d 6167  s=async_mock.Mag
+00009f60: 6963 4d6f 636b 280a 2020 2020 2020 2020  icMock(.        
+00009f70: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00009f80: 726e 5f76 616c 7565 3d61 7379 6e63 5f6d  rn_value=async_m
+00009f90: 6f63 6b2e 4d61 6769 634d 6f63 6b28 0a20  ock.MagicMock(. 
+00009fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009fb0: 2020 2020 2020 2066 6574 6368 3d61 7379         fetch=asy
+00009fc0: 6e63 5f6d 6f63 6b2e 436f 726f 7574 696e  nc_mock.Coroutin
+00009fd0: 654d 6f63 6b28 0a20 2020 2020 2020 2020  eMock(.         
+00009fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009ff0: 2020 2073 6964 655f 6566 6665 6374 3d74     side_effect=t
+0000a000: 6573 745f 6d6f 6475 6c65 2e53 746f 7261  est_module.Stora
+0000a010: 6765 4e6f 7446 6f75 6e64 4572 726f 7228  geNotFoundError(
+0000a020: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000a030: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0000a040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a050: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000a060: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+0000a070: 292c 0a20 2020 2020 2020 2029 0a20 2020  ),.        ).   
+0000a080: 2020 2020 2077 6974 6820 7365 6c66 2e61       with self.a
+0000a090: 7373 6572 7452 6169 7365 7328 5632 3050  ssertRaises(V20P
+0000a0a0: 7265 7346 6f72 6d61 7448 616e 646c 6572  resFormatHandler
+0000a0b0: 4572 726f 7229 3a0a 2020 2020 2020 2020  Error):.        
+0000a0c0: 2020 2020 6177 6169 7420 7365 6c66 2e68      await self.h
+0000a0d0: 616e 646c 6572 2e63 7265 6174 655f 7072  andler.create_pr
+0000a0e0: 6573 2872 6563 6f72 6429 0a0a 2020 2020  es(record)..    
+0000a0f0: 6173 796e 6320 6465 6620 7465 7374 5f63  async def test_c
+0000a100: 7265 6174 655f 7072 6573 5f70 645f 636c  reate_pres_pd_cl
+0000a110: 6169 6d5f 666f 726d 6174 5f65 6432 3535  aim_format_ed255
+0000a120: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0000a130: 7465 7374 5f70 6420 3d20 6465 6570 636f  test_pd = deepco
+0000a140: 7079 2844 4946 5f50 5245 535f 5245 5155  py(DIF_PRES_REQU
+0000a150: 4553 545f 4229 0a20 2020 2020 2020 2074  EST_B).        t
+0000a160: 6573 745f 7064 5b22 7072 6573 656e 7461  est_pd["presenta
+0000a170: 7469 6f6e 5f64 6566 696e 6974 696f 6e22  tion_definition"
+0000a180: 5d5b 2266 6f72 6d61 7422 5d20 3d20 7b0a  ]["format"] = {.
+0000a190: 2020 2020 2020 2020 2020 2020 226c 6470              "ldp
+0000a1a0: 5f76 7022 3a20 7b22 7072 6f6f 665f 7479  _vp": {"proof_ty
+0000a1b0: 7065 223a 205b 2245 6432 3535 3139 5369  pe": ["Ed25519Si
+0000a1c0: 676e 6174 7572 6532 3031 3822 5d7d 0a20  gnature2018"]}. 
+0000a1d0: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0000a1e0: 2064 656c 2074 6573 745f 7064 5b22 7072   del test_pd["pr
+0000a1f0: 6573 656e 7461 7469 6f6e 5f64 6566 696e  esentation_defin
+0000a200: 6974 696f 6e22 5d5b 2269 6e70 7574 5f64  ition"]["input_d
+0000a210: 6573 6372 6970 746f 7273 225d 5b30 5d5b  escriptors"][0][
+0000a220: 2263 6f6e 7374 7261 696e 7473 225d 5b0a  "constraints"][.
+0000a230: 2020 2020 2020 2020 2020 2020 226c 696d              "lim
+0000a240: 6974 5f64 6973 636c 6f73 7572 6522 0a20  it_disclosure". 
+0000a250: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
+0000a260: 2064 6966 5f70 7265 735f 7265 7175 6573   dif_pres_reques
+0000a270: 7420 3d20 5632 3050 7265 7352 6571 7565  t = V20PresReque
+0000a280: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
+0000a290: 666f 726d 6174 733d 5b0a 2020 2020 2020  formats=[.      
+0000a2a0: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+0000a2b0: 7346 6f72 6d61 7428 0a20 2020 2020 2020  sFormat(.       
+0000a2c0: 2020 2020 2020 2020 2020 2020 2061 7474               att
+0000a2d0: 6163 685f 6964 3d22 6469 6622 2c0a 2020  ach_id="dif",.  
+0000a2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a2f0: 2020 666f 726d 6174 5f3d 4154 5441 4348    format_=ATTACH
+0000a300: 4d45 4e54 5f46 4f52 4d41 545b 5052 4553  MENT_FORMAT[PRES
+0000a310: 5f32 305f 5245 5155 4553 545d 5b0a 2020  _20_REQUEST][.  
+0000a320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a330: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+0000a340: 6d61 742e 466f 726d 6174 2e44 4946 2e61  mat.Format.DIF.a
+0000a350: 7069 0a20 2020 2020 2020 2020 2020 2020  pi.             
+0000a360: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+0000a370: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0000a380: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+0000a390: 2020 2020 2020 2072 6571 7565 7374 5f70         request_p
+0000a3a0: 7265 7365 6e74 6174 696f 6e73 5f61 7474  resentations_att
+0000a3b0: 6163 683d 5b0a 2020 2020 2020 2020 2020  ach=[.          
+0000a3c0: 2020 2020 2020 4174 7461 6368 4465 636f        AttachDeco
+0000a3d0: 7261 746f 722e 6461 7461 5f6a 736f 6e28  rator.data_json(
+0000a3e0: 7465 7374 5f70 642c 2069 6465 6e74 3d22  test_pd, ident="
+0000a3f0: 6469 6622 290a 2020 2020 2020 2020 2020  dif").          
+0000a400: 2020 5d2c 0a20 2020 2020 2020 2029 0a20    ],.        ). 
+0000a410: 2020 2020 2020 2072 6563 6f72 6420 3d20         record = 
+0000a420: 5632 3050 7265 7345 7852 6563 6f72 6428  V20PresExRecord(
+0000a430: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+0000a440: 735f 6578 5f69 643d 2270 7869 6422 2c0a  s_ex_id="pxid",.
+0000a450: 2020 2020 2020 2020 2020 2020 7468 7265              thre
+0000a460: 6164 5f69 643d 2274 6869 6422 2c0a 2020  ad_id="thid",.  
+0000a470: 2020 2020 2020 2020 2020 636f 6e6e 6563            connec
+0000a480: 7469 6f6e 5f69 643d 2263 6f6e 6e5f 6964  tion_id="conn_id
+0000a490: 222c 0a20 2020 2020 2020 2020 2020 2069  ",.            i
+0000a4a0: 6e69 7469 6174 6f72 3d22 696e 6974 222c  nitiator="init",
+0000a4b0: 0a20 2020 2020 2020 2020 2020 2072 6f6c  .            rol
+0000a4c0: 653d 2272 6f6c 6522 2c0a 2020 2020 2020  e="role",.      
+0000a4d0: 2020 2020 2020 7374 6174 653d 2273 7461        state="sta
+0000a4e0: 7465 222c 0a20 2020 2020 2020 2020 2020  te",.           
+0000a4f0: 2070 7265 735f 7265 7175 6573 743d 6469   pres_request=di
+0000a500: 665f 7072 6573 5f72 6571 7565 7374 2c0a  f_pres_request,.
+0000a510: 2020 2020 2020 2020 2020 2020 7665 7269              veri
+0000a520: 6669 6564 3d22 6661 6c73 6522 2c0a 2020  fied="false",.  
+0000a530: 2020 2020 2020 2020 2020 6175 746f 5f70            auto_p
+0000a540: 7265 7365 6e74 3d54 7275 652c 0a20 2020  resent=True,.   
+0000a550: 2020 2020 2020 2020 2065 7272 6f72 5f6d           error_m
+0000a560: 7367 3d22 6572 726f 7222 2c0a 2020 2020  sg="error",.    
+0000a570: 2020 2020 290a 0a20 2020 2020 2020 2077      )..        w
+0000a580: 6974 6820 6173 796e 635f 6d6f 636b 2e70  ith async_mock.p
+0000a590: 6174 6368 2e6f 626a 6563 7428 0a20 2020  atch.object(.   
+0000a5a0: 2020 2020 2020 2020 2044 4946 5072 6573           DIFPres
+0000a5b0: 4578 6368 4861 6e64 6c65 722c 0a20 2020  ExchHandler,.   
+0000a5c0: 2020 2020 2020 2020 2022 6372 6561 7465           "create
+0000a5d0: 5f76 7022 2c0a 2020 2020 2020 2020 2020  _vp",.          
+0000a5e0: 2020 6173 796e 635f 6d6f 636b 2e43 6f72    async_mock.Cor
+0000a5f0: 6f75 7469 6e65 4d6f 636b 2829 2c0a 2020  outineMock(),.  
+0000a600: 2020 2020 2020 2920 6173 206d 6f63 6b5f        ) as mock_
+0000a610: 6372 6561 7465 5f76 703a 0a20 2020 2020  create_vp:.     
+0000a620: 2020 2020 2020 206d 6f63 6b5f 6372 6561         mock_crea
+0000a630: 7465 5f76 702e 7265 7475 726e 5f76 616c  te_vp.return_val
+0000a640: 7565 203d 2044 4946 5f50 5245 530a 2020  ue = DIF_PRES.  
+0000a650: 2020 2020 2020 2020 2020 6f75 7470 7574            output
+0000a660: 203d 2061 7761 6974 2073 656c 662e 6861   = await self.ha
+0000a670: 6e64 6c65 722e 6372 6561 7465 5f70 7265  ndler.create_pre
+0000a680: 7328 7265 636f 7264 2c20 7b7d 290a 2020  s(record, {}).  
+0000a690: 2020 2020 2020 2020 2020 6173 7365 7274            assert
+0000a6a0: 2069 7369 6e73 7461 6e63 6528 6f75 7470   isinstance(outp
+0000a6b0: 7574 5b30 5d2c 2056 3230 5072 6573 466f  ut[0], V20PresFo
+0000a6c0: 726d 6174 2920 616e 6420 6973 696e 7374  rmat) and isinst
+0000a6d0: 616e 6365 280a 2020 2020 2020 2020 2020  ance(.          
+0000a6e0: 2020 2020 2020 6f75 7470 7574 5b31 5d2c        output[1],
+0000a6f0: 2041 7474 6163 6844 6563 6f72 6174 6f72   AttachDecorator
+0000a700: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
+0000a710: 2020 2020 2020 2020 2020 2061 7373 6572             asser
+0000a720: 7420 6f75 7470 7574 5b31 5d2e 6461 7461  t output[1].data
+0000a730: 2e6a 736f 6e5f 203d 3d20 4449 465f 5052  .json_ == DIF_PR
+0000a740: 4553 0a0a 2020 2020 6173 796e 6320 6465  ES..    async de
+0000a750: 6620 7465 7374 5f63 7265 6174 655f 7072  f test_create_pr
+0000a760: 6573 5f70 645f 636c 6169 6d5f 666f 726d  es_pd_claim_form
+0000a770: 6174 5f62 6c73 3132 3338 3167 3228 7365  at_bls12381g2(se
+0000a780: 6c66 293a 0a20 2020 2020 2020 2074 6573  lf):.        tes
+0000a790: 745f 7064 203d 2064 6565 7063 6f70 7928  t_pd = deepcopy(
+0000a7a0: 4449 465f 5052 4553 5f52 4551 5545 5354  DIF_PRES_REQUEST
+0000a7b0: 5f42 290a 2020 2020 2020 2020 7465 7374  _B).        test
+0000a7c0: 5f70 645b 2270 7265 7365 6e74 6174 696f  _pd["presentatio
+0000a7d0: 6e5f 6465 6669 6e69 7469 6f6e 225d 5b22  n_definition"]["
+0000a7e0: 666f 726d 6174 225d 203d 207b 0a20 2020  format"] = {.   
+0000a7f0: 2020 2020 2020 2020 2022 6c64 705f 7670           "ldp_vp
+0000a800: 223a 207b 2270 726f 6f66 5f74 7970 6522  ": {"proof_type"
+0000a810: 3a20 5b22 4262 7342 6c73 5369 676e 6174  : ["BbsBlsSignat
+0000a820: 7572 6532 3032 3022 5d7d 0a20 2020 2020  ure2020"]}.     
+0000a830: 2020 207d 0a20 2020 2020 2020 2064 6966     }.        dif
+0000a840: 5f70 7265 735f 7265 7175 6573 7420 3d20  _pres_request = 
+0000a850: 5632 3050 7265 7352 6571 7565 7374 280a  V20PresRequest(.
+0000a860: 2020 2020 2020 2020 2020 2020 666f 726d              form
+0000a870: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
+0000a880: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+0000a890: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+0000a8a0: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
+0000a8b0: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
+0000a8c0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0000a8d0: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
+0000a8e0: 5f46 4f52 4d41 545b 5052 4553 5f32 305f  _FORMAT[PRES_20_
+0000a8f0: 5245 5155 4553 545d 5b0a 2020 2020 2020  REQUEST][.      
+0000a900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a910: 2020 5632 3050 7265 7346 6f72 6d61 742e    V20PresFormat.
+0000a920: 466f 726d 6174 2e44 4946 2e61 7069 0a20  Format.DIF.api. 
+0000a930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a940: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+0000a950: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0000a960: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+0000a970: 2020 2072 6571 7565 7374 5f70 7265 7365     request_prese
+0000a980: 6e74 6174 696f 6e73 5f61 7474 6163 683d  ntations_attach=
+0000a990: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+0000a9a0: 2020 4174 7461 6368 4465 636f 7261 746f    AttachDecorato
+0000a9b0: 722e 6461 7461 5f6a 736f 6e28 7465 7374  r.data_json(test
+0000a9c0: 5f70 642c 2069 6465 6e74 3d22 6469 6622  _pd, ident="dif"
+0000a9d0: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
+0000a9e0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0000a9f0: 2020 2072 6563 6f72 6420 3d20 5632 3050     record = V20P
+0000aa00: 7265 7345 7852 6563 6f72 6428 0a20 2020  resExRecord(.   
+0000aa10: 2020 2020 2020 2020 2070 7265 735f 6578           pres_ex
+0000aa20: 5f69 643d 2270 7869 6422 2c0a 2020 2020  _id="pxid",.    
+0000aa30: 2020 2020 2020 2020 7468 7265 6164 5f69          thread_i
+0000aa40: 643d 2274 6869 6422 2c0a 2020 2020 2020  d="thid",.      
+0000aa50: 2020 2020 2020 636f 6e6e 6563 7469 6f6e        connection
+0000aa60: 5f69 643d 2263 6f6e 6e5f 6964 222c 0a20  _id="conn_id",. 
+0000aa70: 2020 2020 2020 2020 2020 2069 6e69 7469             initi
+0000aa80: 6174 6f72 3d22 696e 6974 222c 0a20 2020  ator="init",.   
+0000aa90: 2020 2020 2020 2020 2072 6f6c 653d 2272           role="r
+0000aaa0: 6f6c 6522 2c0a 2020 2020 2020 2020 2020  ole",.          
+0000aab0: 2020 7374 6174 653d 2273 7461 7465 222c    state="state",
+0000aac0: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+0000aad0: 735f 7265 7175 6573 743d 6469 665f 7072  s_request=dif_pr
+0000aae0: 6573 5f72 6571 7565 7374 2c0a 2020 2020  es_request,.    
+0000aaf0: 2020 2020 2020 2020 7665 7269 6669 6564          verified
+0000ab00: 3d22 6661 6c73 6522 2c0a 2020 2020 2020  ="false",.      
+0000ab10: 2020 2020 2020 6175 746f 5f70 7265 7365        auto_prese
+0000ab20: 6e74 3d54 7275 652c 0a20 2020 2020 2020  nt=True,.       
+0000ab30: 2020 2020 2065 7272 6f72 5f6d 7367 3d22       error_msg="
+0000ab40: 6572 726f 7222 2c0a 2020 2020 2020 2020  error",.        
+0000ab50: 290a 0a20 2020 2020 2020 2077 6974 6820  )..        with 
+0000ab60: 6173 796e 635f 6d6f 636b 2e70 6174 6368  async_mock.patch
+0000ab70: 2e6f 626a 6563 7428 0a20 2020 2020 2020  .object(.       
+0000ab80: 2020 2020 2044 4946 5072 6573 4578 6368       DIFPresExch
+0000ab90: 4861 6e64 6c65 722c 0a20 2020 2020 2020  Handler,.       
+0000aba0: 2020 2020 2022 6372 6561 7465 5f76 7022       "create_vp"
+0000abb0: 2c0a 2020 2020 2020 2020 2020 2020 6173  ,.            as
+0000abc0: 796e 635f 6d6f 636b 2e43 6f72 6f75 7469  ync_mock.Corouti
+0000abd0: 6e65 4d6f 636b 2829 2c0a 2020 2020 2020  neMock(),.      
+0000abe0: 2020 2920 6173 206d 6f63 6b5f 6372 6561    ) as mock_crea
+0000abf0: 7465 5f76 703a 0a20 2020 2020 2020 2020  te_vp:.         
+0000ac00: 2020 206d 6f63 6b5f 6372 6561 7465 5f76     mock_create_v
+0000ac10: 702e 7265 7475 726e 5f76 616c 7565 203d  p.return_value =
+0000ac20: 2044 4946 5f50 5245 530a 2020 2020 2020   DIF_PRES.      
+0000ac30: 2020 2020 2020 6f75 7470 7574 203d 2061        output = a
+0000ac40: 7761 6974 2073 656c 662e 6861 6e64 6c65  wait self.handle
+0000ac50: 722e 6372 6561 7465 5f70 7265 7328 7265  r.create_pres(re
+0000ac60: 636f 7264 2c20 7b7d 290a 2020 2020 2020  cord, {}).      
+0000ac70: 2020 2020 2020 6173 7365 7274 2069 7369        assert isi
+0000ac80: 6e73 7461 6e63 6528 6f75 7470 7574 5b30  nstance(output[0
+0000ac90: 5d2c 2056 3230 5072 6573 466f 726d 6174  ], V20PresFormat
+0000aca0: 2920 616e 6420 6973 696e 7374 616e 6365  ) and isinstance
+0000acb0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0000acc0: 2020 6f75 7470 7574 5b31 5d2c 2041 7474    output[1], Att
+0000acd0: 6163 6844 6563 6f72 6174 6f72 0a20 2020  achDecorator.   
+0000ace0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0000acf0: 2020 2020 2020 2061 7373 6572 7420 6f75         assert ou
+0000ad00: 7470 7574 5b31 5d2e 6461 7461 2e6a 736f  tput[1].data.jso
+0000ad10: 6e5f 203d 3d20 4449 465f 5052 4553 0a0a  n_ == DIF_PRES..
+0000ad20: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
+0000ad30: 7374 5f76 6572 6966 795f 7072 6573 5f73  st_verify_pres_s
+0000ad40: 6571 7565 6e63 6528 7365 6c66 293a 0a20  equence(self):. 
+0000ad50: 2020 2020 2020 2064 6966 5f70 7265 7320         dif_pres 
+0000ad60: 3d20 5632 3050 7265 7328 0a20 2020 2020  = V20Pres(.     
+0000ad70: 2020 2020 2020 2066 6f72 6d61 7473 3d5b         formats=[
+0000ad80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ad90: 2056 3230 5072 6573 466f 726d 6174 280a   V20PresFormat(.
+0000ada0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000adb0: 2020 2020 6174 7461 6368 5f69 643d 2264      attach_id="d
+0000adc0: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
+0000add0: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
+0000ade0: 3d41 5454 4143 484d 454e 545f 464f 524d  =ATTACHMENT_FORM
+0000adf0: 4154 5b50 5245 535f 3230 5d5b 5632 3050  AT[PRES_20][V20P
+0000ae00: 7265 7346 6f72 6d61 742e 466f 726d 6174  resFormat.Format
+0000ae10: 2e44 4946 2e61 7069 5d2c 0a20 2020 2020  .DIF.api],.     
+0000ae20: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0000ae30: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+0000ae40: 2020 2020 2020 2020 7072 6573 656e 7461          presenta
+0000ae50: 7469 6f6e 735f 6174 7461 6368 3d5b 0a20  tions_attach=[. 
+0000ae60: 2020 2020 2020 2020 2020 2020 2020 2041                 A
+0000ae70: 7474 6163 6844 6563 6f72 6174 6f72 2e64  ttachDecorator.d
+0000ae80: 6174 615f 6a73 6f6e 2844 4946 5f50 5245  ata_json(DIF_PRE
+0000ae90: 535f 5345 5155 454e 4345 2c20 6964 656e  S_SEQUENCE, iden
+0000aea0: 743d 2264 6966 2229 0a20 2020 2020 2020  t="dif").       
+0000aeb0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+0000aec0: 290a 2020 2020 2020 2020 6469 665f 7072  ).        dif_pr
+0000aed0: 6573 5f72 6571 7565 7374 203d 2056 3230  es_request = V20
+0000aee0: 5072 6573 5265 7175 6573 7428 0a20 2020  PresRequest(.   
+0000aef0: 2020 2020 2020 2020 2066 6f72 6d61 7473           formats
+0000af00: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+0000af10: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
+0000af20: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0000af30: 2020 2020 2020 6174 7461 6368 5f69 643d        attach_id=
+0000af40: 2264 6966 222c 0a20 2020 2020 2020 2020  "dif",.         
+0000af50: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+0000af60: 745f 3d41 5454 4143 484d 454e 545f 464f  t_=ATTACHMENT_FO
+0000af70: 524d 4154 5b50 5245 535f 3230 5f52 4551  RMAT[PRES_20_REQ
+0000af80: 5545 5354 5d5b 0a20 2020 2020 2020 2020  UEST][.         
+0000af90: 2020 2020 2020 2020 2020 2020 2020 2056                 V
+0000afa0: 3230 5072 6573 466f 726d 6174 2e46 6f72  20PresFormat.For
+0000afb0: 6d61 742e 4449 462e 6170 690a 2020 2020  mat.DIF.api.    
+0000afc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000afd0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+0000afe0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+0000aff0: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+0000b000: 7265 7175 6573 745f 7072 6573 656e 7461  request_presenta
+0000b010: 7469 6f6e 735f 6174 7461 6368 3d5b 0a20  tions_attach=[. 
+0000b020: 2020 2020 2020 2020 2020 2020 2020 2041                 A
+0000b030: 7474 6163 6844 6563 6f72 6174 6f72 2e64  ttachDecorator.d
+0000b040: 6174 615f 6a73 6f6e 2844 4946 5f50 5245  ata_json(DIF_PRE
+0000b050: 535f 5245 5155 4553 545f 5345 5155 454e  S_REQUEST_SEQUEN
+0000b060: 4345 2c20 6964 656e 743d 2264 6966 2229  CE, ident="dif")
+0000b070: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
+0000b080: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000b090: 2020 7265 636f 7264 203d 2056 3230 5072    record = V20Pr
+0000b0a0: 6573 4578 5265 636f 7264 280a 2020 2020  esExRecord(.    
+0000b0b0: 2020 2020 2020 2020 7072 6573 5f65 785f          pres_ex_
+0000b0c0: 6964 3d22 7078 6964 222c 0a20 2020 2020  id="pxid",.     
+0000b0d0: 2020 2020 2020 2074 6872 6561 645f 6964         thread_id
+0000b0e0: 3d22 7468 6964 222c 0a20 2020 2020 2020  ="thid",.       
+0000b0f0: 2020 2020 2063 6f6e 6e65 6374 696f 6e5f       connection_
+0000b100: 6964 3d22 636f 6e6e 5f69 6422 2c0a 2020  id="conn_id",.  
+0000b110: 2020 2020 2020 2020 2020 696e 6974 6961            initia
+0000b120: 746f 723d 2269 6e69 7422 2c0a 2020 2020  tor="init",.    
+0000b130: 2020 2020 2020 2020 726f 6c65 3d22 726f          role="ro
+0000b140: 6c65 222c 0a20 2020 2020 2020 2020 2020  le",.           
+0000b150: 2073 7461 7465 3d22 7374 6174 6522 2c0a   state="state",.
+0000b160: 2020 2020 2020 2020 2020 2020 7072 6573              pres
+0000b170: 5f72 6571 7565 7374 3d64 6966 5f70 7265  _request=dif_pre
+0000b180: 735f 7265 7175 6573 742c 0a20 2020 2020  s_request,.     
+0000b190: 2020 2020 2020 2070 7265 733d 6469 665f         pres=dif_
+0000b1a0: 7072 6573 2c0a 2020 2020 2020 2020 2020  pres,.          
+0000b1b0: 2020 7665 7269 6669 6564 3d22 6661 6c73    verified="fals
+0000b1c0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+0000b1d0: 6175 746f 5f70 7265 7365 6e74 3d54 7275  auto_present=Tru
+0000b1e0: 652c 0a20 2020 2020 2020 2020 2020 2065  e,.            e
+0000b1f0: 7272 6f72 5f6d 7367 3d22 6572 726f 7222  rror_msg="error"
+0000b200: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
+0000b210: 2020 2020 2077 6974 6820 6173 796e 635f       with async_
+0000b220: 6d6f 636b 2e70 6174 6368 2e6f 626a 6563  mock.patch.objec
+0000b230: 7428 0a20 2020 2020 2020 2020 2020 2074  t(.            t
+0000b240: 6573 745f 6d6f 6475 6c65 2c0a 2020 2020  est_module,.    
+0000b250: 2020 2020 2020 2020 2276 6572 6966 795f          "verify_
+0000b260: 7072 6573 656e 7461 7469 6f6e 222c 0a20  presentation",. 
+0000b270: 2020 2020 2020 2020 2020 2061 7379 6e63             async
+0000b280: 5f6d 6f63 6b2e 436f 726f 7574 696e 654d  _mock.CoroutineM
+0000b290: 6f63 6b28 0a20 2020 2020 2020 2020 2020  ock(.           
+0000b2a0: 2020 2020 2072 6574 7572 6e5f 7661 6c75       return_valu
+0000b2b0: 653d 5072 6573 656e 7461 7469 6f6e 5665  e=PresentationVe
+0000b2c0: 7269 6669 6361 7469 6f6e 5265 7375 6c74  rificationResult
+0000b2d0: 2876 6572 6966 6965 643d 5472 7565 290a  (verified=True).
+0000b2e0: 2020 2020 2020 2020 2020 2020 292c 0a20              ),. 
+0000b2f0: 2020 2020 2020 2029 3a0a 2020 2020 2020         ):.      
+0000b300: 2020 2020 2020 6f75 7470 7574 203d 2061        output = a
+0000b310: 7761 6974 2073 656c 662e 6861 6e64 6c65  wait self.handle
+0000b320: 722e 7665 7269 6679 5f70 7265 7328 7265  r.verify_pres(re
+0000b330: 636f 7264 290a 2020 2020 2020 2020 2020  cord).          
+0000b340: 2020 6173 7365 7274 206f 7574 7075 742e    assert output.
+0000b350: 7665 7269 6669 6564 0a0a 2020 2020 2020  verified..      
+0000b360: 2020 7769 7468 2061 7379 6e63 5f6d 6f63    with async_moc
+0000b370: 6b2e 7061 7463 682e 6f62 6a65 6374 280a  k.patch.object(.
+0000b380: 2020 2020 2020 2020 2020 2020 7465 7374              test
+0000b390: 5f6d 6f64 756c 652c 0a20 2020 2020 2020  _module,.       
+0000b3a0: 2020 2020 2022 7665 7269 6679 5f70 7265       "verify_pre
+0000b3b0: 7365 6e74 6174 696f 6e22 2c0a 2020 2020  sentation",.    
+0000b3c0: 2020 2020 2020 2020 6173 796e 635f 6d6f          async_mo
+0000b3d0: 636b 2e43 6f72 6f75 7469 6e65 4d6f 636b  ck.CoroutineMock
+0000b3e0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0000b3f0: 2020 7265 7475 726e 5f76 616c 7565 3d50    return_value=P
+0000b400: 7265 7365 6e74 6174 696f 6e56 6572 6966  resentationVerif
+0000b410: 6963 6174 696f 6e52 6573 756c 7428 7665  icationResult(ve
+0000b420: 7269 6669 6564 3d46 616c 7365 290a 2020  rified=False).  
+0000b430: 2020 2020 2020 2020 2020 292c 0a20 2020            ),.   
+0000b440: 2020 2020 2029 3a0a 2020 2020 2020 2020       ):.        
+0000b450: 2020 2020 6f75 7470 7574 203d 2061 7761      output = awa
+0000b460: 6974 2073 656c 662e 6861 6e64 6c65 722e  it self.handler.
+0000b470: 7665 7269 6679 5f70 7265 7328 7265 636f  verify_pres(reco
+0000b480: 7264 290a 2020 2020 2020 2020 2020 2020  rd).            
+0000b490: 6173 7365 7274 206f 7574 7075 742e 7665  assert output.ve
+0000b4a0: 7269 6669 6564 203d 3d20 2266 616c 7365  rified == "false
+0000b4b0: 220a 0a20 2020 2061 7379 6e63 2064 6566  "..    async def
+0000b4c0: 2074 6573 745f 7665 7269 6679 5f70 7265   test_verify_pre
+0000b4d0: 7328 7365 6c66 293a 0a20 2020 2020 2020  s(self):.       
+0000b4e0: 2064 6966 5f70 7265 7320 3d20 5632 3050   dif_pres = V20P
+0000b4f0: 7265 7328 0a20 2020 2020 2020 2020 2020  res(.           
+0000b500: 2066 6f72 6d61 7473 3d5b 0a20 2020 2020   formats=[.     
+0000b510: 2020 2020 2020 2020 2020 2056 3230 5072             V20Pr
+0000b520: 6573 466f 726d 6174 280a 2020 2020 2020  esFormat(.      
+0000b530: 2020 2020 2020 2020 2020 2020 2020 6174                at
+0000b540: 7461 6368 5f69 643d 2264 6966 222c 0a20  tach_id="dif",. 
+0000b550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b560: 2020 2066 6f72 6d61 745f 3d41 5454 4143     format_=ATTAC
+0000b570: 484d 454e 545f 464f 524d 4154 5b50 5245  HMENT_FORMAT[PRE
+0000b580: 535f 3230 5d5b 5632 3050 7265 7346 6f72  S_20][V20PresFor
+0000b590: 6d61 742e 466f 726d 6174 2e44 4946 2e61  mat.Format.DIF.a
+0000b5a0: 7069 5d2c 0a20 2020 2020 2020 2020 2020  pi],.           
+0000b5b0: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+0000b5c0: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+0000b5d0: 2020 7072 6573 656e 7461 7469 6f6e 735f    presentations_
+0000b5e0: 6174 7461 6368 3d5b 4174 7461 6368 4465  attach=[AttachDe
+0000b5f0: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
+0000b600: 6e28 4449 465f 5052 4553 2c20 6964 656e  n(DIF_PRES, iden
+0000b610: 743d 2264 6966 2229 5d2c 0a20 2020 2020  t="dif")],.     
+0000b620: 2020 2029 0a20 2020 2020 2020 2064 6966     ).        dif
+0000b630: 5f70 7265 735f 7265 7175 6573 7420 3d20  _pres_request = 
+0000b640: 5632 3050 7265 7352 6571 7565 7374 280a  V20PresRequest(.
+0000b650: 2020 2020 2020 2020 2020 2020 666f 726d              form
+0000b660: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
+0000b670: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+0000b680: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+0000b690: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
+0000b6a0: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
+0000b6b0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0000b6c0: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
+0000b6d0: 5f46 4f52 4d41 545b 5052 4553 5f32 305f  _FORMAT[PRES_20_
+0000b6e0: 5245 5155 4553 545d 5b0a 2020 2020 2020  REQUEST][.      
 0000b6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b700: 2020 2066 6f72 6d61 745f 3d41 5454 4143     format_=ATTAC
-0000b710: 484d 454e 545f 464f 524d 4154 5b50 5245  HMENT_FORMAT[PRE
-0000b720: 535f 3230 5f52 4551 5545 5354 5d5b 0a20  S_20_REQUEST][. 
-0000b730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b740: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
-0000b750: 726d 6174 2e46 6f72 6d61 742e 4449 462e  rmat.Format.DIF.
-0000b760: 6170 690a 2020 2020 2020 2020 2020 2020  api.            
-0000b770: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
-0000b780: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
-0000b790: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
-0000b7a0: 2020 2020 2020 2020 7265 7175 6573 745f          request_
-0000b7b0: 7072 6573 656e 7461 7469 6f6e 735f 6174  presentations_at
-0000b7c0: 7461 6368 3d5b 0a20 2020 2020 2020 2020  tach=[.         
-0000b7d0: 2020 2020 2020 2041 7474 6163 6844 6563         AttachDec
-0000b7e0: 6f72 6174 6f72 2e64 6174 615f 6a73 6f6e  orator.data_json
-0000b7f0: 2874 6573 745f 7064 2c20 6964 656e 743d  (test_pd, ident=
-0000b800: 2264 6966 2229 0a20 2020 2020 2020 2020  "dif").         
-0000b810: 2020 205d 2c0a 2020 2020 2020 2020 290a     ],.        ).
-0000b820: 2020 2020 2020 2020 7265 636f 7264 203d          record =
-0000b830: 2056 3230 5072 6573 4578 5265 636f 7264   V20PresExRecord
-0000b840: 280a 2020 2020 2020 2020 2020 2020 7072  (.            pr
-0000b850: 6573 5f65 785f 6964 3d22 7078 6964 222c  es_ex_id="pxid",
-0000b860: 0a20 2020 2020 2020 2020 2020 2074 6872  .            thr
-0000b870: 6561 645f 6964 3d22 7468 6964 222c 0a20  ead_id="thid",. 
-0000b880: 2020 2020 2020 2020 2020 2063 6f6e 6e65             conne
-0000b890: 6374 696f 6e5f 6964 3d22 636f 6e6e 5f69  ction_id="conn_i
-0000b8a0: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-0000b8b0: 696e 6974 6961 746f 723d 2269 6e69 7422  initiator="init"
-0000b8c0: 2c0a 2020 2020 2020 2020 2020 2020 726f  ,.            ro
-0000b8d0: 6c65 3d22 726f 6c65 222c 0a20 2020 2020  le="role",.     
-0000b8e0: 2020 2020 2020 2073 7461 7465 3d22 7374         state="st
-0000b8f0: 6174 6522 2c0a 2020 2020 2020 2020 2020  ate",.          
-0000b900: 2020 7072 6573 5f72 6571 7565 7374 3d64    pres_request=d
-0000b910: 6966 5f70 7265 735f 7265 7175 6573 742c  if_pres_request,
-0000b920: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
-0000b930: 6966 6965 643d 2266 616c 7365 222c 0a20  ified="false",. 
-0000b940: 2020 2020 2020 2020 2020 2061 7574 6f5f             auto_
-0000b950: 7072 6573 656e 743d 5472 7565 2c0a 2020  present=True,.  
-0000b960: 2020 2020 2020 2020 2020 6572 726f 725f            error_
-0000b970: 6d73 673d 2265 7272 6f72 222c 0a20 2020  msg="error",.   
-0000b980: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-0000b990: 7769 7468 2073 656c 662e 6173 7365 7274  with self.assert
-0000b9a0: 5261 6973 6573 2856 3230 5072 6573 466f  Raises(V20PresFo
-0000b9b0: 726d 6174 4861 6e64 6c65 7245 7272 6f72  rmatHandlerError
-0000b9c0: 293a 0a20 2020 2020 2020 2020 2020 2061  ):.            a
-0000b9d0: 7761 6974 2073 656c 662e 6861 6e64 6c65  wait self.handle
-0000b9e0: 722e 6372 6561 7465 5f70 7265 7328 7265  r.create_pres(re
-0000b9f0: 636f 7264 290a 0a20 2020 2061 7379 6e63  cord)..    async
-0000ba00: 2064 6566 2074 6573 745f 7072 6f63 6573   def test_proces
-0000ba10: 735f 7663 7265 636f 7264 735f 7265 7475  s_vcrecords_retu
-0000ba20: 726e 5f6c 6973 7428 7365 6c66 293a 0a20  rn_list(self):. 
-0000ba30: 2020 2020 2020 2063 7265 645f 6c69 7374         cred_list
-0000ba40: 203d 205b 0a20 2020 2020 2020 2020 2020   = [.           
-0000ba50: 2056 4352 6563 6f72 6428 0a20 2020 2020   VCRecord(.     
-0000ba60: 2020 2020 2020 2020 2020 2063 6f6e 7465             conte
-0000ba70: 7874 733d 5b0a 2020 2020 2020 2020 2020  xts=[.          
-0000ba80: 2020 2020 2020 2020 2020 2268 7474 7073            "https
-0000ba90: 3a2f 2f77 7777 2e77 332e 6f72 672f 3230  ://www.w3.org/20
-0000baa0: 3138 2f63 7265 6465 6e74 6961 6c73 2f76  18/credentials/v
-0000bab0: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
-0000bac0: 2020 2020 2020 2020 2268 7474 7073 3a2f          "https:/
-0000bad0: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
-0000bae0: 2f63 7265 6465 6e74 6961 6c73 2f65 7861  /credentials/exa
-0000baf0: 6d70 6c65 732f 7631 222c 0a20 2020 2020  mples/v1",.     
-0000bb00: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0000bb10: 2020 2020 2020 2020 2020 2020 2020 6578                ex
-0000bb20: 7061 6e64 6564 5f74 7970 6573 3d5b 0a20  panded_types=[. 
-0000bb30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb40: 2020 2022 6874 7470 733a 2f2f 7777 772e     "https://www.
-0000bb50: 7733 2e6f 7267 2f32 3031 382f 6372 6564  w3.org/2018/cred
-0000bb60: 656e 7469 616c 7323 5665 7269 6669 6162  entials#Verifiab
-0000bb70: 6c65 4372 6564 656e 7469 616c 222c 0a20  leCredential",. 
-0000bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb90: 2020 2022 6874 7470 733a 2f2f 6578 616d     "https://exam
-0000bba0: 706c 652e 6f72 672f 6578 616d 706c 6573  ple.org/examples
-0000bbb0: 2355 6e69 7665 7273 6974 7944 6567 7265  #UniversityDegre
-0000bbc0: 6543 7265 6465 6e74 6961 6c22 2c0a 2020  eCredential",.  
-0000bbd0: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-0000bbe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000bbf0: 2069 7373 7565 725f 6964 3d22 6874 7470   issuer_id="http
-0000bc00: 733a 2f2f 6578 616d 706c 652e 6564 752f  s://example.edu/
-0000bc10: 6973 7375 6572 732f 3536 3530 3439 222c  issuers/565049",
-0000bc20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000bc30: 2073 7562 6a65 6374 5f69 6473 3d5b 0a20   subject_ids=[. 
-0000bc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc50: 2020 2022 6469 643a 736f 763a 4c6a 6770     "did:sov:Ljgp
-0000bc60: 5354 3272 6a73 6f78 5965 6751 4452 6d37  ST2rjsoxYegQDRm7
-0000bc70: 454c 222c 0a20 2020 2020 2020 2020 2020  EL",.           
-0000bc80: 2020 2020 2020 2020 2022 6469 643a 6b65           "did:ke
-0000bc90: 793a 7a36 4d6b 6767 3334 3259 6370 756b  y:z6Mkgg342Ycpuk
-0000bca0: 3236 3352 3964 3841 7136 4d55 6178 506e  263R9d8Aq6MUaxPn
-0000bcb0: 3144 4465 4879 476f 3338 4565 6658 6d67  1DDeHyGo38EefXmg
-0000bcc0: 444c 222c 0a20 2020 2020 2020 2020 2020  DL",.           
-0000bcd0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-0000bce0: 2020 2020 2020 2020 7072 6f6f 665f 7479          proof_ty
-0000bcf0: 7065 733d 5b22 4262 7342 6c73 5369 676e  pes=["BbsBlsSign
-0000bd00: 6174 7572 6532 3032 3022 5d2c 0a20 2020  ature2020"],.   
-0000bd10: 2020 2020 2020 2020 2020 2020 2073 6368               sch
-0000bd20: 656d 615f 6964 733d 5b22 6874 7470 733a  ema_ids=["https:
-0000bd30: 2f2f 6578 616d 706c 652e 6f72 672f 6578  //example.org/ex
-0000bd40: 616d 706c 6573 2f64 6567 7265 652e 6a73  amples/degree.js
-0000bd50: 6f6e 225d 2c0a 2020 2020 2020 2020 2020  on"],.          
-0000bd60: 2020 2020 2020 6372 6564 5f76 616c 7565        cred_value
-0000bd70: 3d7b 222e 2e2e 223a 2022 2e2e 2e22 7d2c  ={"...": "..."},
-0000bd80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000bd90: 2067 6976 656e 5f69 643d 2268 7474 703a   given_id="http:
-0000bda0: 2f2f 6578 616d 706c 652e 6564 752f 6372  //example.edu/cr
-0000bdb0: 6564 656e 7469 616c 732f 3337 3332 222c  edentials/3732",
-0000bdc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000bdd0: 2063 7265 645f 7461 6773 3d7b 2273 6f6d   cred_tags={"som
-0000bde0: 6522 3a20 2274 6167 227d 2c0a 2020 2020  e": "tag"},.    
-0000bdf0: 2020 2020 2020 2020 2020 2020 7265 636f              reco
-0000be00: 7264 5f69 643d 2274 6573 7431 222c 0a20  rd_id="test1",. 
-0000be10: 2020 2020 2020 2020 2020 2029 2c0a 2020             ),.  
-0000be20: 2020 2020 2020 2020 2020 5643 5265 636f            VCReco
-0000be30: 7264 280a 2020 2020 2020 2020 2020 2020  rd(.            
-0000be40: 2020 2020 636f 6e74 6578 7473 3d5b 0a20      contexts=[. 
-0000be50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000be60: 2020 2022 6874 7470 733a 2f2f 7777 772e     "https://www.
-0000be70: 7733 2e6f 7267 2f32 3031 382f 6372 6564  w3.org/2018/cred
-0000be80: 656e 7469 616c 732f 7631 222c 0a20 2020  entials/v1",.   
-0000be90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bea0: 2022 6874 7470 733a 2f2f 7777 772e 7733   "https://www.w3
-0000beb0: 2e6f 7267 2f32 3031 382f 6372 6564 656e  .org/2018/creden
-0000bec0: 7469 616c 732f 6578 616d 706c 6573 2f76  tials/examples/v
-0000bed0: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
-0000bee0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-0000bef0: 2020 2020 2020 2065 7870 616e 6465 645f         expanded_
-0000bf00: 7479 7065 733d 5b0a 2020 2020 2020 2020  types=[.        
-0000bf10: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
-0000bf20: 7073 3a2f 2f77 7777 2e77 332e 6f72 672f  ps://www.w3.org/
-0000bf30: 3230 3138 2f63 7265 6465 6e74 6961 6c73  2018/credentials
-0000bf40: 2356 6572 6966 6961 626c 6543 7265 6465  #VerifiableCrede
-0000bf50: 6e74 6961 6c22 2c0a 2020 2020 2020 2020  ntial",.        
-0000bf60: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
-0000bf70: 7073 3a2f 2f65 7861 6d70 6c65 2e6f 7267  ps://example.org
-0000bf80: 2f65 7861 6d70 6c65 7323 556e 6976 6572  /examples#Univer
-0000bf90: 7369 7479 4465 6772 6565 4372 6564 656e  sityDegreeCreden
-0000bfa0: 7469 616c 222c 0a20 2020 2020 2020 2020  tial",.         
-0000bfb0: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-0000bfc0: 2020 2020 2020 2020 2020 6973 7375 6572            issuer
-0000bfd0: 5f69 643d 2268 7474 7073 3a2f 2f65 7861  _id="https://exa
-0000bfe0: 6d70 6c65 2e65 6475 2f69 7373 7565 7273  mple.edu/issuers
-0000bff0: 2f35 3635 3034 3922 2c0a 2020 2020 2020  /565049",.      
-0000c000: 2020 2020 2020 2020 2020 7375 626a 6563            subjec
-0000c010: 745f 6964 733d 5b0a 2020 2020 2020 2020  t_ids=[.        
-0000c020: 2020 2020 2020 2020 2020 2020 2264 6964              "did
-0000c030: 3a73 6f76 3a4c 6a67 7053 5432 726a 736f  :sov:LjgpST2rjso
-0000c040: 7859 6567 5144 526d 3745 4c22 2c0a 2020  xYegQDRm7EL",.  
-0000c050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c060: 2020 2264 6964 3a6b 6579 3a7a 364d 6b67    "did:key:z6Mkg
-0000c070: 6733 3432 5963 7075 6b32 3633 5239 6438  g342Ycpuk263R9d8
-0000c080: 4171 364d 5561 7850 6e31 4444 6548 7947  Aq6MUaxPn1DDeHyG
-0000c090: 6f33 3845 6566 586d 6744 4c22 2c0a 2020  o38EefXmgDL",.  
-0000c0a0: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-0000c0b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c0c0: 2070 726f 6f66 5f74 7970 6573 3d5b 2242   proof_types=["B
-0000c0d0: 6273 426c 7353 6967 6e61 7475 7265 3230  bsBlsSignature20
-0000c0e0: 3230 225d 2c0a 2020 2020 2020 2020 2020  20"],.          
-0000c0f0: 2020 2020 2020 7363 6865 6d61 5f69 6473        schema_ids
-0000c100: 3d5b 2268 7474 7073 3a2f 2f65 7861 6d70  =["https://examp
-0000c110: 6c65 2e6f 7267 2f65 7861 6d70 6c65 732f  le.org/examples/
-0000c120: 6465 6772 6565 2e6a 736f 6e22 5d2c 0a20  degree.json"],. 
-0000c130: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000c140: 7265 645f 7661 6c75 653d 7b22 2e2e 2e22  red_value={"..."
-0000c150: 3a20 222e 2e2e 227d 2c0a 2020 2020 2020  : "..."},.      
-0000c160: 2020 2020 2020 2020 2020 6769 7665 6e5f            given_
-0000c170: 6964 3d22 6874 7470 3a2f 2f65 7861 6d70  id="http://examp
-0000c180: 6c65 2e65 6475 2f63 7265 6465 6e74 6961  le.edu/credentia
-0000c190: 6c73 2f33 3733 3222 2c0a 2020 2020 2020  ls/3732",.      
-0000c1a0: 2020 2020 2020 2020 2020 6372 6564 5f74            cred_t
-0000c1b0: 6167 733d 7b22 736f 6d65 223a 2022 7461  ags={"some": "ta
-0000c1c0: 6722 7d2c 0a20 2020 2020 2020 2020 2020  g"},.           
-0000c1d0: 2020 2020 2072 6563 6f72 645f 6964 3d22       record_id="
-0000c1e0: 7465 7374 3222 2c0a 2020 2020 2020 2020  test2",.        
-0000c1f0: 2020 2020 292c 0a20 2020 2020 2020 205d      ),.        ]
-0000c200: 0a20 2020 2020 2020 2072 6563 6f72 645f  .        record_
-0000c210: 6964 7320 3d20 7b22 7465 7374 3122 7d0a  ids = {"test1"}.
-0000c220: 2020 2020 2020 2020 280a 2020 2020 2020          (.      
-0000c230: 2020 2020 2020 7265 7475 726e 6564 5f63        returned_c
-0000c240: 7265 645f 6c69 7374 2c0a 2020 2020 2020  red_list,.      
-0000c250: 2020 2020 2020 7265 7475 726e 6564 5f72        returned_r
-0000c260: 6563 6f72 645f 6964 732c 0a20 2020 2020  ecord_ids,.     
-0000c270: 2020 2029 203d 2061 7761 6974 2073 656c     ) = await sel
-0000c280: 662e 6861 6e64 6c65 722e 7072 6f63 6573  f.handler.proces
-0000c290: 735f 7663 7265 636f 7264 735f 7265 7475  s_vcrecords_retu
-0000c2a0: 726e 5f6c 6973 7428 6372 6564 5f6c 6973  rn_list(cred_lis
-0000c2b0: 742c 2072 6563 6f72 645f 6964 7329 0a20  t, record_ids). 
-0000c2c0: 2020 2020 2020 2061 7373 6572 7420 6c65         assert le
-0000c2d0: 6e28 7265 7475 726e 6564 5f63 7265 645f  n(returned_cred_
-0000c2e0: 6c69 7374 2920 3d3d 2031 0a20 2020 2020  list) == 1.     
-0000c2f0: 2020 2061 7373 6572 7420 6c65 6e28 7265     assert len(re
-0000c300: 7475 726e 6564 5f72 6563 6f72 645f 6964  turned_record_id
-0000c310: 7329 203d 3d20 320a 2020 2020 2020 2020  s) == 2.        
-0000c320: 6173 7365 7274 2072 6574 7572 6e65 645f  assert returned_
-0000c330: 6372 6564 5f6c 6973 745b 305d 2e72 6563  cred_list[0].rec
-0000c340: 6f72 645f 6964 203d 3d20 2274 6573 7432  ord_id == "test2
-0000c350: 220a 0a20 2020 2061 7379 6e63 2064 6566  "..    async def
-0000c360: 2074 6573 745f 7265 7472 6965 7665 5f75   test_retrieve_u
-0000c370: 7269 5f6c 6973 745f 6672 6f6d 5f73 6368  ri_list_from_sch
-0000c380: 656d 615f 6669 6c74 6572 2873 656c 6629  ema_filter(self)
-0000c390: 3a0a 2020 2020 2020 2020 7465 7374 5f73  :.        test_s
-0000c3a0: 6368 656d 615f 6669 6c74 6572 203d 205b  chema_filter = [
-0000c3b0: 0a20 2020 2020 2020 2020 2020 205b 0a20  .            [. 
-0000c3c0: 2020 2020 2020 2020 2020 2020 2020 2053                 S
-0000c3d0: 6368 656d 6149 6e70 7574 4465 7363 7269  chemaInputDescri
-0000c3e0: 7074 6f72 2875 7269 3d22 7465 7374 3132  ptor(uri="test12
-0000c3f0: 3322 292c 0a20 2020 2020 2020 2020 2020  3"),.           
-0000c400: 2020 2020 2053 6368 656d 6149 6e70 7574       SchemaInput
-0000c410: 4465 7363 7269 7074 6f72 2875 7269 3d22  Descriptor(uri="
-0000c420: 7465 7374 3332 3122 2c20 7265 7175 6972  test321", requir
-0000c430: 6564 3d54 7275 6529 2c0a 2020 2020 2020  ed=True),.      
-0000c440: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
-0000c450: 5d0a 2020 2020 2020 2020 7465 7374 5f6f  ].        test_o
-0000c460: 6e65 5f6f 665f 7572 695f 6772 6f75 7073  ne_of_uri_groups
-0000c470: 203d 2028 0a20 2020 2020 2020 2020 2020   = (.           
-0000c480: 2061 7761 6974 2073 656c 662e 6861 6e64   await self.hand
-0000c490: 6c65 722e 7265 7472 6965 7665 5f75 7269  ler.retrieve_uri
-0000c4a0: 5f6c 6973 745f 6672 6f6d 5f73 6368 656d  _list_from_schem
-0000c4b0: 615f 6669 6c74 6572 2874 6573 745f 7363  a_filter(test_sc
-0000c4c0: 6865 6d61 5f66 696c 7465 7229 0a20 2020  hema_filter).   
-0000c4d0: 2020 2020 2029 0a20 2020 2020 2020 2061       ).        a
-0000c4e0: 7373 6572 7420 7465 7374 5f6f 6e65 5f6f  ssert test_one_o
-0000c4f0: 665f 7572 695f 6772 6f75 7073 203d 3d20  f_uri_groups == 
-0000c500: 5b5b 2274 6573 7431 3233 222c 2022 7465  [["test123", "te
-0000c510: 7374 3332 3122 5d5d 0a0a 2020 2020 6173  st321"]]..    as
-0000c520: 796e 6320 6465 6620 7465 7374 5f76 6572  ync def test_ver
-0000c530: 6966 795f 7265 6365 6976 6564 5f70 7265  ify_received_pre
-0000c540: 735f 6128 7365 6c66 293a 0a20 2020 2020  s_a(self):.     
-0000c550: 2020 2064 6966 5f70 7265 7320 3d20 5632     dif_pres = V2
-0000c560: 3050 7265 7328 0a20 2020 2020 2020 2020  0Pres(.         
-0000c570: 2020 2066 6f72 6d61 7473 3d5b 0a20 2020     formats=[.   
-0000c580: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-0000c590: 5072 6573 466f 726d 6174 280a 2020 2020  PresFormat(.    
-0000c5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c5b0: 6174 7461 6368 5f69 643d 2264 6966 222c  attach_id="dif",
-0000c5c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000c5d0: 2020 2020 2066 6f72 6d61 745f 3d41 5454       format_=ATT
-0000c5e0: 4143 484d 454e 545f 464f 524d 4154 5b50  ACHMENT_FORMAT[P
-0000c5f0: 5245 535f 3230 5d5b 5632 3050 7265 7346  RES_20][V20PresF
-0000c600: 6f72 6d61 742e 466f 726d 6174 2e44 4946  ormat.Format.DIF
-0000c610: 2e61 7069 5d2c 0a20 2020 2020 2020 2020  .api],.         
-0000c620: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000c630: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-0000c640: 2020 2020 7072 6573 656e 7461 7469 6f6e      presentation
-0000c650: 735f 6174 7461 6368 3d5b 0a20 2020 2020  s_attach=[.     
-0000c660: 2020 2020 2020 2020 2020 2041 7474 6163             Attac
-0000c670: 6844 6563 6f72 6174 6f72 2e64 6174 615f  hDecorator.data_
-0000c680: 6a73 6f6e 280a 2020 2020 2020 2020 2020  json(.          
-0000c690: 2020 2020 2020 2020 2020 6d61 7070 696e            mappin
-0000c6a0: 673d 4449 465f 5052 4553 2c0a 2020 2020  g=DIF_PRES,.    
-0000c6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6c0: 6964 656e 743d 2264 6966 222c 0a20 2020  ident="dif",.   
-0000c6d0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-0000c6e0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0000c6f0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-0000c700: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
-0000c710: 203d 2056 3230 5072 6573 5265 7175 6573   = V20PresReques
-0000c720: 7428 0a20 2020 2020 2020 2020 2020 2066  t(.            f
-0000c730: 6f72 6d61 7473 3d5b 0a20 2020 2020 2020  ormats=[.       
-0000c740: 2020 2020 2020 2020 2056 3230 5072 6573           V20Pres
-0000c750: 466f 726d 6174 280a 2020 2020 2020 2020  Format(.        
-0000c760: 2020 2020 2020 2020 2020 2020 6174 7461              atta
-0000c770: 6368 5f69 643d 2264 6966 222c 0a20 2020  ch_id="dif",.   
-0000c780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c790: 2066 6f72 6d61 745f 3d41 5454 4143 484d   format_=ATTACHM
-0000c7a0: 454e 545f 464f 524d 4154 5b50 5245 535f  ENT_FORMAT[PRES_
-0000c7b0: 3230 5f52 4551 5545 5354 5d5b 0a20 2020  20_REQUEST][.   
-0000c7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c7d0: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
-0000c7e0: 6174 2e46 6f72 6d61 742e 4449 462e 6170  at.Format.DIF.ap
-0000c7f0: 690a 2020 2020 2020 2020 2020 2020 2020  i.              
-0000c800: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-0000c810: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0000c820: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-0000c830: 2020 2020 2020 7265 7175 6573 745f 7072        request_pr
-0000c840: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
-0000c850: 6368 3d5b 0a20 2020 2020 2020 2020 2020  ch=[.           
-0000c860: 2020 2020 2041 7474 6163 6844 6563 6f72       AttachDecor
-0000c870: 6174 6f72 2e64 6174 615f 6a73 6f6e 2844  ator.data_json(D
-0000c880: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
-0000c890: 422c 2069 6465 6e74 3d22 6469 6622 290a  B, ident="dif").
-0000c8a0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-0000c8b0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000c8c0: 2072 6563 6f72 6420 3d20 5632 3050 7265   record = V20Pre
-0000c8d0: 7345 7852 6563 6f72 6428 0a20 2020 2020  sExRecord(.     
-0000c8e0: 2020 2020 2020 2070 7265 735f 6578 5f69         pres_ex_i
-0000c8f0: 643d 2270 7869 6422 2c0a 2020 2020 2020  d="pxid",.      
-0000c900: 2020 2020 2020 7468 7265 6164 5f69 643d        thread_id=
-0000c910: 2274 6869 6422 2c0a 2020 2020 2020 2020  "thid",.        
-0000c920: 2020 2020 636f 6e6e 6563 7469 6f6e 5f69      connection_i
-0000c930: 643d 2263 6f6e 6e5f 6964 222c 0a20 2020  d="conn_id",.   
-0000c940: 2020 2020 2020 2020 2069 6e69 7469 6174           initiat
-0000c950: 6f72 3d22 696e 6974 222c 0a20 2020 2020  or="init",.     
-0000c960: 2020 2020 2020 2072 6f6c 653d 2272 6f6c         role="rol
-0000c970: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-0000c980: 7374 6174 653d 2273 7461 7465 222c 0a20  state="state",. 
-0000c990: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
-0000c9a0: 7265 7175 6573 743d 6469 665f 7072 6573  request=dif_pres
-0000c9b0: 5f72 6571 7565 7374 2c0a 2020 2020 2020  _request,.      
-0000c9c0: 2020 2020 2020 7072 6573 3d64 6966 5f70        pres=dif_p
-0000c9d0: 7265 732c 0a20 2020 2020 2020 2020 2020  res,.           
-0000c9e0: 2076 6572 6966 6965 643d 2266 616c 7365   verified="false
-0000c9f0: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-0000ca00: 7574 6f5f 7072 6573 656e 743d 5472 7565  uto_present=True
-0000ca10: 2c0a 2020 2020 2020 2020 2020 2020 6572  ,.            er
-0000ca20: 726f 725f 6d73 673d 2265 7272 6f72 222c  ror_msg="error",
-0000ca30: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0000ca40: 2020 2061 7761 6974 2073 656c 662e 6861     await self.ha
-0000ca50: 6e64 6c65 722e 7265 6365 6976 655f 7072  ndler.receive_pr
-0000ca60: 6573 286d 6573 7361 6765 3d64 6966 5f70  es(message=dif_p
-0000ca70: 7265 732c 2070 7265 735f 6578 5f72 6563  res, pres_ex_rec
-0000ca80: 6f72 643d 7265 636f 7264 290a 0a20 2020  ord=record)..   
-0000ca90: 2061 7379 6e63 2064 6566 2074 6573 745f   async def test_
-0000caa0: 7665 7269 6679 5f72 6563 6569 7665 645f  verify_received_
-0000cab0: 7072 6573 5f62 2873 656c 6629 3a0a 2020  pres_b(self):.  
-0000cac0: 2020 2020 2020 6469 665f 7072 6f6f 6620        dif_proof 
-0000cad0: 3d20 6465 6570 636f 7079 2844 4946 5f50  = deepcopy(DIF_P
-0000cae0: 5245 5329 0a20 2020 2020 2020 2064 6966  RES).        dif
-0000caf0: 5f70 726f 6f66 5b22 7665 7269 6669 6162  _proof["verifiab
-0000cb00: 6c65 4372 6564 656e 7469 616c 225d 5b30  leCredential"][0
-0000cb10: 5d5b 2263 7265 6465 6e74 6961 6c53 7562  ]["credentialSub
-0000cb20: 6a65 6374 225d 5b22 6769 7665 6e4e 616d  ject"]["givenNam
-0000cb30: 6522 5d20 3d20 7b0a 2020 2020 2020 2020  e"] = {.        
-0000cb40: 2020 2020 2274 6573 7422 3a20 224a 4f48      "test": "JOH
-0000cb50: 4e22 0a20 2020 2020 2020 207d 0a20 2020  N".        }.   
-0000cb60: 2020 2020 2064 6966 5f70 7265 7320 3d20       dif_pres = 
-0000cb70: 5632 3050 7265 7328 0a20 2020 2020 2020  V20Pres(.       
-0000cb80: 2020 2020 2066 6f72 6d61 7473 3d5b 0a20       formats=[. 
-0000cb90: 2020 2020 2020 2020 2020 2020 2020 2056                 V
-0000cba0: 3230 5072 6573 466f 726d 6174 280a 2020  20PresFormat(.  
-0000cbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cbc0: 2020 6174 7461 6368 5f69 643d 2264 6966    attach_id="dif
-0000cbd0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000cbe0: 2020 2020 2020 2066 6f72 6d61 745f 3d41         format_=A
-0000cbf0: 5454 4143 484d 454e 545f 464f 524d 4154  TTACHMENT_FORMAT
-0000cc00: 5b50 5245 535f 3230 5d5b 5632 3050 7265  [PRES_20][V20Pre
-0000cc10: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
-0000cc20: 4946 2e61 7069 5d2c 0a20 2020 2020 2020  IF.api],.       
-0000cc30: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-0000cc40: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-0000cc50: 2020 2020 2020 7072 6573 656e 7461 7469        presentati
-0000cc60: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
-0000cc70: 2020 2020 2020 2020 2020 2020 2041 7474               Att
-0000cc80: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
-0000cc90: 615f 6a73 6f6e 280a 2020 2020 2020 2020  a_json(.        
-0000cca0: 2020 2020 2020 2020 2020 2020 6d61 7070              mapp
-0000ccb0: 696e 673d 6469 665f 7072 6f6f 662c 0a20  ing=dif_proof,. 
-0000ccc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccd0: 2020 2069 6465 6e74 3d22 6469 6622 2c0a     ident="dif",.
-0000cce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccf0: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-0000cd00: 0a20 2020 2020 2020 2029 0a0a 2020 2020  .        )..    
-0000cd10: 2020 2020 6469 665f 7072 6f6f 665f 7265      dif_proof_re
-0000cd20: 7120 3d20 6465 6570 636f 7079 2844 4946  q = deepcopy(DIF
-0000cd30: 5f50 5245 535f 5245 5155 4553 545f 4229  _PRES_REQUEST_B)
-0000cd40: 0a20 2020 2020 2020 2064 6966 5f70 726f  .        dif_pro
-0000cd50: 6f66 5f72 6571 5b22 7072 6573 656e 7461  of_req["presenta
-0000cd60: 7469 6f6e 5f64 6566 696e 6974 696f 6e22  tion_definition"
-0000cd70: 5d5b 2269 6e70 7574 5f64 6573 6372 6970  ]["input_descrip
-0000cd80: 746f 7273 225d 5b30 5d5b 2263 6f6e 7374  tors"][0]["const
-0000cd90: 7261 696e 7473 225d 5b0a 2020 2020 2020  raints"][.      
-0000cda0: 2020 2020 2020 2266 6965 6c64 7322 0a20        "fields". 
-0000cdb0: 2020 2020 2020 205d 5b30 5d5b 2270 6174         ][0]["pat
-0000cdc0: 6822 5d20 3d20 5b22 242e 6372 6564 656e  h"] = ["$.creden
-0000cdd0: 7469 616c 5375 626a 6563 742e 6769 7665  tialSubject.give
-0000cde0: 6e4e 616d 652e 7465 7374 225d 0a20 2020  nName.test"].   
-0000cdf0: 2020 2020 2064 6966 5f70 7265 735f 7265       dif_pres_re
-0000ce00: 7175 6573 7420 3d20 5632 3050 7265 7352  quest = V20PresR
-0000ce10: 6571 7565 7374 280a 2020 2020 2020 2020  equest(.        
-0000ce20: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
-0000ce30: 2020 2020 2020 2020 2020 2020 2020 5632                V2
-0000ce40: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
-0000ce50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ce60: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
-0000ce70: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000ce80: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
-0000ce90: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
-0000cea0: 5052 4553 5f32 305f 5245 5155 4553 545d  PRES_20_REQUEST]
-0000ceb0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-0000cec0: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
-0000ced0: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
-0000cee0: 4946 2e61 7069 0a20 2020 2020 2020 2020  IF.api.         
-0000cef0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0000cf00: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-0000cf10: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-0000cf20: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-0000cf30: 7374 5f70 7265 7365 6e74 6174 696f 6e73  st_presentations
-0000cf40: 5f61 7474 6163 683d 5b0a 2020 2020 2020  _attach=[.      
-0000cf50: 2020 2020 2020 2020 2020 4174 7461 6368            Attach
-0000cf60: 4465 636f 7261 746f 722e 6461 7461 5f6a  Decorator.data_j
-0000cf70: 736f 6e28 6469 665f 7072 6f6f 665f 7265  son(dif_proof_re
-0000cf80: 712c 2069 6465 6e74 3d22 6469 6622 290a  q, ident="dif").
-0000cf90: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-0000cfa0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000cfb0: 2072 6563 6f72 6420 3d20 5632 3050 7265   record = V20Pre
-0000cfc0: 7345 7852 6563 6f72 6428 0a20 2020 2020  sExRecord(.     
-0000cfd0: 2020 2020 2020 2070 7265 735f 6578 5f69         pres_ex_i
-0000cfe0: 643d 2270 7869 6422 2c0a 2020 2020 2020  d="pxid",.      
-0000cff0: 2020 2020 2020 7468 7265 6164 5f69 643d        thread_id=
-0000d000: 2274 6869 6422 2c0a 2020 2020 2020 2020  "thid",.        
-0000d010: 2020 2020 636f 6e6e 6563 7469 6f6e 5f69      connection_i
-0000d020: 643d 2263 6f6e 6e5f 6964 222c 0a20 2020  d="conn_id",.   
-0000d030: 2020 2020 2020 2020 2069 6e69 7469 6174           initiat
-0000d040: 6f72 3d22 696e 6974 222c 0a20 2020 2020  or="init",.     
-0000d050: 2020 2020 2020 2072 6f6c 653d 2272 6f6c         role="rol
-0000d060: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-0000d070: 7374 6174 653d 2273 7461 7465 222c 0a20  state="state",. 
-0000d080: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
-0000d090: 7265 7175 6573 743d 6469 665f 7072 6573  request=dif_pres
-0000d0a0: 5f72 6571 7565 7374 2c0a 2020 2020 2020  _request,.      
-0000d0b0: 2020 2020 2020 7072 6573 3d64 6966 5f70        pres=dif_p
-0000d0c0: 7265 732c 0a20 2020 2020 2020 2020 2020  res,.           
-0000d0d0: 2076 6572 6966 6965 643d 2266 616c 7365   verified="false
-0000d0e0: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-0000d0f0: 7574 6f5f 7072 6573 656e 743d 5472 7565  uto_present=True
-0000d100: 2c0a 2020 2020 2020 2020 2020 2020 6572  ,.            er
-0000d110: 726f 725f 6d73 673d 2265 7272 6f72 222c  ror_msg="error",
-0000d120: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0000d130: 2020 2061 7761 6974 2073 656c 662e 6861     await self.ha
-0000d140: 6e64 6c65 722e 7265 6365 6976 655f 7072  ndler.receive_pr
-0000d150: 6573 286d 6573 7361 6765 3d64 6966 5f70  es(message=dif_p
-0000d160: 7265 732c 2070 7265 735f 6578 5f72 6563  res, pres_ex_rec
-0000d170: 6f72 643d 7265 636f 7264 290a 0a20 2020  ord=record)..   
-0000d180: 2061 7379 6e63 2064 6566 2074 6573 745f   async def test_
-0000d190: 7665 7269 6679 5f72 6563 6569 7665 645f  verify_received_
-0000d1a0: 7072 6573 5f63 2873 656c 6629 3a0a 2020  pres_c(self):.  
-0000d1b0: 2020 2020 2020 6469 665f 7072 6f6f 6620        dif_proof 
-0000d1c0: 3d20 6465 6570 636f 7079 2844 4946 5f50  = deepcopy(DIF_P
-0000d1d0: 5245 5329 0a20 2020 2020 2020 2064 6966  RES).        dif
-0000d1e0: 5f70 726f 6f66 5b22 7665 7269 6669 6162  _proof["verifiab
-0000d1f0: 6c65 4372 6564 656e 7469 616c 225d 5b30  leCredential"][0
-0000d200: 5d5b 2263 7265 6465 6e74 6961 6c53 7562  ]["credentialSub
-0000d210: 6a65 6374 225d 5b22 6769 7665 6e4e 616d  ject"]["givenNam
-0000d220: 6522 5d20 3d20 7b0a 2020 2020 2020 2020  e"] = {.        
-0000d230: 2020 2020 2274 6573 7422 3a20 224a 4f48      "test": "JOH
-0000d240: 4e22 0a20 2020 2020 2020 207d 0a20 2020  N".        }.   
-0000d250: 2020 2020 2064 6966 5f70 726f 6f66 5b22       dif_proof["
-0000d260: 7665 7269 6669 6162 6c65 4372 6564 656e  verifiableCreden
-0000d270: 7469 616c 225d 5b30 5d5b 2263 7265 6465  tial"][0]["crede
-0000d280: 6e74 6961 6c53 7562 6a65 6374 225d 5b22  ntialSubject"]["
-0000d290: 7465 7374 225d 203d 207b 0a20 2020 2020  test"] = {.     
-0000d2a0: 2020 2020 2020 2022 7465 7374 3122 3a20         "test1": 
-0000d2b0: 7b22 7465 7374 3222 3a20 2254 4553 5422  {"test2": "TEST"
-0000d2c0: 7d0a 2020 2020 2020 2020 7d0a 2020 2020  }.        }.    
-0000d2d0: 2020 2020 6469 665f 7072 6573 203d 2056      dif_pres = V
-0000d2e0: 3230 5072 6573 280a 2020 2020 2020 2020  20Pres(.        
-0000d2f0: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
-0000d300: 2020 2020 2020 2020 2020 2020 2020 5632                V2
-0000d310: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
-0000d320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d330: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
-0000d340: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000d350: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
-0000d360: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
-0000d370: 5052 4553 5f32 305d 5b56 3230 5072 6573  PRES_20][V20Pres
-0000d380: 466f 726d 6174 2e46 6f72 6d61 742e 4449  Format.Format.DI
-0000d390: 462e 6170 695d 2c0a 2020 2020 2020 2020  F.api],.        
-0000d3a0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0000d3b0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-0000d3c0: 2020 2020 2070 7265 7365 6e74 6174 696f       presentatio
-0000d3d0: 6e73 5f61 7474 6163 683d 5b0a 2020 2020  ns_attach=[.    
-0000d3e0: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
-0000d3f0: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
-0000d400: 5f6a 736f 6e28 0a20 2020 2020 2020 2020  _json(.         
-0000d410: 2020 2020 2020 2020 2020 206d 6170 7069             mappi
-0000d420: 6e67 3d64 6966 5f70 726f 6f66 2c0a 2020  ng=dif_proof,.  
-0000d430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d440: 2020 6964 656e 743d 2264 6966 222c 0a20    ident="dif",. 
-0000d450: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-0000d460: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
-0000d470: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
-0000d480: 2020 2064 6966 5f70 726f 6f66 5f72 6571     dif_proof_req
-0000d490: 203d 2064 6565 7063 6f70 7928 4449 465f   = deepcopy(DIF_
-0000d4a0: 5052 4553 5f52 4551 5545 5354 5f42 290a  PRES_REQUEST_B).
-0000d4b0: 2020 2020 2020 2020 6469 665f 7072 6f6f          dif_proo
-0000d4c0: 665f 7265 715b 2270 7265 7365 6e74 6174  f_req["presentat
-0000d4d0: 696f 6e5f 6465 6669 6e69 7469 6f6e 225d  ion_definition"]
-0000d4e0: 5b22 696e 7075 745f 6465 7363 7269 7074  ["input_descript
-0000d4f0: 6f72 7322 5d5b 305d 5b0a 2020 2020 2020  ors"][0][.      
-0000d500: 2020 2020 2020 2263 6f6e 7374 7261 696e        "constrain
-0000d510: 7473 220a 2020 2020 2020 2020 5d20 3d20  ts".        ] = 
-0000d520: 7b0a 2020 2020 2020 2020 2020 2020 226c  {.            "l
-0000d530: 696d 6974 5f64 6973 636c 6f73 7572 6522  imit_disclosure"
-0000d540: 3a20 2272 6571 7569 7265 6422 2c0a 2020  : "required",.  
-0000d550: 2020 2020 2020 2020 2020 2266 6965 6c64            "field
-0000d560: 7322 3a20 5b0a 2020 2020 2020 2020 2020  s": [.          
-0000d570: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
-0000d580: 2020 2020 2020 2020 2020 2020 2270 6174              "pat
-0000d590: 6822 3a20 5b22 242e 6372 6564 656e 7469  h": ["$.credenti
-0000d5a0: 616c 5375 626a 6563 742e 6769 7665 6e4e  alSubject.givenN
-0000d5b0: 616d 652e 7465 7374 225d 2c0a 2020 2020  ame.test"],.    
-0000d5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d5d0: 2266 696c 7465 7222 3a20 7b0a 2020 2020  "filter": {.    
-0000d5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d5f0: 2020 2020 2274 7970 6522 3a20 2273 7472      "type": "str
-0000d600: 696e 6722 2c0a 2020 2020 2020 2020 2020  ing",.          
-0000d610: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-0000d620: 6e75 6d22 3a20 5b22 4a4f 484e 222c 2022  num": ["JOHN", "
-0000d630: 4341 4922 5d2c 0a20 2020 2020 2020 2020  CAI"],.         
-0000d640: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
-0000d650: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
-0000d660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d670: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
-0000d680: 2020 2020 2020 2022 7061 7468 223a 205b         "path": [
-0000d690: 2224 2e63 7265 6465 6e74 6961 6c53 7562  "$.credentialSub
-0000d6a0: 6a65 6374 2e74 6573 742e 7465 7374 312e  ject.test.test1.
-0000d6b0: 7465 7374 3222 5d2c 0a20 2020 2020 2020  test2"],.       
-0000d6c0: 2020 2020 2020 2020 2020 2020 2022 6669               "fi
-0000d6d0: 6c74 6572 223a 207b 0a20 2020 2020 2020  lter": {.       
-0000d6e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d6f0: 2022 7479 7065 223a 2022 7374 7269 6e67   "type": "string
-0000d700: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000d710: 2020 2020 2020 2020 2020 2022 656e 756d             "enum
-0000d720: 223a 205b 2254 4553 5422 5d2c 0a20 2020  ": ["TEST"],.   
+0000b700: 2020 5632 3050 7265 7346 6f72 6d61 742e    V20PresFormat.
+0000b710: 466f 726d 6174 2e44 4946 2e61 7069 0a20  Format.DIF.api. 
+0000b720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b730: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+0000b740: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0000b750: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+0000b760: 2020 2072 6571 7565 7374 5f70 7265 7365     request_prese
+0000b770: 6e74 6174 696f 6e73 5f61 7474 6163 683d  ntations_attach=
+0000b780: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+0000b790: 2020 4174 7461 6368 4465 636f 7261 746f    AttachDecorato
+0000b7a0: 722e 6461 7461 5f6a 736f 6e28 4449 465f  r.data_json(DIF_
+0000b7b0: 5052 4553 5f52 4551 5545 5354 5f42 2c20  PRES_REQUEST_B, 
+0000b7c0: 6964 656e 743d 2264 6966 2229 0a20 2020  ident="dif").   
+0000b7d0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+0000b7e0: 2020 2020 290a 2020 2020 2020 2020 7265      ).        re
+0000b7f0: 636f 7264 203d 2056 3230 5072 6573 4578  cord = V20PresEx
+0000b800: 5265 636f 7264 280a 2020 2020 2020 2020  Record(.        
+0000b810: 2020 2020 7072 6573 5f65 785f 6964 3d22      pres_ex_id="
+0000b820: 7078 6964 222c 0a20 2020 2020 2020 2020  pxid",.         
+0000b830: 2020 2074 6872 6561 645f 6964 3d22 7468     thread_id="th
+0000b840: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+0000b850: 2063 6f6e 6e65 6374 696f 6e5f 6964 3d22   connection_id="
+0000b860: 636f 6e6e 5f69 6422 2c0a 2020 2020 2020  conn_id",.      
+0000b870: 2020 2020 2020 696e 6974 6961 746f 723d        initiator=
+0000b880: 2269 6e69 7422 2c0a 2020 2020 2020 2020  "init",.        
+0000b890: 2020 2020 726f 6c65 3d22 726f 6c65 222c      role="role",
+0000b8a0: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+0000b8b0: 7465 3d22 7374 6174 6522 2c0a 2020 2020  te="state",.    
+0000b8c0: 2020 2020 2020 2020 7072 6573 5f72 6571          pres_req
+0000b8d0: 7565 7374 3d64 6966 5f70 7265 735f 7265  uest=dif_pres_re
+0000b8e0: 7175 6573 742c 0a20 2020 2020 2020 2020  quest,.         
+0000b8f0: 2020 2070 7265 733d 6469 665f 7072 6573     pres=dif_pres
+0000b900: 2c0a 2020 2020 2020 2020 2020 2020 7665  ,.            ve
+0000b910: 7269 6669 6564 3d22 6661 6c73 6522 2c0a  rified="false",.
+0000b920: 2020 2020 2020 2020 2020 2020 6175 746f              auto
+0000b930: 5f70 7265 7365 6e74 3d54 7275 652c 0a20  _present=True,. 
+0000b940: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+0000b950: 5f6d 7367 3d22 6572 726f 7222 2c0a 2020  _msg="error",.  
+0000b960: 2020 2020 2020 290a 0a20 2020 2020 2020        )..       
+0000b970: 2077 6974 6820 6173 796e 635f 6d6f 636b   with async_mock
+0000b980: 2e70 6174 6368 2e6f 626a 6563 7428 0a20  .patch.object(. 
+0000b990: 2020 2020 2020 2020 2020 2074 6573 745f             test_
+0000b9a0: 6d6f 6475 6c65 2c0a 2020 2020 2020 2020  module,.        
+0000b9b0: 2020 2020 2276 6572 6966 795f 7072 6573      "verify_pres
+0000b9c0: 656e 7461 7469 6f6e 222c 0a20 2020 2020  entation",.     
+0000b9d0: 2020 2020 2020 2061 7379 6e63 5f6d 6f63         async_moc
+0000b9e0: 6b2e 436f 726f 7574 696e 654d 6f63 6b28  k.CoroutineMock(
+0000b9f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000ba00: 2072 6574 7572 6e5f 7661 6c75 653d 5072   return_value=Pr
+0000ba10: 6573 656e 7461 7469 6f6e 5665 7269 6669  esentationVerifi
+0000ba20: 6361 7469 6f6e 5265 7375 6c74 2876 6572  cationResult(ver
+0000ba30: 6966 6965 643d 5472 7565 290a 2020 2020  ified=True).    
+0000ba40: 2020 2020 2020 2020 292c 0a20 2020 2020          ),.     
+0000ba50: 2020 2029 2061 7320 6d6f 636b 5f76 723a     ) as mock_vr:
+0000ba60: 0a20 2020 2020 2020 2020 2020 206f 7574  .            out
+0000ba70: 7075 7420 3d20 6177 6169 7420 7365 6c66  put = await self
+0000ba80: 2e68 616e 646c 6572 2e76 6572 6966 795f  .handler.verify_
+0000ba90: 7072 6573 2872 6563 6f72 6429 0a20 2020  pres(record).   
+0000baa0: 2020 2020 2020 2020 2061 7373 6572 7420           assert 
+0000bab0: 6f75 7470 7574 2e76 6572 6966 6965 640a  output.verified.
+0000bac0: 0a20 2020 2061 7379 6e63 2064 6566 2074  .    async def t
+0000bad0: 6573 745f 7665 7269 6679 5f70 7265 735f  est_verify_pres_
+0000bae0: 6e6f 5f63 6861 6c6c 656e 6765 2873 656c  no_challenge(sel
+0000baf0: 6629 3a0a 2020 2020 2020 2020 7465 7374  f):.        test
+0000bb00: 5f70 6420 3d20 6465 6570 636f 7079 2844  _pd = deepcopy(D
+0000bb10: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
+0000bb20: 4229 0a20 2020 2020 2020 2064 656c 2074  B).        del t
+0000bb30: 6573 745f 7064 5b22 6f70 7469 6f6e 7322  est_pd["options"
+0000bb40: 5d5b 2263 6861 6c6c 656e 6765 225d 0a20  ]["challenge"]. 
+0000bb50: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
+0000bb60: 7265 7175 6573 7420 3d20 5632 3050 7265  request = V20Pre
+0000bb70: 7352 6571 7565 7374 280a 2020 2020 2020  sRequest(.      
+0000bb80: 2020 2020 2020 666f 726d 6174 733d 5b0a        formats=[.
+0000bb90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bba0: 5632 3050 7265 7346 6f72 6d61 7428 0a20  V20PresFormat(. 
+0000bbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bbc0: 2020 2061 7474 6163 685f 6964 3d22 6469     attach_id="di
+0000bbd0: 6622 2c0a 2020 2020 2020 2020 2020 2020  f",.            
+0000bbe0: 2020 2020 2020 2020 666f 726d 6174 5f3d          format_=
+0000bbf0: 4154 5441 4348 4d45 4e54 5f46 4f52 4d41  ATTACHMENT_FORMA
+0000bc00: 545b 5052 4553 5f32 305f 5245 5155 4553  T[PRES_20_REQUES
+0000bc10: 545d 5b0a 2020 2020 2020 2020 2020 2020  T][.            
+0000bc20: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
+0000bc30: 7265 7346 6f72 6d61 742e 466f 726d 6174  resFormat.Format
+0000bc40: 2e44 4946 2e61 7069 0a20 2020 2020 2020  .DIF.api.       
+0000bc50: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
+0000bc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bc70: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
+0000bc80: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
+0000bc90: 7565 7374 5f70 7265 7365 6e74 6174 696f  uest_presentatio
+0000bca0: 6e73 5f61 7474 6163 683d 5b0a 2020 2020  ns_attach=[.    
+0000bcb0: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
+0000bcc0: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
+0000bcd0: 5f6a 736f 6e28 7465 7374 5f70 642c 2069  _json(test_pd, i
+0000bce0: 6465 6e74 3d22 6469 6622 290a 2020 2020  dent="dif").    
+0000bcf0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+0000bd00: 2020 2029 0a20 2020 2020 2020 2064 6966     ).        dif
+0000bd10: 5f70 7265 7320 3d20 5632 3050 7265 7328  _pres = V20Pres(
+0000bd20: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+0000bd30: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
+0000bd40: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
+0000bd50: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+0000bd60: 2020 2020 2020 2020 2020 6174 7461 6368            attach
+0000bd70: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
+0000bd80: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000bd90: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
+0000bda0: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
+0000bdb0: 5d5b 5632 3050 7265 7346 6f72 6d61 742e  ][V20PresFormat.
+0000bdc0: 466f 726d 6174 2e44 4946 2e61 7069 5d2c  Format.DIF.api],
+0000bdd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bde0: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
+0000bdf0: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
+0000be00: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
+0000be10: 6368 3d5b 4174 7461 6368 4465 636f 7261  ch=[AttachDecora
+0000be20: 746f 722e 6461 7461 5f6a 736f 6e28 4449  tor.data_json(DI
+0000be30: 465f 5052 4553 2c20 6964 656e 743d 2264  F_PRES, ident="d
+0000be40: 6966 2229 5d2c 0a20 2020 2020 2020 2029  if")],.        )
+0000be50: 0a20 2020 2020 2020 2072 6563 6f72 6420  .        record 
+0000be60: 3d20 5632 3050 7265 7345 7852 6563 6f72  = V20PresExRecor
+0000be70: 6428 0a20 2020 2020 2020 2020 2020 2070  d(.            p
+0000be80: 7265 735f 6578 5f69 643d 2270 7869 6422  res_ex_id="pxid"
+0000be90: 2c0a 2020 2020 2020 2020 2020 2020 7468  ,.            th
+0000bea0: 7265 6164 5f69 643d 2274 6869 6422 2c0a  read_id="thid",.
+0000beb0: 2020 2020 2020 2020 2020 2020 636f 6e6e              conn
+0000bec0: 6563 7469 6f6e 5f69 643d 2263 6f6e 6e5f  ection_id="conn_
+0000bed0: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+0000bee0: 2069 6e69 7469 6174 6f72 3d22 696e 6974   initiator="init
+0000bef0: 222c 0a20 2020 2020 2020 2020 2020 2072  ",.            r
+0000bf00: 6f6c 653d 2272 6f6c 6522 2c0a 2020 2020  ole="role",.    
+0000bf10: 2020 2020 2020 2020 7374 6174 653d 2273          state="s
+0000bf20: 7461 7465 222c 0a20 2020 2020 2020 2020  tate",.         
+0000bf30: 2020 2070 7265 735f 7265 7175 6573 743d     pres_request=
+0000bf40: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
+0000bf50: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
+0000bf60: 6573 3d64 6966 5f70 7265 732c 0a20 2020  es=dif_pres,.   
+0000bf70: 2020 2020 2020 2020 2076 6572 6966 6965           verifie
+0000bf80: 643d 2266 616c 7365 222c 0a20 2020 2020  d="false",.     
+0000bf90: 2020 2020 2020 2061 7574 6f5f 7072 6573         auto_pres
+0000bfa0: 656e 743d 5472 7565 2c0a 2020 2020 2020  ent=True,.      
+0000bfb0: 2020 2020 2020 6572 726f 725f 6d73 673d        error_msg=
+0000bfc0: 2265 7272 6f72 222c 0a20 2020 2020 2020  "error",.       
+0000bfd0: 2029 0a0a 2020 2020 2020 2020 6173 7365   )..        asse
+0000bfe0: 7274 2061 7761 6974 2073 656c 662e 6861  rt await self.ha
+0000bff0: 6e64 6c65 722e 7665 7269 6679 5f70 7265  ndler.verify_pre
+0000c000: 7328 7265 636f 7264 290a 0a20 2020 2061  s(record)..    a
+0000c010: 7379 6e63 2064 6566 2074 6573 745f 6372  sync def test_cr
+0000c020: 6561 7465 5f70 7265 735f 6372 6564 5f6c  eate_pres_cred_l
+0000c030: 696d 6974 5f64 6973 636c 6f73 7572 655f  imit_disclosure_
+0000c040: 6e6f 5f62 6273 2873 656c 6629 3a0a 2020  no_bbs(self):.  
+0000c050: 2020 2020 2020 7465 7374 5f70 6420 3d20        test_pd = 
+0000c060: 6465 6570 636f 7079 2844 4946 5f50 5245  deepcopy(DIF_PRE
+0000c070: 535f 5245 5155 4553 545f 4229 0a20 2020  S_REQUEST_B).   
+0000c080: 2020 2020 2074 6573 745f 7064 5b22 7072       test_pd["pr
+0000c090: 6573 656e 7461 7469 6f6e 5f64 6566 696e  esentation_defin
+0000c0a0: 6974 696f 6e22 5d5b 2266 6f72 6d61 7422  ition"]["format"
+0000c0b0: 5d20 3d20 7b0a 2020 2020 2020 2020 2020  ] = {.          
+0000c0c0: 2020 226c 6470 5f76 7022 3a20 7b22 7072    "ldp_vp": {"pr
+0000c0d0: 6f6f 665f 7479 7065 223a 205b 2245 6432  oof_type": ["Ed2
+0000c0e0: 3535 3139 5369 676e 6174 7572 6532 3031  5519Signature201
+0000c0f0: 3822 5d7d 0a20 2020 2020 2020 207d 0a20  8"]}.        }. 
+0000c100: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
+0000c110: 7265 7175 6573 7420 3d20 5632 3050 7265  request = V20Pre
+0000c120: 7352 6571 7565 7374 280a 2020 2020 2020  sRequest(.      
+0000c130: 2020 2020 2020 666f 726d 6174 733d 5b0a        formats=[.
+0000c140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c150: 5632 3050 7265 7346 6f72 6d61 7428 0a20  V20PresFormat(. 
+0000c160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c170: 2020 2061 7474 6163 685f 6964 3d22 6469     attach_id="di
+0000c180: 6622 2c0a 2020 2020 2020 2020 2020 2020  f",.            
+0000c190: 2020 2020 2020 2020 666f 726d 6174 5f3d          format_=
+0000c1a0: 4154 5441 4348 4d45 4e54 5f46 4f52 4d41  ATTACHMENT_FORMA
+0000c1b0: 545b 5052 4553 5f32 305f 5245 5155 4553  T[PRES_20_REQUES
+0000c1c0: 545d 5b0a 2020 2020 2020 2020 2020 2020  T][.            
+0000c1d0: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
+0000c1e0: 7265 7346 6f72 6d61 742e 466f 726d 6174  resFormat.Format
+0000c1f0: 2e44 4946 2e61 7069 0a20 2020 2020 2020  .DIF.api.       
+0000c200: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
+0000c210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c220: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
+0000c230: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
+0000c240: 7565 7374 5f70 7265 7365 6e74 6174 696f  uest_presentatio
+0000c250: 6e73 5f61 7474 6163 683d 5b0a 2020 2020  ns_attach=[.    
+0000c260: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
+0000c270: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
+0000c280: 5f6a 736f 6e28 7465 7374 5f70 642c 2069  _json(test_pd, i
+0000c290: 6465 6e74 3d22 6469 6622 290a 2020 2020  dent="dif").    
+0000c2a0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+0000c2b0: 2020 2029 0a20 2020 2020 2020 2072 6563     ).        rec
+0000c2c0: 6f72 6420 3d20 5632 3050 7265 7345 7852  ord = V20PresExR
+0000c2d0: 6563 6f72 6428 0a20 2020 2020 2020 2020  ecord(.         
+0000c2e0: 2020 2070 7265 735f 6578 5f69 643d 2270     pres_ex_id="p
+0000c2f0: 7869 6422 2c0a 2020 2020 2020 2020 2020  xid",.          
+0000c300: 2020 7468 7265 6164 5f69 643d 2274 6869    thread_id="thi
+0000c310: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+0000c320: 636f 6e6e 6563 7469 6f6e 5f69 643d 2263  connection_id="c
+0000c330: 6f6e 6e5f 6964 222c 0a20 2020 2020 2020  onn_id",.       
+0000c340: 2020 2020 2069 6e69 7469 6174 6f72 3d22       initiator="
+0000c350: 696e 6974 222c 0a20 2020 2020 2020 2020  init",.         
+0000c360: 2020 2072 6f6c 653d 2272 6f6c 6522 2c0a     role="role",.
+0000c370: 2020 2020 2020 2020 2020 2020 7374 6174              stat
+0000c380: 653d 2273 7461 7465 222c 0a20 2020 2020  e="state",.     
+0000c390: 2020 2020 2020 2070 7265 735f 7265 7175         pres_requ
+0000c3a0: 6573 743d 6469 665f 7072 6573 5f72 6571  est=dif_pres_req
+0000c3b0: 7565 7374 2c0a 2020 2020 2020 2020 2020  uest,.          
+0000c3c0: 2020 7665 7269 6669 6564 3d22 6661 6c73    verified="fals
+0000c3d0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+0000c3e0: 6175 746f 5f70 7265 7365 6e74 3d54 7275  auto_present=Tru
+0000c3f0: 652c 0a20 2020 2020 2020 2020 2020 2065  e,.            e
+0000c400: 7272 6f72 5f6d 7367 3d22 6572 726f 7222  rror_msg="error"
+0000c410: 2c0a 2020 2020 2020 2020 290a 0a20 2020  ,.        )..   
+0000c420: 2020 2020 2077 6974 6820 7365 6c66 2e61       with self.a
+0000c430: 7373 6572 7452 6169 7365 7328 5632 3050  ssertRaises(V20P
+0000c440: 7265 7346 6f72 6d61 7448 616e 646c 6572  resFormatHandler
+0000c450: 4572 726f 7229 3a0a 2020 2020 2020 2020  Error):.        
+0000c460: 2020 2020 6177 6169 7420 7365 6c66 2e68      await self.h
+0000c470: 616e 646c 6572 2e63 7265 6174 655f 7072  andler.create_pr
+0000c480: 6573 2872 6563 6f72 6429 0a0a 2020 2020  es(record)..    
+0000c490: 6173 796e 6320 6465 6620 7465 7374 5f63  async def test_c
+0000c4a0: 7265 6174 655f 7072 6573 5f63 7265 645f  reate_pres_cred_
+0000c4b0: 636c 6169 6d5f 666f 726d 6174 5f73 696e  claim_format_sin
+0000c4c0: 676c 655f 6c64 705f 7670 5f65 7272 6f72  gle_ldp_vp_error
+0000c4d0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0000c4e0: 7465 7374 5f70 6420 3d20 6465 6570 636f  test_pd = deepco
+0000c4f0: 7079 2844 4946 5f50 5245 535f 5245 5155  py(DIF_PRES_REQU
+0000c500: 4553 545f 4229 0a20 2020 2020 2020 2074  EST_B).        t
+0000c510: 6573 745f 7064 5b22 7072 6573 656e 7461  est_pd["presenta
+0000c520: 7469 6f6e 5f64 6566 696e 6974 696f 6e22  tion_definition"
+0000c530: 5d5b 2266 6f72 6d61 7422 5d20 3d20 7b0a  ]["format"] = {.
+0000c540: 2020 2020 2020 2020 2020 2020 226c 6470              "ldp
+0000c550: 5f76 7022 3a20 7b22 7072 6f6f 665f 7479  _vp": {"proof_ty
+0000c560: 7065 223a 205b 2274 6573 7422 5d7d 0a20  pe": ["test"]}. 
+0000c570: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0000c580: 2064 656c 2074 6573 745f 7064 5b22 7072   del test_pd["pr
+0000c590: 6573 656e 7461 7469 6f6e 5f64 6566 696e  esentation_defin
+0000c5a0: 6974 696f 6e22 5d5b 2269 6e70 7574 5f64  ition"]["input_d
+0000c5b0: 6573 6372 6970 746f 7273 225d 5b30 5d5b  escriptors"][0][
+0000c5c0: 2263 6f6e 7374 7261 696e 7473 225d 5b0a  "constraints"][.
+0000c5d0: 2020 2020 2020 2020 2020 2020 226c 696d              "lim
+0000c5e0: 6974 5f64 6973 636c 6f73 7572 6522 0a20  it_disclosure". 
+0000c5f0: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
+0000c600: 2064 6966 5f70 7265 735f 7265 7175 6573   dif_pres_reques
+0000c610: 7420 3d20 5632 3050 7265 7352 6571 7565  t = V20PresReque
+0000c620: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
+0000c630: 666f 726d 6174 733d 5b0a 2020 2020 2020  formats=[.      
+0000c640: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+0000c650: 7346 6f72 6d61 7428 0a20 2020 2020 2020  sFormat(.       
+0000c660: 2020 2020 2020 2020 2020 2020 2061 7474               att
+0000c670: 6163 685f 6964 3d22 6469 6622 2c0a 2020  ach_id="dif",.  
+0000c680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c690: 2020 666f 726d 6174 5f3d 4154 5441 4348    format_=ATTACH
+0000c6a0: 4d45 4e54 5f46 4f52 4d41 545b 5052 4553  MENT_FORMAT[PRES
+0000c6b0: 5f32 305f 5245 5155 4553 545d 5b0a 2020  _20_REQUEST][.  
+0000c6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c6d0: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+0000c6e0: 6d61 742e 466f 726d 6174 2e44 4946 2e61  mat.Format.DIF.a
+0000c6f0: 7069 0a20 2020 2020 2020 2020 2020 2020  pi.             
+0000c700: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+0000c710: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0000c720: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+0000c730: 2020 2020 2020 2072 6571 7565 7374 5f70         request_p
+0000c740: 7265 7365 6e74 6174 696f 6e73 5f61 7474  resentations_att
+0000c750: 6163 683d 5b0a 2020 2020 2020 2020 2020  ach=[.          
+0000c760: 2020 2020 2020 4174 7461 6368 4465 636f        AttachDeco
+0000c770: 7261 746f 722e 6461 7461 5f6a 736f 6e28  rator.data_json(
+0000c780: 7465 7374 5f70 642c 2069 6465 6e74 3d22  test_pd, ident="
+0000c790: 6469 6622 290a 2020 2020 2020 2020 2020  dif").          
+0000c7a0: 2020 5d2c 0a20 2020 2020 2020 2029 0a20    ],.        ). 
+0000c7b0: 2020 2020 2020 2072 6563 6f72 6420 3d20         record = 
+0000c7c0: 5632 3050 7265 7345 7852 6563 6f72 6428  V20PresExRecord(
+0000c7d0: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+0000c7e0: 735f 6578 5f69 643d 2270 7869 6422 2c0a  s_ex_id="pxid",.
+0000c7f0: 2020 2020 2020 2020 2020 2020 7468 7265              thre
+0000c800: 6164 5f69 643d 2274 6869 6422 2c0a 2020  ad_id="thid",.  
+0000c810: 2020 2020 2020 2020 2020 636f 6e6e 6563            connec
+0000c820: 7469 6f6e 5f69 643d 2263 6f6e 6e5f 6964  tion_id="conn_id
+0000c830: 222c 0a20 2020 2020 2020 2020 2020 2069  ",.            i
+0000c840: 6e69 7469 6174 6f72 3d22 696e 6974 222c  nitiator="init",
+0000c850: 0a20 2020 2020 2020 2020 2020 2072 6f6c  .            rol
+0000c860: 653d 2272 6f6c 6522 2c0a 2020 2020 2020  e="role",.      
+0000c870: 2020 2020 2020 7374 6174 653d 2273 7461        state="sta
+0000c880: 7465 222c 0a20 2020 2020 2020 2020 2020  te",.           
+0000c890: 2070 7265 735f 7265 7175 6573 743d 6469   pres_request=di
+0000c8a0: 665f 7072 6573 5f72 6571 7565 7374 2c0a  f_pres_request,.
+0000c8b0: 2020 2020 2020 2020 2020 2020 7665 7269              veri
+0000c8c0: 6669 6564 3d22 6661 6c73 6522 2c0a 2020  fied="false",.  
+0000c8d0: 2020 2020 2020 2020 2020 6175 746f 5f70            auto_p
+0000c8e0: 7265 7365 6e74 3d54 7275 652c 0a20 2020  resent=True,.   
+0000c8f0: 2020 2020 2020 2020 2065 7272 6f72 5f6d           error_m
+0000c900: 7367 3d22 6572 726f 7222 2c0a 2020 2020  sg="error",.    
+0000c910: 2020 2020 290a 0a20 2020 2020 2020 2077      )..        w
+0000c920: 6974 6820 7365 6c66 2e61 7373 6572 7452  ith self.assertR
+0000c930: 6169 7365 7328 5632 3050 7265 7346 6f72  aises(V20PresFor
+0000c940: 6d61 7448 616e 646c 6572 4572 726f 7229  matHandlerError)
+0000c950: 3a0a 2020 2020 2020 2020 2020 2020 6177  :.            aw
+0000c960: 6169 7420 7365 6c66 2e68 616e 646c 6572  ait self.handler
+0000c970: 2e63 7265 6174 655f 7072 6573 2872 6563  .create_pres(rec
+0000c980: 6f72 6429 0a0a 2020 2020 6173 796e 6320  ord)..    async 
+0000c990: 6465 6620 7465 7374 5f63 7265 6174 655f  def test_create_
+0000c9a0: 7072 6573 5f63 7265 645f 636c 6169 6d5f  pres_cred_claim_
+0000c9b0: 666f 726d 6174 5f64 6f75 626c 655f 6c64  format_double_ld
+0000c9c0: 705f 7670 5f65 7272 6f72 2873 656c 6629  p_vp_error(self)
+0000c9d0: 3a0a 2020 2020 2020 2020 7465 7374 5f70  :.        test_p
+0000c9e0: 6420 3d20 6465 6570 636f 7079 2844 4946  d = deepcopy(DIF
+0000c9f0: 5f50 5245 535f 5245 5155 4553 545f 4229  _PRES_REQUEST_B)
+0000ca00: 0a20 2020 2020 2020 2074 6573 745f 7064  .        test_pd
+0000ca10: 5b22 7072 6573 656e 7461 7469 6f6e 5f64  ["presentation_d
+0000ca20: 6566 696e 6974 696f 6e22 5d5b 2266 6f72  efinition"]["for
+0000ca30: 6d61 7422 5d20 3d20 7b0a 2020 2020 2020  mat"] = {.      
+0000ca40: 2020 2020 2020 226c 6470 5f76 7022 3a20        "ldp_vp": 
+0000ca50: 7b22 7072 6f6f 665f 7479 7065 223a 205b  {"proof_type": [
+0000ca60: 2274 6573 7431 222c 2022 7465 7374 3222  "test1", "test2"
+0000ca70: 5d7d 0a20 2020 2020 2020 207d 0a20 2020  ]}.        }.   
+0000ca80: 2020 2020 2064 656c 2074 6573 745f 7064       del test_pd
+0000ca90: 5b22 7072 6573 656e 7461 7469 6f6e 5f64  ["presentation_d
+0000caa0: 6566 696e 6974 696f 6e22 5d5b 2269 6e70  efinition"]["inp
+0000cab0: 7574 5f64 6573 6372 6970 746f 7273 225d  ut_descriptors"]
+0000cac0: 5b30 5d5b 2263 6f6e 7374 7261 696e 7473  [0]["constraints
+0000cad0: 225d 5b0a 2020 2020 2020 2020 2020 2020  "][.            
+0000cae0: 226c 696d 6974 5f64 6973 636c 6f73 7572  "limit_disclosur
+0000caf0: 6522 0a20 2020 2020 2020 205d 0a20 2020  e".        ].   
+0000cb00: 2020 2020 2064 6966 5f70 7265 735f 7265       dif_pres_re
+0000cb10: 7175 6573 7420 3d20 5632 3050 7265 7352  quest = V20PresR
+0000cb20: 6571 7565 7374 280a 2020 2020 2020 2020  equest(.        
+0000cb30: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
+0000cb40: 2020 2020 2020 2020 2020 2020 2020 5632                V2
+0000cb50: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
+0000cb60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb70: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
+0000cb80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000cb90: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
+0000cba0: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
+0000cbb0: 5052 4553 5f32 305f 5245 5155 4553 545d  PRES_20_REQUEST]
+0000cbc0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+0000cbd0: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+0000cbe0: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
+0000cbf0: 4946 2e61 7069 0a20 2020 2020 2020 2020  IF.api.         
+0000cc00: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
+0000cc10: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+0000cc20: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+0000cc30: 2020 2020 2020 2020 2020 2072 6571 7565             reque
+0000cc40: 7374 5f70 7265 7365 6e74 6174 696f 6e73  st_presentations
+0000cc50: 5f61 7474 6163 683d 5b0a 2020 2020 2020  _attach=[.      
+0000cc60: 2020 2020 2020 2020 2020 4174 7461 6368            Attach
+0000cc70: 4465 636f 7261 746f 722e 6461 7461 5f6a  Decorator.data_j
+0000cc80: 736f 6e28 7465 7374 5f70 642c 2069 6465  son(test_pd, ide
+0000cc90: 6e74 3d22 6469 6622 290a 2020 2020 2020  nt="dif").      
+0000cca0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+0000ccb0: 2029 0a20 2020 2020 2020 2072 6563 6f72   ).        recor
+0000ccc0: 6420 3d20 5632 3050 7265 7345 7852 6563  d = V20PresExRec
+0000ccd0: 6f72 6428 0a20 2020 2020 2020 2020 2020  ord(.           
+0000cce0: 2070 7265 735f 6578 5f69 643d 2270 7869   pres_ex_id="pxi
+0000ccf0: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+0000cd00: 7468 7265 6164 5f69 643d 2274 6869 6422  thread_id="thid"
+0000cd10: 2c0a 2020 2020 2020 2020 2020 2020 636f  ,.            co
+0000cd20: 6e6e 6563 7469 6f6e 5f69 643d 2263 6f6e  nnection_id="con
+0000cd30: 6e5f 6964 222c 0a20 2020 2020 2020 2020  n_id",.         
+0000cd40: 2020 2069 6e69 7469 6174 6f72 3d22 696e     initiator="in
+0000cd50: 6974 222c 0a20 2020 2020 2020 2020 2020  it",.           
+0000cd60: 2072 6f6c 653d 2272 6f6c 6522 2c0a 2020   role="role",.  
+0000cd70: 2020 2020 2020 2020 2020 7374 6174 653d            state=
+0000cd80: 2273 7461 7465 222c 0a20 2020 2020 2020  "state",.       
+0000cd90: 2020 2020 2070 7265 735f 7265 7175 6573       pres_reques
+0000cda0: 743d 6469 665f 7072 6573 5f72 6571 7565  t=dif_pres_reque
+0000cdb0: 7374 2c0a 2020 2020 2020 2020 2020 2020  st,.            
+0000cdc0: 7665 7269 6669 6564 3d22 6661 6c73 6522  verified="false"
+0000cdd0: 2c0a 2020 2020 2020 2020 2020 2020 6175  ,.            au
+0000cde0: 746f 5f70 7265 7365 6e74 3d54 7275 652c  to_present=True,
+0000cdf0: 0a20 2020 2020 2020 2020 2020 2065 7272  .            err
+0000ce00: 6f72 5f6d 7367 3d22 6572 726f 7222 2c0a  or_msg="error",.
+0000ce10: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+0000ce20: 2020 2077 6974 6820 7365 6c66 2e61 7373     with self.ass
+0000ce30: 6572 7452 6169 7365 7328 5632 3050 7265  ertRaises(V20Pre
+0000ce40: 7346 6f72 6d61 7448 616e 646c 6572 4572  sFormatHandlerEr
+0000ce50: 726f 7229 3a0a 2020 2020 2020 2020 2020  ror):.          
+0000ce60: 2020 6177 6169 7420 7365 6c66 2e68 616e    await self.han
+0000ce70: 646c 6572 2e63 7265 6174 655f 7072 6573  dler.create_pres
+0000ce80: 2872 6563 6f72 6429 0a0a 2020 2020 6173  (record)..    as
+0000ce90: 796e 6320 6465 6620 7465 7374 5f63 7265  ync def test_cre
+0000cea0: 6174 655f 7072 6573 5f63 7265 645f 6e6f  ate_pres_cred_no
+0000ceb0: 5f74 6167 5f71 7565 7279 2873 656c 6629  _tag_query(self)
+0000cec0: 3a0a 2020 2020 2020 2020 7465 7374 5f70  :.        test_p
+0000ced0: 6420 3d20 6465 6570 636f 7079 2844 4946  d = deepcopy(DIF
+0000cee0: 5f50 5245 535f 5245 5155 4553 545f 4229  _PRES_REQUEST_B)
+0000cef0: 0a20 2020 2020 2020 2074 6573 745f 7064  .        test_pd
+0000cf00: 5b22 7072 6573 656e 7461 7469 6f6e 5f64  ["presentation_d
+0000cf10: 6566 696e 6974 696f 6e22 5d5b 2269 6e70  efinition"]["inp
+0000cf20: 7574 5f64 6573 6372 6970 746f 7273 225d  ut_descriptors"]
+0000cf30: 5b30 5d5b 2273 6368 656d 6122 5d5b 305d  [0]["schema"][0]
+0000cf40: 5b0a 2020 2020 2020 2020 2020 2020 2272  [.            "r
+0000cf50: 6571 7569 7265 6422 0a20 2020 2020 2020  equired".       
+0000cf60: 205d 203d 2046 616c 7365 0a20 2020 2020   ] = False.     
+0000cf70: 2020 2074 6573 745f 7064 5b22 7072 6573     test_pd["pres
+0000cf80: 656e 7461 7469 6f6e 5f64 6566 696e 6974  entation_definit
+0000cf90: 696f 6e22 5d5b 2269 6e70 7574 5f64 6573  ion"]["input_des
+0000cfa0: 6372 6970 746f 7273 225d 5b30 5d5b 2273  criptors"][0]["s
+0000cfb0: 6368 656d 6122 5d5b 315d 5b0a 2020 2020  chema"][1][.    
+0000cfc0: 2020 2020 2020 2020 2272 6571 7569 7265          "require
+0000cfd0: 6422 0a20 2020 2020 2020 205d 203d 2046  d".        ] = F
+0000cfe0: 616c 7365 0a20 2020 2020 2020 2064 6966  alse.        dif
+0000cff0: 5f70 7265 735f 7265 7175 6573 7420 3d20  _pres_request = 
+0000d000: 5632 3050 7265 7352 6571 7565 7374 280a  V20PresRequest(.
+0000d010: 2020 2020 2020 2020 2020 2020 666f 726d              form
+0000d020: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
+0000d030: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+0000d040: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+0000d050: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
+0000d060: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
+0000d070: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0000d080: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
+0000d090: 5f46 4f52 4d41 545b 5052 4553 5f32 305f  _FORMAT[PRES_20_
+0000d0a0: 5245 5155 4553 545d 5b0a 2020 2020 2020  REQUEST][.      
+0000d0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d0c0: 2020 5632 3050 7265 7346 6f72 6d61 742e    V20PresFormat.
+0000d0d0: 466f 726d 6174 2e44 4946 2e61 7069 0a20  Format.DIF.api. 
+0000d0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d0f0: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+0000d100: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0000d110: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+0000d120: 2020 2072 6571 7565 7374 5f70 7265 7365     request_prese
+0000d130: 6e74 6174 696f 6e73 5f61 7474 6163 683d  ntations_attach=
+0000d140: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+0000d150: 2020 4174 7461 6368 4465 636f 7261 746f    AttachDecorato
+0000d160: 722e 6461 7461 5f6a 736f 6e28 7465 7374  r.data_json(test
+0000d170: 5f70 642c 2069 6465 6e74 3d22 6469 6622  _pd, ident="dif"
+0000d180: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
+0000d190: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+0000d1a0: 2020 2072 6563 6f72 6420 3d20 5632 3050     record = V20P
+0000d1b0: 7265 7345 7852 6563 6f72 6428 0a20 2020  resExRecord(.   
+0000d1c0: 2020 2020 2020 2020 2070 7265 735f 6578           pres_ex
+0000d1d0: 5f69 643d 2270 7869 6422 2c0a 2020 2020  _id="pxid",.    
+0000d1e0: 2020 2020 2020 2020 7468 7265 6164 5f69          thread_i
+0000d1f0: 643d 2274 6869 6422 2c0a 2020 2020 2020  d="thid",.      
+0000d200: 2020 2020 2020 636f 6e6e 6563 7469 6f6e        connection
+0000d210: 5f69 643d 2263 6f6e 6e5f 6964 222c 0a20  _id="conn_id",. 
+0000d220: 2020 2020 2020 2020 2020 2069 6e69 7469             initi
+0000d230: 6174 6f72 3d22 696e 6974 222c 0a20 2020  ator="init",.   
+0000d240: 2020 2020 2020 2020 2072 6f6c 653d 2272           role="r
+0000d250: 6f6c 6522 2c0a 2020 2020 2020 2020 2020  ole",.          
+0000d260: 2020 7374 6174 653d 2273 7461 7465 222c    state="state",
+0000d270: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+0000d280: 735f 7265 7175 6573 743d 6469 665f 7072  s_request=dif_pr
+0000d290: 6573 5f72 6571 7565 7374 2c0a 2020 2020  es_request,.    
+0000d2a0: 2020 2020 2020 2020 7665 7269 6669 6564          verified
+0000d2b0: 3d22 6661 6c73 6522 2c0a 2020 2020 2020  ="false",.      
+0000d2c0: 2020 2020 2020 6175 746f 5f70 7265 7365        auto_prese
+0000d2d0: 6e74 3d54 7275 652c 0a20 2020 2020 2020  nt=True,.       
+0000d2e0: 2020 2020 2065 7272 6f72 5f6d 7367 3d22       error_msg="
+0000d2f0: 6572 726f 7222 2c0a 2020 2020 2020 2020  error",.        
+0000d300: 290a 0a20 2020 2020 2020 2077 6974 6820  )..        with 
+0000d310: 6173 796e 635f 6d6f 636b 2e70 6174 6368  async_mock.patch
+0000d320: 2e6f 626a 6563 7428 0a20 2020 2020 2020  .object(.       
+0000d330: 2020 2020 2044 4946 5072 6573 4578 6368       DIFPresExch
+0000d340: 4861 6e64 6c65 722c 0a20 2020 2020 2020  Handler,.       
+0000d350: 2020 2020 2022 6372 6561 7465 5f76 7022       "create_vp"
+0000d360: 2c0a 2020 2020 2020 2020 2020 2020 6173  ,.            as
+0000d370: 796e 635f 6d6f 636b 2e43 6f72 6f75 7469  ync_mock.Corouti
+0000d380: 6e65 4d6f 636b 2829 2c0a 2020 2020 2020  neMock(),.      
+0000d390: 2020 2920 6173 206d 6f63 6b5f 6372 6561    ) as mock_crea
+0000d3a0: 7465 5f76 703a 0a20 2020 2020 2020 2020  te_vp:.         
+0000d3b0: 2020 206d 6f63 6b5f 6372 6561 7465 5f76     mock_create_v
+0000d3c0: 702e 7265 7475 726e 5f76 616c 7565 203d  p.return_value =
+0000d3d0: 2044 4946 5f50 5245 530a 2020 2020 2020   DIF_PRES.      
+0000d3e0: 2020 2020 2020 6f75 7470 7574 203d 2061        output = a
+0000d3f0: 7761 6974 2073 656c 662e 6861 6e64 6c65  wait self.handle
+0000d400: 722e 6372 6561 7465 5f70 7265 7328 7265  r.create_pres(re
+0000d410: 636f 7264 2c20 7b7d 290a 2020 2020 2020  cord, {}).      
+0000d420: 2020 2020 2020 6173 7365 7274 2069 7369        assert isi
+0000d430: 6e73 7461 6e63 6528 6f75 7470 7574 5b30  nstance(output[0
+0000d440: 5d2c 2056 3230 5072 6573 466f 726d 6174  ], V20PresFormat
+0000d450: 2920 616e 6420 6973 696e 7374 616e 6365  ) and isinstance
+0000d460: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0000d470: 2020 6f75 7470 7574 5b31 5d2c 2041 7474    output[1], Att
+0000d480: 6163 6844 6563 6f72 6174 6f72 0a20 2020  achDecorator.   
+0000d490: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0000d4a0: 2020 2020 2020 2061 7373 6572 7420 6f75         assert ou
+0000d4b0: 7470 7574 5b31 5d2e 6461 7461 2e6a 736f  tput[1].data.jso
+0000d4c0: 6e5f 203d 3d20 4449 465f 5052 4553 0a0a  n_ == DIF_PRES..
+0000d4d0: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
+0000d4e0: 7374 5f63 7265 6174 655f 7072 6573 5f63  st_create_pres_c
+0000d4f0: 7265 645f 636c 6169 6d5f 666f 726d 6174  red_claim_format
+0000d500: 5f6e 6f5f 6c64 705f 7670 2873 656c 6629  _no_ldp_vp(self)
+0000d510: 3a0a 2020 2020 2020 2020 7465 7374 5f70  :.        test_p
+0000d520: 6420 3d20 6465 6570 636f 7079 2844 4946  d = deepcopy(DIF
+0000d530: 5f50 5245 535f 5245 5155 4553 545f 4229  _PRES_REQUEST_B)
+0000d540: 0a20 2020 2020 2020 2074 6573 745f 7064  .        test_pd
+0000d550: 5b22 7072 6573 656e 7461 7469 6f6e 5f64  ["presentation_d
+0000d560: 6566 696e 6974 696f 6e22 5d5b 2266 6f72  efinition"]["for
+0000d570: 6d61 7422 5d20 3d20 7b0a 2020 2020 2020  mat"] = {.      
+0000d580: 2020 2020 2020 226c 6470 5f76 6322 3a20        "ldp_vc": 
+0000d590: 7b22 7072 6f6f 665f 7479 7065 223a 205b  {"proof_type": [
+0000d5a0: 2274 6573 7422 5d7d 0a20 2020 2020 2020  "test"]}.       
+0000d5b0: 207d 0a20 2020 2020 2020 2064 656c 2074   }.        del t
+0000d5c0: 6573 745f 7064 5b22 7072 6573 656e 7461  est_pd["presenta
+0000d5d0: 7469 6f6e 5f64 6566 696e 6974 696f 6e22  tion_definition"
+0000d5e0: 5d5b 2269 6e70 7574 5f64 6573 6372 6970  ]["input_descrip
+0000d5f0: 746f 7273 225d 5b30 5d5b 2263 6f6e 7374  tors"][0]["const
+0000d600: 7261 696e 7473 225d 5b0a 2020 2020 2020  raints"][.      
+0000d610: 2020 2020 2020 226c 696d 6974 5f64 6973        "limit_dis
+0000d620: 636c 6f73 7572 6522 0a20 2020 2020 2020  closure".       
+0000d630: 205d 0a20 2020 2020 2020 2064 6966 5f70   ].        dif_p
+0000d640: 7265 735f 7265 7175 6573 7420 3d20 5632  res_request = V2
+0000d650: 3050 7265 7352 6571 7565 7374 280a 2020  0PresRequest(.  
+0000d660: 2020 2020 2020 2020 2020 666f 726d 6174            format
+0000d670: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+0000d680: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
+0000d690: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+0000d6a0: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
+0000d6b0: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
+0000d6c0: 2020 2020 2020 2020 2020 2020 666f 726d              form
+0000d6d0: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
+0000d6e0: 4f52 4d41 545b 5052 4553 5f32 305f 5245  ORMAT[PRES_20_RE
+0000d6f0: 5155 4553 545d 5b0a 2020 2020 2020 2020  QUEST][.        
+0000d700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d710: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
+0000d720: 726d 6174 2e44 4946 2e61 7069 0a20 2020  rmat.DIF.api.   
 0000d730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d740: 207d 2c0a 2020 2020 2020 2020 2020 2020   },.            
-0000d750: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
-0000d760: 2020 205d 2c0a 2020 2020 2020 2020 7d0a     ],.        }.
-0000d770: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-0000d780: 5f72 6571 7565 7374 203d 2056 3230 5072  _request = V20Pr
-0000d790: 6573 5265 7175 6573 7428 0a20 2020 2020  esRequest(.     
-0000d7a0: 2020 2020 2020 2066 6f72 6d61 7473 3d5b         formats=[
-0000d7b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d7c0: 2056 3230 5072 6573 466f 726d 6174 280a   V20PresFormat(.
-0000d7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d7e0: 2020 2020 6174 7461 6368 5f69 643d 2264      attach_id="d
-0000d7f0: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
-0000d800: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
-0000d810: 3d41 5454 4143 484d 454e 545f 464f 524d  =ATTACHMENT_FORM
-0000d820: 4154 5b50 5245 535f 3230 5f52 4551 5545  AT[PRES_20_REQUE
-0000d830: 5354 5d5b 0a20 2020 2020 2020 2020 2020  ST][.           
-0000d840: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-0000d850: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
-0000d860: 742e 4449 462e 6170 690a 2020 2020 2020  t.DIF.api.      
-0000d870: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-0000d880: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000d890: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
-0000d8a0: 2c0a 2020 2020 2020 2020 2020 2020 7265  ,.            re
-0000d8b0: 7175 6573 745f 7072 6573 656e 7461 7469  quest_presentati
-0000d8c0: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
-0000d8d0: 2020 2020 2020 2020 2020 2020 2041 7474               Att
-0000d8e0: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
-0000d8f0: 615f 6a73 6f6e 2864 6966 5f70 726f 6f66  a_json(dif_proof
-0000d900: 5f72 6571 2c20 6964 656e 743d 2264 6966  _req, ident="dif
-0000d910: 2229 0a20 2020 2020 2020 2020 2020 205d  ").            ]
-0000d920: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-0000d930: 2020 2020 7265 636f 7264 203d 2056 3230      record = V20
-0000d940: 5072 6573 4578 5265 636f 7264 280a 2020  PresExRecord(.  
-0000d950: 2020 2020 2020 2020 2020 7072 6573 5f65            pres_e
-0000d960: 785f 6964 3d22 7078 6964 222c 0a20 2020  x_id="pxid",.   
-0000d970: 2020 2020 2020 2020 2074 6872 6561 645f           thread_
-0000d980: 6964 3d22 7468 6964 222c 0a20 2020 2020  id="thid",.     
-0000d990: 2020 2020 2020 2063 6f6e 6e65 6374 696f         connectio
-0000d9a0: 6e5f 6964 3d22 636f 6e6e 5f69 6422 2c0a  n_id="conn_id",.
-0000d9b0: 2020 2020 2020 2020 2020 2020 696e 6974              init
-0000d9c0: 6961 746f 723d 2269 6e69 7422 2c0a 2020  iator="init",.  
-0000d9d0: 2020 2020 2020 2020 2020 726f 6c65 3d22            role="
-0000d9e0: 726f 6c65 222c 0a20 2020 2020 2020 2020  role",.         
-0000d9f0: 2020 2073 7461 7465 3d22 7374 6174 6522     state="state"
-0000da00: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
-0000da10: 6573 5f72 6571 7565 7374 3d64 6966 5f70  es_request=dif_p
-0000da20: 7265 735f 7265 7175 6573 742c 0a20 2020  res_request,.   
-0000da30: 2020 2020 2020 2020 2070 7265 733d 6469           pres=di
-0000da40: 665f 7072 6573 2c0a 2020 2020 2020 2020  f_pres,.        
-0000da50: 2020 2020 7665 7269 6669 6564 3d22 6661      verified="fa
-0000da60: 6c73 6522 2c0a 2020 2020 2020 2020 2020  lse",.          
-0000da70: 2020 6175 746f 5f70 7265 7365 6e74 3d54    auto_present=T
-0000da80: 7275 652c 0a20 2020 2020 2020 2020 2020  rue,.           
-0000da90: 2065 7272 6f72 5f6d 7367 3d22 6572 726f   error_msg="erro
-0000daa0: 7222 2c0a 2020 2020 2020 2020 290a 2020  r",.        ).  
-0000dab0: 2020 2020 2020 6177 6169 7420 7365 6c66        await self
-0000dac0: 2e68 616e 646c 6572 2e72 6563 6569 7665  .handler.receive
-0000dad0: 5f70 7265 7328 6d65 7373 6167 653d 6469  _pres(message=di
-0000dae0: 665f 7072 6573 2c20 7072 6573 5f65 785f  f_pres, pres_ex_
-0000daf0: 7265 636f 7264 3d72 6563 6f72 6429 0a0a  record=record)..
-0000db00: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
-0000db10: 7374 5f76 6572 6966 795f 7265 6365 6976  st_verify_receiv
-0000db20: 6564 5f6c 696d 6974 5f64 6973 636c 6f73  ed_limit_disclos
-0000db30: 7572 655f 6128 7365 6c66 293a 0a20 2020  ure_a(self):.   
-0000db40: 2020 2020 2064 6966 5f70 726f 6f66 203d       dif_proof =
-0000db50: 2064 6565 7063 6f70 7928 4449 465f 5052   deepcopy(DIF_PR
-0000db60: 4553 290a 2020 2020 2020 2020 6372 6564  ES).        cred
-0000db70: 5f64 6963 7420 3d20 6465 6570 636f 7079  _dict = deepcopy
-0000db80: 2854 4553 545f 4352 4544 5f44 4943 5429  (TEST_CRED_DICT)
-0000db90: 0a20 2020 2020 2020 2063 7265 645f 6469  .        cred_di
-0000dba0: 6374 5b22 6372 6564 656e 7469 616c 5375  ct["credentialSu
-0000dbb0: 626a 6563 7422 5d5b 2250 6174 6965 6e74  bject"]["Patient
-0000dbc0: 225d 203d 205b 0a20 2020 2020 2020 2020  "] = [.         
-0000dbd0: 2020 207b 0a20 2020 2020 2020 2020 2020     {.           
-0000dbe0: 2020 2020 2022 6164 6472 6573 7322 3a20       "address": 
-0000dbf0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-0000dc00: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
-0000dc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc20: 2240 6964 223a 2022 7572 6e3a 626e 6964  "@id": "urn:bnid
-0000dc30: 3a5f 3a63 3134 6e31 222c 0a20 2020 2020  :_:c14n1",.     
+0000d740: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+0000d750: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+0000d760: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+0000d770: 2072 6571 7565 7374 5f70 7265 7365 6e74   request_present
+0000d780: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
+0000d790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d7a0: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
+0000d7b0: 6461 7461 5f6a 736f 6e28 7465 7374 5f70  data_json(test_p
+0000d7c0: 642c 2069 6465 6e74 3d22 6469 6622 290a  d, ident="dif").
+0000d7d0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+0000d7e0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0000d7f0: 2072 6563 6f72 6420 3d20 5632 3050 7265   record = V20Pre
+0000d800: 7345 7852 6563 6f72 6428 0a20 2020 2020  sExRecord(.     
+0000d810: 2020 2020 2020 2070 7265 735f 6578 5f69         pres_ex_i
+0000d820: 643d 2270 7869 6422 2c0a 2020 2020 2020  d="pxid",.      
+0000d830: 2020 2020 2020 7468 7265 6164 5f69 643d        thread_id=
+0000d840: 2274 6869 6422 2c0a 2020 2020 2020 2020  "thid",.        
+0000d850: 2020 2020 636f 6e6e 6563 7469 6f6e 5f69      connection_i
+0000d860: 643d 2263 6f6e 6e5f 6964 222c 0a20 2020  d="conn_id",.   
+0000d870: 2020 2020 2020 2020 2069 6e69 7469 6174           initiat
+0000d880: 6f72 3d22 696e 6974 222c 0a20 2020 2020  or="init",.     
+0000d890: 2020 2020 2020 2072 6f6c 653d 2272 6f6c         role="rol
+0000d8a0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+0000d8b0: 7374 6174 653d 2273 7461 7465 222c 0a20  state="state",. 
+0000d8c0: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
+0000d8d0: 7265 7175 6573 743d 6469 665f 7072 6573  request=dif_pres
+0000d8e0: 5f72 6571 7565 7374 2c0a 2020 2020 2020  _request,.      
+0000d8f0: 2020 2020 2020 7665 7269 6669 6564 3d22        verified="
+0000d900: 6661 6c73 6522 2c0a 2020 2020 2020 2020  false",.        
+0000d910: 2020 2020 6175 746f 5f70 7265 7365 6e74      auto_present
+0000d920: 3d54 7275 652c 0a20 2020 2020 2020 2020  =True,.         
+0000d930: 2020 2065 7272 6f72 5f6d 7367 3d22 6572     error_msg="er
+0000d940: 726f 7222 2c0a 2020 2020 2020 2020 290a  ror",.        ).
+0000d950: 0a20 2020 2020 2020 2077 6974 6820 7365  .        with se
+0000d960: 6c66 2e61 7373 6572 7452 6169 7365 7328  lf.assertRaises(
+0000d970: 5632 3050 7265 7346 6f72 6d61 7448 616e  V20PresFormatHan
+0000d980: 646c 6572 4572 726f 7229 3a0a 2020 2020  dlerError):.    
+0000d990: 2020 2020 2020 2020 6177 6169 7420 7365          await se
+0000d9a0: 6c66 2e68 616e 646c 6572 2e63 7265 6174  lf.handler.creat
+0000d9b0: 655f 7072 6573 2872 6563 6f72 6429 0a0a  e_pres(record)..
+0000d9c0: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
+0000d9d0: 7374 5f70 726f 6365 7373 5f76 6372 6563  st_process_vcrec
+0000d9e0: 6f72 6473 5f72 6574 7572 6e5f 6c69 7374  ords_return_list
+0000d9f0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0000da00: 6372 6564 5f6c 6973 7420 3d20 5b0a 2020  cred_list = [.  
+0000da10: 2020 2020 2020 2020 2020 5643 5265 636f            VCReco
+0000da20: 7264 280a 2020 2020 2020 2020 2020 2020  rd(.            
+0000da30: 2020 2020 636f 6e74 6578 7473 3d5b 0a20      contexts=[. 
+0000da40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000da50: 2020 2022 6874 7470 733a 2f2f 7777 772e     "https://www.
+0000da60: 7733 2e6f 7267 2f32 3031 382f 6372 6564  w3.org/2018/cred
+0000da70: 656e 7469 616c 732f 7631 222c 0a20 2020  entials/v1",.   
+0000da80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000da90: 2022 6874 7470 733a 2f2f 7777 772e 7733   "https://www.w3
+0000daa0: 2e6f 7267 2f32 3031 382f 6372 6564 656e  .org/2018/creden
+0000dab0: 7469 616c 732f 6578 616d 706c 6573 2f76  tials/examples/v
+0000dac0: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
+0000dad0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+0000dae0: 2020 2020 2020 2065 7870 616e 6465 645f         expanded_
+0000daf0: 7479 7065 733d 5b0a 2020 2020 2020 2020  types=[.        
+0000db00: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
+0000db10: 7073 3a2f 2f77 7777 2e77 332e 6f72 672f  ps://www.w3.org/
+0000db20: 3230 3138 2f63 7265 6465 6e74 6961 6c73  2018/credentials
+0000db30: 2356 6572 6966 6961 626c 6543 7265 6465  #VerifiableCrede
+0000db40: 6e74 6961 6c22 2c0a 2020 2020 2020 2020  ntial",.        
+0000db50: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
+0000db60: 7073 3a2f 2f65 7861 6d70 6c65 2e6f 7267  ps://example.org
+0000db70: 2f65 7861 6d70 6c65 7323 556e 6976 6572  /examples#Univer
+0000db80: 7369 7479 4465 6772 6565 4372 6564 656e  sityDegreeCreden
+0000db90: 7469 616c 222c 0a20 2020 2020 2020 2020  tial",.         
+0000dba0: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+0000dbb0: 2020 2020 2020 2020 2020 6973 7375 6572            issuer
+0000dbc0: 5f69 643d 2268 7474 7073 3a2f 2f65 7861  _id="https://exa
+0000dbd0: 6d70 6c65 2e65 6475 2f69 7373 7565 7273  mple.edu/issuers
+0000dbe0: 2f35 3635 3034 3922 2c0a 2020 2020 2020  /565049",.      
+0000dbf0: 2020 2020 2020 2020 2020 7375 626a 6563            subjec
+0000dc00: 745f 6964 733d 5b0a 2020 2020 2020 2020  t_ids=[.        
+0000dc10: 2020 2020 2020 2020 2020 2020 2264 6964              "did
+0000dc20: 3a73 6f76 3a4c 6a67 7053 5432 726a 736f  :sov:LjgpST2rjso
+0000dc30: 7859 6567 5144 526d 3745 4c22 2c0a 2020  xYegQDRm7EL",.  
 0000dc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc50: 2020 2022 6369 7479 223a 2022 d0a0 d183     "city": "....
-0000dc60: d0bc d0b0 222c 0a20 2020 2020 2020 2020  ....",.         
-0000dc70: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
-0000dc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dc90: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
-0000dca0: 2020 2020 2020 2020 2020 2020 2240 6964              "@id
-0000dcb0: 223a 2022 7572 6e3a 626e 6964 3a5f 3a63  ": "urn:bnid:_:c
-0000dcc0: 3134 6e31 222c 0a20 2020 2020 2020 2020  14n1",.         
-0000dcd0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0000dce0: 6369 7479 223a 2022 d0a0 d183 d0bc d0b0  city": "........
-0000dcf0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000dd00: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
-0000dd10: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
-0000dd20: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
-0000dd30: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
-0000dd40: 2020 2020 2020 2020 2022 6164 6472 6573           "addres
-0000dd50: 7322 3a20 5b0a 2020 2020 2020 2020 2020  s": [.          
-0000dd60: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
-0000dd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dd80: 2020 2020 2240 6964 223a 2022 7572 6e3a      "@id": "urn:
-0000dd90: 626e 6964 3a5f 3a63 3134 6e31 222c 0a20  bnid:_:c14n1",. 
-0000dda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ddb0: 2020 2020 2020 2022 6369 7479 223a 2022         "city": "
-0000ddc0: d0a0 d183 d0bc d0b0 222c 0a20 2020 2020  ........",.     
-0000ddd0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
-0000dde0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000ddf0: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
-0000de00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de10: 2240 6964 223a 2022 7572 6e3a 626e 6964  "@id": "urn:bnid
-0000de20: 3a5f 3a63 3134 6e31 222c 0a20 2020 2020  :_:c14n1",.     
-0000de30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de40: 2020 2022 6369 7479 223a 2022 d0a0 d183     "city": "....
-0000de50: d0bc d0b0 222c 0a20 2020 2020 2020 2020  ....",.         
-0000de60: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
-0000de70: 2020 2020 2020 2020 2020 2020 2020 5d0a                ].
-0000de80: 2020 2020 2020 2020 2020 2020 7d2c 0a20              },. 
-0000de90: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-0000dea0: 2064 6966 5f70 726f 6f66 5b22 7665 7269   dif_proof["veri
-0000deb0: 6669 6162 6c65 4372 6564 656e 7469 616c  fiableCredential
-0000dec0: 225d 203d 205b 5d0a 2020 2020 2020 2020  "] = [].        
-0000ded0: 6469 665f 7072 6f6f 665b 2276 6572 6966  dif_proof["verif
-0000dee0: 6961 626c 6543 7265 6465 6e74 6961 6c22  iableCredential"
-0000def0: 5d2e 6170 7065 6e64 2863 7265 645f 6469  ].append(cred_di
-0000df00: 6374 290a 2020 2020 2020 2020 6469 665f  ct).        dif_
-0000df10: 7072 6f6f 665b 2276 6572 6966 6961 626c  proof["verifiabl
-0000df20: 6543 7265 6465 6e74 6961 6c22 5d2e 6170  eCredential"].ap
-0000df30: 7065 6e64 2863 7265 645f 6469 6374 290a  pend(cred_dict).
-0000df40: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-0000df50: 203d 2056 3230 5072 6573 280a 2020 2020   = V20Pres(.    
-0000df60: 2020 2020 2020 2020 666f 726d 6174 733d          formats=
-0000df70: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-0000df80: 2020 5632 3050 7265 7346 6f72 6d61 7428    V20PresFormat(
-0000df90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000dfa0: 2020 2020 2061 7474 6163 685f 6964 3d22       attach_id="
-0000dfb0: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
-0000dfc0: 2020 2020 2020 2020 2020 666f 726d 6174            format
-0000dfd0: 5f3d 4154 5441 4348 4d45 4e54 5f46 4f52  _=ATTACHMENT_FOR
-0000dfe0: 4d41 545b 5052 4553 5f32 305d 5b56 3230  MAT[PRES_20][V20
-0000dff0: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
-0000e000: 742e 4449 462e 6170 695d 2c0a 2020 2020  t.DIF.api],.    
-0000e010: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-0000e020: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-0000e030: 2020 2020 2020 2020 2070 7265 7365 6e74           present
-0000e040: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
-0000e050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e060: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
-0000e070: 6461 7461 5f6a 736f 6e28 0a20 2020 2020  data_json(.     
-0000e080: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0000e090: 6170 7069 6e67 3d64 6966 5f70 726f 6f66  apping=dif_proof
-0000e0a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000e0b0: 2020 2020 2020 6964 656e 743d 2264 6966        ident="dif
-0000e0c0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000e0d0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-0000e0e0: 205d 2c0a 2020 2020 2020 2020 290a 2020   ],.        ).  
-0000e0f0: 2020 2020 2020 7072 6573 5f72 6571 7565        pres_reque
-0000e100: 7374 203d 2064 6565 7063 6f70 7928 4449  st = deepcopy(DI
-0000e110: 465f 5052 4553 5f52 4551 5545 5354 5f42  F_PRES_REQUEST_B
-0000e120: 290a 2020 2020 2020 2020 7072 6573 5f72  ).        pres_r
-0000e130: 6571 7565 7374 5b22 7072 6573 656e 7461  equest["presenta
-0000e140: 7469 6f6e 5f64 6566 696e 6974 696f 6e22  tion_definition"
-0000e150: 5d5b 2269 6e70 7574 5f64 6573 6372 6970  ]["input_descrip
-0000e160: 746f 7273 225d 5b30 5d5b 0a20 2020 2020  tors"][0][.     
-0000e170: 2020 2020 2020 2022 636f 6e73 7472 6169         "constrai
-0000e180: 6e74 7322 0a20 2020 2020 2020 205d 203d  nts".        ] =
-0000e190: 207b 0a20 2020 2020 2020 2020 2020 2022   {.            "
-0000e1a0: 6c69 6d69 745f 6469 7363 6c6f 7375 7265  limit_disclosure
-0000e1b0: 223a 2022 7265 7175 6972 6564 222c 0a20  ": "required",. 
-0000e1c0: 2020 2020 2020 2020 2020 2022 6669 656c             "fiel
-0000e1d0: 6473 223a 205b 0a20 2020 2020 2020 2020  ds": [.         
-0000e1e0: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
-0000e1f0: 2020 2020 2020 2020 2020 2020 2022 7061               "pa
-0000e200: 7468 223a 205b 2224 2e63 7265 6465 6e74  th": ["$.credent
-0000e210: 6961 6c53 7562 6a65 6374 2e50 6174 6965  ialSubject.Patie
-0000e220: 6e74 5b30 5d2e 6164 6472 6573 735b 2a5d  nt[0].address[*]
-0000e230: 2e63 6974 7922 5d2c 0a20 2020 2020 2020  .city"],.       
-0000e240: 2020 2020 2020 2020 2020 2020 2022 7075               "pu
-0000e250: 7270 6f73 6522 3a20 2254 6573 7422 2c0a  rpose": "Test",.
-0000e260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e270: 7d0a 2020 2020 2020 2020 2020 2020 5d2c  }.            ],
-0000e280: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
-0000e290: 2020 2070 7265 735f 7265 7175 6573 745b     pres_request[
-0000e2a0: 2270 7265 7365 6e74 6174 696f 6e5f 6465  "presentation_de
-0000e2b0: 6669 6e69 7469 6f6e 225d 5b22 696e 7075  finition"]["inpu
-0000e2c0: 745f 6465 7363 7269 7074 6f72 7322 5d5b  t_descriptors"][
-0000e2d0: 305d 5b22 7363 6865 6d61 225d 203d 207b  0]["schema"] = {
-0000e2e0: 0a20 2020 2020 2020 2020 2020 2022 6f6e  .            "on
-0000e2f0: 656f 665f 6669 6c74 6572 223a 205b 0a20  eof_filter": [. 
-0000e300: 2020 2020 2020 2020 2020 2020 2020 205b                 [
-0000e310: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e320: 2020 2020 207b 2275 7269 223a 2022 6874       {"uri": "ht
-0000e330: 7470 733a 2f2f 7777 772e 7733 2e6f 7267  tps://www.w3.org
-0000e340: 2f32 3031 382f 6372 6564 656e 7469 616c  /2018/credential
-0000e350: 7323 5665 7269 6669 6162 6c65 4372 6564  s#VerifiableCred
-0000e360: 656e 7469 616c 227d 2c0a 2020 2020 2020  ential"},.      
-0000e370: 2020 2020 2020 2020 2020 2020 2020 7b22                {"
-0000e380: 7572 6922 3a20 2268 7474 7073 3a2f 2f77  uri": "https://w
-0000e390: 7777 2e76 6465 6c2e 636f 6d2f 4d65 6469  ww.vdel.com/Medi
-0000e3a0: 6361 6c50 6173 7322 7d2c 0a20 2020 2020  calPass"},.     
-0000e3b0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
-0000e3c0: 2275 7269 223a 2022 6874 7470 3a2f 2f68  "uri": "http://h
-0000e3d0: 6c37 2e6f 7267 2f66 6869 722f 5061 7469  l7.org/fhir/Pati
-0000e3e0: 656e 7422 7d2c 0a20 2020 2020 2020 2020  ent"},.         
-0000e3f0: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-0000e400: 2020 2020 2020 2020 2020 5b0a 2020 2020            [.    
-0000e410: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e420: 7b22 7572 6922 3a20 2268 7474 7073 3a2f  {"uri": "https:/
-0000e430: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
-0000e440: 2f63 7265 6465 6e74 6961 6c73 2356 6572  /credentials#Ver
-0000e450: 6966 6961 626c 6543 7265 6465 6e74 6961  ifiableCredentia
-0000e460: 6c22 7d2c 0a20 2020 2020 2020 2020 2020  l"},.           
-0000e470: 2020 2020 2020 2020 207b 2275 7269 223a           {"uri":
-0000e480: 2022 6874 7470 733a 2f2f 7733 6964 2e6f   "https://w3id.o
-0000e490: 7267 2f63 6974 697a 656e 7368 6970 2350  rg/citizenship#P
-0000e4a0: 6572 6d61 6e65 6e74 5265 7369 6465 6e74  ermanentResident
-0000e4b0: 4361 7264 227d 2c0a 2020 2020 2020 2020  Card"},.        
-0000e4c0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
-0000e4d0: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-0000e4e0: 207d 0a20 2020 2020 2020 2064 6966 5f70   }.        dif_p
-0000e4f0: 7265 735f 7265 7175 6573 7420 3d20 5632  res_request = V2
-0000e500: 3050 7265 7352 6571 7565 7374 280a 2020  0PresRequest(.  
-0000e510: 2020 2020 2020 2020 2020 666f 726d 6174            format
-0000e520: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-0000e530: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
-0000e540: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
-0000e550: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
-0000e560: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
-0000e570: 2020 2020 2020 2020 2020 2020 666f 726d              form
-0000e580: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
-0000e590: 4f52 4d41 545b 5052 4553 5f32 305f 5245  ORMAT[PRES_20_RE
-0000e5a0: 5155 4553 545d 5b0a 2020 2020 2020 2020  QUEST][.        
-0000e5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e5c0: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
-0000e5d0: 726d 6174 2e44 4946 2e61 7069 0a20 2020  rmat.DIF.api.   
+0000dc50: 2020 2264 6964 3a6b 6579 3a7a 364d 6b67    "did:key:z6Mkg
+0000dc60: 6733 3432 5963 7075 6b32 3633 5239 6438  g342Ycpuk263R9d8
+0000dc70: 4171 364d 5561 7850 6e31 4444 6548 7947  Aq6MUaxPn1DDeHyG
+0000dc80: 6f33 3845 6566 586d 6744 4c22 2c0a 2020  o38EefXmgDL",.  
+0000dc90: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
+0000dca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dcb0: 2070 726f 6f66 5f74 7970 6573 3d5b 2242   proof_types=["B
+0000dcc0: 6273 426c 7353 6967 6e61 7475 7265 3230  bsBlsSignature20
+0000dcd0: 3230 225d 2c0a 2020 2020 2020 2020 2020  20"],.          
+0000dce0: 2020 2020 2020 7363 6865 6d61 5f69 6473        schema_ids
+0000dcf0: 3d5b 2268 7474 7073 3a2f 2f65 7861 6d70  =["https://examp
+0000dd00: 6c65 2e6f 7267 2f65 7861 6d70 6c65 732f  le.org/examples/
+0000dd10: 6465 6772 6565 2e6a 736f 6e22 5d2c 0a20  degree.json"],. 
+0000dd20: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0000dd30: 7265 645f 7661 6c75 653d 7b22 2e2e 2e22  red_value={"..."
+0000dd40: 3a20 222e 2e2e 227d 2c0a 2020 2020 2020  : "..."},.      
+0000dd50: 2020 2020 2020 2020 2020 6769 7665 6e5f            given_
+0000dd60: 6964 3d22 6874 7470 3a2f 2f65 7861 6d70  id="http://examp
+0000dd70: 6c65 2e65 6475 2f63 7265 6465 6e74 6961  le.edu/credentia
+0000dd80: 6c73 2f33 3733 3222 2c0a 2020 2020 2020  ls/3732",.      
+0000dd90: 2020 2020 2020 2020 2020 6372 6564 5f74            cred_t
+0000dda0: 6167 733d 7b22 736f 6d65 223a 2022 7461  ags={"some": "ta
+0000ddb0: 6722 7d2c 0a20 2020 2020 2020 2020 2020  g"},.           
+0000ddc0: 2020 2020 2072 6563 6f72 645f 6964 3d22       record_id="
+0000ddd0: 7465 7374 3122 2c0a 2020 2020 2020 2020  test1",.        
+0000dde0: 2020 2020 292c 0a20 2020 2020 2020 2020      ),.         
+0000ddf0: 2020 2056 4352 6563 6f72 6428 0a20 2020     VCRecord(.   
+0000de00: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+0000de10: 7465 7874 733d 5b0a 2020 2020 2020 2020  texts=[.        
+0000de20: 2020 2020 2020 2020 2020 2020 2268 7474              "htt
+0000de30: 7073 3a2f 2f77 7777 2e77 332e 6f72 672f  ps://www.w3.org/
+0000de40: 3230 3138 2f63 7265 6465 6e74 6961 6c73  2018/credentials
+0000de50: 2f76 3122 2c0a 2020 2020 2020 2020 2020  /v1",.          
+0000de60: 2020 2020 2020 2020 2020 2268 7474 7073            "https
+0000de70: 3a2f 2f77 7777 2e77 332e 6f72 672f 3230  ://www.w3.org/20
+0000de80: 3138 2f63 7265 6465 6e74 6961 6c73 2f65  18/credentials/e
+0000de90: 7861 6d70 6c65 732f 7631 222c 0a20 2020  xamples/v1",.   
+0000dea0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
+0000deb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000dec0: 6578 7061 6e64 6564 5f74 7970 6573 3d5b  expanded_types=[
+0000ded0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dee0: 2020 2020 2022 6874 7470 733a 2f2f 7777       "https://ww
+0000def0: 772e 7733 2e6f 7267 2f32 3031 382f 6372  w.w3.org/2018/cr
+0000df00: 6564 656e 7469 616c 7323 5665 7269 6669  edentials#Verifi
+0000df10: 6162 6c65 4372 6564 656e 7469 616c 222c  ableCredential",
+0000df20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000df30: 2020 2020 2022 6874 7470 733a 2f2f 6578       "https://ex
+0000df40: 616d 706c 652e 6f72 672f 6578 616d 706c  ample.org/exampl
+0000df50: 6573 2355 6e69 7665 7273 6974 7944 6567  es#UniversityDeg
+0000df60: 7265 6543 7265 6465 6e74 6961 6c22 2c0a  reeCredential",.
+0000df70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000df80: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+0000df90: 2020 2069 7373 7565 725f 6964 3d22 6874     issuer_id="ht
+0000dfa0: 7470 733a 2f2f 6578 616d 706c 652e 6564  tps://example.ed
+0000dfb0: 752f 6973 7375 6572 732f 3536 3530 3439  u/issuers/565049
+0000dfc0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0000dfd0: 2020 2073 7562 6a65 6374 5f69 6473 3d5b     subject_ids=[
+0000dfe0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dff0: 2020 2020 2022 6469 643a 736f 763a 4c6a       "did:sov:Lj
+0000e000: 6770 5354 3272 6a73 6f78 5965 6751 4452  gpST2rjsoxYegQDR
+0000e010: 6d37 454c 222c 0a20 2020 2020 2020 2020  m7EL",.         
+0000e020: 2020 2020 2020 2020 2020 2022 6469 643a             "did:
+0000e030: 6b65 793a 7a36 4d6b 6767 3334 3259 6370  key:z6Mkgg342Ycp
+0000e040: 756b 3236 3352 3964 3841 7136 4d55 6178  uk263R9d8Aq6MUax
+0000e050: 506e 3144 4465 4879 476f 3338 4565 6658  Pn1DDeHyGo38EefX
+0000e060: 6d67 444c 222c 0a20 2020 2020 2020 2020  mgDL",.         
+0000e070: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+0000e080: 2020 2020 2020 2020 2020 7072 6f6f 665f            proof_
+0000e090: 7479 7065 733d 5b22 4262 7342 6c73 5369  types=["BbsBlsSi
+0000e0a0: 676e 6174 7572 6532 3032 3022 5d2c 0a20  gnature2020"],. 
+0000e0b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0000e0c0: 6368 656d 615f 6964 733d 5b22 6874 7470  chema_ids=["http
+0000e0d0: 733a 2f2f 6578 616d 706c 652e 6f72 672f  s://example.org/
+0000e0e0: 6578 616d 706c 6573 2f64 6567 7265 652e  examples/degree.
+0000e0f0: 6a73 6f6e 225d 2c0a 2020 2020 2020 2020  json"],.        
+0000e100: 2020 2020 2020 2020 6372 6564 5f76 616c          cred_val
+0000e110: 7565 3d7b 222e 2e2e 223a 2022 2e2e 2e22  ue={"...": "..."
+0000e120: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
+0000e130: 2020 2067 6976 656e 5f69 643d 2268 7474     given_id="htt
+0000e140: 703a 2f2f 6578 616d 706c 652e 6564 752f  p://example.edu/
+0000e150: 6372 6564 656e 7469 616c 732f 3337 3332  credentials/3732
+0000e160: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0000e170: 2020 2063 7265 645f 7461 6773 3d7b 2273     cred_tags={"s
+0000e180: 6f6d 6522 3a20 2274 6167 227d 2c0a 2020  ome": "tag"},.  
+0000e190: 2020 2020 2020 2020 2020 2020 2020 7265                re
+0000e1a0: 636f 7264 5f69 643d 2274 6573 7432 222c  cord_id="test2",
+0000e1b0: 0a20 2020 2020 2020 2020 2020 2029 2c0a  .            ),.
+0000e1c0: 2020 2020 2020 2020 5d0a 2020 2020 2020          ].      
+0000e1d0: 2020 7265 636f 7264 5f69 6473 203d 207b    record_ids = {
+0000e1e0: 2274 6573 7431 227d 0a20 2020 2020 2020  "test1"}.       
+0000e1f0: 2028 0a20 2020 2020 2020 2020 2020 2072   (.            r
+0000e200: 6574 7572 6e65 645f 6372 6564 5f6c 6973  eturned_cred_lis
+0000e210: 742c 0a20 2020 2020 2020 2020 2020 2072  t,.            r
+0000e220: 6574 7572 6e65 645f 7265 636f 7264 5f69  eturned_record_i
+0000e230: 6473 2c0a 2020 2020 2020 2020 2920 3d20  ds,.        ) = 
+0000e240: 6177 6169 7420 7365 6c66 2e68 616e 646c  await self.handl
+0000e250: 6572 2e70 726f 6365 7373 5f76 6372 6563  er.process_vcrec
+0000e260: 6f72 6473 5f72 6574 7572 6e5f 6c69 7374  ords_return_list
+0000e270: 2863 7265 645f 6c69 7374 2c20 7265 636f  (cred_list, reco
+0000e280: 7264 5f69 6473 290a 2020 2020 2020 2020  rd_ids).        
+0000e290: 6173 7365 7274 206c 656e 2872 6574 7572  assert len(retur
+0000e2a0: 6e65 645f 6372 6564 5f6c 6973 7429 203d  ned_cred_list) =
+0000e2b0: 3d20 310a 2020 2020 2020 2020 6173 7365  = 1.        asse
+0000e2c0: 7274 206c 656e 2872 6574 7572 6e65 645f  rt len(returned_
+0000e2d0: 7265 636f 7264 5f69 6473 2920 3d3d 2032  record_ids) == 2
+0000e2e0: 0a20 2020 2020 2020 2061 7373 6572 7420  .        assert 
+0000e2f0: 7265 7475 726e 6564 5f63 7265 645f 6c69  returned_cred_li
+0000e300: 7374 5b30 5d2e 7265 636f 7264 5f69 6420  st[0].record_id 
+0000e310: 3d3d 2022 7465 7374 3222 0a0a 2020 2020  == "test2"..    
+0000e320: 6173 796e 6320 6465 6620 7465 7374 5f72  async def test_r
+0000e330: 6574 7269 6576 655f 7572 695f 6c69 7374  etrieve_uri_list
+0000e340: 5f66 726f 6d5f 7363 6865 6d61 5f66 696c  _from_schema_fil
+0000e350: 7465 7228 7365 6c66 293a 0a20 2020 2020  ter(self):.     
+0000e360: 2020 2074 6573 745f 7363 6865 6d61 5f66     test_schema_f
+0000e370: 696c 7465 7220 3d20 5b0a 2020 2020 2020  ilter = [.      
+0000e380: 2020 2020 2020 5b0a 2020 2020 2020 2020        [.        
+0000e390: 2020 2020 2020 2020 5363 6865 6d61 496e          SchemaIn
+0000e3a0: 7075 7444 6573 6372 6970 746f 7228 7572  putDescriptor(ur
+0000e3b0: 693d 2274 6573 7431 3233 2229 2c0a 2020  i="test123"),.  
+0000e3c0: 2020 2020 2020 2020 2020 2020 2020 5363                Sc
+0000e3d0: 6865 6d61 496e 7075 7444 6573 6372 6970  hemaInputDescrip
+0000e3e0: 746f 7228 7572 693d 2274 6573 7433 3231  tor(uri="test321
+0000e3f0: 222c 2072 6571 7569 7265 643d 5472 7565  ", required=True
+0000e400: 292c 0a20 2020 2020 2020 2020 2020 205d  ),.            ]
+0000e410: 0a20 2020 2020 2020 205d 0a20 2020 2020  .        ].     
+0000e420: 2020 2074 6573 745f 6f6e 655f 6f66 5f75     test_one_of_u
+0000e430: 7269 5f67 726f 7570 7320 3d20 280a 2020  ri_groups = (.  
+0000e440: 2020 2020 2020 2020 2020 6177 6169 7420            await 
+0000e450: 7365 6c66 2e68 616e 646c 6572 2e72 6574  self.handler.ret
+0000e460: 7269 6576 655f 7572 695f 6c69 7374 5f66  rieve_uri_list_f
+0000e470: 726f 6d5f 7363 6865 6d61 5f66 696c 7465  rom_schema_filte
+0000e480: 7228 7465 7374 5f73 6368 656d 615f 6669  r(test_schema_fi
+0000e490: 6c74 6572 290a 2020 2020 2020 2020 290a  lter).        ).
+0000e4a0: 2020 2020 2020 2020 6173 7365 7274 2074          assert t
+0000e4b0: 6573 745f 6f6e 655f 6f66 5f75 7269 5f67  est_one_of_uri_g
+0000e4c0: 726f 7570 7320 3d3d 205b 5b22 7465 7374  roups == [["test
+0000e4d0: 3132 3322 2c20 2274 6573 7433 3231 225d  123", "test321"]
+0000e4e0: 5d0a 0a20 2020 2061 7379 6e63 2064 6566  ]..    async def
+0000e4f0: 2074 6573 745f 7665 7269 6679 5f72 6563   test_verify_rec
+0000e500: 6569 7665 645f 7072 6573 5f61 2873 656c  eived_pres_a(sel
+0000e510: 6629 3a0a 2020 2020 2020 2020 6469 665f  f):.        dif_
+0000e520: 7072 6573 203d 2056 3230 5072 6573 280a  pres = V20Pres(.
+0000e530: 2020 2020 2020 2020 2020 2020 666f 726d              form
+0000e540: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
+0000e550: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+0000e560: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+0000e570: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
+0000e580: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
+0000e590: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+0000e5a0: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
+0000e5b0: 5f46 4f52 4d41 545b 5052 4553 5f32 305d  _FORMAT[PRES_20]
+0000e5c0: 5b56 3230 5072 6573 466f 726d 6174 2e46  [V20PresFormat.F
+0000e5d0: 6f72 6d61 742e 4449 462e 6170 695d 2c0a  ormat.DIF.api],.
 0000e5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e5f0: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
-0000e600: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-0000e610: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
-0000e620: 2072 6571 7565 7374 5f70 7265 7365 6e74   request_present
-0000e630: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
-0000e640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e650: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
-0000e660: 6461 7461 5f6a 736f 6e28 7072 6573 5f72  data_json(pres_r
-0000e670: 6571 7565 7374 2c20 6964 656e 743d 2264  equest, ident="d
-0000e680: 6966 2229 0a20 2020 2020 2020 2020 2020  if").           
-0000e690: 205d 2c0a 2020 2020 2020 2020 290a 2020   ],.        ).  
-0000e6a0: 2020 2020 2020 7265 636f 7264 203d 2056        record = V
-0000e6b0: 3230 5072 6573 4578 5265 636f 7264 280a  20PresExRecord(.
-0000e6c0: 2020 2020 2020 2020 2020 2020 7072 6573              pres
-0000e6d0: 5f65 785f 6964 3d22 7078 6964 222c 0a20  _ex_id="pxid",. 
-0000e6e0: 2020 2020 2020 2020 2020 2074 6872 6561             threa
-0000e6f0: 645f 6964 3d22 7468 6964 222c 0a20 2020  d_id="thid",.   
-0000e700: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
-0000e710: 696f 6e5f 6964 3d22 636f 6e6e 5f69 6422  ion_id="conn_id"
-0000e720: 2c0a 2020 2020 2020 2020 2020 2020 696e  ,.            in
-0000e730: 6974 6961 746f 723d 2269 6e69 7422 2c0a  itiator="init",.
-0000e740: 2020 2020 2020 2020 2020 2020 726f 6c65              role
-0000e750: 3d22 726f 6c65 222c 0a20 2020 2020 2020  ="role",.       
-0000e760: 2020 2020 2073 7461 7465 3d22 7374 6174       state="stat
-0000e770: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-0000e780: 7072 6573 5f72 6571 7565 7374 3d64 6966  pres_request=dif
-0000e790: 5f70 7265 735f 7265 7175 6573 742c 0a20  _pres_request,. 
-0000e7a0: 2020 2020 2020 2020 2020 2070 7265 733d             pres=
-0000e7b0: 6469 665f 7072 6573 2c0a 2020 2020 2020  dif_pres,.      
-0000e7c0: 2020 2020 2020 7665 7269 6669 6564 3d22        verified="
-0000e7d0: 6661 6c73 6522 2c0a 2020 2020 2020 2020  false",.        
-0000e7e0: 2020 2020 6175 746f 5f70 7265 7365 6e74      auto_present
-0000e7f0: 3d54 7275 652c 0a20 2020 2020 2020 2020  =True,.         
-0000e800: 2020 2065 7272 6f72 5f6d 7367 3d22 6572     error_msg="er
-0000e810: 726f 7222 2c0a 2020 2020 2020 2020 290a  ror",.        ).
-0000e820: 2020 2020 2020 2020 7769 7468 2061 7379          with asy
-0000e830: 6e63 5f6d 6f63 6b2e 7061 7463 682e 6f62  nc_mock.patch.ob
-0000e840: 6a65 6374 280a 2020 2020 2020 2020 2020  ject(.          
-0000e850: 2020 6a73 6f6e 6c64 2c20 2265 7870 616e    jsonld, "expan
-0000e860: 6422 2c20 6173 796e 635f 6d6f 636b 2e4d  d", async_mock.M
-0000e870: 6167 6963 4d6f 636b 2829 0a20 2020 2020  agicMock().     
-0000e880: 2020 2029 2061 7320 6d6f 636b 5f6a 736f     ) as mock_jso
-0000e890: 6e6c 645f 6578 7061 6e64 3a0a 2020 2020  nld_expand:.    
-0000e8a0: 2020 2020 2020 2020 6d6f 636b 5f6a 736f          mock_jso
-0000e8b0: 6e6c 645f 6578 7061 6e64 2e72 6574 7572  nld_expand.retur
-0000e8c0: 6e5f 7661 6c75 6520 3d20 4558 5041 4e44  n_value = EXPAND
-0000e8d0: 4544 5f43 5245 445f 4648 4952 5f54 5950  ED_CRED_FHIR_TYP
-0000e8e0: 455f 320a 2020 2020 2020 2020 2020 2020  E_2.            
-0000e8f0: 6177 6169 7420 7365 6c66 2e68 616e 646c  await self.handl
-0000e900: 6572 2e72 6563 6569 7665 5f70 7265 7328  er.receive_pres(
-0000e910: 6d65 7373 6167 653d 6469 665f 7072 6573  message=dif_pres
-0000e920: 2c20 7072 6573 5f65 785f 7265 636f 7264  , pres_ex_record
-0000e930: 3d72 6563 6f72 6429 0a0a 2020 2020 6173  =record)..    as
-0000e940: 796e 6320 6465 6620 7465 7374 5f76 6572  ync def test_ver
-0000e950: 6966 795f 7265 6365 6976 6564 5f6c 696d  ify_received_lim
-0000e960: 6974 5f64 6973 636c 6f73 7572 655f 6228  it_disclosure_b(
-0000e970: 7365 6c66 293a 0a20 2020 2020 2020 2064  self):.        d
-0000e980: 6966 5f70 726f 6f66 203d 2064 6565 7063  if_proof = deepc
-0000e990: 6f70 7928 4449 465f 5052 4553 290a 2020  opy(DIF_PRES).  
-0000e9a0: 2020 2020 2020 6372 6564 5f64 6963 7420        cred_dict 
-0000e9b0: 3d20 6465 6570 636f 7079 2854 4553 545f  = deepcopy(TEST_
-0000e9c0: 4352 4544 5f44 4943 5429 0a20 2020 2020  CRED_DICT).     
-0000e9d0: 2020 2063 7265 645f 6469 6374 5b22 6372     cred_dict["cr
-0000e9e0: 6564 656e 7469 616c 5375 626a 6563 7422  edentialSubject"
-0000e9f0: 5d5b 2250 6174 6965 6e74 225d 5b22 6164  ]["Patient"]["ad
-0000ea00: 6472 6573 7322 5d20 3d20 5b0a 2020 2020  dress"] = [.    
-0000ea10: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
-0000ea20: 2020 2020 2020 2020 2020 2240 6964 223a            "@id":
-0000ea30: 2022 7572 6e3a 626e 6964 3a5f 3a63 3134   "urn:bnid:_:c14
-0000ea40: 6e31 222c 0a20 2020 2020 2020 2020 2020  n1",.           
-0000ea50: 2020 2020 2022 6369 7479 223a 2022 d0a0       "city": "..
-0000ea60: d183 d0bc d0b0 222c 0a20 2020 2020 2020  ......",.       
-0000ea70: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-0000ea80: 2020 2020 7b0a 2020 2020 2020 2020 2020      {.          
-0000ea90: 2020 2020 2020 2240 6964 223a 2022 7572        "@id": "ur
-0000eaa0: 6e3a 626e 6964 3a5f 3a63 3134 6e31 222c  n:bnid:_:c14n1",
-0000eab0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000eac0: 2022 6369 7479 223a 2022 d0a0 d183 d0bc   "city": "......
-0000ead0: d0b0 222c 0a20 2020 2020 2020 2020 2020  ..",.           
-0000eae0: 207d 2c0a 2020 2020 2020 2020 5d0a 2020   },.        ].  
-0000eaf0: 2020 2020 2020 6469 665f 7072 6f6f 665b        dif_proof[
-0000eb00: 2276 6572 6966 6961 626c 6543 7265 6465  "verifiableCrede
-0000eb10: 6e74 6961 6c22 5d20 3d20 5b5d 0a20 2020  ntial"] = [].   
-0000eb20: 2020 2020 2064 6966 5f70 726f 6f66 5b22       dif_proof["
-0000eb30: 7665 7269 6669 6162 6c65 4372 6564 656e  verifiableCreden
-0000eb40: 7469 616c 225d 2e61 7070 656e 6428 6372  tial"].append(cr
-0000eb50: 6564 5f64 6963 7429 0a20 2020 2020 2020  ed_dict).       
-0000eb60: 2064 6966 5f70 726f 6f66 5b22 7665 7269   dif_proof["veri
-0000eb70: 6669 6162 6c65 4372 6564 656e 7469 616c  fiableCredential
-0000eb80: 225d 2e61 7070 656e 6428 6372 6564 5f64  "].append(cred_d
-0000eb90: 6963 7429 0a20 2020 2020 2020 2064 6966  ict).        dif
-0000eba0: 5f70 7265 7320 3d20 5632 3050 7265 7328  _pres = V20Pres(
-0000ebb0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-0000ebc0: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
-0000ebd0: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
-0000ebe0: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
-0000ebf0: 2020 2020 2020 2020 2020 6174 7461 6368            attach
-0000ec00: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
-0000ec10: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000ec20: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
-0000ec30: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
-0000ec40: 5d5b 5632 3050 7265 7346 6f72 6d61 742e  ][V20PresFormat.
-0000ec50: 466f 726d 6174 2e44 4946 2e61 7069 5d2c  Format.DIF.api],
+0000e5f0: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
+0000e600: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+0000e610: 7365 6e74 6174 696f 6e73 5f61 7474 6163  sentations_attac
+0000e620: 683d 5b0a 2020 2020 2020 2020 2020 2020  h=[.            
+0000e630: 2020 2020 4174 7461 6368 4465 636f 7261      AttachDecora
+0000e640: 746f 722e 6461 7461 5f6a 736f 6e28 0a20  tor.data_json(. 
+0000e650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e660: 2020 206d 6170 7069 6e67 3d44 4946 5f50     mapping=DIF_P
+0000e670: 5245 532c 0a20 2020 2020 2020 2020 2020  RES,.           
+0000e680: 2020 2020 2020 2020 2069 6465 6e74 3d22           ident="
+0000e690: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
+0000e6a0: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+0000e6b0: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
+0000e6c0: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
+0000e6d0: 735f 7265 7175 6573 7420 3d20 5632 3050  s_request = V20P
+0000e6e0: 7265 7352 6571 7565 7374 280a 2020 2020  resRequest(.    
+0000e6f0: 2020 2020 2020 2020 666f 726d 6174 733d          formats=
+0000e700: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+0000e710: 2020 5632 3050 7265 7346 6f72 6d61 7428    V20PresFormat(
+0000e720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e730: 2020 2020 2061 7474 6163 685f 6964 3d22       attach_id="
+0000e740: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
+0000e750: 2020 2020 2020 2020 2020 666f 726d 6174            format
+0000e760: 5f3d 4154 5441 4348 4d45 4e54 5f46 4f52  _=ATTACHMENT_FOR
+0000e770: 4d41 545b 5052 4553 5f32 305f 5245 5155  MAT[PRES_20_REQU
+0000e780: 4553 545d 5b0a 2020 2020 2020 2020 2020  EST][.          
+0000e790: 2020 2020 2020 2020 2020 2020 2020 5632                V2
+0000e7a0: 3050 7265 7346 6f72 6d61 742e 466f 726d  0PresFormat.Form
+0000e7b0: 6174 2e44 4946 2e61 7069 0a20 2020 2020  at.DIF.api.     
+0000e7c0: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
+0000e7d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000e7e0: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+0000e7f0: 5d2c 0a20 2020 2020 2020 2020 2020 2072  ],.            r
+0000e800: 6571 7565 7374 5f70 7265 7365 6e74 6174  equest_presentat
+0000e810: 696f 6e73 5f61 7474 6163 683d 5b0a 2020  ions_attach=[.  
+0000e820: 2020 2020 2020 2020 2020 2020 2020 4174                At
+0000e830: 7461 6368 4465 636f 7261 746f 722e 6461  tachDecorator.da
+0000e840: 7461 5f6a 736f 6e28 4449 465f 5052 4553  ta_json(DIF_PRES
+0000e850: 5f52 4551 5545 5354 5f42 2c20 6964 656e  _REQUEST_B, iden
+0000e860: 743d 2264 6966 2229 0a20 2020 2020 2020  t="dif").       
+0000e870: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+0000e880: 290a 2020 2020 2020 2020 7265 636f 7264  ).        record
+0000e890: 203d 2056 3230 5072 6573 4578 5265 636f   = V20PresExReco
+0000e8a0: 7264 280a 2020 2020 2020 2020 2020 2020  rd(.            
+0000e8b0: 7072 6573 5f65 785f 6964 3d22 7078 6964  pres_ex_id="pxid
+0000e8c0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+0000e8d0: 6872 6561 645f 6964 3d22 7468 6964 222c  hread_id="thid",
+0000e8e0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+0000e8f0: 6e65 6374 696f 6e5f 6964 3d22 636f 6e6e  nection_id="conn
+0000e900: 5f69 6422 2c0a 2020 2020 2020 2020 2020  _id",.          
+0000e910: 2020 696e 6974 6961 746f 723d 2269 6e69    initiator="ini
+0000e920: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
+0000e930: 726f 6c65 3d22 726f 6c65 222c 0a20 2020  role="role",.   
+0000e940: 2020 2020 2020 2020 2073 7461 7465 3d22           state="
+0000e950: 7374 6174 6522 2c0a 2020 2020 2020 2020  state",.        
+0000e960: 2020 2020 7072 6573 5f72 6571 7565 7374      pres_request
+0000e970: 3d64 6966 5f70 7265 735f 7265 7175 6573  =dif_pres_reques
+0000e980: 742c 0a20 2020 2020 2020 2020 2020 2070  t,.            p
+0000e990: 7265 733d 6469 665f 7072 6573 2c0a 2020  res=dif_pres,.  
+0000e9a0: 2020 2020 2020 2020 2020 7665 7269 6669            verifi
+0000e9b0: 6564 3d22 6661 6c73 6522 2c0a 2020 2020  ed="false",.    
+0000e9c0: 2020 2020 2020 2020 6175 746f 5f70 7265          auto_pre
+0000e9d0: 7365 6e74 3d54 7275 652c 0a20 2020 2020  sent=True,.     
+0000e9e0: 2020 2020 2020 2065 7272 6f72 5f6d 7367         error_msg
+0000e9f0: 3d22 6572 726f 7222 2c0a 2020 2020 2020  ="error",.      
+0000ea00: 2020 290a 2020 2020 2020 2020 6177 6169    ).        awai
+0000ea10: 7420 7365 6c66 2e68 616e 646c 6572 2e72  t self.handler.r
+0000ea20: 6563 6569 7665 5f70 7265 7328 6d65 7373  eceive_pres(mess
+0000ea30: 6167 653d 6469 665f 7072 6573 2c20 7072  age=dif_pres, pr
+0000ea40: 6573 5f65 785f 7265 636f 7264 3d72 6563  es_ex_record=rec
+0000ea50: 6f72 6429 0a0a 2020 2020 6173 796e 6320  ord)..    async 
+0000ea60: 6465 6620 7465 7374 5f76 6572 6966 795f  def test_verify_
+0000ea70: 7265 6365 6976 6564 5f70 7265 735f 6228  received_pres_b(
+0000ea80: 7365 6c66 293a 0a20 2020 2020 2020 2064  self):.        d
+0000ea90: 6966 5f70 726f 6f66 203d 2064 6565 7063  if_proof = deepc
+0000eaa0: 6f70 7928 4449 465f 5052 4553 290a 2020  opy(DIF_PRES).  
+0000eab0: 2020 2020 2020 6469 665f 7072 6f6f 665b        dif_proof[
+0000eac0: 2276 6572 6966 6961 626c 6543 7265 6465  "verifiableCrede
+0000ead0: 6e74 6961 6c22 5d5b 305d 5b22 6372 6564  ntial"][0]["cred
+0000eae0: 656e 7469 616c 5375 626a 6563 7422 5d5b  entialSubject"][
+0000eaf0: 2267 6976 656e 4e61 6d65 225d 203d 207b  "givenName"] = {
+0000eb00: 0a20 2020 2020 2020 2020 2020 2022 7465  .            "te
+0000eb10: 7374 223a 2022 4a4f 484e 220a 2020 2020  st": "JOHN".    
+0000eb20: 2020 2020 7d0a 2020 2020 2020 2020 6469      }.        di
+0000eb30: 665f 7072 6573 203d 2056 3230 5072 6573  f_pres = V20Pres
+0000eb40: 280a 2020 2020 2020 2020 2020 2020 666f  (.            fo
+0000eb50: 726d 6174 733d 5b0a 2020 2020 2020 2020  rmats=[.        
+0000eb60: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
+0000eb70: 6f72 6d61 7428 0a20 2020 2020 2020 2020  ormat(.         
+0000eb80: 2020 2020 2020 2020 2020 2061 7474 6163             attac
+0000eb90: 685f 6964 3d22 6469 6622 2c0a 2020 2020  h_id="dif",.    
+0000eba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ebb0: 666f 726d 6174 5f3d 4154 5441 4348 4d45  format_=ATTACHME
+0000ebc0: 4e54 5f46 4f52 4d41 545b 5052 4553 5f32  NT_FORMAT[PRES_2
+0000ebd0: 305d 5b56 3230 5072 6573 466f 726d 6174  0][V20PresFormat
+0000ebe0: 2e46 6f72 6d61 742e 4449 462e 6170 695d  .Format.DIF.api]
+0000ebf0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000ec00: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
+0000ec10: 5d2c 0a20 2020 2020 2020 2020 2020 2070  ],.            p
+0000ec20: 7265 7365 6e74 6174 696f 6e73 5f61 7474  resentations_att
+0000ec30: 6163 683d 5b0a 2020 2020 2020 2020 2020  ach=[.          
+0000ec40: 2020 2020 2020 4174 7461 6368 4465 636f        AttachDeco
+0000ec50: 7261 746f 722e 6461 7461 5f6a 736f 6e28  rator.data_json(
 0000ec60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ec70: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
-0000ec80: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
-0000ec90: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
-0000eca0: 6368 3d5b 0a20 2020 2020 2020 2020 2020  ch=[.           
-0000ecb0: 2020 2020 2041 7474 6163 6844 6563 6f72       AttachDecor
-0000ecc0: 6174 6f72 2e64 6174 615f 6a73 6f6e 280a  ator.data_json(.
-0000ecd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ece0: 2020 2020 6d61 7070 696e 673d 6469 665f      mapping=dif_
-0000ecf0: 7072 6f6f 662c 0a20 2020 2020 2020 2020  proof,.         
-0000ed00: 2020 2020 2020 2020 2020 2069 6465 6e74             ident
-0000ed10: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
-0000ed20: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-0000ed30: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-0000ed40: 2029 0a20 2020 2020 2020 2070 7265 735f   ).        pres_
-0000ed50: 7265 7175 6573 7420 3d20 6465 6570 636f  request = deepco
-0000ed60: 7079 2844 4946 5f50 5245 535f 5245 5155  py(DIF_PRES_REQU
-0000ed70: 4553 545f 4229 0a20 2020 2020 2020 2070  EST_B).        p
-0000ed80: 7265 735f 7265 7175 6573 745b 2270 7265  res_request["pre
-0000ed90: 7365 6e74 6174 696f 6e5f 6465 6669 6e69  sentation_defini
-0000eda0: 7469 6f6e 225d 5b22 696e 7075 745f 6465  tion"]["input_de
-0000edb0: 7363 7269 7074 6f72 7322 5d5b 305d 5b0a  scriptors"][0][.
-0000edc0: 2020 2020 2020 2020 2020 2020 2263 6f6e              "con
-0000edd0: 7374 7261 696e 7473 220a 2020 2020 2020  straints".      
-0000ede0: 2020 5d20 3d20 7b0a 2020 2020 2020 2020    ] = {.        
-0000edf0: 2020 2020 226c 696d 6974 5f64 6973 636c      "limit_discl
-0000ee00: 6f73 7572 6522 3a20 2272 6571 7569 7265  osure": "require
-0000ee10: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-0000ee20: 2266 6965 6c64 7322 3a20 5b0a 2020 2020  "fields": [.    
-0000ee30: 2020 2020 2020 2020 2020 2020 7b0a 2020              {.  
-0000ee40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ee50: 2020 2270 6174 6822 3a20 5b22 242e 6372    "path": ["$.cr
-0000ee60: 6564 656e 7469 616c 5375 626a 6563 742e  edentialSubject.
-0000ee70: 5061 7469 656e 745b 2a5d 2e61 6464 7265  Patient[*].addre
-0000ee80: 7373 225d 2c0a 2020 2020 2020 2020 2020  ss"],.          
-0000ee90: 2020 2020 2020 2020 2020 2270 7572 706f            "purpo
-0000eea0: 7365 223a 2022 5465 7374 222c 0a20 2020  se": "Test",.   
-0000eeb0: 2020 2020 2020 2020 2020 2020 207d 0a20               }. 
-0000eec0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0000eed0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
-0000eee0: 7072 6573 5f72 6571 7565 7374 5b22 7072  pres_request["pr
-0000eef0: 6573 656e 7461 7469 6f6e 5f64 6566 696e  esentation_defin
-0000ef00: 6974 696f 6e22 5d5b 2269 6e70 7574 5f64  ition"]["input_d
-0000ef10: 6573 6372 6970 746f 7273 225d 5b30 5d5b  escriptors"][0][
-0000ef20: 2273 6368 656d 6122 5d20 3d20 5b0a 2020  "schema"] = [.  
-0000ef30: 2020 2020 2020 2020 2020 7b22 7572 6922            {"uri"
-0000ef40: 3a20 2268 7474 7073 3a2f 2f77 7777 2e77  : "https://www.w
-0000ef50: 332e 6f72 672f 3230 3138 2f63 7265 6465  3.org/2018/crede
-0000ef60: 6e74 6961 6c73 2356 6572 6966 6961 626c  ntials#Verifiabl
-0000ef70: 6543 7265 6465 6e74 6961 6c22 7d2c 0a20  eCredential"},. 
-0000ef80: 2020 2020 2020 2020 2020 207b 2275 7269             {"uri
-0000ef90: 223a 2022 6874 7470 733a 2f2f 7777 772e  ": "https://www.
-0000efa0: 7664 656c 2e63 6f6d 2f4d 6564 6963 616c  vdel.com/Medical
-0000efb0: 5061 7373 227d 2c0a 2020 2020 2020 2020  Pass"},.        
-0000efc0: 2020 2020 7b22 7572 6922 3a20 2268 7474      {"uri": "htt
-0000efd0: 703a 2f2f 686c 372e 6f72 672f 6668 6972  p://hl7.org/fhir
-0000efe0: 2f50 6174 6965 6e74 227d 2c0a 2020 2020  /Patient"},.    
-0000eff0: 2020 2020 5d0a 2020 2020 2020 2020 6469      ].        di
-0000f000: 665f 7072 6573 5f72 6571 7565 7374 203d  f_pres_request =
-0000f010: 2056 3230 5072 6573 5265 7175 6573 7428   V20PresRequest(
-0000f020: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-0000f030: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
-0000f040: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
-0000f050: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
-0000f060: 2020 2020 2020 2020 2020 6174 7461 6368            attach
-0000f070: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
-0000f080: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000f090: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
-0000f0a0: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
-0000f0b0: 5f52 4551 5545 5354 5d5b 0a20 2020 2020  _REQUEST][.     
-0000f0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f0d0: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
-0000f0e0: 2e46 6f72 6d61 742e 4449 462e 6170 690a  .Format.DIF.api.
-0000f0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f100: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-0000f110: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-0000f120: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-0000f130: 2020 2020 7265 7175 6573 745f 7072 6573      request_pres
-0000f140: 656e 7461 7469 6f6e 735f 6174 7461 6368  entations_attach
-0000f150: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
-0000f160: 2020 2041 7474 6163 6844 6563 6f72 6174     AttachDecorat
-0000f170: 6f72 2e64 6174 615f 6a73 6f6e 2870 7265  or.data_json(pre
-0000f180: 735f 7265 7175 6573 742c 2069 6465 6e74  s_request, ident
-0000f190: 3d22 6469 6622 290a 2020 2020 2020 2020  ="dif").        
-0000f1a0: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
-0000f1b0: 0a20 2020 2020 2020 2072 6563 6f72 6420  .        record 
-0000f1c0: 3d20 5632 3050 7265 7345 7852 6563 6f72  = V20PresExRecor
-0000f1d0: 6428 0a20 2020 2020 2020 2020 2020 2070  d(.            p
-0000f1e0: 7265 735f 6578 5f69 643d 2270 7869 6422  res_ex_id="pxid"
-0000f1f0: 2c0a 2020 2020 2020 2020 2020 2020 7468  ,.            th
-0000f200: 7265 6164 5f69 643d 2274 6869 6422 2c0a  read_id="thid",.
-0000f210: 2020 2020 2020 2020 2020 2020 636f 6e6e              conn
-0000f220: 6563 7469 6f6e 5f69 643d 2263 6f6e 6e5f  ection_id="conn_
-0000f230: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
-0000f240: 2069 6e69 7469 6174 6f72 3d22 696e 6974   initiator="init
-0000f250: 222c 0a20 2020 2020 2020 2020 2020 2072  ",.            r
-0000f260: 6f6c 653d 2272 6f6c 6522 2c0a 2020 2020  ole="role",.    
-0000f270: 2020 2020 2020 2020 7374 6174 653d 2273          state="s
-0000f280: 7461 7465 222c 0a20 2020 2020 2020 2020  tate",.         
-0000f290: 2020 2070 7265 735f 7265 7175 6573 743d     pres_request=
-0000f2a0: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
-0000f2b0: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
-0000f2c0: 6573 3d64 6966 5f70 7265 732c 0a20 2020  es=dif_pres,.   
-0000f2d0: 2020 2020 2020 2020 2076 6572 6966 6965           verifie
-0000f2e0: 643d 2266 616c 7365 222c 0a20 2020 2020  d="false",.     
-0000f2f0: 2020 2020 2020 2061 7574 6f5f 7072 6573         auto_pres
-0000f300: 656e 743d 5472 7565 2c0a 2020 2020 2020  ent=True,.      
-0000f310: 2020 2020 2020 6572 726f 725f 6d73 673d        error_msg=
-0000f320: 2265 7272 6f72 222c 0a20 2020 2020 2020  "error",.       
-0000f330: 2029 0a20 2020 2020 2020 2077 6974 6820   ).        with 
-0000f340: 6173 796e 635f 6d6f 636b 2e70 6174 6368  async_mock.patch
-0000f350: 2e6f 626a 6563 7428 0a20 2020 2020 2020  .object(.       
-0000f360: 2020 2020 206a 736f 6e6c 642c 2022 6578       jsonld, "ex
-0000f370: 7061 6e64 222c 2061 7379 6e63 5f6d 6f63  pand", async_moc
-0000f380: 6b2e 4d61 6769 634d 6f63 6b28 290a 2020  k.MagicMock().  
-0000f390: 2020 2020 2020 2920 6173 206d 6f63 6b5f        ) as mock_
-0000f3a0: 6a73 6f6e 6c64 5f65 7870 616e 643a 0a20  jsonld_expand:. 
-0000f3b0: 2020 2020 2020 2020 2020 206d 6f63 6b5f             mock_
-0000f3c0: 6a73 6f6e 6c64 5f65 7870 616e 642e 7265  jsonld_expand.re
-0000f3d0: 7475 726e 5f76 616c 7565 203d 2045 5850  turn_value = EXP
-0000f3e0: 414e 4445 445f 4352 4544 5f46 4849 525f  ANDED_CRED_FHIR_
-0000f3f0: 5459 5045 5f31 0a20 2020 2020 2020 2020  TYPE_1.         
-0000f400: 2020 2061 7761 6974 2073 656c 662e 6861     await self.ha
-0000f410: 6e64 6c65 722e 7265 6365 6976 655f 7072  ndler.receive_pr
-0000f420: 6573 286d 6573 7361 6765 3d64 6966 5f70  es(message=dif_p
-0000f430: 7265 732c 2070 7265 735f 6578 5f72 6563  res, pres_ex_rec
-0000f440: 6f72 643d 7265 636f 7264 290a 0a20 2020  ord=record)..   
-0000f450: 2061 7379 6e63 2064 6566 2074 6573 745f   async def test_
-0000f460: 7665 7269 6679 5f72 6563 6569 7665 645f  verify_received_
-0000f470: 7072 6573 5f69 6e76 616c 6964 5f6a 736f  pres_invalid_jso
-0000f480: 6e70 6174 6828 7365 6c66 293a 0a20 2020  npath(self):.   
-0000f490: 2020 2020 2064 6966 5f70 726f 6f66 203d       dif_proof =
-0000f4a0: 2064 6565 7063 6f70 7928 4449 465f 5052   deepcopy(DIF_PR
-0000f4b0: 4553 290a 2020 2020 2020 2020 6469 665f  ES).        dif_
-0000f4c0: 7072 6f6f 665b 2270 7265 7365 6e74 6174  proof["presentat
-0000f4d0: 696f 6e5f 7375 626d 6973 7369 6f6e 225d  ion_submission"]
-0000f4e0: 5b22 6465 7363 7269 7074 6f72 5f6d 6170  ["descriptor_map
-0000f4f0: 225d 5b30 5d5b 0a20 2020 2020 2020 2020  "][0][.         
-0000f500: 2020 2022 7061 7468 220a 2020 2020 2020     "path".      
-0000f510: 2020 5d20 3d20 2224 2e76 6572 6966 6961    ] = "$.verifia
-0000f520: 626c 6543 7265 6465 6e74 6961 6c5b 315d  bleCredential[1]
-0000f530: 220a 2020 2020 2020 2020 6469 665f 7072  ".        dif_pr
-0000f540: 6573 203d 2056 3230 5072 6573 280a 2020  es = V20Pres(.  
-0000f550: 2020 2020 2020 2020 2020 666f 726d 6174            format
-0000f560: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-0000f570: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
-0000f580: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
-0000f590: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
-0000f5a0: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
-0000f5b0: 2020 2020 2020 2020 2020 2020 666f 726d              form
-0000f5c0: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
-0000f5d0: 4f52 4d41 545b 5052 4553 5f32 305d 5b56  ORMAT[PRES_20][V
-0000f5e0: 3230 5072 6573 466f 726d 6174 2e46 6f72  20PresFormat.For
-0000f5f0: 6d61 742e 4449 462e 6170 695d 2c0a 2020  mat.DIF.api],.  
-0000f600: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-0000f610: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-0000f620: 2020 2020 2020 2020 2020 2070 7265 7365             prese
-0000f630: 6e74 6174 696f 6e73 5f61 7474 6163 683d  ntations_attach=
-0000f640: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-0000f650: 2020 4174 7461 6368 4465 636f 7261 746f    AttachDecorato
-0000f660: 722e 6461 7461 5f6a 736f 6e28 0a20 2020  r.data_json(.   
-0000f670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f680: 206d 6170 7069 6e67 3d64 6966 5f70 726f   mapping=dif_pro
-0000f690: 6f66 2c0a 2020 2020 2020 2020 2020 2020  of,.            
-0000f6a0: 2020 2020 2020 2020 6964 656e 743d 2264          ident="d
-0000f6b0: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
-0000f6c0: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-0000f6d0: 2020 205d 2c0a 2020 2020 2020 2020 290a     ],.        ).
-0000f6e0: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
-0000f6f0: 735f 7265 7175 6573 7420 3d20 5632 3050  s_request = V20P
-0000f700: 7265 7352 6571 7565 7374 280a 2020 2020  resRequest(.    
-0000f710: 2020 2020 2020 2020 666f 726d 6174 733d          formats=
-0000f720: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-0000f730: 2020 5632 3050 7265 7346 6f72 6d61 7428    V20PresFormat(
-0000f740: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f750: 2020 2020 2061 7474 6163 685f 6964 3d22       attach_id="
-0000f760: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
-0000f770: 2020 2020 2020 2020 2020 666f 726d 6174            format
-0000f780: 5f3d 4154 5441 4348 4d45 4e54 5f46 4f52  _=ATTACHMENT_FOR
-0000f790: 4d41 545b 5052 4553 5f32 305f 5245 5155  MAT[PRES_20_REQU
-0000f7a0: 4553 545d 5b0a 2020 2020 2020 2020 2020  EST][.          
-0000f7b0: 2020 2020 2020 2020 2020 2020 2020 5632                V2
-0000f7c0: 3050 7265 7346 6f72 6d61 742e 466f 726d  0PresFormat.Form
-0000f7d0: 6174 2e44 4946 2e61 7069 0a20 2020 2020  at.DIF.api.     
-0000f7e0: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
-0000f7f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000f800: 2020 290a 2020 2020 2020 2020 2020 2020    ).            
-0000f810: 5d2c 0a20 2020 2020 2020 2020 2020 2072  ],.            r
-0000f820: 6571 7565 7374 5f70 7265 7365 6e74 6174  equest_presentat
-0000f830: 696f 6e73 5f61 7474 6163 683d 5b0a 2020  ions_attach=[.  
-0000f840: 2020 2020 2020 2020 2020 2020 2020 4174                At
-0000f850: 7461 6368 4465 636f 7261 746f 722e 6461  tachDecorator.da
-0000f860: 7461 5f6a 736f 6e28 4449 465f 5052 4553  ta_json(DIF_PRES
-0000f870: 5f52 4551 5545 5354 5f42 2c20 6964 656e  _REQUEST_B, iden
-0000f880: 743d 2264 6966 2229 0a20 2020 2020 2020  t="dif").       
-0000f890: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
-0000f8a0: 290a 2020 2020 2020 2020 7265 636f 7264  ).        record
-0000f8b0: 203d 2056 3230 5072 6573 4578 5265 636f   = V20PresExReco
-0000f8c0: 7264 280a 2020 2020 2020 2020 2020 2020  rd(.            
-0000f8d0: 7072 6573 5f65 785f 6964 3d22 7078 6964  pres_ex_id="pxid
-0000f8e0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
-0000f8f0: 6872 6561 645f 6964 3d22 7468 6964 222c  hread_id="thid",
-0000f900: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-0000f910: 6e65 6374 696f 6e5f 6964 3d22 636f 6e6e  nection_id="conn
-0000f920: 5f69 6422 2c0a 2020 2020 2020 2020 2020  _id",.          
-0000f930: 2020 696e 6974 6961 746f 723d 2269 6e69    initiator="ini
-0000f940: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
-0000f950: 726f 6c65 3d22 726f 6c65 222c 0a20 2020  role="role",.   
-0000f960: 2020 2020 2020 2020 2073 7461 7465 3d22           state="
-0000f970: 7374 6174 6522 2c0a 2020 2020 2020 2020  state",.        
-0000f980: 2020 2020 7072 6573 5f72 6571 7565 7374      pres_request
-0000f990: 3d64 6966 5f70 7265 735f 7265 7175 6573  =dif_pres_reques
-0000f9a0: 742c 0a20 2020 2020 2020 2020 2020 2070  t,.            p
-0000f9b0: 7265 733d 6469 665f 7072 6573 2c0a 2020  res=dif_pres,.  
-0000f9c0: 2020 2020 2020 2020 2020 7665 7269 6669            verifi
-0000f9d0: 6564 3d22 6661 6c73 6522 2c0a 2020 2020  ed="false",.    
-0000f9e0: 2020 2020 2020 2020 6175 746f 5f70 7265          auto_pre
-0000f9f0: 7365 6e74 3d54 7275 652c 0a20 2020 2020  sent=True,.     
-0000fa00: 2020 2020 2020 2065 7272 6f72 5f6d 7367         error_msg
-0000fa10: 3d22 6572 726f 7222 2c0a 2020 2020 2020  ="error",.      
-0000fa20: 2020 290a 2020 2020 2020 2020 7769 7468    ).        with
-0000fa30: 2061 7379 6e63 5f6d 6f63 6b2e 7061 7463   async_mock.patc
-0000fa40: 682e 6f62 6a65 6374 280a 2020 2020 2020  h.object(.      
-0000fa50: 2020 2020 2020 7465 7374 5f6d 6f64 756c        test_modul
-0000fa60: 652e 4c4f 4747 4552 2c20 2265 7272 6f72  e.LOGGER, "error
-0000fa70: 222c 2061 7379 6e63 5f6d 6f63 6b2e 4d61  ", async_mock.Ma
-0000fa80: 6769 634d 6f63 6b28 290a 2020 2020 2020  gicMock().      
-0000fa90: 2020 2920 6173 206d 6f63 6b5f 6c6f 675f    ) as mock_log_
-0000faa0: 6572 723a 0a20 2020 2020 2020 2020 2020  err:.           
-0000fab0: 2061 7761 6974 2073 656c 662e 6861 6e64   await self.hand
-0000fac0: 6c65 722e 7265 6365 6976 655f 7072 6573  ler.receive_pres
-0000fad0: 286d 6573 7361 6765 3d64 6966 5f70 7265  (message=dif_pre
-0000fae0: 732c 2070 7265 735f 6578 5f72 6563 6f72  s, pres_ex_recor
-0000faf0: 643d 7265 636f 7264 290a 2020 2020 2020  d=record).      
-0000fb00: 2020 2020 2020 6d6f 636b 5f6c 6f67 5f65        mock_log_e
-0000fb10: 7272 2e61 7373 6572 745f 6361 6c6c 6564  rr.assert_called
-0000fb20: 5f6f 6e63 6528 290a 0a20 2020 2061 7379  _once()..    asy
-0000fb30: 6e63 2064 6566 2074 6573 745f 7665 7269  nc def test_veri
-0000fb40: 6679 5f72 6563 6569 7665 645f 7072 6573  fy_received_pres
-0000fb50: 5f6e 6f5f 6d61 7463 685f 6128 7365 6c66  _no_match_a(self
-0000fb60: 293a 0a20 2020 2020 2020 2064 6966 5f70  ):.        dif_p
-0000fb70: 726f 6f66 5f72 6571 203d 2064 6565 7063  roof_req = deepc
-0000fb80: 6f70 7928 4449 465f 5052 4553 5f52 4551  opy(DIF_PRES_REQ
-0000fb90: 5545 5354 5f42 290a 2020 2020 2020 2020  UEST_B).        
-0000fba0: 6469 665f 7072 6f6f 665f 7265 715b 2270  dif_proof_req["p
-0000fbb0: 7265 7365 6e74 6174 696f 6e5f 6465 6669  resentation_defi
-0000fbc0: 6e69 7469 6f6e 225d 5b22 696e 7075 745f  nition"]["input_
-0000fbd0: 6465 7363 7269 7074 6f72 7322 5d5b 305d  descriptors"][0]
-0000fbe0: 5b22 636f 6e73 7472 6169 6e74 7322 5d5b  ["constraints"][
-0000fbf0: 0a20 2020 2020 2020 2020 2020 2022 6669  .            "fi
-0000fc00: 656c 6473 220a 2020 2020 2020 2020 5d5b  elds".        ][
-0000fc10: 305d 5b22 7061 7468 225d 203d 205b 2224  0]["path"] = ["$
-0000fc20: 2e63 7265 6465 6e74 6961 6c53 7562 6a65  .credentialSubje
-0000fc30: 6374 2e67 6976 656e 4e61 6d65 3222 5d0a  ct.givenName2"].
-0000fc40: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
-0000fc50: 7320 3d20 5632 3050 7265 7328 0a20 2020  s = V20Pres(.   
-0000fc60: 2020 2020 2020 2020 2066 6f72 6d61 7473           formats
-0000fc70: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
-0000fc80: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
-0000fc90: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0000fca0: 2020 2020 2020 6174 7461 6368 5f69 643d        attach_id=
-0000fcb0: 2264 6966 222c 0a20 2020 2020 2020 2020  "dif",.         
-0000fcc0: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
-0000fcd0: 745f 3d41 5454 4143 484d 454e 545f 464f  t_=ATTACHMENT_FO
-0000fce0: 524d 4154 5b50 5245 535f 3230 5d5b 5632  RMAT[PRES_20][V2
-0000fcf0: 3050 7265 7346 6f72 6d61 742e 466f 726d  0PresFormat.Form
-0000fd00: 6174 2e44 4946 2e61 7069 5d2c 0a20 2020  at.DIF.api],.   
-0000fd10: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-0000fd20: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-0000fd30: 2020 2020 2020 2020 2020 7072 6573 656e            presen
-0000fd40: 7461 7469 6f6e 735f 6174 7461 6368 3d5b  tations_attach=[
-0000fd50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000fd60: 2041 7474 6163 6844 6563 6f72 6174 6f72   AttachDecorator
-0000fd70: 2e64 6174 615f 6a73 6f6e 280a 2020 2020  .data_json(.    
+0000ec70: 2020 2020 206d 6170 7069 6e67 3d64 6966       mapping=dif
+0000ec80: 5f70 726f 6f66 2c0a 2020 2020 2020 2020  _proof,.        
+0000ec90: 2020 2020 2020 2020 2020 2020 6964 656e              iden
+0000eca0: 743d 2264 6966 222c 0a20 2020 2020 2020  t="dif",.       
+0000ecb0: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+0000ecc0: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+0000ecd0: 2020 290a 0a20 2020 2020 2020 2064 6966    )..        dif
+0000ece0: 5f70 726f 6f66 5f72 6571 203d 2064 6565  _proof_req = dee
+0000ecf0: 7063 6f70 7928 4449 465f 5052 4553 5f52  pcopy(DIF_PRES_R
+0000ed00: 4551 5545 5354 5f42 290a 2020 2020 2020  EQUEST_B).      
+0000ed10: 2020 6469 665f 7072 6f6f 665f 7265 715b    dif_proof_req[
+0000ed20: 2270 7265 7365 6e74 6174 696f 6e5f 6465  "presentation_de
+0000ed30: 6669 6e69 7469 6f6e 225d 5b22 696e 7075  finition"]["inpu
+0000ed40: 745f 6465 7363 7269 7074 6f72 7322 5d5b  t_descriptors"][
+0000ed50: 305d 5b22 636f 6e73 7472 6169 6e74 7322  0]["constraints"
+0000ed60: 5d5b 0a20 2020 2020 2020 2020 2020 2022  ][.            "
+0000ed70: 6669 656c 6473 220a 2020 2020 2020 2020  fields".        
+0000ed80: 5d5b 305d 5b22 7061 7468 225d 203d 205b  ][0]["path"] = [
+0000ed90: 2224 2e63 7265 6465 6e74 6961 6c53 7562  "$.credentialSub
+0000eda0: 6a65 6374 2e67 6976 656e 4e61 6d65 2e74  ject.givenName.t
+0000edb0: 6573 7422 5d0a 2020 2020 2020 2020 6469  est"].        di
+0000edc0: 665f 7072 6573 5f72 6571 7565 7374 203d  f_pres_request =
+0000edd0: 2056 3230 5072 6573 5265 7175 6573 7428   V20PresRequest(
+0000ede0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+0000edf0: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
+0000ee00: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
+0000ee10: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+0000ee20: 2020 2020 2020 2020 2020 6174 7461 6368            attach
+0000ee30: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
+0000ee40: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000ee50: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
+0000ee60: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
+0000ee70: 5f52 4551 5545 5354 5d5b 0a20 2020 2020  _REQUEST][.     
+0000ee80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ee90: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
+0000eea0: 2e46 6f72 6d61 742e 4449 462e 6170 690a  .Format.DIF.api.
+0000eeb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eec0: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+0000eed0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+0000eee0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+0000eef0: 2020 2020 7265 7175 6573 745f 7072 6573      request_pres
+0000ef00: 656e 7461 7469 6f6e 735f 6174 7461 6368  entations_attach
+0000ef10: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+0000ef20: 2020 2041 7474 6163 6844 6563 6f72 6174     AttachDecorat
+0000ef30: 6f72 2e64 6174 615f 6a73 6f6e 2864 6966  or.data_json(dif
+0000ef40: 5f70 726f 6f66 5f72 6571 2c20 6964 656e  _proof_req, iden
+0000ef50: 743d 2264 6966 2229 0a20 2020 2020 2020  t="dif").       
+0000ef60: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+0000ef70: 290a 2020 2020 2020 2020 7265 636f 7264  ).        record
+0000ef80: 203d 2056 3230 5072 6573 4578 5265 636f   = V20PresExReco
+0000ef90: 7264 280a 2020 2020 2020 2020 2020 2020  rd(.            
+0000efa0: 7072 6573 5f65 785f 6964 3d22 7078 6964  pres_ex_id="pxid
+0000efb0: 222c 0a20 2020 2020 2020 2020 2020 2074  ",.            t
+0000efc0: 6872 6561 645f 6964 3d22 7468 6964 222c  hread_id="thid",
+0000efd0: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
+0000efe0: 6e65 6374 696f 6e5f 6964 3d22 636f 6e6e  nection_id="conn
+0000eff0: 5f69 6422 2c0a 2020 2020 2020 2020 2020  _id",.          
+0000f000: 2020 696e 6974 6961 746f 723d 2269 6e69    initiator="ini
+0000f010: 7422 2c0a 2020 2020 2020 2020 2020 2020  t",.            
+0000f020: 726f 6c65 3d22 726f 6c65 222c 0a20 2020  role="role",.   
+0000f030: 2020 2020 2020 2020 2073 7461 7465 3d22           state="
+0000f040: 7374 6174 6522 2c0a 2020 2020 2020 2020  state",.        
+0000f050: 2020 2020 7072 6573 5f72 6571 7565 7374      pres_request
+0000f060: 3d64 6966 5f70 7265 735f 7265 7175 6573  =dif_pres_reques
+0000f070: 742c 0a20 2020 2020 2020 2020 2020 2070  t,.            p
+0000f080: 7265 733d 6469 665f 7072 6573 2c0a 2020  res=dif_pres,.  
+0000f090: 2020 2020 2020 2020 2020 7665 7269 6669            verifi
+0000f0a0: 6564 3d22 6661 6c73 6522 2c0a 2020 2020  ed="false",.    
+0000f0b0: 2020 2020 2020 2020 6175 746f 5f70 7265          auto_pre
+0000f0c0: 7365 6e74 3d54 7275 652c 0a20 2020 2020  sent=True,.     
+0000f0d0: 2020 2020 2020 2065 7272 6f72 5f6d 7367         error_msg
+0000f0e0: 3d22 6572 726f 7222 2c0a 2020 2020 2020  ="error",.      
+0000f0f0: 2020 290a 2020 2020 2020 2020 6177 6169    ).        awai
+0000f100: 7420 7365 6c66 2e68 616e 646c 6572 2e72  t self.handler.r
+0000f110: 6563 6569 7665 5f70 7265 7328 6d65 7373  eceive_pres(mess
+0000f120: 6167 653d 6469 665f 7072 6573 2c20 7072  age=dif_pres, pr
+0000f130: 6573 5f65 785f 7265 636f 7264 3d72 6563  es_ex_record=rec
+0000f140: 6f72 6429 0a0a 2020 2020 6173 796e 6320  ord)..    async 
+0000f150: 6465 6620 7465 7374 5f76 6572 6966 795f  def test_verify_
+0000f160: 7265 6365 6976 6564 5f70 7265 735f 6328  received_pres_c(
+0000f170: 7365 6c66 293a 0a20 2020 2020 2020 2064  self):.        d
+0000f180: 6966 5f70 726f 6f66 203d 2064 6565 7063  if_proof = deepc
+0000f190: 6f70 7928 4449 465f 5052 4553 290a 2020  opy(DIF_PRES).  
+0000f1a0: 2020 2020 2020 6469 665f 7072 6f6f 665b        dif_proof[
+0000f1b0: 2276 6572 6966 6961 626c 6543 7265 6465  "verifiableCrede
+0000f1c0: 6e74 6961 6c22 5d5b 305d 5b22 6372 6564  ntial"][0]["cred
+0000f1d0: 656e 7469 616c 5375 626a 6563 7422 5d5b  entialSubject"][
+0000f1e0: 2267 6976 656e 4e61 6d65 225d 203d 207b  "givenName"] = {
+0000f1f0: 0a20 2020 2020 2020 2020 2020 2022 7465  .            "te
+0000f200: 7374 223a 2022 4a4f 484e 220a 2020 2020  st": "JOHN".    
+0000f210: 2020 2020 7d0a 2020 2020 2020 2020 6469      }.        di
+0000f220: 665f 7072 6f6f 665b 2276 6572 6966 6961  f_proof["verifia
+0000f230: 626c 6543 7265 6465 6e74 6961 6c22 5d5b  bleCredential"][
+0000f240: 305d 5b22 6372 6564 656e 7469 616c 5375  0]["credentialSu
+0000f250: 626a 6563 7422 5d5b 2274 6573 7422 5d20  bject"]["test"] 
+0000f260: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+0000f270: 2274 6573 7431 223a 207b 2274 6573 7432  "test1": {"test2
+0000f280: 223a 2022 5445 5354 227d 0a20 2020 2020  ": "TEST"}.     
+0000f290: 2020 207d 0a20 2020 2020 2020 2064 6966     }.        dif
+0000f2a0: 5f70 7265 7320 3d20 5632 3050 7265 7328  _pres = V20Pres(
+0000f2b0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+0000f2c0: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
+0000f2d0: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
+0000f2e0: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+0000f2f0: 2020 2020 2020 2020 2020 6174 7461 6368            attach
+0000f300: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
+0000f310: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0000f320: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
+0000f330: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
+0000f340: 5d5b 5632 3050 7265 7346 6f72 6d61 742e  ][V20PresFormat.
+0000f350: 466f 726d 6174 2e44 4946 2e61 7069 5d2c  Format.DIF.api],
+0000f360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f370: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
+0000f380: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
+0000f390: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
+0000f3a0: 6368 3d5b 0a20 2020 2020 2020 2020 2020  ch=[.           
+0000f3b0: 2020 2020 2041 7474 6163 6844 6563 6f72       AttachDecor
+0000f3c0: 6174 6f72 2e64 6174 615f 6a73 6f6e 280a  ator.data_json(.
+0000f3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f3e0: 2020 2020 6d61 7070 696e 673d 6469 665f      mapping=dif_
+0000f3f0: 7072 6f6f 662c 0a20 2020 2020 2020 2020  proof,.         
+0000f400: 2020 2020 2020 2020 2020 2069 6465 6e74             ident
+0000f410: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
+0000f420: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000f430: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+0000f440: 2029 0a0a 2020 2020 2020 2020 6469 665f   )..        dif_
+0000f450: 7072 6f6f 665f 7265 7120 3d20 6465 6570  proof_req = deep
+0000f460: 636f 7079 2844 4946 5f50 5245 535f 5245  copy(DIF_PRES_RE
+0000f470: 5155 4553 545f 4229 0a20 2020 2020 2020  QUEST_B).       
+0000f480: 2064 6966 5f70 726f 6f66 5f72 6571 5b22   dif_proof_req["
+0000f490: 7072 6573 656e 7461 7469 6f6e 5f64 6566  presentation_def
+0000f4a0: 696e 6974 696f 6e22 5d5b 2269 6e70 7574  inition"]["input
+0000f4b0: 5f64 6573 6372 6970 746f 7273 225d 5b30  _descriptors"][0
+0000f4c0: 5d5b 0a20 2020 2020 2020 2020 2020 2022  ][.            "
+0000f4d0: 636f 6e73 7472 6169 6e74 7322 0a20 2020  constraints".   
+0000f4e0: 2020 2020 205d 203d 207b 0a20 2020 2020       ] = {.     
+0000f4f0: 2020 2020 2020 2022 6c69 6d69 745f 6469         "limit_di
+0000f500: 7363 6c6f 7375 7265 223a 2022 7265 7175  sclosure": "requ
+0000f510: 6972 6564 222c 0a20 2020 2020 2020 2020  ired",.         
+0000f520: 2020 2022 6669 656c 6473 223a 205b 0a20     "fields": [. 
+0000f530: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+0000f540: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f550: 2020 2020 2022 7061 7468 223a 205b 2224       "path": ["$
+0000f560: 2e63 7265 6465 6e74 6961 6c53 7562 6a65  .credentialSubje
+0000f570: 6374 2e67 6976 656e 4e61 6d65 2e74 6573  ct.givenName.tes
+0000f580: 7422 5d2c 0a20 2020 2020 2020 2020 2020  t"],.           
+0000f590: 2020 2020 2020 2020 2022 6669 6c74 6572           "filter
+0000f5a0: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+0000f5b0: 2020 2020 2020 2020 2020 2020 2022 7479               "ty
+0000f5c0: 7065 223a 2022 7374 7269 6e67 222c 0a20  pe": "string",. 
+0000f5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f5e0: 2020 2020 2020 2022 656e 756d 223a 205b         "enum": [
+0000f5f0: 224a 4f48 4e22 2c20 2243 4149 225d 2c0a  "JOHN", "CAI"],.
+0000f600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f610: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+0000f620: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+0000f630: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+0000f640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f650: 2270 6174 6822 3a20 5b22 242e 6372 6564  "path": ["$.cred
+0000f660: 656e 7469 616c 5375 626a 6563 742e 7465  entialSubject.te
+0000f670: 7374 2e74 6573 7431 2e74 6573 7432 225d  st.test1.test2"]
+0000f680: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000f690: 2020 2020 2020 2266 696c 7465 7222 3a20        "filter": 
+0000f6a0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+0000f6b0: 2020 2020 2020 2020 2020 2274 7970 6522            "type"
+0000f6c0: 3a20 2273 7472 696e 6722 2c0a 2020 2020  : "string",.    
+0000f6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f6e0: 2020 2020 2265 6e75 6d22 3a20 5b22 5445      "enum": ["TE
+0000f6f0: 5354 225d 2c0a 2020 2020 2020 2020 2020  ST"],.          
+0000f700: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+0000f710: 2020 2020 2020 2020 2020 2020 207d 2c0a               },.
+0000f720: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+0000f730: 2020 2020 2020 207d 0a20 2020 2020 2020         }.       
+0000f740: 2064 6966 5f70 7265 735f 7265 7175 6573   dif_pres_reques
+0000f750: 7420 3d20 5632 3050 7265 7352 6571 7565  t = V20PresReque
+0000f760: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
+0000f770: 666f 726d 6174 733d 5b0a 2020 2020 2020  formats=[.      
+0000f780: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+0000f790: 7346 6f72 6d61 7428 0a20 2020 2020 2020  sFormat(.       
+0000f7a0: 2020 2020 2020 2020 2020 2020 2061 7474               att
+0000f7b0: 6163 685f 6964 3d22 6469 6622 2c0a 2020  ach_id="dif",.  
+0000f7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f7d0: 2020 666f 726d 6174 5f3d 4154 5441 4348    format_=ATTACH
+0000f7e0: 4d45 4e54 5f46 4f52 4d41 545b 5052 4553  MENT_FORMAT[PRES
+0000f7f0: 5f32 305f 5245 5155 4553 545d 5b0a 2020  _20_REQUEST][.  
+0000f800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f810: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+0000f820: 6d61 742e 466f 726d 6174 2e44 4946 2e61  mat.Format.DIF.a
+0000f830: 7069 0a20 2020 2020 2020 2020 2020 2020  pi.             
+0000f840: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+0000f850: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+0000f860: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+0000f870: 2020 2020 2020 2072 6571 7565 7374 5f70         request_p
+0000f880: 7265 7365 6e74 6174 696f 6e73 5f61 7474  resentations_att
+0000f890: 6163 683d 5b0a 2020 2020 2020 2020 2020  ach=[.          
+0000f8a0: 2020 2020 2020 4174 7461 6368 4465 636f        AttachDeco
+0000f8b0: 7261 746f 722e 6461 7461 5f6a 736f 6e28  rator.data_json(
+0000f8c0: 6469 665f 7072 6f6f 665f 7265 712c 2069  dif_proof_req, i
+0000f8d0: 6465 6e74 3d22 6469 6622 290a 2020 2020  dent="dif").    
+0000f8e0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+0000f8f0: 2020 2029 0a20 2020 2020 2020 2072 6563     ).        rec
+0000f900: 6f72 6420 3d20 5632 3050 7265 7345 7852  ord = V20PresExR
+0000f910: 6563 6f72 6428 0a20 2020 2020 2020 2020  ecord(.         
+0000f920: 2020 2070 7265 735f 6578 5f69 643d 2270     pres_ex_id="p
+0000f930: 7869 6422 2c0a 2020 2020 2020 2020 2020  xid",.          
+0000f940: 2020 7468 7265 6164 5f69 643d 2274 6869    thread_id="thi
+0000f950: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+0000f960: 636f 6e6e 6563 7469 6f6e 5f69 643d 2263  connection_id="c
+0000f970: 6f6e 6e5f 6964 222c 0a20 2020 2020 2020  onn_id",.       
+0000f980: 2020 2020 2069 6e69 7469 6174 6f72 3d22       initiator="
+0000f990: 696e 6974 222c 0a20 2020 2020 2020 2020  init",.         
+0000f9a0: 2020 2072 6f6c 653d 2272 6f6c 6522 2c0a     role="role",.
+0000f9b0: 2020 2020 2020 2020 2020 2020 7374 6174              stat
+0000f9c0: 653d 2273 7461 7465 222c 0a20 2020 2020  e="state",.     
+0000f9d0: 2020 2020 2020 2070 7265 735f 7265 7175         pres_requ
+0000f9e0: 6573 743d 6469 665f 7072 6573 5f72 6571  est=dif_pres_req
+0000f9f0: 7565 7374 2c0a 2020 2020 2020 2020 2020  uest,.          
+0000fa00: 2020 7072 6573 3d64 6966 5f70 7265 732c    pres=dif_pres,
+0000fa10: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
+0000fa20: 6966 6965 643d 2266 616c 7365 222c 0a20  ified="false",. 
+0000fa30: 2020 2020 2020 2020 2020 2061 7574 6f5f             auto_
+0000fa40: 7072 6573 656e 743d 5472 7565 2c0a 2020  present=True,.  
+0000fa50: 2020 2020 2020 2020 2020 6572 726f 725f            error_
+0000fa60: 6d73 673d 2265 7272 6f72 222c 0a20 2020  msg="error",.   
+0000fa70: 2020 2020 2029 0a20 2020 2020 2020 2061       ).        a
+0000fa80: 7761 6974 2073 656c 662e 6861 6e64 6c65  wait self.handle
+0000fa90: 722e 7265 6365 6976 655f 7072 6573 286d  r.receive_pres(m
+0000faa0: 6573 7361 6765 3d64 6966 5f70 7265 732c  essage=dif_pres,
+0000fab0: 2070 7265 735f 6578 5f72 6563 6f72 643d   pres_ex_record=
+0000fac0: 7265 636f 7264 290a 0a20 2020 2061 7379  record)..    asy
+0000fad0: 6e63 2064 6566 2074 6573 745f 7665 7269  nc def test_veri
+0000fae0: 6679 5f72 6563 6569 7665 645f 7072 6573  fy_received_pres
+0000faf0: 5f73 6571 7565 6e63 6528 7365 6c66 293a  _sequence(self):
+0000fb00: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
+0000fb10: 7320 3d20 5632 3050 7265 7328 0a20 2020  s = V20Pres(.   
+0000fb20: 2020 2020 2020 2020 2066 6f72 6d61 7473           formats
+0000fb30: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+0000fb40: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
+0000fb50: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+0000fb60: 2020 2020 2020 6174 7461 6368 5f69 643d        attach_id=
+0000fb70: 2264 6966 222c 0a20 2020 2020 2020 2020  "dif",.         
+0000fb80: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+0000fb90: 745f 3d41 5454 4143 484d 454e 545f 464f  t_=ATTACHMENT_FO
+0000fba0: 524d 4154 5b50 5245 535f 3230 5d5b 5632  RMAT[PRES_20][V2
+0000fbb0: 3050 7265 7346 6f72 6d61 742e 466f 726d  0PresFormat.Form
+0000fbc0: 6174 2e44 4946 2e61 7069 5d2c 0a20 2020  at.DIF.api],.   
+0000fbd0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
+0000fbe0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
+0000fbf0: 2020 2020 2020 2020 2020 7072 6573 656e            presen
+0000fc00: 7461 7469 6f6e 735f 6174 7461 6368 3d5b  tations_attach=[
+0000fc10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000fc20: 2041 7474 6163 6844 6563 6f72 6174 6f72   AttachDecorator
+0000fc30: 2e64 6174 615f 6a73 6f6e 280a 2020 2020  .data_json(.    
+0000fc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fc50: 6d61 7070 696e 673d 4449 465f 5052 4553  mapping=DIF_PRES
+0000fc60: 5f53 4551 5545 4e43 452c 0a20 2020 2020  _SEQUENCE,.     
+0000fc70: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0000fc80: 6465 6e74 3d22 6469 6622 2c0a 2020 2020  dent="dif",.    
+0000fc90: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0000fca0: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+0000fcb0: 2020 2020 2029 0a20 2020 2020 2020 2064       ).        d
+0000fcc0: 6966 5f70 7265 735f 7265 7175 6573 7420  if_pres_request 
+0000fcd0: 3d20 5632 3050 7265 7352 6571 7565 7374  = V20PresRequest
+0000fce0: 280a 2020 2020 2020 2020 2020 2020 666f  (.            fo
+0000fcf0: 726d 6174 733d 5b0a 2020 2020 2020 2020  rmats=[.        
+0000fd00: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
+0000fd10: 6f72 6d61 7428 0a20 2020 2020 2020 2020  ormat(.         
+0000fd20: 2020 2020 2020 2020 2020 2061 7474 6163             attac
+0000fd30: 685f 6964 3d22 6469 6622 2c0a 2020 2020  h_id="dif",.    
+0000fd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000fd50: 666f 726d 6174 5f3d 4154 5441 4348 4d45  format_=ATTACHME
+0000fd60: 4e54 5f46 4f52 4d41 545b 5052 4553 5f32  NT_FORMAT[PRES_2
+0000fd70: 305f 5245 5155 4553 545d 5b0a 2020 2020  0_REQUEST][.    
 0000fd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fd90: 6d61 7070 696e 673d 4449 465f 5052 4553  mapping=DIF_PRES
-0000fda0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000fdb0: 2020 2020 2020 6964 656e 743d 2264 6966        ident="dif
-0000fdc0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0000fdd0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-0000fde0: 205d 2c0a 2020 2020 2020 2020 290a 0a20   ],.        ).. 
-0000fdf0: 2020 2020 2020 2064 6966 5f70 7265 735f         dif_pres_
-0000fe00: 7265 7175 6573 7420 3d20 5632 3050 7265  request = V20Pre
-0000fe10: 7352 6571 7565 7374 280a 2020 2020 2020  sRequest(.      
-0000fe20: 2020 2020 2020 666f 726d 6174 733d 5b0a        formats=[.
-0000fe30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fe40: 5632 3050 7265 7346 6f72 6d61 7428 0a20  V20PresFormat(. 
-0000fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fe60: 2020 2061 7474 6163 685f 6964 3d22 6469     attach_id="di
-0000fe70: 6622 2c0a 2020 2020 2020 2020 2020 2020  f",.            
-0000fe80: 2020 2020 2020 2020 666f 726d 6174 5f3d          format_=
-0000fe90: 4154 5441 4348 4d45 4e54 5f46 4f52 4d41  ATTACHMENT_FORMA
-0000fea0: 545b 5052 4553 5f32 305f 5245 5155 4553  T[PRES_20_REQUES
-0000feb0: 545d 5b0a 2020 2020 2020 2020 2020 2020  T][.            
-0000fec0: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
-0000fed0: 7265 7346 6f72 6d61 742e 466f 726d 6174  resFormat.Format
-0000fee0: 2e44 4946 2e61 7069 0a20 2020 2020 2020  .DIF.api.       
-0000fef0: 2020 2020 2020 2020 2020 2020 205d 2c0a               ],.
-0000ff00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ff10: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-0000ff20: 0a20 2020 2020 2020 2020 2020 2072 6571  .            req
-0000ff30: 7565 7374 5f70 7265 7365 6e74 6174 696f  uest_presentatio
-0000ff40: 6e73 5f61 7474 6163 683d 5b0a 2020 2020  ns_attach=[.    
-0000ff50: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
-0000ff60: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
-0000ff70: 5f6a 736f 6e28 6469 665f 7072 6f6f 665f  _json(dif_proof_
-0000ff80: 7265 712c 2069 6465 6e74 3d22 6469 6622  req, ident="dif"
-0000ff90: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-0000ffa0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-0000ffb0: 2020 2072 6563 6f72 6420 3d20 5632 3050     record = V20P
-0000ffc0: 7265 7345 7852 6563 6f72 6428 0a20 2020  resExRecord(.   
-0000ffd0: 2020 2020 2020 2020 2070 7265 735f 6578           pres_ex
-0000ffe0: 5f69 643d 2270 7869 6422 2c0a 2020 2020  _id="pxid",.    
-0000fff0: 2020 2020 2020 2020 7468 7265 6164 5f69          thread_i
-00010000: 643d 2274 6869 6422 2c0a 2020 2020 2020  d="thid",.      
-00010010: 2020 2020 2020 636f 6e6e 6563 7469 6f6e        connection
-00010020: 5f69 643d 2263 6f6e 6e5f 6964 222c 0a20  _id="conn_id",. 
-00010030: 2020 2020 2020 2020 2020 2069 6e69 7469             initi
-00010040: 6174 6f72 3d22 696e 6974 222c 0a20 2020  ator="init",.   
-00010050: 2020 2020 2020 2020 2072 6f6c 653d 2272           role="r
-00010060: 6f6c 6522 2c0a 2020 2020 2020 2020 2020  ole",.          
-00010070: 2020 7374 6174 653d 2273 7461 7465 222c    state="state",
-00010080: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
-00010090: 735f 7265 7175 6573 743d 6469 665f 7072  s_request=dif_pr
-000100a0: 6573 5f72 6571 7565 7374 2c0a 2020 2020  es_request,.    
-000100b0: 2020 2020 2020 2020 7072 6573 3d64 6966          pres=dif
-000100c0: 5f70 7265 732c 0a20 2020 2020 2020 2020  _pres,.         
-000100d0: 2020 2076 6572 6966 6965 643d 2266 616c     verified="fal
-000100e0: 7365 222c 0a20 2020 2020 2020 2020 2020  se",.           
-000100f0: 2061 7574 6f5f 7072 6573 656e 743d 5472   auto_present=Tr
-00010100: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
-00010110: 6572 726f 725f 6d73 673d 2265 7272 6f72  error_msg="error
-00010120: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
-00010130: 2020 2020 2077 6974 6820 6173 796e 635f       with async_
-00010140: 6d6f 636b 2e70 6174 6368 2e6f 626a 6563  mock.patch.objec
-00010150: 7428 0a20 2020 2020 2020 2020 2020 2074  t(.            t
-00010160: 6573 745f 6d6f 6475 6c65 2e4c 4f47 4745  est_module.LOGGE
-00010170: 522c 2022 6572 726f 7222 2c20 6173 796e  R, "error", asyn
-00010180: 635f 6d6f 636b 2e4d 6167 6963 4d6f 636b  c_mock.MagicMock
-00010190: 2829 0a20 2020 2020 2020 2029 2061 7320  ().        ) as 
-000101a0: 6d6f 636b 5f6c 6f67 5f65 7272 3a0a 2020  mock_log_err:.  
-000101b0: 2020 2020 2020 2020 2020 6177 6169 7420            await 
-000101c0: 7365 6c66 2e68 616e 646c 6572 2e72 6563  self.handler.rec
-000101d0: 6569 7665 5f70 7265 7328 6d65 7373 6167  eive_pres(messag
-000101e0: 653d 6469 665f 7072 6573 2c20 7072 6573  e=dif_pres, pres
-000101f0: 5f65 785f 7265 636f 7264 3d72 6563 6f72  _ex_record=recor
-00010200: 6429 0a20 2020 2020 2020 2020 2020 206d  d).            m
-00010210: 6f63 6b5f 6c6f 675f 6572 722e 6173 7365  ock_log_err.asse
-00010220: 7274 5f63 616c 6c65 645f 6f6e 6365 2829  rt_called_once()
-00010230: 0a0a 2020 2020 6173 796e 6320 6465 6620  ..    async def 
-00010240: 7465 7374 5f76 6572 6966 795f 7265 6365  test_verify_rece
-00010250: 6976 6564 5f70 7265 735f 6e6f 5f6d 6174  ived_pres_no_mat
-00010260: 6368 5f62 2873 656c 6629 3a0a 2020 2020  ch_b(self):.    
-00010270: 2020 2020 6469 665f 7072 6f6f 665f 7265      dif_proof_re
-00010280: 7120 3d20 6465 6570 636f 7079 2844 4946  q = deepcopy(DIF
-00010290: 5f50 5245 535f 5245 5155 4553 545f 4229  _PRES_REQUEST_B)
-000102a0: 0a20 2020 2020 2020 2064 6966 5f70 726f  .        dif_pro
-000102b0: 6f66 5f72 6571 5b22 7072 6573 656e 7461  of_req["presenta
-000102c0: 7469 6f6e 5f64 6566 696e 6974 696f 6e22  tion_definition"
-000102d0: 5d5b 2269 6e70 7574 5f64 6573 6372 6970  ]["input_descrip
-000102e0: 746f 7273 225d 5b30 5d5b 2263 6f6e 7374  tors"][0]["const
-000102f0: 7261 696e 7473 225d 5b0a 2020 2020 2020  raints"][.      
-00010300: 2020 2020 2020 2266 6965 6c64 7322 0a20        "fields". 
-00010310: 2020 2020 2020 205d 5b30 5d5b 2266 696c         ][0]["fil
-00010320: 7465 7222 5d5b 2265 6e75 6d22 5d20 3d20  ter"]["enum"] = 
-00010330: 5b22 5465 7374 225d 0a0a 2020 2020 2020  ["Test"]..      
-00010340: 2020 6469 665f 7072 6573 203d 2056 3230    dif_pres = V20
-00010350: 5072 6573 280a 2020 2020 2020 2020 2020  Pres(.          
-00010360: 2020 666f 726d 6174 733d 5b0a 2020 2020    formats=[.    
-00010370: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
-00010380: 7265 7346 6f72 6d61 7428 0a20 2020 2020  resFormat(.     
-00010390: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000103a0: 7474 6163 685f 6964 3d22 6469 6622 2c0a  ttach_id="dif",.
-000103b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000103c0: 2020 2020 666f 726d 6174 5f3d 4154 5441      format_=ATTA
-000103d0: 4348 4d45 4e54 5f46 4f52 4d41 545b 5052  CHMENT_FORMAT[PR
-000103e0: 4553 5f32 305d 5b56 3230 5072 6573 466f  ES_20][V20PresFo
-000103f0: 726d 6174 2e46 6f72 6d61 742e 4449 462e  rmat.Format.DIF.
-00010400: 6170 695d 2c0a 2020 2020 2020 2020 2020  api],.          
-00010410: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00010420: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
-00010430: 2020 2070 7265 7365 6e74 6174 696f 6e73     presentations
-00010440: 5f61 7474 6163 683d 5b0a 2020 2020 2020  _attach=[.      
-00010450: 2020 2020 2020 2020 2020 4174 7461 6368            Attach
-00010460: 4465 636f 7261 746f 722e 6461 7461 5f6a  Decorator.data_j
-00010470: 736f 6e28 0a20 2020 2020 2020 2020 2020  son(.           
-00010480: 2020 2020 2020 2020 206d 6170 7069 6e67           mapping
-00010490: 3d44 4946 5f50 5245 532c 0a20 2020 2020  =DIF_PRES,.     
-000104a0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-000104b0: 6465 6e74 3d22 6469 6622 2c0a 2020 2020  dent="dif",.    
-000104c0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-000104d0: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-000104e0: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-000104f0: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
-00010500: 203d 2056 3230 5072 6573 5265 7175 6573   = V20PresReques
-00010510: 7428 0a20 2020 2020 2020 2020 2020 2066  t(.            f
-00010520: 6f72 6d61 7473 3d5b 0a20 2020 2020 2020  ormats=[.       
-00010530: 2020 2020 2020 2020 2056 3230 5072 6573           V20Pres
-00010540: 466f 726d 6174 280a 2020 2020 2020 2020  Format(.        
-00010550: 2020 2020 2020 2020 2020 2020 6174 7461              atta
-00010560: 6368 5f69 643d 2264 6966 222c 0a20 2020  ch_id="dif",.   
-00010570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010580: 2066 6f72 6d61 745f 3d41 5454 4143 484d   format_=ATTACHM
-00010590: 454e 545f 464f 524d 4154 5b50 5245 535f  ENT_FORMAT[PRES_
-000105a0: 3230 5f52 4551 5545 5354 5d5b 0a20 2020  20_REQUEST][.   
-000105b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000105c0: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
-000105d0: 6174 2e46 6f72 6d61 742e 4449 462e 6170  at.Format.DIF.ap
-000105e0: 690a 2020 2020 2020 2020 2020 2020 2020  i.              
-000105f0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00010600: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00010610: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-00010620: 2020 2020 2020 7265 7175 6573 745f 7072        request_pr
-00010630: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
-00010640: 6368 3d5b 0a20 2020 2020 2020 2020 2020  ch=[.           
-00010650: 2020 2020 2041 7474 6163 6844 6563 6f72       AttachDecor
-00010660: 6174 6f72 2e64 6174 615f 6a73 6f6e 2864  ator.data_json(d
-00010670: 6966 5f70 726f 6f66 5f72 6571 2c20 6964  if_proof_req, id
-00010680: 656e 743d 2264 6966 2229 0a20 2020 2020  ent="dif").     
-00010690: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-000106a0: 2020 290a 2020 2020 2020 2020 7265 636f    ).        reco
-000106b0: 7264 203d 2056 3230 5072 6573 4578 5265  rd = V20PresExRe
-000106c0: 636f 7264 280a 2020 2020 2020 2020 2020  cord(.          
-000106d0: 2020 7072 6573 5f65 785f 6964 3d22 7078    pres_ex_id="px
-000106e0: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
-000106f0: 2074 6872 6561 645f 6964 3d22 7468 6964   thread_id="thid
-00010700: 222c 0a20 2020 2020 2020 2020 2020 2063  ",.            c
-00010710: 6f6e 6e65 6374 696f 6e5f 6964 3d22 636f  onnection_id="co
-00010720: 6e6e 5f69 6422 2c0a 2020 2020 2020 2020  nn_id",.        
-00010730: 2020 2020 696e 6974 6961 746f 723d 2269      initiator="i
-00010740: 6e69 7422 2c0a 2020 2020 2020 2020 2020  nit",.          
-00010750: 2020 726f 6c65 3d22 726f 6c65 222c 0a20    role="role",. 
-00010760: 2020 2020 2020 2020 2020 2073 7461 7465             state
-00010770: 3d22 7374 6174 6522 2c0a 2020 2020 2020  ="state",.      
-00010780: 2020 2020 2020 7072 6573 5f72 6571 7565        pres_reque
-00010790: 7374 3d64 6966 5f70 7265 735f 7265 7175  st=dif_pres_requ
-000107a0: 6573 742c 0a20 2020 2020 2020 2020 2020  est,.           
-000107b0: 2070 7265 733d 6469 665f 7072 6573 2c0a   pres=dif_pres,.
-000107c0: 2020 2020 2020 2020 2020 2020 7665 7269              veri
-000107d0: 6669 6564 3d22 6661 6c73 6522 2c0a 2020  fied="false",.  
-000107e0: 2020 2020 2020 2020 2020 6175 746f 5f70            auto_p
-000107f0: 7265 7365 6e74 3d54 7275 652c 0a20 2020  resent=True,.   
-00010800: 2020 2020 2020 2020 2065 7272 6f72 5f6d           error_m
-00010810: 7367 3d22 6572 726f 7222 2c0a 2020 2020  sg="error",.    
-00010820: 2020 2020 290a 2020 2020 2020 2020 7769      ).        wi
-00010830: 7468 2061 7379 6e63 5f6d 6f63 6b2e 7061  th async_mock.pa
-00010840: 7463 682e 6f62 6a65 6374 280a 2020 2020  tch.object(.    
-00010850: 2020 2020 2020 2020 7465 7374 5f6d 6f64          test_mod
-00010860: 756c 652e 4c4f 4747 4552 2c20 2265 7272  ule.LOGGER, "err
-00010870: 6f72 222c 2061 7379 6e63 5f6d 6f63 6b2e  or", async_mock.
-00010880: 4d61 6769 634d 6f63 6b28 290a 2020 2020  MagicMock().    
-00010890: 2020 2020 2920 6173 206d 6f63 6b5f 6c6f      ) as mock_lo
-000108a0: 675f 6572 723a 0a20 2020 2020 2020 2020  g_err:.         
-000108b0: 2020 2061 7761 6974 2073 656c 662e 6861     await self.ha
-000108c0: 6e64 6c65 722e 7265 6365 6976 655f 7072  ndler.receive_pr
-000108d0: 6573 286d 6573 7361 6765 3d64 6966 5f70  es(message=dif_p
-000108e0: 7265 732c 2070 7265 735f 6578 5f72 6563  res, pres_ex_rec
-000108f0: 6f72 643d 7265 636f 7264 290a 2020 2020  ord=record).    
-00010900: 2020 2020 2020 2020 6d6f 636b 5f6c 6f67          mock_log
-00010910: 5f65 7272 2e61 7373 6572 745f 6361 6c6c  _err.assert_call
-00010920: 6564 5f6f 6e63 6528 290a 0a20 2020 2061  ed_once()..    a
-00010930: 7379 6e63 2064 6566 2074 6573 745f 7665  sync def test_ve
-00010940: 7269 6679 5f72 6563 6569 7665 645f 7072  rify_received_pr
-00010950: 6573 5f6c 696d 6974 5f64 6973 636c 6f73  es_limit_disclos
-00010960: 7572 655f 6661 696c 5f61 2873 656c 6629  ure_fail_a(self)
-00010970: 3a0a 2020 2020 2020 2020 6469 665f 7072  :.        dif_pr
-00010980: 6f6f 6620 3d20 6465 6570 636f 7079 2844  oof = deepcopy(D
-00010990: 4946 5f50 5245 5329 0a20 2020 2020 2020  IF_PRES).       
-000109a0: 2064 6966 5f70 726f 6f66 5b22 7665 7269   dif_proof["veri
-000109b0: 6669 6162 6c65 4372 6564 656e 7469 616c  fiableCredential
-000109c0: 225d 5b30 5d5b 2265 7870 6972 6174 696f  "][0]["expiratio
-000109d0: 6e44 6174 6522 5d20 3d20 2254 6573 7422  nDate"] = "Test"
-000109e0: 0a20 2020 2020 2020 2064 6966 5f70 7265  .        dif_pre
-000109f0: 7320 3d20 5632 3050 7265 7328 0a20 2020  s = V20Pres(.   
-00010a00: 2020 2020 2020 2020 2066 6f72 6d61 7473           formats
-00010a10: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
-00010a20: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
-00010a30: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-00010a40: 2020 2020 2020 6174 7461 6368 5f69 643d        attach_id=
-00010a50: 2264 6966 222c 0a20 2020 2020 2020 2020  "dif",.         
-00010a60: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
-00010a70: 745f 3d41 5454 4143 484d 454e 545f 464f  t_=ATTACHMENT_FO
-00010a80: 524d 4154 5b50 5245 535f 3230 5d5b 5632  RMAT[PRES_20][V2
-00010a90: 3050 7265 7346 6f72 6d61 742e 466f 726d  0PresFormat.Form
-00010aa0: 6174 2e44 4946 2e61 7069 5d2c 0a20 2020  at.DIF.api],.   
-00010ab0: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-00010ac0: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00010ad0: 2020 2020 2020 2020 2020 7072 6573 656e            presen
-00010ae0: 7461 7469 6f6e 735f 6174 7461 6368 3d5b  tations_attach=[
-00010af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010b00: 2041 7474 6163 6844 6563 6f72 6174 6f72   AttachDecorator
-00010b10: 2e64 6174 615f 6a73 6f6e 280a 2020 2020  .data_json(.    
-00010b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010b30: 6d61 7070 696e 673d 6469 665f 7072 6f6f  mapping=dif_proo
-00010b40: 662c 0a20 2020 2020 2020 2020 2020 2020  f,.             
-00010b50: 2020 2020 2020 2069 6465 6e74 3d22 6469         ident="di
-00010b60: 6622 2c0a 2020 2020 2020 2020 2020 2020  f",.            
-00010b70: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
-00010b80: 2020 5d2c 0a20 2020 2020 2020 2029 0a0a    ],.        )..
-00010b90: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-00010ba0: 5f72 6571 7565 7374 203d 2056 3230 5072  _request = V20Pr
-00010bb0: 6573 5265 7175 6573 7428 0a20 2020 2020  esRequest(.     
-00010bc0: 2020 2020 2020 2066 6f72 6d61 7473 3d5b         formats=[
-00010bd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010be0: 2056 3230 5072 6573 466f 726d 6174 280a   V20PresFormat(.
-00010bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010c00: 2020 2020 6174 7461 6368 5f69 643d 2264      attach_id="d
-00010c10: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
-00010c20: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
-00010c30: 3d41 5454 4143 484d 454e 545f 464f 524d  =ATTACHMENT_FORM
-00010c40: 4154 5b50 5245 535f 3230 5f52 4551 5545  AT[PRES_20_REQUE
-00010c50: 5354 5d5b 0a20 2020 2020 2020 2020 2020  ST][.           
-00010c60: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-00010c70: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
-00010c80: 742e 4449 462e 6170 690a 2020 2020 2020  t.DIF.api.      
-00010c90: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-00010ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00010cb0: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
-00010cc0: 2c0a 2020 2020 2020 2020 2020 2020 7265  ,.            re
-00010cd0: 7175 6573 745f 7072 6573 656e 7461 7469  quest_presentati
-00010ce0: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
-00010cf0: 2020 2020 2020 2020 2020 2020 2041 7474               Att
-00010d00: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
-00010d10: 615f 6a73 6f6e 2844 4946 5f50 5245 535f  a_json(DIF_PRES_
-00010d20: 5245 5155 4553 545f 422c 2069 6465 6e74  REQUEST_B, ident
-00010d30: 3d22 6469 6622 290a 2020 2020 2020 2020  ="dif").        
-00010d40: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
-00010d50: 0a20 2020 2020 2020 2072 6563 6f72 6420  .        record 
-00010d60: 3d20 5632 3050 7265 7345 7852 6563 6f72  = V20PresExRecor
-00010d70: 6428 0a20 2020 2020 2020 2020 2020 2070  d(.            p
-00010d80: 7265 735f 6578 5f69 643d 2270 7869 6422  res_ex_id="pxid"
-00010d90: 2c0a 2020 2020 2020 2020 2020 2020 7468  ,.            th
-00010da0: 7265 6164 5f69 643d 2274 6869 6422 2c0a  read_id="thid",.
-00010db0: 2020 2020 2020 2020 2020 2020 636f 6e6e              conn
-00010dc0: 6563 7469 6f6e 5f69 643d 2263 6f6e 6e5f  ection_id="conn_
-00010dd0: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
-00010de0: 2069 6e69 7469 6174 6f72 3d22 696e 6974   initiator="init
-00010df0: 222c 0a20 2020 2020 2020 2020 2020 2072  ",.            r
-00010e00: 6f6c 653d 2272 6f6c 6522 2c0a 2020 2020  ole="role",.    
-00010e10: 2020 2020 2020 2020 7374 6174 653d 2273          state="s
-00010e20: 7461 7465 222c 0a20 2020 2020 2020 2020  tate",.         
-00010e30: 2020 2070 7265 735f 7265 7175 6573 743d     pres_request=
-00010e40: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
-00010e50: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
-00010e60: 6573 3d64 6966 5f70 7265 732c 0a20 2020  es=dif_pres,.   
-00010e70: 2020 2020 2020 2020 2076 6572 6966 6965           verifie
-00010e80: 643d 2266 616c 7365 222c 0a20 2020 2020  d="false",.     
-00010e90: 2020 2020 2020 2061 7574 6f5f 7072 6573         auto_pres
-00010ea0: 656e 743d 5472 7565 2c0a 2020 2020 2020  ent=True,.      
-00010eb0: 2020 2020 2020 6572 726f 725f 6d73 673d        error_msg=
-00010ec0: 2265 7272 6f72 222c 0a20 2020 2020 2020  "error",.       
-00010ed0: 2029 0a20 2020 2020 2020 2077 6974 6820   ).        with 
-00010ee0: 6173 796e 635f 6d6f 636b 2e70 6174 6368  async_mock.patch
-00010ef0: 2e6f 626a 6563 7428 0a20 2020 2020 2020  .object(.       
-00010f00: 2020 2020 2074 6573 745f 6d6f 6475 6c65       test_module
-00010f10: 2e4c 4f47 4745 522c 2022 6572 726f 7222  .LOGGER, "error"
-00010f20: 2c20 6173 796e 635f 6d6f 636b 2e4d 6167  , async_mock.Mag
-00010f30: 6963 4d6f 636b 2829 0a20 2020 2020 2020  icMock().       
-00010f40: 2029 2061 7320 6d6f 636b 5f6c 6f67 5f65   ) as mock_log_e
-00010f50: 7272 3a0a 2020 2020 2020 2020 2020 2020  rr:.            
-00010f60: 6177 6169 7420 7365 6c66 2e68 616e 646c  await self.handl
-00010f70: 6572 2e72 6563 6569 7665 5f70 7265 7328  er.receive_pres(
-00010f80: 6d65 7373 6167 653d 6469 665f 7072 6573  message=dif_pres
-00010f90: 2c20 7072 6573 5f65 785f 7265 636f 7264  , pres_ex_record
-00010fa0: 3d72 6563 6f72 6429 0a20 2020 2020 2020  =record).       
-00010fb0: 2020 2020 206d 6f63 6b5f 6c6f 675f 6572       mock_log_er
-00010fc0: 722e 6173 7365 7274 5f63 616c 6c65 645f  r.assert_called_
-00010fd0: 6f6e 6365 2829 0a0a 2020 2020 6173 796e  once()..    asyn
-00010fe0: 6320 6465 6620 7465 7374 5f76 6572 6966  c def test_verif
-00010ff0: 795f 7265 6365 6976 6564 5f70 7265 735f  y_received_pres_
-00011000: 6c69 6d69 745f 6469 7363 6c6f 7375 7265  limit_disclosure
-00011010: 5f66 6169 6c5f 6228 7365 6c66 293a 0a20  _fail_b(self):. 
-00011020: 2020 2020 2020 2064 6966 5f70 726f 6f66         dif_proof
-00011030: 203d 2064 6565 7063 6f70 7928 4449 465f   = deepcopy(DIF_
-00011040: 5052 4553 290a 2020 2020 2020 2020 6469  PRES).        di
-00011050: 665f 7072 6f6f 665b 2276 6572 6966 6961  f_proof["verifia
-00011060: 626c 6543 7265 6465 6e74 6961 6c22 5d5b  bleCredential"][
-00011070: 305d 5b22 6372 6564 656e 7469 616c 5375  0]["credentialSu
-00011080: 626a 6563 7422 5d5b 2274 6573 7422 5d20  bject"]["test"] 
-00011090: 3d20 2254 6573 7422 0a20 2020 2020 2020  = "Test".       
-000110a0: 2064 6966 5f70 7265 7320 3d20 5632 3050   dif_pres = V20P
-000110b0: 7265 7328 0a20 2020 2020 2020 2020 2020  res(.           
-000110c0: 2066 6f72 6d61 7473 3d5b 0a20 2020 2020   formats=[.     
-000110d0: 2020 2020 2020 2020 2020 2056 3230 5072             V20Pr
-000110e0: 6573 466f 726d 6174 280a 2020 2020 2020  esFormat(.      
-000110f0: 2020 2020 2020 2020 2020 2020 2020 6174                at
-00011100: 7461 6368 5f69 643d 2264 6966 222c 0a20  tach_id="dif",. 
-00011110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011120: 2020 2066 6f72 6d61 745f 3d41 5454 4143     format_=ATTAC
-00011130: 484d 454e 545f 464f 524d 4154 5b50 5245  HMENT_FORMAT[PRE
-00011140: 535f 3230 5d5b 5632 3050 7265 7346 6f72  S_20][V20PresFor
-00011150: 6d61 742e 466f 726d 6174 2e44 4946 2e61  mat.Format.DIF.a
-00011160: 7069 5d2c 0a20 2020 2020 2020 2020 2020  pi],.           
-00011170: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
-00011180: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
-00011190: 2020 7072 6573 656e 7461 7469 6f6e 735f    presentations_
-000111a0: 6174 7461 6368 3d5b 0a20 2020 2020 2020  attach=[.       
-000111b0: 2020 2020 2020 2020 2041 7474 6163 6844           AttachD
-000111c0: 6563 6f72 6174 6f72 2e64 6174 615f 6a73  ecorator.data_js
-000111d0: 6f6e 280a 2020 2020 2020 2020 2020 2020  on(.            
-000111e0: 2020 2020 2020 2020 6d61 7070 696e 673d          mapping=
-000111f0: 6469 665f 7072 6f6f 662c 0a20 2020 2020  dif_proof,.     
-00011200: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00011210: 6465 6e74 3d22 6469 6622 2c0a 2020 2020  dent="dif",.    
-00011220: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00011230: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-00011240: 2020 2020 2029 0a0a 2020 2020 2020 2020       )..        
-00011250: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
-00011260: 203d 2056 3230 5072 6573 5265 7175 6573   = V20PresReques
-00011270: 7428 0a20 2020 2020 2020 2020 2020 2066  t(.            f
-00011280: 6f72 6d61 7473 3d5b 0a20 2020 2020 2020  ormats=[.       
-00011290: 2020 2020 2020 2020 2056 3230 5072 6573           V20Pres
-000112a0: 466f 726d 6174 280a 2020 2020 2020 2020  Format(.        
-000112b0: 2020 2020 2020 2020 2020 2020 6174 7461              atta
-000112c0: 6368 5f69 643d 2264 6966 222c 0a20 2020  ch_id="dif",.   
-000112d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000112e0: 2066 6f72 6d61 745f 3d41 5454 4143 484d   format_=ATTACHM
-000112f0: 454e 545f 464f 524d 4154 5b50 5245 535f  ENT_FORMAT[PRES_
-00011300: 3230 5f52 4551 5545 5354 5d5b 0a20 2020  20_REQUEST][.   
-00011310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011320: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
-00011330: 6174 2e46 6f72 6d61 742e 4449 462e 6170  at.Format.DIF.ap
-00011340: 690a 2020 2020 2020 2020 2020 2020 2020  i.              
-00011350: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00011360: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
-00011370: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
-00011380: 2020 2020 2020 7265 7175 6573 745f 7072        request_pr
-00011390: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
-000113a0: 6368 3d5b 0a20 2020 2020 2020 2020 2020  ch=[.           
-000113b0: 2020 2020 2041 7474 6163 6844 6563 6f72       AttachDecor
-000113c0: 6174 6f72 2e64 6174 615f 6a73 6f6e 2844  ator.data_json(D
-000113d0: 4946 5f50 5245 535f 5245 5155 4553 545f  IF_PRES_REQUEST_
-000113e0: 422c 2069 6465 6e74 3d22 6469 6622 290a  B, ident="dif").
-000113f0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00011400: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
-00011410: 2072 6563 6f72 6420 3d20 5632 3050 7265   record = V20Pre
-00011420: 7345 7852 6563 6f72 6428 0a20 2020 2020  sExRecord(.     
-00011430: 2020 2020 2020 2070 7265 735f 6578 5f69         pres_ex_i
-00011440: 643d 2270 7869 6422 2c0a 2020 2020 2020  d="pxid",.      
-00011450: 2020 2020 2020 7468 7265 6164 5f69 643d        thread_id=
-00011460: 2274 6869 6422 2c0a 2020 2020 2020 2020  "thid",.        
-00011470: 2020 2020 636f 6e6e 6563 7469 6f6e 5f69      connection_i
-00011480: 643d 2263 6f6e 6e5f 6964 222c 0a20 2020  d="conn_id",.   
-00011490: 2020 2020 2020 2020 2069 6e69 7469 6174           initiat
-000114a0: 6f72 3d22 696e 6974 222c 0a20 2020 2020  or="init",.     
-000114b0: 2020 2020 2020 2072 6f6c 653d 2272 6f6c         role="rol
-000114c0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
-000114d0: 7374 6174 653d 2273 7461 7465 222c 0a20  state="state",. 
-000114e0: 2020 2020 2020 2020 2020 2070 7265 735f             pres_
-000114f0: 7265 7175 6573 743d 6469 665f 7072 6573  request=dif_pres
-00011500: 5f72 6571 7565 7374 2c0a 2020 2020 2020  _request,.      
-00011510: 2020 2020 2020 7072 6573 3d64 6966 5f70        pres=dif_p
-00011520: 7265 732c 0a20 2020 2020 2020 2020 2020  res,.           
-00011530: 2076 6572 6966 6965 643d 2266 616c 7365   verified="false
-00011540: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
-00011550: 7574 6f5f 7072 6573 656e 743d 5472 7565  uto_present=True
-00011560: 2c0a 2020 2020 2020 2020 2020 2020 6572  ,.            er
-00011570: 726f 725f 6d73 673d 2265 7272 6f72 222c  ror_msg="error",
-00011580: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-00011590: 2020 2077 6974 6820 6173 796e 635f 6d6f     with async_mo
-000115a0: 636b 2e70 6174 6368 2e6f 626a 6563 7428  ck.patch.object(
-000115b0: 0a20 2020 2020 2020 2020 2020 2074 6573  .            tes
-000115c0: 745f 6d6f 6475 6c65 2e4c 4f47 4745 522c  t_module.LOGGER,
-000115d0: 2022 6572 726f 7222 2c20 6173 796e 635f   "error", async_
-000115e0: 6d6f 636b 2e4d 6167 6963 4d6f 636b 2829  mock.MagicMock()
-000115f0: 0a20 2020 2020 2020 2029 2061 7320 6d6f  .        ) as mo
-00011600: 636b 5f6c 6f67 5f65 7272 3a0a 2020 2020  ck_log_err:.    
-00011610: 2020 2020 2020 2020 6177 6169 7420 7365          await se
-00011620: 6c66 2e68 616e 646c 6572 2e72 6563 6569  lf.handler.recei
-00011630: 7665 5f70 7265 7328 6d65 7373 6167 653d  ve_pres(message=
-00011640: 6469 665f 7072 6573 2c20 7072 6573 5f65  dif_pres, pres_e
-00011650: 785f 7265 636f 7264 3d72 6563 6f72 6429  x_record=record)
-00011660: 0a20 2020 2020 2020 2020 2020 206d 6f63  .            moc
-00011670: 6b5f 6c6f 675f 6572 722e 6173 7365 7274  k_log_err.assert
-00011680: 5f63 616c 6c65 645f 6f6e 6365 2829 0a0a  _called_once()..
-00011690: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
-000116a0: 7374 5f76 6572 6966 795f 7265 6365 6976  st_verify_receiv
-000116b0: 6564 5f70 7265 735f 6661 696c 5f73 6368  ed_pres_fail_sch
-000116c0: 656d 615f 6669 6c74 6572 2873 656c 6629  ema_filter(self)
-000116d0: 3a0a 2020 2020 2020 2020 6469 665f 7072  :.        dif_pr
-000116e0: 6f6f 6620 3d20 6465 6570 636f 7079 2844  oof = deepcopy(D
-000116f0: 4946 5f50 5245 5329 0a20 2020 2020 2020  IF_PRES).       
-00011700: 2063 7265 645f 6469 6374 203d 2064 6565   cred_dict = dee
-00011710: 7063 6f70 7928 5445 5354 5f43 5245 445f  pcopy(TEST_CRED_
-00011720: 4449 4354 290a 2020 2020 2020 2020 6372  DICT).        cr
-00011730: 6564 5f64 6963 745b 2263 7265 6465 6e74  ed_dict["credent
-00011740: 6961 6c53 7562 6a65 6374 225d 5b22 5061  ialSubject"]["Pa
-00011750: 7469 656e 7422 5d20 3d20 5b0a 2020 2020  tient"] = [.    
-00011760: 2020 2020 2020 2020 7b0a 2020 2020 2020          {.      
-00011770: 2020 2020 2020 2020 2020 2261 6464 7265            "addre
-00011780: 7373 223a 205b 0a20 2020 2020 2020 2020  ss": [.         
-00011790: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-000117a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000117b0: 2020 2020 2022 4069 6422 3a20 2275 726e       "@id": "urn
-000117c0: 3a62 6e69 643a 5f3a 6331 346e 3122 2c0a  :bnid:_:c14n1",.
-000117d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000117e0: 2020 2020 2020 2020 2263 6974 7922 3a20          "city": 
-000117f0: 22d0 a0d1 83d0 bcd0 b022 2c0a 2020 2020  "........",.    
-00011800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011810: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
-00011820: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
-00011830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011840: 2022 4069 6422 3a20 2275 726e 3a62 6e69   "@id": "urn:bni
-00011850: 643a 5f3a 6331 346e 3122 2c0a 2020 2020  d:_:c14n1",.    
-00011860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011870: 2020 2020 2263 6974 7922 3a20 22d0 a0d1      "city": "...
-00011880: 83d0 bcd0 b022 2c0a 2020 2020 2020 2020  .....",.        
-00011890: 2020 2020 2020 2020 2020 2020 7d2c 0a20              },. 
-000118a0: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
-000118b0: 0a20 2020 2020 2020 2020 2020 207d 2c0a  .            },.
-000118c0: 2020 2020 2020 2020 2020 2020 7b0a 2020              {.  
-000118d0: 2020 2020 2020 2020 2020 2020 2020 2261                "a
-000118e0: 6464 7265 7373 223a 205b 0a20 2020 2020  ddress": [.     
-000118f0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
-00011900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011910: 2020 2020 2020 2020 2022 4069 6422 3a20           "@id": 
-00011920: 2275 726e 3a62 6e69 643a 5f3a 6331 346e  "urn:bnid:_:c14n
-00011930: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
-00011940: 2020 2020 2020 2020 2020 2020 2263 6974              "cit
-00011950: 7922 3a20 22d0 a0d1 83d0 bcd0 b022 2c0a  y": "........",.
-00011960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011970: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
-00011980: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
-00011990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000119a0: 2020 2020 2022 4069 6422 3a20 2275 726e       "@id": "urn
-000119b0: 3a62 6e69 643a 5f3a 6331 346e 3122 2c0a  :bnid:_:c14n1",.
-000119c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000119d0: 2020 2020 2020 2020 2263 6974 7922 3a20          "city": 
-000119e0: 22d0 a0d1 83d0 bcd0 b022 2c0a 2020 2020  "........",.    
-000119f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011a00: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
-00011a10: 2020 205d 0a20 2020 2020 2020 2020 2020     ].           
-00011a20: 207d 2c0a 2020 2020 2020 2020 5d0a 2020   },.        ].  
-00011a30: 2020 2020 2020 6469 665f 7072 6f6f 665b        dif_proof[
-00011a40: 2276 6572 6966 6961 626c 6543 7265 6465  "verifiableCrede
-00011a50: 6e74 6961 6c22 5d20 3d20 5b5d 0a20 2020  ntial"] = [].   
-00011a60: 2020 2020 2064 6966 5f70 726f 6f66 5b22       dif_proof["
-00011a70: 7665 7269 6669 6162 6c65 4372 6564 656e  verifiableCreden
-00011a80: 7469 616c 225d 2e61 7070 656e 6428 6372  tial"].append(cr
-00011a90: 6564 5f64 6963 7429 0a20 2020 2020 2020  ed_dict).       
-00011aa0: 2064 6966 5f70 726f 6f66 5b22 7665 7269   dif_proof["veri
-00011ab0: 6669 6162 6c65 4372 6564 656e 7469 616c  fiableCredential
-00011ac0: 225d 2e61 7070 656e 6428 6372 6564 5f64  "].append(cred_d
-00011ad0: 6963 7429 0a20 2020 2020 2020 2064 6966  ict).        dif
-00011ae0: 5f70 7265 7320 3d20 5632 3050 7265 7328  _pres = V20Pres(
-00011af0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-00011b00: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
-00011b10: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
-00011b20: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
-00011b30: 2020 2020 2020 2020 2020 6174 7461 6368            attach
-00011b40: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
-00011b50: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00011b60: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
-00011b70: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
-00011b80: 5d5b 5632 3050 7265 7346 6f72 6d61 742e  ][V20PresFormat.
-00011b90: 466f 726d 6174 2e44 4946 2e61 7069 5d2c  Format.DIF.api],
-00011ba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011bb0: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
-00011bc0: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
-00011bd0: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
-00011be0: 6368 3d5b 0a20 2020 2020 2020 2020 2020  ch=[.           
-00011bf0: 2020 2020 2041 7474 6163 6844 6563 6f72       AttachDecor
-00011c00: 6174 6f72 2e64 6174 615f 6a73 6f6e 280a  ator.data_json(.
-00011c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011c20: 2020 2020 6d61 7070 696e 673d 6469 665f      mapping=dif_
-00011c30: 7072 6f6f 662c 0a20 2020 2020 2020 2020  proof,.         
-00011c40: 2020 2020 2020 2020 2020 2069 6465 6e74             ident
-00011c50: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
-00011c60: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00011c70: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00011c80: 2029 0a20 2020 2020 2020 2070 7265 735f   ).        pres_
-00011c90: 7265 7175 6573 7420 3d20 6465 6570 636f  request = deepco
-00011ca0: 7079 2844 4946 5f50 5245 535f 5245 5155  py(DIF_PRES_REQU
-00011cb0: 4553 545f 4229 0a20 2020 2020 2020 2070  EST_B).        p
-00011cc0: 7265 735f 7265 7175 6573 745b 2270 7265  res_request["pre
-00011cd0: 7365 6e74 6174 696f 6e5f 6465 6669 6e69  sentation_defini
-00011ce0: 7469 6f6e 225d 5b22 696e 7075 745f 6465  tion"]["input_de
-00011cf0: 7363 7269 7074 6f72 7322 5d5b 305d 5b0a  scriptors"][0][.
-00011d00: 2020 2020 2020 2020 2020 2020 2263 6f6e              "con
-00011d10: 7374 7261 696e 7473 220a 2020 2020 2020  straints".      
-00011d20: 2020 5d20 3d20 7b0a 2020 2020 2020 2020    ] = {.        
-00011d30: 2020 2020 226c 696d 6974 5f64 6973 636c      "limit_discl
-00011d40: 6f73 7572 6522 3a20 2272 6571 7569 7265  osure": "require
-00011d50: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-00011d60: 2266 6965 6c64 7322 3a20 5b0a 2020 2020  "fields": [.    
-00011d70: 2020 2020 2020 2020 2020 2020 7b0a 2020              {.  
-00011d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011d90: 2020 2270 6174 6822 3a20 5b22 242e 6372    "path": ["$.cr
-00011da0: 6564 656e 7469 616c 5375 626a 6563 742e  edentialSubject.
-00011db0: 5061 7469 656e 745b 305d 2e61 6464 7265  Patient[0].addre
-00011dc0: 7373 5b2a 5d2e 6369 7479 225d 2c0a 2020  ss[*].city"],.  
-00011dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011de0: 2020 2270 7572 706f 7365 223a 2022 5465    "purpose": "Te
-00011df0: 7374 222c 0a20 2020 2020 2020 2020 2020  st",.           
-00011e00: 2020 2020 207d 0a20 2020 2020 2020 2020       }.         
-00011e10: 2020 205d 2c0a 2020 2020 2020 2020 7d0a     ],.        }.
-00011e20: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
-00011e30: 5f72 6571 7565 7374 203d 2056 3230 5072  _request = V20Pr
-00011e40: 6573 5265 7175 6573 7428 0a20 2020 2020  esRequest(.     
-00011e50: 2020 2020 2020 2066 6f72 6d61 7473 3d5b         formats=[
-00011e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011e70: 2056 3230 5072 6573 466f 726d 6174 280a   V20PresFormat(.
-00011e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011e90: 2020 2020 6174 7461 6368 5f69 643d 2264      attach_id="d
-00011ea0: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
-00011eb0: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
-00011ec0: 3d41 5454 4143 484d 454e 545f 464f 524d  =ATTACHMENT_FORM
-00011ed0: 4154 5b50 5245 535f 3230 5f52 4551 5545  AT[PRES_20_REQUE
-00011ee0: 5354 5d5b 0a20 2020 2020 2020 2020 2020  ST][.           
-00011ef0: 2020 2020 2020 2020 2020 2020 2056 3230               V20
-00011f00: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
-00011f10: 742e 4449 462e 6170 690a 2020 2020 2020  t.DIF.api.      
-00011f20: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
-00011f30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00011f40: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
-00011f50: 2c0a 2020 2020 2020 2020 2020 2020 7265  ,.            re
-00011f60: 7175 6573 745f 7072 6573 656e 7461 7469  quest_presentati
-00011f70: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
-00011f80: 2020 2020 2020 2020 2020 2020 2041 7474               Att
-00011f90: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
-00011fa0: 615f 6a73 6f6e 2870 7265 735f 7265 7175  a_json(pres_requ
-00011fb0: 6573 742c 2069 6465 6e74 3d22 6469 6622  est, ident="dif"
-00011fc0: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
-00011fd0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
-00011fe0: 2020 2072 6563 6f72 6420 3d20 5632 3050     record = V20P
-00011ff0: 7265 7345 7852 6563 6f72 6428 0a20 2020  resExRecord(.   
-00012000: 2020 2020 2020 2020 2070 7265 735f 6578           pres_ex
-00012010: 5f69 643d 2270 7869 6422 2c0a 2020 2020  _id="pxid",.    
-00012020: 2020 2020 2020 2020 7468 7265 6164 5f69          thread_i
-00012030: 643d 2274 6869 6422 2c0a 2020 2020 2020  d="thid",.      
-00012040: 2020 2020 2020 636f 6e6e 6563 7469 6f6e        connection
-00012050: 5f69 643d 2263 6f6e 6e5f 6964 222c 0a20  _id="conn_id",. 
-00012060: 2020 2020 2020 2020 2020 2069 6e69 7469             initi
-00012070: 6174 6f72 3d22 696e 6974 222c 0a20 2020  ator="init",.   
-00012080: 2020 2020 2020 2020 2072 6f6c 653d 2272           role="r
-00012090: 6f6c 6522 2c0a 2020 2020 2020 2020 2020  ole",.          
-000120a0: 2020 7374 6174 653d 2273 7461 7465 222c    state="state",
-000120b0: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
-000120c0: 735f 7265 7175 6573 743d 6469 665f 7072  s_request=dif_pr
-000120d0: 6573 5f72 6571 7565 7374 2c0a 2020 2020  es_request,.    
-000120e0: 2020 2020 2020 2020 7072 6573 3d64 6966          pres=dif
-000120f0: 5f70 7265 732c 0a20 2020 2020 2020 2020  _pres,.         
-00012100: 2020 2076 6572 6966 6965 643d 2266 616c     verified="fal
-00012110: 7365 222c 0a20 2020 2020 2020 2020 2020  se",.           
-00012120: 2061 7574 6f5f 7072 6573 656e 743d 5472   auto_present=Tr
-00012130: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
-00012140: 6572 726f 725f 6d73 673d 2265 7272 6f72  error_msg="error
-00012150: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
-00012160: 2020 2020 2077 6974 6820 6173 796e 635f       with async_
-00012170: 6d6f 636b 2e70 6174 6368 2e6f 626a 6563  mock.patch.objec
-00012180: 7428 0a20 2020 2020 2020 2020 2020 2074  t(.            t
-00012190: 6573 745f 6d6f 6475 6c65 2e4c 4f47 4745  est_module.LOGGE
-000121a0: 522c 2022 6572 726f 7222 2c20 6173 796e  R, "error", asyn
-000121b0: 635f 6d6f 636b 2e4d 6167 6963 4d6f 636b  c_mock.MagicMock
-000121c0: 2829 0a20 2020 2020 2020 2029 2061 7320  ().        ) as 
-000121d0: 6d6f 636b 5f6c 6f67 5f65 7272 2c20 6173  mock_log_err, as
-000121e0: 796e 635f 6d6f 636b 2e70 6174 6368 2e6f  ync_mock.patch.o
-000121f0: 626a 6563 7428 0a20 2020 2020 2020 2020  bject(.         
-00012200: 2020 206a 736f 6e6c 642c 2022 6578 7061     jsonld, "expa
-00012210: 6e64 222c 2061 7379 6e63 5f6d 6f63 6b2e  nd", async_mock.
-00012220: 4d61 6769 634d 6f63 6b28 290a 2020 2020  MagicMock().    
-00012230: 2020 2020 2920 6173 206d 6f63 6b5f 6a73      ) as mock_js
-00012240: 6f6e 6c64 5f65 7870 616e 643a 0a20 2020  onld_expand:.   
-00012250: 2020 2020 2020 2020 206d 6f63 6b5f 6a73           mock_js
-00012260: 6f6e 6c64 5f65 7870 616e 642e 7265 7475  onld_expand.retu
-00012270: 726e 5f76 616c 7565 203d 2045 5850 414e  rn_value = EXPAN
-00012280: 4445 445f 4352 4544 5f46 4849 525f 5459  DED_CRED_FHIR_TY
-00012290: 5045 5f32 0a20 2020 2020 2020 2020 2020  PE_2.           
-000122a0: 2061 7761 6974 2073 656c 662e 6861 6e64   await self.hand
-000122b0: 6c65 722e 7265 6365 6976 655f 7072 6573  ler.receive_pres
-000122c0: 286d 6573 7361 6765 3d64 6966 5f70 7265  (message=dif_pre
-000122d0: 732c 2070 7265 735f 6578 5f72 6563 6f72  s, pres_ex_recor
-000122e0: 643d 7265 636f 7264 290a 2020 2020 2020  d=record).      
-000122f0: 2020 2020 2020 6d6f 636b 5f6c 6f67 5f65        mock_log_e
-00012300: 7272 2e61 7373 6572 745f 6361 6c6c 6564  rr.assert_called
-00012310: 5f6f 6e63 6528 290a 0a20 2020 2061 7379  _once()..    asy
-00012320: 6e63 2064 6566 2074 6573 745f 6372 6561  nc def test_crea
-00012330: 7465 5f70 7265 735f 6361 7463 685f 7479  te_pres_catch_ty
-00012340: 7065 6572 726f 7228 7365 6c66 293a 0a20  peerror(self):. 
-00012350: 2020 2020 2020 2073 656c 662e 636f 6e74         self.cont
-00012360: 6578 742e 696e 6a65 6374 6f72 2e62 696e  ext.injector.bin
-00012370: 645f 696e 7374 616e 6365 280a 2020 2020  d_instance(.    
-00012380: 2020 2020 2020 2020 5643 486f 6c64 6572          VCHolder
-00012390: 2c0a 2020 2020 2020 2020 2020 2020 6173  ,.            as
-000123a0: 796e 635f 6d6f 636b 2e4d 6167 6963 4d6f  ync_mock.MagicMo
-000123b0: 636b 280a 2020 2020 2020 2020 2020 2020  ck(.            
-000123c0: 2020 2020 7365 6172 6368 5f63 7265 6465      search_crede
-000123d0: 6e74 6961 6c73 3d61 7379 6e63 5f6d 6f63  ntials=async_moc
-000123e0: 6b2e 4d61 6769 634d 6f63 6b28 7369 6465  k.MagicMock(side
-000123f0: 5f65 6666 6563 743d 5479 7065 4572 726f  _effect=TypeErro
-00012400: 7229 0a20 2020 2020 2020 2020 2020 2029  r).            )
-00012410: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
-00012420: 2020 2020 7465 7374 5f70 6420 3d20 6465      test_pd = de
-00012430: 6570 636f 7079 2844 4946 5f50 5245 535f  epcopy(DIF_PRES_
-00012440: 5245 5155 4553 545f 4229 0a20 2020 2020  REQUEST_B).     
-00012450: 2020 2064 6966 5f70 7265 735f 7265 7175     dif_pres_requ
-00012460: 6573 7420 3d20 5632 3050 7265 7352 6571  est = V20PresReq
-00012470: 7565 7374 280a 2020 2020 2020 2020 2020  uest(.          
-00012480: 2020 666f 726d 6174 733d 5b0a 2020 2020    formats=[.    
-00012490: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
-000124a0: 7265 7346 6f72 6d61 7428 0a20 2020 2020  resFormat(.     
-000124b0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000124c0: 7474 6163 685f 6964 3d22 6469 6622 2c0a  ttach_id="dif",.
-000124d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000124e0: 2020 2020 666f 726d 6174 5f3d 4154 5441      format_=ATTA
-000124f0: 4348 4d45 4e54 5f46 4f52 4d41 545b 5052  CHMENT_FORMAT[PR
-00012500: 4553 5f32 305f 5245 5155 4553 545d 5b0a  ES_20_REQUEST][.
-00012510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012520: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
-00012530: 6f72 6d61 742e 466f 726d 6174 2e44 4946  ormat.Format.DIF
-00012540: 2e61 7069 0a20 2020 2020 2020 2020 2020  .api.           
-00012550: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
-00012560: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-00012570: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
-00012580: 2020 2020 2020 2020 2072 6571 7565 7374           request
-00012590: 5f70 7265 7365 6e74 6174 696f 6e73 5f61  _presentations_a
-000125a0: 7474 6163 683d 5b0a 2020 2020 2020 2020  ttach=[.        
-000125b0: 2020 2020 2020 2020 4174 7461 6368 4465          AttachDe
-000125c0: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
-000125d0: 6e28 7465 7374 5f70 642c 2069 6465 6e74  n(test_pd, ident
-000125e0: 3d22 6469 6622 290a 2020 2020 2020 2020  ="dif").        
-000125f0: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
-00012600: 0a20 2020 2020 2020 2072 6563 6f72 6420  .        record 
-00012610: 3d20 5632 3050 7265 7345 7852 6563 6f72  = V20PresExRecor
-00012620: 6428 0a20 2020 2020 2020 2020 2020 2070  d(.            p
-00012630: 7265 735f 6578 5f69 643d 2270 7869 6422  res_ex_id="pxid"
-00012640: 2c0a 2020 2020 2020 2020 2020 2020 7468  ,.            th
-00012650: 7265 6164 5f69 643d 2274 6869 6422 2c0a  read_id="thid",.
-00012660: 2020 2020 2020 2020 2020 2020 636f 6e6e              conn
-00012670: 6563 7469 6f6e 5f69 643d 2263 6f6e 6e5f  ection_id="conn_
-00012680: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
-00012690: 2069 6e69 7469 6174 6f72 3d22 696e 6974   initiator="init
-000126a0: 222c 0a20 2020 2020 2020 2020 2020 2072  ",.            r
-000126b0: 6f6c 653d 2272 6f6c 6522 2c0a 2020 2020  ole="role",.    
-000126c0: 2020 2020 2020 2020 7374 6174 653d 2273          state="s
-000126d0: 7461 7465 222c 0a20 2020 2020 2020 2020  tate",.         
-000126e0: 2020 2070 7265 735f 7265 7175 6573 743d     pres_request=
-000126f0: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
-00012700: 2c0a 2020 2020 2020 2020 2020 2020 7665  ,.            ve
-00012710: 7269 6669 6564 3d22 6661 6c73 6522 2c0a  rified="false",.
-00012720: 2020 2020 2020 2020 2020 2020 6175 746f              auto
-00012730: 5f70 7265 7365 6e74 3d54 7275 652c 0a20  _present=True,. 
-00012740: 2020 2020 2020 2020 2020 2065 7272 6f72             error
-00012750: 5f6d 7367 3d22 6572 726f 7222 2c0a 2020  _msg="error",.  
-00012760: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
-00012770: 6177 6169 7420 7365 6c66 2e68 616e 646c  await self.handl
-00012780: 6572 2e63 7265 6174 655f 7072 6573 2872  er.create_pres(r
-00012790: 6563 6f72 6429 0a0a 2020 2020 6173 796e  ecord)..    asyn
-000127a0: 6320 6465 6620 7465 7374 5f63 7265 6174  c def test_creat
-000127b0: 655f 7072 6573 5f63 6174 6368 5f64 6966  e_pres_catch_dif
-000127c0: 6572 726f 7228 7365 6c66 293a 0a20 2020  error(self):.   
-000127d0: 2020 2020 2063 7265 645f 6c69 7374 203d       cred_list =
-000127e0: 205b 0a20 2020 2020 2020 2020 2020 2056   [.            V
-000127f0: 4352 6563 6f72 6428 0a20 2020 2020 2020  CRecord(.       
-00012800: 2020 2020 2020 2020 2063 6f6e 7465 7874           context
-00012810: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
-00012820: 2020 2020 2020 2020 2268 7474 7073 3a2f          "https:/
-00012830: 2f77 7777 2e77 332e 6f72 672f 3230 3138  /www.w3.org/2018
-00012840: 2f63 7265 6465 6e74 6961 6c73 2f76 3122  /credentials/v1"
-00012850: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00012860: 2020 2020 2020 2268 7474 7073 3a2f 2f77        "https://w
-00012870: 7777 2e77 332e 6f72 672f 3230 3138 2f63  ww.w3.org/2018/c
-00012880: 7265 6465 6e74 6961 6c73 2f65 7861 6d70  redentials/examp
-00012890: 6c65 732f 7631 222c 0a20 2020 2020 2020  les/v1",.       
-000128a0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
-000128b0: 2020 2020 2020 2020 2020 2020 6578 7061              expa
-000128c0: 6e64 6564 5f74 7970 6573 3d5b 0a20 2020  nded_types=[.   
-000128d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000128e0: 2022 6874 7470 733a 2f2f 7777 772e 7733   "https://www.w3
-000128f0: 2e6f 7267 2f32 3031 382f 6372 6564 656e  .org/2018/creden
-00012900: 7469 616c 7323 5665 7269 6669 6162 6c65  tials#Verifiable
-00012910: 4372 6564 656e 7469 616c 222c 0a20 2020  Credential",.   
-00012920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012930: 2022 6874 7470 733a 2f2f 6578 616d 706c   "https://exampl
-00012940: 652e 6f72 672f 6578 616d 706c 6573 2355  e.org/examples#U
-00012950: 6e69 7665 7273 6974 7944 6567 7265 6543  niversityDegreeC
-00012960: 7265 6465 6e74 6961 6c22 2c0a 2020 2020  redential",.    
-00012970: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00012980: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00012990: 7373 7565 725f 6964 3d22 6469 643a 6578  ssuer_id="did:ex
-000129a0: 616d 706c 653a 3438 3933 3938 3539 3322  ample:489398593"
-000129b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000129c0: 2020 7375 626a 6563 745f 6964 733d 5b0a    subject_ids=[.
-000129d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000129e0: 2020 2020 2264 6964 3a73 6f76 3a57 6757      "did:sov:WgW
-000129f0: 7871 7a74 724e 6f6f 4739 3252 5876 7853  xqztrNooG92RXvxS
-00012a00: 5457 7622 2c0a 2020 2020 2020 2020 2020  TWv",.          
-00012a10: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00012a20: 2020 2020 2020 2020 2070 726f 6f66 5f74           proof_t
-00012a30: 7970 6573 3d5b 2245 6432 3535 3139 5369  ypes=["Ed25519Si
-00012a40: 676e 6174 7572 6532 3031 3822 5d2c 0a20  gnature2018"],. 
-00012a50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00012a60: 6368 656d 615f 6964 733d 5b22 6874 7470  chema_ids=["http
-00012a70: 733a 2f2f 6578 616d 706c 652e 6f72 672f  s://example.org/
-00012a80: 6578 616d 706c 6573 2f64 6567 7265 652e  examples/degree.
-00012a90: 6a73 6f6e 225d 2c0a 2020 2020 2020 2020  json"],.        
-00012aa0: 2020 2020 2020 2020 6372 6564 5f76 616c          cred_val
-00012ab0: 7565 3d7b 222e 2e2e 222c 2022 2e2e 2e22  ue={"...", "..."
-00012ac0: 7d2c 0a20 2020 2020 2020 2020 2020 2020  },.             
-00012ad0: 2020 2067 6976 656e 5f69 643d 2268 7474     given_id="htt
-00012ae0: 703a 2f2f 6578 616d 706c 652e 6564 752f  p://example.edu/
-00012af0: 6372 6564 656e 7469 616c 732f 3337 3332  credentials/3732
-00012b00: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-00012b10: 2020 2063 7265 645f 7461 6773 3d7b 2273     cred_tags={"s
-00012b20: 6f6d 6522 3a20 2274 6167 227d 2c0a 2020  ome": "tag"},.  
-00012b30: 2020 2020 2020 2020 2020 2020 2020 7265                re
-00012b40: 636f 7264 5f69 643d 2274 6573 7431 222c  cord_id="test1",
-00012b50: 0a20 2020 2020 2020 2020 2020 2029 0a20  .            ). 
-00012b60: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
-00012b70: 2073 656c 662e 636f 6e74 6578 742e 696e   self.context.in
-00012b80: 6a65 6374 6f72 2e62 696e 645f 696e 7374  jector.bind_inst
-00012b90: 616e 6365 280a 2020 2020 2020 2020 2020  ance(.          
-00012ba0: 2020 5643 486f 6c64 6572 2c0a 2020 2020    VCHolder,.    
-00012bb0: 2020 2020 2020 2020 6173 796e 635f 6d6f          async_mo
-00012bc0: 636b 2e4d 6167 6963 4d6f 636b 280a 2020  ck.MagicMock(.  
-00012bd0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00012be0: 6172 6368 5f63 7265 6465 6e74 6961 6c73  arch_credentials
-00012bf0: 3d61 7379 6e63 5f6d 6f63 6b2e 4d61 6769  =async_mock.Magi
-00012c00: 634d 6f63 6b28 0a20 2020 2020 2020 2020  cMock(.         
-00012c10: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00012c20: 6e5f 7661 6c75 653d 6173 796e 635f 6d6f  n_value=async_mo
-00012c30: 636b 2e4d 6167 6963 4d6f 636b 280a 2020  ck.MagicMock(.  
-00012c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012c50: 2020 2020 2020 6665 7463 683d 6173 796e        fetch=asyn
-00012c60: 635f 6d6f 636b 2e43 6f72 6f75 7469 6e65  c_mock.Coroutine
-00012c70: 4d6f 636b 2872 6574 7572 6e5f 7661 6c75  Mock(return_valu
-00012c80: 653d 6372 6564 5f6c 6973 7429 0a20 2020  e=cred_list).   
-00012c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012ca0: 2029 0a20 2020 2020 2020 2020 2020 2020   ).             
-00012cb0: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
-00012cc0: 2029 2c0a 2020 2020 2020 2020 290a 2020   ),.        ).  
-00012cd0: 2020 2020 2020 7465 7374 5f70 6420 3d20        test_pd = 
-00012ce0: 6465 6570 636f 7079 2844 4946 5f50 5245  deepcopy(DIF_PRE
-00012cf0: 535f 5245 5155 4553 545f 4229 0a20 2020  S_REQUEST_B).   
-00012d00: 2020 2020 2064 6966 5f70 7265 735f 7265       dif_pres_re
-00012d10: 7175 6573 7420 3d20 5632 3050 7265 7352  quest = V20PresR
-00012d20: 6571 7565 7374 280a 2020 2020 2020 2020  equest(.        
-00012d30: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
-00012d40: 2020 2020 2020 2020 2020 2020 2020 5632                V2
-00012d50: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
-00012d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012d70: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
-00012d80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00012d90: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
-00012da0: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
-00012db0: 5052 4553 5f32 305f 5245 5155 4553 545d  PRES_20_REQUEST]
-00012dc0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00012dd0: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
-00012de0: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
-00012df0: 4946 2e61 7069 0a20 2020 2020 2020 2020  IF.api.         
-00012e00: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
-00012e10: 2020 2020 2020 2020 2020 2020 2020 290a                ).
-00012e20: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
-00012e30: 2020 2020 2020 2020 2020 2072 6571 7565             reque
-00012e40: 7374 5f70 7265 7365 6e74 6174 696f 6e73  st_presentations
-00012e50: 5f61 7474 6163 683d 5b0a 2020 2020 2020  _attach=[.      
-00012e60: 2020 2020 2020 2020 2020 4174 7461 6368            Attach
-00012e70: 4465 636f 7261 746f 722e 6461 7461 5f6a  Decorator.data_j
-00012e80: 736f 6e28 7465 7374 5f70 642c 2069 6465  son(test_pd, ide
-00012e90: 6e74 3d22 6469 6622 290a 2020 2020 2020  nt="dif").      
-00012ea0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
-00012eb0: 2029 0a20 2020 2020 2020 2072 6563 6f72   ).        recor
-00012ec0: 6420 3d20 5632 3050 7265 7345 7852 6563  d = V20PresExRec
-00012ed0: 6f72 6428 0a20 2020 2020 2020 2020 2020  ord(.           
-00012ee0: 2070 7265 735f 6578 5f69 643d 2270 7869   pres_ex_id="pxi
-00012ef0: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
-00012f00: 7468 7265 6164 5f69 643d 2274 6869 6422  thread_id="thid"
-00012f10: 2c0a 2020 2020 2020 2020 2020 2020 636f  ,.            co
-00012f20: 6e6e 6563 7469 6f6e 5f69 643d 2263 6f6e  nnection_id="con
-00012f30: 6e5f 6964 222c 0a20 2020 2020 2020 2020  n_id",.         
-00012f40: 2020 2069 6e69 7469 6174 6f72 3d22 696e     initiator="in
-00012f50: 6974 222c 0a20 2020 2020 2020 2020 2020  it",.           
-00012f60: 2072 6f6c 653d 2272 6f6c 6522 2c0a 2020   role="role",.  
-00012f70: 2020 2020 2020 2020 2020 7374 6174 653d            state=
-00012f80: 2273 7461 7465 222c 0a20 2020 2020 2020  "state",.       
-00012f90: 2020 2020 2070 7265 735f 7265 7175 6573       pres_reques
-00012fa0: 743d 6469 665f 7072 6573 5f72 6571 7565  t=dif_pres_reque
-00012fb0: 7374 2c0a 2020 2020 2020 2020 2020 2020  st,.            
-00012fc0: 7665 7269 6669 6564 3d22 6661 6c73 6522  verified="false"
-00012fd0: 2c0a 2020 2020 2020 2020 2020 2020 6175  ,.            au
-00012fe0: 746f 5f70 7265 7365 6e74 3d54 7275 652c  to_present=True,
-00012ff0: 0a20 2020 2020 2020 2020 2020 2065 7272  .            err
-00013000: 6f72 5f6d 7367 3d22 6572 726f 7222 2c0a  or_msg="error",.
-00013010: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
-00013020: 2020 7769 7468 2061 7379 6e63 5f6d 6f63    with async_moc
-00013030: 6b2e 7061 7463 682e 6f62 6a65 6374 280a  k.patch.object(.
-00013040: 2020 2020 2020 2020 2020 2020 4449 4650              DIFP
-00013050: 7265 7345 7863 6848 616e 646c 6572 2c20  resExchHandler, 
-00013060: 2263 7265 6174 655f 7670 222c 2061 7379  "create_vp", asy
-00013070: 6e63 5f6d 6f63 6b2e 4d61 6769 634d 6f63  nc_mock.MagicMoc
-00013080: 6b28 290a 2020 2020 2020 2020 2920 6173  k().        ) as
-00013090: 206d 6f63 6b5f 6372 6561 7465 5f76 703a   mock_create_vp:
-000130a0: 0a20 2020 2020 2020 2020 2020 206d 6f63  .            moc
-000130b0: 6b5f 6372 6561 7465 5f76 702e 7369 6465  k_create_vp.side
-000130c0: 5f65 6666 6563 7420 3d20 4449 4650 7265  _effect = DIFPre
-000130d0: 7345 7863 6845 7272 6f72 2822 5445 5354  sExchError("TEST
-000130e0: 2229 0a20 2020 2020 2020 2020 2020 2061  ").            a
-000130f0: 7761 6974 2073 656c 662e 6861 6e64 6c65  wait self.handle
-00013100: 722e 6372 6561 7465 5f70 7265 7328 7265  r.create_pres(re
-00013110: 636f 7264 290a                           cord).
+0000fd90: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
+0000fda0: 742e 466f 726d 6174 2e44 4946 2e61 7069  t.Format.DIF.api
+0000fdb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000fdc0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+0000fdd0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+0000fde0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+0000fdf0: 2020 2020 2072 6571 7565 7374 5f70 7265       request_pre
+0000fe00: 7365 6e74 6174 696f 6e73 5f61 7474 6163  sentations_attac
+0000fe10: 683d 5b0a 2020 2020 2020 2020 2020 2020  h=[.            
+0000fe20: 2020 2020 4174 7461 6368 4465 636f 7261      AttachDecora
+0000fe30: 746f 722e 6461 7461 5f6a 736f 6e28 4449  tor.data_json(DI
+0000fe40: 465f 5052 4553 5f52 4551 5545 5354 5f53  F_PRES_REQUEST_S
+0000fe50: 4551 5545 4e43 452c 2069 6465 6e74 3d22  EQUENCE, ident="
+0000fe60: 6469 6622 290a 2020 2020 2020 2020 2020  dif").          
+0000fe70: 2020 5d2c 0a20 2020 2020 2020 2029 0a20    ],.        ). 
+0000fe80: 2020 2020 2020 2072 6563 6f72 6420 3d20         record = 
+0000fe90: 5632 3050 7265 7345 7852 6563 6f72 6428  V20PresExRecord(
+0000fea0: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+0000feb0: 735f 6578 5f69 643d 2270 7869 6422 2c0a  s_ex_id="pxid",.
+0000fec0: 2020 2020 2020 2020 2020 2020 7468 7265              thre
+0000fed0: 6164 5f69 643d 2274 6869 6422 2c0a 2020  ad_id="thid",.  
+0000fee0: 2020 2020 2020 2020 2020 636f 6e6e 6563            connec
+0000fef0: 7469 6f6e 5f69 643d 2263 6f6e 6e5f 6964  tion_id="conn_id
+0000ff00: 222c 0a20 2020 2020 2020 2020 2020 2069  ",.            i
+0000ff10: 6e69 7469 6174 6f72 3d22 696e 6974 222c  nitiator="init",
+0000ff20: 0a20 2020 2020 2020 2020 2020 2072 6f6c  .            rol
+0000ff30: 653d 2272 6f6c 6522 2c0a 2020 2020 2020  e="role",.      
+0000ff40: 2020 2020 2020 7374 6174 653d 2273 7461        state="sta
+0000ff50: 7465 222c 0a20 2020 2020 2020 2020 2020  te",.           
+0000ff60: 2070 7265 735f 7265 7175 6573 743d 6469   pres_request=di
+0000ff70: 665f 7072 6573 5f72 6571 7565 7374 2c0a  f_pres_request,.
+0000ff80: 2020 2020 2020 2020 2020 2020 7072 6573              pres
+0000ff90: 3d64 6966 5f70 7265 732c 0a20 2020 2020  =dif_pres,.     
+0000ffa0: 2020 2020 2020 2076 6572 6966 6965 643d         verified=
+0000ffb0: 2266 616c 7365 222c 0a20 2020 2020 2020  "false",.       
+0000ffc0: 2020 2020 2061 7574 6f5f 7072 6573 656e       auto_presen
+0000ffd0: 743d 5472 7565 2c0a 2020 2020 2020 2020  t=True,.        
+0000ffe0: 2020 2020 6572 726f 725f 6d73 673d 2265      error_msg="e
+0000fff0: 7272 6f72 222c 0a20 2020 2020 2020 2029  rror",.        )
+00010000: 0a20 2020 2020 2020 2061 7761 6974 2073  .        await s
+00010010: 656c 662e 6861 6e64 6c65 722e 7265 6365  elf.handler.rece
+00010020: 6976 655f 7072 6573 286d 6573 7361 6765  ive_pres(message
+00010030: 3d64 6966 5f70 7265 732c 2070 7265 735f  =dif_pres, pres_
+00010040: 6578 5f72 6563 6f72 643d 7265 636f 7264  ex_record=record
+00010050: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00010060: 2074 6573 745f 7665 7269 6679 5f72 6563   test_verify_rec
+00010070: 6569 7665 645f 6c69 6d69 745f 6469 7363  eived_limit_disc
+00010080: 6c6f 7375 7265 5f61 2873 656c 6629 3a0a  losure_a(self):.
+00010090: 2020 2020 2020 2020 6469 665f 7072 6f6f          dif_proo
+000100a0: 6620 3d20 6465 6570 636f 7079 2844 4946  f = deepcopy(DIF
+000100b0: 5f50 5245 5329 0a20 2020 2020 2020 2063  _PRES).        c
+000100c0: 7265 645f 6469 6374 203d 2064 6565 7063  red_dict = deepc
+000100d0: 6f70 7928 5445 5354 5f43 5245 445f 4449  opy(TEST_CRED_DI
+000100e0: 4354 290a 2020 2020 2020 2020 6372 6564  CT).        cred
+000100f0: 5f64 6963 745b 2263 7265 6465 6e74 6961  _dict["credentia
+00010100: 6c53 7562 6a65 6374 225d 5b22 5061 7469  lSubject"]["Pati
+00010110: 656e 7422 5d20 3d20 5b0a 2020 2020 2020  ent"] = [.      
+00010120: 2020 2020 2020 7b0a 2020 2020 2020 2020        {.        
+00010130: 2020 2020 2020 2020 2261 6464 7265 7373          "address
+00010140: 223a 205b 0a20 2020 2020 2020 2020 2020  ": [.           
+00010150: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
+00010160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010170: 2020 2022 4069 6422 3a20 2275 726e 3a62     "@id": "urn:b
+00010180: 6e69 643a 5f3a 6331 346e 3122 2c0a 2020  nid:_:c14n1",.  
+00010190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000101a0: 2020 2020 2020 2263 6974 7922 3a20 22d0        "city": ".
+000101b0: a0d1 83d0 bcd0 b022 2c0a 2020 2020 2020  .......",.      
+000101c0: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
+000101d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000101e0: 2020 2020 207b 0a20 2020 2020 2020 2020       {.         
+000101f0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00010200: 4069 6422 3a20 2275 726e 3a62 6e69 643a  @id": "urn:bnid:
+00010210: 5f3a 6331 346e 3122 2c0a 2020 2020 2020  _:c14n1",.      
+00010220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010230: 2020 2263 6974 7922 3a20 22d0 a0d1 83d0    "city": ".....
+00010240: bcd0 b022 2c0a 2020 2020 2020 2020 2020  ...",.          
+00010250: 2020 2020 2020 2020 2020 7d2c 0a20 2020            },.   
+00010260: 2020 2020 2020 2020 2020 2020 205d 0a20               ]. 
+00010270: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
+00010280: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00010290: 2020 2020 2020 2020 2020 2020 2261 6464              "add
+000102a0: 7265 7373 223a 205b 0a20 2020 2020 2020  ress": [.       
+000102b0: 2020 2020 2020 2020 2020 2020 207b 0a20               {. 
+000102c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000102d0: 2020 2020 2020 2022 4069 6422 3a20 2275         "@id": "u
+000102e0: 726e 3a62 6e69 643a 5f3a 6331 346e 3122  rn:bnid:_:c14n1"
+000102f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00010300: 2020 2020 2020 2020 2020 2263 6974 7922            "city"
+00010310: 3a20 22d0 a0d1 83d0 bcd0 b022 2c0a 2020  : "........",.  
+00010320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010330: 2020 7d2c 0a20 2020 2020 2020 2020 2020    },.           
+00010340: 2020 2020 2020 2020 207b 0a20 2020 2020           {.     
+00010350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010360: 2020 2022 4069 6422 3a20 2275 726e 3a62     "@id": "urn:b
+00010370: 6e69 643a 5f3a 6331 346e 3122 2c0a 2020  nid:_:c14n1",.  
+00010380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010390: 2020 2020 2020 2263 6974 7922 3a20 22d0        "city": ".
+000103a0: a0d1 83d0 bcd0 b022 2c0a 2020 2020 2020  .......",.      
+000103b0: 2020 2020 2020 2020 2020 2020 2020 7d2c                },
+000103c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000103d0: 205d 0a20 2020 2020 2020 2020 2020 207d   ].            }
+000103e0: 2c0a 2020 2020 2020 2020 5d0a 2020 2020  ,.        ].    
+000103f0: 2020 2020 6469 665f 7072 6f6f 665b 2276      dif_proof["v
+00010400: 6572 6966 6961 626c 6543 7265 6465 6e74  erifiableCredent
+00010410: 6961 6c22 5d20 3d20 5b5d 0a20 2020 2020  ial"] = [].     
+00010420: 2020 2064 6966 5f70 726f 6f66 5b22 7665     dif_proof["ve
+00010430: 7269 6669 6162 6c65 4372 6564 656e 7469  rifiableCredenti
+00010440: 616c 225d 2e61 7070 656e 6428 6372 6564  al"].append(cred
+00010450: 5f64 6963 7429 0a20 2020 2020 2020 2064  _dict).        d
+00010460: 6966 5f70 726f 6f66 5b22 7665 7269 6669  if_proof["verifi
+00010470: 6162 6c65 4372 6564 656e 7469 616c 225d  ableCredential"]
+00010480: 2e61 7070 656e 6428 6372 6564 5f64 6963  .append(cred_dic
+00010490: 7429 0a20 2020 2020 2020 2064 6966 5f70  t).        dif_p
+000104a0: 7265 7320 3d20 5632 3050 7265 7328 0a20  res = V20Pres(. 
+000104b0: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+000104c0: 7473 3d5b 0a20 2020 2020 2020 2020 2020  ts=[.           
+000104d0: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
+000104e0: 6174 280a 2020 2020 2020 2020 2020 2020  at(.            
+000104f0: 2020 2020 2020 2020 6174 7461 6368 5f69          attach_i
+00010500: 643d 2264 6966 222c 0a20 2020 2020 2020  d="dif",.       
+00010510: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00010520: 6d61 745f 3d41 5454 4143 484d 454e 545f  mat_=ATTACHMENT_
+00010530: 464f 524d 4154 5b50 5245 535f 3230 5d5b  FORMAT[PRES_20][
+00010540: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
+00010550: 726d 6174 2e44 4946 2e61 7069 5d2c 0a20  rmat.DIF.api],. 
+00010560: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00010570: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
+00010580: 2020 2020 2020 2020 2020 2020 7072 6573              pres
+00010590: 656e 7461 7469 6f6e 735f 6174 7461 6368  entations_attach
+000105a0: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+000105b0: 2020 2041 7474 6163 6844 6563 6f72 6174     AttachDecorat
+000105c0: 6f72 2e64 6174 615f 6a73 6f6e 280a 2020  or.data_json(.  
+000105d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000105e0: 2020 6d61 7070 696e 673d 6469 665f 7072    mapping=dif_pr
+000105f0: 6f6f 662c 0a20 2020 2020 2020 2020 2020  oof,.           
+00010600: 2020 2020 2020 2020 2069 6465 6e74 3d22           ident="
+00010610: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
+00010620: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00010630: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
+00010640: 0a20 2020 2020 2020 2070 7265 735f 7265  .        pres_re
+00010650: 7175 6573 7420 3d20 6465 6570 636f 7079  quest = deepcopy
+00010660: 2844 4946 5f50 5245 535f 5245 5155 4553  (DIF_PRES_REQUES
+00010670: 545f 4229 0a20 2020 2020 2020 2070 7265  T_B).        pre
+00010680: 735f 7265 7175 6573 745b 2270 7265 7365  s_request["prese
+00010690: 6e74 6174 696f 6e5f 6465 6669 6e69 7469  ntation_definiti
+000106a0: 6f6e 225d 5b22 696e 7075 745f 6465 7363  on"]["input_desc
+000106b0: 7269 7074 6f72 7322 5d5b 305d 5b0a 2020  riptors"][0][.  
+000106c0: 2020 2020 2020 2020 2020 2263 6f6e 7374            "const
+000106d0: 7261 696e 7473 220a 2020 2020 2020 2020  raints".        
+000106e0: 5d20 3d20 7b0a 2020 2020 2020 2020 2020  ] = {.          
+000106f0: 2020 226c 696d 6974 5f64 6973 636c 6f73    "limit_disclos
+00010700: 7572 6522 3a20 2272 6571 7569 7265 6422  ure": "required"
+00010710: 2c0a 2020 2020 2020 2020 2020 2020 2266  ,.            "f
+00010720: 6965 6c64 7322 3a20 5b0a 2020 2020 2020  ields": [.      
+00010730: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00010740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010750: 2270 6174 6822 3a20 5b22 242e 6372 6564  "path": ["$.cred
+00010760: 656e 7469 616c 5375 626a 6563 742e 5061  entialSubject.Pa
+00010770: 7469 656e 745b 305d 2e61 6464 7265 7373  tient[0].address
+00010780: 5b2a 5d2e 6369 7479 225d 2c0a 2020 2020  [*].city"],.    
+00010790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107a0: 2270 7572 706f 7365 223a 2022 5465 7374  "purpose": "Test
+000107b0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+000107c0: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
+000107d0: 205d 2c0a 2020 2020 2020 2020 7d0a 2020   ],.        }.  
+000107e0: 2020 2020 2020 7072 6573 5f72 6571 7565        pres_reque
+000107f0: 7374 5b22 7072 6573 656e 7461 7469 6f6e  st["presentation
+00010800: 5f64 6566 696e 6974 696f 6e22 5d5b 2269  _definition"]["i
+00010810: 6e70 7574 5f64 6573 6372 6970 746f 7273  nput_descriptors
+00010820: 225d 5b30 5d5b 2273 6368 656d 6122 5d20  "][0]["schema"] 
+00010830: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00010840: 226f 6e65 6f66 5f66 696c 7465 7222 3a20  "oneof_filter": 
+00010850: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
+00010860: 2020 5b0a 2020 2020 2020 2020 2020 2020    [.            
+00010870: 2020 2020 2020 2020 7b22 7572 6922 3a20          {"uri": 
+00010880: 2268 7474 7073 3a2f 2f77 7777 2e77 332e  "https://www.w3.
+00010890: 6f72 672f 3230 3138 2f63 7265 6465 6e74  org/2018/credent
+000108a0: 6961 6c73 2356 6572 6966 6961 626c 6543  ials#VerifiableC
+000108b0: 7265 6465 6e74 6961 6c22 7d2c 0a20 2020  redential"},.   
+000108c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000108d0: 207b 2275 7269 223a 2022 6874 7470 733a   {"uri": "https:
+000108e0: 2f2f 7777 772e 7664 656c 2e63 6f6d 2f4d  //www.vdel.com/M
+000108f0: 6564 6963 616c 5061 7373 227d 2c0a 2020  edicalPass"},.  
+00010900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010910: 2020 7b22 7572 6922 3a20 2268 7474 703a    {"uri": "http:
+00010920: 2f2f 686c 372e 6f72 672f 6668 6972 2f50  //hl7.org/fhir/P
+00010930: 6174 6965 6e74 227d 2c0a 2020 2020 2020  atient"},.      
+00010940: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00010950: 2020 2020 2020 2020 2020 2020 205b 0a20               [. 
+00010960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010970: 2020 207b 2275 7269 223a 2022 6874 7470     {"uri": "http
+00010980: 733a 2f2f 7777 772e 7733 2e6f 7267 2f32  s://www.w3.org/2
+00010990: 3031 382f 6372 6564 656e 7469 616c 7323  018/credentials#
+000109a0: 5665 7269 6669 6162 6c65 4372 6564 656e  VerifiableCreden
+000109b0: 7469 616c 227d 2c0a 2020 2020 2020 2020  tial"},.        
+000109c0: 2020 2020 2020 2020 2020 2020 7b22 7572              {"ur
+000109d0: 6922 3a20 2268 7474 7073 3a2f 2f77 3369  i": "https://w3i
+000109e0: 642e 6f72 672f 6369 7469 7a65 6e73 6869  d.org/citizenshi
+000109f0: 7023 5065 726d 616e 656e 7452 6573 6964  p#PermanentResid
+00010a00: 656e 7443 6172 6422 7d2c 0a20 2020 2020  entCard"},.     
+00010a10: 2020 2020 2020 2020 2020 205d 2c0a 2020             ],.  
+00010a20: 2020 2020 2020 2020 2020 5d0a 2020 2020            ].    
+00010a30: 2020 2020 7d0a 2020 2020 2020 2020 6469      }.        di
+00010a40: 665f 7072 6573 5f72 6571 7565 7374 203d  f_pres_request =
+00010a50: 2056 3230 5072 6573 5265 7175 6573 7428   V20PresRequest(
+00010a60: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+00010a70: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
+00010a80: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
+00010a90: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+00010aa0: 2020 2020 2020 2020 2020 6174 7461 6368            attach
+00010ab0: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
+00010ac0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00010ad0: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
+00010ae0: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
+00010af0: 5f52 4551 5545 5354 5d5b 0a20 2020 2020  _REQUEST][.     
+00010b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010b10: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
+00010b20: 2e46 6f72 6d61 742e 4449 462e 6170 690a  .Format.DIF.api.
+00010b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010b40: 2020 2020 5d2c 0a20 2020 2020 2020 2020      ],.         
+00010b50: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00010b60: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+00010b70: 2020 2020 7265 7175 6573 745f 7072 6573      request_pres
+00010b80: 656e 7461 7469 6f6e 735f 6174 7461 6368  entations_attach
+00010b90: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+00010ba0: 2020 2041 7474 6163 6844 6563 6f72 6174     AttachDecorat
+00010bb0: 6f72 2e64 6174 615f 6a73 6f6e 2870 7265  or.data_json(pre
+00010bc0: 735f 7265 7175 6573 742c 2069 6465 6e74  s_request, ident
+00010bd0: 3d22 6469 6622 290a 2020 2020 2020 2020  ="dif").        
+00010be0: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
+00010bf0: 0a20 2020 2020 2020 2072 6563 6f72 6420  .        record 
+00010c00: 3d20 5632 3050 7265 7345 7852 6563 6f72  = V20PresExRecor
+00010c10: 6428 0a20 2020 2020 2020 2020 2020 2070  d(.            p
+00010c20: 7265 735f 6578 5f69 643d 2270 7869 6422  res_ex_id="pxid"
+00010c30: 2c0a 2020 2020 2020 2020 2020 2020 7468  ,.            th
+00010c40: 7265 6164 5f69 643d 2274 6869 6422 2c0a  read_id="thid",.
+00010c50: 2020 2020 2020 2020 2020 2020 636f 6e6e              conn
+00010c60: 6563 7469 6f6e 5f69 643d 2263 6f6e 6e5f  ection_id="conn_
+00010c70: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00010c80: 2069 6e69 7469 6174 6f72 3d22 696e 6974   initiator="init
+00010c90: 222c 0a20 2020 2020 2020 2020 2020 2072  ",.            r
+00010ca0: 6f6c 653d 2272 6f6c 6522 2c0a 2020 2020  ole="role",.    
+00010cb0: 2020 2020 2020 2020 7374 6174 653d 2273          state="s
+00010cc0: 7461 7465 222c 0a20 2020 2020 2020 2020  tate",.         
+00010cd0: 2020 2070 7265 735f 7265 7175 6573 743d     pres_request=
+00010ce0: 6469 665f 7072 6573 5f72 6571 7565 7374  dif_pres_request
+00010cf0: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
+00010d00: 6573 3d64 6966 5f70 7265 732c 0a20 2020  es=dif_pres,.   
+00010d10: 2020 2020 2020 2020 2076 6572 6966 6965           verifie
+00010d20: 643d 2266 616c 7365 222c 0a20 2020 2020  d="false",.     
+00010d30: 2020 2020 2020 2061 7574 6f5f 7072 6573         auto_pres
+00010d40: 656e 743d 5472 7565 2c0a 2020 2020 2020  ent=True,.      
+00010d50: 2020 2020 2020 6572 726f 725f 6d73 673d        error_msg=
+00010d60: 2265 7272 6f72 222c 0a20 2020 2020 2020  "error",.       
+00010d70: 2029 0a20 2020 2020 2020 2077 6974 6820   ).        with 
+00010d80: 6173 796e 635f 6d6f 636b 2e70 6174 6368  async_mock.patch
+00010d90: 2e6f 626a 6563 7428 0a20 2020 2020 2020  .object(.       
+00010da0: 2020 2020 206a 736f 6e6c 642c 2022 6578       jsonld, "ex
+00010db0: 7061 6e64 222c 2061 7379 6e63 5f6d 6f63  pand", async_moc
+00010dc0: 6b2e 4d61 6769 634d 6f63 6b28 290a 2020  k.MagicMock().  
+00010dd0: 2020 2020 2020 2920 6173 206d 6f63 6b5f        ) as mock_
+00010de0: 6a73 6f6e 6c64 5f65 7870 616e 643a 0a20  jsonld_expand:. 
+00010df0: 2020 2020 2020 2020 2020 206d 6f63 6b5f             mock_
+00010e00: 6a73 6f6e 6c64 5f65 7870 616e 642e 7265  jsonld_expand.re
+00010e10: 7475 726e 5f76 616c 7565 203d 2045 5850  turn_value = EXP
+00010e20: 414e 4445 445f 4352 4544 5f46 4849 525f  ANDED_CRED_FHIR_
+00010e30: 5459 5045 5f32 0a20 2020 2020 2020 2020  TYPE_2.         
+00010e40: 2020 2061 7761 6974 2073 656c 662e 6861     await self.ha
+00010e50: 6e64 6c65 722e 7265 6365 6976 655f 7072  ndler.receive_pr
+00010e60: 6573 286d 6573 7361 6765 3d64 6966 5f70  es(message=dif_p
+00010e70: 7265 732c 2070 7265 735f 6578 5f72 6563  res, pres_ex_rec
+00010e80: 6f72 643d 7265 636f 7264 290a 0a20 2020  ord=record)..   
+00010e90: 2061 7379 6e63 2064 6566 2074 6573 745f   async def test_
+00010ea0: 7665 7269 6679 5f72 6563 6569 7665 645f  verify_received_
+00010eb0: 6c69 6d69 745f 6469 7363 6c6f 7375 7265  limit_disclosure
+00010ec0: 5f62 2873 656c 6629 3a0a 2020 2020 2020  _b(self):.      
+00010ed0: 2020 6469 665f 7072 6f6f 6620 3d20 6465    dif_proof = de
+00010ee0: 6570 636f 7079 2844 4946 5f50 5245 5329  epcopy(DIF_PRES)
+00010ef0: 0a20 2020 2020 2020 2063 7265 645f 6469  .        cred_di
+00010f00: 6374 203d 2064 6565 7063 6f70 7928 5445  ct = deepcopy(TE
+00010f10: 5354 5f43 5245 445f 4449 4354 290a 2020  ST_CRED_DICT).  
+00010f20: 2020 2020 2020 6372 6564 5f64 6963 745b        cred_dict[
+00010f30: 2263 7265 6465 6e74 6961 6c53 7562 6a65  "credentialSubje
+00010f40: 6374 225d 5b22 5061 7469 656e 7422 5d5b  ct"]["Patient"][
+00010f50: 2261 6464 7265 7373 225d 203d 205b 0a20  "address"] = [. 
+00010f60: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
+00010f70: 2020 2020 2020 2020 2020 2020 2022 4069               "@i
+00010f80: 6422 3a20 2275 726e 3a62 6e69 643a 5f3a  d": "urn:bnid:_:
+00010f90: 6331 346e 3122 2c0a 2020 2020 2020 2020  c14n1",.        
+00010fa0: 2020 2020 2020 2020 2263 6974 7922 3a20          "city": 
+00010fb0: 22d0 a0d1 83d0 bcd0 b022 2c0a 2020 2020  "........",.    
+00010fc0: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
+00010fd0: 2020 2020 2020 207b 0a20 2020 2020 2020         {.       
+00010fe0: 2020 2020 2020 2020 2022 4069 6422 3a20           "@id": 
+00010ff0: 2275 726e 3a62 6e69 643a 5f3a 6331 346e  "urn:bnid:_:c14n
+00011000: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
+00011010: 2020 2020 2263 6974 7922 3a20 22d0 a0d1      "city": "...
+00011020: 83d0 bcd0 b022 2c0a 2020 2020 2020 2020  .....",.        
+00011030: 2020 2020 7d2c 0a20 2020 2020 2020 205d      },.        ]
+00011040: 0a20 2020 2020 2020 2064 6966 5f70 726f  .        dif_pro
+00011050: 6f66 5b22 7665 7269 6669 6162 6c65 4372  of["verifiableCr
+00011060: 6564 656e 7469 616c 225d 203d 205b 5d0a  edential"] = [].
+00011070: 2020 2020 2020 2020 6469 665f 7072 6f6f          dif_proo
+00011080: 665b 2276 6572 6966 6961 626c 6543 7265  f["verifiableCre
+00011090: 6465 6e74 6961 6c22 5d2e 6170 7065 6e64  dential"].append
+000110a0: 2863 7265 645f 6469 6374 290a 2020 2020  (cred_dict).    
+000110b0: 2020 2020 6469 665f 7072 6f6f 665b 2276      dif_proof["v
+000110c0: 6572 6966 6961 626c 6543 7265 6465 6e74  erifiableCredent
+000110d0: 6961 6c22 5d2e 6170 7065 6e64 2863 7265  ial"].append(cre
+000110e0: 645f 6469 6374 290a 2020 2020 2020 2020  d_dict).        
+000110f0: 6469 665f 7072 6573 203d 2056 3230 5072  dif_pres = V20Pr
+00011100: 6573 280a 2020 2020 2020 2020 2020 2020  es(.            
+00011110: 666f 726d 6174 733d 5b0a 2020 2020 2020  formats=[.      
+00011120: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+00011130: 7346 6f72 6d61 7428 0a20 2020 2020 2020  sFormat(.       
+00011140: 2020 2020 2020 2020 2020 2020 2061 7474               att
+00011150: 6163 685f 6964 3d22 6469 6622 2c0a 2020  ach_id="dif",.  
+00011160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011170: 2020 666f 726d 6174 5f3d 4154 5441 4348    format_=ATTACH
+00011180: 4d45 4e54 5f46 4f52 4d41 545b 5052 4553  MENT_FORMAT[PRES
+00011190: 5f32 305d 5b56 3230 5072 6573 466f 726d  _20][V20PresForm
+000111a0: 6174 2e46 6f72 6d61 742e 4449 462e 6170  at.Format.DIF.ap
+000111b0: 695d 2c0a 2020 2020 2020 2020 2020 2020  i],.            
+000111c0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+000111d0: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+000111e0: 2070 7265 7365 6e74 6174 696f 6e73 5f61   presentations_a
+000111f0: 7474 6163 683d 5b0a 2020 2020 2020 2020  ttach=[.        
+00011200: 2020 2020 2020 2020 4174 7461 6368 4465          AttachDe
+00011210: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
+00011220: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
+00011230: 2020 2020 2020 206d 6170 7069 6e67 3d64         mapping=d
+00011240: 6966 5f70 726f 6f66 2c0a 2020 2020 2020  if_proof,.      
+00011250: 2020 2020 2020 2020 2020 2020 2020 6964                id
+00011260: 656e 743d 2264 6966 222c 0a20 2020 2020  ent="dif",.     
+00011270: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+00011280: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+00011290: 2020 2020 290a 2020 2020 2020 2020 7072      ).        pr
+000112a0: 6573 5f72 6571 7565 7374 203d 2064 6565  es_request = dee
+000112b0: 7063 6f70 7928 4449 465f 5052 4553 5f52  pcopy(DIF_PRES_R
+000112c0: 4551 5545 5354 5f42 290a 2020 2020 2020  EQUEST_B).      
+000112d0: 2020 7072 6573 5f72 6571 7565 7374 5b22    pres_request["
+000112e0: 7072 6573 656e 7461 7469 6f6e 5f64 6566  presentation_def
+000112f0: 696e 6974 696f 6e22 5d5b 2269 6e70 7574  inition"]["input
+00011300: 5f64 6573 6372 6970 746f 7273 225d 5b30  _descriptors"][0
+00011310: 5d5b 0a20 2020 2020 2020 2020 2020 2022  ][.            "
+00011320: 636f 6e73 7472 6169 6e74 7322 0a20 2020  constraints".   
+00011330: 2020 2020 205d 203d 207b 0a20 2020 2020       ] = {.     
+00011340: 2020 2020 2020 2022 6c69 6d69 745f 6469         "limit_di
+00011350: 7363 6c6f 7375 7265 223a 2022 7265 7175  sclosure": "requ
+00011360: 6972 6564 222c 0a20 2020 2020 2020 2020  ired",.         
+00011370: 2020 2022 6669 656c 6473 223a 205b 0a20     "fields": [. 
+00011380: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+00011390: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000113a0: 2020 2020 2022 7061 7468 223a 205b 2224       "path": ["$
+000113b0: 2e63 7265 6465 6e74 6961 6c53 7562 6a65  .credentialSubje
+000113c0: 6374 2e50 6174 6965 6e74 5b2a 5d2e 6164  ct.Patient[*].ad
+000113d0: 6472 6573 7322 5d2c 0a20 2020 2020 2020  dress"],.       
+000113e0: 2020 2020 2020 2020 2020 2020 2022 7075               "pu
+000113f0: 7270 6f73 6522 3a20 2254 6573 7422 2c0a  rpose": "Test",.
+00011400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011410: 7d0a 2020 2020 2020 2020 2020 2020 5d2c  }.            ],
+00011420: 0a20 2020 2020 2020 207d 0a20 2020 2020  .        }.     
+00011430: 2020 2070 7265 735f 7265 7175 6573 745b     pres_request[
+00011440: 2270 7265 7365 6e74 6174 696f 6e5f 6465  "presentation_de
+00011450: 6669 6e69 7469 6f6e 225d 5b22 696e 7075  finition"]["inpu
+00011460: 745f 6465 7363 7269 7074 6f72 7322 5d5b  t_descriptors"][
+00011470: 305d 5b22 7363 6865 6d61 225d 203d 205b  0]["schema"] = [
+00011480: 0a20 2020 2020 2020 2020 2020 207b 2275  .            {"u
+00011490: 7269 223a 2022 6874 7470 733a 2f2f 7777  ri": "https://ww
+000114a0: 772e 7733 2e6f 7267 2f32 3031 382f 6372  w.w3.org/2018/cr
+000114b0: 6564 656e 7469 616c 7323 5665 7269 6669  edentials#Verifi
+000114c0: 6162 6c65 4372 6564 656e 7469 616c 227d  ableCredential"}
+000114d0: 2c0a 2020 2020 2020 2020 2020 2020 7b22  ,.            {"
+000114e0: 7572 6922 3a20 2268 7474 7073 3a2f 2f77  uri": "https://w
+000114f0: 7777 2e76 6465 6c2e 636f 6d2f 4d65 6469  ww.vdel.com/Medi
+00011500: 6361 6c50 6173 7322 7d2c 0a20 2020 2020  calPass"},.     
+00011510: 2020 2020 2020 207b 2275 7269 223a 2022         {"uri": "
+00011520: 6874 7470 3a2f 2f68 6c37 2e6f 7267 2f66  http://hl7.org/f
+00011530: 6869 722f 5061 7469 656e 7422 7d2c 0a20  hir/Patient"},. 
+00011540: 2020 2020 2020 205d 0a20 2020 2020 2020         ].       
+00011550: 2064 6966 5f70 7265 735f 7265 7175 6573   dif_pres_reques
+00011560: 7420 3d20 5632 3050 7265 7352 6571 7565  t = V20PresReque
+00011570: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
+00011580: 666f 726d 6174 733d 5b0a 2020 2020 2020  formats=[.      
+00011590: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+000115a0: 7346 6f72 6d61 7428 0a20 2020 2020 2020  sFormat(.       
+000115b0: 2020 2020 2020 2020 2020 2020 2061 7474               att
+000115c0: 6163 685f 6964 3d22 6469 6622 2c0a 2020  ach_id="dif",.  
+000115d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000115e0: 2020 666f 726d 6174 5f3d 4154 5441 4348    format_=ATTACH
+000115f0: 4d45 4e54 5f46 4f52 4d41 545b 5052 4553  MENT_FORMAT[PRES
+00011600: 5f32 305f 5245 5155 4553 545d 5b0a 2020  _20_REQUEST][.  
+00011610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011620: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+00011630: 6d61 742e 466f 726d 6174 2e44 4946 2e61  mat.Format.DIF.a
+00011640: 7069 0a20 2020 2020 2020 2020 2020 2020  pi.             
+00011650: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+00011660: 2020 2020 2020 2020 2020 290a 2020 2020            ).    
+00011670: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+00011680: 2020 2020 2020 2072 6571 7565 7374 5f70         request_p
+00011690: 7265 7365 6e74 6174 696f 6e73 5f61 7474  resentations_att
+000116a0: 6163 683d 5b0a 2020 2020 2020 2020 2020  ach=[.          
+000116b0: 2020 2020 2020 4174 7461 6368 4465 636f        AttachDeco
+000116c0: 7261 746f 722e 6461 7461 5f6a 736f 6e28  rator.data_json(
+000116d0: 7072 6573 5f72 6571 7565 7374 2c20 6964  pres_request, id
+000116e0: 656e 743d 2264 6966 2229 0a20 2020 2020  ent="dif").     
+000116f0: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+00011700: 2020 290a 2020 2020 2020 2020 7265 636f    ).        reco
+00011710: 7264 203d 2056 3230 5072 6573 4578 5265  rd = V20PresExRe
+00011720: 636f 7264 280a 2020 2020 2020 2020 2020  cord(.          
+00011730: 2020 7072 6573 5f65 785f 6964 3d22 7078    pres_ex_id="px
+00011740: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00011750: 2074 6872 6561 645f 6964 3d22 7468 6964   thread_id="thid
+00011760: 222c 0a20 2020 2020 2020 2020 2020 2063  ",.            c
+00011770: 6f6e 6e65 6374 696f 6e5f 6964 3d22 636f  onnection_id="co
+00011780: 6e6e 5f69 6422 2c0a 2020 2020 2020 2020  nn_id",.        
+00011790: 2020 2020 696e 6974 6961 746f 723d 2269      initiator="i
+000117a0: 6e69 7422 2c0a 2020 2020 2020 2020 2020  nit",.          
+000117b0: 2020 726f 6c65 3d22 726f 6c65 222c 0a20    role="role",. 
+000117c0: 2020 2020 2020 2020 2020 2073 7461 7465             state
+000117d0: 3d22 7374 6174 6522 2c0a 2020 2020 2020  ="state",.      
+000117e0: 2020 2020 2020 7072 6573 5f72 6571 7565        pres_reque
+000117f0: 7374 3d64 6966 5f70 7265 735f 7265 7175  st=dif_pres_requ
+00011800: 6573 742c 0a20 2020 2020 2020 2020 2020  est,.           
+00011810: 2070 7265 733d 6469 665f 7072 6573 2c0a   pres=dif_pres,.
+00011820: 2020 2020 2020 2020 2020 2020 7665 7269              veri
+00011830: 6669 6564 3d22 6661 6c73 6522 2c0a 2020  fied="false",.  
+00011840: 2020 2020 2020 2020 2020 6175 746f 5f70            auto_p
+00011850: 7265 7365 6e74 3d54 7275 652c 0a20 2020  resent=True,.   
+00011860: 2020 2020 2020 2020 2065 7272 6f72 5f6d           error_m
+00011870: 7367 3d22 6572 726f 7222 2c0a 2020 2020  sg="error",.    
+00011880: 2020 2020 290a 2020 2020 2020 2020 7769      ).        wi
+00011890: 7468 2061 7379 6e63 5f6d 6f63 6b2e 7061  th async_mock.pa
+000118a0: 7463 682e 6f62 6a65 6374 280a 2020 2020  tch.object(.    
+000118b0: 2020 2020 2020 2020 6a73 6f6e 6c64 2c20          jsonld, 
+000118c0: 2265 7870 616e 6422 2c20 6173 796e 635f  "expand", async_
+000118d0: 6d6f 636b 2e4d 6167 6963 4d6f 636b 2829  mock.MagicMock()
+000118e0: 0a20 2020 2020 2020 2029 2061 7320 6d6f  .        ) as mo
+000118f0: 636b 5f6a 736f 6e6c 645f 6578 7061 6e64  ck_jsonld_expand
+00011900: 3a0a 2020 2020 2020 2020 2020 2020 6d6f  :.            mo
+00011910: 636b 5f6a 736f 6e6c 645f 6578 7061 6e64  ck_jsonld_expand
+00011920: 2e72 6574 7572 6e5f 7661 6c75 6520 3d20  .return_value = 
+00011930: 4558 5041 4e44 4544 5f43 5245 445f 4648  EXPANDED_CRED_FH
+00011940: 4952 5f54 5950 455f 310a 2020 2020 2020  IR_TYPE_1.      
+00011950: 2020 2020 2020 6177 6169 7420 7365 6c66        await self
+00011960: 2e68 616e 646c 6572 2e72 6563 6569 7665  .handler.receive
+00011970: 5f70 7265 7328 6d65 7373 6167 653d 6469  _pres(message=di
+00011980: 665f 7072 6573 2c20 7072 6573 5f65 785f  f_pres, pres_ex_
+00011990: 7265 636f 7264 3d72 6563 6f72 6429 0a0a  record=record)..
+000119a0: 2020 2020 6173 796e 6320 6465 6620 7465      async def te
+000119b0: 7374 5f76 6572 6966 795f 7265 6365 6976  st_verify_receiv
+000119c0: 6564 5f70 7265 735f 696e 7661 6c69 645f  ed_pres_invalid_
+000119d0: 6a73 6f6e 7061 7468 2873 656c 6629 3a0a  jsonpath(self):.
+000119e0: 2020 2020 2020 2020 6469 665f 7072 6f6f          dif_proo
+000119f0: 6620 3d20 6465 6570 636f 7079 2844 4946  f = deepcopy(DIF
+00011a00: 5f50 5245 5329 0a20 2020 2020 2020 2064  _PRES).        d
+00011a10: 6966 5f70 726f 6f66 5b22 7072 6573 656e  if_proof["presen
+00011a20: 7461 7469 6f6e 5f73 7562 6d69 7373 696f  tation_submissio
+00011a30: 6e22 5d5b 2264 6573 6372 6970 746f 725f  n"]["descriptor_
+00011a40: 6d61 7022 5d5b 305d 5b0a 2020 2020 2020  map"][0][.      
+00011a50: 2020 2020 2020 2270 6174 6822 0a20 2020        "path".   
+00011a60: 2020 2020 205d 203d 2022 242e 7665 7269       ] = "$.veri
+00011a70: 6669 6162 6c65 4372 6564 656e 7469 616c  fiableCredential
+00011a80: 5b31 5d22 0a20 2020 2020 2020 2064 6966  [1]".        dif
+00011a90: 5f70 7265 7320 3d20 5632 3050 7265 7328  _pres = V20Pres(
+00011aa0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+00011ab0: 6d61 7473 3d5b 0a20 2020 2020 2020 2020  mats=[.         
+00011ac0: 2020 2020 2020 2056 3230 5072 6573 466f         V20PresFo
+00011ad0: 726d 6174 280a 2020 2020 2020 2020 2020  rmat(.          
+00011ae0: 2020 2020 2020 2020 2020 6174 7461 6368            attach
+00011af0: 5f69 643d 2264 6966 222c 0a20 2020 2020  _id="dif",.     
+00011b00: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00011b10: 6f72 6d61 745f 3d41 5454 4143 484d 454e  ormat_=ATTACHMEN
+00011b20: 545f 464f 524d 4154 5b50 5245 535f 3230  T_FORMAT[PRES_20
+00011b30: 5d5b 5632 3050 7265 7346 6f72 6d61 742e  ][V20PresFormat.
+00011b40: 466f 726d 6174 2e44 4946 2e61 7069 5d2c  Format.DIF.api],
+00011b50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011b60: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
+00011b70: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
+00011b80: 6573 656e 7461 7469 6f6e 735f 6174 7461  esentations_atta
+00011b90: 6368 3d5b 0a20 2020 2020 2020 2020 2020  ch=[.           
+00011ba0: 2020 2020 2041 7474 6163 6844 6563 6f72       AttachDecor
+00011bb0: 6174 6f72 2e64 6174 615f 6a73 6f6e 280a  ator.data_json(.
+00011bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011bd0: 2020 2020 6d61 7070 696e 673d 6469 665f      mapping=dif_
+00011be0: 7072 6f6f 662c 0a20 2020 2020 2020 2020  proof,.         
+00011bf0: 2020 2020 2020 2020 2020 2069 6465 6e74             ident
+00011c00: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
+00011c10: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+00011c20: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+00011c30: 2029 0a0a 2020 2020 2020 2020 6469 665f   )..        dif_
+00011c40: 7072 6573 5f72 6571 7565 7374 203d 2056  pres_request = V
+00011c50: 3230 5072 6573 5265 7175 6573 7428 0a20  20PresRequest(. 
+00011c60: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+00011c70: 7473 3d5b 0a20 2020 2020 2020 2020 2020  ts=[.           
+00011c80: 2020 2020 2056 3230 5072 6573 466f 726d       V20PresForm
+00011c90: 6174 280a 2020 2020 2020 2020 2020 2020  at(.            
+00011ca0: 2020 2020 2020 2020 6174 7461 6368 5f69          attach_i
+00011cb0: 643d 2264 6966 222c 0a20 2020 2020 2020  d="dif",.       
+00011cc0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00011cd0: 6d61 745f 3d41 5454 4143 484d 454e 545f  mat_=ATTACHMENT_
+00011ce0: 464f 524d 4154 5b50 5245 535f 3230 5f52  FORMAT[PRES_20_R
+00011cf0: 4551 5545 5354 5d5b 0a20 2020 2020 2020  EQUEST][.       
+00011d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011d10: 2056 3230 5072 6573 466f 726d 6174 2e46   V20PresFormat.F
+00011d20: 6f72 6d61 742e 4449 462e 6170 690a 2020  ormat.DIF.api.  
+00011d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011d40: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+00011d50: 2020 2020 2029 0a20 2020 2020 2020 2020       ).         
+00011d60: 2020 205d 2c0a 2020 2020 2020 2020 2020     ],.          
+00011d70: 2020 7265 7175 6573 745f 7072 6573 656e    request_presen
+00011d80: 7461 7469 6f6e 735f 6174 7461 6368 3d5b  tations_attach=[
+00011d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00011da0: 2041 7474 6163 6844 6563 6f72 6174 6f72   AttachDecorator
+00011db0: 2e64 6174 615f 6a73 6f6e 2844 4946 5f50  .data_json(DIF_P
+00011dc0: 5245 535f 5245 5155 4553 545f 422c 2069  RES_REQUEST_B, i
+00011dd0: 6465 6e74 3d22 6469 6622 290a 2020 2020  dent="dif").    
+00011de0: 2020 2020 2020 2020 5d2c 0a20 2020 2020          ],.     
+00011df0: 2020 2029 0a20 2020 2020 2020 2072 6563     ).        rec
+00011e00: 6f72 6420 3d20 5632 3050 7265 7345 7852  ord = V20PresExR
+00011e10: 6563 6f72 6428 0a20 2020 2020 2020 2020  ecord(.         
+00011e20: 2020 2070 7265 735f 6578 5f69 643d 2270     pres_ex_id="p
+00011e30: 7869 6422 2c0a 2020 2020 2020 2020 2020  xid",.          
+00011e40: 2020 7468 7265 6164 5f69 643d 2274 6869    thread_id="thi
+00011e50: 6422 2c0a 2020 2020 2020 2020 2020 2020  d",.            
+00011e60: 636f 6e6e 6563 7469 6f6e 5f69 643d 2263  connection_id="c
+00011e70: 6f6e 6e5f 6964 222c 0a20 2020 2020 2020  onn_id",.       
+00011e80: 2020 2020 2069 6e69 7469 6174 6f72 3d22       initiator="
+00011e90: 696e 6974 222c 0a20 2020 2020 2020 2020  init",.         
+00011ea0: 2020 2072 6f6c 653d 2272 6f6c 6522 2c0a     role="role",.
+00011eb0: 2020 2020 2020 2020 2020 2020 7374 6174              stat
+00011ec0: 653d 2273 7461 7465 222c 0a20 2020 2020  e="state",.     
+00011ed0: 2020 2020 2020 2070 7265 735f 7265 7175         pres_requ
+00011ee0: 6573 743d 6469 665f 7072 6573 5f72 6571  est=dif_pres_req
+00011ef0: 7565 7374 2c0a 2020 2020 2020 2020 2020  uest,.          
+00011f00: 2020 7072 6573 3d64 6966 5f70 7265 732c    pres=dif_pres,
+00011f10: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
+00011f20: 6966 6965 643d 2266 616c 7365 222c 0a20  ified="false",. 
+00011f30: 2020 2020 2020 2020 2020 2061 7574 6f5f             auto_
+00011f40: 7072 6573 656e 743d 5472 7565 2c0a 2020  present=True,.  
+00011f50: 2020 2020 2020 2020 2020 6572 726f 725f            error_
+00011f60: 6d73 673d 2265 7272 6f72 222c 0a20 2020  msg="error",.   
+00011f70: 2020 2020 2029 0a20 2020 2020 2020 2077       ).        w
+00011f80: 6974 6820 6173 796e 635f 6d6f 636b 2e70  ith async_mock.p
+00011f90: 6174 6368 2e6f 626a 6563 7428 0a20 2020  atch.object(.   
+00011fa0: 2020 2020 2020 2020 2074 6573 745f 6d6f           test_mo
+00011fb0: 6475 6c65 2e4c 4f47 4745 522c 2022 6572  dule.LOGGER, "er
+00011fc0: 726f 7222 2c20 6173 796e 635f 6d6f 636b  ror", async_mock
+00011fd0: 2e4d 6167 6963 4d6f 636b 2829 0a20 2020  .MagicMock().   
+00011fe0: 2020 2020 2029 2061 7320 6d6f 636b 5f6c       ) as mock_l
+00011ff0: 6f67 5f65 7272 3a0a 2020 2020 2020 2020  og_err:.        
+00012000: 2020 2020 6177 6169 7420 7365 6c66 2e68      await self.h
+00012010: 616e 646c 6572 2e72 6563 6569 7665 5f70  andler.receive_p
+00012020: 7265 7328 6d65 7373 6167 653d 6469 665f  res(message=dif_
+00012030: 7072 6573 2c20 7072 6573 5f65 785f 7265  pres, pres_ex_re
+00012040: 636f 7264 3d72 6563 6f72 6429 0a20 2020  cord=record).   
+00012050: 2020 2020 2020 2020 206d 6f63 6b5f 6c6f           mock_lo
+00012060: 675f 6572 722e 6173 7365 7274 5f63 616c  g_err.assert_cal
+00012070: 6c65 645f 6f6e 6365 2829 0a0a 2020 2020  led_once()..    
+00012080: 6173 796e 6320 6465 6620 7465 7374 5f76  async def test_v
+00012090: 6572 6966 795f 7265 6365 6976 6564 5f70  erify_received_p
+000120a0: 7265 735f 6e6f 5f6d 6174 6368 5f61 2873  res_no_match_a(s
+000120b0: 656c 6629 3a0a 2020 2020 2020 2020 6469  elf):.        di
+000120c0: 665f 7072 6f6f 665f 7265 7120 3d20 6465  f_proof_req = de
+000120d0: 6570 636f 7079 2844 4946 5f50 5245 535f  epcopy(DIF_PRES_
+000120e0: 5245 5155 4553 545f 4229 0a20 2020 2020  REQUEST_B).     
+000120f0: 2020 2064 6966 5f70 726f 6f66 5f72 6571     dif_proof_req
+00012100: 5b22 7072 6573 656e 7461 7469 6f6e 5f64  ["presentation_d
+00012110: 6566 696e 6974 696f 6e22 5d5b 2269 6e70  efinition"]["inp
+00012120: 7574 5f64 6573 6372 6970 746f 7273 225d  ut_descriptors"]
+00012130: 5b30 5d5b 2263 6f6e 7374 7261 696e 7473  [0]["constraints
+00012140: 225d 5b0a 2020 2020 2020 2020 2020 2020  "][.            
+00012150: 2266 6965 6c64 7322 0a20 2020 2020 2020  "fields".       
+00012160: 205d 5b30 5d5b 2270 6174 6822 5d20 3d20   ][0]["path"] = 
+00012170: 5b22 242e 6372 6564 656e 7469 616c 5375  ["$.credentialSu
+00012180: 626a 6563 742e 6769 7665 6e4e 616d 6532  bject.givenName2
+00012190: 225d 0a0a 2020 2020 2020 2020 6469 665f  "]..        dif_
+000121a0: 7072 6573 203d 2056 3230 5072 6573 280a  pres = V20Pres(.
+000121b0: 2020 2020 2020 2020 2020 2020 666f 726d              form
+000121c0: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
+000121d0: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+000121e0: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+000121f0: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
+00012200: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
+00012210: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00012220: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
+00012230: 5f46 4f52 4d41 545b 5052 4553 5f32 305d  _FORMAT[PRES_20]
+00012240: 5b56 3230 5072 6573 466f 726d 6174 2e46  [V20PresFormat.F
+00012250: 6f72 6d61 742e 4449 462e 6170 695d 2c0a  ormat.DIF.api],.
+00012260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012270: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
+00012280: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+00012290: 7365 6e74 6174 696f 6e73 5f61 7474 6163  sentations_attac
+000122a0: 683d 5b0a 2020 2020 2020 2020 2020 2020  h=[.            
+000122b0: 2020 2020 4174 7461 6368 4465 636f 7261      AttachDecora
+000122c0: 746f 722e 6461 7461 5f6a 736f 6e28 0a20  tor.data_json(. 
+000122d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122e0: 2020 206d 6170 7069 6e67 3d44 4946 5f50     mapping=DIF_P
+000122f0: 5245 532c 0a20 2020 2020 2020 2020 2020  RES,.           
+00012300: 2020 2020 2020 2020 2069 6465 6e74 3d22           ident="
+00012310: 6469 6622 2c0a 2020 2020 2020 2020 2020  dif",.          
+00012320: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00012330: 2020 2020 5d2c 0a20 2020 2020 2020 2029      ],.        )
+00012340: 0a0a 2020 2020 2020 2020 6469 665f 7072  ..        dif_pr
+00012350: 6573 5f72 6571 7565 7374 203d 2056 3230  es_request = V20
+00012360: 5072 6573 5265 7175 6573 7428 0a20 2020  PresRequest(.   
+00012370: 2020 2020 2020 2020 2066 6f72 6d61 7473           formats
+00012380: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+00012390: 2020 2056 3230 5072 6573 466f 726d 6174     V20PresFormat
+000123a0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+000123b0: 2020 2020 2020 6174 7461 6368 5f69 643d        attach_id=
+000123c0: 2264 6966 222c 0a20 2020 2020 2020 2020  "dif",.         
+000123d0: 2020 2020 2020 2020 2020 2066 6f72 6d61             forma
+000123e0: 745f 3d41 5454 4143 484d 454e 545f 464f  t_=ATTACHMENT_FO
+000123f0: 524d 4154 5b50 5245 535f 3230 5f52 4551  RMAT[PRES_20_REQ
+00012400: 5545 5354 5d5b 0a20 2020 2020 2020 2020  UEST][.         
+00012410: 2020 2020 2020 2020 2020 2020 2020 2056                 V
+00012420: 3230 5072 6573 466f 726d 6174 2e46 6f72  20PresFormat.For
+00012430: 6d61 742e 4449 462e 6170 690a 2020 2020  mat.DIF.api.    
+00012440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012450: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00012460: 2020 2029 0a20 2020 2020 2020 2020 2020     ).           
+00012470: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00012480: 7265 7175 6573 745f 7072 6573 656e 7461  request_presenta
+00012490: 7469 6f6e 735f 6174 7461 6368 3d5b 0a20  tions_attach=[. 
+000124a0: 2020 2020 2020 2020 2020 2020 2020 2041                 A
+000124b0: 7474 6163 6844 6563 6f72 6174 6f72 2e64  ttachDecorator.d
+000124c0: 6174 615f 6a73 6f6e 2864 6966 5f70 726f  ata_json(dif_pro
+000124d0: 6f66 5f72 6571 2c20 6964 656e 743d 2264  of_req, ident="d
+000124e0: 6966 2229 0a20 2020 2020 2020 2020 2020  if").           
+000124f0: 205d 2c0a 2020 2020 2020 2020 290a 2020   ],.        ).  
+00012500: 2020 2020 2020 7265 636f 7264 203d 2056        record = V
+00012510: 3230 5072 6573 4578 5265 636f 7264 280a  20PresExRecord(.
+00012520: 2020 2020 2020 2020 2020 2020 7072 6573              pres
+00012530: 5f65 785f 6964 3d22 7078 6964 222c 0a20  _ex_id="pxid",. 
+00012540: 2020 2020 2020 2020 2020 2074 6872 6561             threa
+00012550: 645f 6964 3d22 7468 6964 222c 0a20 2020  d_id="thid",.   
+00012560: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
+00012570: 696f 6e5f 6964 3d22 636f 6e6e 5f69 6422  ion_id="conn_id"
+00012580: 2c0a 2020 2020 2020 2020 2020 2020 696e  ,.            in
+00012590: 6974 6961 746f 723d 2269 6e69 7422 2c0a  itiator="init",.
+000125a0: 2020 2020 2020 2020 2020 2020 726f 6c65              role
+000125b0: 3d22 726f 6c65 222c 0a20 2020 2020 2020  ="role",.       
+000125c0: 2020 2020 2073 7461 7465 3d22 7374 6174       state="stat
+000125d0: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+000125e0: 7072 6573 5f72 6571 7565 7374 3d64 6966  pres_request=dif
+000125f0: 5f70 7265 735f 7265 7175 6573 742c 0a20  _pres_request,. 
+00012600: 2020 2020 2020 2020 2020 2070 7265 733d             pres=
+00012610: 6469 665f 7072 6573 2c0a 2020 2020 2020  dif_pres,.      
+00012620: 2020 2020 2020 7665 7269 6669 6564 3d22        verified="
+00012630: 6661 6c73 6522 2c0a 2020 2020 2020 2020  false",.        
+00012640: 2020 2020 6175 746f 5f70 7265 7365 6e74      auto_present
+00012650: 3d54 7275 652c 0a20 2020 2020 2020 2020  =True,.         
+00012660: 2020 2065 7272 6f72 5f6d 7367 3d22 6572     error_msg="er
+00012670: 726f 7222 2c0a 2020 2020 2020 2020 290a  ror",.        ).
+00012680: 2020 2020 2020 2020 7769 7468 2061 7379          with asy
+00012690: 6e63 5f6d 6f63 6b2e 7061 7463 682e 6f62  nc_mock.patch.ob
+000126a0: 6a65 6374 280a 2020 2020 2020 2020 2020  ject(.          
+000126b0: 2020 7465 7374 5f6d 6f64 756c 652e 4c4f    test_module.LO
+000126c0: 4747 4552 2c20 2265 7272 6f72 222c 2061  GGER, "error", a
+000126d0: 7379 6e63 5f6d 6f63 6b2e 4d61 6769 634d  sync_mock.MagicM
+000126e0: 6f63 6b28 290a 2020 2020 2020 2020 2920  ock().        ) 
+000126f0: 6173 206d 6f63 6b5f 6c6f 675f 6572 723a  as mock_log_err:
+00012700: 0a20 2020 2020 2020 2020 2020 2061 7761  .            awa
+00012710: 6974 2073 656c 662e 6861 6e64 6c65 722e  it self.handler.
+00012720: 7265 6365 6976 655f 7072 6573 286d 6573  receive_pres(mes
+00012730: 7361 6765 3d64 6966 5f70 7265 732c 2070  sage=dif_pres, p
+00012740: 7265 735f 6578 5f72 6563 6f72 643d 7265  res_ex_record=re
+00012750: 636f 7264 290a 2020 2020 2020 2020 2020  cord).          
+00012760: 2020 6d6f 636b 5f6c 6f67 5f65 7272 2e61    mock_log_err.a
+00012770: 7373 6572 745f 6361 6c6c 6564 5f6f 6e63  ssert_called_onc
+00012780: 6528 290a 0a20 2020 2061 7379 6e63 2064  e()..    async d
+00012790: 6566 2074 6573 745f 7665 7269 6679 5f72  ef test_verify_r
+000127a0: 6563 6569 7665 645f 7072 6573 5f6e 6f5f  eceived_pres_no_
+000127b0: 6d61 7463 685f 6228 7365 6c66 293a 0a20  match_b(self):. 
+000127c0: 2020 2020 2020 2064 6966 5f70 726f 6f66         dif_proof
+000127d0: 5f72 6571 203d 2064 6565 7063 6f70 7928  _req = deepcopy(
+000127e0: 4449 465f 5052 4553 5f52 4551 5545 5354  DIF_PRES_REQUEST
+000127f0: 5f42 290a 2020 2020 2020 2020 6469 665f  _B).        dif_
+00012800: 7072 6f6f 665f 7265 715b 2270 7265 7365  proof_req["prese
+00012810: 6e74 6174 696f 6e5f 6465 6669 6e69 7469  ntation_definiti
+00012820: 6f6e 225d 5b22 696e 7075 745f 6465 7363  on"]["input_desc
+00012830: 7269 7074 6f72 7322 5d5b 305d 5b22 636f  riptors"][0]["co
+00012840: 6e73 7472 6169 6e74 7322 5d5b 0a20 2020  nstraints"][.   
+00012850: 2020 2020 2020 2020 2022 6669 656c 6473           "fields
+00012860: 220a 2020 2020 2020 2020 5d5b 305d 5b22  ".        ][0]["
+00012870: 6669 6c74 6572 225d 5b22 656e 756d 225d  filter"]["enum"]
+00012880: 203d 205b 2254 6573 7422 5d0a 0a20 2020   = ["Test"]..   
+00012890: 2020 2020 2064 6966 5f70 7265 7320 3d20       dif_pres = 
+000128a0: 5632 3050 7265 7328 0a20 2020 2020 2020  V20Pres(.       
+000128b0: 2020 2020 2066 6f72 6d61 7473 3d5b 0a20       formats=[. 
+000128c0: 2020 2020 2020 2020 2020 2020 2020 2056                 V
+000128d0: 3230 5072 6573 466f 726d 6174 280a 2020  20PresFormat(.  
+000128e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000128f0: 2020 6174 7461 6368 5f69 643d 2264 6966    attach_id="dif
+00012900: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00012910: 2020 2020 2020 2066 6f72 6d61 745f 3d41         format_=A
+00012920: 5454 4143 484d 454e 545f 464f 524d 4154  TTACHMENT_FORMAT
+00012930: 5b50 5245 535f 3230 5d5b 5632 3050 7265  [PRES_20][V20Pre
+00012940: 7346 6f72 6d61 742e 466f 726d 6174 2e44  sFormat.Format.D
+00012950: 4946 2e61 7069 5d2c 0a20 2020 2020 2020  IF.api],.       
+00012960: 2020 2020 2020 2020 2029 0a20 2020 2020           ).     
+00012970: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+00012980: 2020 2020 2020 7072 6573 656e 7461 7469        presentati
+00012990: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
+000129a0: 2020 2020 2020 2020 2020 2020 2041 7474               Att
+000129b0: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
+000129c0: 615f 6a73 6f6e 280a 2020 2020 2020 2020  a_json(.        
+000129d0: 2020 2020 2020 2020 2020 2020 6d61 7070              mapp
+000129e0: 696e 673d 4449 465f 5052 4553 2c0a 2020  ing=DIF_PRES,.  
+000129f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012a00: 2020 6964 656e 743d 2264 6966 222c 0a20    ident="dif",. 
+00012a10: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00012a20: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
+00012a30: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+00012a40: 2020 2064 6966 5f70 7265 735f 7265 7175     dif_pres_requ
+00012a50: 6573 7420 3d20 5632 3050 7265 7352 6571  est = V20PresReq
+00012a60: 7565 7374 280a 2020 2020 2020 2020 2020  uest(.          
+00012a70: 2020 666f 726d 6174 733d 5b0a 2020 2020    formats=[.    
+00012a80: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
+00012a90: 7265 7346 6f72 6d61 7428 0a20 2020 2020  resFormat(.     
+00012aa0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00012ab0: 7474 6163 685f 6964 3d22 6469 6622 2c0a  ttach_id="dif",.
+00012ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ad0: 2020 2020 666f 726d 6174 5f3d 4154 5441      format_=ATTA
+00012ae0: 4348 4d45 4e54 5f46 4f52 4d41 545b 5052  CHMENT_FORMAT[PR
+00012af0: 4553 5f32 305f 5245 5155 4553 545d 5b0a  ES_20_REQUEST][.
+00012b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b10: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
+00012b20: 6f72 6d61 742e 466f 726d 6174 2e44 4946  ormat.Format.DIF
+00012b30: 2e61 7069 0a20 2020 2020 2020 2020 2020  .api.           
+00012b40: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+00012b50: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+00012b60: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00012b70: 2020 2020 2020 2020 2072 6571 7565 7374           request
+00012b80: 5f70 7265 7365 6e74 6174 696f 6e73 5f61  _presentations_a
+00012b90: 7474 6163 683d 5b0a 2020 2020 2020 2020  ttach=[.        
+00012ba0: 2020 2020 2020 2020 4174 7461 6368 4465          AttachDe
+00012bb0: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
+00012bc0: 6e28 6469 665f 7072 6f6f 665f 7265 712c  n(dif_proof_req,
+00012bd0: 2069 6465 6e74 3d22 6469 6622 290a 2020   ident="dif").  
+00012be0: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+00012bf0: 2020 2020 2029 0a20 2020 2020 2020 2072       ).        r
+00012c00: 6563 6f72 6420 3d20 5632 3050 7265 7345  ecord = V20PresE
+00012c10: 7852 6563 6f72 6428 0a20 2020 2020 2020  xRecord(.       
+00012c20: 2020 2020 2070 7265 735f 6578 5f69 643d       pres_ex_id=
+00012c30: 2270 7869 6422 2c0a 2020 2020 2020 2020  "pxid",.        
+00012c40: 2020 2020 7468 7265 6164 5f69 643d 2274      thread_id="t
+00012c50: 6869 6422 2c0a 2020 2020 2020 2020 2020  hid",.          
+00012c60: 2020 636f 6e6e 6563 7469 6f6e 5f69 643d    connection_id=
+00012c70: 2263 6f6e 6e5f 6964 222c 0a20 2020 2020  "conn_id",.     
+00012c80: 2020 2020 2020 2069 6e69 7469 6174 6f72         initiator
+00012c90: 3d22 696e 6974 222c 0a20 2020 2020 2020  ="init",.       
+00012ca0: 2020 2020 2072 6f6c 653d 2272 6f6c 6522       role="role"
+00012cb0: 2c0a 2020 2020 2020 2020 2020 2020 7374  ,.            st
+00012cc0: 6174 653d 2273 7461 7465 222c 0a20 2020  ate="state",.   
+00012cd0: 2020 2020 2020 2020 2070 7265 735f 7265           pres_re
+00012ce0: 7175 6573 743d 6469 665f 7072 6573 5f72  quest=dif_pres_r
+00012cf0: 6571 7565 7374 2c0a 2020 2020 2020 2020  equest,.        
+00012d00: 2020 2020 7072 6573 3d64 6966 5f70 7265      pres=dif_pre
+00012d10: 732c 0a20 2020 2020 2020 2020 2020 2076  s,.            v
+00012d20: 6572 6966 6965 643d 2266 616c 7365 222c  erified="false",
+00012d30: 0a20 2020 2020 2020 2020 2020 2061 7574  .            aut
+00012d40: 6f5f 7072 6573 656e 743d 5472 7565 2c0a  o_present=True,.
+00012d50: 2020 2020 2020 2020 2020 2020 6572 726f              erro
+00012d60: 725f 6d73 673d 2265 7272 6f72 222c 0a20  r_msg="error",. 
+00012d70: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+00012d80: 2077 6974 6820 6173 796e 635f 6d6f 636b   with async_mock
+00012d90: 2e70 6174 6368 2e6f 626a 6563 7428 0a20  .patch.object(. 
+00012da0: 2020 2020 2020 2020 2020 2074 6573 745f             test_
+00012db0: 6d6f 6475 6c65 2e4c 4f47 4745 522c 2022  module.LOGGER, "
+00012dc0: 6572 726f 7222 2c20 6173 796e 635f 6d6f  error", async_mo
+00012dd0: 636b 2e4d 6167 6963 4d6f 636b 2829 0a20  ck.MagicMock(). 
+00012de0: 2020 2020 2020 2029 2061 7320 6d6f 636b         ) as mock
+00012df0: 5f6c 6f67 5f65 7272 3a0a 2020 2020 2020  _log_err:.      
+00012e00: 2020 2020 2020 6177 6169 7420 7365 6c66        await self
+00012e10: 2e68 616e 646c 6572 2e72 6563 6569 7665  .handler.receive
+00012e20: 5f70 7265 7328 6d65 7373 6167 653d 6469  _pres(message=di
+00012e30: 665f 7072 6573 2c20 7072 6573 5f65 785f  f_pres, pres_ex_
+00012e40: 7265 636f 7264 3d72 6563 6f72 6429 0a20  record=record). 
+00012e50: 2020 2020 2020 2020 2020 206d 6f63 6b5f             mock_
+00012e60: 6c6f 675f 6572 722e 6173 7365 7274 5f63  log_err.assert_c
+00012e70: 616c 6c65 645f 6f6e 6365 2829 0a0a 2020  alled_once()..  
+00012e80: 2020 6173 796e 6320 6465 6620 7465 7374    async def test
+00012e90: 5f76 6572 6966 795f 7265 6365 6976 6564  _verify_received
+00012ea0: 5f70 7265 735f 6c69 6d69 745f 6469 7363  _pres_limit_disc
+00012eb0: 6c6f 7375 7265 5f66 6169 6c5f 6128 7365  losure_fail_a(se
+00012ec0: 6c66 293a 0a20 2020 2020 2020 2064 6966  lf):.        dif
+00012ed0: 5f70 726f 6f66 203d 2064 6565 7063 6f70  _proof = deepcop
+00012ee0: 7928 4449 465f 5052 4553 290a 2020 2020  y(DIF_PRES).    
+00012ef0: 2020 2020 6469 665f 7072 6f6f 665b 2276      dif_proof["v
+00012f00: 6572 6966 6961 626c 6543 7265 6465 6e74  erifiableCredent
+00012f10: 6961 6c22 5d5b 305d 5b22 6578 7069 7261  ial"][0]["expira
+00012f20: 7469 6f6e 4461 7465 225d 203d 2022 5465  tionDate"] = "Te
+00012f30: 7374 220a 2020 2020 2020 2020 6469 665f  st".        dif_
+00012f40: 7072 6573 203d 2056 3230 5072 6573 280a  pres = V20Pres(.
+00012f50: 2020 2020 2020 2020 2020 2020 666f 726d              form
+00012f60: 6174 733d 5b0a 2020 2020 2020 2020 2020  ats=[.          
+00012f70: 2020 2020 2020 5632 3050 7265 7346 6f72        V20PresFor
+00012f80: 6d61 7428 0a20 2020 2020 2020 2020 2020  mat(.           
+00012f90: 2020 2020 2020 2020 2061 7474 6163 685f           attach_
+00012fa0: 6964 3d22 6469 6622 2c0a 2020 2020 2020  id="dif",.      
+00012fb0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00012fc0: 726d 6174 5f3d 4154 5441 4348 4d45 4e54  rmat_=ATTACHMENT
+00012fd0: 5f46 4f52 4d41 545b 5052 4553 5f32 305d  _FORMAT[PRES_20]
+00012fe0: 5b56 3230 5072 6573 466f 726d 6174 2e46  [V20PresFormat.F
+00012ff0: 6f72 6d61 742e 4449 462e 6170 695d 2c0a  ormat.DIF.api],.
+00013000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013010: 290a 2020 2020 2020 2020 2020 2020 5d2c  ).            ],
+00013020: 0a20 2020 2020 2020 2020 2020 2070 7265  .            pre
+00013030: 7365 6e74 6174 696f 6e73 5f61 7474 6163  sentations_attac
+00013040: 683d 5b0a 2020 2020 2020 2020 2020 2020  h=[.            
+00013050: 2020 2020 4174 7461 6368 4465 636f 7261      AttachDecora
+00013060: 746f 722e 6461 7461 5f6a 736f 6e28 0a20  tor.data_json(. 
+00013070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013080: 2020 206d 6170 7069 6e67 3d64 6966 5f70     mapping=dif_p
+00013090: 726f 6f66 2c0a 2020 2020 2020 2020 2020  roof,.          
+000130a0: 2020 2020 2020 2020 2020 6964 656e 743d            ident=
+000130b0: 2264 6966 222c 0a20 2020 2020 2020 2020  "dif",.         
+000130c0: 2020 2020 2020 2029 0a20 2020 2020 2020         ).       
+000130d0: 2020 2020 205d 2c0a 2020 2020 2020 2020       ],.        
+000130e0: 290a 0a20 2020 2020 2020 2064 6966 5f70  )..        dif_p
+000130f0: 7265 735f 7265 7175 6573 7420 3d20 5632  res_request = V2
+00013100: 3050 7265 7352 6571 7565 7374 280a 2020  0PresRequest(.  
+00013110: 2020 2020 2020 2020 2020 666f 726d 6174            format
+00013120: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+00013130: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
+00013140: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+00013150: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
+00013160: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
+00013170: 2020 2020 2020 2020 2020 2020 666f 726d              form
+00013180: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
+00013190: 4f52 4d41 545b 5052 4553 5f32 305f 5245  ORMAT[PRES_20_RE
+000131a0: 5155 4553 545d 5b0a 2020 2020 2020 2020  QUEST][.        
+000131b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131c0: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
+000131d0: 726d 6174 2e44 4946 2e61 7069 0a20 2020  rmat.DIF.api.   
+000131e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131f0: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00013200: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00013210: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+00013220: 2072 6571 7565 7374 5f70 7265 7365 6e74   request_present
+00013230: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
+00013240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013250: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
+00013260: 6461 7461 5f6a 736f 6e28 4449 465f 5052  data_json(DIF_PR
+00013270: 4553 5f52 4551 5545 5354 5f42 2c20 6964  ES_REQUEST_B, id
+00013280: 656e 743d 2264 6966 2229 0a20 2020 2020  ent="dif").     
+00013290: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+000132a0: 2020 290a 2020 2020 2020 2020 7265 636f    ).        reco
+000132b0: 7264 203d 2056 3230 5072 6573 4578 5265  rd = V20PresExRe
+000132c0: 636f 7264 280a 2020 2020 2020 2020 2020  cord(.          
+000132d0: 2020 7072 6573 5f65 785f 6964 3d22 7078    pres_ex_id="px
+000132e0: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+000132f0: 2074 6872 6561 645f 6964 3d22 7468 6964   thread_id="thid
+00013300: 222c 0a20 2020 2020 2020 2020 2020 2063  ",.            c
+00013310: 6f6e 6e65 6374 696f 6e5f 6964 3d22 636f  onnection_id="co
+00013320: 6e6e 5f69 6422 2c0a 2020 2020 2020 2020  nn_id",.        
+00013330: 2020 2020 696e 6974 6961 746f 723d 2269      initiator="i
+00013340: 6e69 7422 2c0a 2020 2020 2020 2020 2020  nit",.          
+00013350: 2020 726f 6c65 3d22 726f 6c65 222c 0a20    role="role",. 
+00013360: 2020 2020 2020 2020 2020 2073 7461 7465             state
+00013370: 3d22 7374 6174 6522 2c0a 2020 2020 2020  ="state",.      
+00013380: 2020 2020 2020 7072 6573 5f72 6571 7565        pres_reque
+00013390: 7374 3d64 6966 5f70 7265 735f 7265 7175  st=dif_pres_requ
+000133a0: 6573 742c 0a20 2020 2020 2020 2020 2020  est,.           
+000133b0: 2070 7265 733d 6469 665f 7072 6573 2c0a   pres=dif_pres,.
+000133c0: 2020 2020 2020 2020 2020 2020 7665 7269              veri
+000133d0: 6669 6564 3d22 6661 6c73 6522 2c0a 2020  fied="false",.  
+000133e0: 2020 2020 2020 2020 2020 6175 746f 5f70            auto_p
+000133f0: 7265 7365 6e74 3d54 7275 652c 0a20 2020  resent=True,.   
+00013400: 2020 2020 2020 2020 2065 7272 6f72 5f6d           error_m
+00013410: 7367 3d22 6572 726f 7222 2c0a 2020 2020  sg="error",.    
+00013420: 2020 2020 290a 2020 2020 2020 2020 7769      ).        wi
+00013430: 7468 2061 7379 6e63 5f6d 6f63 6b2e 7061  th async_mock.pa
+00013440: 7463 682e 6f62 6a65 6374 280a 2020 2020  tch.object(.    
+00013450: 2020 2020 2020 2020 7465 7374 5f6d 6f64          test_mod
+00013460: 756c 652e 4c4f 4747 4552 2c20 2265 7272  ule.LOGGER, "err
+00013470: 6f72 222c 2061 7379 6e63 5f6d 6f63 6b2e  or", async_mock.
+00013480: 4d61 6769 634d 6f63 6b28 290a 2020 2020  MagicMock().    
+00013490: 2020 2020 2920 6173 206d 6f63 6b5f 6c6f      ) as mock_lo
+000134a0: 675f 6572 723a 0a20 2020 2020 2020 2020  g_err:.         
+000134b0: 2020 2061 7761 6974 2073 656c 662e 6861     await self.ha
+000134c0: 6e64 6c65 722e 7265 6365 6976 655f 7072  ndler.receive_pr
+000134d0: 6573 286d 6573 7361 6765 3d64 6966 5f70  es(message=dif_p
+000134e0: 7265 732c 2070 7265 735f 6578 5f72 6563  res, pres_ex_rec
+000134f0: 6f72 643d 7265 636f 7264 290a 2020 2020  ord=record).    
+00013500: 2020 2020 2020 2020 6d6f 636b 5f6c 6f67          mock_log
+00013510: 5f65 7272 2e61 7373 6572 745f 6361 6c6c  _err.assert_call
+00013520: 6564 5f6f 6e63 6528 290a 0a20 2020 2061  ed_once()..    a
+00013530: 7379 6e63 2064 6566 2074 6573 745f 7665  sync def test_ve
+00013540: 7269 6679 5f72 6563 6569 7665 645f 7072  rify_received_pr
+00013550: 6573 5f6c 696d 6974 5f64 6973 636c 6f73  es_limit_disclos
+00013560: 7572 655f 6661 696c 5f62 2873 656c 6629  ure_fail_b(self)
+00013570: 3a0a 2020 2020 2020 2020 6469 665f 7072  :.        dif_pr
+00013580: 6f6f 6620 3d20 6465 6570 636f 7079 2844  oof = deepcopy(D
+00013590: 4946 5f50 5245 5329 0a20 2020 2020 2020  IF_PRES).       
+000135a0: 2064 6966 5f70 726f 6f66 5b22 7665 7269   dif_proof["veri
+000135b0: 6669 6162 6c65 4372 6564 656e 7469 616c  fiableCredential
+000135c0: 225d 5b30 5d5b 2263 7265 6465 6e74 6961  "][0]["credentia
+000135d0: 6c53 7562 6a65 6374 225d 5b22 7465 7374  lSubject"]["test
+000135e0: 225d 203d 2022 5465 7374 220a 2020 2020  "] = "Test".    
+000135f0: 2020 2020 6469 665f 7072 6573 203d 2056      dif_pres = V
+00013600: 3230 5072 6573 280a 2020 2020 2020 2020  20Pres(.        
+00013610: 2020 2020 666f 726d 6174 733d 5b0a 2020      formats=[.  
+00013620: 2020 2020 2020 2020 2020 2020 2020 5632                V2
+00013630: 3050 7265 7346 6f72 6d61 7428 0a20 2020  0PresFormat(.   
+00013640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013650: 2061 7474 6163 685f 6964 3d22 6469 6622   attach_id="dif"
+00013660: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00013670: 2020 2020 2020 666f 726d 6174 5f3d 4154        format_=AT
+00013680: 5441 4348 4d45 4e54 5f46 4f52 4d41 545b  TACHMENT_FORMAT[
+00013690: 5052 4553 5f32 305d 5b56 3230 5072 6573  PRES_20][V20Pres
+000136a0: 466f 726d 6174 2e46 6f72 6d61 742e 4449  Format.Format.DI
+000136b0: 462e 6170 695d 2c0a 2020 2020 2020 2020  F.api],.        
+000136c0: 2020 2020 2020 2020 290a 2020 2020 2020          ).      
+000136d0: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+000136e0: 2020 2020 2070 7265 7365 6e74 6174 696f       presentatio
+000136f0: 6e73 5f61 7474 6163 683d 5b0a 2020 2020  ns_attach=[.    
+00013700: 2020 2020 2020 2020 2020 2020 4174 7461              Atta
+00013710: 6368 4465 636f 7261 746f 722e 6461 7461  chDecorator.data
+00013720: 5f6a 736f 6e28 0a20 2020 2020 2020 2020  _json(.         
+00013730: 2020 2020 2020 2020 2020 206d 6170 7069             mappi
+00013740: 6e67 3d64 6966 5f70 726f 6f66 2c0a 2020  ng=dif_proof,.  
+00013750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013760: 2020 6964 656e 743d 2264 6966 222c 0a20    ident="dif",. 
+00013770: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00013780: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
+00013790: 2020 2020 2020 2020 290a 0a20 2020 2020          )..     
+000137a0: 2020 2064 6966 5f70 7265 735f 7265 7175     dif_pres_requ
+000137b0: 6573 7420 3d20 5632 3050 7265 7352 6571  est = V20PresReq
+000137c0: 7565 7374 280a 2020 2020 2020 2020 2020  uest(.          
+000137d0: 2020 666f 726d 6174 733d 5b0a 2020 2020    formats=[.    
+000137e0: 2020 2020 2020 2020 2020 2020 5632 3050              V20P
+000137f0: 7265 7346 6f72 6d61 7428 0a20 2020 2020  resFormat(.     
+00013800: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00013810: 7474 6163 685f 6964 3d22 6469 6622 2c0a  ttach_id="dif",.
+00013820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013830: 2020 2020 666f 726d 6174 5f3d 4154 5441      format_=ATTA
+00013840: 4348 4d45 4e54 5f46 4f52 4d41 545b 5052  CHMENT_FORMAT[PR
+00013850: 4553 5f32 305f 5245 5155 4553 545d 5b0a  ES_20_REQUEST][.
+00013860: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013870: 2020 2020 2020 2020 5632 3050 7265 7346          V20PresF
+00013880: 6f72 6d61 742e 466f 726d 6174 2e44 4946  ormat.Format.DIF
+00013890: 2e61 7069 0a20 2020 2020 2020 2020 2020  .api.           
+000138a0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+000138b0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+000138c0: 2020 2020 2020 2020 2020 5d2c 0a20 2020            ],.   
+000138d0: 2020 2020 2020 2020 2072 6571 7565 7374           request
+000138e0: 5f70 7265 7365 6e74 6174 696f 6e73 5f61  _presentations_a
+000138f0: 7474 6163 683d 5b0a 2020 2020 2020 2020  ttach=[.        
+00013900: 2020 2020 2020 2020 4174 7461 6368 4465          AttachDe
+00013910: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
+00013920: 6e28 4449 465f 5052 4553 5f52 4551 5545  n(DIF_PRES_REQUE
+00013930: 5354 5f42 2c20 6964 656e 743d 2264 6966  ST_B, ident="dif
+00013940: 2229 0a20 2020 2020 2020 2020 2020 205d  ").            ]
+00013950: 2c0a 2020 2020 2020 2020 290a 2020 2020  ,.        ).    
+00013960: 2020 2020 7265 636f 7264 203d 2056 3230      record = V20
+00013970: 5072 6573 4578 5265 636f 7264 280a 2020  PresExRecord(.  
+00013980: 2020 2020 2020 2020 2020 7072 6573 5f65            pres_e
+00013990: 785f 6964 3d22 7078 6964 222c 0a20 2020  x_id="pxid",.   
+000139a0: 2020 2020 2020 2020 2074 6872 6561 645f           thread_
+000139b0: 6964 3d22 7468 6964 222c 0a20 2020 2020  id="thid",.     
+000139c0: 2020 2020 2020 2063 6f6e 6e65 6374 696f         connectio
+000139d0: 6e5f 6964 3d22 636f 6e6e 5f69 6422 2c0a  n_id="conn_id",.
+000139e0: 2020 2020 2020 2020 2020 2020 696e 6974              init
+000139f0: 6961 746f 723d 2269 6e69 7422 2c0a 2020  iator="init",.  
+00013a00: 2020 2020 2020 2020 2020 726f 6c65 3d22            role="
+00013a10: 726f 6c65 222c 0a20 2020 2020 2020 2020  role",.         
+00013a20: 2020 2073 7461 7465 3d22 7374 6174 6522     state="state"
+00013a30: 2c0a 2020 2020 2020 2020 2020 2020 7072  ,.            pr
+00013a40: 6573 5f72 6571 7565 7374 3d64 6966 5f70  es_request=dif_p
+00013a50: 7265 735f 7265 7175 6573 742c 0a20 2020  res_request,.   
+00013a60: 2020 2020 2020 2020 2070 7265 733d 6469           pres=di
+00013a70: 665f 7072 6573 2c0a 2020 2020 2020 2020  f_pres,.        
+00013a80: 2020 2020 7665 7269 6669 6564 3d22 6661      verified="fa
+00013a90: 6c73 6522 2c0a 2020 2020 2020 2020 2020  lse",.          
+00013aa0: 2020 6175 746f 5f70 7265 7365 6e74 3d54    auto_present=T
+00013ab0: 7275 652c 0a20 2020 2020 2020 2020 2020  rue,.           
+00013ac0: 2065 7272 6f72 5f6d 7367 3d22 6572 726f   error_msg="erro
+00013ad0: 7222 2c0a 2020 2020 2020 2020 290a 2020  r",.        ).  
+00013ae0: 2020 2020 2020 7769 7468 2061 7379 6e63        with async
+00013af0: 5f6d 6f63 6b2e 7061 7463 682e 6f62 6a65  _mock.patch.obje
+00013b00: 6374 280a 2020 2020 2020 2020 2020 2020  ct(.            
+00013b10: 7465 7374 5f6d 6f64 756c 652e 4c4f 4747  test_module.LOGG
+00013b20: 4552 2c20 2265 7272 6f72 222c 2061 7379  ER, "error", asy
+00013b30: 6e63 5f6d 6f63 6b2e 4d61 6769 634d 6f63  nc_mock.MagicMoc
+00013b40: 6b28 290a 2020 2020 2020 2020 2920 6173  k().        ) as
+00013b50: 206d 6f63 6b5f 6c6f 675f 6572 723a 0a20   mock_log_err:. 
+00013b60: 2020 2020 2020 2020 2020 2061 7761 6974             await
+00013b70: 2073 656c 662e 6861 6e64 6c65 722e 7265   self.handler.re
+00013b80: 6365 6976 655f 7072 6573 286d 6573 7361  ceive_pres(messa
+00013b90: 6765 3d64 6966 5f70 7265 732c 2070 7265  ge=dif_pres, pre
+00013ba0: 735f 6578 5f72 6563 6f72 643d 7265 636f  s_ex_record=reco
+00013bb0: 7264 290a 2020 2020 2020 2020 2020 2020  rd).            
+00013bc0: 6d6f 636b 5f6c 6f67 5f65 7272 2e61 7373  mock_log_err.ass
+00013bd0: 6572 745f 6361 6c6c 6564 5f6f 6e63 6528  ert_called_once(
+00013be0: 290a 0a20 2020 2061 7379 6e63 2064 6566  )..    async def
+00013bf0: 2074 6573 745f 7665 7269 6679 5f72 6563   test_verify_rec
+00013c00: 6569 7665 645f 7072 6573 5f66 6169 6c5f  eived_pres_fail_
+00013c10: 7363 6865 6d61 5f66 696c 7465 7228 7365  schema_filter(se
+00013c20: 6c66 293a 0a20 2020 2020 2020 2064 6966  lf):.        dif
+00013c30: 5f70 726f 6f66 203d 2064 6565 7063 6f70  _proof = deepcop
+00013c40: 7928 4449 465f 5052 4553 290a 2020 2020  y(DIF_PRES).    
+00013c50: 2020 2020 6372 6564 5f64 6963 7420 3d20      cred_dict = 
+00013c60: 6465 6570 636f 7079 2854 4553 545f 4352  deepcopy(TEST_CR
+00013c70: 4544 5f44 4943 5429 0a20 2020 2020 2020  ED_DICT).       
+00013c80: 2063 7265 645f 6469 6374 5b22 6372 6564   cred_dict["cred
+00013c90: 656e 7469 616c 5375 626a 6563 7422 5d5b  entialSubject"][
+00013ca0: 2250 6174 6965 6e74 225d 203d 205b 0a20  "Patient"] = [. 
+00013cb0: 2020 2020 2020 2020 2020 207b 0a20 2020             {.   
+00013cc0: 2020 2020 2020 2020 2020 2020 2022 6164               "ad
+00013cd0: 6472 6573 7322 3a20 5b0a 2020 2020 2020  dress": [.      
+00013ce0: 2020 2020 2020 2020 2020 2020 2020 7b0a                {.
+00013cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d00: 2020 2020 2020 2020 2240 6964 223a 2022          "@id": "
+00013d10: 7572 6e3a 626e 6964 3a5f 3a63 3134 6e31  urn:bnid:_:c14n1
+00013d20: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00013d30: 2020 2020 2020 2020 2020 2022 6369 7479             "city
+00013d40: 223a 2022 d0a0 d183 d0bc d0b0 222c 0a20  ": "........",. 
+00013d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d60: 2020 207d 2c0a 2020 2020 2020 2020 2020     },.          
+00013d70: 2020 2020 2020 2020 2020 7b0a 2020 2020            {.    
+00013d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d90: 2020 2020 2240 6964 223a 2022 7572 6e3a      "@id": "urn:
+00013da0: 626e 6964 3a5f 3a63 3134 6e31 222c 0a20  bnid:_:c14n1",. 
+00013db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013dc0: 2020 2020 2020 2022 6369 7479 223a 2022         "city": "
+00013dd0: d0a0 d183 d0bc d0b0 222c 0a20 2020 2020  ........",.     
+00013de0: 2020 2020 2020 2020 2020 2020 2020 207d                 }
+00013df0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00013e00: 2020 5d0a 2020 2020 2020 2020 2020 2020    ].            
+00013e10: 7d2c 0a20 2020 2020 2020 2020 2020 207b  },.            {
+00013e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00013e30: 2022 6164 6472 6573 7322 3a20 5b0a 2020   "address": [.  
+00013e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013e50: 2020 7b0a 2020 2020 2020 2020 2020 2020    {.            
+00013e60: 2020 2020 2020 2020 2020 2020 2240 6964              "@id
+00013e70: 223a 2022 7572 6e3a 626e 6964 3a5f 3a63  ": "urn:bnid:_:c
+00013e80: 3134 6e31 222c 0a20 2020 2020 2020 2020  14n1",.         
+00013e90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00013ea0: 6369 7479 223a 2022 d0a0 d183 d0bc d0b0  city": "........
+00013eb0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00013ec0: 2020 2020 2020 207d 2c0a 2020 2020 2020         },.      
+00013ed0: 2020 2020 2020 2020 2020 2020 2020 7b0a                {.
+00013ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ef0: 2020 2020 2020 2020 2240 6964 223a 2022          "@id": "
+00013f00: 7572 6e3a 626e 6964 3a5f 3a63 3134 6e31  urn:bnid:_:c14n1
+00013f10: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00013f20: 2020 2020 2020 2020 2020 2022 6369 7479             "city
+00013f30: 223a 2022 d0a0 d183 d0bc d0b0 222c 0a20  ": "........",. 
+00013f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013f50: 2020 207d 2c0a 2020 2020 2020 2020 2020     },.          
+00013f60: 2020 2020 2020 5d0a 2020 2020 2020 2020        ].        
+00013f70: 2020 2020 7d2c 0a20 2020 2020 2020 205d      },.        ]
+00013f80: 0a20 2020 2020 2020 2064 6966 5f70 726f  .        dif_pro
+00013f90: 6f66 5b22 7665 7269 6669 6162 6c65 4372  of["verifiableCr
+00013fa0: 6564 656e 7469 616c 225d 203d 205b 5d0a  edential"] = [].
+00013fb0: 2020 2020 2020 2020 6469 665f 7072 6f6f          dif_proo
+00013fc0: 665b 2276 6572 6966 6961 626c 6543 7265  f["verifiableCre
+00013fd0: 6465 6e74 6961 6c22 5d2e 6170 7065 6e64  dential"].append
+00013fe0: 2863 7265 645f 6469 6374 290a 2020 2020  (cred_dict).    
+00013ff0: 2020 2020 6469 665f 7072 6f6f 665b 2276      dif_proof["v
+00014000: 6572 6966 6961 626c 6543 7265 6465 6e74  erifiableCredent
+00014010: 6961 6c22 5d2e 6170 7065 6e64 2863 7265  ial"].append(cre
+00014020: 645f 6469 6374 290a 2020 2020 2020 2020  d_dict).        
+00014030: 6469 665f 7072 6573 203d 2056 3230 5072  dif_pres = V20Pr
+00014040: 6573 280a 2020 2020 2020 2020 2020 2020  es(.            
+00014050: 666f 726d 6174 733d 5b0a 2020 2020 2020  formats=[.      
+00014060: 2020 2020 2020 2020 2020 5632 3050 7265            V20Pre
+00014070: 7346 6f72 6d61 7428 0a20 2020 2020 2020  sFormat(.       
+00014080: 2020 2020 2020 2020 2020 2020 2061 7474               att
+00014090: 6163 685f 6964 3d22 6469 6622 2c0a 2020  ach_id="dif",.  
+000140a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000140b0: 2020 666f 726d 6174 5f3d 4154 5441 4348    format_=ATTACH
+000140c0: 4d45 4e54 5f46 4f52 4d41 545b 5052 4553  MENT_FORMAT[PRES
+000140d0: 5f32 305d 5b56 3230 5072 6573 466f 726d  _20][V20PresForm
+000140e0: 6174 2e46 6f72 6d61 742e 4449 462e 6170  at.Format.DIF.ap
+000140f0: 695d 2c0a 2020 2020 2020 2020 2020 2020  i],.            
+00014100: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00014110: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+00014120: 2070 7265 7365 6e74 6174 696f 6e73 5f61   presentations_a
+00014130: 7474 6163 683d 5b0a 2020 2020 2020 2020  ttach=[.        
+00014140: 2020 2020 2020 2020 4174 7461 6368 4465          AttachDe
+00014150: 636f 7261 746f 722e 6461 7461 5f6a 736f  corator.data_jso
+00014160: 6e28 0a20 2020 2020 2020 2020 2020 2020  n(.             
+00014170: 2020 2020 2020 206d 6170 7069 6e67 3d64         mapping=d
+00014180: 6966 5f70 726f 6f66 2c0a 2020 2020 2020  if_proof,.      
+00014190: 2020 2020 2020 2020 2020 2020 2020 6964                id
+000141a0: 656e 743d 2264 6966 222c 0a20 2020 2020  ent="dif",.     
+000141b0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+000141c0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+000141d0: 2020 2020 290a 2020 2020 2020 2020 7072      ).        pr
+000141e0: 6573 5f72 6571 7565 7374 203d 2064 6565  es_request = dee
+000141f0: 7063 6f70 7928 4449 465f 5052 4553 5f52  pcopy(DIF_PRES_R
+00014200: 4551 5545 5354 5f42 290a 2020 2020 2020  EQUEST_B).      
+00014210: 2020 7072 6573 5f72 6571 7565 7374 5b22    pres_request["
+00014220: 7072 6573 656e 7461 7469 6f6e 5f64 6566  presentation_def
+00014230: 696e 6974 696f 6e22 5d5b 2269 6e70 7574  inition"]["input
+00014240: 5f64 6573 6372 6970 746f 7273 225d 5b30  _descriptors"][0
+00014250: 5d5b 0a20 2020 2020 2020 2020 2020 2022  ][.            "
+00014260: 636f 6e73 7472 6169 6e74 7322 0a20 2020  constraints".   
+00014270: 2020 2020 205d 203d 207b 0a20 2020 2020       ] = {.     
+00014280: 2020 2020 2020 2022 6c69 6d69 745f 6469         "limit_di
+00014290: 7363 6c6f 7375 7265 223a 2022 7265 7175  sclosure": "requ
+000142a0: 6972 6564 222c 0a20 2020 2020 2020 2020  ired",.         
+000142b0: 2020 2022 6669 656c 6473 223a 205b 0a20     "fields": [. 
+000142c0: 2020 2020 2020 2020 2020 2020 2020 207b                 {
+000142d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000142e0: 2020 2020 2022 7061 7468 223a 205b 2224       "path": ["$
+000142f0: 2e63 7265 6465 6e74 6961 6c53 7562 6a65  .credentialSubje
+00014300: 6374 2e50 6174 6965 6e74 5b30 5d2e 6164  ct.Patient[0].ad
+00014310: 6472 6573 735b 2a5d 2e63 6974 7922 5d2c  dress[*].city"],
+00014320: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014330: 2020 2020 2022 7075 7270 6f73 6522 3a20       "purpose": 
+00014340: 2254 6573 7422 2c0a 2020 2020 2020 2020  "Test",.        
+00014350: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
+00014360: 2020 2020 2020 5d2c 0a20 2020 2020 2020        ],.       
+00014370: 207d 0a20 2020 2020 2020 2064 6966 5f70   }.        dif_p
+00014380: 7265 735f 7265 7175 6573 7420 3d20 5632  res_request = V2
+00014390: 3050 7265 7352 6571 7565 7374 280a 2020  0PresRequest(.  
+000143a0: 2020 2020 2020 2020 2020 666f 726d 6174            format
+000143b0: 733d 5b0a 2020 2020 2020 2020 2020 2020  s=[.            
+000143c0: 2020 2020 5632 3050 7265 7346 6f72 6d61      V20PresForma
+000143d0: 7428 0a20 2020 2020 2020 2020 2020 2020  t(.             
+000143e0: 2020 2020 2020 2061 7474 6163 685f 6964         attach_id
+000143f0: 3d22 6469 6622 2c0a 2020 2020 2020 2020  ="dif",.        
+00014400: 2020 2020 2020 2020 2020 2020 666f 726d              form
+00014410: 6174 5f3d 4154 5441 4348 4d45 4e54 5f46  at_=ATTACHMENT_F
+00014420: 4f52 4d41 545b 5052 4553 5f32 305f 5245  ORMAT[PRES_20_RE
+00014430: 5155 4553 545d 5b0a 2020 2020 2020 2020  QUEST][.        
+00014440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014450: 5632 3050 7265 7346 6f72 6d61 742e 466f  V20PresFormat.Fo
+00014460: 726d 6174 2e44 4946 2e61 7069 0a20 2020  rmat.DIF.api.   
+00014470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014480: 205d 2c0a 2020 2020 2020 2020 2020 2020   ],.            
+00014490: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+000144a0: 2020 5d2c 0a20 2020 2020 2020 2020 2020    ],.           
+000144b0: 2072 6571 7565 7374 5f70 7265 7365 6e74   request_present
+000144c0: 6174 696f 6e73 5f61 7474 6163 683d 5b0a  ations_attach=[.
+000144d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144e0: 4174 7461 6368 4465 636f 7261 746f 722e  AttachDecorator.
+000144f0: 6461 7461 5f6a 736f 6e28 7072 6573 5f72  data_json(pres_r
+00014500: 6571 7565 7374 2c20 6964 656e 743d 2264  equest, ident="d
+00014510: 6966 2229 0a20 2020 2020 2020 2020 2020  if").           
+00014520: 205d 2c0a 2020 2020 2020 2020 290a 2020   ],.        ).  
+00014530: 2020 2020 2020 7265 636f 7264 203d 2056        record = V
+00014540: 3230 5072 6573 4578 5265 636f 7264 280a  20PresExRecord(.
+00014550: 2020 2020 2020 2020 2020 2020 7072 6573              pres
+00014560: 5f65 785f 6964 3d22 7078 6964 222c 0a20  _ex_id="pxid",. 
+00014570: 2020 2020 2020 2020 2020 2074 6872 6561             threa
+00014580: 645f 6964 3d22 7468 6964 222c 0a20 2020  d_id="thid",.   
+00014590: 2020 2020 2020 2020 2063 6f6e 6e65 6374           connect
+000145a0: 696f 6e5f 6964 3d22 636f 6e6e 5f69 6422  ion_id="conn_id"
+000145b0: 2c0a 2020 2020 2020 2020 2020 2020 696e  ,.            in
+000145c0: 6974 6961 746f 723d 2269 6e69 7422 2c0a  itiator="init",.
+000145d0: 2020 2020 2020 2020 2020 2020 726f 6c65              role
+000145e0: 3d22 726f 6c65 222c 0a20 2020 2020 2020  ="role",.       
+000145f0: 2020 2020 2073 7461 7465 3d22 7374 6174       state="stat
+00014600: 6522 2c0a 2020 2020 2020 2020 2020 2020  e",.            
+00014610: 7072 6573 5f72 6571 7565 7374 3d64 6966  pres_request=dif
+00014620: 5f70 7265 735f 7265 7175 6573 742c 0a20  _pres_request,. 
+00014630: 2020 2020 2020 2020 2020 2070 7265 733d             pres=
+00014640: 6469 665f 7072 6573 2c0a 2020 2020 2020  dif_pres,.      
+00014650: 2020 2020 2020 7665 7269 6669 6564 3d22        verified="
+00014660: 6661 6c73 6522 2c0a 2020 2020 2020 2020  false",.        
+00014670: 2020 2020 6175 746f 5f70 7265 7365 6e74      auto_present
+00014680: 3d54 7275 652c 0a20 2020 2020 2020 2020  =True,.         
+00014690: 2020 2065 7272 6f72 5f6d 7367 3d22 6572     error_msg="er
+000146a0: 726f 7222 2c0a 2020 2020 2020 2020 290a  ror",.        ).
+000146b0: 2020 2020 2020 2020 7769 7468 2061 7379          with asy
+000146c0: 6e63 5f6d 6f63 6b2e 7061 7463 682e 6f62  nc_mock.patch.ob
+000146d0: 6a65 6374 280a 2020 2020 2020 2020 2020  ject(.          
+000146e0: 2020 7465 7374 5f6d 6f64 756c 652e 4c4f    test_module.LO
+000146f0: 4747 4552 2c20 2265 7272 6f72 222c 2061  GGER, "error", a
+00014700: 7379 6e63 5f6d 6f63 6b2e 4d61 6769 634d  sync_mock.MagicM
+00014710: 6f63 6b28 290a 2020 2020 2020 2020 2920  ock().        ) 
+00014720: 6173 206d 6f63 6b5f 6c6f 675f 6572 722c  as mock_log_err,
+00014730: 2061 7379 6e63 5f6d 6f63 6b2e 7061 7463   async_mock.patc
+00014740: 682e 6f62 6a65 6374 280a 2020 2020 2020  h.object(.      
+00014750: 2020 2020 2020 6a73 6f6e 6c64 2c20 2265        jsonld, "e
+00014760: 7870 616e 6422 2c20 6173 796e 635f 6d6f  xpand", async_mo
+00014770: 636b 2e4d 6167 6963 4d6f 636b 2829 0a20  ck.MagicMock(). 
+00014780: 2020 2020 2020 2029 2061 7320 6d6f 636b         ) as mock
+00014790: 5f6a 736f 6e6c 645f 6578 7061 6e64 3a0a  _jsonld_expand:.
+000147a0: 2020 2020 2020 2020 2020 2020 6d6f 636b              mock
+000147b0: 5f6a 736f 6e6c 645f 6578 7061 6e64 2e72  _jsonld_expand.r
+000147c0: 6574 7572 6e5f 7661 6c75 6520 3d20 4558  eturn_value = EX
+000147d0: 5041 4e44 4544 5f43 5245 445f 4648 4952  PANDED_CRED_FHIR
+000147e0: 5f54 5950 455f 320a 2020 2020 2020 2020  _TYPE_2.        
+000147f0: 2020 2020 6177 6169 7420 7365 6c66 2e68      await self.h
+00014800: 616e 646c 6572 2e72 6563 6569 7665 5f70  andler.receive_p
+00014810: 7265 7328 6d65 7373 6167 653d 6469 665f  res(message=dif_
+00014820: 7072 6573 2c20 7072 6573 5f65 785f 7265  pres, pres_ex_re
+00014830: 636f 7264 3d72 6563 6f72 6429 0a20 2020  cord=record).   
+00014840: 2020 2020 2020 2020 206d 6f63 6b5f 6c6f           mock_lo
+00014850: 675f 6572 722e 6173 7365 7274 5f63 616c  g_err.assert_cal
+00014860: 6c65 645f 6f6e 6365 2829 0a0a 2020 2020  led_once()..    
+00014870: 6173 796e 6320 6465 6620 7465 7374 5f63  async def test_c
+00014880: 7265 6174 655f 7072 6573 5f63 6174 6368  reate_pres_catch
+00014890: 5f74 7970 6565 7272 6f72 2873 656c 6629  _typeerror(self)
+000148a0: 3a0a 2020 2020 2020 2020 7365 6c66 2e63  :.        self.c
+000148b0: 6f6e 7465 7874 2e69 6e6a 6563 746f 722e  ontext.injector.
+000148c0: 6269 6e64 5f69 6e73 7461 6e63 6528 0a20  bind_instance(. 
+000148d0: 2020 2020 2020 2020 2020 2056 4348 6f6c             VCHol
+000148e0: 6465 722c 0a20 2020 2020 2020 2020 2020  der,.           
+000148f0: 2061 7379 6e63 5f6d 6f63 6b2e 4d61 6769   async_mock.Magi
+00014900: 634d 6f63 6b28 0a20 2020 2020 2020 2020  cMock(.         
+00014910: 2020 2020 2020 2073 6561 7263 685f 6372         search_cr
+00014920: 6564 656e 7469 616c 733d 6173 796e 635f  edentials=async_
+00014930: 6d6f 636b 2e4d 6167 6963 4d6f 636b 2873  mock.MagicMock(s
+00014940: 6964 655f 6566 6665 6374 3d54 7970 6545  ide_effect=TypeE
+00014950: 7272 6f72 290a 2020 2020 2020 2020 2020  rror).          
+00014960: 2020 292c 0a20 2020 2020 2020 2029 0a20    ),.        ). 
+00014970: 2020 2020 2020 2074 6573 745f 7064 203d         test_pd =
+00014980: 2064 6565 7063 6f70 7928 4449 465f 5052   deepcopy(DIF_PR
+00014990: 4553 5f52 4551 5545 5354 5f42 290a 2020  ES_REQUEST_B).  
+000149a0: 2020 2020 2020 6469 665f 7072 6573 5f72        dif_pres_r
+000149b0: 6571 7565 7374 203d 2056 3230 5072 6573  equest = V20Pres
+000149c0: 5265 7175 6573 7428 0a20 2020 2020 2020  Request(.       
+000149d0: 2020 2020 2066 6f72 6d61 7473 3d5b 0a20       formats=[. 
+000149e0: 2020 2020 2020 2020 2020 2020 2020 2056                 V
+000149f0: 3230 5072 6573 466f 726d 6174 280a 2020  20PresFormat(.  
+00014a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014a10: 2020 6174 7461 6368 5f69 643d 2264 6966    attach_id="dif
+00014a20: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+00014a30: 2020 2020 2020 2066 6f72 6d61 745f 3d41         format_=A
+00014a40: 5454 4143 484d 454e 545f 464f 524d 4154  TTACHMENT_FORMAT
+00014a50: 5b50 5245 535f 3230 5f52 4551 5545 5354  [PRES_20_REQUEST
+00014a60: 5d5b 0a20 2020 2020 2020 2020 2020 2020  ][.             
+00014a70: 2020 2020 2020 2020 2020 2056 3230 5072             V20Pr
+00014a80: 6573 466f 726d 6174 2e46 6f72 6d61 742e  esFormat.Format.
+00014a90: 4449 462e 6170 690a 2020 2020 2020 2020  DIF.api.        
+00014aa0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+00014ab0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
+00014ac0: 0a20 2020 2020 2020 2020 2020 205d 2c0a  .            ],.
+00014ad0: 2020 2020 2020 2020 2020 2020 7265 7175              requ
+00014ae0: 6573 745f 7072 6573 656e 7461 7469 6f6e  est_presentation
+00014af0: 735f 6174 7461 6368 3d5b 0a20 2020 2020  s_attach=[.     
+00014b00: 2020 2020 2020 2020 2020 2041 7474 6163             Attac
+00014b10: 6844 6563 6f72 6174 6f72 2e64 6174 615f  hDecorator.data_
+00014b20: 6a73 6f6e 2874 6573 745f 7064 2c20 6964  json(test_pd, id
+00014b30: 656e 743d 2264 6966 2229 0a20 2020 2020  ent="dif").     
+00014b40: 2020 2020 2020 205d 2c0a 2020 2020 2020         ],.      
+00014b50: 2020 290a 2020 2020 2020 2020 7265 636f    ).        reco
+00014b60: 7264 203d 2056 3230 5072 6573 4578 5265  rd = V20PresExRe
+00014b70: 636f 7264 280a 2020 2020 2020 2020 2020  cord(.          
+00014b80: 2020 7072 6573 5f65 785f 6964 3d22 7078    pres_ex_id="px
+00014b90: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00014ba0: 2074 6872 6561 645f 6964 3d22 7468 6964   thread_id="thid
+00014bb0: 222c 0a20 2020 2020 2020 2020 2020 2063  ",.            c
+00014bc0: 6f6e 6e65 6374 696f 6e5f 6964 3d22 636f  onnection_id="co
+00014bd0: 6e6e 5f69 6422 2c0a 2020 2020 2020 2020  nn_id",.        
+00014be0: 2020 2020 696e 6974 6961 746f 723d 2269      initiator="i
+00014bf0: 6e69 7422 2c0a 2020 2020 2020 2020 2020  nit",.          
+00014c00: 2020 726f 6c65 3d22 726f 6c65 222c 0a20    role="role",. 
+00014c10: 2020 2020 2020 2020 2020 2073 7461 7465             state
+00014c20: 3d22 7374 6174 6522 2c0a 2020 2020 2020  ="state",.      
+00014c30: 2020 2020 2020 7072 6573 5f72 6571 7565        pres_reque
+00014c40: 7374 3d64 6966 5f70 7265 735f 7265 7175  st=dif_pres_requ
+00014c50: 6573 742c 0a20 2020 2020 2020 2020 2020  est,.           
+00014c60: 2076 6572 6966 6965 643d 2266 616c 7365   verified="false
+00014c70: 222c 0a20 2020 2020 2020 2020 2020 2061  ",.            a
+00014c80: 7574 6f5f 7072 6573 656e 743d 5472 7565  uto_present=True
+00014c90: 2c0a 2020 2020 2020 2020 2020 2020 6572  ,.            er
+00014ca0: 726f 725f 6d73 673d 2265 7272 6f72 222c  ror_msg="error",
+00014cb0: 0a20 2020 2020 2020 2029 0a20 2020 2020  .        ).     
+00014cc0: 2020 2061 7761 6974 2073 656c 662e 6861     await self.ha
+00014cd0: 6e64 6c65 722e 6372 6561 7465 5f70 7265  ndler.create_pre
+00014ce0: 7328 7265 636f 7264 290a 0a20 2020 2061  s(record)..    a
+00014cf0: 7379 6e63 2064 6566 2074 6573 745f 6372  sync def test_cr
+00014d00: 6561 7465 5f70 7265 735f 6361 7463 685f  eate_pres_catch_
+00014d10: 6469 6665 7272 6f72 2873 656c 6629 3a0a  diferror(self):.
+00014d20: 2020 2020 2020 2020 6372 6564 5f6c 6973          cred_lis
+00014d30: 7420 3d20 5b0a 2020 2020 2020 2020 2020  t = [.          
+00014d40: 2020 5643 5265 636f 7264 280a 2020 2020    VCRecord(.    
+00014d50: 2020 2020 2020 2020 2020 2020 636f 6e74              cont
+00014d60: 6578 7473 3d5b 0a20 2020 2020 2020 2020  exts=[.         
+00014d70: 2020 2020 2020 2020 2020 2022 6874 7470             "http
+00014d80: 733a 2f2f 7777 772e 7733 2e6f 7267 2f32  s://www.w3.org/2
+00014d90: 3031 382f 6372 6564 656e 7469 616c 732f  018/credentials/
+00014da0: 7631 222c 0a20 2020 2020 2020 2020 2020  v1",.           
+00014db0: 2020 2020 2020 2020 2022 6874 7470 733a           "https:
+00014dc0: 2f2f 7777 772e 7733 2e6f 7267 2f32 3031  //www.w3.org/201
+00014dd0: 382f 6372 6564 656e 7469 616c 732f 6578  8/credentials/ex
+00014de0: 616d 706c 6573 2f76 3122 2c0a 2020 2020  amples/v1",.    
+00014df0: 2020 2020 2020 2020 2020 2020 5d2c 0a20              ],. 
+00014e00: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+00014e10: 7870 616e 6465 645f 7479 7065 733d 5b0a  xpanded_types=[.
+00014e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014e30: 2020 2020 2268 7474 7073 3a2f 2f77 7777      "https://www
+00014e40: 2e77 332e 6f72 672f 3230 3138 2f63 7265  .w3.org/2018/cre
+00014e50: 6465 6e74 6961 6c73 2356 6572 6966 6961  dentials#Verifia
+00014e60: 626c 6543 7265 6465 6e74 6961 6c22 2c0a  bleCredential",.
+00014e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014e80: 2020 2020 2268 7474 7073 3a2f 2f65 7861      "https://exa
+00014e90: 6d70 6c65 2e6f 7267 2f65 7861 6d70 6c65  mple.org/example
+00014ea0: 7323 556e 6976 6572 7369 7479 4465 6772  s#UniversityDegr
+00014eb0: 6565 4372 6564 656e 7469 616c 222c 0a20  eeCredential",. 
+00014ec0: 2020 2020 2020 2020 2020 2020 2020 205d                 ]
+00014ed0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00014ee0: 2020 6973 7375 6572 5f69 643d 2264 6964    issuer_id="did
+00014ef0: 3a65 7861 6d70 6c65 3a34 3839 3339 3835  :example:4893985
+00014f00: 3933 222c 0a20 2020 2020 2020 2020 2020  93",.           
+00014f10: 2020 2020 2073 7562 6a65 6374 5f69 6473       subject_ids
+00014f20: 3d5b 0a20 2020 2020 2020 2020 2020 2020  =[.             
+00014f30: 2020 2020 2020 2022 6469 643a 736f 763a         "did:sov:
+00014f40: 5767 5778 717a 7472 4e6f 6f47 3932 5258  WgWxqztrNooG92RX
+00014f50: 7678 5354 5776 222c 0a20 2020 2020 2020  vxSTWv",.       
+00014f60: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+00014f70: 2020 2020 2020 2020 2020 2020 7072 6f6f              proo
+00014f80: 665f 7479 7065 733d 5b22 4564 3235 3531  f_types=["Ed2551
+00014f90: 3953 6967 6e61 7475 7265 3230 3138 225d  9Signature2018"]
+00014fa0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00014fb0: 2020 7363 6865 6d61 5f69 6473 3d5b 2268    schema_ids=["h
+00014fc0: 7474 7073 3a2f 2f65 7861 6d70 6c65 2e6f  ttps://example.o
+00014fd0: 7267 2f65 7861 6d70 6c65 732f 6465 6772  rg/examples/degr
+00014fe0: 6565 2e6a 736f 6e22 5d2c 0a20 2020 2020  ee.json"],.     
+00014ff0: 2020 2020 2020 2020 2020 2063 7265 645f             cred_
+00015000: 7661 6c75 653d 7b22 2e2e 2e22 2c20 222e  value={"...", ".
+00015010: 2e2e 227d 2c0a 2020 2020 2020 2020 2020  .."},.          
+00015020: 2020 2020 2020 6769 7665 6e5f 6964 3d22        given_id="
+00015030: 6874 7470 3a2f 2f65 7861 6d70 6c65 2e65  http://example.e
+00015040: 6475 2f63 7265 6465 6e74 6961 6c73 2f33  du/credentials/3
+00015050: 3733 3222 2c0a 2020 2020 2020 2020 2020  732",.          
+00015060: 2020 2020 2020 6372 6564 5f74 6167 733d        cred_tags=
+00015070: 7b22 736f 6d65 223a 2022 7461 6722 7d2c  {"some": "tag"},
+00015080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015090: 2072 6563 6f72 645f 6964 3d22 7465 7374   record_id="test
+000150a0: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
+000150b0: 290a 2020 2020 2020 2020 5d0a 2020 2020  ).        ].    
+000150c0: 2020 2020 7365 6c66 2e63 6f6e 7465 7874      self.context
+000150d0: 2e69 6e6a 6563 746f 722e 6269 6e64 5f69  .injector.bind_i
+000150e0: 6e73 7461 6e63 6528 0a20 2020 2020 2020  nstance(.       
+000150f0: 2020 2020 2056 4348 6f6c 6465 722c 0a20       VCHolder,. 
+00015100: 2020 2020 2020 2020 2020 2061 7379 6e63             async
+00015110: 5f6d 6f63 6b2e 4d61 6769 634d 6f63 6b28  _mock.MagicMock(
+00015120: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015130: 2073 6561 7263 685f 6372 6564 656e 7469   search_credenti
+00015140: 616c 733d 6173 796e 635f 6d6f 636b 2e4d  als=async_mock.M
+00015150: 6167 6963 4d6f 636b 280a 2020 2020 2020  agicMock(.      
+00015160: 2020 2020 2020 2020 2020 2020 2020 7265                re
+00015170: 7475 726e 5f76 616c 7565 3d61 7379 6e63  turn_value=async
+00015180: 5f6d 6f63 6b2e 4d61 6769 634d 6f63 6b28  _mock.MagicMock(
+00015190: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000151a0: 2020 2020 2020 2020 2066 6574 6368 3d61           fetch=a
+000151b0: 7379 6e63 5f6d 6f63 6b2e 436f 726f 7574  sync_mock.Corout
+000151c0: 696e 654d 6f63 6b28 7265 7475 726e 5f76  ineMock(return_v
+000151d0: 616c 7565 3d63 7265 645f 6c69 7374 290a  alue=cred_list).
+000151e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000151f0: 2020 2020 290a 2020 2020 2020 2020 2020      ).          
+00015200: 2020 2020 2020 290a 2020 2020 2020 2020        ).        
+00015210: 2020 2020 292c 0a20 2020 2020 2020 2029      ),.        )
+00015220: 0a20 2020 2020 2020 2074 6573 745f 7064  .        test_pd
+00015230: 203d 2064 6565 7063 6f70 7928 4449 465f   = deepcopy(DIF_
+00015240: 5052 4553 5f52 4551 5545 5354 5f42 290a  PRES_REQUEST_B).
+00015250: 2020 2020 2020 2020 6469 665f 7072 6573          dif_pres
+00015260: 5f72 6571 7565 7374 203d 2056 3230 5072  _request = V20Pr
+00015270: 6573 5265 7175 6573 7428 0a20 2020 2020  esRequest(.     
+00015280: 2020 2020 2020 2066 6f72 6d61 7473 3d5b         formats=[
+00015290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000152a0: 2056 3230 5072 6573 466f 726d 6174 280a   V20PresFormat(.
+000152b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000152c0: 2020 2020 6174 7461 6368 5f69 643d 2264      attach_id="d
+000152d0: 6966 222c 0a20 2020 2020 2020 2020 2020  if",.           
+000152e0: 2020 2020 2020 2020 2066 6f72 6d61 745f           format_
+000152f0: 3d41 5454 4143 484d 454e 545f 464f 524d  =ATTACHMENT_FORM
+00015300: 4154 5b50 5245 535f 3230 5f52 4551 5545  AT[PRES_20_REQUE
+00015310: 5354 5d5b 0a20 2020 2020 2020 2020 2020  ST][.           
+00015320: 2020 2020 2020 2020 2020 2020 2056 3230               V20
+00015330: 5072 6573 466f 726d 6174 2e46 6f72 6d61  PresFormat.Forma
+00015340: 742e 4449 462e 6170 690a 2020 2020 2020  t.DIF.api.      
+00015350: 2020 2020 2020 2020 2020 2020 2020 5d2c                ],
+00015360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015370: 2029 0a20 2020 2020 2020 2020 2020 205d   ).            ]
+00015380: 2c0a 2020 2020 2020 2020 2020 2020 7265  ,.            re
+00015390: 7175 6573 745f 7072 6573 656e 7461 7469  quest_presentati
+000153a0: 6f6e 735f 6174 7461 6368 3d5b 0a20 2020  ons_attach=[.   
+000153b0: 2020 2020 2020 2020 2020 2020 2041 7474               Att
+000153c0: 6163 6844 6563 6f72 6174 6f72 2e64 6174  achDecorator.dat
+000153d0: 615f 6a73 6f6e 2874 6573 745f 7064 2c20  a_json(test_pd, 
+000153e0: 6964 656e 743d 2264 6966 2229 0a20 2020  ident="dif").   
+000153f0: 2020 2020 2020 2020 205d 2c0a 2020 2020           ],.    
+00015400: 2020 2020 290a 2020 2020 2020 2020 7265      ).        re
+00015410: 636f 7264 203d 2056 3230 5072 6573 4578  cord = V20PresEx
+00015420: 5265 636f 7264 280a 2020 2020 2020 2020  Record(.        
+00015430: 2020 2020 7072 6573 5f65 785f 6964 3d22      pres_ex_id="
+00015440: 7078 6964 222c 0a20 2020 2020 2020 2020  pxid",.         
+00015450: 2020 2074 6872 6561 645f 6964 3d22 7468     thread_id="th
+00015460: 6964 222c 0a20 2020 2020 2020 2020 2020  id",.           
+00015470: 2063 6f6e 6e65 6374 696f 6e5f 6964 3d22   connection_id="
+00015480: 636f 6e6e 5f69 6422 2c0a 2020 2020 2020  conn_id",.      
+00015490: 2020 2020 2020 696e 6974 6961 746f 723d        initiator=
+000154a0: 2269 6e69 7422 2c0a 2020 2020 2020 2020  "init",.        
+000154b0: 2020 2020 726f 6c65 3d22 726f 6c65 222c      role="role",
+000154c0: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
+000154d0: 7465 3d22 7374 6174 6522 2c0a 2020 2020  te="state",.    
+000154e0: 2020 2020 2020 2020 7072 6573 5f72 6571          pres_req
+000154f0: 7565 7374 3d64 6966 5f70 7265 735f 7265  uest=dif_pres_re
+00015500: 7175 6573 742c 0a20 2020 2020 2020 2020  quest,.         
+00015510: 2020 2076 6572 6966 6965 643d 2266 616c     verified="fal
+00015520: 7365 222c 0a20 2020 2020 2020 2020 2020  se",.           
+00015530: 2061 7574 6f5f 7072 6573 656e 743d 5472   auto_present=Tr
+00015540: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
+00015550: 6572 726f 725f 6d73 673d 2265 7272 6f72  error_msg="error
+00015560: 222c 0a20 2020 2020 2020 2029 0a20 2020  ",.        ).   
+00015570: 2020 2020 2077 6974 6820 6173 796e 635f       with async_
+00015580: 6d6f 636b 2e70 6174 6368 2e6f 626a 6563  mock.patch.objec
+00015590: 7428 0a20 2020 2020 2020 2020 2020 2044  t(.            D
+000155a0: 4946 5072 6573 4578 6368 4861 6e64 6c65  IFPresExchHandle
+000155b0: 722c 2022 6372 6561 7465 5f76 7022 2c20  r, "create_vp", 
+000155c0: 6173 796e 635f 6d6f 636b 2e4d 6167 6963  async_mock.Magic
+000155d0: 4d6f 636b 2829 0a20 2020 2020 2020 2029  Mock().        )
+000155e0: 2061 7320 6d6f 636b 5f63 7265 6174 655f   as mock_create_
+000155f0: 7670 3a0a 2020 2020 2020 2020 2020 2020  vp:.            
+00015600: 6d6f 636b 5f63 7265 6174 655f 7670 2e73  mock_create_vp.s
+00015610: 6964 655f 6566 6665 6374 203d 2044 4946  ide_effect = DIF
+00015620: 5072 6573 4578 6368 4572 726f 7228 2254  PresExchError("T
+00015630: 4553 5422 290a 2020 2020 2020 2020 2020  EST").          
+00015640: 2020 6177 6169 7420 7365 6c66 2e68 616e    await self.han
+00015650: 646c 6572 2e63 7265 6174 655f 7072 6573  dler.create_pres
+00015660: 2872 6563 6f72 6429 0a                   (record).
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/formats/indy/handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_handler.py`

 * *Files 2% similar despite different names*

```diff
@@ -60,17 +60,21 @@
             context.settings,
             context.message,
             outcome="V20PresHandler.handle.END",
             perf_counter=r_time,
         )
 
         # Automatically move to next state if flag is set
-        if pres_ex_record and pres_ex_record.auto_verify:
+        if (
+            pres_ex_record
+            and pres_ex_record.auto_verify
+            or context.settings.get("debug.auto_verify_presentation")
+        ):
             try:
-                await pres_manager.verify_pres(pres_ex_record)
+                await pres_manager.verify_pres(pres_ex_record, responder)
             except (BaseModelError, LedgerError, StorageError) as err:
                 self._logger.exception(err)
                 if pres_ex_record:
                     async with context.profile.session() as session:
                         await pres_ex_record.save_error_state(
                             session,
                             reason=err.roll_up,  # us: be specific
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/pres_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_ack_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_ack_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_problem_report_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_problem_report_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_proposal_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_proposal_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/handlers/tests/test_pres_request_handler.py`

 * *Files 1% similar despite different names*

```diff
@@ -215,15 +215,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_px_rec_cls:
-
             mock_px_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
 
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(auto_present=False)
             )
@@ -275,15 +274,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_px_rec_cls:
-
             mock_px_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 side_effect=StorageNotFoundError
             )
             mock_px_rec_cls.return_value = px_rec_instance
 
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=async_mock.MagicMock(auto_present=False)
@@ -345,15 +343,14 @@
         request_context.injector.bind_instance(OobMessageProcessor, mock_oob_processor)
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = mock_px_rec
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
@@ -415,15 +412,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = mock_px_rec
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
@@ -490,15 +486,14 @@
             auto_present=True,
         )
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = px_rec_instance
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -561,15 +556,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = px_rec_instance
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -636,15 +630,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = mock_px_rec
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=mock_px_rec
             )
@@ -701,15 +694,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = px_rec_instance
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -773,15 +765,14 @@
         request_context.injector.bind_instance(IndyHolder, mock_holder)
 
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = px_rec_instance
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
@@ -890,15 +881,14 @@
             auto_present=True,
         )
         with async_mock.patch.object(
             test_module, "V20PresManager", autospec=True
         ) as mock_pres_mgr, async_mock.patch.object(
             test_module, "V20PresExRecord", autospec=True
         ) as mock_pres_ex_rec_cls:
-
             mock_pres_ex_rec_cls.return_value = px_rec_instance
             mock_pres_ex_rec_cls.retrieve_by_tag_filter = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
             mock_pres_mgr.return_value.receive_pres_request = async_mock.CoroutineMock(
                 return_value=px_rec_instance
             )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/manager.py`

 * *Files 2% similar despite different names*

```diff
@@ -259,17 +259,23 @@
         proof_request = pres_ex_record.pres_request
         input_formats = proof_request.formats
         pres_formats = []
         for format in input_formats:
             pres_exch_format = V20PresFormat.Format.get(format.format)
 
             if pres_exch_format:
+                if not request_data:
+                    request_data_pres_exch = {}
+                else:
+                    request_data_pres_exch = {
+                        pres_exch_format.api: request_data.get(pres_exch_format.api)
+                    }
                 pres_tuple = await pres_exch_format.handler(self._profile).create_pres(
                     pres_ex_record,
-                    request_data,
+                    request_data_pres_exch,
                 )
                 if pres_tuple:
                     pres_formats.append(pres_tuple)
                 else:
                     raise V20PresManagerError(
                         "Unable to create presentation. ProblemReport message sent"
                     )
@@ -360,15 +366,17 @@
         pres_ex_record.pres = message
         pres_ex_record.state = V20PresExRecord.STATE_PRESENTATION_RECEIVED
         async with self._profile.session() as session:
             await pres_ex_record.save(session, reason="receive v2.0 presentation")
 
         return pres_ex_record
 
-    async def verify_pres(self, pres_ex_record: V20PresExRecord):
+    async def verify_pres(
+        self, pres_ex_record: V20PresExRecord, responder: Optional[BaseResponder] = None
+    ):
         """
         Verify a presentation.
 
         Args:
             pres_ex_record: presentation exchange record
                 with presentation request and presentation to verify
 
@@ -383,34 +391,38 @@
 
             if pres_exch_format:
                 pres_ex_record = await pres_exch_format.handler(
                     self._profile
                 ).verify_pres(
                     pres_ex_record,
                 )
+                if pres_ex_record.verified == "false":
+                    break
 
         pres_ex_record.state = V20PresExRecord.STATE_DONE
 
         async with self._profile.session() as session:
             await pres_ex_record.save(session, reason="verify v2.0 presentation")
 
         if pres_request_msg.will_confirm:
-            await self.send_pres_ack(pres_ex_record)
+            await self.send_pres_ack(pres_ex_record, responder)
 
         return pres_ex_record
 
-    async def send_pres_ack(self, pres_ex_record: V20PresExRecord):
+    async def send_pres_ack(
+        self, pres_ex_record: V20PresExRecord, responder: Optional[BaseResponder] = None
+    ):
         """
         Send acknowledgement of presentation receipt.
 
         Args:
             pres_ex_record: presentation exchange record with thread id
 
         """
-        responder = self._profile.inject_or(BaseResponder)
+        responder = responder or self._profile.inject_or(BaseResponder)
 
         if responder:
             pres_ack_message = V20PresAck(verification_result=pres_ex_record.verified)
             pres_ack_message._thread = {"thid": pres_ex_record.thread_id}
             pres_ack_message.assign_trace_decorator(
                 self._profile.settings, pres_ex_record.trace
             )
@@ -460,20 +472,18 @@
 
         Returns:
             presentation exchange record, retrieved and updated
 
         """
         # FIXME use transaction, fetch for_update
         async with self._profile.session() as session:
-            pres_ex_record = await (
-                V20PresExRecord.retrieve_by_tag_filter(
-                    session,
-                    {"thread_id": message._thread_id},
-                    {"connection_id": connection_id},
-                )
+            pres_ex_record = await V20PresExRecord.retrieve_by_tag_filter(
+                session,
+                {"thread_id": message._thread_id},
+                {"connection_id": connection_id},
             )
 
             pres_ex_record.state = V20PresExRecord.STATE_ABANDONED
             code = message.description.get("code", ProblemReportReason.ABANDONED.value)
             pres_ex_record.error_msg = f"{code}: {message.description.get('en', code)}"
             await pres_ex_record.save(session, reason="received problem report")
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres.py`

 * *Files 12% similar despite different names*

```diff
@@ -114,8 +114,12 @@
         if len(formats) != len(attachments):
             raise ValidationError("Formats/attachments length mismatch")
 
         for fmt in formats:
             atch = get_attach_by_id(fmt.attach_id)
             pres_format = V20PresFormat.Format.get(fmt.format)
             if pres_format:
-                pres_format.validate_fields(PRES_20, atch.content)
+                if isinstance(atch.content, Sequence):
+                    for el in atch.content:
+                        pres_format.validate_fields(PRES_20, el)
+                else:
+                    pres_format.validate_fields(PRES_20, atch.content)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_format.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_format.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/pres_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_ack.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_ack.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_format.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_format.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_problem_report.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_problem_report.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_proposal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_proposal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/pres_exchange.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/pres_exchange.py`

 * *Files 10% similar despite different names*

```diff
@@ -11,14 +11,15 @@
 from .....messaging.valid import UUIDFour
 from .....storage.base import StorageError
 
 from ..messages.pres import V20Pres, V20PresSchema
 from ..messages.pres_format import V20PresFormat
 from ..messages.pres_proposal import V20PresProposal, V20PresProposalSchema
 from ..messages.pres_request import V20PresRequest, V20PresRequestSchema
+from ..messages.pres_webhook import V20PresExRecordWebhook
 
 from . import UNENCRYPTED_TAGS
 
 LOGGER = logging.getLogger(__name__)
 
 
 class V20PresExRecord(BaseExchangeRecord):
@@ -177,14 +178,41 @@
                 reason=reason,
                 log_params=log_params,
                 log_override=log_override,
             )
         except StorageError as err:
             LOGGER.exception(err)
 
+    # Override
+    async def emit_event(self, session: ProfileSession, payload: Any = None):
+        """
+        Emit an event.
+
+        Args:
+            session: The profile session to use
+            payload: The event payload
+        """
+
+        if not self.RECORD_TOPIC:
+            return
+
+        if self.state:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}::{self.state}"
+        else:
+            topic = f"{self.EVENT_NAMESPACE}::{self.RECORD_TOPIC}"
+
+        if session.profile.settings.get("debug.webhooks"):
+            if not payload:
+                payload = self.serialize()
+        else:
+            payload = V20PresExRecordWebhook(**self.__dict__)
+            payload = payload.__dict__
+
+        await session.profile.notify(topic, payload)
+
     @property
     def record_value(self) -> Mapping:
         """Accessor for the JSON record value generated for this credential exchange."""
         return {
             **{
                 prop: getattr(self, prop)
                 for prop in (
@@ -240,42 +268,30 @@
         example=UUIDFour.EXAMPLE,  # typically a UUID4 but not necessarily
     )
     initiator = fields.Str(
         required=False,
         description="Present-proof exchange initiator: self or external",
         example=V20PresExRecord.INITIATOR_SELF,
         validate=validate.OneOf(
-            [
-                getattr(V20PresExRecord, m)
-                for m in vars(V20PresExRecord)
-                if m.startswith("INITIATOR_")
-            ]
+            V20PresExRecord.get_attributes_by_prefix("INITIATOR_", walk_mro=False)
         ),
     )
     role = fields.Str(
         required=False,
         description="Present-proof exchange role: prover or verifier",
         example=V20PresExRecord.ROLE_PROVER,
         validate=validate.OneOf(
-            [
-                getattr(V20PresExRecord, m)
-                for m in vars(V20PresExRecord)
-                if m.startswith("ROLE_")
-            ]
+            V20PresExRecord.get_attributes_by_prefix("ROLE_", walk_mro=False)
         ),
     )
     state = fields.Str(
         required=False,
         description="Present-proof exchange state",
         validate=validate.OneOf(
-            [
-                getattr(V20PresExRecord, m)
-                for m in vars(V20PresExRecord)
-                if m.startswith("STATE_")
-            ]
+            V20PresExRecord.get_attributes_by_prefix("STATE_", walk_mro=True)
         ),
     )
     pres_proposal = fields.Nested(
         V20PresProposalSchema(),
         required=False,
         description="Presentation proposal message",
     )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/models/tests/test_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/models/tests/test_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -269,17 +269,18 @@
         Args:
             data: The data to validate
 
         Raises:
             ValidationError: if data does not have exactly one format.
 
         """
-        if len(data.keys() & {f.api for f in V20PresFormat.Format}) != 1:
+        if len(data.keys() & {f.api for f in V20PresFormat.Format}) < 1:
             raise ValidationError(
-                "V20PresSpecByFormatRequestSchema must specify one presentation format"
+                "V20PresSpecByFormatRequestSchema must specify "
+                "at least one presentation format"
             )
 
 
 class V20CredentialsFetchQueryStringSchema(OpenAPISchema):
     """Parameters and validators for credentials fetch request query string."""
 
     referent = fields.Str(
@@ -326,15 +327,15 @@
         indy_proof_request["nonce"] = await generate_pr_nonce()
     return indy_proof_request
 
 
 def _formats_attach(by_format: Mapping, msg_type: str, spec: str) -> Mapping:
     """Break out formats and proposals/requests/presentations for v2.0 messages."""
     attach = []
-    for (fmt_api, item_by_fmt) in by_format.items():
+    for fmt_api, item_by_fmt in by_format.items():
         if fmt_api == V20PresFormat.Format.INDY.api:
             attach.append(
                 AttachDecorator.data_base64(mapping=item_by_fmt, ident=fmt_api)
             )
         elif fmt_api == V20PresFormat.Format.DIF.api:
             attach.append(AttachDecorator.data_json(mapping=item_by_fmt, ident=fmt_api))
     return {
@@ -1053,19 +1054,16 @@
     r_time = get_timer()
 
     context: AdminRequestContext = request["context"]
     profile = context.profile
     outbound_handler = request["outbound_message_router"]
     pres_ex_id = request.match_info["pres_ex_id"]
     body = await request.json()
-    if "dif" in body:
-        fmt = V20PresFormat.Format.get("dif").api
-    elif "indy" in body:
-        fmt = V20PresFormat.Format.get("indy").api
-    else:
+    supported_formats = ["dif", "indy"]
+    if not any(x in body for x in supported_formats):
         raise web.HTTPBadRequest(
             reason=(
                 "No presentation format specification provided, "
                 "either dif or indy must be included. "
                 "In case of DIF, if no additional specification "
                 'needs to be provided then include "dif": {}'
             )
@@ -1088,32 +1086,30 @@
         )
 
     # Fetch connection if exchange has record
     conn_record = None
     if pres_ex_record.connection_id:
         try:
             async with profile.session() as session:
-
                 conn_record = await ConnRecord.retrieve_by_id(
                     session, pres_ex_record.connection_id
                 )
         except StorageNotFoundError as err:
             raise web.HTTPBadRequest(reason=err.roll_up) from err
 
     if conn_record and not conn_record.is_ready:
         raise web.HTTPForbidden(
             reason=f"Connection {pres_ex_record.connection_id} not ready"
         )
 
     pres_manager = V20PresManager(profile)
     try:
-        request_data = {fmt: body.get(fmt)}
         pres_ex_record, pres_message = await pres_manager.create_pres(
             pres_ex_record,
-            request_data=request_data,
+            request_data=body,
             comment=comment,
         )
         result = pres_ex_record.serialize()
     except (
         BaseModelError,
         IndyHolderError,
         LedgerError,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/tests/test_manager.py`

 * *Files 1% similar despite different names*

```diff
@@ -27,14 +27,15 @@
 from ...indy import pres_exch_handler as test_indy_util_module
 
 from .. import manager as test_module
 from ..formats.handler import V20PresFormatHandlerError
 from ..formats.dif.handler import DIFPresFormatHandler
 from ..formats.dif.tests.test_handler import (
     DIF_PRES_REQUEST_B as DIF_PRES_REQ,
+    DIF_PRES_REQUEST_A as DIF_PRES_REQ_ALT,
     DIF_PRES,
 )
 from ..formats.indy import handler as test_indy_handler
 from ..manager import V20PresManager, V20PresManagerError
 from ..message_types import (
     ATTACHMENT_FORMAT,
     PRES_20_PROPOSAL,
@@ -44,14 +45,18 @@
 from ..messages.pres import V20Pres
 from ..messages.pres_format import V20PresFormat
 from ..messages.pres_problem_report import V20PresProblemReport
 from ..messages.pres_proposal import V20PresProposal
 from ..messages.pres_request import V20PresRequest
 from ..models.pres_exchange import V20PresExRecord
 
+from .....vc.vc_ld.validation_result import PresentationVerificationResult
+from .....vc.tests.document_loader import custom_document_loader
+from .....vc.ld_proofs import DocumentLoader
+
 CONN_ID = "connection_id"
 ISSUER_DID = "NcYxiDXkpYi6ov5FcYDi1e"
 S_ID = f"{ISSUER_DID}:2:vidya:1.0"
 CD_ID = f"{ISSUER_DID}:3:CL:{S_ID}:tag1"
 RR_ID = f"{ISSUER_DID}:4:{CD_ID}:CL_ACCUM:0"
 PROOF_REQ_NAME = "name"
 PROOF_REQ_VERSION = "1.0"
@@ -802,14 +807,75 @@
 
             (px_rec_out, pres_msg) = await self.manager.create_pres(
                 px_rec_in, request_data
             )
             save_ex.assert_called_once()
             assert px_rec_out.state == V20PresExRecord.STATE_PRESENTATION_SENT
 
+    async def test_create_pres_indy_and_dif(self):
+        pres_request = V20PresRequest(
+            formats=[
+                V20PresFormat(
+                    attach_id="indy",
+                    format_=ATTACHMENT_FORMAT[PRES_20_REQUEST][
+                        V20PresFormat.Format.INDY.api
+                    ],
+                ),
+                V20PresFormat(
+                    attach_id="dif",
+                    format_=ATTACHMENT_FORMAT[PRES_20_REQUEST][
+                        V20PresFormat.Format.DIF.api
+                    ],
+                ),
+            ],
+            request_presentations_attach=[
+                AttachDecorator.data_base64(INDY_PROOF_REQ_NAME, ident="indy"),
+                AttachDecorator.data_json(DIF_PRES_REQ, ident="dif"),
+            ],
+        )
+        px_rec_in = V20PresExRecord(pres_request=pres_request.serialize())
+        more_magic_rr = async_mock.MagicMock(
+            get_or_fetch_local_tails_path=async_mock.CoroutineMock(
+                return_value="/tmp/sample/tails/path"
+            )
+        )
+        with async_mock.patch.object(
+            V20PresExRecord, "save", autospec=True
+        ) as save_ex, async_mock.patch.object(
+            test_indy_handler, "AttachDecorator", autospec=True
+        ) as mock_attach_decorator_indy, async_mock.patch.object(
+            test_indy_util_module, "RevocationRegistry", autospec=True
+        ) as mock_rr, async_mock.patch.object(
+            DIFPresFormatHandler, "create_pres", autospec=True
+        ) as mock_create_pres:
+            mock_rr.from_definition = async_mock.MagicMock(return_value=more_magic_rr)
+
+            mock_attach_decorator_indy.data_base64 = async_mock.MagicMock(
+                return_value=mock_attach_decorator_indy
+            )
+
+            mock_create_pres.return_value = (
+                PRES_20,
+                AttachDecorator.data_json(DIF_PRES, ident="dif"),
+            )
+
+            req_creds = await indy_proof_req_preview2indy_requested_creds(
+                INDY_PROOF_REQ_NAME, preview=None, holder=self.holder
+            )
+            request_data = {"indy": req_creds, "dif": DIF_PRES_REQ}
+            assert not req_creds["self_attested_attributes"]
+            assert len(req_creds["requested_attributes"]) == 2
+            assert len(req_creds["requested_predicates"]) == 1
+
+            (px_rec_out, pres_msg) = await self.manager.create_pres(
+                px_rec_in, request_data
+            )
+            save_ex.assert_called_once()
+            assert px_rec_out.state == V20PresExRecord.STATE_PRESENTATION_SENT
+
     async def test_create_pres_proof_req_non_revoc_interval_none(self):
         indy_proof_req_vcx = deepcopy(INDY_PROOF_REQ_NAME)
         indy_proof_req_vcx["non_revoked"] = None  # simulate interop with indy-vcx
         pres_request = V20PresRequest(
             formats=[
                 V20PresFormat(
                     attach_id="indy",
@@ -2062,14 +2128,97 @@
             async_mock.CoroutineMock(return_value=("test_ledger_id", self.ledger)),
         ), async_mock.patch.object(V20PresExRecord, "save", autospec=True) as save_ex:
             px_rec_out = await self.manager.verify_pres(px_rec_in)
             save_ex.assert_called_once()
 
             assert px_rec_out.state == (V20PresExRecord.STATE_DONE)
 
+    async def test_verify_pres_indy_and_dif(self):
+        pres_request = V20PresRequest(
+            formats=[
+                V20PresFormat(
+                    attach_id="indy",
+                    format_=ATTACHMENT_FORMAT[PRES_20_REQUEST][
+                        V20PresFormat.Format.INDY.api
+                    ],
+                ),
+                V20PresFormat(
+                    attach_id="dif",
+                    format_=ATTACHMENT_FORMAT[PRES_20_REQUEST][
+                        V20PresFormat.Format.DIF.api
+                    ],
+                ),
+            ],
+            will_confirm=True,
+            request_presentations_attach=[
+                AttachDecorator.data_base64(INDY_PROOF_REQ_NAME, ident="indy"),
+                AttachDecorator.data_json(DIF_PRES_REQ, ident="dif"),
+            ],
+        )
+        pres = V20Pres(
+            formats=[
+                V20PresFormat(
+                    attach_id="indy",
+                    format_=ATTACHMENT_FORMAT[PRES_20][V20PresFormat.Format.INDY.api],
+                ),
+                V20PresFormat(
+                    attach_id="dif",
+                    format_=ATTACHMENT_FORMAT[PRES_20][V20PresFormat.Format.DIF.api],
+                ),
+            ],
+            presentations_attach=[
+                AttachDecorator.data_base64(INDY_PROOF, ident="indy"),
+                AttachDecorator.data_json(DIF_PRES, ident="dif"),
+            ],
+        )
+        px_rec_in = V20PresExRecord(
+            pres_request=pres_request,
+            pres=pres,
+        )
+
+        self.profile.context.injector.bind_instance(
+            DocumentLoader, custom_document_loader
+        )
+        self.profile.context.injector.bind_instance(
+            BaseMultitenantManager,
+            async_mock.MagicMock(MultitenantManager, autospec=True),
+        )
+        with async_mock.patch.object(
+            IndyLedgerRequestsExecutor,
+            "get_ledger_for_identifier",
+            async_mock.CoroutineMock(return_value=("test_ledger_id", self.ledger)),
+        ), async_mock.patch.object(V20PresExRecord, "save", autospec=True) as save_ex:
+            px_rec_out = await self.manager.verify_pres(px_rec_in)
+            save_ex.assert_called_once()
+
+            assert px_rec_out.state == (V20PresExRecord.STATE_DONE)
+
+        with async_mock.patch.object(
+            IndyLedgerRequestsExecutor,
+            "get_ledger_for_identifier",
+            async_mock.CoroutineMock(return_value=("test_ledger_id", self.ledger)),
+        ), async_mock.patch(
+            "aries_cloudagent.vc.vc_ld.verify.verify_presentation",
+            async_mock.CoroutineMock(
+                return_value=PresentationVerificationResult(verified=False)
+            ),
+        ), async_mock.patch.object(
+            IndyVerifier,
+            "verify_presentation",
+            async_mock.CoroutineMock(
+                return_value=PresentationVerificationResult(verified=True)
+            ),
+        ), async_mock.patch.object(
+            V20PresExRecord, "save", autospec=True
+        ) as save_ex:
+            px_rec_out = await self.manager.verify_pres(px_rec_in)
+            save_ex.assert_called_once()
+            assert px_rec_out.state == (V20PresExRecord.STATE_DONE)
+            assert px_rec_out.verified == "false"
+
     async def test_send_pres_ack(self):
         px_rec = V20PresExRecord()
 
         responder = MockResponder()
         self.profile.context.injector.bind_instance(BaseResponder, responder)
 
         await self.manager.send_pres_ack(px_rec)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/present_proof/v2_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/present_proof/v2_0/tests/test_routes.py`

 * *Files 0% similar despite different names*

```diff
@@ -208,16 +208,15 @@
             schema.validate_fields({})
         with self.assertRaises(test_module.ValidationError):
             schema.validate_fields({"veres-one": {"no": "support"}})
 
         schema = test_module.V20PresSpecByFormatRequestSchema()
         schema.validate_fields({"indy": {"...": "..."}})
         schema.validate_fields({"dif": {"...": "..."}})
-        with self.assertRaises(test_module.ValidationError):
-            schema.validate_fields({"indy": {"...": "..."}, "dif": {"...": "..."}})
+        schema.validate_fields({"indy": {"...": "..."}, "dif": {"...": "..."}})
         with self.assertRaises(test_module.ValidationError):
             schema.validate_fields({})
         with self.assertRaises(test_module.ValidationError):
             schema.validate_fields({"veres-one": {"no": "support"}})
 
     async def test_validate_proof_req_attr_spec(self):
         aspec = IndyProofReqAttrSpecSchema()
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/message.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/message.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/tests/test_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/tests/test_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/problem_report/v1_0/tests/test_message.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/problem_report/v1_0/tests/test_message.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/revoke_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/revoke_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/test_revoke_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/handlers/tests/test_revoke_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/messages/revoke.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/messages/revoke.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/rev_notification_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/rev_notification_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/test_rev_notification_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/models/tests/test_rev_notification_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v1_0/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/revoke_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/revoke_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/test_revoke_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/handlers/tests/test_revoke_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/messages/revoke.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/messages/revoke.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/rev_notification_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/rev_notification_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/test_rev_notification_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/models/tests/test_rev_notification_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/revocation_notification/v2_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/revocation_notification/v2_0/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/forward_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/forward_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_query_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_request_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_request_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/route_update_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_forward_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_forward_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_query_update_handlers.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/handlers/tests/test_query_update_handlers.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/manager.py`

 * *Files 14% similar despite different names*

```diff
@@ -1,9 +1,11 @@
 """Routing manager classes for tracking and inspecting routing records."""
 
+import asyncio
+import logging
 from typing import Coroutine, Sequence
 
 from ....core.error import BaseError
 from ....core.profile import Profile
 from ....storage.error import (
     StorageError,
     StorageDuplicateError,
@@ -12,14 +14,20 @@
 
 from .messages.route_update_request import RouteUpdateRequest
 from .models.route_record import RouteRecord
 from .models.route_update import RouteUpdate
 from .models.route_updated import RouteUpdated
 
 
+LOGGER = logging.getLogger(__name__)
+
+RECIP_ROUTE_PAUSE = 0.1
+RECIP_ROUTE_RETRY = 10
+
+
 class RoutingManagerError(BaseError):
     """Generic routing error."""
 
 
 class RouteNotFoundError(RoutingManagerError):
     """Requested route was not found."""
 
@@ -50,29 +58,38 @@
         Returns:
             The `RouteRecord` associated with this verkey
 
         """
         if not recip_verkey:
             raise RoutingManagerError("Must pass non-empty recip_verkey")
 
-        try:
-            async with self._profile.session() as session:
-                record = await RouteRecord.retrieve_by_recipient_key(
-                    session, recip_verkey
+        i = 0
+        record = None
+        while not record:
+            try:
+                LOGGER.info(">>> fetching routing record for verkey: " + recip_verkey)
+                async with self._profile.session() as session:
+                    record = await RouteRecord.retrieve_by_recipient_key(
+                        session, recip_verkey
+                    )
+                LOGGER.info(">>> FOUND routing record for verkey: " + recip_verkey)
+                return record
+            except StorageDuplicateError:
+                LOGGER.info(">>> DUPLICATE routing record for verkey: " + recip_verkey)
+                raise RouteNotFoundError(
+                    f"More than one route record found with recipient key: {recip_verkey}"
                 )
-        except StorageDuplicateError:
-            raise RouteNotFoundError(
-                f"More than one route record found with recipient key: {recip_verkey}"
-            )
-        except StorageNotFoundError:
-            raise RouteNotFoundError(
-                f"No route found with recipient key: {recip_verkey}"
-            )
-
-        return record
+            except StorageNotFoundError:
+                LOGGER.info(">>> NOT FOUND routing record for verkey: " + recip_verkey)
+                i += 1
+                if i > RECIP_ROUTE_RETRY:
+                    raise RouteNotFoundError(
+                        f"No route found with recipient key: {recip_verkey}"
+                    )
+                await asyncio.sleep(RECIP_ROUTE_PAUSE)
 
     async def get_routes(
         self, client_connection_id: str = None, tag_filter: dict = None
     ) -> Sequence[RouteRecord]:
         """
         Fetch all routes associated with the current connection.
 
@@ -132,21 +149,23 @@
         """
         if not (client_connection_id or internal_wallet_id):
             raise RoutingManagerError(
                 "Either client_connection_id or internal_wallet_id is required"
             )
         if not recipient_key:
             raise RoutingManagerError("Missing recipient_key")
+        LOGGER.info(">>> creating routing record for verkey: " + recipient_key)
         route = RouteRecord(
             connection_id=client_connection_id,
             wallet_id=internal_wallet_id,
             recipient_key=recipient_key,
         )
         async with self._profile.session() as session:
             await route.save(session, reason="Created new route")
+        LOGGER.info(">>> CREATED routing record for verkey: " + recipient_key)
         return route
 
     async def update_routes(
         self, client_connection_id: str, updates: Sequence[RouteUpdate]
     ) -> Sequence[RouteUpdated]:
         """
         Update routes associated with the current connection.
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/forward.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/forward.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_query_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_query_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_query_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_query_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_update_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_update_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/route_update_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/route_update_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_forward.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_forward.py`

 * *Files 1% similar despite different names*

```diff
@@ -5,15 +5,14 @@
 from .....didcomm_prefix import DIDCommPrefix
 
 from ...message_types import FORWARD, PROTOCOL_PACKAGE
 from ..forward import Forward, ForwardSchema
 
 
 class TestForward(TestCase):
-
     to = "to"
     msg = {"msg": "body"}
 
     def setUp(self):
         self.message = Forward(to=self.to, msg=self.msg)
 
     def test_init(self):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_query_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_request.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_request.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/messages/tests/test_route_update_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/paginate.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/paginate.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/paginated.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/paginated.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_query_result.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_query_result.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_update.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_update.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/models/route_updated.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/models/route_updated.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/routing/v1_0/tests/test_routing_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/routing/v1_0/tests/test_routing_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/tests/test_didcomm_prefix.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/tests/test_didcomm_prefix.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/ping_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_response_handler.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/handlers/tests/test_ping_response_handler.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/message_types.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/message_types.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/ping.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/ping.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/ping_response.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/ping_response.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping_reponse.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/messages/tests/test_trust_ping_reponse.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/protocols/trustping/v1_0/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/protocols/trustping/v1_0/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/indy.py`

 * *Files 19% similar despite different names*

```diff
@@ -7,32 +7,53 @@
 from typing import Optional, Pattern, Sequence, Text
 
 from pydid import DID, DIDDocumentBuilder
 from pydid.verification_method import Ed25519VerificationKey2018, VerificationMethod
 
 from ...config.injection_context import InjectionContext
 from ...core.profile import Profile
+from ...did.did_key import DIDKey
 from ...ledger.endpoint_type import EndpointType
 from ...ledger.error import LedgerError
 from ...ledger.multiple_ledger.ledger_requests_executor import (
     GET_KEY_FOR_DID,
     IndyLedgerRequestsExecutor,
 )
 from ...messaging.valid import IndyDID
 from ...multitenant.base import BaseMultitenantManager
-
+from ...wallet.key_type import ED25519
 from ..base import BaseDIDResolver, DIDNotFound, ResolverError, ResolverType
 
 LOGGER = logging.getLogger(__name__)
 
 
 class NoIndyLedger(ResolverError):
     """Raised when there is no Indy ledger instance configured."""
 
 
+def _routing_keys_as_did_key_urls(routing_keys: Sequence[str]) -> Sequence[str]:
+    """Convert raw base58 keys to did:key values.
+
+    If a did:key is passed in, convert to a did:key URL.
+    """
+
+    did_key_urls = []
+    for routing_key in routing_keys:
+        if not routing_key.startswith("did:key:"):
+            did_key_urls.append(DIDKey.from_public_key_b58(routing_key, ED25519).key_id)
+        else:
+            if "#" not in routing_key:
+                did_key_urls.append(
+                    f"{routing_key}#{DIDKey.from_did(routing_key).fingerprint}"
+                )
+            else:
+                return routing_keys
+    return did_key_urls
+
+
 class IndyDIDResolver(BaseDIDResolver):
     """Indy DID Resolver."""
 
     SERVICE_TYPE_DID_COMMUNICATION = "did-communication"
     SERVICE_TYPE_DIDCOMM = "DIDComm"
     SERVICE_TYPE_ENDPOINT = "endpoint"
     CONTEXT_DIDCOMM_V2 = "https://didcomm.org/messaging/contexts/v2"
@@ -97,28 +118,28 @@
 
             if self.SERVICE_TYPE_DID_COMMUNICATION in processed_types:
                 builder.service.add(
                     ident="did-communication",
                     type_=self.SERVICE_TYPE_DID_COMMUNICATION,
                     service_endpoint=endpoint,
                     priority=1,
-                    routing_keys=routing_keys,
+                    routing_keys=_routing_keys_as_did_key_urls(routing_keys),
                     recipient_keys=[recipient_key.id],
                     accept=(
                         service_accept if service_accept else ["didcomm/aip2;env=rfc19"]
                     ),
                 )
 
             if self.SERVICE_TYPE_DIDCOMM in types:
                 builder.service.add(
                     ident="#didcomm-1",
                     type_=self.SERVICE_TYPE_DIDCOMM,
                     service_endpoint=endpoint,
                     recipient_keys=[recipient_key.id],
-                    routing_keys=routing_keys,
+                    routing_keys=_routing_keys_as_did_key_urls(routing_keys),
                     # CHECKME
                     # accept=(service_accept if service_accept else ["didcomm/v2"]),
                     accept=["didcomm/v2"],
                 )
                 builder.context.append(self.CONTEXT_DIDCOMM_V2)
         else:
             LOGGER.warning(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/key.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/key.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_indy.py`

 * *Files 8% similar despite different names*

```diff
@@ -13,15 +13,15 @@
     IndyLedgerRequestsExecutor,
 )
 from ....messaging.valid import IndyDID
 from ....multitenant.base import BaseMultitenantManager
 from ....multitenant.manager import MultitenantManager
 
 from ...base import DIDNotFound, ResolverError
-from ..indy import IndyDIDResolver
+from ..indy import IndyDIDResolver, _routing_keys_as_did_key_urls
 
 # pylint: disable=W0621
 TEST_DID0 = "did:sov:WgWxqztrNooG92RXvxSTWv"
 
 
 @pytest.fixture
 def resolver():
@@ -123,15 +123,15 @@
     @pytest.mark.asyncio
     async def test_supports_updated_did_sov_rules(
         self, resolver: IndyDIDResolver, ledger: BaseLedger, profile: Profile
     ):
         """Test that new attrib structure is supported."""
         example = {
             "endpoint": "https://example.com/endpoint",
-            "routingKeys": ["a-routing-key"],
+            "routingKeys": ["HQhjaj4mcaS3Xci27a9QhnBrNpS91VNFUU4TDrtMxa9j"],
             "types": ["DIDComm", "did-communication", "endpoint"],
             "profile": "https://example.com",
             "linked_domains": "https://example.com",
         }
 
         ledger.get_all_endpoints_for_did = async_mock.CoroutineMock(
             return_value=example
@@ -173,7 +173,22 @@
                 ["endpoint", "did-communication", "DIDComm"],
                 ["endpoint", "did-communication", "DIDComm"],
             ),
         ],
     )
     def test_process_endpoint_types(self, resolver: IndyDIDResolver, types, result):
         assert resolver.process_endpoint_types(types) == result
+
+    @pytest.mark.parametrize(
+        "keys",
+        [
+            ["3YJCx3TqotDWFGv7JMR5erEvrmgu5y4FDqjR7sKWxgXn"],
+            ["did:key:z6MkgzZFYHiH9RhyMmkoyvNvVwnvgLxkVrJbureLx9HXsuKA"],
+            [
+                "did:key:z6MkgzZFYHiH9RhyMmkoyvNvVwnvgLxkVrJbureLx9HXsuKA#z6MkgzZFYHiH9RhyMmkoyvNvVwnvgLxkVrJbureLx9HXsuKA"
+            ],
+        ],
+    )
+    def test_routing_keys_as_did_key_urls(self, keys):
+        for key in _routing_keys_as_did_key_urls(keys):
+            assert key.startswith("did:key:")
+            assert "#" in key
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_key.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_key.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_universal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_universal.py`

 * *Files 8% similar despite different names*

```diff
@@ -50,15 +50,15 @@
 
 class MockClientSession:
     """Mock client session."""
 
     def __init__(self, response: MockResponse = None):
         self.response = response
 
-    def __call__(self):
+    def __call__(self, headers):
         return self
 
     async def __aenter__(self):
         """For use as async context."""
         return self
 
     async def __aexit__(self, err_type, err_value, err_exc):
@@ -97,40 +97,40 @@
 async def test_resolve_not_found(profile, resolver, mock_client_session):
     mock_client_session.response = MockResponse(404, "Not found")
     with pytest.raises(DIDNotFound):
         await resolver.resolve(profile, "did:sov:WRfXPg8dantKVubE3HX8pw")
 
 
 @pytest.mark.asyncio
-async def test_resolve_unexpeceted_status(profile, resolver, mock_client_session):
+async def test_resolve_unexpected_status(profile, resolver, mock_client_session):
     mock_client_session.response = MockResponse(
         500, "Server failed to complete request"
     )
     with pytest.raises(ResolverError):
         await resolver.resolve(profile, "did:sov:WRfXPg8dantKVubE3HX8pw")
 
 
 @pytest.mark.asyncio
 async def test_fetch_resolver_props(mock_client_session: MockClientSession):
     mock_client_session.response = MockResponse(200, {"test": "json"})
-    assert await test_module._fetch_resolver_props("test") == {"test": "json"}
+    assert await UniversalResolver()._fetch_resolver_props() == {"test": "json"}
     mock_client_session.response = MockResponse(404, "Not found")
     with pytest.raises(ResolverError):
-        await test_module._fetch_resolver_props("test")
+        await UniversalResolver()._fetch_resolver_props()
 
 
 @pytest.mark.asyncio
 async def test_get_supported_did_regex():
     props = {"example": {"http": {"pattern": "match a test string"}}}
     with async_mock.patch.object(
-        test_module,
+        UniversalResolver,
         "_fetch_resolver_props",
         async_mock.CoroutineMock(return_value=props),
     ):
-        pattern = await test_module._get_supported_did_regex("test")
+        pattern = await UniversalResolver()._get_supported_did_regex()
         assert pattern.fullmatch("match a test string")
 
 
 def test_compile_supported_did_regex():
     patterns = ["one", "two", "three"]
     compiled = test_module._compile_supported_did_regex(patterns)
     assert compiled.match("one")
@@ -165,15 +165,15 @@
         {
             "resolver.universal": "http://example.com",
         }
     )
     context = async_mock.MagicMock()
     context.settings = settings
     with async_mock.patch.object(
-        test_module,
+        UniversalResolver,
         "_get_supported_did_regex",
         async_mock.CoroutineMock(return_value="pattern"),
     ):
         await resolver.setup(context)
 
     assert resolver._endpoint == "http://example.com"
     assert resolver._supported_did_regex == "pattern"
@@ -185,15 +185,15 @@
         {
             "resolver.universal": "DEFAULT",
         }
     )
     context = async_mock.MagicMock()
     context.settings = settings
     with async_mock.patch.object(
-        test_module,
+        UniversalResolver,
         "_get_supported_did_regex",
         async_mock.CoroutineMock(return_value="pattern"),
     ):
         await resolver.setup(context)
 
     assert resolver._endpoint == test_module.DEFAULT_ENDPOINT
     assert resolver._supported_did_regex == "pattern"
@@ -201,15 +201,15 @@
 
 @pytest.mark.asyncio
 async def test_setup_endpoint_unset(resolver: UniversalResolver):
     settings = Settings()
     context = async_mock.MagicMock()
     context.settings = settings
     with async_mock.patch.object(
-        test_module,
+        UniversalResolver,
         "_get_supported_did_regex",
         async_mock.CoroutineMock(return_value="pattern"),
     ):
         await resolver.setup(context)
 
     assert resolver._endpoint == test_module.DEFAULT_ENDPOINT
     assert resolver._supported_did_regex == "pattern"
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/tests/test_web.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/tests/test_web.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/universal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/universal.py`

 * *Files 12% similar despite different names*

```diff
@@ -7,33 +7,15 @@
 import aiohttp
 
 from ...config.injection_context import InjectionContext
 from ...core.profile import Profile
 from ..base import BaseDIDResolver, DIDNotFound, ResolverError, ResolverType
 
 LOGGER = logging.getLogger(__name__)
-DEFAULT_ENDPOINT = "https://dev.uniresolver.io"
-
-
-async def _fetch_resolver_props(endpoint: str) -> dict:
-    """Retrieve universal resolver properties."""
-    async with aiohttp.ClientSession() as session:
-        async with session.get(f"{endpoint}/1.0/properties/") as resp:
-            if resp.status >= 200 and resp.status < 400:
-                return await resp.json()
-            raise ResolverError(
-                "Failed to retrieve resolver properties: " + await resp.text()
-            )
-
-
-async def _get_supported_did_regex(endpoint: str) -> Pattern:
-    props = await _fetch_resolver_props(endpoint)
-    return _compile_supported_did_regex(
-        driver["http"]["pattern"] for driver in props.values()
-    )
+DEFAULT_ENDPOINT = "https://dev.uniresolver.io/1.0"
 
 
 def _compile_supported_did_regex(patterns: Iterable[Union[str, Pattern]]):
     """Create regex from list of regex."""
     return re.compile(
         "(?:"
         + "|".join(
@@ -50,33 +32,45 @@
     """Universal DID Resolver with HTTP bindings."""
 
     def __init__(
         self,
         *,
         endpoint: Optional[str] = None,
         supported_did_regex: Optional[Pattern] = None,
+        bearer_token: Optional[str] = None,
     ):
         """Initialize UniversalResolver."""
         super().__init__(ResolverType.NON_NATIVE)
         self._endpoint = endpoint
         self._supported_did_regex = supported_did_regex
 
+        self.__default_headers = (
+            {"Authorization": f"Bearer {bearer_token}"} if bearer_token else {}
+        )
+
     async def setup(self, context: InjectionContext):
-        """Preform setup, populate supported method list, configuration."""
+        """Perform setup, populate supported method list, configuration."""
+
+        # configure endpoint
         endpoint = context.settings.get_str("resolver.universal")
         if endpoint == "DEFAULT" or not endpoint:
             endpoint = DEFAULT_ENDPOINT
+        self._endpoint = endpoint
 
+        # configure authorization
+        token = context.settings.get_str("resolver.universal.token")
+        self.__default_headers = {"Authorization": f"Bearer {token}"} if token else {}
+
+        # configure supported methods
         supported = context.settings.get("resolver.universal.supported")
         if supported is None:
-            supported_did_regex = await _get_supported_did_regex(endpoint)
+            supported_did_regex = await self._get_supported_did_regex()
         else:
             supported_did_regex = _compile_supported_did_regex(supported)
 
-        self._endpoint = endpoint
         self._supported_did_regex = supported_did_regex
 
     @property
     def supported_did_regex(self) -> Pattern:
         """Return supported methods regex."""
         if not self._supported_did_regex:
             raise ResolverError("Resolver has not been set up")
@@ -87,21 +81,37 @@
         self,
         _profile: Profile,
         did: str,
         service_accept: Optional[Sequence[Text]] = None,
     ) -> dict:
         """Resolve DID through remote universal resolver."""
 
-        async with aiohttp.ClientSession() as session:
-            async with session.get(f"{self._endpoint}/1.0/identifiers/{did}") as resp:
+        async with aiohttp.ClientSession(headers=self.__default_headers) as session:
+            async with session.get(f"{self._endpoint}/identifiers/{did}") as resp:
                 if resp.status == 200:
                     doc = await resp.json()
                     did_doc = doc["didDocument"]
                     LOGGER.info("Retrieved doc: %s", did_doc)
                     return did_doc
                 if resp.status == 404:
                     raise DIDNotFound(f"{did} not found by {self.__class__.__name__}")
 
                 text = await resp.text()
                 raise ResolverError(
-                    f"Unexecpted status from universal resolver ({resp.status}): {text}"
+                    f"Unexpected status from universal resolver ({resp.status}): {text}"
                 )
+
+    async def _fetch_resolver_props(self) -> dict:
+        """Retrieve universal resolver properties."""
+        async with aiohttp.ClientSession(headers=self.__default_headers) as session:
+            async with session.get(f"{self._endpoint}/properties/") as resp:
+                if 200 <= resp.status < 400:
+                    return await resp.json()
+                raise ResolverError(
+                    "Failed to retrieve resolver properties: " + await resp.text()
+                )
+
+    async def _get_supported_did_regex(self) -> Pattern:
+        props = await self._fetch_resolver_props()
+        return _compile_supported_did_regex(
+            driver["http"]["pattern"] for driver in props.values()
+        )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/default/web.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/default/web.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/did_resolver.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/did_resolver.py`

 * *Files 13% similar despite different names*

```diff
@@ -4,35 +4,33 @@
 responsible for keeping track of all resolvers. more importantly
 retrieving did's from different sources provided by the method type.
 """
 
 from datetime import datetime
 from itertools import chain
 import logging
-from typing import Optional, List, Sequence, Tuple, Text, Type, TypeVar, Union
+from typing import List, Optional, Sequence, Text, Tuple, Union
 
-from pydid import DID, DIDError, DIDUrl, Resource, NonconformantDocument
-from pydid.doc.doc import IDNotFoundError
+from pydid import DID, DIDError, DIDUrl, Resource
+import pydid
+from pydid.doc.doc import BaseDIDDocument, IDNotFoundError
 
 from ..core.profile import Profile
 from .base import (
     BaseDIDResolver,
     DIDMethodNotSupported,
     DIDNotFound,
     ResolutionMetadata,
     ResolutionResult,
     ResolverError,
 )
 
 LOGGER = logging.getLogger(__name__)
 
 
-ResourceType = TypeVar("ResourceType", bound=Resource)
-
-
 class DIDResolver:
     """did resolver singleton."""
 
     def __init__(self, resolvers: List[BaseDIDResolver] = None):
         """Create DID Resolver."""
         self.resolvers = resolvers or []
 
@@ -111,30 +109,37 @@
         )
         resolvers = list(chain(native_resolvers, non_native_resolvers))
         if not resolvers:
             raise DIDMethodNotSupported(f'No resolver supprting DID "{did}" loaded')
         return resolvers
 
     async def dereference(
-        self, profile: Profile, did_url: str, *, cls: Type[ResourceType] = Resource
-    ) -> ResourceType:
+        self,
+        profile: Profile,
+        did_url: str,
+        *,
+        document: Optional[BaseDIDDocument] = None,
+    ) -> Resource:
         """Dereference a DID URL to its corresponding DID Doc object."""
         # TODO Use cached DID Docs when possible
         try:
             parsed = DIDUrl.parse(did_url)
             if not parsed.did:
                 raise ValueError("Invalid DID URL")
         except DIDError as err:
             raise ResolverError(
                 "Failed to parse DID URL from {}".format(did_url)
             ) from err
 
-        doc_dict = await self.resolve(profile, parsed.did)
-        # Use non-conformant doc as the "least common denominator"
+        if document and parsed.did != document.id:
+            document = None
+
+        if not document:
+            doc_dict = await self.resolve(profile, parsed.did)
+            document = pydid.deserialize_document(doc_dict)
+
         try:
-            return NonconformantDocument.deserialize(doc_dict).dereference_as(
-                cls, parsed
-            )
+            return document.dereference(parsed)
         except IDNotFoundError as error:
             raise ResolverError(
                 "Failed to dereference DID URL: {}".format(error)
             ) from error
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/routes.py`

 * *Files 2% similar despite different names*

```diff
@@ -49,15 +49,15 @@
 from pydid.common import DID_PATTERN
 from .did_resolver import DIDResolver
 
 
 class ResolutionResultSchema(OpenAPISchema):
     """Result schema for did document query."""
 
-    did_doc = fields.Dict(description="DID Document", required=True)
+    did_document = fields.Dict(description="DID Document", required=True)
     metadata = fields.Dict(description="Resolution metadata", required=True)
 
 
 class W3cDID(validate.Regexp):
     """Validate value against w3c DID."""
 
     EXAMPLE = "did:ted:WgWxqztrNooG92RXvxSTWv"
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/test_base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/test_base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/test_did_resolver.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/test_did_resolver.py`

 * *Files 6% similar despite different names*

```diff
@@ -3,15 +3,15 @@
 from typing import Pattern
 
 import re
 
 import pytest
 
 from asynctest import mock as async_mock
-from pydid import DID, DIDDocument, VerificationMethod
+from pydid import DID, DIDDocument, VerificationMethod, BasicDIDDocument
 
 from ..base import (
     BaseDIDResolver,
     DIDMethodNotSupported,
     DIDNotFound,
     ResolutionMetadata,
     ResolverError,
@@ -150,14 +150,25 @@
     url = "did:example:1234abcd#4"
     expected: dict = DOC["verificationMethod"][0]
     actual: VerificationMethod = await resolver.dereference(profile, url)
     assert expected == actual.serialize()
 
 
 @pytest.mark.asyncio
+async def test_dereference_diddoc(resolver, profile):
+    url = "did:example:1234abcd#4"
+    doc = BasicDIDDocument(
+        id="did:example:z6Mkmpe2DyE4NsDiAb58d75hpi1BjqbH6wYMschUkjWDEEuR"
+    )
+    result = await resolver.dereference(profile, url, document=doc)
+    assert isinstance(result, VerificationMethod)
+    assert result.id == url
+
+
+@pytest.mark.asyncio
 async def test_dereference_x(resolver, profile):
     url = "non-did"
     with pytest.raises(ResolverError):
         await resolver.dereference(profile, url)
 
 
 @pytest.mark.asyncio
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/resolver/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/resolver/tests/test_routes.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/issuer_cred_rev_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/issuer_cred_rev_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/issuer_rev_reg_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/issuer_rev_reg_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/revocation_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/revocation_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_issuer_cred_rev_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_issuer_cred_rev_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_issuer_rev_reg_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_issuer_rev_reg_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/models/tests/test_revocation_registry.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/models/tests/test_revocation_registry.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/recover.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/recover.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/routes.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,11 +1,13 @@
 """Revocation registry admin routes."""
 
 import json
 import logging
+import os
+import shutil
 from asyncio import shield
 import re
 
 from aiohttp import web
 from aiohttp_apispec import (
     docs,
     match_info_schema,
@@ -142,14 +144,39 @@
     cred_ex_id = fields.Str(
         description="Credential exchange identifier",
         required=False,
         **UUID4,
     )
 
 
+class RevRegId(OpenAPISchema):
+    """Parameters and validators for delete tails file request."""
+
+    @validates_schema
+    def validate_fields(self, data, **kwargs):
+        """Validate schema fields - must have either rr-id or cr-id."""
+
+        rev_reg_id = data.get("rev_reg_id")
+        cred_def_id = data.get("cred_def_id")
+
+        if not (rev_reg_id or cred_def_id):
+            raise ValidationError("Request must have either rev_reg_id or cred_def_id")
+
+    rev_reg_id = fields.Str(
+        description="Revocation registry identifier",
+        required=False,
+        **INDY_REV_REG_ID,
+    )
+    cred_def_id = fields.Str(
+        description="Credential definition identifier",
+        required=False,
+        **INDY_CRED_DEF_ID,
+    )
+
+
 class RevokeRequestSchema(CredRevRecordQueryStringSchema):
     """Parameters and validators for revocation request."""
 
     @validates_schema
     def validate_fields(self, data, **kwargs):
         """Validate fields - connection_id and thread_id must be present if notify."""
         super().validate_fields(data, **kwargs)
@@ -1463,14 +1490,66 @@
             registry_record.cred_def_id,
             registry_record.max_cred_num,
             registry_record.revoc_def_type,
             endorser_connection_id=endorser_connection_id,
         )
 
 
+class TailsDeleteResponseSchema(OpenAPISchema):
+    """Return schema for tails failes deletion."""
+
+    message = fields.Str()
+
+
+@querystring_schema(RevRegId())
+@response_schema(TailsDeleteResponseSchema())
+@docs(tags=["revocation"], summary="Delete the tail files")
+async def delete_tails(request: web.BaseRequest) -> json:
+    """Delete Tails Files."""
+    context: AdminRequestContext = request["context"]
+    rev_reg_id = request.query.get("rev_reg_id")
+    cred_def_id = request.query.get("cred_def_id")
+    revoc = IndyRevocation(context.profile)
+    session = revoc._profile.session()
+    if rev_reg_id:
+        rev_reg = await revoc.get_issuer_rev_reg_record(rev_reg_id)
+        tails_path = rev_reg.tails_local_path
+        main_dir_rev = os.path.dirname(tails_path)
+        try:
+            shutil.rmtree(main_dir_rev)
+            return web.json_response({"message": "All files deleted successfully"})
+        except Exception as e:
+            return web.json_response({"message": str(e)})
+    elif cred_def_id:
+        async with session:
+            cred_reg = sorted(
+                await IssuerRevRegRecord.query_by_cred_def_id(
+                    session, cred_def_id, IssuerRevRegRecord.STATE_GENERATED
+                )
+            )[0]
+        tails_path = cred_reg.tails_local_path
+        main_dir_rev = os.path.dirname(tails_path)
+        main_dir_cred = os.path.dirname(main_dir_rev)
+        filenames = os.listdir(main_dir_cred)
+        try:
+            flag = 0
+            for i in filenames:
+                safe_cred_def_id = re.escape(cred_def_id)
+                if re.search(safe_cred_def_id, i):
+                    shutil.rmtree(main_dir_cred + "/" + i)
+                    flag = 1
+            if flag:
+                return web.json_response({"message": "All files deleted successfully"})
+            else:
+                return web.json_response({"message": "No such file or directory"})
+
+        except Exception as e:
+            return web.json_response({"message": str(e)})
+
+
 async def register(app: web.Application):
     """Register routes."""
     app.add_routes(
         [
             web.post("/revocation/revoke", revoke),
             web.post("/revocation/publish-revocations", publish_revocations),
             web.post(
@@ -1520,14 +1599,15 @@
                 "/revocation/registry/{rev_reg_id}/set-state",
                 set_rev_reg_state,
             ),
             web.put(
                 "/revocation/registry/{rev_reg_id}/fix-revocation-entry-state",
                 update_rev_reg_revoked_state,
             ),
+            web.delete("/revocation/registry/delete-tails-file", delete_tails),
         ]
     )
 
 
 def post_process_routes(app: web.Application):
     """Amend swagger API."""
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/test_indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/test_indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/test_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/tests/test_routes.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,7 +1,11 @@
+import os
+import shutil
+import unittest
+
 from aiohttp.web import HTTPBadRequest, HTTPNotFound
 from asynctest import TestCase as AsyncTestCase
 from asynctest import mock as async_mock
 
 from aries_cloudagent.core.in_memory import InMemoryProfile
 from aries_cloudagent.revocation.error import RevocationError
 
@@ -83,15 +87,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "RevocationManager", autospec=True
         ) as mock_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_mgr.return_value.revoke_credential = async_mock.CoroutineMock()
 
             await test_module.revoke(self.request)
 
             mock_response.assert_called_once_with({})
 
     async def test_revoke_by_cred_ex_id(self):
@@ -103,15 +106,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "RevocationManager", autospec=True
         ) as mock_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_mgr.return_value.revoke_credential = async_mock.CoroutineMock()
 
             await test_module.revoke(self.request)
 
             mock_response.assert_called_once_with({})
 
     async def test_revoke_not_found(self):
@@ -124,15 +126,14 @@
         )
 
         with async_mock.patch.object(
             test_module, "RevocationManager", autospec=True
         ) as mock_mgr, async_mock.patch.object(
             test_module.web, "json_response"
         ) as mock_response:
-
             mock_mgr.return_value.revoke_credential = async_mock.CoroutineMock(
                 side_effect=test_module.StorageNotFoundError()
             )
 
             with self.assertRaises(test_module.web.HTTPBadRequest):
                 await test_module.revoke(self.request)
 
@@ -902,7 +903,67 @@
         )
         test_module.post_process_routes(mock_app)
         assert mock_app._state["swagger_dict"]["paths"][
             "/revocation/registry/{rev_reg_id}/tails-file"
         ]["get"]["responses"]["200"]["schema"] == {"type": "string", "format": "binary"}
 
         assert "tags" in mock_app._state["swagger_dict"]
+
+
+class TestDeleteTails(unittest.TestCase):
+    def setUp(self):
+        self.rev_reg_id = "rev_reg_id_123"
+        self.cred_def_id = "cred_def_id_456"
+
+        self.main_dir_rev = "path/to/main/dir/rev"
+        self.tails_path = os.path.join(self.main_dir_rev, "tails")
+        if not (os.path.exists(self.main_dir_rev)):
+            os.makedirs(self.main_dir_rev)
+        open(self.tails_path, "w").close()
+
+    async def test_delete_tails_by_rev_reg_id(self):
+        # Setup
+        rev_reg_id = self.rev_reg_id
+
+        # Test
+        result = await test_module.delete_tails(
+            {"context": None, "query": {"rev_reg_id": rev_reg_id}}
+        )
+
+        # Assert
+        self.assertEqual(result, {"message": "All files deleted successfully"})
+        self.assertFalse(os.path.exists(self.tails_path))
+
+    async def test_delete_tails_by_cred_def_id(self):
+        # Setup
+        cred_def_id = self.cred_def_id
+        main_dir_cred = "path/to/main/dir/cred"
+        os.makedirs(main_dir_cred)
+        cred_dir = os.path.join(main_dir_cred, cred_def_id)
+        os.makedirs(cred_dir)
+
+        # Test
+        result = await test_module.delete_tails(
+            {"context": None, "query": {"cred_def_id": cred_def_id}}
+        )
+
+        # Assert
+        self.assertEqual(result, {"message": "All files deleted successfully"})
+        self.assertFalse(os.path.exists(cred_dir))
+        self.assertTrue(os.path.exists(main_dir_cred))
+
+    async def test_delete_tails_not_found(self):
+        # Setup
+        cred_def_id = "invalid_cred_def_id"
+
+        # Test
+        result = await test_module.delete_tails(
+            {"context": None, "query": {"cred_def_id": cred_def_id}}
+        )
+
+        # Assert
+        self.assertEqual(result, {"message": "No such file or directory"})
+        self.assertTrue(os.path.exists(self.main_dir_rev))
+
+    async def tearDown(self):
+        if os.path.exists(self.main_dir_rev):
+            shutil.rmtree(self.main_dir_rev)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/revocation/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/revocation/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/askar.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/askar.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/in_memory.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/in_memory.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/test_askar_storage.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/test_askar_storage.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/test_in_memory_storage.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/test_in_memory_storage.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/tests/test_indy_storage.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/tests/test_indy_storage.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/askar.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/askar.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/in_memory.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/in_memory.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_askar_vc_holder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_askar_vc_holder.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_in_memory_vc_holder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_in_memory_vc_holder.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_indy_vc_holder.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_indy_vc_holder.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/tests/test_vc_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/tests/test_vc_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/vc_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/vc_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/storage/vc_holder/xform.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/storage/vc_holder/xform.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/indy_tails_server.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/indy_tails_server.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/tails/tests/test_indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/tails/tests/test_indy.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/tests/test_main.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/tests/test_main.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/error.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/error.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/delivery_queue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/delivery_queue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/http.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/http.py`

 * *Files 12% similar despite different names*

```diff
@@ -92,15 +92,20 @@
         async with session:
             try:
                 inbound = await session.receive(body)
             except (MessageParseError, WireFormatParseError):
                 raise web.HTTPBadRequest()
 
             if inbound.receipt.direct_response_requested:
-                response = await session.wait_response()
+                # Wait for the message to be processed. Only send a response if a response
+                # buffer is present.
+                await inbound.wait_processing_complete()
+                response = (
+                    await session.wait_response() if session.response_buffer else None
+                )
 
                 # no more responses
                 session.can_respond = False
                 session.clear_response()
 
                 if response:
                     if isinstance(response, bytes):
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/manager.py`

 * *Files 2% similar despite different names*

```diff
@@ -177,14 +177,16 @@
 
     def dispatch_complete(self, message: InboundMessage, completed: CompletedTask):
         """Handle completion of message dispatch."""
         session: InboundSession = self.sessions.get(message.session_id)
         if session and session.accept_undelivered and not session.response_buffered:
             self.process_undelivered(session)
 
+        message.dispatch_processing_complete()
+
     def closed_session(self, session: InboundSession):
         """
         Clean up a closed session.
 
         Returns an undelivered message to the caller if possible.
         """
         if session.session_id in self.sessions:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/receipt.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/receipt.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/session.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/session.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_delivery_queue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_delivery_queue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_http_transport.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_http_transport.py`

 * *Files 5% similar despite different names*

```diff
@@ -58,14 +58,15 @@
 
     def receive_message(
         self,
         profile: Profile,
         message: InboundMessage,
         can_respond: bool = False,
     ):
+        message.wait_processing_complete = async_mock.CoroutineMock()
         self.message_results.append((message.payload, message.receipt, can_respond))
         if self.result_event:
             self.result_event.set()
         if self.response_message and self.session:
             self.session.set_response(self.response_message)
 
     def get_application(self):
@@ -115,21 +116,23 @@
         test_message = {"test": "message"}
         with async_mock.patch.object(
             test_module.HttpTransport, "create_session", async_mock.CoroutineMock()
         ) as mock_session:
             mock_session.return_value = async_mock.MagicMock(
                 receive=async_mock.CoroutineMock(
                     return_value=async_mock.MagicMock(
-                        receipt=async_mock.MagicMock(direct_response_requested=True)
+                        receipt=async_mock.MagicMock(direct_response_requested=True),
+                        wait_processing_complete=async_mock.CoroutineMock(),
                     )
                 ),
                 can_respond=True,
                 profile=InMemoryProfile.test_profile(),
                 clear_response=async_mock.MagicMock(),
                 wait_response=async_mock.CoroutineMock(return_value=b"Hello world"),
+                response_buffer="something",
             )
             async with self.client.post("/", data=test_message) as resp:
                 result = await resp.text()
             assert result == "Hello world"
 
             mock_session.return_value = async_mock.MagicMock(
                 receive=async_mock.CoroutineMock(
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_session.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_session.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/tests/test_ws_transport.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/tests/test_ws_transport.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/inbound/ws.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/inbound/ws.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/http.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/http.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/message.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/message.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/status.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/status.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/test_http_transport.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/test_http_transport.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/test_manager.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/test_manager.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/tests/test_ws_transport.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/tests/test_ws_transport.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/outbound/ws.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/outbound/ws.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/pack_format.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/pack_format.py`

 * *Files 0% similar despite different names*

```diff
@@ -65,15 +65,14 @@
         except ValueError:
             raise WireFormatParseError("Message JSON parsing failed")
         if not isinstance(message_dict, dict):
             raise WireFormatParseError("Message JSON result is not an object")
 
         # packed messages are detected by the absence of @type
         if "@type" not in message_dict:
-
             try:
                 unpack = self.unpack(session, message_body, receipt)
                 message_json = await (
                     self.task_queue and self.task_queue.run(unpack) or unpack
                 )
             except WireFormatParseError:
                 LOGGER.debug("Message unpack failed, falling back to JSON")
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/basic.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/basic.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/queue/tests/test_basic_queue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/queue/tests/test_basic_queue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/stats.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/stats.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/tests/test_pack_format.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/tests/test_pack_format.py`

 * *Files 2% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 from asynctest import TestCase as AsyncTestCase
 from asynctest import mock as async_mock
 
 from ...core.in_memory import InMemoryProfile
 from ...protocols.didcomm_prefix import DIDCommPrefix
 from ...protocols.routing.v1_0.message_types import FORWARD
 from ...wallet.base import BaseWallet
-from ...wallet.did_method import SOV
+from ...wallet.did_method import SOV, DIDMethods
 from ...wallet.error import WalletError
 from ...wallet.key_type import ED25519
 from .. import pack_format as test_module
 from ..error import RecipientKeysError, WireFormatEncodeError, WireFormatParseError
 from ..pack_format import PackWireFormat
 
 
@@ -29,14 +29,15 @@
         "content": test_content,
     }
     test_seed = "testseed000000000000000000000001"
     test_routing_seed = "testseed000000000000000000000002"
 
     def setUp(self):
         self.session = InMemoryProfile.test_session()
+        self.session.profile.context.injector.bind_instance(DIDMethods, DIDMethods())
         self.wallet = self.session.inject(BaseWallet)
 
     async def test_errors(self):
         serializer = PackWireFormat()
         bad_values = [None, "", "1", "[]", "{..."]
 
         for message_json in bad_values:
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/tests/test_stats.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/tests/test_stats.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/transport/wire_format.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/transport/wire_format.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/classloader.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/classloader.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/dependencies.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/dependencies.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/http.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/http.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/jwe.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/jwe.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/outofband.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/outofband.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/repeat.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/repeat.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/stats.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/stats.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/task_queue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/task_queue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_classloader.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_classloader.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_http.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_http.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_jwe.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_jwe.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_outofband.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_outofband.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_repeat.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_repeat.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_stats.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_stats.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_task_queue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_task_queue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tests/test_tracing.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tests/test_tracing.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/utils/tracing.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/utils/tracing.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/check.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/check.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/constants.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/constants.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/key_pair.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/key_pair.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/tests/test_wallet_key_pair.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/tests/test_wallet_key_pair.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/crypto/wallet_key_pair.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/crypto/wallet_key_pair.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/document_loader.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/document_loader.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/ld_proofs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/ld_proofs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/proof_set.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/proof_set.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/assertion_proof_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/assertion_proof_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/authentication_proof_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/authentication_proof_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/controller_proof_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/controller_proof_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/credential_issuance_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/credential_issuance_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/proof_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/proof_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_authentication_proof_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_authentication_proof_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_controller_proof_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_controller_proof_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_credential_issuance_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_credential_issuance_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/purposes/tests/test_proof_purpose.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/purposes/tests/test_proof_purpose.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020_base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_2020_base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_proof_2020.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/bbs_bls_signature_proof_2020.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/ed25519_signature_2018.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/ed25519_signature_2018.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/jws_linked_data_signature.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/jws_linked_data_signature.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/linked_data_proof.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/linked_data_proof.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/linked_data_signature.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/linked_data_signature.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_2020.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_2020.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_proof_2020.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/test_bbs_bls_signature_proof_2020.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/suites/tests/test_ed25519_signature_2018.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/suites/tests/test_ed25519_signature_2018.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/test_check.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/test_check.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/test_doc.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/test_doc.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/tests/test_ld_proofs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/tests/test_ld_proofs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/ld_proofs/validation_result.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/ld_proofs/validation_result.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/bbs_v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/bbs_v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/citizenship_v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/citizenship_v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/credentials_v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/credentials_v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/did_v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/did_v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/examples_v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/examples_v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/odrl.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/odrl.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/schema_org.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/schema_org.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/security_v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/security_v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/security_v2.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/security_v2.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/security_v3_unstable.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/security_v3_unstable.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/contexts/vaccination_v1.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/contexts/vaccination_v1.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_nested_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_nested_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_partial_proof_nested_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_partial_proof_nested_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_partial_proof_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_partial_proof_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_proof_nested_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_proof_nested_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_proof_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_proof_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_signed_nested_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_signed_nested_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_signed_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_signed_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_vc_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_vc_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/bbs_vc_reveal_document_mattr.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/bbs_vc_reveal_document_mattr.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_bad_partial_proof_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_bad_partial_proof_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_ed25519.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_bad_signed_ed25519.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_partial_proof_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_partial_proof_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_proof_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_proof_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_signed_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_signed_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_ld_document_signed_ed25519.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_ld_document_signed_ed25519.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_did_key_ed25519.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_did_key_ed25519.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested_partial_proof_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested_partial_proof_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested_proof_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested_proof_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_nested_signed_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_nested_signed_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_partial_proof_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_partial_proof_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_reveal.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_reveal.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_signed_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_signed_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_signed_did_key_ed25519.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_signed_did_key_ed25519.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/data/test_vc_document_signed_ed25519.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/data/test_vc_document_signed_ed25519.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/did_sov_QqEfJxe752NCmWqR5TssZ5.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/did_sov_QqEfJxe752NCmWqR5TssZ5.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/did_z6Mkgg342Ycpuk263R9d8Aq6MUaxPn1DDeHyGo38EefXmgDL.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/did_z6Mkgg342Ycpuk263R9d8Aq6MUaxPn1DDeHyGo38EefXmgDL.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/dids/did_zUC72Q7XD4PE4CrMiDVXuvZng3sBvMmaGgNeTUJuzavH2BS7ThbHL9FhsZM9QYY5fqAQ4MB8M9oudz3tfuaX36Ajr97QRW7LBt6WWmrtESe6Bs5NYzFtLWEmeVtvRYVAgjFcJSa.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/dids/did_zUC72Q7XD4PE4CrMiDVXuvZng3sBvMmaGgNeTUJuzavH2BS7ThbHL9FhsZM9QYY5fqAQ4MB8M9oudz3tfuaX36Ajr97QRW7LBt6WWmrtESe6Bs5NYzFtLWEmeVtvRYVAgjFcJSa.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/document_loader.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/document_loader.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/tests/test_bbs_mattr_interop.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/tests/test_bbs_mattr_interop.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/__init__.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/__init__.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/issue.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/issue.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/credential.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/credential.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/linked_data_proof.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/linked_data_proof.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/models/tests/test_credential.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/models/tests/test_credential.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/prove.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/prove.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/tests/test_credential.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/tests/test_credential.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/tests/test_vc_ld.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/tests/test_vc_ld.py`

 * *Files 0% similar despite different names*

```diff
@@ -255,15 +255,14 @@
 
         assert not verification_result.verified
         assert 'A "challenge" param is required for AuthenticationProofPurpose' in str(
             verification_result.errors[0]
         )
 
     async def test_sign_presentation_x_no_purpose_challenge(self):
-
         with self.assertRaises(LinkedDataProofException) as context:
             await sign_presentation(
                 presentation=PRESENTATION_UNSIGNED,
                 suite=async_mock.MagicMock(),
                 document_loader=async_mock.MagicMock(),
             )
         assert 'A "challenge" param is required' in str(context.exception)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/validation_result.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/validation_result.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/vc/vc_ld/verify.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/vc/vc_ld/verify.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/askar.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/askar.py`

 * *Files 1% similar despite different names*

```diff
@@ -11,30 +11,30 @@
     AskarErrorCode,
     Entry,
     Key,
     KeyAlg,
     SeedMethod,
 )
 
+from .did_parameters_validation import DIDParametersValidation
 from ..askar.didcomm.v1 import pack_message, unpack_message
 from ..askar.profile import AskarProfileSession
-from ..did.did_key import DIDKey
 from ..ledger.base import BaseLedger
 from ..ledger.endpoint_type import EndpointType
 from ..ledger.error import LedgerConfigError
 from ..storage.askar import AskarStorage
 from ..storage.base import StorageRecord, StorageDuplicateError, StorageNotFoundError
 
 from .base import BaseWallet, KeyInfo, DIDInfo
 from .crypto import (
     sign_message,
     validate_seed,
     verify_signed_message,
 )
-from .did_method import SOV, KEY, DIDMethod, DIDMethods
+from .did_method import SOV, DIDMethod, DIDMethods
 from .error import WalletError, WalletDuplicateError, WalletNotFoundError
 from .key_type import BLS12381G2, ED25519, KeyType, KeyTypes
 from .util import b58_to_bytes, bytes_to_b58
 
 CATEGORY_DID = "did"
 CATEGORY_CONFIG = "config"
 RECORD_NAME_PUBLIC_DID = "default_public_did"
@@ -167,53 +167,42 @@
             A `DIDInfo` instance representing the created DID
 
         Raises:
             WalletDuplicateError: If the DID already exists in the wallet
             WalletError: If there is another backend error
 
         """
-
-        # validate key_type
-        if not method.supports_key_type(key_type):
-            raise WalletError(
-                f"Invalid key type {key_type.key_type}"
-                f" for DID method {method.method_name}"
-            )
-
-        if method == KEY and did:
-            raise WalletError("Not allowed to set DID for DID method 'key'")
+        did_validation = DIDParametersValidation(
+            self._session.context.inject(DIDMethods)
+        )
+        did_validation.validate_key_type(method, key_type)
 
         if not metadata:
             metadata = {}
-        if method not in [SOV, KEY]:
-            raise WalletError(
-                f"Unsupported DID method for askar storage: {method.method_name}"
-            )
 
         try:
             keypair = _create_keypair(key_type, seed)
             verkey_bytes = keypair.get_public_bytes()
             verkey = bytes_to_b58(verkey_bytes)
 
+            did = did_validation.validate_or_derive_did(
+                method, key_type, verkey_bytes, did
+            )
+
             try:
                 await self._session.handle.insert_key(
                     verkey, keypair, metadata=json.dumps(metadata)
                 )
             except AskarError as err:
                 if err.code == AskarErrorCode.DUPLICATE:
                     # update metadata?
                     pass
                 else:
                     raise WalletError("Error inserting key") from err
 
-            if method == KEY:
-                did = DIDKey.from_public_key(verkey_bytes, key_type).did
-            elif not did:
-                did = bytes_to_b58(verkey_bytes[:16])
-
             item = await self._session.handle.fetch(CATEGORY_DID, did, for_update=True)
             if item:
                 did_info = item.value_json
                 if did_info.get("verkey") != verkey:
                     raise WalletDuplicateError("DID already present in wallet")
                 if did_info.get("metadata") != metadata:
                     did_info["metadata"] = metadata
@@ -274,20 +263,20 @@
             WalletError: If there is another backend error
 
         """
 
         if not did:
             raise WalletNotFoundError("No identifier provided")
         try:
-            did = await self._session.handle.fetch(CATEGORY_DID, did)
+            did_entry = await self._session.handle.fetch(CATEGORY_DID, did)
         except AskarError as err:
             raise WalletError("Error when fetching local DID") from err
-        if not did:
+        if not did_entry:
             raise WalletNotFoundError("Unknown DID: {}".format(did))
-        return self._load_did_entry(did)
+        return self._load_did_entry(did_entry)
 
     async def get_local_did_for_verkey(self, verkey: str) -> DIDInfo:
         """
         Resolve a local DID from a verkey.
 
         Args:
             verkey: The verkey for which to get the local DID
@@ -403,17 +392,14 @@
             if not item:
                 raise WalletNotFoundError("Unknown DID: {}".format(did))
             info = self._load_did_entry(item)
         else:
             info = did
             item = None
 
-        if info.method != SOV:
-            raise WalletError("Setting public DID is only allowed for did:sov DIDs")
-
         public = await self.get_public_did()
         if not public or public.did != info.did:
             storage = AskarStorage(self._session)
             if not info.metadata.get("posted"):
                 metadata = {**info.metadata, "posted": True}
                 if item:
                     entry_val = item.value_json
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/base.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/base.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/bbs.py`

 * *Files 0% similar despite different names*

```diff
@@ -98,9 +98,9 @@
 
     if not seed:
         seed = random_seed()
 
     try:
         key_pair = BlsKeyPair.generate_g2(seed)
         return key_pair.public_key, key_pair.secret_key
-    except (Exception) as error:
+    except Exception as error:
         raise BbsException("Unable to create keypair") from error
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/crypto.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/crypto.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/did_method.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/did_method.py`

 * *Files 26% similar despite different names*

```diff
@@ -1,23 +1,39 @@
 """did method.py contains registry for did methods."""
 
+from enum import Enum
 from typing import Dict, List, Mapping, Optional
 
 from .error import BaseError
 from .key_type import BLS12381G2, ED25519, KeyType
 
 
+class HolderDefinedDid(Enum):
+    """Define if a holder can specify its own did for a given method."""
+
+    NO = "no"  # holder CANNOT provide a DID
+    ALLOWED = "allowed"  # holder CAN provide a DID
+    REQUIRED = "required"  # holder MUST provide a DID
+
+
 class DIDMethod:
     """Class to represent a did method."""
 
-    def __init__(self, name: str, key_types: List[KeyType], rotation: bool = False):
+    def __init__(
+        self,
+        name: str,
+        key_types: List[KeyType],
+        rotation: bool = False,
+        holder_defined_did: HolderDefinedDid = HolderDefinedDid.NO,
+    ):
         """Construct did method class."""
         self._method_name: str = name
         self._supported_key_types: List[KeyType] = key_types
         self._supports_rotation: bool = rotation
+        self._holder_defined_did: HolderDefinedDid = holder_defined_did
 
     @property
     def method_name(self):
         """Get method name."""
         return self._method_name
 
     @property
@@ -30,16 +46,29 @@
         """Get supported key types."""
         return self._supported_key_types
 
     def supports_key_type(self, key_type: KeyType) -> bool:
         """Check whether the current method supports the key type."""
         return key_type in self.supported_key_types
 
+    def holder_defined_did(self) -> HolderDefinedDid:
+        """Return the did derivation policy.
 
-SOV = DIDMethod(name="sov", key_types=[ED25519], rotation=True)
+        eg: did:key DIDs are derived from the verkey -> HolderDefinedDid.NO
+        eg: did:web DIDs cannot be derived from key material -> HolderDefinedDid.REQUIRED
+        """
+        return self._holder_defined_did
+
+
+SOV = DIDMethod(
+    name="sov",
+    key_types=[ED25519],
+    rotation=True,
+    holder_defined_did=HolderDefinedDid.ALLOWED,
+)
 KEY = DIDMethod(
     name="key",
     key_types=[ED25519, BLS12381G2],
     rotation=False,
 )
 
 
@@ -51,15 +80,15 @@
         self._registry: Dict[str, DIDMethod] = {
             SOV.method_name: SOV,
             KEY.method_name: KEY,
         }
 
     def registered(self, method: str) -> bool:
         """Check for a supported method."""
-        return method in list(self._registry.items())
+        return method in self._registry.keys()
 
     def register(self, method: DIDMethod):
         """Register a new did method."""
         self._registry[method.method_name] = method
 
     def from_method(self, method_name: str) -> Optional[DIDMethod]:
         """Retrieve a did method from method name."""
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/did_posture.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/did_posture.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/in_memory.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/in_memory.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,27 +1,27 @@
 """In-memory implementation of BaseWallet interface."""
 
 import asyncio
 from typing import List, Sequence, Tuple, Union
 
+from .did_parameters_validation import DIDParametersValidation
 from ..core.in_memory import InMemoryProfile
-from ..did.did_key import DIDKey
 
 from .base import BaseWallet
 from .crypto import (
     create_keypair,
     validate_seed,
     sign_message,
     verify_signed_message,
     encode_pack_message,
     decode_pack_message,
 )
 from .did_info import KeyInfo, DIDInfo
 from .did_posture import DIDPosture
-from .did_method import SOV, KEY, DIDMethod, DIDMethods
+from .did_method import DIDMethod, DIDMethods
 from .error import WalletError, WalletDuplicateError, WalletNotFoundError
 from .key_type import KeyType
 from .util import b58_to_bytes, bytes_to_b58, random_seed
 
 
 class InMemoryWallet(BaseWallet):
     """In-memory wallet implementation."""
@@ -208,35 +208,23 @@
 
         Raises:
             WalletDuplicateError: If the DID already exists in the wallet
 
         """
         seed = validate_seed(seed) or random_seed()
 
-        # validate key_type
-        if not method.supports_key_type(key_type):
-            raise WalletError(
-                f"Invalid key type {key_type.key_type} for method {method.method_name}"
-            )
+        did_methods: DIDMethods = self.profile.context.inject(DIDMethods)
+        did_validation = DIDParametersValidation(did_methods)
+
+        did_validation.validate_key_type(method, key_type)
 
         verkey, secret = create_keypair(key_type, seed)
         verkey_enc = bytes_to_b58(verkey)
 
-        # We need some did method specific handling. If more did methods
-        # are added it is probably better create a did method specific handler
-        if method == KEY:
-            if did:
-                raise WalletError("Not allowed to set DID for DID method 'key'")
-
-            did = DIDKey.from_public_key(verkey, key_type).did
-        elif method == SOV:
-            if not did:
-                did = bytes_to_b58(verkey[:16])
-        else:
-            raise WalletError(f"Unsupported DID method: {method.method_name}")
+        did = did_validation.validate_or_derive_did(method, key_type, verkey, did)
 
         if (
             did in self.profile.local_dids
             and self.profile.local_dids[did]["verkey"] != verkey_enc
         ):
             raise WalletDuplicateError("DID already exists in wallet")
         self.profile.local_dids[did] = {
@@ -391,17 +379,14 @@
         if isinstance(did, str):
             # will raise an exception if not found
             info = await self.get_local_did(did)
         else:
             info = did
             did = info.did
 
-        if info.method != SOV:
-            raise WalletError("Setting public DID is only allowed for did:sov DIDs")
-
         public = await self.get_public_did()
         if public and public.did == did:
             info = public
         else:
             if public:
                 metadata = {**public.metadata, **DIDPosture.POSTED.metadata}
                 await self.replace_local_did_metadata(public.did, metadata)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/indy.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/indy.py`

 * *Files 1% similar despite different names*

```diff
@@ -195,17 +195,17 @@
             # TODO: inject context to support more keytypes
             key_types = KeyTypes()
             return KeyInfo(
                 verkey=verkey,
                 metadata=key_pair["metadata"],
                 key_type=key_types.from_key_type(key_pair["key_type"]) or BLS12381G2,
             )
-        except (StorageNotFoundError):
+        except StorageNotFoundError:
             raise WalletNotFoundError(f"Unknown key: {verkey}")
-        except (StorageDuplicateError):
+        except StorageDuplicateError:
             raise WalletDuplicateError(f"Multiple keys exist for verkey: {verkey}")
 
     async def get_signing_key(self, verkey: str) -> KeyInfo:
         """
         Fetch info for a signing keypair.
 
         Args:
@@ -683,17 +683,14 @@
 
         if isinstance(did, str):
             # will raise an exception if not found
             info = await self.get_local_did(did)
         else:
             info = did
 
-        if info.method != SOV:
-            raise WalletError("Setting public DID is only allowed for did:sov DIDs")
-
         public = await self.get_public_did()
         if not public or public.did != info.did:
             if not info.metadata.get("posted"):
                 metadata = {**info.metadata, "posted": True}
                 await self.replace_local_did_metadata(info.did, metadata)
                 info = info._replace(metadata=metadata)
             storage = IndySdkStorage(self.opened)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/key_pair.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/key_pair.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/key_type.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/key_type.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/tests/test_wallet_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/tests/test_wallet_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/models/wallet_record.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/models/wallet_record.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/routes.py`

 * *Files 1% similar despite different names*

```diff
@@ -19,30 +19,30 @@
 from ..messaging.models.openapi import OpenAPISchema
 from ..messaging.responder import BaseResponder
 from ..messaging.valid import (
     DID_POSTURE,
     ENDPOINT,
     ENDPOINT_TYPE,
     INDY_DID,
-    INDY_OR_KEY_DID,
     INDY_RAW_PUBLIC_KEY,
+    GENERIC_DID,
 )
 from ..protocols.coordinate_mediation.v1_0.route_manager import RouteManager
 from ..protocols.endorse_transaction.v1_0.manager import (
     TransactionManager,
     TransactionManagerError,
 )
 from ..protocols.endorse_transaction.v1_0.util import (
     get_endorser_connection_id,
     is_author_role,
 )
 from ..storage.error import StorageError, StorageNotFoundError
 from .base import BaseWallet
 from .did_info import DIDInfo
-from .did_method import SOV, KEY, DIDMethod, DIDMethods
+from .did_method import SOV, KEY, DIDMethod, DIDMethods, HolderDefinedDid
 from .did_posture import DIDPosture
 from .error import WalletError, WalletNotFoundError
 from .key_type import BLS12381G2, ED25519, KeyTypes
 from .util import EVENT_LISTENER_PATTERN
 
 LOGGER = logging.getLogger(__name__)
 
@@ -50,30 +50,26 @@
 class WalletModuleResponseSchema(OpenAPISchema):
     """Response schema for Wallet Module."""
 
 
 class DIDSchema(OpenAPISchema):
     """Result schema for a DID."""
 
-    did = fields.Str(description="DID of interest", **INDY_OR_KEY_DID)
+    did = fields.Str(description="DID of interest", **GENERIC_DID)
     verkey = fields.Str(description="Public verification key", **INDY_RAW_PUBLIC_KEY)
     posture = fields.Str(
         description=(
             "Whether DID is current public DID, "
             "posted to ledger but not current public DID, "
             "or local to the wallet"
         ),
         **DID_POSTURE,
     )
     method = fields.Str(
-        description="Did method associated with the DID",
-        example=SOV.method_name,
-        validate=validate.OneOf(
-            [method.method_name for method in [SOV, KEY]]
-        ),  # TODO: support more methods
+        description="Did method associated with the DID", example=SOV.method_name
     )
     key_type = fields.Str(
         description="Key type associated with the DID",
         example=ED25519.key_type,
         validate=validate.OneOf([ED25519.key_type, BLS12381G2.key_type]),
     )
 
@@ -115,15 +111,15 @@
         description="Endpoint to set (omit to delete)", required=False, **ENDPOINT
     )
 
 
 class DIDListQueryStringSchema(OpenAPISchema):
     """Parameters and validators for DID list request query string."""
 
-    did = fields.Str(description="DID of interest", required=False, **INDY_OR_KEY_DID)
+    did = fields.Str(description="DID of interest", required=False, **GENERIC_DID)
     verkey = fields.Str(
         description="Verification key of interest",
         required=False,
         **INDY_RAW_PUBLIC_KEY,
     )
     posture = fields.Str(
         description=(
@@ -156,32 +152,42 @@
 
 class DIDCreateOptionsSchema(OpenAPISchema):
     """Parameters and validators for create DID options."""
 
     key_type = fields.Str(
         required=True,
         example=ED25519.key_type,
+        description="Key type to use for the DID keypair. "
+        + "Validated with the chosen DID method's supported key types.",
         validate=validate.OneOf([ED25519.key_type, BLS12381G2.key_type]),
     )
 
+    did = fields.Str(
+        required=False,
+        description="Specify final value of the did (including did:<method>: prefix)"
+        + "if the method supports or requires so.",
+        **GENERIC_DID,
+    )
+
 
 class DIDCreateSchema(OpenAPISchema):
     """Parameters and validators for create DID endpoint."""
 
     method = fields.Str(
         required=False,
         default=SOV.method_name,
         example=SOV.method_name,
-        validate=validate.OneOf([KEY.method_name, SOV.method_name]),
+        description="Method for the requested DID."
+        + "Supported methods are 'key', 'sov', and any other registered method.",
     )
 
     options = fields.Nested(
         DIDCreateOptionsSchema,
         required=False,
-        description="To define a key type for a did:key",
+        description="To define a key type and/or a did depending on chosen DID method.",
     )
 
     seed = fields.Str(
         required=False,
         description=(
             "Optional seed to use for DID, Must be"
             "enabled in configuration before use."
@@ -370,22 +376,34 @@
         if not method.supports_key_type(key_type):
             raise web.HTTPForbidden(
                 reason=(
                     f"method {method.method_name} does not"
                     f" support key type {key_type.key_type}"
                 )
             )
+
+        did = body.get("options", {}).get("did")
+        if method.holder_defined_did() == HolderDefinedDid.NO and did:
+            raise web.HTTPForbidden(
+                reason=(
+                    f"method {method.method_name} does not"
+                    f" support user-defined DIDs"
+                )
+            )
+        elif method.holder_defined_did() == HolderDefinedDid.REQUIRED and not did:
+            raise web.HTTPBadRequest(
+                reason=f"method {method.method_name} requires a user-defined DIDs"
+            )
+
         wallet = session.inject_or(BaseWallet)
         if not wallet:
             raise web.HTTPForbidden(reason="No wallet available")
         try:
             info = await wallet.create_local_did(
-                method=method,
-                key_type=key_type,
-                seed=seed,
+                method=method, key_type=key_type, seed=seed, did=did
             )
 
         except WalletError as err:
             raise web.HTTPBadRequest(reason=err.roll_up) from err
 
     return web.json_response({"result": format_did_info(info)})
 
@@ -610,15 +628,15 @@
                     write_ledger=write_ledger,
                     endorser_did=endorser_did,
                     routing_keys=routing_keys,
                 )
 
         # Route the public DID
         route_manager = profile.inject(RouteManager)
-        await route_manager.route_public_did(profile, info.verkey)
+        await route_manager.route_verkey(profile, info.verkey)
 
     return info, attrib_def
 
 
 @docs(
     tags=["wallet"], summary="Update endpoint in wallet and on ledger if posted to it"
 )
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_bbs.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_bbs.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_crypto.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_crypto.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_did_method.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_did_method.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_did_posture.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_did_posture.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_in_memory_wallet.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_in_memory_wallet.py`

 * *Files 1% similar despite different names*

```diff
@@ -9,14 +9,15 @@
 from ...wallet.in_memory import InMemoryWallet
 from ...wallet.key_type import BLS12381G1, BLS12381G1G2, BLS12381G2, ED25519, X25519
 
 
 @pytest.fixture()
 async def wallet():
     profile = InMemoryProfile.test_profile()
+    profile.context.injector.bind_instance(DIDMethods, DIDMethods())
     wallet = InMemoryWallet(profile)
     yield wallet
 
 
 class TestInMemoryWallet:
     test_seed = "testseed000000000000000000000001"
     test_sov_did = "55GkHamhTU1ZbTbV2ab9DE"
@@ -342,25 +343,14 @@
         posted = await wallet.get_posted_dids()
         assert len(posted) == 2 and set(p.did for p in posted) == {
             info_public.did,
             info_replace.did,
         }
 
     @pytest.mark.asyncio
-    async def test_create_public_did_x_not_sov(self, wallet: InMemoryWallet):
-        with pytest.raises(WalletError) as context:
-            await wallet.create_public_did(
-                KEY,
-                ED25519,
-            )
-        assert "Setting public DID is only allowed for did:sov DIDs" in str(
-            context.value
-        )
-
-    @pytest.mark.asyncio
     async def test_create_public_did_x_unsupported_key_type_method(
         self, wallet: InMemoryWallet
     ):
         with pytest.raises(WalletError) as context:
             await wallet.create_public_did(
                 SOV,
                 BLS12381G2,
@@ -396,26 +386,14 @@
 
         # test replace
         info_final = await wallet.set_public_did(info_new.did)
         assert info_final.did == info_new.did
         assert info_final.metadata.get("posted")
 
     @pytest.mark.asyncio
-    async def test_set_public_did_x_not_sov(self, wallet: InMemoryWallet):
-        info = await wallet.create_local_did(
-            KEY,
-            ED25519,
-        )
-        with pytest.raises(WalletError) as context:
-            await wallet.set_public_did(info.did)
-        assert "Setting public DID is only allowed for did:sov DIDs" in str(
-            context.value
-        )
-
-    @pytest.mark.asyncio
     async def test_sign_verify(self, wallet: InMemoryWallet):
         info = await wallet.create_local_did(
             SOV, ED25519, self.test_seed, self.test_sov_did
         )
         message_bin = self.test_message.encode("ascii")
         signature = await wallet.sign_message(message_bin, info.verkey)
         assert signature == self.test_signature
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_indy_wallet.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_indy_wallet.py`

 * *Files 0% similar despite different names*

```diff
@@ -13,35 +13,36 @@
 from ...core.error import ProfileDuplicateError, ProfileError, ProfileNotFoundError
 from ...core.in_memory import InMemoryProfile
 from ...indy.sdk import wallet_setup as test_setup_module
 from ...indy.sdk.profile import IndySdkProfile, IndySdkProfileManager
 from ...indy.sdk.wallet_setup import IndyWalletConfig
 from ...ledger.endpoint_type import EndpointType
 from ...ledger.indy import IndySdkLedgerPool
-from ...wallet.did_method import SOV
+from ...wallet.did_method import SOV, DIDMethods
 from ...wallet.key_type import ED25519
 from .. import indy as test_module
 from ..base import BaseWallet
 from ..in_memory import InMemoryWallet
 from ..indy import IndySdkWallet
 from . import test_in_memory_wallet
 
 
 @pytest.fixture()
 async def in_memory_wallet():
-    profile = InMemoryProfile.test_profile()
+    profile = InMemoryProfile.test_profile(bind={DIDMethods: DIDMethods()})
     wallet = InMemoryWallet(profile)
     yield wallet
 
 
 @pytest.fixture()
 async def wallet():
     key = await IndySdkWallet.generate_wallet_key()
     context = InjectionContext()
     context.injector.bind_instance(IndySdkLedgerPool, IndySdkLedgerPool("name"))
+    context.injector.bind_instance(DIDMethods, DIDMethods())
     with async_mock.patch.object(IndySdkProfile, "_make_finalizer"):
         profile = cast(
             IndySdkProfile,
             await IndySdkProfileManager().provision(
                 context,
                 {
                     "auto_recreate": True,
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_key_pair.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_key_pair.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_key_type.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_key_type.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_routes.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_routes.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,16 +1,17 @@
 import mock as async_mock
+import pytest
 from aiohttp.web import HTTPForbidden
 from async_case import IsolatedAsyncioTestCase
 
 from ...admin.request_context import AdminRequestContext
 from ...core.in_memory import InMemoryProfile
 from ...ledger.base import BaseLedger
 from ...protocols.coordinate_mediation.v1_0.route_manager import RouteManager
-from ...wallet.did_method import SOV, DIDMethods
+from ...wallet.did_method import SOV, DIDMethods, DIDMethod, HolderDefinedDid
 from ...wallet.key_type import ED25519, KeyTypes
 from .. import routes as test_module
 from ..base import BaseWallet
 from ..did_info import DIDInfo
 from ..did_posture import DIDPosture
 
 
@@ -34,15 +35,16 @@
             __getitem__=lambda _, k: self.request_dict[k],
         )
 
         self.test_did = "did"
         self.test_verkey = "verkey"
         self.test_posted_did = "posted-did"
         self.test_posted_verkey = "posted-verkey"
-        self.context.injector.bind_instance(DIDMethods, DIDMethods())
+        self.did_methods = DIDMethods()
+        self.context.injector.bind_instance(DIDMethods, self.did_methods)
 
     async def test_missing_wallet(self):
         self.session_inject[BaseWallet] = None
 
         with self.assertRaises(HTTPForbidden):
             await test_module.wallet_create_did(self.request)
 
@@ -130,14 +132,56 @@
     async def test_create_did_unsupported_key_type(self):
         self.request.json = async_mock.AsyncMock(
             return_value={"method": "sov", "options": {"key_type": "bls12381g2"}}
         )
         with self.assertRaises(test_module.web.HTTPForbidden):
             await test_module.wallet_create_did(self.request)
 
+    async def test_create_did_method_requires_user_defined_did(self):
+        # given
+        did_custom = DIDMethod(
+            name="custom",
+            key_types=[ED25519],
+            rotation=True,
+            holder_defined_did=HolderDefinedDid.REQUIRED,
+        )
+        self.did_methods.register(did_custom)
+
+        self.request.json = async_mock.AsyncMock(
+            return_value={"method": "custom", "options": {"key_type": "ed25519"}}
+        )
+
+        # when - then
+        with self.assertRaises(test_module.web.HTTPBadRequest):
+            await test_module.wallet_create_did(self.request)
+
+    async def test_create_did_method_doesnt_support_user_defined_did(self):
+        did_custom = DIDMethod(
+            name="custom",
+            key_types=[ED25519],
+            rotation=True,
+            holder_defined_did=HolderDefinedDid.NO,
+        )
+        self.did_methods.register(did_custom)
+
+        # when
+        self.request.json = async_mock.AsyncMock(
+            return_value={
+                "method": "custom",
+                "options": {
+                    "key_type": ED25519.key_type,
+                    "did": "did:custom:aCustomUserDefinedDID",
+                },
+            }
+        )
+
+        # then
+        with self.assertRaises(test_module.web.HTTPForbidden):
+            await test_module.wallet_create_did(self.request)
+
     async def test_create_did_x(self):
         self.wallet.create_local_did.side_effect = test_module.WalletError()
         with self.assertRaises(test_module.web.HTTPBadRequest):
             await test_module.wallet_create_did(self.request)
 
     async def test_did_list(self):
         with async_mock.patch.object(
@@ -379,15 +423,15 @@
         ledger = Ledger()
         ledger.get_key_for_did = async_mock.AsyncMock()
         ledger.update_endpoint_for_did = async_mock.AsyncMock()
         ledger.__aenter__ = async_mock.AsyncMock(return_value=ledger)
         self.profile.context.injector.bind_instance(BaseLedger, ledger)
 
         mock_route_manager = async_mock.MagicMock()
-        mock_route_manager.route_public_did = async_mock.AsyncMock()
+        mock_route_manager.route_verkey = async_mock.AsyncMock()
         mock_route_manager.mediation_record_if_id = async_mock.AsyncMock()
         mock_route_manager.__aenter__ = async_mock.AsyncMock(
             return_value=mock_route_manager
         )
         self.profile.context.injector.bind_instance(RouteManager, mock_route_manager)
 
         with async_mock.patch.object(
@@ -416,15 +460,14 @@
             assert result is json_response.return_value
 
     async def test_set_public_did_no_query_did(self):
         with self.assertRaises(test_module.web.HTTPBadRequest):
             await test_module.wallet_set_public_did(self.request)
 
     async def test_set_public_did_no_ledger(self):
-
         mock_route_manager = async_mock.MagicMock()
         mock_route_manager.mediation_record_if_id = async_mock.AsyncMock()
         mock_route_manager.__aenter__ = async_mock.AsyncMock(
             return_value=mock_route_manager
         )
         self.profile.context.injector.bind_instance(RouteManager, mock_route_manager)
         self.request.query = {"did": self.test_did}
@@ -540,15 +583,15 @@
         ledger = Ledger()
         ledger.update_endpoint_for_did = async_mock.AsyncMock()
         ledger.get_key_for_did = async_mock.AsyncMock()
         ledger.__aenter__ = async_mock.AsyncMock(return_value=ledger)
         self.profile.context.injector.bind_instance(BaseLedger, ledger)
 
         mock_route_manager = async_mock.MagicMock()
-        mock_route_manager.route_public_did = async_mock.AsyncMock()
+        mock_route_manager.route_verkey = async_mock.AsyncMock()
         mock_route_manager.mediation_record_if_id = async_mock.AsyncMock()
         mock_route_manager.__aenter__ = async_mock.AsyncMock(
             return_value=mock_route_manager
         )
         self.profile.context.injector.bind_instance(RouteManager, mock_route_manager)
 
         with async_mock.patch.object(
@@ -586,15 +629,15 @@
         ledger = Ledger()
         ledger.update_endpoint_for_did = async_mock.AsyncMock()
         ledger.get_key_for_did = async_mock.AsyncMock()
         ledger.__aenter__ = async_mock.AsyncMock(return_value=ledger)
         self.profile.context.injector.bind_instance(BaseLedger, ledger)
 
         mock_route_manager = async_mock.MagicMock()
-        mock_route_manager.route_public_did = async_mock.AsyncMock()
+        mock_route_manager.route_verkey = async_mock.AsyncMock()
         mock_route_manager.mediation_record_if_id = async_mock.AsyncMock(
             return_value=None
         )
         mock_route_manager.__aenter__ = async_mock.AsyncMock(
             return_value=mock_route_manager
         )
         self.profile.context.injector.bind_instance(RouteManager, mock_route_manager)
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/tests/test_util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/tests/test_util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent/wallet/util.py` & `aries_cloudagent-1.0.0rc2/aries_cloudagent/wallet/util.py`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/PKG-INFO` & `aries_cloudagent-1.0.0rc2/README.md`

 * *Files 9% similar despite different names*

```diff
@@ -1,36 +1,19 @@
-Metadata-Version: 2.1
-Name: aries-cloudagent
-Version: 1.0.0rc1
-Home-page: https://github.com/hyperledger/aries-cloudagent-python
-Classifier: Programming Language :: Python :: 3
-Classifier: License :: OSI Approved :: Apache Software License
-Classifier: Operating System :: OS Independent
-Requires-Python: >=3.6.3
-Description-Content-Type: text/markdown
-Provides-Extra: askar
-Provides-Extra: indy
-Provides-Extra: bbs
-Provides-Extra: uvloop
-License-File: LICENSE
-License-File: NOTICES
-
 # Hyperledger Aries Cloud Agent - Python  <!-- omit in toc -->
 
 [![pypi releases](https://img.shields.io/pypi/v/aries_cloudagent)](https://pypi.org/project/aries-cloudagent/)
-[![CircleCI](https://circleci.com/gh/hyperledger/aries-cloudagent-python.svg?style=shield)](https://circleci.com/gh/hyperledger/aries-cloudagent-python)
 [![codecov](https://codecov.io/gh/hyperledger/aries-cloudagent-python/branch/main/graph/badge.svg)](https://codecov.io/gh/hyperledger/aries-cloudagent-python)
 
 <!-- ![logo](/doc/assets/aries-cloudagent-python-logo-bw.png) -->
 
 > An easy to use Aries agent for building SSI services using any language that supports sending/receiving HTTP requests.
 
 ## Overview
 
-Hyperledger Aries Cloud Agent Python (ACA-Py) is a foundation for building Verifiable Credential (VC) ecosystems. It operates in the second and third layers of the [Trust Over IP framework (PDF)](https://trustoverip.org/wp-content/uploads/sites/98/2020/05/toip_050520_primer.pdf) using [DIDComm messaging](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0005-didcomm) and [Hyperledger Aries](https://www.hyperledger.org/use/aries) protocols. The "cloud" in the name means that ACA-Py runs on servers (cloud, enterprise, IoT devices, and so forth), and is not designed to run on mobile devices.
+Hyperledger Aries Cloud Agent Python (ACA-Py) is a foundation for building Verifiable Credential (VC) ecosystems. It operates in the second and third layers of the [Trust Over IP framework (PDF)](https://trustoverip.org/wp-content/uploads/2020/05/toip_050520_primer.pdf) using [DIDComm messaging](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0005-didcomm) and [Hyperledger Aries](https://www.hyperledger.org/use/aries) protocols. The "cloud" in the name means that ACA-Py runs on servers (cloud, enterprise, IoT devices, and so forth), and is not designed to run on mobile devices.
 
 ACA-Py is built on the Aries concepts and features that make up [Aries Interop Profile (AIP) 1.0](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0302-aries-interop-profile#aries-interop-profile-version-10), and most of the features in [AIP 2.0](https://github.com/hyperledger/aries-rfcs/tree/main/concepts/0302-aries-interop-profile#aries-interop-profile-version-20). [ACA-Py’s supported Aries protocols](https://github.com/hyperledger/aries-cloudagent-python/blob/main/SupportedRFCs.md) include, most importantly, protocols for issuing, verifying, and holding verifiable credentials using both [Hyperledger Indy AnonCreds](https://hyperledger-indy.readthedocs.io/projects/sdk/en/latest/docs/design/002-anoncreds/README.html) verifiable credential format, and the [W3C Standard Verifiable Credential](https://www.w3.org/TR/vc-data-model/) format using JSON-LD with LD-Signatures and BBS+ Signatures.
 
 To use ACA-Py you create a business logic controller that "talks to" ACA-Py (sending HTTP requests and receiving webhook notifications), and ACA-Py handles the Aries and DIDComm functionality. That controller can be built in any language that supports making and receiving HTTP requests; knowledge of Python is not needed. Together, this means you can focus on building VC solutions using familiar web development technologies, instead of having to learn the nuts and bolts of low-level cryptography and Trust over IP-type Aries protocols.
 
 This [checklist-style overview document](./SupportedRFCs.md) provides a full list of the features in ACA-Py.
 The following is a list of some of the core features needed for a production deployment, with a link to detailed information about the capability.
@@ -78,14 +61,16 @@
 
 ### Understanding the Architecture
 
 There is an [architectural deep dive webinar](https://www.youtube.com/watch?v=FXTQEtB4fto&feature=youtu.be) presented by the ACA-Py team, and [slides from the webinar](https://docs.google.com/presentation/d/1K7qiQkVi4n-lpJ3nUZY27OniUEM0c8HAIk4imCWCx5Q/edit#slide=id.g5d43fe05cc_0_77) are also available. The picture below gives a quick overview of the architecture, showing an instance of ACA-Py, a controller and the interfaces between the controller and ACA-Py, and the external paths to other agents and public ledgers on the Internet.
 
 ![drawing](./aca-py_architecture.png)
 
+You can extend Aca-Py using plug-ins, which can be loaded at runtime.  Plug-ins are mentioned in the [webinar](https://docs.google.com/presentation/d/1K7qiQkVi4n-lpJ3nUZY27OniUEM0c8HAIk4imCWCx5Q/edit#slide=id.g5d43fe05cc_0_145) and are [described in more detail here](/docs/GettingStartedAriesDev/PlugIns.md).
+
 ### Installation and Usage
 
 An ["install and go" page for developers](https://github.com/hyperledger/aries-cloudagent-python/blob/main/DevReadMe.md) is available if you are comfortable with Trust over IP and Aries concepts. ACA-Py can be run with Docker without installation (highly recommended), or can be installed [from PyPi](https://pypi.org/project/aries-cloudagent/). In the [/demo directory](/demo) there is a full set of demos for developers to use in getting started, and the [demo read me](/demo/README.md) is a great starting point for developers to use an "in-browser" approach to run a zero-install example. The [Read the Docs](https://aries-cloud-agent-python.readthedocs.io/en/latest/) overview is also a way to reference the modules and APIs that make up an ACA-Py instance.
 
 ## About the ACA-Py Admin API
 
 The [overview of ACA-Py’s API](https://github.com/hyperledger/aries-cloudagent-python/blob/main/AdminAPI.md) is a great starting place for learning about the ACA-Py API when you are starting to build your own controller.
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/SOURCES.txt` & `aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/SOURCES.txt`

 * *Files 0% similar despite different names*

```diff
@@ -36,14 +36,15 @@
 aries_cloudagent/askar/tests/test_store.py
 aries_cloudagent/cache/__init__.py
 aries_cloudagent/cache/base.py
 aries_cloudagent/cache/in_memory.py
 aries_cloudagent/cache/tests/__init__.py
 aries_cloudagent/cache/tests/test_in_memory_cache.py
 aries_cloudagent/commands/__init__.py
+aries_cloudagent/commands/default_version_upgrade_config.yml
 aries_cloudagent/commands/help.py
 aries_cloudagent/commands/provision.py
 aries_cloudagent/commands/start.py
 aries_cloudagent/commands/upgrade.py
 aries_cloudagent/commands/tests/__init__.py
 aries_cloudagent/commands/tests/test_help.py
 aries_cloudagent/commands/tests/test_init.py
@@ -615,14 +616,15 @@
 aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_issue_handler.py
 aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_offer_handler.py
 aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_problem_report_handler.py
 aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_proposal_handler.py
 aries_cloudagent/protocols/issue_credential/v1_0/handlers/tests/test_credential_request_handler.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/__init__.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_ack.py
+aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_exchange_webhook.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_issue.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_offer.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_problem_report.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_proposal.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/credential_request.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/__init__.py
 aries_cloudagent/protocols/issue_credential/v1_0/messages/inner/credential_preview.py
@@ -674,14 +676,15 @@
 aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_issue_handler.py
 aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_offer_handler.py
 aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_problem_report_handler.py
 aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_proposal_handler.py
 aries_cloudagent/protocols/issue_credential/v2_0/handlers/tests/test_cred_request_handler.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/__init__.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_ack.py
+aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_ex_record_webhook.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_format.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_issue.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_offer.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_problem_report.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_proposal.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/cred_request.py
 aries_cloudagent/protocols/issue_credential/v2_0/messages/inner/__init__.py
@@ -787,14 +790,15 @@
 aries_cloudagent/protocols/present_proof/v1_0/handlers/tests/test_presentation_request_handler.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/__init__.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/presentation.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_ack.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_problem_report.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_proposal.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_request.py
+aries_cloudagent/protocols/present_proof/v1_0/messages/presentation_webhook.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/tests/__init__.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_ack.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_problem_report.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_proposal.py
 aries_cloudagent/protocols/present_proof/v1_0/messages/tests/test_presentation_request.py
 aries_cloudagent/protocols/present_proof/v1_0/models/__init__.py
@@ -832,14 +836,15 @@
 aries_cloudagent/protocols/present_proof/v2_0/messages/__init__.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/pres.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/pres_ack.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/pres_format.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/pres_problem_report.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/pres_proposal.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/pres_request.py
+aries_cloudagent/protocols/present_proof/v2_0/messages/pres_webhook.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/tests/__init__.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_ack.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_format.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_problem_report.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_proposal.py
 aries_cloudagent/protocols/present_proof/v2_0/messages/tests/test_pres_request.py
@@ -1038,14 +1043,15 @@
 aries_cloudagent/transport/inbound/receipt.py
 aries_cloudagent/transport/inbound/session.py
 aries_cloudagent/transport/inbound/ws.py
 aries_cloudagent/transport/inbound/tests/__init__.py
 aries_cloudagent/transport/inbound/tests/test_delivery_queue.py
 aries_cloudagent/transport/inbound/tests/test_http_transport.py
 aries_cloudagent/transport/inbound/tests/test_manager.py
+aries_cloudagent/transport/inbound/tests/test_message.py
 aries_cloudagent/transport/inbound/tests/test_session.py
 aries_cloudagent/transport/inbound/tests/test_ws_transport.py
 aries_cloudagent/transport/outbound/__init__.py
 aries_cloudagent/transport/outbound/base.py
 aries_cloudagent/transport/outbound/http.py
 aries_cloudagent/transport/outbound/manager.py
 aries_cloudagent/transport/outbound/message.py
@@ -1196,14 +1202,15 @@
 aries_cloudagent/wallet/__init__.py
 aries_cloudagent/wallet/askar.py
 aries_cloudagent/wallet/base.py
 aries_cloudagent/wallet/bbs.py
 aries_cloudagent/wallet/crypto.py
 aries_cloudagent/wallet/did_info.py
 aries_cloudagent/wallet/did_method.py
+aries_cloudagent/wallet/did_parameters_validation.py
 aries_cloudagent/wallet/did_posture.py
 aries_cloudagent/wallet/error.py
 aries_cloudagent/wallet/in_memory.py
 aries_cloudagent/wallet/indy.py
 aries_cloudagent/wallet/key_pair.py
 aries_cloudagent/wallet/key_type.py
 aries_cloudagent/wallet/routes.py
@@ -1212,14 +1219,15 @@
 aries_cloudagent/wallet/models/wallet_record.py
 aries_cloudagent/wallet/models/tests/__init__.py
 aries_cloudagent/wallet/models/tests/test_wallet_record.py
 aries_cloudagent/wallet/tests/__init__.py
 aries_cloudagent/wallet/tests/test_bbs.py
 aries_cloudagent/wallet/tests/test_crypto.py
 aries_cloudagent/wallet/tests/test_did_method.py
+aries_cloudagent/wallet/tests/test_did_parameters_validation.py
 aries_cloudagent/wallet/tests/test_did_posture.py
 aries_cloudagent/wallet/tests/test_in_memory_wallet.py
 aries_cloudagent/wallet/tests/test_indy_wallet.py
 aries_cloudagent/wallet/tests/test_key_pair.py
 aries_cloudagent/wallet/tests/test_key_type.py
 aries_cloudagent/wallet/tests/test_routes.py
 aries_cloudagent/wallet/tests/test_util.py
```

### Comparing `aries_cloudagent-1.0.0rc1/aries_cloudagent.egg-info/requires.txt` & `aries_cloudagent-1.0.0rc2/aries_cloudagent.egg-info/requires.txt`

 * *Files 20% similar despite different names*

```diff
@@ -20,24 +20,24 @@
 pyyaml~=5.4.0
 ConfigArgParse~=1.5.3
 pyjwt~=2.4.0
 pydid~=0.3.6
 jsonpath_ng==1.5.2
 pytz~=2021.1
 python-dateutil~=2.8.1
-rlp==0.5.1
+rlp==1.2.0
 unflatten~=0.1
 qrcode[pil]~=6.1
 
 [askar]
 aries-askar~=0.2.5
 indy-credx~=0.3
 indy-vdr~=0.3.3
 
 [bbs]
 ursa-bbs-signatures~=1.0.1
 
 [indy]
-python3-indy>=1.11.1<2
+python3-indy<2,>=1.11.1
 
 [uvloop]
 uvloop
```

### Comparing `aries_cloudagent-1.0.0rc1/setup.cfg` & `aries_cloudagent-1.0.0rc2/setup.cfg`

 * *Files identical despite different names*

### Comparing `aries_cloudagent-1.0.0rc1/setup.py` & `aries_cloudagent-1.0.0rc2/setup.py`

 * *Files identical despite different names*


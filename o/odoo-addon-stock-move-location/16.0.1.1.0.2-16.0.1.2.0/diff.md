# Comparing `tmp/odoo_addon_stock_move_location-16.0.1.1.0.2-py3-none-any.whl.zip` & `tmp/odoo_addon_stock_move_location-16.0.1.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,40 +1,40 @@
-Zip file size: 54891 bytes, number of entries: 38
--rw-r--r--  2.0 unx     5488 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/README.rst
--rw-r--r--  2.0 unx       88 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/__init__.py
--rw-r--r--  2.0 unx      901 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/__manifest__.py
--rw-r--r--  2.0 unx      419 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/init_hook.py
--rw-r--r--  2.0 unx      635 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/data/stock_quant_view.xml
--rw-r--r--  2.0 unx    10361 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/de.po
--rw-r--r--  2.0 unx    10492 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/es.po
--rw-r--r--  2.0 unx    11378 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/fr.po
--rw-r--r--  2.0 unx     1362 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/fr_BE.po
--rw-r--r--  2.0 unx     9923 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/fr_FR.po
--rw-r--r--  2.0 unx    11171 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/ja.po
--rw-r--r--  2.0 unx     9919 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/ja_JP.po
--rw-r--r--  2.0 unx     9729 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/i18n/stock_move_location.pot
--rw-r--r--  2.0 unx      181 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/models/__init__.py
--rw-r--r--  2.0 unx      604 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/models/stock_move.py
--rw-r--r--  2.0 unx     1662 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/models/stock_picking.py
--rw-r--r--  2.0 unx      962 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/models/stock_picking_type.py
--rw-r--r--  2.0 unx      471 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      116 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      479 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/readme/ROADMAP.rst
--rw-r--r--  2.0 unx     1654 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/readme/USAGE.rst
--rw-r--r--  2.0 unx      338 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 23-Jan-12 07:17 odoo/addons/stock_move_location/static/description/icon.png
--rw-r--r--  2.0 unx    15999 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/static/description/index.html
--rw-r--r--  2.0 unx       98 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/tests/__init__.py
--rw-r--r--  2.0 unx     4238 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/tests/test_common.py
--rw-r--r--  2.0 unx    10455 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/tests/test_move_location.py
--rw-r--r--  2.0 unx     2838 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/tests/test_stock_fillwithstock.py
--rw-r--r--  2.0 unx      730 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/views/stock_picking.xml
--rw-r--r--  2.0 unx     1483 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/views/stock_picking_type_views.xml
--rw-r--r--  2.0 unx      239 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/wizard/__init__.py
--rw-r--r--  2.0 unx    12770 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/wizard/stock_move_location.py
--rw-r--r--  2.0 unx     7508 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/wizard/stock_move_location.xml
--rw-r--r--  2.0 unx     5247 b- defN 23-Jan-12 07:18 odoo/addons/stock_move_location/wizard/stock_move_location_line.py
--rw-r--r--  2.0 unx     6123 b- defN 23-Jan-12 07:18 odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Jan-12 07:18 odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Jan-12 07:18 odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     4131 b- defN 23-Jan-12 07:18 odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/RECORD
-38 files, 169744 bytes uncompressed, 47915 bytes compressed:  71.8%
+Zip file size: 55493 bytes, number of entries: 38
+-rw-r--r--  2.0 unx     5525 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/README.rst
+-rw-r--r--  2.0 unx       88 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/__init__.py
+-rw-r--r--  2.0 unx      901 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/__manifest__.py
+-rw-r--r--  2.0 unx      419 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/init_hook.py
+-rw-r--r--  2.0 unx      635 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/data/stock_quant_view.xml
+-rw-r--r--  2.0 unx    10361 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/de.po
+-rw-r--r--  2.0 unx    10492 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/es.po
+-rw-r--r--  2.0 unx    11378 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/fr.po
+-rw-r--r--  2.0 unx     1362 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/fr_BE.po
+-rw-r--r--  2.0 unx     9923 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/fr_FR.po
+-rw-r--r--  2.0 unx    11171 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/ja.po
+-rw-r--r--  2.0 unx     9919 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/ja_JP.po
+-rw-r--r--  2.0 unx    10073 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/i18n/stock_move_location.pot
+-rw-r--r--  2.0 unx      181 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/models/__init__.py
+-rw-r--r--  2.0 unx      604 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/models/stock_move.py
+-rw-r--r--  2.0 unx     1662 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/models/stock_picking.py
+-rw-r--r--  2.0 unx      962 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/models/stock_picking_type.py
+-rw-r--r--  2.0 unx      508 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      116 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      479 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/readme/ROADMAP.rst
+-rw-r--r--  2.0 unx     1654 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/readme/USAGE.rst
+-rw-r--r--  2.0 unx      338 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/static/description/icon.png
+-rw-r--r--  2.0 unx    16125 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/static/description/index.html
+-rw-r--r--  2.0 unx       98 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/tests/__init__.py
+-rw-r--r--  2.0 unx     6112 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/tests/test_common.py
+-rw-r--r--  2.0 unx    11407 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/tests/test_move_location.py
+-rw-r--r--  2.0 unx     2838 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/tests/test_stock_fillwithstock.py
+-rw-r--r--  2.0 unx      730 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/views/stock_picking.xml
+-rw-r--r--  2.0 unx     1483 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/views/stock_picking_type_views.xml
+-rw-r--r--  2.0 unx      239 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/wizard/__init__.py
+-rw-r--r--  2.0 unx    13351 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/wizard/stock_move_location.py
+-rw-r--r--  2.0 unx     7878 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/wizard/stock_move_location.xml
+-rw-r--r--  2.0 unx     6322 b- defN 23-Jun-27 20:35 odoo/addons/stock_move_location/wizard/stock_move_location_line.py
+-rw-r--r--  2.0 unx     6158 b- defN 23-Jun-27 20:35 odoo_addon_stock_move_location-16.0.1.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-27 20:35 odoo_addon_stock_move_location-16.0.1.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-27 20:35 odoo_addon_stock_move_location-16.0.1.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4124 b- defN 23-Jun-27 20:35 odoo_addon_stock_move_location-16.0.1.2.0.dist-info/RECORD
+38 files, 175168 bytes uncompressed, 48533 bytes compressed:  72.3%
```

## zipnote {}

```diff
@@ -96,20 +96,20 @@
 
 Filename: odoo/addons/stock_move_location/wizard/stock_move_location.xml
 Comment: 
 
 Filename: odoo/addons/stock_move_location/wizard/stock_move_location_line.py
 Comment: 
 
-Filename: odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/METADATA
+Filename: odoo_addon_stock_move_location-16.0.1.2.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/WHEEL
+Filename: odoo_addon_stock_move_location-16.0.1.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/top_level.txt
+Filename: odoo_addon_stock_move_location-16.0.1.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/RECORD
+Filename: odoo_addon_stock_move_location-16.0.1.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/stock_move_location/README.rst

```diff
@@ -111,14 +111,15 @@
 * Tecnativa <tecnativa.com>
 
   * Sergio Teruel
   * Jo達o Marques
 * Jacques-Etienne Baudoux <je@bcim.be>
 * Iryna Vyshnevska <i.vyshnevska@mobilunity.com>
 * Alexei Rivera <arivera@archeti.com>
+* Abraham Anes <abraham@studio73.es>
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
```

## odoo/addons/stock_move_location/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright (C) 2011 Julius Network Solutions SARL <contact@julius.fr>
 # Copyright 2018 Camptocamp SA
 # Copyright 2020 Tecnativa - Jo達o Marques
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl)
 
 {
     "name": "Move Stock Location",
-    "version": "16.0.1.1.0",
+    "version": "16.0.1.2.0",
     "author": "Julius Network Solutions, "
     "BCIM,"
     "Camptocamp,"
     "Odoo Community Association (OCA)",
     "summary": "This module allows to move all stock "
     "in a stock location to an other one.",
     "website": "https://github.com/OCA/stock-logistics-warehouse",
```

## odoo/addons/stock_move_location/i18n/stock_move_location.pot

```diff
@@ -75,14 +75,19 @@
 
 #. module: stock_move_location
 #: model_terms:ir.ui.view,arch_db:stock_move_location.view_picking_form
 msgid "Fill with stock"
 msgstr ""
 
 #. module: stock_move_location
+#: model:ir.model.fields,field_description:stock_move_location.field_wiz_stock_move_location_line__owner_id
+msgid "From Owner"
+msgstr ""
+
+#. module: stock_move_location
 #: model:ir.model.fields,field_description:stock_move_location.field_wiz_stock_move_location__id
 #: model:ir.model.fields,field_description:stock_move_location.field_wiz_stock_move_location_line__id
 msgid "ID"
 msgstr ""
 
 #. module: stock_move_location
 #: model_terms:ir.ui.view,arch_db:stock_move_location.view_wiz_stock_move_location_form_stock_move_location
@@ -165,14 +170,19 @@
 
 #. module: stock_move_location
 #: model:ir.model.fields,field_description:stock_move_location.field_wiz_stock_move_location__origin_location_disable
 msgid "Origin Location Disable"
 msgstr ""
 
 #. module: stock_move_location
+#: model:ir.model.fields,field_description:stock_move_location.field_wiz_stock_move_location_line__package_id
+msgid "Package Number"
+msgstr ""
+
+#. module: stock_move_location
 #: model:ir.model.fields,field_description:stock_move_location.field_stock_move__location_move
 msgid "Part of move location"
 msgstr ""
 
 #. module: stock_move_location
 #: model:ir.model,name:stock_move_location.model_stock_picking_type
 #: model:ir.model.fields,field_description:stock_move_location.field_wiz_stock_move_location__picking_type_id
```

## odoo/addons/stock_move_location/readme/CONTRIBUTORS.rst

```diff
@@ -7,7 +7,8 @@
 * Tecnativa <tecnativa.com>
 
   * Sergio Teruel
   * Jo達o Marques
 * Jacques-Etienne Baudoux <je@bcim.be>
 * Iryna Vyshnevska <i.vyshnevska@mobilunity.com>
 * Alexei Rivera <arivera@archeti.com>
+* Abraham Anes <abraham@studio73.es>
```

## odoo/addons/stock_move_location/static/description/index.html

### odoo/addons/stock_move_location/static/description/index.html

```diff
@@ -552,14 +552,19 @@
               &gt;
             </li>
             <li>
               Alexei Rivera &lt;
               <a class="reference external" href="mailto:arivera@archeti.com">arivera@archeti.com</a>
               &gt;
             </li>
+            <li>
+              Abraham Anes &lt;
+              <a class="reference external" href="mailto:abraham@studio73.es">abraham@studio73.es</a>
+              &gt;
+            </li>
           </ul>
         </div>
         <div class="section" id="maintainers">
           <h2>
             <a class="toc-backref" href="#id7">Maintainers</a>
           </h2>
           <p>This module is maintained by the OCA.</p>
```

## odoo/addons/stock_move_location/tests/test_common.py

```diff
@@ -11,14 +11,15 @@
         super().setUpClass()
         cls.env = cls.env(context=dict(cls.env.context, tracking_disable=True))
         cls.location_obj = cls.env["stock.location"]
         product_obj = cls.env["product.product"]
         cls.wizard_obj = cls.env["wiz.stock.move.location"]
         cls.quant_obj = cls.env["stock.quant"]
         cls.company = cls.env.ref("base.main_company")
+        cls.partner = cls.env.ref("base.res_partner_category_0")
 
         cls.internal_loc_1 = cls.location_obj.create(
             {
                 "name": "INT_1",
                 "usage": "internal",
                 "active": True,
                 "company_id": cls.company.id,
@@ -44,14 +45,17 @@
         cls.uom_unit = cls.env.ref("uom.product_uom_unit")
         cls.product_no_lots = product_obj.create(
             {"name": "Pineapple", "type": "product", "tracking": "none"}
         )
         cls.product_lots = product_obj.create(
             {"name": "Apple", "type": "product", "tracking": "lot"}
         )
+        cls.product_package = product_obj.create(
+            {"name": "Orange", "type": "product", "tracking": "lot"}
+        )
         cls.lot1 = cls.env["stock.lot"].create(
             {
                 "name": "lot1",
                 "product_id": cls.product_lots.id,
                 "company_id": cls.company.id,
             }
         )
@@ -65,36 +69,91 @@
         cls.lot3 = cls.env["stock.lot"].create(
             {
                 "name": "lot3",
                 "product_id": cls.product_lots.id,
                 "company_id": cls.company.id,
             }
         )
+        cls.product_package = product_obj.create(
+            {"name": "Orange", "type": "product", "tracking": "lot"}
+        )
+        cls.lot4 = cls.env["stock.lot"].create(
+            {
+                "name": "lot4",
+                "product_id": cls.product_package.id,
+                "company_id": cls.company.id,
+            }
+        )
+        cls.lot5 = cls.env["stock.lot"].create(
+            {
+                "name": "lot5",
+                "product_id": cls.product_package.id,
+                "company_id": cls.company.id,
+            }
+        )
+        cls.package = cls.env["stock.quant.package"].create({})
+        cls.package1 = cls.env["stock.quant.package"].create({})
+        cls.package2 = cls.env["stock.quant.package"].create({})
 
     def setup_product_amounts(self):
         self.set_product_amount(self.product_no_lots, self.internal_loc_1, 123)
         self.set_product_amount(
             self.product_lots, self.internal_loc_1, 1.0, lot_id=self.lot1
         )
         self.set_product_amount(
             self.product_lots, self.internal_loc_1, 1.0, lot_id=self.lot2
         )
         self.set_product_amount(
             self.product_lots, self.internal_loc_1, 1.0, lot_id=self.lot3
         )
+        self.set_product_amount(
+            self.product_package,
+            self.internal_loc_1,
+            1.0,
+            lot_id=self.lot4,
+            package_id=self.package,
+        )
+        self.set_product_amount(
+            self.product_package,
+            self.internal_loc_1,
+            1.0,
+            lot_id=self.lot4,
+            package_id=self.package1,
+        )
+        self.set_product_amount(
+            self.product_package,
+            self.internal_loc_1,
+            1.0,
+            lot_id=self.lot5,
+            package_id=self.package2,
+            owner_id=self.partner,
+        )
 
-    def set_product_amount(self, product, location, amount, lot_id=None):
+    def set_product_amount(
+        self, product, location, amount, lot_id=None, package_id=None, owner_id=None
+    ):
         self.env["stock.quant"]._update_available_quantity(
-            product, location, amount, lot_id=lot_id
+            product,
+            location,
+            amount,
+            lot_id=lot_id,
+            package_id=package_id,
+            owner_id=owner_id,
         )
 
-    def check_product_amount(self, product, location, amount, lot_id=None):
+    def check_product_amount(
+        self, product, location, amount, lot_id=None, package_id=None, owner_id=None
+    ):
         self.assertEqual(
             self.env["stock.quant"]._get_available_quantity(
-                product, location, lot_id=lot_id
+                product,
+                location,
+                lot_id=lot_id,
+                package_id=package_id,
+                owner_id=owner_id,
             ),
             amount,
         )
 
     def _create_wizard(self, origin_location, destination_location):
         move_location_wizard = self.env["wiz.stock.move.location"]
         return move_location_wizard.create(
```

## odoo/addons/stock_move_location/tests/test_move_location.py

```diff
@@ -17,18 +17,46 @@
         wizard = self._create_wizard(self.internal_loc_1, self.internal_loc_2)
         wizard.onchange_origin_location()
         wizard.action_move_location()
         self.check_product_amount(self.product_no_lots, self.internal_loc_1, 0)
         self.check_product_amount(self.product_lots, self.internal_loc_1, 0, self.lot1)
         self.check_product_amount(self.product_lots, self.internal_loc_1, 0, self.lot2)
         self.check_product_amount(self.product_lots, self.internal_loc_1, 0, self.lot3)
+        self.check_product_amount(
+            self.product_package, self.internal_loc_1, 0, self.lot4, self.package
+        )
+        self.check_product_amount(
+            self.product_package, self.internal_loc_1, 0, self.lot4, self.package1
+        )
+        self.check_product_amount(
+            self.product_package,
+            self.internal_loc_1,
+            0,
+            self.lot5,
+            self.package2,
+            self.partner,
+        )
         self.check_product_amount(self.product_no_lots, self.internal_loc_2, 123)
         self.check_product_amount(self.product_lots, self.internal_loc_2, 1, self.lot1)
         self.check_product_amount(self.product_lots, self.internal_loc_2, 1, self.lot2)
         self.check_product_amount(self.product_lots, self.internal_loc_2, 1, self.lot3)
+        self.check_product_amount(
+            self.product_package, self.internal_loc_2, 1, self.lot4, self.package
+        )
+        self.check_product_amount(
+            self.product_package, self.internal_loc_2, 1, self.lot4, self.package1
+        )
+        self.check_product_amount(
+            self.product_package,
+            self.internal_loc_2,
+            1,
+            self.lot5,
+            self.package2,
+            self.partner,
+        )
 
     def test_move_location_wizard_amount(self):
         """Can't move more than exists."""
         wizard = self._create_wizard(self.internal_loc_1, self.internal_loc_2)
         wizard.onchange_origin_location()
         with self.assertRaises(ValidationError):
             wizard.stock_move_location_line_ids[0].move_quantity += 1
@@ -50,17 +78,17 @@
         self.check_product_amount(self.product_no_lots, self.internal_loc_2, 123)
         self.check_product_amount(self.product_lots, self.internal_loc_2, 1, self.lot1)
 
     def test_wizard_clear_lines(self):
         """Test lines getting cleared properly."""
         wizard = self._create_wizard(self.internal_loc_1, self.internal_loc_2)
         wizard.onchange_origin_location()
-        self.assertEqual(len(wizard.stock_move_location_line_ids), 4)
+        self.assertEqual(len(wizard.stock_move_location_line_ids), 7)
         wizard._onchange_destination_location_id()
-        self.assertEqual(len(wizard.stock_move_location_line_ids), 4)
+        self.assertEqual(len(wizard.stock_move_location_line_ids), 7)
         dest_location_line = wizard.stock_move_location_line_ids.mapped(
             "destination_location_id"
         )
         self.assertEqual(dest_location_line, wizard.destination_location_id)
         wizard._onchange_origin_location_id()
         self.assertEqual(len(wizard.stock_move_location_line_ids), 0)
 
@@ -92,17 +120,18 @@
         """Test planned transfer."""
         wizard = self._create_wizard(self.internal_loc_1, self.internal_loc_2)
         wizard.onchange_origin_location()
         wizard = wizard.with_context(planned=True)
         wizard.action_move_location()
         picking = wizard.picking_id
         self.assertEqual(picking.state, "assigned")
-        self.assertEqual(len(picking.move_line_ids), 4)
+        self.assertEqual(len(picking.move_line_ids), 7)
         self.assertEqual(
-            sorted(picking.move_line_ids.mapped("reserved_uom_qty")), [1, 1, 1, 123]
+            sorted(picking.move_line_ids.mapped("reserved_uom_qty")),
+            [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 123.0],
         )
 
     def test_quant_transfer(self):
         """Test quants transfer."""
         quants = self.product_lots.stock_quant_ids
         wizard = self.wizard_obj.with_context(
             active_model="stock.quant",
```

## odoo/addons/stock_move_location/wizard/stock_move_location.py

```diff
@@ -98,14 +98,16 @@
                     0,
                     {
                         "product_id": quant.product_id.id,
                         "move_quantity": quant.quantity,
                         "max_quantity": quant.quantity,
                         "origin_location_id": quant.location_id.id,
                         "lot_id": quant.lot_id.id,
+                        "package_id": quant.package_id.id,
+                        "owner_id": quant.owner_id.id,
                         "product_uom_id": quant.product_uom_id.id,
                         "custom": False,
                     },
                 )
                 for quant in quants
             ]
         else:
@@ -124,14 +126,16 @@
                             0,
                             {
                                 "product_id": quant.product_id.id,
                                 "move_quantity": qty,
                                 "max_quantity": qty,
                                 "origin_location_id": quant.location_id.id,
                                 "lot_id": quant.lot_id.id,
+                                "package_id": quant.package_id.id,
+                                "owner_id": quant.owner_id.id,
                                 "product_uom_id": quant.product_uom_id.id,
                                 "custom": False,
                             },
                         )
                     )
         return res
 
@@ -225,14 +229,16 @@
         for line in lines_to_ckeck_reverve:
             move_lines = self.env["stock.move.line"].search(
                 [
                     ("state", "=", "assigned"),
                     ("product_id", "=", line.product_id.id),
                     ("location_id", "=", line.origin_location_id.id),
                     ("lot_id", "=", line.lot_id.id),
+                    ("package_id", "=", line.package_id.id),
+                    ("owner_id", "=", line.owner_id.id),
                     ("qty_done", ">", 0.0),
                 ]
             )
             moves_to_unreserve = move_lines.mapped("move_id")
             # Unreserve in old location
             moves_to_unreserve._do_unreserve()
             moves_to_reassign |= moves_to_unreserve
@@ -251,32 +257,34 @@
             moves_to_reassign._action_assign()
         else:
             picking.action_confirm()
             picking.action_assign()
         self.picking_id = picking
         return self._get_picking_action(picking.id)
 
-    def _get_picking_action(self, pickinig_id):
-        action = self.env.ref("stock.action_picking_tree_all").read()[0]
+    def _get_picking_action(self, picking_id):
+        action = self.env["ir.actions.act_window"]._for_xml_id(
+            "stock.action_picking_tree_all"
+        )
         form_view = self.env.ref("stock.view_picking_form").id
         action.update(
-            {"view_mode": "form", "views": [(form_view, "form")], "res_id": pickinig_id}
+            {"view_mode": "form", "views": [(form_view, "form")], "res_id": picking_id}
         )
         return action
 
     def _get_group_quants(self):
         location_id = self.origin_location_id
         # Using sql as search_group doesn't support aggregation functions
         # leading to overhead in queries to DB
         query = """
-            SELECT product_id, lot_id, SUM(quantity) AS quantity,
+            SELECT product_id, lot_id, package_id, owner_id, SUM(quantity) AS quantity,
                 SUM(reserved_quantity) AS reserved_quantity
             FROM stock_quant
             WHERE location_id = %s
-            GROUP BY product_id, lot_id
+            GROUP BY product_id, lot_id, package_id, owner_id
         """
         self.env.cr.execute(query, (location_id.id,))
         return self.env.cr.dictfetchall()
 
     def _get_stock_move_location_lines_values(self):
         product_obj = self.env["product.product"]
         product_data = []
@@ -294,14 +302,16 @@
                     "move_quantity": group.get("quantity") or 0,
                     "max_quantity": group.get("quantity") or 0,
                     "reserved_quantity": group.get("reserved_quantity"),
                     "origin_location_id": self.origin_location_id.id,
                     "destination_location_id": location_dest_id,
                     # cursor returns None instead of False
                     "lot_id": group.get("lot_id") or False,
+                    "package_id": group.get("package_id") or False,
+                    "owner_id": group.get("owner_id") or False,
                     "product_uom_id": product.uom_id.id,
                     "custom": False,
                 }
             )
         return product_data
 
     @api.onchange("origin_location_id")
```

## odoo/addons/stock_move_location/wizard/stock_move_location.xml

### odoo/addons/stock_move_location/wizard/stock_move_location.xml

```diff
@@ -28,14 +28,16 @@
             <field name="stock_move_location_line_ids" nolabel="1" mode="tree,kanban" colspan="2">
               <tree editable="bottom" decoration-info="move_quantity != max_quantity" decoration-danger="(move_quantity &lt; 0) or (move_quantity &gt; max_quantity)" create="0">
                 <field name="product_id" domain="[('type','=','product')]"/>
                 <field name="product_uom_id" string="UoM" groups="uom.group_uom"/>
                 <field name="origin_location_id" readonly="1" force_save="1"/>
                 <field name="destination_location_id" readonly="1" force_save="1"/>
                 <field name="lot_id" domain="[('product_id', '=', product_id)]" context="{'default_product_id': product_id}" groups="stock.group_production_lot" options="{'no_create': True}"/>
+                <field name="package_id" domain="[('location_id', '=', origin_location_id)]" options="{'no_create': True}"/>
+                <field name="owner_id" options="{'no_create': True}"/>
                 <field name="move_quantity"/>
                 <field name="custom" invisible="1"/>
                 <field name="max_quantity" attrs="{'readonly': [('custom', '!=', True)]}" force_save="1"/>
                 <field name="reserved_quantity" readonly="1" force_save="1"/>
               </tree>
               <kanban class="o_kanban_mobile">
                 <templates>
```

## odoo/addons/stock_move_location/wizard/stock_move_location_line.py

```diff
@@ -28,14 +28,20 @@
         string="Product Unit of Measure", comodel_name="uom.uom"
     )
     lot_id = fields.Many2one(
         string="Lot/Serial Number",
         comodel_name="stock.lot",
         domain="[('product_id','=',product_id)]",
     )
+    package_id = fields.Many2one(
+        string="Package Number",
+        comodel_name="stock.quant.package",
+        domain="[('location_id', '=', origin_location_id)]",
+    )
+    owner_id = fields.Many2one(comodel_name="res.partner", string="From Owner")
     move_quantity = fields.Float(
         string="Quantity to move", digits="Product Unit of Measure"
     )
     max_quantity = fields.Float(
         string="Maximum available quantity", digits="Product Unit of Measure"
     )
     reserved_quantity = fields.Float(digits="Product Unit of Measure")
@@ -64,14 +70,22 @@
             ("location_id", "=", self.origin_location_id.id),
             ("product_id", "=", self.product_id.id),
         ]
         if self.lot_id:
             search_args.append(("lot_id", "=", self.lot_id.id))
         else:
             search_args.append(("lot_id", "=", False))
+        if self.package_id:
+            search_args.append(("package_id", "=", self.package_id.id))
+        else:
+            search_args.append(("package_id", "=", False))
+        if self.owner_id:
+            search_args.append(("owner_id", "=", self.owner_id.id))
+        else:
+            search_args.append(("owner_id", "=", False))
         res = self.env["stock.quant"].read_group(search_args, ["quantity"], [])
         max_quantity = res[0]["quantity"]
         return max_quantity
 
     def create_move_lines(self, picking, move):
         for line in self:
             values = line._get_move_line_values(picking, move)
@@ -87,14 +101,17 @@
             and self.destination_location_id.get_putaway_strategy(self.product_id).id
             or self.destination_location_id.id
         )
         qty_todo, qty_done = self._get_available_quantity()
         return {
             "product_id": self.product_id.id,
             "lot_id": self.lot_id.id,
+            "package_id": self.package_id.id,
+            "result_package_id": self.package_id.id,
+            "owner_id": self.owner_id.id,
             "location_id": self.origin_location_id.id,
             "location_dest_id": location_dest_id,
             "qty_done": qty_done,
             "product_uom_id": self.product_uom_id.id,
             "picking_id": picking.id,
             "move_id": move.id,
         }
@@ -114,14 +131,22 @@
             ("location_id", "=", self.origin_location_id.id),
             ("product_id", "=", self.product_id.id),
         ]
         if self.lot_id:
             search_args.append(("lot_id", "=", self.lot_id.id))
         else:
             search_args.append(("lot_id", "=", False))
+        if self.package_id:
+            search_args.append(("package_id", "=", self.package_id.id))
+        else:
+            search_args.append(("package_id", "=", False))
+        if self.owner_id:
+            search_args.append(("owner_id", "=", self.owner_id.id))
+        else:
+            search_args.append(("owner_id", "=", False))
         res = self.env["stock.quant"].read_group(search_args, ["quantity"], [])
         available_qty = res[0]["quantity"]
         if not available_qty:
             # if it is immediate transfer and product doesn't exist in that
             # location -> make the transfer of 0.
             return 0
         rounding = self.product_uom_id.rounding
```

## Comparing `odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/METADATA` & `odoo_addon_stock_move_location-16.0.1.2.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-stock-move-location
-Version: 16.0.1.1.0.2
+Version: 16.0.1.2.0
 Summary: This module allows to move all stock in a stock location to an other one.
 Home-page: https://github.com/OCA/stock-logistics-warehouse
 Author: Julius Network Solutions, BCIM,Camptocamp,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
@@ -127,14 +127,15 @@
 * Tecnativa <tecnativa.com>
 
   * Sergio Teruel
   * Jo達o Marques
 * Jacques-Etienne Baudoux <je@bcim.be>
 * Iryna Vyshnevska <i.vyshnevska@mobilunity.com>
 * Alexei Rivera <arivera@archeti.com>
+* Abraham Anes <abraham@studio73.es>
 
 Maintainers
 ~~~~~~~~~~~
 
 This module is maintained by the OCA.
 
 .. image:: https://odoo-community.org/logo.png
```

## Comparing `odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/RECORD` & `odoo_addon_stock_move_location-16.0.1.2.0.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,38 +1,38 @@
-odoo/addons/stock_move_location/README.rst,sha256=aUmOPrKoTzOvjnUrEea6rFDaTT56ciAFSt0v_654Yng,5488
+odoo/addons/stock_move_location/README.rst,sha256=kfXqlEkbNc0lE3BMzIJ0O7HEiuzRhObDmm_7o7yz1eE,5525
 odoo/addons/stock_move_location/__init__.py,sha256=a529MU97ndMyMZsToYJmFXUHanvFmTyIZL9lmHsflPM,88
-odoo/addons/stock_move_location/__manifest__.py,sha256=cZWtbcp1hv9V_R-SXe5zGSDnLiUem9K6tqGY4oK4dXY,901
+odoo/addons/stock_move_location/__manifest__.py,sha256=oTXRE7Ri6gWmuR_7HdbMaCbedVvY7RgCUgrKnk7_3fM,901
 odoo/addons/stock_move_location/init_hook.py,sha256=iIIjLsKG3z1Esn7A_tiIQZ9jXPvVs6EIhtNICdv-FQA,419
 odoo/addons/stock_move_location/data/stock_quant_view.xml,sha256=g7KS13Q9jEIZTKiNHjWrFcggfYyfK2ZW2VONnCLSZaI,635
 odoo/addons/stock_move_location/i18n/de.po,sha256=ImchkGqgChnNth1THrzGmkEmUbpCw3c6NZWuStaIBlA,10361
 odoo/addons/stock_move_location/i18n/es.po,sha256=U5sqZT3WciOmrjUxQiSMbQxZaJwilVjylkGepndcHK4,10492
 odoo/addons/stock_move_location/i18n/fr.po,sha256=UYYdhERiTLv91OJxH5xpXrYlKmiULqaJVoWQWDzl_E4,11378
 odoo/addons/stock_move_location/i18n/fr_BE.po,sha256=R0F3GuGlPSAAJQQKGlKDa6i-R9m8FcRjy0X2QEXTdbI,1362
 odoo/addons/stock_move_location/i18n/fr_FR.po,sha256=tncirAtHSmnD9ZHg_xPOXWE6Y2jzON65qprA8lxMh04,9923
 odoo/addons/stock_move_location/i18n/ja.po,sha256=HsInzCa-LpK9TJB-BvxkxKEWEBWFu7lfUAnQZCLLOiI,11171
 odoo/addons/stock_move_location/i18n/ja_JP.po,sha256=BEkkKCP0juJkp1o_sTL7CSdJfTM-Mgl-OpZdaxDkCj8,9919
-odoo/addons/stock_move_location/i18n/stock_move_location.pot,sha256=hoSzYlNo3dhg6YHu8a3Nvu3SFmmF6y_RQhyWVZFh2YA,9729
+odoo/addons/stock_move_location/i18n/stock_move_location.pot,sha256=l-tLeYUry-gbmhiQUaPCN38M8MeWzKoqNGnvaXhQ-P8,10073
 odoo/addons/stock_move_location/models/__init__.py,sha256=UrroaZ7L0mQgueiSi7qJ-maQp61uMedod-xbfhGNBMI,181
 odoo/addons/stock_move_location/models/stock_move.py,sha256=UxsvfgwL_bfAEDrMdu_HGLlabPyZCjnf4MfeFzNPPI0,604
 odoo/addons/stock_move_location/models/stock_picking.py,sha256=zaUHgEKdL9SjbkhiMwbkptKc3JzqXjeA-djbMjJ2KWc,1662
 odoo/addons/stock_move_location/models/stock_picking_type.py,sha256=9czGhJxYbgoB9umbf3Vw2TuyGWDC_cBXhaDq_cSN0t0,962
-odoo/addons/stock_move_location/readme/CONTRIBUTORS.rst,sha256=DkMi1PzIpvNTIFbpzmDyHkjGorlMNQZADfIB95dA3AA,471
+odoo/addons/stock_move_location/readme/CONTRIBUTORS.rst,sha256=-Is-GXMaT1EwgSnYjV9xYXCcF7kreIOigDLilj-HZzY,508
 odoo/addons/stock_move_location/readme/DESCRIPTION.rst,sha256=cVmKIDWpKU3Ep66adAVRrNkMQB-yeJ-8QTRayNHTX1M,116
 odoo/addons/stock_move_location/readme/ROADMAP.rst,sha256=3ISYpvtqVfZFuaIw26oMSrirMA7OV1joIlOrPAjEfbY,479
 odoo/addons/stock_move_location/readme/USAGE.rst,sha256=pgj-r1O-Mq7GYKmCYem9IuKzKXPVntO5j1LUlbB37Hc,1654
 odoo/addons/stock_move_location/security/ir.model.access.csv,sha256=sLpkI9b3t8YdWBbYPjzlQrCbmv-_C0bUwzd10cMF14M,338
 odoo/addons/stock_move_location/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/stock_move_location/static/description/index.html,sha256=AKIm6uSZdJZU1R9JcdRyvUVOqx5iNrRE_qNtyGrBkoE,15999
+odoo/addons/stock_move_location/static/description/index.html,sha256=ME4ElDLb3eLO8uM3_oYQC4FhcZ26hgptnKrvL88LYwY,16125
 odoo/addons/stock_move_location/tests/__init__.py,sha256=gDGhCnhTYQONkRkGhPtOhgWTJ8sj6zs-sl2YRRvqGvQ,98
-odoo/addons/stock_move_location/tests/test_common.py,sha256=U0ucy9PjB783wCd98pw59jZwicXPN-qw5AqGdBOVbnU,4238
-odoo/addons/stock_move_location/tests/test_move_location.py,sha256=KDPp_AokJOcylyDW4khpXrKJXAwrWvUee3byWWewKz4,10455
+odoo/addons/stock_move_location/tests/test_common.py,sha256=YiCuKwGt6Tt5vli0Iiwgv3gmGb2xU0irK87K1hCimQQ,6112
+odoo/addons/stock_move_location/tests/test_move_location.py,sha256=4tR27h50WqiUQB6ptuu_IUKevEezXRSF677TskMyF58,11407
 odoo/addons/stock_move_location/tests/test_stock_fillwithstock.py,sha256=BvMF_7nubCdd_o337qjQxJMdZ3WzGd8--DyDkkv6c-g,2838
 odoo/addons/stock_move_location/views/stock_picking.xml,sha256=isH25PIq7A2rfCUzk9_HFYA8WIoGm5HNDu-N3CJazRQ,730
 odoo/addons/stock_move_location/views/stock_picking_type_views.xml,sha256=V8_fzqt7ga3O8U81JNbb8NOuT0JHsXwC2bG1jqJvmAk,1483
 odoo/addons/stock_move_location/wizard/__init__.py,sha256=0YXi68VJIkwZDO1-ZFirM2ANY3Mi7PEPdYW0Gg46lmY,239
-odoo/addons/stock_move_location/wizard/stock_move_location.py,sha256=XYddbCnamVPtR2GKnwN4Om2tn15q6_hG6wkVzdwa6Bs,12770
-odoo/addons/stock_move_location/wizard/stock_move_location.xml,sha256=8cvI3JByOaA6zBn6joSJ-3q0562cR8kRUAPC8fACD78,7508
-odoo/addons/stock_move_location/wizard/stock_move_location_line.py,sha256=pMd1HWikp3Tbc66Fd-4QwyYTkeJA45ZK-YhHQUnECGU,5247
-odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/METADATA,sha256=C8SeR4GJl7r9RGftTUuU1e7zrqhX1wxbe3rQLOZotss,6123
-odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_stock_move_location-16.0.1.1.0.2.dist-info/RECORD,,
+odoo/addons/stock_move_location/wizard/stock_move_location.py,sha256=pv3OAcJrugj0mYlAgr6wFsSOWpBClnSLbBv_xFP-9QA,13351
+odoo/addons/stock_move_location/wizard/stock_move_location.xml,sha256=6DjFtlJJuJM31rrPjpu1hGrRdrj2iHGvDbRnUozRiSg,7878
+odoo/addons/stock_move_location/wizard/stock_move_location_line.py,sha256=X756gw7-d479UmJvvDemKlgnXPpjuE3igDv5IRa0ucs,6322
+odoo_addon_stock_move_location-16.0.1.2.0.dist-info/METADATA,sha256=qH1Eeqj619iTaYOseJve8vnu67d_0U569oms5XhXlgA,6158
+odoo_addon_stock_move_location-16.0.1.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo_addon_stock_move_location-16.0.1.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_stock_move_location-16.0.1.2.0.dist-info/RECORD,,
```

